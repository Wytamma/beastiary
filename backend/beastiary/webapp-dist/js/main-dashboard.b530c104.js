(window.webpackJsonp=window.webpackJsonp||[]).push([["main-dashboard"],{"15cd":function(Ee,ze,Be){!function webpackUniversalModuleDefinition(ze,Be){Ee.exports=Be()}("undefined"!=typeof self&&self,(function(){return function(Ee){var ze={};function __webpack_require__(Be){if(ze[Be])return ze[Be].exports;var Ue=ze[Be]={i:Be,l:!1,exports:{}};return Ee[Be].call(Ue.exports,Ue,Ue.exports,__webpack_require__),Ue.l=!0,Ue.exports}return __webpack_require__.m=Ee,__webpack_require__.c=ze,__webpack_require__.d=function(Ee,ze,Be){__webpack_require__.o(Ee,ze)||Object.defineProperty(Ee,ze,{enumerable:!0,get:Be})},__webpack_require__.r=function(Ee){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ee,"__esModule",{value:!0})},__webpack_require__.t=function(Ee,ze){if(1&ze&&(Ee=__webpack_require__(Ee)),8&ze)return Ee;if(4&ze&&"object"==typeof Ee&&Ee&&Ee.__esModule)return Ee;var Be=Object.create(null);if(__webpack_require__.r(Be),Object.defineProperty(Be,"default",{enumerable:!0,value:Ee}),2&ze&&"string"!=typeof Ee)for(var Ue in Ee)__webpack_require__.d(Be,Ue,function(ze){return Ee[ze]}.bind(null,Ue));return Be},__webpack_require__.n=function(Ee){var ze=Ee&&Ee.__esModule?function getDefault(){return Ee.default}:function getModuleExports(){return Ee};return __webpack_require__.d(ze,"a",ze),ze},__webpack_require__.o=function(Ee,ze){return Object.prototype.hasOwnProperty.call(Ee,ze)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="fae3")}({0:function(Ee,ze){},"0000":function(Ee,ze,Be){"use strict";Ee.exports=function incrementalConvexHull(Ee,ze){var Be=Ee.length;if(0===Be)throw new Error("Must have at least d+1 points");var We=Ee[0].length;if(Be<=We)throw new Error("Must input at least d+1 points");var $e=Ee.slice(0,We+1),Qe=Ue.apply(void 0,$e);if(0===Qe)throw new Error("Input not in general position");for(var et=new Array(We+1),tt=0;tt<=We;++tt)et[tt]=tt;Qe<0&&(et[0]=1,et[1]=0);var rt=new Simplex(et,new Array(We+1),!1),nt=rt.adjacent,at=new Array(We+2);for(tt=0;tt<=We;++tt){for(var it=et.slice(),ct=0;ct<=We;++ct)ct===tt&&(it[ct]=-1);var ft=it[0];it[0]=it[1],it[1]=ft;var xt=new Simplex(it,new Array(We+1),!0);nt[tt]=xt,at[tt]=xt}at[We+1]=rt;for(tt=0;tt<=We;++tt){it=nt[tt].vertices;var kt=nt[tt].adjacent;for(ct=0;ct<=We;++ct){var Lt=it[ct];if(Lt<0)kt[ct]=rt;else for(var Ut=0;Ut<=We;++Ut)nt[Ut].vertices.indexOf(Lt)<0&&(kt[ct]=nt[Ut])}}var er=new Triangulation(We,$e,at),tr=!!ze;for(tt=We+1;tt<Be;++tt)er.insert(Ee[tt],tr);return er.boundary()};var Ue=Be("92ba"),We=Be("24ad").compareCells;function Simplex(Ee,ze,Be){this.vertices=Ee,this.adjacent=ze,this.boundary=Be,this.lastVisited=-1}function GlueFacet(Ee,ze,Be){this.vertices=Ee,this.cell=ze,this.index=Be}function compareGlue(Ee,ze){return We(Ee.vertices,ze.vertices)}Simplex.prototype.flip=function(){var Ee=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=Ee;var ze=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=ze};var $e=[];function Triangulation(Ee,ze,Be){this.dimension=Ee,this.vertices=ze,this.simplices=Be,this.interior=Be.filter((function(Ee){return!Ee.boundary})),this.tuple=new Array(Ee+1);for(var We=0;We<=Ee;++We)this.tuple[We]=this.vertices[We];var Qe=$e[Ee];Qe||(Qe=$e[Ee]=function bakeOrient(Ee){for(var ze=["function orient(){var tuple=this.tuple;return test("],Be=0;Be<=Ee;++Be)Be>0&&ze.push(","),ze.push("tuple[",Be,"]");ze.push(")}return orient");var We=new Function("test",ze.join("")),$e=Ue[Ee+1];return $e||($e=Ue),We($e)}(Ee)),this.orient=Qe}var Qe=Triangulation.prototype;Qe.handleBoundaryDegeneracy=function(Ee,ze){var Be=this.dimension,Ue=this.vertices.length-1,We=this.tuple,$e=this.vertices,Qe=[Ee];for(Ee.lastVisited=-Ue;Qe.length>0;){(Ee=Qe.pop()).vertices;for(var et=Ee.adjacent,tt=0;tt<=Be;++tt){var rt=et[tt];if(rt.boundary&&!(rt.lastVisited<=-Ue)){for(var nt=rt.vertices,at=0;at<=Be;++at){var it=nt[at];We[at]=it<0?ze:$e[it]}var ct=this.orient();if(ct>0)return rt;rt.lastVisited=-Ue,0===ct&&Qe.push(rt)}}}return null},Qe.walk=function(Ee,ze){var Be=this.vertices.length-1,Ue=this.dimension,We=this.vertices,$e=this.tuple,Qe=ze?this.interior.length*Math.random()|0:this.interior.length-1,et=this.interior[Qe];e:for(;!et.boundary;){for(var tt=et.vertices,rt=et.adjacent,nt=0;nt<=Ue;++nt)$e[nt]=We[tt[nt]];et.lastVisited=Be;for(nt=0;nt<=Ue;++nt){var at=rt[nt];if(!(at.lastVisited>=Be)){var it=$e[nt];$e[nt]=Ee;var ct=this.orient();if($e[nt]=it,ct<0){et=at;continue e}at.boundary?at.lastVisited=-Be:at.lastVisited=Be}}return}return et},Qe.addPeaks=function(Ee,ze){var Be=this.vertices.length-1,Ue=this.dimension,We=this.vertices,$e=this.tuple,Qe=this.interior,et=this.simplices,tt=[ze];ze.lastVisited=Be,ze.vertices[ze.vertices.indexOf(-1)]=Be,ze.boundary=!1,Qe.push(ze);for(var rt=[];tt.length>0;){var nt=(ze=tt.pop()).vertices,at=ze.adjacent,it=nt.indexOf(Be);if(!(it<0))for(var ct=0;ct<=Ue;++ct)if(ct!==it){var ft=at[ct];if(ft.boundary&&!(ft.lastVisited>=Be)){var xt=ft.vertices;if(ft.lastVisited!==-Be){for(var kt=0,Lt=0;Lt<=Ue;++Lt)xt[Lt]<0?(kt=Lt,$e[Lt]=Ee):$e[Lt]=We[xt[Lt]];if(this.orient()>0){xt[kt]=Be,ft.boundary=!1,Qe.push(ft),tt.push(ft),ft.lastVisited=Be;continue}ft.lastVisited=-Be}var Ut=ft.adjacent,er=nt.slice(),tr=at.slice(),rr=new Simplex(er,tr,!0);et.push(rr);var ar=Ut.indexOf(ze);if(!(ar<0)){Ut[ar]=rr,tr[it]=ft,er[ct]=-1,tr[ct]=ze,at[ct]=rr,rr.flip();for(Lt=0;Lt<=Ue;++Lt){var Lr=er[Lt];if(!(Lr<0||Lr===Be)){for(var Qr=new Array(Ue-1),on=0,sn=0;sn<=Ue;++sn){var ln=er[sn];ln<0||sn===Lt||(Qr[on++]=ln)}rt.push(new GlueFacet(Qr,rr,Lt))}}}}}}rt.sort(compareGlue);for(ct=0;ct+1<rt.length;ct+=2){var cn=rt[ct],un=rt[ct+1],hn=cn.index,dn=un.index;hn<0||dn<0||(cn.cell.adjacent[cn.index]=un.cell,un.cell.adjacent[un.index]=cn.cell)}},Qe.insert=function(Ee,ze){var Be=this.vertices;Be.push(Ee);var Ue=this.walk(Ee,ze);if(Ue){for(var We=this.dimension,$e=this.tuple,Qe=0;Qe<=We;++Qe){var et=Ue.vertices[Qe];$e[Qe]=et<0?Ee:Be[et]}var tt=this.orient($e);tt<0||(0!==tt||(Ue=this.handleBoundaryDegeneracy(Ue,Ee)))&&this.addPeaks(Ee,Ue)}},Qe.boundary=function(){for(var Ee=this.dimension,ze=[],Be=this.simplices,Ue=Be.length,We=0;We<Ue;++We){var $e=Be[We];if($e.boundary){for(var Qe=new Array(Ee),et=$e.vertices,tt=0,rt=0,nt=0;nt<=Ee;++nt)et[nt]>=0?Qe[tt++]=et[nt]:rt=1&nt;if(rt===(1&Ee)){var at=Qe[0];Qe[0]=Qe[1],Qe[1]=at}ze.push(Qe)}}return ze}},"0004":function(Ee,ze,Be){var Ue=Be("8586");Ee.exports=function tokenizeString(Ee,ze){var Be=Ue(ze),We=[];return We=(We=We.concat(Be(Ee))).concat(Be(null))}},"0005":function(Ee,ze,Be){"use strict";Ee.exports=function orientation(Ee){for(var ze=1,Be=1;Be<Ee.length;++Be)for(var Ue=0;Ue<Be;++Ue)if(Ee[Be]<Ee[Ue])ze=-ze;else if(Ee[Ue]===Ee[Be])return 0;return ze}},"000c":function(Ee,ze,Be){"use strict";Ee.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(Ee){return Ee.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(Ee){return Ee.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(Ee){var ze=Ee.slice(0,3);return ze[1]=ze[1]+"%",ze[2]=ze[2]+"%",ze},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(Ee){var ze=Ee.slice(0,4);return ze[1]=ze[1]+"%",ze[2]=ze[2]+"%",ze},suffix:["°","%","%",""]}}}},"000f":function(Ee,ze,Be){"use strict";Ee.exports=function createLinePlot(Ee){var ze=Ee.gl||Ee.scene&&Ee.scene.gl,Be=nt(ze);Be.attributes.position.location=0,Be.attributes.nextPosition.location=1,Be.attributes.arcLength.location=2,Be.attributes.lineWidth.location=3,Be.attributes.color.location=4;var Qe=at(ze);Qe.attributes.position.location=0,Qe.attributes.nextPosition.location=1,Qe.attributes.arcLength.location=2,Qe.attributes.lineWidth.location=3,Qe.attributes.color.location=4;for(var et=Ue(ze),rt=We(ze,[{buffer:et,size:3,offset:0,stride:48},{buffer:et,size:3,offset:12,stride:48},{buffer:et,size:1,offset:24,stride:48},{buffer:et,size:1,offset:28,stride:48},{buffer:et,size:4,offset:32,stride:48}]),it=tt(new Array(1024),[256,1,4]),ct=0;ct<1024;++ct)it.data[ct]=255;var ft=$e(ze,it);ft.wrap=ze.REPEAT;var xt=new LinePlot(ze,Be,Qe,et,rt,ft);return xt.update(Ee),xt};var Ue=Be("efce"),We=Be("b205"),$e=Be("1d5b"),Qe=Be("9a82"),et=Be("cc77"),tt=Be("b5bb"),rt=Be("fd01"),nt=rt.createShader,at=rt.createPickShader,it=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function distance(Ee,ze){for(var Be=0,Ue=0;Ue<3;++Ue){var We=Ee[Ue]-ze[Ue];Be+=We*We}return Math.sqrt(Be)}function filterClipBounds(Ee){for(var ze=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Be=0;Be<3;++Be)ze[0][Be]=Math.max(Ee[0][Be],ze[0][Be]),ze[1][Be]=Math.min(Ee[1][Be],ze[1][Be]);return ze}function PickResult(Ee,ze,Be,Ue){this.arcLength=Ee,this.position=ze,this.index=Be,this.dataCoordinate=Ue}function LinePlot(Ee,ze,Be,Ue,We,$e){this.gl=Ee,this.shader=ze,this.pickShader=Be,this.buffer=Ue,this.vao=We,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=$e,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var ct=LinePlot.prototype;ct.isTransparent=function(){return this.hasAlpha},ct.isOpaque=function(){return!this.hasAlpha},ct.pickSlots=1,ct.setPickBase=function(Ee){this.pickId=Ee},ct.drawTransparent=ct.draw=function(Ee){if(this.vertexCount){var ze=this.gl,Be=this.shader,Ue=this.vao;Be.bind(),Be.uniforms={model:Ee.model||it,view:Ee.view||it,projection:Ee.projection||it,clipBounds:filterClipBounds(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[ze.drawingBufferWidth,ze.drawingBufferHeight],pixelRatio:this.pixelRatio},Ue.bind(),Ue.draw(ze.TRIANGLE_STRIP,this.vertexCount),Ue.unbind()}},ct.drawPick=function(Ee){if(this.vertexCount){var ze=this.gl,Be=this.pickShader,Ue=this.vao;Be.bind(),Be.uniforms={model:Ee.model||it,view:Ee.view||it,projection:Ee.projection||it,pickId:this.pickId,clipBounds:filterClipBounds(this.clipBounds),screenShape:[ze.drawingBufferWidth,ze.drawingBufferHeight],pixelRatio:this.pixelRatio},Ue.bind(),Ue.draw(ze.TRIANGLE_STRIP,this.vertexCount),Ue.unbind()}},ct.update=function(Ee){var ze,Be;this.dirty=!0;var Ue=!!Ee.connectGaps;"dashScale"in Ee&&(this.dashScale=Ee.dashScale),this.hasAlpha=!1,"opacity"in Ee&&(this.opacity=+Ee.opacity,this.opacity<1&&(this.hasAlpha=!0));var We=[],$e=[],Qe=[],rt=0,nt=0,at=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],it=Ee.position||Ee.positions;if(it){var ct=Ee.color||Ee.colors||[0,0,0,1],ft=Ee.lineWidth||1,xt=!1;e:for(ze=1;ze<it.length;++ze){var kt,Lt,Ut,er=it[ze-1],tr=it[ze];for($e.push(rt),Qe.push(er.slice()),Be=0;Be<3;++Be){if(isNaN(er[Be])||isNaN(tr[Be])||!isFinite(er[Be])||!isFinite(tr[Be])){if(!Ue&&We.length>0){for(var rr=0;rr<24;++rr)We.push(We[We.length-12]);nt+=2,xt=!0}continue e}at[0][Be]=Math.min(at[0][Be],er[Be],tr[Be]),at[1][Be]=Math.max(at[1][Be],er[Be],tr[Be])}Array.isArray(ct[0])?(kt=ct.length>ze-1?ct[ze-1]:ct.length>0?ct[ct.length-1]:[0,0,0,1],Lt=ct.length>ze?ct[ze]:ct.length>0?ct[ct.length-1]:[0,0,0,1]):kt=Lt=ct,3===kt.length&&(kt=[kt[0],kt[1],kt[2],1]),3===Lt.length&&(Lt=[Lt[0],Lt[1],Lt[2],1]),!this.hasAlpha&&kt[3]<1&&(this.hasAlpha=!0),Ut=Array.isArray(ft)?ft.length>ze-1?ft[ze-1]:ft.length>0?ft[ft.length-1]:[0,0,0,1]:ft;var ar=rt;if(rt+=distance(er,tr),xt){for(Be=0;Be<2;++Be)We.push(er[0],er[1],er[2],tr[0],tr[1],tr[2],ar,Ut,kt[0],kt[1],kt[2],kt[3]);nt+=2,xt=!1}We.push(er[0],er[1],er[2],tr[0],tr[1],tr[2],ar,Ut,kt[0],kt[1],kt[2],kt[3],er[0],er[1],er[2],tr[0],tr[1],tr[2],ar,-Ut,kt[0],kt[1],kt[2],kt[3],tr[0],tr[1],tr[2],er[0],er[1],er[2],rt,-Ut,Lt[0],Lt[1],Lt[2],Lt[3],tr[0],tr[1],tr[2],er[0],er[1],er[2],rt,Ut,Lt[0],Lt[1],Lt[2],Lt[3]),nt+=4}}if(this.buffer.update(We),$e.push(rt),Qe.push(it[it.length-1].slice()),this.bounds=at,this.vertexCount=nt,this.points=Qe,this.arcLength=$e,"dashes"in Ee){var Lr=Ee.dashes.slice();for(Lr.unshift(0),ze=1;ze<Lr.length;++ze)Lr[ze]=Lr[ze-1]+Lr[ze];var Qr=tt(new Array(1024),[256,1,4]);for(ze=0;ze<256;++ze){for(Be=0;Be<4;++Be)Qr.set(ze,0,Be,0);1&et.le(Lr,Lr[Lr.length-1]*ze/255)?Qr.set(ze,0,0,0):Qr.set(ze,0,0,255)}this.texture.setPixels(Qr)}},ct.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},ct.pick=function(Ee){if(!Ee)return null;if(Ee.id!==this.pickId)return null;var ze=Qe(Ee.value[0],Ee.value[1],Ee.value[2],0),Be=et.le(this.arcLength,ze);if(Be<0)return null;if(Be===this.arcLength.length-1)return new PickResult(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),Be);for(var Ue=this.points[Be],We=this.points[Math.min(Be+1,this.points.length-1)],$e=(ze-this.arcLength[Be])/(this.arcLength[Be+1]-this.arcLength[Be]),tt=1-$e,rt=[0,0,0],nt=0;nt<3;++nt)rt[nt]=tt*Ue[nt]+$e*We[nt];var at=Math.min($e<.5?Be:Be+1,this.points.length-1);return new PickResult(ze,rt,at,this.points[at])}},"0054":function(Ee,ze,Be){"use strict";var Ue=Be("3aa8");Ee.exports=function calc(Ee,ze){ze.surfacecolor?Ue(Ee,ze,{vals:ze.surfacecolor,containerStr:"",cLetter:"c"}):Ue(Ee,ze,{vals:ze.z,containerStr:"",cLetter:"c"})}},"0082":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=[];Ee.exports=function(Ee,ze){if(-1===$e.indexOf(Ee)){$e.push(Ee);var Be=1e3;We(ze)?Be=ze:"long"===ze&&(Be=3e3);var Qe=Ue.select("body").selectAll(".plotly-notifier").data([0]);Qe.enter().append("div").classed("plotly-notifier",!0),Qe.selectAll(".notifier-note").data($e).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(Ee){var We=Ue.select(this);We.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){We.transition().call(killNote)}));for(var $e=We.append("p"),Qe=Ee.split(/<br\s*\/?>/g),et=0;et<Qe.length;et++)et&&$e.append("br"),$e.append("span").text(Qe[et]);"stick"===ze?We.transition().duration(350).style("opacity",1):We.transition().duration(700).style("opacity",1).transition().delay(Be).call(killNote)}))}function killNote(Ee){Ee.duration(700).style("opacity",0).each("end",(function(Ee){var ze=$e.indexOf(Ee);-1!==ze&&$e.splice(ze,1),Ue.select(this).remove()}))}}},"00bd":function(Ee,ze,Be){"use strict";var Ue={tonextx:1,tonexty:1,tonext:1};Ee.exports=function linkTraces(Ee,ze,Be){var We,$e,Qe,et,tt,rt={},nt=!1,at=-1,it=0,ct=-1;for($e=0;$e<Be.length;$e++)(Qe=(We=Be[$e][0].trace).stackgroup||"")?Qe in rt?tt=rt[Qe]:(tt=rt[Qe]=it,it++):We.fill in Ue&&ct>=0?tt=ct:(tt=ct=it,it++),tt<at&&(nt=!0),We._groupIndex=at=tt;var ft=Be.slice();nt&&ft.sort((function(Ee,ze){var Be=Ee[0].trace,Ue=ze[0].trace;return Be._groupIndex-Ue._groupIndex||Be.index-Ue.index}));var xt={};for($e=0;$e<ft.length;$e++)Qe=(We=ft[$e][0].trace).stackgroup||"",!0===We.visible?(We._nexttrace=null,We.fill in Ue&&(et=xt[Qe],We._prevtrace=et||null,et&&(et._nexttrace=We)),We._ownfill=We.fill&&("tozero"===We.fill.substr(0,6)||"toself"===We.fill||"to"===We.fill.substr(0,2)&&!We._prevtrace),xt[Qe]=We):We._prevtrace=We._nexttrace=We._ownfill=null;return ft}},"00fe":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"ohlc",basePlotModule:Be("91cd"),categories:["cartesian","svg","showLegend"],meta:{},attributes:Be("6657"),supplyDefaults:Be("9143"),calc:Be("bb14").calc,plot:Be("a56d"),style:Be("b0f1"),hoverPoints:Be("d945").hoverPoints,selectPoints:Be("ab9c")}},"0103":function(Ee,ze,Be){"use strict";var Ue=Be("7f20"),We=Be("53a5"),$e=Be("7831");Ee.exports=function normalize(Ee,ze){"float"!==ze&&ze||(ze="array"),"uint"===ze&&(ze="uint8"),"uint_clamped"===ze&&(ze="uint8_clamped");var Be=new($e(ze))(4),normalize="uint8"!==ze&&"uint8_clamped"!==ze;return Ee.length&&"string"!=typeof Ee||((Ee=Ue(Ee))[0]/=255,Ee[1]/=255,Ee[2]/=255),function isInt(Ee){return Ee instanceof Uint8Array||Ee instanceof Uint8ClampedArray||!!(Array.isArray(Ee)&&(Ee[0]>1||0===Ee[0])&&(Ee[1]>1||0===Ee[1])&&(Ee[2]>1||0===Ee[2])&&(!Ee[3]||Ee[3]>1))}(Ee)?(Be[0]=Ee[0],Be[1]=Ee[1],Be[2]=Ee[2],Be[3]=null!=Ee[3]?Ee[3]:255,normalize&&(Be[0]/=255,Be[1]/=255,Be[2]/=255,Be[3]/=255),Be):(normalize?(Be[0]=Ee[0],Be[1]=Ee[1],Be[2]=Ee[2],Be[3]=null!=Ee[3]?Ee[3]:1):(Be[0]=We(Math.floor(255*Ee[0]),0,255),Be[1]=We(Math.floor(255*Ee[1]),0,255),Be[2]=We(Math.floor(255*Ee[2]),0,255),Be[3]=null==Ee[3]?255:We(Math.floor(255*Ee[3]),0,255)),Be)}},"0119":function(Ee,ze,Be){"use strict";Ee.exports=function wrapper(Ee,ze){ze<=128?insertionSort(0,ze-1,Ee):function quickSort(Ee,ze,Be){var Ue=(ze-Ee+1)/6|0,We=Ee+Ue,$e=ze-Ue,Qe=Ee+ze>>1,et=Qe-Ue,tt=Qe+Ue,rt=We,nt=et,at=Qe,it=tt,ct=$e,ft=Ee+1,xt=ze-1,kt=0;compare(rt,nt,Be)&&(kt=rt,rt=nt,nt=kt);compare(it,ct,Be)&&(kt=it,it=ct,ct=kt);compare(rt,at,Be)&&(kt=rt,rt=at,at=kt);compare(nt,at,Be)&&(kt=nt,nt=at,at=kt);compare(rt,it,Be)&&(kt=rt,rt=it,it=kt);compare(at,it,Be)&&(kt=at,at=it,it=kt);compare(nt,ct,Be)&&(kt=nt,nt=ct,ct=kt);compare(nt,at,Be)&&(kt=nt,nt=at,at=kt);compare(it,ct,Be)&&(kt=it,it=ct,ct=kt);for(var Lt=Be[2*nt],Ut=Be[2*nt+1],er=Be[2*it],tr=Be[2*it+1],rr=2*rt,ar=2*at,Lr=2*ct,Qr=2*We,on=2*Qe,sn=2*$e,ln=0;ln<2;++ln){var cn=Be[rr+ln],un=Be[ar+ln],hn=Be[Lr+ln];Be[Qr+ln]=cn,Be[on+ln]=un,Be[sn+ln]=hn}move(et,Ee,Be),move(tt,ze,Be);for(var dn=ft;dn<=xt;++dn)if(comparePivot(dn,Lt,Ut,Be))dn!==ft&&swap(dn,ft,Be),++ft;else if(!comparePivot(dn,er,tr,Be))for(;;){if(comparePivot(xt,er,tr,Be)){comparePivot(xt,Lt,Ut,Be)?(rotate(dn,ft,xt,Be),++ft,--xt):(swap(dn,xt,Be),--xt);break}if(--xt<dn)break}shufflePivot(Ee,ft-1,Lt,Ut,Be),shufflePivot(ze,xt+1,er,tr,Be),ft-2-Ee<=32?insertionSort(Ee,ft-2,Be):quickSort(Ee,ft-2,Be);ze-(xt+2)<=32?insertionSort(xt+2,ze,Be):quickSort(xt+2,ze,Be);xt-ft<=32?insertionSort(ft,xt,Be):quickSort(ft,xt,Be)}(0,ze-1,Ee)};function insertionSort(Ee,ze,Be){for(var Ue=2*(Ee+1),We=Ee+1;We<=ze;++We){for(var $e=Be[Ue++],Qe=Be[Ue++],et=We,tt=Ue-2;et-- >Ee;){var rt=Be[tt-2],nt=Be[tt-1];if(rt<$e)break;if(rt===$e&&nt<Qe)break;Be[tt]=rt,Be[tt+1]=nt,tt-=2}Be[tt]=$e,Be[tt+1]=Qe}}function swap(Ee,ze,Be){ze*=2;var Ue=Be[Ee*=2],We=Be[Ee+1];Be[Ee]=Be[ze],Be[Ee+1]=Be[ze+1],Be[ze]=Ue,Be[ze+1]=We}function move(Ee,ze,Be){ze*=2,Be[Ee*=2]=Be[ze],Be[Ee+1]=Be[ze+1]}function rotate(Ee,ze,Be,Ue){ze*=2,Be*=2;var We=Ue[Ee*=2],$e=Ue[Ee+1];Ue[Ee]=Ue[ze],Ue[Ee+1]=Ue[ze+1],Ue[ze]=Ue[Be],Ue[ze+1]=Ue[Be+1],Ue[Be]=We,Ue[Be+1]=$e}function shufflePivot(Ee,ze,Be,Ue,We){ze*=2,We[Ee*=2]=We[ze],We[ze]=Be,We[Ee+1]=We[ze+1],We[ze+1]=Ue}function compare(Ee,ze,Be){ze*=2;var Ue=Be[Ee*=2],We=Be[ze];return!(Ue<We)&&(Ue!==We||Be[Ee+1]>Be[ze+1])}function comparePivot(Ee,ze,Be,Ue){var We=Ue[Ee*=2];return We<ze||We===ze&&Ue[Ee+1]<Be}},"014c":function(Ee,ze,Be){"use strict";Ee.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},"019a":function(Ee,ze,Be){"use strict";Ee.exports=function computeTickMarks(Ee){for(var ze=Ee.axesOptions,Be=Ee.glplot.axesPixels,et=Ee.fullSceneLayout,tt=[[],[],[]],rt=0;rt<3;++rt){var nt=et[$e[rt]];if(nt._length=(Be[rt].hi-Be[rt].lo)*Be[rt].pixelsPerDataUnit/Ee.dataScale[rt],Math.abs(nt._length)===1/0||isNaN(nt._length))tt[rt]=[];else{nt._input_range=nt.range.slice(),nt.range[0]=Be[rt].lo/Ee.dataScale[rt],nt.range[1]=Be[rt].hi/Ee.dataScale[rt],nt._m=1/(Ee.dataScale[rt]*Be[rt].pixelsPerDataUnit),nt.range[0]===nt.range[1]&&(nt.range[0]-=1,nt.range[1]+=1);var at=nt.tickmode;if("auto"===nt.tickmode){nt.tickmode="linear";var it=nt.nticks||We.constrain(nt._length/40,4,9);Ue.autoTicks(nt,Math.abs(nt.range[1]-nt.range[0])/it)}for(var ct=Ue.calcTicks(nt),ft=0;ft<ct.length;++ft)ct[ft].x=ct[ft].x*Ee.dataScale[rt],"date"===nt.type&&(ct[ft].text=ct[ft].text.replace(/\<br\>/g," "));tt[rt]=ct,nt.tickmode=at}}ze.ticks=tt;for(rt=0;rt<3;++rt){Qe[rt]=.5*(Ee.glplot.bounds[0][rt]+Ee.glplot.bounds[1][rt]);for(ft=0;ft<2;++ft)ze.bounds[ft][rt]=Ee.glplot.bounds[ft][rt]}Ee.contourLevels=function contourLevelsFromTicks(Ee){for(var ze=new Array(3),Be=0;Be<3;++Be){for(var Ue=Ee[Be],We=new Array(Ue.length),$e=0;$e<Ue.length;++$e)We[$e]=Ue[$e].x;ze[Be]=We}return ze}(tt)};var Ue=Be("0642"),We=Be("fc26"),$e=["xaxis","yaxis","zaxis"],Qe=[0,0,0]},"01db":function(Ee,ze,Be){"use strict";Ee.exports=Be("b964")},"0230":function(Ee,ze,Be){var Ue=Be("320c");function Calendars(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function CDate(Ee,ze,Be,Ue){if(this._calendar=Ee,this._year=ze,this._month=Be,this._day=Ue,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(We.local.invalidDate||We.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function pad(Ee,ze){return"000000".substring(0,ze-(Ee=""+Ee).length)+Ee}function BaseCalendar(){this.shortYearCutoff="+10"}function GregorianCalendar(Ee){this.local=this.regionalOptions[Ee]||this.regionalOptions[""]}Ue(Calendars.prototype,{instance:function(Ee,ze){Ee=(Ee||"gregorian").toLowerCase(),ze=ze||"";var Be=this._localCals[Ee+"-"+ze];if(!Be&&this.calendars[Ee]&&(Be=new this.calendars[Ee](ze),this._localCals[Ee+"-"+ze]=Be),!Be)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,Ee);return Be},newDate:function(Ee,ze,Be,Ue,We){return(Ue=(null!=Ee&&Ee.year?Ee.calendar():"string"==typeof Ue?this.instance(Ue,We):Ue)||this.instance()).newDate(Ee,ze,Be)},substituteDigits:function(Ee){return function(ze){return(ze+"").replace(/[0-9]/g,(function(ze){return Ee[ze]}))}},substituteChineseDigits:function(Ee,ze){return function(Be){for(var Ue="",We=0;Be>0;){var $e=Be%10;Ue=(0===$e?"":Ee[$e]+ze[We])+Ue,We++,Be=Math.floor(Be/10)}return 0===Ue.indexOf(Ee[1]+ze[1])&&(Ue=Ue.substr(1)),Ue||Ee[0]}}}),Ue(CDate.prototype,{newDate:function(Ee,ze,Be){return this._calendar.newDate(null==Ee?this:Ee,ze,Be)},year:function(Ee){return 0===arguments.length?this._year:this.set(Ee,"y")},month:function(Ee){return 0===arguments.length?this._month:this.set(Ee,"m")},day:function(Ee){return 0===arguments.length?this._day:this.set(Ee,"d")},date:function(Ee,ze,Be){if(!this._calendar.isValid(Ee,ze,Be))throw(We.local.invalidDate||We.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=Ee,this._month=ze,this._day=Be,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(Ee,ze){return this._calendar.add(this,Ee,ze)},set:function(Ee,ze){return this._calendar.set(this,Ee,ze)},compareTo:function(Ee){if(this._calendar.name!==Ee._calendar.name)throw(We.local.differentCalendars||We.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,Ee._calendar.local.name);var ze=this._year!==Ee._year?this._year-Ee._year:this._month!==Ee._month?this.monthOfYear()-Ee.monthOfYear():this._day-Ee._day;return 0===ze?0:ze<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(Ee){return this._calendar.fromJD(Ee)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(Ee){return this._calendar.fromJSDate(Ee)},toString:function(){return(this.year()<0?"-":"")+pad(Math.abs(this.year()),4)+"-"+pad(this.month(),2)+"-"+pad(this.day(),2)}}),Ue(BaseCalendar.prototype,{_validateLevel:0,newDate:function(Ee,ze,Be){return null==Ee?this.today():(Ee.year&&(this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate),Be=Ee.day(),ze=Ee.month(),Ee=Ee.year()),new CDate(this,Ee,ze,Be))},today:function(){return this.fromJSDate(new Date)},epoch:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,We.local.invalidYear||We.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,We.local.invalidYear||We.regionalOptions[""].invalidYear);return(ze.year()<0?"-":"")+pad(Math.abs(ze.year()),4)},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,We.local.invalidYear||We.regionalOptions[""].invalidYear),12},monthOfYear:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,We.local.invalidMonth||We.regionalOptions[""].invalidMonth);return(Be.month()+this.monthsInYear(Be)-this.firstMonth)%this.monthsInYear(Be)+this.minMonth},fromMonthOfYear:function(Ee,ze){var Be=(ze+this.firstMonth-2*this.minMonth)%this.monthsInYear(Ee)+this.minMonth;return this._validate(Ee,Be,this.minDay,We.local.invalidMonth||We.regionalOptions[""].invalidMonth),Be},daysInYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,We.local.invalidYear||We.regionalOptions[""].invalidYear);return this.leapYear(ze)?366:365},dayOfYear:function(Ee,ze,Be){var Ue=this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate);return Ue.toJD()-this.newDate(Ue.year(),this.fromMonthOfYear(Ue.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(Ee,ze,Be){var Ue=this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(Ue))+2)%this.daysInWeek()},extraInfo:function(Ee,ze,Be){return this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate),{}},add:function(Ee,ze,Be){return this._validate(Ee,this.minMonth,this.minDay,We.local.invalidDate||We.regionalOptions[""].invalidDate),this._correctAdd(Ee,this._add(Ee,ze,Be),ze,Be)},_add:function(Ee,ze,Be){if(this._validateLevel++,"d"===Be||"w"===Be){var Ue=Ee.toJD()+ze*("w"===Be?this.daysInWeek():1),We=Ee.calendar().fromJD(Ue);return this._validateLevel--,[We.year(),We.month(),We.day()]}try{var $e=Ee.year()+("y"===Be?ze:0),Qe=Ee.monthOfYear()+("m"===Be?ze:0);We=Ee.day();"y"===Be?(Ee.month()!==this.fromMonthOfYear($e,Qe)&&(Qe=this.newDate($e,Ee.month(),this.minDay).monthOfYear()),Qe=Math.min(Qe,this.monthsInYear($e)),We=Math.min(We,this.daysInMonth($e,this.fromMonthOfYear($e,Qe)))):"m"===Be&&(!function(Ee){for(;Qe<Ee.minMonth;)$e--,Qe+=Ee.monthsInYear($e);for(var ze=Ee.monthsInYear($e);Qe>ze-1+Ee.minMonth;)$e++,Qe-=ze,ze=Ee.monthsInYear($e)}(this),We=Math.min(We,this.daysInMonth($e,this.fromMonthOfYear($e,Qe))));var et=[$e,this.fromMonthOfYear($e,Qe),We];return this._validateLevel--,et}catch(Ee){throw this._validateLevel--,Ee}},_correctAdd:function(Ee,ze,Be,Ue){if(!(this.hasYearZero||"y"!==Ue&&"m"!==Ue||0!==ze[0]&&Ee.year()>0==ze[0]>0)){var We={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[Ue],$e=Be<0?-1:1;ze=this._add(Ee,Be*We[0]+$e*We[1],We[2])}return Ee.date(ze[0],ze[1],ze[2])},set:function(Ee,ze,Be){this._validate(Ee,this.minMonth,this.minDay,We.local.invalidDate||We.regionalOptions[""].invalidDate);var Ue="y"===Be?ze:Ee.year(),$e="m"===Be?ze:Ee.month(),Qe="d"===Be?ze:Ee.day();return"y"!==Be&&"m"!==Be||(Qe=Math.min(Qe,this.daysInMonth(Ue,$e))),Ee.date(Ue,$e,Qe)},isValid:function(Ee,ze,Be){this._validateLevel++;var Ue=this.hasYearZero||0!==Ee;if(Ue){var We=this.newDate(Ee,ze,this.minDay);Ue=ze>=this.minMonth&&ze-this.minMonth<this.monthsInYear(We)&&Be>=this.minDay&&Be-this.minDay<this.daysInMonth(We)}return this._validateLevel--,Ue},toJSDate:function(Ee,ze,Be){var Ue=this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate);return We.instance().fromJD(this.toJD(Ue)).toJSDate()},fromJSDate:function(Ee){return this.fromJD(We.instance().fromJSDate(Ee).toJD())},_validate:function(Ee,ze,Be,Ue){if(Ee.year){if(0===this._validateLevel&&this.name!==Ee.calendar().name)throw(We.local.differentCalendars||We.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,Ee.calendar().local.name);return Ee}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(Ee,ze,Be))throw Ue.replace(/\{0\}/,this.local.name);var $e=this.newDate(Ee,ze,Be);return this._validateLevel--,$e}catch(Ee){throw this._validateLevel--,Ee}}}),GregorianCalendar.prototype=new BaseCalendar,Ue(GregorianCalendar.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,We.local.invalidYear||We.regionalOptions[""].invalidYear);return(Ee=ze.year()+(ze.year()<0?1:0))%4==0&&(Ee%100!=0||Ee%400==0)},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(4-(Ue.dayOfWeek()||7),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,We.local.invalidMonth||We.regionalOptions[""].invalidMonth);return this.daysPerMonth[Be.month()-1]+(2===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var Ue=this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate);Ee=Ue.year(),ze=Ue.month(),Be=Ue.day(),Ee<0&&Ee++,ze<3&&(ze+=12,Ee--);var $e=Math.floor(Ee/100),Qe=2-$e+Math.floor($e/4);return Math.floor(365.25*(Ee+4716))+Math.floor(30.6001*(ze+1))+Be+Qe-1524.5},fromJD:function(Ee){var ze=Math.floor(Ee+.5),Be=Math.floor((ze-1867216.25)/36524.25),Ue=(Be=ze+1+Be-Math.floor(Be/4))+1524,We=Math.floor((Ue-122.1)/365.25),$e=Math.floor(365.25*We),Qe=Math.floor((Ue-$e)/30.6001),et=Ue-$e-Math.floor(30.6001*Qe),tt=Qe-(Qe>13.5?13:1),rt=We-(tt>2.5?4716:4715);return rt<=0&&rt--,this.newDate(rt,tt,et)},toJSDate:function(Ee,ze,Be){var Ue=this._validate(Ee,ze,Be,We.local.invalidDate||We.regionalOptions[""].invalidDate),$e=new Date(Ue.year(),Ue.month()-1,Ue.day());return $e.setHours(0),$e.setMinutes(0),$e.setSeconds(0),$e.setMilliseconds(0),$e.setHours($e.getHours()>12?$e.getHours()+2:0),$e},fromJSDate:function(Ee){return this.newDate(Ee.getFullYear(),Ee.getMonth()+1,Ee.getDate())}});var We=Ee.exports=new Calendars;We.cdate=CDate,We.baseCalendar=BaseCalendar,We.calendars.gregorian=GregorianCalendar},"0248":function(Ee,ze,Be){"use strict";var Ue=Be("86d9"),We=Be("ba76");Ee.exports=function applyHomography(Ee,ze,Be){var $e=ze.dimension,Qe=We([],Be);return Ue(Ee,ze,(function(Ee,ze){for(var Be=0;Be<$e;++Be){Ee[Be]=Qe[($e+1)*$e+Be];for(var Ue=0;Ue<$e;++Ue)Ee[Be]+=Qe[($e+1)*Ue+Be]*ze[Ue]}var We=Qe[($e+1)*($e+1)-1];for(Ue=0;Ue<$e;++Ue)We+=Qe[($e+1)*Ue+$e]*ze[Ue];var et=1/We;for(Be=0;Be<$e;++Be)Ee[Be]*=et;return Ee})),Ee}},"0271":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be,Ue,We){var $e=Ue[We];return Ee.a=$e.a,Ee.b=$e.b,Ee.y=$e.y,Ee}},"02ab":function(Ee,ze,Be){"use strict";Ee.exports=kerning;var Ue=(kerning.canvas=document.createElement("canvas")).getContext("2d"),We=createPairs([32,126]);function kerning(Ee,ze){Array.isArray(Ee)&&(Ee=Ee.join(", "));var Be,$e={},Qe=16,et=.05;ze&&(2===ze.length&&"number"==typeof ze[0]?Be=createPairs(ze):Array.isArray(ze)?Be=ze:(ze.o?Be=createPairs(ze.o):ze.pairs&&(Be=ze.pairs),ze.fontSize&&(Qe=ze.fontSize),null!=ze.threshold&&(et=ze.threshold))),Be||(Be=We),Ue.font=Qe+"px "+Ee;for(var tt=0;tt<Be.length;tt++){var rt=Be[tt],nt=Ue.measureText(rt[0]).width+Ue.measureText(rt[1]).width,at=Ue.measureText(rt).width;if(Math.abs(nt-at)>Qe*et){var it=(at-nt)/Qe;$e[rt]=1e3*it}}return $e}function createPairs(Ee){for(var ze=[],Be=Ee[0];Be<=Ee[1];Be++)for(var Ue=String.fromCharCode(Be),We=Ee[0];We<Ee[1];We++){var $e=Ue+String.fromCharCode(We);ze.push($e)}return ze}kerning.createPairs=createPairs,kerning.ascii=We},"02e4":function(Ee,ze,Be){"use strict";var Ue=Be("98e7"),We=Be("efcd").makeHoverPointText;Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,$e){var Qe=Ee.cd[0].t,et=Qe.r,tt=Qe.theta,rt=Ue.hoverPoints(Ee,ze,Be,$e);if(rt&&!1!==rt[0].index){var nt=rt[0];if(void 0===nt.index)return rt;var at=Ee.subplot,it=nt.cd[nt.index],ct=nt.trace;if(it.r=et[nt.index],it.theta=tt[nt.index],at.isPtInside(it))return nt.xLabelVal=void 0,nt.yLabelVal=void 0,We(it,ct,at,nt),rt}}}},"02ea":function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("f4e9"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("a876"),et=Be("9092").extendFlat,tt=Be("cb34").overrideAll;function makeContourAttr(Ee){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:Ue.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:Ue.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var rt=Ee.exports=tt(et({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:$e(),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},We("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:makeContourAttr(),y:makeContourAttr(),z:makeContourAttr()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},_deprecated:{zauto:et({},We.zauto,{}),zmin:et({},We.zmin,{}),zmax:et({},We.zmax,{})},hoverinfo:et({},Qe.hoverinfo),showlegend:et({},Qe.showlegend,{dflt:!1})}),"calc","nested");rt.x.editType=rt.y.editType=rt.z.editType="calc+clearAxisTypes",rt.transforms=void 0},"030a":function(Ee,ze,Be){"use strict";var Ue=Be("c17d");Ue.register([Be("f725"),Be("b7e7"),Be("3eab"),Be("4fc7"),Be("90a6"),Be("b905"),Be("5cc5"),Be("664d"),Be("6578"),Be("3efe"),Be("6ca5"),Be("831f"),Be("4746"),Be("21dd"),Be("6d0a"),Be("f36e"),Be("a8b9"),Be("372f"),Be("f17e"),Be("6626"),Be("0eb8"),Be("f522"),Be("2781"),Be("388d"),Be("c80f"),Be("46c1"),Be("2f68"),Be("b7bb"),Be("f3ca"),Be("44d4"),Be("f366"),Be("01db"),Be("7016"),Be("d47b"),Be("f846"),Be("aa2c"),Be("82e4"),Be("f2a9"),Be("bd75"),Be("e2f4"),Be("dff2"),Be("75ac"),Be("1cfc"),Be("ff5b"),Be("2d12")]),Ue.register([Be("2594"),Be("4b14"),Be("9633"),Be("d2d4")]),Ue.register([Be("e1f5")]),Ee.exports=Ue},"0316":function(Ee,ze,Be){"use strict";var Ue=Be("0642");Ee.exports=function formatLabels(Ee,ze,Be){var We={},$e=Be[ze.subplot]._subplot.mockAxis,Qe=Ee.lonlat;return We.lonLabel=Ue.tickText($e,$e.c2l(Qe[0]),!0).text,We.latLabel=Ue.tickText($e,$e.c2l(Qe[1]),!0).text,We}},"0324":function(Ee,ze,Be){"use strict";Ee.exports=function crossTraceDefaults(Ee){for(var ze=0;ze<Ee.length;ze++){var Be=Ee[ze];if("scatter"===Be.type){var Ue=Be.fill;if("none"!==Ue&&"toself"!==Ue&&(Be.opacity=void 0,"tonexty"===Ue||"tonextx"===Ue))for(var We=ze-1;We>=0;We--){var $e=Ee[We];if("scatter"===$e.type&&$e.xaxis===Be.xaxis&&$e.yaxis===Be.yaxis){$e.opacity=void 0;break}}}}}},"0365":function(Ee,ze){Ee.exports=function clone(Ee){var ze=new Float32Array(3);return ze[0]=Ee[0],ze[1]=Ee[1],ze[2]=Ee[2],ze}},"0366":function(Ee,ze,Be){var Ue=Be("1c0b");Ee.exports=function(Ee,ze,Be){if(Ue(Ee),void 0===ze)return Ee;switch(Be){case 0:return function(){return Ee.call(ze)};case 1:return function(Be){return Ee.call(ze,Be)};case 2:return function(Be,Ue){return Ee.call(ze,Be,Ue)};case 3:return function(Be,Ue,We){return Ee.call(ze,Be,Ue,We)}}return function(){return Ee.apply(ze,arguments)}}},"0379":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("73c9"),Qe=Be("63dc").LINE_SPACING;function getSize(Ee,ze){return Ee.node().getBoundingClientRect()[ze]}var et=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;ze.convertToTspans=function(Ee,Be,Lr){var Qr=Ee.text(),on=!Ee.attr("data-notex")&&"undefined"!=typeof MathJax&&Qr.match(et),sn=Ue.select(Ee.node().parentNode);if(!sn.empty()){var ln=Ee.attr("class")?Ee.attr("class").split(" ")[0]:"text";return ln+="-math",sn.selectAll("svg."+ln).remove(),sn.selectAll("g."+ln+"-group").remove(),Ee.style("display",null).attr({"data-unformatted":Qr,"data-math":"N"}),on?(Be&&Be._promises||[]).push(new Promise((function(ze){Ee.style("display","none");var Be=parseInt(Ee.node().style.fontSize,10),$e={fontSize:Be};!function texToSVG(Ee,ze,Be){var $e,Qe,et,nt;MathJax.Hub.Queue((function(){return Qe=We.extendDeepAll({},MathJax.Hub.config),et=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==($e=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var Be="math-output-"+We.randstr({},64);return nt=Ue.select("body").append("div").attr({id:Be}).style({visibility:"hidden",position:"absolute"}).style({"font-size":ze.fontSize+"px"}).text(function cleanEscapesForTex(Ee){return Ee.replace(tt,"\\lt ").replace(rt,"\\gt ")}(Ee)),MathJax.Hub.Typeset(nt.node())}),(function(){var ze=Ue.select("body").select("#MathJax_SVG_glyphs");if(nt.select(".MathJax_SVG").empty()||!nt.select("svg").node())We.log("There was an error in the tex syntax.",Ee),Be();else{var Qe=nt.select("svg").node().getBoundingClientRect();Be(nt.select(".MathJax_SVG"),ze,Qe)}if(nt.remove(),"SVG"!==$e)return MathJax.Hub.setRenderer($e)}),(function(){return void 0!==et&&(MathJax.Hub.processSectionDelay=et),MathJax.Hub.Config(Qe)}))}(on[2],$e,(function(Ue,We,$e){sn.selectAll("svg."+ln).remove(),sn.selectAll("g."+ln+"-group").remove();var Qe=Ue&&Ue.select("svg");if(!Qe||!Qe.node())return showText(),void ze();var et=sn.append("g").classed(ln+"-group",!0).attr({"pointer-events":"none","data-unformatted":Qr,"data-math":"Y"});et.node().appendChild(Qe.node()),We&&We.node()&&Qe.node().insertBefore(We.node().cloneNode(!0),Qe.node().firstChild),Qe.attr({class:ln,height:$e.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var tt=Ee.node().style.fill||"black",rt=Qe.select("g");rt.attr({fill:tt,stroke:tt});var nt=getSize(rt,"width"),at=getSize(rt,"height"),it=+Ee.attr("x")-nt*{start:0,middle:.5,end:1}[Ee.attr("text-anchor")||"start"],ct=-(Be||getSize(Ee,"height"))/4;"y"===ln[0]?(et.attr({transform:"rotate("+[-90,+Ee.attr("x"),+Ee.attr("y")]+") translate("+[-nt/2,ct-at/2]+")"}),Qe.attr({x:+Ee.attr("x"),y:+Ee.attr("y")})):"l"===ln[0]?Qe.attr({x:Ee.attr("x"),y:ct-at/2}):"a"===ln[0]&&0!==ln.indexOf("atitle")?Qe.attr({x:0,y:ct}):Qe.attr({x:it,y:+Ee.attr("y")+ct-at/2}),Lr&&Lr.call(Ee,et),ze(et)}))}))):showText(),Ee}function showText(){sn.empty()||(ln=Ee.attr("class")+"-math",sn.select("svg."+ln).remove()),Ee.text("").style("white-space","pre"),function buildSVGText(Ee,ze){ze=ze.replace(ft," ");var Be,et=!1,tt=[],rt=-1;function newLine(){rt++;var ze=document.createElementNS($e.svg,"tspan");Ue.select(ze).attr({class:"line",dy:rt*Qe+"em"}),Ee.appendChild(ze),Be=ze;var We=tt;if(tt=[{node:ze}],We.length>1)for(var et=1;et<We.length;et++)enterNode(We[et])}function enterNode(Ee){var ze,We=Ee.type,Qe={};if("a"===We){ze="a";var et=Ee.target,rt=Ee.href,nt=Ee.popup;rt&&(Qe={"xlink:xlink:show":"_blank"===et||"_"!==et.charAt(0)?"new":"replace",target:et,"xlink:xlink:href":rt},nt&&(Qe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+nt+'");return false;'))}else ze="tspan";Ee.style&&(Qe.style=Ee.style);var ct=document.createElementNS($e.svg,ze);if("sup"===We||"sub"===We){addTextNode(Be,"​"),Be.appendChild(ct);var ft=document.createElementNS($e.svg,"tspan");addTextNode(ft,"​"),Ue.select(ft).attr("dy",it[We]),Qe.dy=at[We],Be.appendChild(ct),Be.appendChild(ft)}else Be.appendChild(ct);Ue.select(ct).attr(Qe),Be=Ee.node=ct,tt.push(Ee)}function addTextNode(Ee,ze){Ee.appendChild(document.createTextNode(ze))}function exitNode(Ee){if(1!==tt.length){var Ue=tt.pop();Ee!==Ue.type&&We.log("Start tag <"+Ue.type+"> doesnt match end tag <"+Ee+">. Pretending it did match.",ze),Be=tt[tt.length-1].node}else We.log("Ignoring unexpected end tag </"+Ee+">.",ze)}Lt.test(ze)?newLine():(Be=Ee,tt=[{node:Ee}]);for(var Lr=ze.split(xt),Qr=0;Qr<Lr.length;Qr++){var on=Lr[Qr],sn=on.match(kt),ln=sn&&sn[2].toLowerCase(),cn=nt[ln];if("br"===ln)newLine();else if(void 0===cn)addTextNode(Be,convertEntities(on));else if(sn[1])exitNode(ln);else{var un=sn[4],hn={type:ln},dn=getQuotedMatch(un,Ut);if(dn?(dn=dn.replace(ar,"$1 fill:"),cn&&(dn+=";"+cn)):cn&&(dn=cn),dn&&(hn.style=dn),"a"===ln){et=!0;var vn=getQuotedMatch(un,er);if(vn){var yn=document.createElement("a");yn.href=vn,-1!==ct.indexOf(yn.protocol)&&(hn.href=encodeURI(decodeURI(vn)),hn.target=getQuotedMatch(un,tr)||"_blank",hn.popup=getQuotedMatch(un,rr))}}enterNode(hn)}}return et}(Ee.node(),Qr)&&Ee.style("pointer-events","all"),ze.positionText(Ee),Lr&&Lr.call(Ee)}};var tt=/(<|&lt;|&#60;)/g,rt=/(>|&gt;|&#62;)/g;var nt={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},at={sub:"0.3em",sup:"-0.6em"},it={sub:"-0.21em",sup:"0.42em"},ct=["http:","https:","mailto:","",void 0,":"],ft=ze.NEWLINES=/(\r\n?|\n)/g,xt=/(<[^<>]*>)/,kt=/<(\/?)([^ >]*)(\s+(.*))?>/i,Lt=/<br(\s+.*)?>/i;ze.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Ut=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,er=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,tr=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,rr=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function getQuotedMatch(Ee,ze){if(!Ee)return null;var Be=Ee.match(ze),Ue=Be&&(Be[3]||Be[4]);return Ue&&convertEntities(Ue)}var ar=/(^|;)\s*color:/;ze.plainText=function(Ee,ze){for(var Be=void 0!==(ze=ze||{}).len&&-1!==ze.len?ze.len:1/0,Ue=void 0!==ze.allowedTags?ze.allowedTags:["br"],We="...".length,$e=Ee.split(xt),Qe=[],et="",tt=0,rt=0;rt<$e.length;rt++){var nt=$e[rt],at=nt.match(kt),it=at&&at[2].toLowerCase();if(it)-1!==Ue.indexOf(it)&&(Qe.push(nt),et=it);else{var ct=nt.length;if(tt+ct<Be)Qe.push(nt),tt+=ct;else if(tt<Be){var ft=Be-tt;et&&("br"!==et||ft<=We||ct<=We)&&Qe.pop(),Be>We?Qe.push(nt.substr(0,ft-We)+"..."):Qe.push(nt.substr(0,ft));break}et=""}}return Qe.join("")};var Lr={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},Qr=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function convertEntities(Ee){return Ee.replace(Qr,(function(Ee,ze){return("#"===ze.charAt(0)?function fromCodePoint(Ee){if(Ee>1114111)return;var ze=String.fromCodePoint;if(ze)return ze(Ee);var Be=String.fromCharCode;return Ee<=65535?Be(Ee):Be(55232+(Ee>>10),Ee%1024+56320)}("x"===ze.charAt(1)?parseInt(ze.substr(2),16):parseInt(ze.substr(1),10)):Lr[ze])||Ee}))}function alignHTMLWith(Ee,ze,Be){var Ue,We,$e,Qe=Be.horizontalAlign,et=Be.verticalAlign||"top",tt=Ee.node().getBoundingClientRect(),rt=ze.node().getBoundingClientRect();return We="bottom"===et?function(){return tt.bottom-Ue.height}:"middle"===et?function(){return tt.top+(tt.height-Ue.height)/2}:function(){return tt.top},$e="right"===Qe?function(){return tt.right-Ue.width}:"center"===Qe?function(){return tt.left+(tt.width-Ue.width)/2}:function(){return tt.left},function(){return Ue=this.node().getBoundingClientRect(),this.style({top:We()-rt.top+"px",left:$e()-rt.left+"px","z-index":1e3}),this}}ze.convertEntities=convertEntities,ze.lineCount=function lineCount(Ee){return Ee.selectAll("tspan.line").size()||1},ze.positionText=function positionText(Ee,ze,Be){return Ee.each((function(){var Ee=Ue.select(this);function setOrGet(ze,Be){return void 0===Be?null===(Be=Ee.attr(ze))&&(Ee.attr(ze,0),Be=0):Ee.attr(ze,Be),Be}var We=setOrGet("x",ze),$e=setOrGet("y",Be);"text"===this.nodeName&&Ee.selectAll("tspan.line").attr({x:We,y:$e})}))},ze.makeEditable=function(Ee,ze){var Be=ze.gd,We=ze.delegate,$e=Ue.dispatch("edit","input","cancel"),Qe=We||Ee;if(Ee.style({"pointer-events":We?"none":"all"}),1!==Ee.size())throw new Error("boo");function handleClick(){!function appendEditable(){var We=Ue.select(Be).select(".svg-container"),Qe=We.append("div"),et=Ee.node().style,tt=parseFloat(et.fontSize||12),rt=ze.text;void 0===rt&&(rt=Ee.attr("data-unformatted"));Qe.classed("plugin-editable editable",!0).style({position:"absolute","font-family":et.fontFamily||"Arial","font-size":tt,color:ze.fill||et.fill||"black",opacity:1,"background-color":ze.background||"transparent",outline:"#ffffff33 1px solid",margin:[-tt/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(rt).call(alignHTMLWith(Ee,We,ze)).on("blur",(function(){Be._editing=!1,Ee.text(this.textContent).style({opacity:1});var ze,We=Ue.select(this).attr("class");(ze=We?"."+We.split(" ")[0]+"-math-group":"[class*=-math-group]")&&Ue.select(Ee.node().parentNode).select(ze).style({opacity:0});var Qe=this.textContent;Ue.select(this).transition().duration(0).remove(),Ue.select(document).on("mouseup",null),$e.edit.call(Ee,Qe)})).on("focus",(function(){var Ee=this;Be._editing=!0,Ue.select(document).on("mouseup",(function(){if(Ue.event.target===Ee)return!1;document.activeElement===Qe.node()&&Qe.node().blur()}))})).on("keyup",(function(){27===Ue.event.which?(Be._editing=!1,Ee.style({opacity:1}),Ue.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),$e.cancel.call(Ee,this.textContent)):($e.input.call(Ee,this.textContent),Ue.select(this).call(alignHTMLWith(Ee,We,ze)))})).on("keydown",(function(){13===Ue.event.which&&this.blur()})).call(selectElementContents)}(),Ee.style({opacity:0});var We,et=Qe.attr("class");(We=et?"."+et.split(" ")[0]+"-math-group":"[class*=-math-group]")&&Ue.select(Ee.node().parentNode).select(We).style({opacity:0})}function selectElementContents(Ee){var ze=Ee.node(),Be=document.createRange();Be.selectNodeContents(ze);var Ue=window.getSelection();Ue.removeAllRanges(),Ue.addRange(Be),ze.focus()}return ze.immediate?handleClick():Qe.on("click",handleClick),Ue.rebind(Ee,$e,"on")}},"037d":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function sceneUpdate(Ee,ze){var Be=Ee._fullLayout,We=ze.uid,$e=Be._splomScenes;$e||($e=Be._splomScenes={});var Qe={dirty:!0},et=$e[ze.uid];return et||((et=$e[We]=Ue.extendFlat({},Qe,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function draw(){et.matrix&&et.matrix.draw&&(et.selectBatch.length||et.unselectBatch.length?et.matrix.draw(et.unselectBatch,et.selectBatch):et.matrix.draw()),et.dirty=!1},et.destroy=function destroy(){et.matrix&&et.matrix.destroy&&et.matrix.destroy(),et.matrixOptions=null,et.selectBatch=null,et.unselectBatch=null,et=null}),et.dirty||Ue.extendFlat(et,Qe),et}},"0382":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("86d2"),supplyDefaults:Be("447e"),calc:Be("de229"),plot:Be("0cc1"),style:Be("464d"),hoverPoints:Be("cbb8"),eventData:Be("3e97"),moduleType:"trace",name:"image",basePlotModule:Be("91cd"),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},"038d":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("8bd8"),$e=Be("fc26").fillText;Ee.exports=function hoverPoints(Ee,ze,Be){var Qe,et,tt,rt,nt=Ee.cd,at=nt[0].trace,it=Ee.subplot;for(et=0;et<nt.length;et++)if(rt=!1,(Qe=nt[et])._polygons){for(tt=0;tt<Qe._polygons.length;tt++)Qe._polygons[tt].contains([ze,Be])&&(rt=!rt),Qe._polygons[tt].contains([ze+360,Be])&&(rt=!rt);if(rt)break}if(rt&&Qe)return Ee.x0=Ee.x1=Ee.xa.c2p(Qe.ct),Ee.y0=Ee.y1=Ee.ya.c2p(Qe.ct),Ee.index=Qe.index,Ee.location=Qe.loc,Ee.z=Qe.z,Ee.zLabel=Ue.tickText(it.mockAxis,it.mockAxis.c2l(Qe.z),"hover").text,Ee.hovertemplate=Qe.hovertemplate,function makeHoverInfo(Ee,ze,Be){if(ze.hovertemplate)return;var Ue=Be.hi||ze.hoverinfo,Qe=String(Be.loc),et="all"===Ue?We.hoverinfo.flags:Ue.split("+"),tt=-1!==et.indexOf("name"),rt=-1!==et.indexOf("location"),nt=-1!==et.indexOf("z"),at=-1!==et.indexOf("text"),it=[];!tt&&rt?Ee.nameOverride=Qe:(tt&&(Ee.nameOverride=ze.name),rt&&it.push(Qe));nt&&it.push(Ee.zLabel);at&&$e(Be,ze,it);Ee.extraText=it.join("<br>")}(Ee,at,Qe,it.mockAxis),[Ee]}},"03d7":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("d115"),Qe=Be("72a4").DESELECTDIM,et=Be("2df3"),tt=Be("93a6").resizeText,rt=et.styleTextPoints;Ee.exports={style:function style(Ee,ze,Be){var et=Be||Ue.select(Ee).selectAll("g.waterfalllayer").selectAll("g.trace");tt(Ee,et,"waterfall"),et.style("opacity",(function(Ee){return Ee[0].trace.opacity})),et.each((function(ze){var Be=Ue.select(this),et=ze[0].trace;Be.selectAll(".point > path").each((function(Ee){if(!Ee.isBlank){var ze=et[Ee.dir].marker;Ue.select(this).call($e.fill,ze.color).call($e.stroke,ze.line.color).call(We.dashLine,ze.line.dash,ze.line.width).style("opacity",et.selectedpoints&&!Ee.selected?Qe:1)}})),rt(Be,et,Ee),Be.selectAll(".lines").each((function(){var Ee=et.connector.line;We.lineGroupStyle(Ue.select(this).selectAll("path"),Ee.width,Ee.color,Ee.dash)}))}))}}},"0435":function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("a876"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("f4e9"),et=(Be("78df").FORMAT_LINK,Be("9092").extendFlat);Ee.exports=et({z:{valType:"data_array",editType:"calc"},x:et({},Ue.x,{impliedEdits:{xtype:"array"}}),x0:et({},Ue.x0,{impliedEdits:{xtype:"scaled"}}),dx:et({},Ue.dx,{impliedEdits:{xtype:"scaled"}}),y:et({},Ue.y,{impliedEdits:{ytype:"array"}}),y0:et({},Ue.y0,{impliedEdits:{ytype:"scaled"}}),dy:et({},Ue.dy,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"},hovertemplate:$e(),showlegend:et({},We.showlegend,{dflt:!1})},{transforms:void 0},Qe("",{cLetter:"z",autoColorDflt:!1}))},"0446":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("fc26"),Qe=Be("83d1"),et=Be("0642");Ee.exports=function transitionAxes(Ee,ze,Be,tt){var rt=Ee._fullLayout;if(0!==ze.length){var nt,at,it,ct;tt&&(nt=tt());var ft=Ue.ease(Be.easing);return Ee._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(ct),ct=null,function transitionInterrupt(){for(var Be={},Ue=0;Ue<ze.length;Ue++){var $e=ze[Ue],Qe=$e.plotinfo.xaxis,et=$e.plotinfo.yaxis;$e.xr0&&(Be[Qe._name+".range"]=$e.xr0.slice()),$e.yr0&&(Be[et._name+".range"]=$e.yr0.slice())}return We.call("relayout",Ee,Be).then((function(){for(var Ee=0;Ee<ze.length;Ee++)unsetSubplotTransform(ze[Ee].plotinfo)}))}()})),at=Date.now(),ct=window.requestAnimationFrame((function doFrame(){it=Date.now();for(var Ue=Math.min(1,(it-at)/Be.duration),$e=ft(Ue),Qe=0;Qe<ze.length;Qe++)updateSubplot(ze[Qe],$e);it-at>Be.duration?(!function transitionComplete(){for(var Be={},Ue=0;Ue<ze.length;Ue++){var $e=ze[Ue],Qe=$e.plotinfo.xaxis,et=$e.plotinfo.yaxis;$e.xr1&&(Be[Qe._name+".range"]=$e.xr1.slice()),$e.yr1&&(Be[et._name+".range"]=$e.yr1.slice())}return nt&&nt(),We.call("relayout",Ee,Be).then((function(){for(var Ee=0;Ee<ze.length;Ee++)unsetSubplotTransform(ze[Ee].plotinfo)}))}(),ct=window.cancelAnimationFrame(doFrame)):ct=window.requestAnimationFrame(doFrame)})),Promise.resolve()}function unsetSubplotTransform(Ee){var ze=Ee.xaxis,Be=Ee.yaxis;rt._defs.select("#"+Ee.clipId+"> rect").call(Qe.setTranslate,0,0).call(Qe.setScale,1,1),Ee.plot.call(Qe.setTranslate,ze._offset,Be._offset).call(Qe.setScale,1,1);var Ue=Ee.plot.selectAll(".scatterlayer .trace");Ue.selectAll(".point").call(Qe.setPointGroupScale,1,1),Ue.selectAll(".textpoint").call(Qe.setTextPointsScale,1,1),Ue.call(Qe.hideOutsideRangePoints,Ee)}function updateSubplot(ze,Be){var Ue=ze.plotinfo,We=Ue.xaxis,tt=Ue.yaxis,rt=We._length,nt=tt._length,at=!!ze.xr1,it=!!ze.yr1,ct=[];if(at){var ft=$e.simpleMap(ze.xr0,We.r2l),xt=$e.simpleMap(ze.xr1,We.r2l),kt=ft[1]-ft[0],Lt=xt[1]-xt[0];ct[0]=(ft[0]*(1-Be)+Be*xt[0]-ft[0])/(ft[1]-ft[0])*rt,ct[2]=rt*(1-Be+Be*Lt/kt),We.range[0]=We.l2r(ft[0]*(1-Be)+Be*xt[0]),We.range[1]=We.l2r(ft[1]*(1-Be)+Be*xt[1])}else ct[0]=0,ct[2]=rt;if(it){var Ut=$e.simpleMap(ze.yr0,tt.r2l),er=$e.simpleMap(ze.yr1,tt.r2l),tr=Ut[1]-Ut[0],rr=er[1]-er[0];ct[1]=(Ut[1]*(1-Be)+Be*er[1]-Ut[1])/(Ut[0]-Ut[1])*nt,ct[3]=nt*(1-Be+Be*rr/tr),tt.range[0]=We.l2r(Ut[0]*(1-Be)+Be*er[0]),tt.range[1]=tt.l2r(Ut[1]*(1-Be)+Be*er[1])}else ct[1]=0,ct[3]=nt;et.drawOne(Ee,We,{skipTitle:!0}),et.drawOne(Ee,tt,{skipTitle:!0}),et.redrawComponents(Ee,[We._id,tt._id]);var ar=at?rt/ct[2]:1,Lr=it?nt/ct[3]:1,Qr=at?ct[0]:0,on=it?ct[1]:0,sn=at?ct[0]/ct[2]*rt:0,ln=it?ct[1]/ct[3]*nt:0,cn=We._offset-sn,un=tt._offset-ln;Ue.clipRect.call(Qe.setTranslate,Qr,on).call(Qe.setScale,1/ar,1/Lr),Ue.plot.call(Qe.setTranslate,cn,un).call(Qe.setScale,ar,Lr),Qe.setPointGroupScale(Ue.zoomScalePts,1/ar,1/Lr),Qe.setTextPointsScale(Ue.zoomScaleTxt,1/ar,1/Lr)}et.redrawComponents(Ee)}},"044b":function(Ee,ze){function isBuffer(Ee){return!!Ee.constructor&&"function"==typeof Ee.constructor.isBuffer&&Ee.constructor.isBuffer(Ee)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
Ee.exports=function(Ee){return null!=Ee&&(isBuffer(Ee)||function isSlowBuffer(Ee){return"function"==typeof Ee.readFloatLE&&"function"==typeof Ee.slice&&isBuffer(Ee.slice(0,0))}(Ee)||!!Ee._isBuffer)}},"046b":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var $e in We){var Qe=$e.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");Ue.addStyleRule(Qe,We[$e])}},"04a4":function(Ee,ze,Be){"use strict";var Ue=Be("9351"),We=Be("dbd1"),$e=Be("15dd"),Qe=Be("794e"),et=Be("578f"),tt=Be("44c3"),rt=Be("a92a"),nt=Be("91b8"),at=Be("7ad0"),it=Be("f889"),ct=Be("5ccc"),ft=Be("8df8")({tablet:!0});function MouseSelect(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function roundUpPow10(Ee){var ze=Math.round(Math.log(Math.abs(Ee))/Math.log(10));if(ze<0){var Be=Math.round(Math.pow(10,-ze));return Math.ceil(Ee*Be)/Be}if(ze>0){Be=Math.round(Math.pow(10,ze));return Math.ceil(Ee/Be)*Be}return Math.ceil(Ee)}function defaultBool(Ee){return"boolean"!=typeof Ee||Ee}Ee.exports={createScene:function createScene(Ee){(Ee=Ee||{}).camera=Ee.camera||{};var ze=Ee.canvas;if(!ze){if(ze=document.createElement("canvas"),Ee.container)Ee.container.appendChild(ze);else document.body.appendChild(ze)}var Be=Ee.gl;Be||(Be=function getContext(Ee,ze){var Be=null;try{(Be=Ee.getContext("webgl",ze))||(Be=Ee.getContext("experimental-webgl",ze))}catch(Ee){return null}return Be}(ze,Ee.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:ft}));if(!Be)throw new Error("webgl not supported");var xt=Ee.bounds||[[-10,-10,-10],[10,10,10]],kt=new MouseSelect,Lt=tt(Be,[Be.drawingBufferWidth,Be.drawingBufferHeight],{preferFloat:!ft}),Ut=ct(Be),er=Ee.cameraObject&&!0===Ee.cameraObject._ortho||Ee.camera.projection&&"orthographic"===Ee.camera.projection.type||!1,tr={eye:Ee.camera.eye||[2,0,0],center:Ee.camera.center||[0,0,0],up:Ee.camera.up||[0,1,0],zoomMin:Ee.camera.zoomMax||.1,zoomMax:Ee.camera.zoomMin||100,mode:Ee.camera.mode||"turntable",_ortho:er},rr=Ee.axes||{},ar=We(Be,rr);ar.enable=!rr.disable;var Lr=Ee.spikes||{},Qr=Qe(Be,Lr),on=[],sn=[],ln=[],cn=[],un=!0,hn=!0,dn=new Array(16),vn=new Array(16),yn={view:null,projection:dn,model:vn,_ortho:!1},_n=(hn=!0,[Be.drawingBufferWidth,Be.drawingBufferHeight]),Mn=Ee.cameraObject||Ue(ze,tr),Cn={gl:Be,contextLost:!1,pixelRatio:Ee.pixelRatio||1,canvas:ze,selection:kt,camera:Mn,axes:ar,axesPixels:null,spikes:Qr,bounds:xt,objects:on,shape:_n,aspect:Ee.aspectRatio||[1,1,1],pickRadius:Ee.pickRadius||10,zNear:Ee.zNear||.01,zFar:Ee.zFar||1e3,fovy:Ee.fovy||Math.PI/4,clearColor:Ee.clearColor||[0,0,0,0],autoResize:defaultBool(Ee.autoResize),autoBounds:defaultBool(Ee.autoBounds),autoScale:!!Ee.autoScale,autoCenter:defaultBool(Ee.autoCenter),clipToBounds:defaultBool(Ee.clipToBounds),snapToData:!!Ee.snapToData,onselect:Ee.onselect||null,onrender:Ee.onrender||null,onclick:Ee.onclick||null,cameraParams:yn,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ee){this.aspect[0]=Ee.x,this.aspect[1]=Ee.y,this.aspect[2]=Ee.z},setBounds:function(Ee,ze){this.bounds[0][Ee]=ze.min,this.bounds[1][Ee]=ze.max},setClearColor:function(Ee){this.clearColor=Ee},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},En=[Be.drawingBufferWidth/Cn.pixelRatio|0,Be.drawingBufferHeight/Cn.pixelRatio|0];function resizeListener(){if(!Cn._stopped&&Cn.autoResize){var Ee=ze.parentNode,Be=1,Ue=1;Ee&&Ee!==document.body?(Be=Ee.clientWidth,Ue=Ee.clientHeight):(Be=window.innerWidth,Ue=window.innerHeight);var We=0|Math.ceil(Be*Cn.pixelRatio),$e=0|Math.ceil(Ue*Cn.pixelRatio);if(We!==ze.width||$e!==ze.height){ze.width=We,ze.height=$e;var Qe=ze.style;Qe.position=Qe.position||"absolute",Qe.left="0px",Qe.top="0px",Qe.width=Be+"px",Qe.height=Ue+"px",un=!0}}}Cn.autoResize&&resizeListener();function reallocPickIds(){for(var Ee=on.length,ze=cn.length,Ue=0;Ue<ze;++Ue)ln[Ue]=0;e:for(Ue=0;Ue<Ee;++Ue){var We=on[Ue],$e=We.pickSlots;if($e){for(var Qe=0;Qe<ze;++Qe)if(ln[Qe]+$e<255){sn[Ue]=Qe,We.setPickBase(ln[Qe]+1),ln[Qe]+=$e;continue e}var tt=et(Be,_n);sn[Ue]=ze,cn.push(tt),ln.push($e),We.setPickBase(1),ze+=1}else sn[Ue]=-1}for(;ze>0&&0===ln[ze-1];)ln.pop(),cn.pop().dispose()}function checkContextLoss(){if(Cn.contextLost)return!0;Be.isContextLost()&&(Cn.contextLost=!0,Cn.mouseListener.enabled=!1,Cn.selection.object=null,Cn.oncontextloss&&Cn.oncontextloss())}window.addEventListener("resize",resizeListener),Cn.update=function(Ee){Cn._stopped||(Ee=Ee||{},un=!0,hn=!0)},Cn.add=function(Ee){Cn._stopped||(Ee.axes=ar,on.push(Ee),sn.push(-1),un=!0,hn=!0,reallocPickIds())},Cn.remove=function(Ee){if(!Cn._stopped){var ze=on.indexOf(Ee);ze<0||(on.splice(ze,1),sn.pop(),un=!0,hn=!0,reallocPickIds())}},Cn.dispose=function(){if(!Cn._stopped&&(Cn._stopped=!0,window.removeEventListener("resize",resizeListener),ze.removeEventListener("webglcontextlost",checkContextLoss),Cn.mouseListener.enabled=!1,!Cn.contextLost)){ar.dispose(),Qr.dispose();for(var Ee=0;Ee<on.length;++Ee)on[Ee].dispose();Lt.dispose();for(Ee=0;Ee<cn.length;++Ee)cn[Ee].dispose();Ut.dispose(),Be=null,ar=null,Qr=null,on=[]}},Cn._mouseRotating=!1,Cn._prevButtons=0,Cn.enableMouseListeners=function(){Cn.mouseListener=nt(ze,(function(Ee,ze,Be){if(!Cn._stopped){var Ue=cn.length,We=on.length,$e=kt.object;kt.distance=1/0,kt.mouse[0]=ze,kt.mouse[1]=Be,kt.object=null,kt.screen=null,kt.dataCoordinate=kt.dataPosition=null;var Qe=!1;if(Ee&&Cn._prevButtons)Cn._mouseRotating=!0;else{Cn._mouseRotating&&(hn=!0),Cn._mouseRotating=!1;for(var et=0;et<Ue;++et){var tt=cn[et].query(ze,En[1]-Be-1,Cn.pickRadius);if(tt){if(tt.distance>kt.distance)continue;for(var rt=0;rt<We;++rt){var nt=on[rt];if(sn[rt]===et){var at=nt.pick(tt);at&&(kt.buttons=Ee,kt.screen=tt.coord,kt.distance=tt.distance,kt.object=nt,kt.index=at.distance,kt.dataPosition=at.position,kt.dataCoordinate=at.dataCoordinate,kt.data=at,Qe=!0)}}}}}$e&&$e!==kt.object&&($e.highlight&&$e.highlight(null),un=!0),kt.object&&(kt.object.highlight&&kt.object.highlight(kt.data),un=!0),(Qe=Qe||kt.object!==$e)&&Cn.onselect&&Cn.onselect(kt),1&Ee&&!(1&Cn._prevButtons)&&Cn.onclick&&Cn.onclick(kt),Cn._prevButtons=Ee}}))},ze.addEventListener("webglcontextlost",checkContextLoss);var Pn=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],In=[Pn[0].slice(),Pn[1].slice()];function redraw(){if(!checkContextLoss()){resizeListener();var Ee=Cn.camera.tick();yn.view=Cn.camera.matrix,un=un||Ee,hn=hn||Ee,ar.pixelRatio=Cn.pixelRatio,Qr.pixelRatio=Cn.pixelRatio;var ze=on.length,Ue=Pn[0],We=Pn[1];Ue[0]=Ue[1]=Ue[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var Qe=0;Qe<ze;++Qe){(vn=on[Qe]).pixelRatio=Cn.pixelRatio,vn.axes=Cn.axes,un=un||!!vn.dirty,hn=hn||!!vn.dirty;var et=vn.bounds;if(et)for(var tt=et[0],nt=et[1],ct=0;ct<3;++ct)Ue[ct]=Math.min(Ue[ct],tt[ct]),We[ct]=Math.max(We[ct],nt[ct])}var ft=Cn.bounds;if(Cn.autoBounds)for(ct=0;ct<3;++ct){if(We[ct]<Ue[ct])Ue[ct]=-1,We[ct]=1;else{Ue[ct]===We[ct]&&(Ue[ct]-=1,We[ct]+=1);var xt=.05*(We[ct]-Ue[ct]);Ue[ct]=Ue[ct]-xt,We[ct]=We[ct]+xt}ft[0][ct]=Ue[ct],ft[1][ct]=We[ct]}var tr=!1;for(ct=0;ct<3;++ct)tr=tr||In[0][ct]!==ft[0][ct]||In[1][ct]!==ft[1][ct],In[0][ct]=ft[0][ct],In[1][ct]=ft[1][ct];if(hn=hn||tr,un=un||tr){if(tr){var rr=[0,0,0];for(Qe=0;Qe<3;++Qe)rr[Qe]=roundUpPow10((ft[1][Qe]-ft[0][Qe])/10);ar.autoTicks?ar.update({bounds:ft,tickSpacing:rr}):ar.update({bounds:ft})}var Lr=Be.drawingBufferWidth,ln=Be.drawingBufferHeight;_n[0]=Lr,_n[1]=ln,En[0]=0|Math.max(Lr/Cn.pixelRatio,1),En[1]=0|Math.max(ln/Cn.pixelRatio,1),function calcCameraParams(Ee,ze){var Be=Ee.bounds,Ue=Ee.cameraParams,We=Ue.projection,$e=Ue.model,Qe=Ee.gl.drawingBufferWidth,et=Ee.gl.drawingBufferHeight,tt=Ee.zNear,rt=Ee.zFar,nt=Ee.fovy,ct=Qe/et;ze?(it(We,-ct,ct,-1,1,tt,rt),Ue._ortho=!0):(at(We,nt,ct,tt,rt),Ue._ortho=!1);for(var ft=0;ft<16;++ft)$e[ft]=0;$e[15]=1;var xt=0;for(ft=0;ft<3;++ft)xt=Math.max(xt,Be[1][ft]-Be[0][ft]);for(ft=0;ft<3;++ft)Ee.autoScale?$e[5*ft]=Ee.aspect[ft]/(Be[1][ft]-Be[0][ft]):$e[5*ft]=1/xt,Ee.autoCenter&&($e[12+ft]=.5*-$e[5*ft]*(Be[0][ft]+Be[1][ft]))}(Cn,er);for(Qe=0;Qe<ze;++Qe){(vn=on[Qe]).axesBounds=ft,Cn.clipToBounds&&(vn.clipBounds=ft)}kt.object&&(Cn.snapToData?Qr.position=kt.dataCoordinate:Qr.position=kt.dataPosition,Qr.bounds=ft),hn&&(hn=!1,function renderPick(){if(!checkContextLoss()){Be.colorMask(!0,!0,!0,!0),Be.depthMask(!0),Be.disable(Be.BLEND),Be.enable(Be.DEPTH_TEST),Be.depthFunc(Be.LEQUAL);for(var Ee=on.length,ze=cn.length,Ue=0;Ue<ze;++Ue){var We=cn[Ue];We.shape=En,We.begin();for(var $e=0;$e<Ee;++$e)if(sn[$e]===Ue){var Qe=on[$e];Qe.drawPick&&(Qe.pixelRatio=1,Qe.drawPick(yn))}We.end()}}}()),Cn.axesPixels=$e(Cn.axes,yn,Lr,ln),Cn.onrender&&Cn.onrender(),Be.bindFramebuffer(Be.FRAMEBUFFER,null),Be.viewport(0,0,Lr,ln),Cn.clearRGBA(),Be.depthMask(!0),Be.colorMask(!0,!0,!0,!0),Be.enable(Be.DEPTH_TEST),Be.depthFunc(Be.LEQUAL),Be.disable(Be.BLEND),Be.disable(Be.CULL_FACE);var dn=!1;ar.enable&&(dn=dn||ar.isTransparent(),ar.draw(yn)),Qr.axes=ar,kt.object&&Qr.draw(yn),Be.disable(Be.CULL_FACE);for(Qe=0;Qe<ze;++Qe){(vn=on[Qe]).axes=ar,vn.pixelRatio=Cn.pixelRatio,vn.isOpaque&&vn.isOpaque()&&vn.draw(yn),vn.isTransparent&&vn.isTransparent()&&(dn=!0)}if(dn){Lt.shape=_n,Lt.bind(),Be.clear(Be.DEPTH_BUFFER_BIT),Be.colorMask(!1,!1,!1,!1),Be.depthMask(!0),Be.depthFunc(Be.LESS),ar.enable&&ar.isTransparent()&&ar.drawTransparent(yn);for(Qe=0;Qe<ze;++Qe){(vn=on[Qe]).isOpaque&&vn.isOpaque()&&vn.draw(yn)}Be.enable(Be.BLEND),Be.blendEquation(Be.FUNC_ADD),Be.blendFunc(Be.ONE,Be.ONE_MINUS_SRC_ALPHA),Be.colorMask(!0,!0,!0,!0),Be.depthMask(!1),Be.clearColor(0,0,0,0),Be.clear(Be.COLOR_BUFFER_BIT),ar.isTransparent()&&ar.drawTransparent(yn);for(Qe=0;Qe<ze;++Qe){var vn;(vn=on[Qe]).isTransparent&&vn.isTransparent()&&vn.drawTransparent(yn)}Be.bindFramebuffer(Be.FRAMEBUFFER,null),Be.blendFunc(Be.ONE,Be.ONE_MINUS_SRC_ALPHA),Be.disable(Be.DEPTH_TEST),Ut.bind(),Lt.color[0].bind(0),Ut.uniforms.accumBuffer=0,rt(Be),Be.disable(Be.BLEND)}un=!1;for(Qe=0;Qe<ze;++Qe)on[Qe].dirty=!1}}}return Cn.enableMouseListeners(),function render(){if(Cn._stopped||Cn.contextLost)return;redraw(),requestAnimationFrame(render)}(),Cn.redraw=function(){Cn._stopped||(un=!0,redraw())},Cn},createCamera:Ue}},"04ad":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Be("d2d9")}}},layoutAttributes:Be("d2d9"),handleDefaults:Be("f7c1"),draw:Be("887c")}},"055a":function(Ee,ze,Be){"use strict";ze.counter=function(Ee,ze,Be,Ue){var We=(ze||"")+(Be?"":"$"),$e=!1===Ue?"":"^";return"xy"===Ee?new RegExp($e+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+We):new RegExp($e+Ee+"([2-9]|[1-9][0-9]+)?"+We)}},"057f":function(Ee,ze,Be){var Ue=Be("fc6a"),We=Be("241c").f,$e={}.toString,Qe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ee.exports.f=function getOwnPropertyNames(Ee){return Qe&&"[object Window]"==$e.call(Ee)?function(Ee){try{return We(Ee)}catch(Ee){return Qe.slice()}}(Ee):We(Ue(Ee))}},"0591":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("cba1"),supplyDefaults:Be("bc74"),calc:Be("c1d8"),plot:Be("c63d"),moduleType:"trace",name:"pointcloud",basePlotModule:Be("078e"),categories:["gl","gl2d","showLegend"],meta:{}}},"05a6":function(Ee,ze,Be){"use strict";var Ue=Be("cea5");function array(Ee){return"a"+Ee}function data(Ee){return"d"+Ee}function cube(Ee,ze){return"c"+Ee+"_"+ze}function shape(Ee){return"s"+Ee}function stride(Ee,ze){return"t"+Ee+"_"+ze}function offset(Ee){return"o"+Ee}function scalar(Ee){return"x"+Ee}function pointer(Ee){return"p"+Ee}function delta(Ee,ze){return"d"+Ee+"_"+ze}function index(Ee){return"i"+Ee}function step(Ee,ze){return"u"+Ee+"_"+ze}function pcube(Ee){return"b"+Ee}function qcube(Ee){return"y"+Ee}function pdelta(Ee){return"e"+Ee}function vert(Ee){return"v"+Ee}Ee.exports=function createSurfaceExtractor(Ee){function error(Ee){throw new Error("ndarray-extract-contour: "+Ee)}"object"!=typeof Ee&&error("Must specify arguments");var ze=Ee.order;Array.isArray(ze)||error("Must specify order");var Be=Ee.arrayArguments||1;Be<1&&error("Must have at least one array argument");var We=Ee.scalarArguments||0;We<0&&error("Scalar arg count must be > 0");"function"!=typeof Ee.vertex&&error("Must specify vertex creation function");"function"!=typeof Ee.cell&&error("Must specify cell creation function");"function"!=typeof Ee.phase&&error("Must specify phase function");for(var $e=Ee.getters||[],Qe=new Array(Be),et=0;et<Be;++et)$e.indexOf(et)>=0?Qe[et]=!0:Qe[et]=!1;return function compileSurfaceProcedure(Ee,ze,Be,We,$e,Qe){var et=Qe.length,tt=$e.length;if(tt<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var rt="extractContour"+$e.join("_"),nt=[],at=[],it=[],ct=0;ct<et;++ct)it.push(array(ct));for(ct=0;ct<We;++ct)it.push(scalar(ct));for(ct=0;ct<tt;++ct)at.push(shape(ct)+"="+array(0)+".shape["+ct+"]|0");for(ct=0;ct<et;++ct){at.push(data(ct)+"="+array(ct)+".data",offset(ct)+"="+array(ct)+".offset|0");for(var ft=0;ft<tt;++ft)at.push(stride(ct,ft)+"="+array(ct)+".stride["+ft+"]|0")}for(ct=0;ct<et;++ct){at.push(pointer(ct)+"="+offset(ct)),at.push(cube(ct,0));for(ft=1;ft<1<<tt;++ft){for(var xt=[],kt=0;kt<tt;++kt)ft&1<<kt&&xt.push("-"+stride(ct,kt));at.push(delta(ct,ft)+"=("+xt.join("")+")|0"),at.push(cube(ct,ft)+"=0")}}for(ct=0;ct<et;++ct)for(ft=0;ft<tt;++ft){var Lt=[stride(ct,$e[ft])];ft>0&&Lt.push(stride(ct,$e[ft-1])+"*"+shape($e[ft-1])),at.push(step(ct,$e[ft])+"=("+Lt.join("-")+")|0")}for(ct=0;ct<tt;++ct)at.push(index(ct)+"=0");at.push("N=0");var Ut=["2"];for(ct=tt-2;ct>=0;--ct)Ut.push(shape($e[ct]));at.push("Q=("+Ut.join("*")+")|0","P=mallocUint32(Q)","V=mallocUint32(Q)","X=0"),at.push(pcube(0)+"=0");for(ft=1;ft<1<<tt;++ft){var er=[],tr=[];for(kt=0;kt<tt;++kt)ft&1<<kt&&(0===tr.length?er.push("1"):er.unshift(tr.join("*"))),tr.push(shape($e[kt]));var rr="";er[0].indexOf(shape($e[tt-2]))<0&&(rr="-");var ar=permBitmask(tt,ft,$e);at.push(pdelta(ar)+"=(-"+er.join("-")+")|0",qcube(ar)+"=("+rr+er.join("-")+")|0",pcube(ar)+"=0")}function forLoopBegin(Ee,ze){nt.push("for(",index($e[Ee]),"=",ze,";",index($e[Ee]),"<",shape($e[Ee]),";","++",index($e[Ee]),"){")}function forLoopEnd(Ee){for(var ze=0;ze<et;++ze)nt.push(pointer(ze),"+=",step(ze,$e[Ee]),";");nt.push("}")}function flip(){for(var Ee=1;Ee<1<<tt;++Ee)nt.push("T","=",pdelta(Ee),";",pdelta(Ee),"=",qcube(Ee),";",qcube(Ee),"=","T",";")}at.push(vert(0)+"=0","T=0"),function createLoop(Ee,ze){if(Ee<0)(function processGridCell(Ee){for(var ze=0;ze<et;++ze)Qe[ze]?nt.push(cube(ze,0),"=",data(ze),".get(",pointer(ze),");"):nt.push(cube(ze,0),"=",data(ze),"[",pointer(ze),"];");var Be=[];for(ze=0;ze<et;++ze)Be.push(cube(ze,0));for(ze=0;ze<We;++ze)Be.push(scalar(ze));nt.push(pcube(0),"=","P","[","X","]=phase(",Be.join(),");");for(var Ue=1;Ue<1<<tt;++Ue)nt.push(pcube(Ue),"=","P","[","X","+",pdelta(Ue),"];");var $e=[];for(Ue=1;Ue<1<<tt;++Ue)$e.push("("+pcube(0)+"!=="+pcube(Ue)+")");nt.push("if(",$e.join("||"),"){");var rt=[];for(ze=0;ze<tt;++ze)rt.push(index(ze));for(ze=0;ze<et;++ze){rt.push(cube(ze,0));for(Ue=1;Ue<1<<tt;++Ue)Qe[ze]?nt.push(cube(ze,Ue),"=",data(ze),".get(",pointer(ze),"+",delta(ze,Ue),");"):nt.push(cube(ze,Ue),"=",data(ze),"[",pointer(ze),"+",delta(ze,Ue),"];"),rt.push(cube(ze,Ue))}for(ze=0;ze<1<<tt;++ze)rt.push(pcube(ze));for(ze=0;ze<We;++ze)rt.push(scalar(ze));nt.push("vertex(",rt.join(),");",vert(0),"=","V","[","X","]=","N","++;");var at=(1<<tt)-1,it=pcube(at);for(Ue=0;Ue<tt;++Ue)if(0==(Ee&~(1<<Ue))){for(var ct=at^1<<Ue,ft=pcube(ct),xt=[],kt=ct;kt>0;kt=kt-1&ct)xt.push("V[X+"+pdelta(kt)+"]");xt.push(vert(0));for(kt=0;kt<et;++kt)1&Ue?xt.push(cube(kt,at),cube(kt,ct)):xt.push(cube(kt,ct),cube(kt,at));1&Ue?xt.push(it,ft):xt.push(ft,it);for(kt=0;kt<We;++kt)xt.push(scalar(kt));nt.push("if(",it,"!==",ft,"){","face(",xt.join(),")}")}nt.push("}","X","+=1;")})(ze);else{!function fillEmptySlice(Ee){for(var ze=Ee-1;ze>=0;--ze)forLoopBegin(ze,0);var Be=[];for(ze=0;ze<et;++ze)Qe[ze]?Be.push(data(ze)+".get("+pointer(ze)+")"):Be.push(data(ze)+"["+pointer(ze)+"]");for(ze=0;ze<We;++ze)Be.push(scalar(ze));for(nt.push("P","[","X","++]=phase(",Be.join(),");"),ze=0;ze<Ee;++ze)forLoopEnd(ze);for(var Ue=0;Ue<et;++Ue)nt.push(pointer(Ue),"+=",step(Ue,$e[Ee]),";")}(Ee),nt.push("if(",shape($e[Ee]),">0){",index($e[Ee]),"=1;"),createLoop(Ee-1,ze|1<<$e[Ee]);for(var Be=0;Be<et;++Be)nt.push(pointer(Be),"+=",step(Be,$e[Ee]),";");Ee===tt-1&&(nt.push("X","=0;"),flip()),forLoopBegin(Ee,2),createLoop(Ee-1,ze),Ee===tt-1&&(nt.push("if(",index($e[tt-1]),"&1){","X","=0;}"),flip()),forLoopEnd(Ee),nt.push("}")}}(tt-1,0),nt.push("freeUint32(","V",");freeUint32(","P",");");var Lr=["'use strict';","function ",rt,"(",it.join(),"){","var ",at.join(),";",nt.join(""),"}","return ",rt].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",Lr)(Ee,ze,Be,Ue.mallocUint32,Ue.freeUint32)}(Ee.vertex,Ee.cell,Ee.phase,We,ze,Qe)};function permBitmask(Ee,ze,Be){for(var Ue=0,We=0;We<Ee;++We)ze&1<<We&&(Ue|=1<<Be[We]);return Ue}},"05d6":function(Ee,ze,Be){"use strict";Ee.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeCapture:"node-capture",nodeCentered:"node-entered",nodeLabelGuide:"node-label-guide",nodeLabel:"node-label",nodeLabelTextPath:"node-label-text-path"}}},"0625":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("0642"),Qe=Be("7f9e"),et=Be("3aa8"),tt=Be("d064"),rt=Be("1b6a"),nt=Be("2d0e"),at=Be("0c3a"),it=Be("d706");Ee.exports=function calc(Ee,ze){var Be,ct,ft,xt,kt,Lt,Ut,er,tr,rr=$e.getFromId(Ee,ze.xaxis||"x"),ar=$e.getFromId(Ee,ze.yaxis||"y"),Lr=Ue.traceIs(ze,"contour"),Qr=Ue.traceIs(ze,"histogram"),on=Ue.traceIs(ze,"gl2d"),sn=Lr?"best":ze.zsmooth;if(rr._minDtick=0,ar._minDtick=0,Qr)Be=(tr=Qe(Ee,ze)).x,ct=tr.x0,ft=tr.dx,xt=tr.y,kt=tr.y0,Lt=tr.dy,Ut=tr.z;else{var ln=ze.z;We.isArray1D(ln)?(tt(ze,rr,ar,"x","y",["z"]),Be=ze._x,xt=ze._y,ln=ze._z):(Be=ze._x=ze.x?rr.makeCalcdata(ze,"x"):[],xt=ze._y=ze.y?ar.makeCalcdata(ze,"y"):[]),ct=ze.x0,ft=ze.dx,kt=ze.y0,Lt=ze.dy,Ut=rt(ln,ze,rr,ar),(Lr||ze.connectgaps)&&(ze._emptypoints=at(Ut),nt(Ut,ze._emptypoints))}function noZsmooth(Ee){sn=ze._input.zsmooth=ze.zsmooth=!1,We.warn('cannot use zsmooth: "fast": '+Ee)}if("fast"===sn)if("log"===rr.type||"log"===ar.type)noZsmooth("log axis found");else if(!Qr){if(Be.length){var cn=(Be[Be.length-1]-Be[0])/(Be.length-1),un=Math.abs(cn/100);for(er=0;er<Be.length-1;er++)if(Math.abs(Be[er+1]-Be[er]-cn)>un){noZsmooth("x scale is not linear");break}}if(xt.length&&"fast"===sn){var hn=(xt[xt.length-1]-xt[0])/(xt.length-1),dn=Math.abs(hn/100);for(er=0;er<xt.length-1;er++)if(Math.abs(xt[er+1]-xt[er]-hn)>dn){noZsmooth("y scale is not linear");break}}}var vn=We.maxRowLength(Ut),yn="scaled"===ze.xtype?"":Be,_n=it(ze,yn,ct,ft,vn,rr),Mn="scaled"===ze.ytype?"":xt,Cn=it(ze,Mn,kt,Lt,Ut.length,ar);on||(ze._extremes[rr._id]=$e.findExtremes(rr,_n),ze._extremes[ar._id]=$e.findExtremes(ar,Cn));var En={x:_n,y:Cn,z:Ut,text:ze._text||ze.text,hovertext:ze._hovertext||ze.hovertext};if(yn&&yn.length===_n.length-1&&(En.xCenter=yn),Mn&&Mn.length===Cn.length-1&&(En.yCenter=Mn),Qr&&(En.xRanges=tr.xRanges,En.yRanges=tr.yRanges,En.pts=tr.pts),Lr||et(Ee,ze,{vals:Ut,cLetter:"z"}),Lr&&ze.contours&&"heatmap"===ze.contours.coloring){var Pn={type:"contour"===ze.type?"heatmap":"histogram2d",xcalendar:ze.xcalendar,ycalendar:ze.ycalendar};En.xfill=it(Pn,yn,ct,ft,vn,rr),En.yfill=it(Pn,Mn,kt,Lt,Ut.length,ar)}return[En]}},"0642":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("bb71"),Qe=Be("371e"),et=Be("fc26"),tt=Be("0379"),rt=Be("1999"),nt=Be("d115"),at=Be("83d1"),it=Be("d798"),ct=Be("da6a"),ft=Be("e806"),xt=ft.ONEAVGYEAR,kt=ft.ONEAVGMONTH,Lt=ft.ONEDAY,Ut=ft.ONEHOUR,er=ft.ONEMIN,tr=ft.ONESEC,rr=ft.MINUS_SIGN,ar=ft.BADNUM,Lr=Be("63dc"),Qr=Lr.MID_SHIFT,on=Lr.CAP_SHIFT,sn=Lr.LINE_SPACING,ln=Lr.OPPOSITE_SIDE,cn=Ee.exports={};cn.setConvert=Be("1a40");var un=Be("0b77"),hn=Be("3c1c");cn.id2name=hn.id2name,cn.name2id=hn.name2id,cn.cleanId=hn.cleanId,cn.list=hn.list,cn.listIds=hn.listIds,cn.getFromId=hn.getFromId,cn.getFromTrace=hn.getFromTrace;var dn=Be("ce56");cn.getAutoRange=dn.getAutoRange,cn.findExtremes=dn.findExtremes,cn.coerceRef=function(Ee,ze,Be,Ue,We,$e){var Qe=Ue.charAt(Ue.length-1),tt=Be._fullLayout._subplots[Qe+"axis"],rt=Ue+"ref",nt={};return We||(We=tt[0]||$e),$e||($e=We),nt[rt]={valType:"enumerated",values:tt.concat($e?[$e]:[]),dflt:We},et.coerce(Ee,ze,nt,rt)},cn.coercePosition=function(Ee,ze,Be,Ue,We,$e){var Qe,tt;if("paper"===Ue||"pixel"===Ue)Qe=et.ensureNumber,tt=Be(We,$e);else{var rt=cn.getFromId(ze,Ue);tt=Be(We,$e=rt.fraction2r($e)),Qe=rt.cleanPos}Ee[We]=Qe(tt)},cn.cleanPosition=function(Ee,ze,Be){return("paper"===Be||"pixel"===Be?et.ensureNumber:cn.getFromId(ze,Be).cleanPos)(Ee)},cn.redrawComponents=function(Ee,ze){ze=ze||cn.listIds(Ee);var Be=Ee._fullLayout;function _redrawOneComp(Ue,We,$e,et){for(var tt=Qe.getComponentMethod(Ue,We),rt={},nt=0;nt<ze.length;nt++)for(var at=Be[cn.id2name(ze[nt])][$e],it=0;it<at.length;it++){var ct=at[it];if(!rt[ct]&&(tt(Ee,ct),rt[ct]=1,et))return}}_redrawOneComp("annotations","drawOne","_annIndices"),_redrawOneComp("shapes","drawOne","_shapeIndices"),_redrawOneComp("images","draw","_imgIndices",!0)};var vn=cn.getDataConversions=function(Ee,ze,Be,Ue){var We,$e="x"===Be||"y"===Be||"z"===Be?Be:Ue;if(Array.isArray($e)){if(We={type:un(Ue),_categories:[]},cn.setConvert(We),"category"===We.type)for(var Qe=0;Qe<Ue.length;Qe++)We.d2c(Ue[Qe])}else We=cn.getFromTrace(Ee,ze,$e);return We?{d2c:We.d2c,c2d:We.c2d}:"ids"===$e?{d2c:toString,c2d:toString}:{d2c:toNum,c2d:toNum}};function toNum(Ee){return+Ee}function toString(Ee){return String(Ee)}cn.getDataToCoordFunc=function(Ee,ze,Be,Ue){return vn(Ee,ze,Be,Ue).d2c},cn.counterLetter=function(Ee){var ze=Ee.charAt(0);return"x"===ze?"y":"y"===ze?"x":void 0},cn.minDtick=function(Ee,ze,Be,Ue){-1===["log","category","multicategory"].indexOf(Ee.type)&&Ue?void 0===Ee._minDtick?(Ee._minDtick=ze,Ee._forceTick0=Be):Ee._minDtick&&((Ee._minDtick/ze+1e-6)%1<2e-6&&((Be-Ee._forceTick0)/ze%1+1.000001)%1<2e-6?(Ee._minDtick=ze,Ee._forceTick0=Be):((ze/Ee._minDtick+1e-6)%1>2e-6||((Be-Ee._forceTick0)/Ee._minDtick%1+1.000001)%1>2e-6)&&(Ee._minDtick=0)):Ee._minDtick=0},cn.saveRangeInitial=function(Ee,ze){for(var Be=cn.list(Ee,"",!0),Ue=!1,We=0;We<Be.length;We++){var $e=Be[We],Qe=void 0===$e._rangeInitial,et=Qe||!($e.range[0]===$e._rangeInitial[0]&&$e.range[1]===$e._rangeInitial[1]);(Qe&&!1===$e.autorange||ze&&et)&&($e._rangeInitial=$e.range.slice(),Ue=!0)}return Ue},cn.saveShowSpikeInitial=function(Ee,ze){for(var Be=cn.list(Ee,"",!0),Ue=!1,We="on",$e=0;$e<Be.length;$e++){var Qe=Be[$e],et=void 0===Qe._showSpikeInitial,tt=et||!(Qe.showspikes===Qe._showspikes);(et||ze&&tt)&&(Qe._showSpikeInitial=Qe.showspikes,Ue=!0),"on"!==We||Qe.showspikes||(We="off")}return Ee._fullLayout._cartesianSpikesEnabled=We,Ue},cn.autoBin=function(Ee,ze,Be,Ue,$e,Qe){var tt,rt=et.aggNums(Math.min,null,Ee),nt=et.aggNums(Math.max,null,Ee);if("category"===ze.type||"multicategory"===ze.type)return{start:rt-.5,end:nt+.5,size:Math.max(1,Math.round(Qe)||1),_dataSpan:nt-rt};if($e||($e=ze.calendar),tt="log"===ze.type?{type:"linear",range:[rt,nt]}:{type:ze.type,range:et.simpleMap([rt,nt],ze.c2r,0,$e),calendar:$e},cn.setConvert(tt),Qe=Qe&&ct.dtick(Qe,tt.type))tt.dtick=Qe,tt.tick0=ct.tick0(void 0,tt.type,$e);else{var at;if(Be)at=(nt-rt)/Be;else{var it=et.distinctVals(Ee),ft=Math.pow(10,Math.floor(Math.log(it.minDiff)/Math.LN10)),xt=ft*et.roundUp(it.minDiff/ft,[.9,1.9,4.9,9.9],!0);at=Math.max(xt,2*et.stdev(Ee)/Math.pow(Ee.length,Ue?.25:.4)),We(at)||(at=1)}cn.autoTicks(tt,at)}var kt,Ut=tt.dtick,er=cn.tickIncrement(cn.tickFirst(tt),Ut,"reverse",$e);if("number"==typeof Ut)kt=(er=function autoShiftNumericBins(Ee,ze,Be,Ue,$e){var Qe=0,et=0,tt=0,rt=0;function nearEdge(ze){return(1+100*(ze-Ee)/Be.dtick)%100<2}for(var nt=0;nt<ze.length;nt++)ze[nt]%1==0?tt++:We(ze[nt])||rt++,nearEdge(ze[nt])&&Qe++,nearEdge(ze[nt]+Be.dtick/2)&&et++;var at=ze.length-rt;if(tt===at&&"date"!==Be.type)Be.dtick<1?Ee=Ue-.5*Be.dtick:(Ee-=.5)+Be.dtick<Ue&&(Ee+=Be.dtick);else if(et<.1*at&&(Qe>.3*at||nearEdge(Ue)||nearEdge($e))){var it=Be.dtick/2;Ee+=Ee+it<Ue?it:-it}return Ee}(er,Ee,tt,rt,nt))+(1+Math.floor((nt-er)/Ut))*Ut;else for("M"===tt.dtick.charAt(0)&&(er=function autoShiftMonthBins(Ee,ze,Be,Ue,We){var $e=et.findExactDates(ze,We);if($e.exactDays>.8){var Qe=Number(Be.substr(1));$e.exactYears>.8&&Qe%12==0?Ee=cn.tickIncrement(Ee,"M6","reverse")+1.5*Lt:$e.exactMonths>.8?Ee=cn.tickIncrement(Ee,"M1","reverse")+15.5*Lt:Ee-=Lt/2;var tt=cn.tickIncrement(Ee,Be);if(tt<=Ue)return tt}return Ee}(er,Ee,Ut,rt,$e)),kt=er,0;kt<=nt;)kt=cn.tickIncrement(kt,Ut,!1,$e);return{start:ze.c2r(er,0,$e),end:ze.c2r(kt,0,$e),size:Ut,_dataSpan:nt-rt}},cn.prepTicks=function(Ee){var ze=et.simpleMap(Ee.range,Ee.r2l);if("auto"===Ee.tickmode||!Ee.dtick){var Be,Ue=Ee.nticks;Ue||("category"===Ee.type||"multicategory"===Ee.type?(Be=Ee.tickfont?1.2*(Ee.tickfont.size||12):15,Ue=Ee._length/Be):(Be="y"===Ee._id.charAt(0)?40:80,Ue=et.constrain(Ee._length/Be,4,9)+1),"radialaxis"===Ee._name&&(Ue*=2)),"array"===Ee.tickmode&&(Ue*=100),cn.autoTicks(Ee,Math.abs(ze[1]-ze[0])/Ue),Ee._minDtick>0&&Ee.dtick<2*Ee._minDtick&&(Ee.dtick=Ee._minDtick,Ee.tick0=Ee.l2r(Ee._forceTick0))}Ee.tick0||(Ee.tick0="date"===Ee.type?"2000-01-01":0),"date"===Ee.type&&Ee.dtick<.1&&(Ee.dtick=.1),autoTickRound(Ee)},cn.calcTicks=function calcTicks(Ee){cn.prepTicks(Ee);var ze=et.simpleMap(Ee.range,Ee.r2l);if("array"===Ee.tickmode)return function arrayTicks(Ee){var ze=Ee.tickvals,Be=Ee.ticktext,Ue=new Array(ze.length),We=et.simpleMap(Ee.range,Ee.r2l),$e=1.0001*We[0]-1e-4*We[1],Qe=1.0001*We[1]-1e-4*We[0],tt=Math.min($e,Qe),rt=Math.max($e,Qe),nt=0;Array.isArray(Be)||(Be=[]);var at="category"===Ee.type?Ee.d2l_noadd:Ee.d2l;"log"===Ee.type&&"L"!==String(Ee.dtick).charAt(0)&&(Ee.dtick="L"+Math.pow(10,Math.floor(Math.min(Ee.range[0],Ee.range[1]))-1));for(var it=0;it<ze.length;it++){var ct=at(ze[it]);ct>tt&&ct<rt&&(void 0===Be[it]?Ue[nt]=cn.tickText(Ee,ct):Ue[nt]=tickTextObj(Ee,ct,String(Be[it])),nt++)}nt<ze.length&&Ue.splice(nt,ze.length-nt);return Ue}(Ee);Ee._tmin=cn.tickFirst(Ee);var Be=1.0001*ze[0]-1e-4*ze[1],Ue=1.0001*ze[1]-1e-4*ze[0],$e=ze[1]<ze[0];if(Ee._tmin<Be!==$e)return[];var Qe=[];"category"!==Ee.type&&"multicategory"!==Ee.type||(Ue=$e?Math.max(-.5,Ue):Math.min(Ee._categories.length-.5,Ue));for(var tt="log"===Ee.type&&!(We(Ee.dtick)||"L"===Ee.dtick.charAt(0)),rt=null,nt=Math.max(1e3,Ee._length||0),at=Ee._tmin;($e?at>=Ue:at<=Ue)&&!(Qe.length>nt||at===rt);at=cn.tickIncrement(at,Ee.dtick,$e,Ee.calendar)){rt=at;var it=!1;tt&&at!==(0|at)&&(it=!0),Qe.push({minor:it,value:at})}isAngular(Ee)&&360===Math.abs(ze[1]-ze[0])&&Qe.pop(),Ee._tmax=(Qe[Qe.length-1]||{}).value,Ee._prevDateHead="",Ee._inCalcTicks=!0;for(var ct=new Array(Qe.length),ft=0;ft<Qe.length;ft++)ct[ft]=cn.tickText(Ee,Qe[ft].value,!1,Qe[ft].minor);return Ee._inCalcTicks=!1,ct};var yn=[2,5,10],_n=[1,2,3,6,12],Mn=[1,2,5,10,15,30],Cn=[1,2,3,7,14],En=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Pn=[-.301,0,.301,.699,1],In=[15,30,45,90,180];function roundDTick(Ee,ze,Be){return ze*et.roundUp(Ee/ze,Be)}function autoTickRound(Ee){var ze=Ee.dtick;if(Ee._tickexponent=0,We(ze)||"string"==typeof ze||(ze=1),"category"!==Ee.type&&"multicategory"!==Ee.type||(Ee._tickround=null),"date"===Ee.type){var Be=Ee.r2l(Ee.tick0),Ue=Ee.l2r(Be).replace(/(^-|i)/g,""),$e=Ue.length;if("M"===String(ze).charAt(0))$e>10||"01-01"!==Ue.substr(5)?Ee._tickround="d":Ee._tickround=+ze.substr(1)%12==0?"y":"m";else if(ze>=Lt&&$e<=10||ze>=15*Lt)Ee._tickround="d";else if(ze>=er&&$e<=16||ze>=Ut)Ee._tickround="M";else if(ze>=tr&&$e<=19||ze>=er)Ee._tickround="S";else{var Qe=Ee.l2r(Be+ze).replace(/^-/,"").length;Ee._tickround=Math.max($e,Qe)-20,Ee._tickround<0&&(Ee._tickround=4)}}else if(We(ze)||"L"===ze.charAt(0)){var et=Ee.range.map(Ee.r2d||Number);We(ze)||(ze=Number(ze.substr(1))),Ee._tickround=2-Math.floor(Math.log(ze)/Math.LN10+.01);var tt=Math.max(Math.abs(et[0]),Math.abs(et[1])),rt=Math.floor(Math.log(tt)/Math.LN10+.01);Math.abs(rt)>3&&(isSIFormat(Ee.exponentformat)&&!beyondSI(rt)?Ee._tickexponent=3*Math.round((rt-1)/3):Ee._tickexponent=rt)}else Ee._tickround=null}function tickTextObj(Ee,ze,Be){var Ue=Ee.tickfont||{};return{x:ze,dx:0,dy:0,text:Be||"",fontSize:Ue.size,font:Ue.family,fontColor:Ue.color}}cn.autoTicks=function(Ee,ze){var Be;function getBase(Ee){return Math.pow(Ee,Math.floor(Math.log(ze)/Math.LN10))}if("date"===Ee.type){Ee.tick0=et.dateTick0(Ee.calendar);var Ue=2*ze;Ue>xt?(ze/=xt,Be=getBase(10),Ee.dtick="M"+12*roundDTick(ze,Be,yn)):Ue>kt?(ze/=kt,Ee.dtick="M"+roundDTick(ze,1,_n)):Ue>Lt?(Ee.dtick=roundDTick(ze,Lt,Cn),Ee.tick0=et.dateTick0(Ee.calendar,!0)):Ue>Ut?Ee.dtick=roundDTick(ze,Ut,_n):Ue>er?Ee.dtick=roundDTick(ze,er,Mn):Ue>tr?Ee.dtick=roundDTick(ze,tr,Mn):(Be=getBase(10),Ee.dtick=roundDTick(ze,Be,yn))}else if("log"===Ee.type){Ee.tick0=0;var $e=et.simpleMap(Ee.range,Ee.r2l);if(ze>.7)Ee.dtick=Math.ceil(ze);else if(Math.abs($e[1]-$e[0])<1){var Qe=1.5*Math.abs(($e[1]-$e[0])/ze);ze=Math.abs(Math.pow(10,$e[1])-Math.pow(10,$e[0]))/Qe,Be=getBase(10),Ee.dtick="L"+roundDTick(ze,Be,yn)}else Ee.dtick=ze>.3?"D2":"D1"}else"category"===Ee.type||"multicategory"===Ee.type?(Ee.tick0=0,Ee.dtick=Math.ceil(Math.max(ze,1))):isAngular(Ee)?(Ee.tick0=0,Be=1,Ee.dtick=roundDTick(ze,Be,In)):(Ee.tick0=0,Be=getBase(10),Ee.dtick=roundDTick(ze,Be,yn));if(0===Ee.dtick&&(Ee.dtick=1),!We(Ee.dtick)&&"string"!=typeof Ee.dtick){var tt=Ee.dtick;throw Ee.dtick=1,"ax.dtick error: "+String(tt)}},cn.tickIncrement=function(Ee,ze,Be,$e){var Qe=Be?-1:1;if(We(ze))return Ee+Qe*ze;var tt=ze.charAt(0),rt=Qe*Number(ze.substr(1));if("M"===tt)return et.incrementMonth(Ee,rt,$e);if("L"===tt)return Math.log(Math.pow(10,Ee)+rt)/Math.LN10;if("D"===tt){var nt="D2"===ze?Pn:En,at=Ee+.01*Qe,it=et.roundUp(et.mod(at,1),nt,Be);return Math.floor(at)+Math.log(Ue.round(Math.pow(10,it),1))/Math.LN10}throw"unrecognized dtick "+String(ze)},cn.tickFirst=function(Ee){var ze=Ee.r2l||Number,Be=et.simpleMap(Ee.range,ze),$e=Be[1]<Be[0],Qe=$e?Math.floor:Math.ceil,tt=1.0001*Be[0]-1e-4*Be[1],rt=Ee.dtick,nt=ze(Ee.tick0);if(We(rt)){var at=Qe((tt-nt)/rt)*rt+nt;return"category"!==Ee.type&&"multicategory"!==Ee.type||(at=et.constrain(at,0,Ee._categories.length-1)),at}var it=rt.charAt(0),ct=Number(rt.substr(1));if("M"===it){for(var ft,xt,kt,Lt=0,Ut=nt;Lt<10;){if(((ft=cn.tickIncrement(Ut,rt,$e,Ee.calendar))-tt)*(Ut-tt)<=0)return $e?Math.min(Ut,ft):Math.max(Ut,ft);xt=(tt-(Ut+ft)/2)/(ft-Ut),kt=it+(Math.abs(Math.round(xt))||1)*ct,Ut=cn.tickIncrement(Ut,kt,xt<0?!$e:$e,Ee.calendar),Lt++}return et.error("tickFirst did not converge",Ee),Ut}if("L"===it)return Math.log(Qe((Math.pow(10,tt)-nt)/ct)*ct+nt)/Math.LN10;if("D"===it){var er="D2"===rt?Pn:En,tr=et.roundUp(et.mod(tt,1),er,$e);return Math.floor(tt)+Math.log(Ue.round(Math.pow(10,tr),1))/Math.LN10}throw"unrecognized dtick "+String(rt)},cn.tickText=function(Ee,ze,Be,Ue){var $e,Qe=tickTextObj(Ee,ze),tt="array"===Ee.tickmode,rt=Be||tt,nt=Ee.type,at="category"===nt?Ee.d2l_noadd:Ee.d2l;if(tt&&Array.isArray(Ee.ticktext)){var it=et.simpleMap(Ee.range,Ee.r2l),ct=Math.abs(it[1]-it[0])/1e4;for($e=0;$e<Ee.ticktext.length&&!(Math.abs(ze-at(Ee.tickvals[$e]))<ct);$e++);if($e<Ee.ticktext.length)return Qe.text=String(Ee.ticktext[$e]),Qe}function isHidden(Ue){if(void 0===Ue)return!0;if(Be)return"none"===Ue;var We={first:Ee._tmin,last:Ee._tmax}[Ue];return"all"!==Ue&&ze!==We}var ft=Be?"never":"none"!==Ee.exponentformat&&isHidden(Ee.showexponent)?"hide":"";if("date"===nt?function formatDate(Ee,ze,Be,Ue){var $e=Ee._tickround,Qe=Be&&Ee.hoverformat||cn.getTickFormat(Ee);Ue&&($e=We($e)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[$e]);var tt,rt=et.formatDate(ze.x,Qe,$e,Ee._dateFormat,Ee.calendar,Ee._extraFormat),nt=rt.indexOf("\n");-1!==nt&&(tt=rt.substr(nt+1),rt=rt.substr(0,nt));Ue&&("00:00:00"===rt||"00:00"===rt?(rt=tt,tt=""):8===rt.length&&(rt=rt.replace(/:00$/,"")));tt&&(Be?"d"===$e?rt+=", "+tt:rt=tt+(rt?", "+rt:""):Ee._inCalcTicks&&tt===Ee._prevDateHead||(rt+="<br>"+tt,Ee._prevDateHead=tt));ze.text=rt}(Ee,Qe,Be,rt):"log"===nt?function formatLog(Ee,ze,Be,Ue,$e){var Qe=Ee.dtick,tt=ze.x,rt=Ee.tickformat,nt="string"==typeof Qe&&Qe.charAt(0);"never"===$e&&($e="");Ue&&"L"!==nt&&(Qe="L3",nt="L");if(rt||"L"===nt)ze.text=numFormat(Math.pow(10,tt),Ee,$e,Ue);else if(We(Qe)||"D"===nt&&et.mod(tt+.01,1)<.1){var at=Math.round(tt),it=Math.abs(at),ct=Ee.exponentformat;"power"===ct||isSIFormat(ct)&&beyondSI(at)?(ze.text=0===at?1:1===at?"10":"10<sup>"+(at>1?"":rr)+it+"</sup>",ze.fontSize*=1.25):("e"===ct||"E"===ct)&&it>2?ze.text="1"+ct+(at>0?"+":rr)+it:(ze.text=numFormat(Math.pow(10,tt),Ee,"","fakehover"),"D1"===Qe&&"y"===Ee._id.charAt(0)&&(ze.dy-=ze.fontSize/6))}else{if("D"!==nt)throw"unrecognized dtick "+String(Qe);ze.text=String(Math.round(Math.pow(10,et.mod(tt,1)))),ze.fontSize*=.75}if("D1"===Ee.dtick){var ft=String(ze.text).charAt(0);"0"!==ft&&"1"!==ft||("y"===Ee._id.charAt(0)?ze.dx-=ze.fontSize/4:(ze.dy+=ze.fontSize/2,ze.dx+=(Ee.range[1]>Ee.range[0]?1:-1)*ze.fontSize*(tt<0?.5:.25)))}}(Ee,Qe,0,rt,ft):"category"===nt?function formatCategory(Ee,ze){var Be=Ee._categories[Math.round(ze.x)];void 0===Be&&(Be="");ze.text=String(Be)}(Ee,Qe):"multicategory"===nt?function formatMultiCategory(Ee,ze,Be){var Ue=Math.round(ze.x),We=Ee._categories[Ue]||[],$e=void 0===We[1]?"":String(We[1]),Qe=void 0===We[0]?"":String(We[0]);Be?ze.text=Qe+" - "+$e:(ze.text=$e,ze.text2=Qe)}(Ee,Qe,Be):isAngular(Ee)?function formatAngle(Ee,ze,Be,Ue,We){if("radians"!==Ee.thetaunit||Be)ze.text=numFormat(ze.x,Ee,We,Ue);else{var $e=ze.x/180;if(0===$e)ze.text="0";else{var Qe=function num2frac(Ee){function almostEq(Ee,ze){return Math.abs(Ee-ze)<=1e-6}var ze=function findPrecision(Ee){for(var ze=1;!almostEq(Math.round(Ee*ze)/ze,Ee);)ze*=10;return ze}(Ee),Be=Ee*ze,Ue=Math.abs(function findGCD(Ee,ze){return almostEq(ze,0)?Ee:findGCD(ze,Ee%ze)}(Be,ze));return[Math.round(Be/Ue),Math.round(ze/Ue)]}($e);if(Qe[1]>=100)ze.text=numFormat(et.deg2rad(ze.x),Ee,We,Ue);else{var tt=ze.x<0;1===Qe[1]?1===Qe[0]?ze.text="π":ze.text=Qe[0]+"π":ze.text=["<sup>",Qe[0],"</sup>","⁄","<sub>",Qe[1],"</sub>","π"].join(""),tt&&(ze.text=rr+ze.text)}}}}(Ee,Qe,Be,rt,ft):function formatLinear(Ee,ze,Be,Ue,We){"never"===We?We="":"all"===Ee.showexponent&&Math.abs(ze.x/Ee.dtick)<1e-6&&(We="hide");ze.text=numFormat(ze.x,Ee,We,Ue)}(Ee,Qe,0,rt,ft),Ue||(Ee.tickprefix&&!isHidden(Ee.showtickprefix)&&(Qe.text=Ee.tickprefix+Qe.text),Ee.ticksuffix&&!isHidden(Ee.showticksuffix)&&(Qe.text+=Ee.ticksuffix)),"boundaries"===Ee.tickson||Ee.showdividers){var inbounds=function(ze){var Be=Ee.l2p(ze);return Be>=0&&Be<=Ee._length?ze:null};Qe.xbnd=[inbounds(Qe.x-.5),inbounds(Qe.x+Ee.dtick-.5)]}return Qe},cn.hoverLabelText=function(Ee,ze,Be){if(Be!==ar&&Be!==ze)return cn.hoverLabelText(Ee,ze)+" - "+cn.hoverLabelText(Ee,Be);var Ue="log"===Ee.type&&ze<=0,We=cn.tickText(Ee,Ee.c2l(Ue?-ze:ze),"hover").text;return Ue?0===ze?"0":rr+We:We};var Bn=["f","p","n","μ","m","","k","M","G","T"];function isSIFormat(Ee){return"SI"===Ee||"B"===Ee}function beyondSI(Ee){return Ee>14||Ee<-15}function numFormat(Ee,ze,Be,Ue){var $e=Ee<0,Qe=ze._tickround,tt=Be||ze.exponentformat||"B",rt=ze._tickexponent,nt=cn.getTickFormat(ze),at=ze.separatethousands;if(Ue){var it={exponentformat:tt,dtick:"none"===ze.showexponent?ze.dtick:We(Ee)&&Math.abs(Ee)||1,range:"none"===ze.showexponent?ze.range.map(ze.r2d):[0,Ee||1]};autoTickRound(it),Qe=(Number(it._tickround)||0)+4,rt=it._tickexponent,ze.hoverformat&&(nt=ze.hoverformat)}if(nt)return ze._numFormat(nt)(Ee).replace(/-/g,rr);var ct,ft=Math.pow(10,-Qe)/2;if("none"===tt&&(rt=0),(Ee=Math.abs(Ee))<ft)Ee="0",$e=!1;else{if(Ee+=ft,rt&&(Ee*=Math.pow(10,-rt),Qe+=rt),0===Qe)Ee=String(Math.floor(Ee));else if(Qe<0){Ee=(Ee=String(Math.round(Ee))).substr(0,Ee.length+Qe);for(var xt=Qe;xt<0;xt++)Ee+="0"}else{var kt=(Ee=String(Ee)).indexOf(".")+1;kt&&(Ee=Ee.substr(0,kt+Qe).replace(/\.?0+$/,""))}Ee=et.numSeparate(Ee,ze._separators,at)}rt&&"hide"!==tt&&(isSIFormat(tt)&&beyondSI(rt)&&(tt="power"),ct=rt<0?rr+-rt:"power"!==tt?"+"+rt:String(rt),"e"===tt||"E"===tt?Ee+=tt+ct:"power"===tt?Ee+="×10<sup>"+ct+"</sup>":"B"===tt&&9===rt?Ee+="B":isSIFormat(tt)&&(Ee+=Bn[rt/3+5]));return $e?rr+Ee:Ee}function getSecondaryLabelVals(Ee,ze){for(var Be=[],Ue={},We=0;We<ze.length;We++){var $e=ze[We];Ue[$e.text2]?Ue[$e.text2].push($e.x):Ue[$e.text2]=[$e.x]}for(var Qe in Ue)Be.push(tickTextObj(Ee,et.interp(Ue[Qe],.5),Qe));return Be}function tickDataFn(Ee){return[Ee.text,Ee.x,Ee.axInfo,Ee.font,Ee.fontSize,Ee.fontColor].join("_")}function approxTitleDepth(Ee){var ze=Ee.title.font.size,Be=(Ee.title.text.match(tt.BR_TAG_ALL)||[]).length;return Ee.title.hasOwnProperty("standoff")?Be?ze*(on+Be*sn):ze*on:Be?ze*(Be+1)*sn:ze}function clipEnds(Ee,ze){var Be=Ee.l2p(ze);return Be>1&&Be<Ee._length-1}function selectTickLabel(Ee){var ze=Ue.select(Ee),Be=ze.select(".text-math-group");return Be.empty()?ze.select("text"):Be}function axAutoMarginID(Ee){return Ee._id+".automargin"}function axMirrorAutoMarginID(Ee){return axAutoMarginID(Ee)+".mirror"}function rangeSliderAutoMarginID(Ee){return Ee._id+".rangeslider"}function mergeAxisGroups(Ee,ze){for(var Be=0;Be<ze.length;Be++)-1===Ee.indexOf(ze[Be])&&Ee.push(ze[Be])}function swapAxisGroup(Ee,ze,Be){var Ue,We,$e=[],Qe=[],tt=Ee.layout;for(Ue=0;Ue<ze.length;Ue++)$e.push(cn.getFromId(Ee,ze[Ue]));for(Ue=0;Ue<Be.length;Ue++)Qe.push(cn.getFromId(Ee,Be[Ue]));var rt=Object.keys(it),nt=["anchor","domain","overlaying","position","side","tickangle","editType"],at=["linear","log"];for(Ue=0;Ue<rt.length;Ue++){var ct=rt[Ue],ft=$e[0][ct],xt=Qe[0][ct],kt=!0,Lt=!1,Ut=!1;if("_"!==ct.charAt(0)&&"function"!=typeof ft&&-1===nt.indexOf(ct)){for(We=1;We<$e.length&&kt;We++){var er=$e[We][ct];"type"===ct&&-1!==at.indexOf(ft)&&-1!==at.indexOf(er)&&ft!==er?Lt=!0:er!==ft&&(kt=!1)}for(We=1;We<Qe.length&&kt;We++){var tr=Qe[We][ct];"type"===ct&&-1!==at.indexOf(xt)&&-1!==at.indexOf(tr)&&xt!==tr?Ut=!0:Qe[We][ct]!==xt&&(kt=!1)}kt&&(Lt&&(tt[$e[0]._name].type="linear"),Ut&&(tt[Qe[0]._name].type="linear"),swapAxisAttrs(tt,ct,$e,Qe,Ee._fullLayout._dfltTitle))}}for(Ue=0;Ue<Ee._fullLayout.annotations.length;Ue++){var rr=Ee._fullLayout.annotations[Ue];-1!==ze.indexOf(rr.xref)&&-1!==Be.indexOf(rr.yref)&&et.swapAttrs(tt.annotations[Ue],["?"])}}function swapAxisAttrs(Ee,ze,Be,Ue,We){var $e,Qe=et.nestedProperty,tt=Qe(Ee[Be[0]._name],ze).get(),rt=Qe(Ee[Ue[0]._name],ze).get();for("title"===ze&&(tt&&tt.text===We.x&&(tt.text=We.y),rt&&rt.text===We.y&&(rt.text=We.x)),$e=0;$e<Be.length;$e++)Qe(Ee,Be[$e]._name+"."+ze).set(rt);for($e=0;$e<Ue.length;$e++)Qe(Ee,Ue[$e]._name+"."+ze).set(tt)}function isAngular(Ee){return"angularaxis"===Ee._id}cn.getTickFormat=function(Ee){var ze,Be,Ue,We,$e,Qe,et,tt;function convertToMs(Ee){return"string"!=typeof Ee?Ee:Number(Ee.replace("M",""))*kt}function compareLogTicks(Ee,ze){var Be=["L","D"];if(typeof Ee==typeof ze){if("number"==typeof Ee)return Ee-ze;var Ue=Be.indexOf(Ee.charAt(0)),We=Be.indexOf(ze.charAt(0));return Ue===We?Number(Ee.replace(/(L|D)/g,""))-Number(ze.replace(/(L|D)/g,"")):Ue-We}return"number"==typeof Ee?1:-1}function isProperLogStop(Ee,ze){var Be=null===ze[0],Ue=null===ze[1],We=compareLogTicks(Ee,ze[0])>=0,$e=compareLogTicks(Ee,ze[1])<=0;return(Be||We)&&(Ue||$e)}if(Ee.tickformatstops&&Ee.tickformatstops.length>0)switch(Ee.type){case"date":case"linear":for(ze=0;ze<Ee.tickformatstops.length;ze++)if((Ue=Ee.tickformatstops[ze]).enabled&&(We=Ee.dtick,$e=Ue.dtickrange,Qe=void 0,et=void 0,tt=void 0,Qe=convertToMs||function(Ee){return Ee},et=$e[0],tt=$e[1],(!et&&"number"!=typeof et||Qe(et)<=Qe(We))&&(!tt&&"number"!=typeof tt||Qe(tt)>=Qe(We)))){Be=Ue;break}break;case"log":for(ze=0;ze<Ee.tickformatstops.length;ze++)if((Ue=Ee.tickformatstops[ze]).enabled&&isProperLogStop(Ee.dtick,Ue.dtickrange)){Be=Ue;break}}return Be?Be.value:Ee.tickformat},cn.getSubplots=function(Ee,ze){var Be=Ee._fullLayout._subplots,Ue=Be.cartesian.concat(Be.gl2d||[]),We=ze?cn.findSubplotsWithAxis(Ue,ze):Ue;return We.sort((function(Ee,ze){var Be=Ee.substr(1).split("y"),Ue=ze.substr(1).split("y");return Be[0]===Ue[0]?+Be[1]-+Ue[1]:+Be[0]-+Ue[0]})),We},cn.findSubplotsWithAxis=function(Ee,ze){for(var Be=new RegExp("x"===ze._id.charAt(0)?"^"+ze._id+"y":ze._id+"$"),Ue=[],We=0;We<Ee.length;We++){var $e=Ee[We];Be.test($e)&&Ue.push($e)}return Ue},cn.makeClipPaths=function(Ee){var ze=Ee._fullLayout;if(!ze._hasOnlyLargeSploms){var Be,We,$e={_offset:0,_length:ze.width,_id:""},Qe={_offset:0,_length:ze.height,_id:""},et=cn.list(Ee,"x",!0),tt=cn.list(Ee,"y",!0),rt=[];for(Be=0;Be<et.length;Be++)for(rt.push({x:et[Be],y:Qe}),We=0;We<tt.length;We++)0===Be&&rt.push({x:$e,y:tt[We]}),rt.push({x:et[Be],y:tt[We]});var nt=ze._clips.selectAll(".axesclip").data(rt,(function(Ee){return Ee.x._id+Ee.y._id}));nt.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(Ee){return"clip"+ze._uid+Ee.x._id+Ee.y._id})).append("rect"),nt.exit().remove(),nt.each((function(Ee){Ue.select(this).select("rect").attr({x:Ee.x._offset||0,y:Ee.y._offset||0,width:Ee.x._length||1,height:Ee.y._length||1})}))}},cn.draw=function(Ee,ze,Be){var Ue=Ee._fullLayout;"redraw"===ze&&Ue._paper.selectAll("g.subplot").each((function(Ee){var ze=Ee[0],Be=Ue._plots[ze],We=Be.xaxis,$e=Be.yaxis;Be.xaxislayer.selectAll("."+We._id+"tick").remove(),Be.yaxislayer.selectAll("."+$e._id+"tick").remove(),Be.xaxislayer.selectAll("."+We._id+"tick2").remove(),Be.yaxislayer.selectAll("."+$e._id+"tick2").remove(),Be.xaxislayer.selectAll("."+We._id+"divider").remove(),Be.yaxislayer.selectAll("."+$e._id+"divider").remove(),Be.gridlayer&&Be.gridlayer.selectAll("path").remove(),Be.zerolinelayer&&Be.zerolinelayer.selectAll("path").remove(),Ue._infolayer.select(".g-"+We._id+"title").remove(),Ue._infolayer.select(".g-"+$e._id+"title").remove()}));var We=ze&&"redraw"!==ze?ze:cn.listIds(Ee);return et.syncOrAsync(We.map((function(ze){return function(){if(ze){var Ue=cn.getFromId(Ee,ze),We=cn.drawOne(Ee,Ue,Be);return Ue._r=Ue.range.slice(),Ue._rl=et.simpleMap(Ue._r,Ue.r2l),We}}})))},cn.drawOne=function(Ee,ze,Be){var Ue,We,tt;Be=Be||{},ze.setScale();var it=Ee._fullLayout,ct=ze._id,ft=ct.charAt(0),xt=cn.counterLetter(ct),kt=ze._mainLinePosition,Lt=ze._mainMirrorPosition,Ut=it._plots[ze._mainSubplot][ft+"axislayer"],er=ze._vals=cn.calcTicks(ze),tr=[ze.mirror,kt,Lt].join("_");for(Ue=0;Ue<er.length;Ue++)er[Ue].axInfo=tr;ze._selections={},ze._tickAngles&&(ze._prevTickAngles=ze._tickAngles),ze._tickAngles={},ze._depth=null;var rr={};function getLabelLevelBbox(Ee){var Be=ct+(Ee||"tick");return rr[Be]||(rr[Be]=function calcLabelLevelBbox(Ee,ze){var Be,Ue,We,$e;Ee._selections[ze].size()?(Be=1/0,Ue=-1/0,We=1/0,$e=-1/0,Ee._selections[ze].each((function(){var Ee=selectTickLabel(this),ze=at.bBox(Ee.node().parentNode);Be=Math.min(Be,ze.top),Ue=Math.max(Ue,ze.bottom),We=Math.min(We,ze.left),$e=Math.max($e,ze.right)}))):(Be=0,Ue=0,We=0,$e=0);return{top:Be,bottom:Ue,left:We,right:$e,height:Ue-Be,width:$e-We}}(ze,Be)),rr[Be]}if(ze.visible){var ar,Lr,Qr=cn.makeTransFn(ze);if("boundaries"===ze.tickson){var on=function getBoundaryVals(Ee,ze){var Be,Ue=[],_push=function(Ee,ze){var Be=Ee.xbnd[ze];null!==Be&&Ue.push(et.extendFlat({},Ee,{x:Be}))};if(ze.length){for(Be=0;Be<ze.length;Be++)_push(ze[Be],0);_push(ze[Be-1],1)}return Ue}(0,er);Lr=cn.clipEnds(ze,on),ar="inside"===ze.ticks?Lr:on}else Lr=cn.clipEnds(ze,er),ar="inside"===ze.ticks?Lr:er;var un=ze._gridVals=Lr,hn=function getDividerVals(Ee,ze){var Be,Ue,We=[],_push=function(Ee,ze){var Be=Ee.xbnd[ze];null!==Be&&We.push(et.extendFlat({},Ee,{x:Be}))};if(Ee.showdividers&&ze.length){for(Be=0;Be<ze.length;Be++){var $e=ze[Be];$e.text2!==Ue&&_push($e,0),Ue=$e.text2}_push(ze[Be-1],1)}return We}(ze,er);if(!it._hasOnlyLargeSploms){var dn=ze._subplotsWith,vn={};for(Ue=0;Ue<dn.length;Ue++){We=dn[Ue];var yn=(tt=it._plots[We])[xt+"axis"],_n=yn._mainAxis._id;if(!vn[_n]){vn[_n]=1;var Mn="x"===ft?"M0,"+yn._offset+"v"+yn._length:"M"+yn._offset+",0h"+yn._length;cn.drawGrid(Ee,ze,{vals:un,counterAxis:yn,layer:tt.gridlayer.select("."+ct),path:Mn,transFn:Qr}),cn.drawZeroLine(Ee,ze,{counterAxis:yn,layer:tt.zerolinelayer,path:Mn,transFn:Qr})}}}var Cn=cn.getTickSigns(ze),En=[];if(ze.ticks){var Pn,In,Bn,Hn=cn.makeTickPath(ze,kt,Cn[2]);if(ze._anchorAxis&&ze.mirror&&!0!==ze.mirror?(Pn=cn.makeTickPath(ze,Lt,Cn[3]),In=Hn+Pn):(Pn="",In=Hn),ze.showdividers&&"outside"===ze.ticks&&"boundaries"===ze.tickson){var Kn={};for(Ue=0;Ue<hn.length;Ue++)Kn[hn[Ue].x]=1;Bn=function(Ee){return Kn[Ee.x]?Pn:In}}else Bn=In;cn.drawTicks(Ee,ze,{vals:ar,layer:Ut,path:Bn,transFn:Qr}),"allticks"===ze.mirror&&(En=Object.keys(ze._linepositions||{}))}for(Ue=0;Ue<En.length;Ue++){We=En[Ue],tt=it._plots[We];var Jn=ze._linepositions[We]||[],Ma=cn.makeTickPath(ze,Jn[0],Cn[0])+cn.makeTickPath(ze,Jn[1],Cn[1]);cn.drawTicks(Ee,ze,{vals:ar,layer:tt[ft+"axislayer"],path:Ma,transFn:Qr})}var Sa=[];if(Sa.push((function(){return cn.drawLabels(Ee,ze,{vals:er,layer:Ut,transFn:Qr,labelFns:cn.makeLabelFns(ze,kt)})})),"multicategory"===ze.type){var La={x:2,y:10}[ft];Sa.push((function(){var Be={x:"height",y:"width"}[ft],Ue=getLabelLevelBbox()[Be]+La+(ze._tickAngles[ct+"tick"]?ze.tickfont.size*sn:0);return cn.drawLabels(Ee,ze,{vals:getSecondaryLabelVals(ze,er),layer:Ut,cls:ct+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Qr,labelFns:cn.makeLabelFns(ze,kt+Ue*Cn[4])})})),Sa.push((function(){return ze._depth=Cn[4]*(getLabelLevelBbox("tick2")[ze.side]-kt),function drawDividers(Ee,ze,Be){var Ue=ze._id+"divider",We=Be.vals,$e=Be.layer.selectAll("path."+Ue).data(We,tickDataFn);$e.exit().remove(),$e.enter().insert("path",":first-child").classed(Ue,1).classed("crisp",1).call(nt.stroke,ze.dividercolor).style("stroke-width",at.crispRound(Ee,ze.dividerwidth,1)+"px"),$e.attr("transform",Be.transFn).attr("d",Be.path)}(Ee,ze,{vals:hn,layer:Ut,path:cn.makeTickPath(ze,kt,Cn[4],ze._depth),transFn:Qr})}))}else ze.title.hasOwnProperty("standoff")&&Sa.push((function(){ze._depth=Cn[4]*(getLabelLevelBbox()[ze.side]-kt)}));var Ia=Qe.getComponentMethod("rangeslider","isVisible")(ze);return Sa.push((function(){var Be,Ue,We,et,tt=ze.side.charAt(0),rt=ln[ze.side].charAt(0),nt=cn.getPxPosition(Ee,ze),at="outside"===ze.ticks?ze.ticklen:0;if((ze.automargin||Ia)&&("multicategory"===ze.type?Be=getLabelLevelBbox("tick2"):(Be=getLabelLevelBbox(),"x"===ft&&"b"===tt&&(ze._depth=Math.max(Be.width>0?Be.bottom-nt:0,at)))),ze.automargin){Ue={x:0,y:0,r:0,l:0,t:0,b:0};var ct=[0,1];if("x"===ft){if("b"===tt?Ue[tt]=ze._depth:(Ue[tt]=ze._depth=Math.max(Be.width>0?nt-Be.top:0,at),ct.reverse()),Be.width>0){var kt=Be.right-(ze._offset+ze._length);kt>0&&(Ue.xr=1,Ue.r=kt);var Lt=ze._offset-Be.left;Lt>0&&(Ue.xl=0,Ue.l=Lt)}}else if("l"===tt?Ue[tt]=ze._depth=Math.max(Be.height>0?nt-Be.left:0,at):(Ue[tt]=ze._depth=Math.max(Be.height>0?Be.right-nt:0,at),ct.reverse()),Be.height>0){var Ut=Be.bottom-(ze._offset+ze._length);Ut>0&&(Ue.yb=0,Ue.b=Ut);var er=ze._offset-Be.top;er>0&&(Ue.yt=1,Ue.t=er)}Ue[xt]="free"===ze.anchor?ze.position:ze._anchorAxis.domain[ct[0]],ze.title.text!==it._dfltTitle[ft]&&(Ue[tt]+=approxTitleDepth(ze)+(ze.title.standoff||0)),ze.mirror&&"free"!==ze.anchor&&((We={x:0,y:0,r:0,l:0,t:0,b:0})[rt]=ze.linewidth,ze.mirror&&!0!==ze.mirror&&(We[rt]+=at),!0===ze.mirror||"ticks"===ze.mirror?We[xt]=ze._anchorAxis.domain[ct[1]]:"all"!==ze.mirror&&"allticks"!==ze.mirror||(We[xt]=[ze._counterDomainMin,ze._counterDomainMax][ct[1]]))}Ia&&(et=Qe.getComponentMethod("rangeslider","autoMarginOpts")(Ee,ze)),$e.autoMargin(Ee,axAutoMarginID(ze),Ue),$e.autoMargin(Ee,axMirrorAutoMarginID(ze),We),$e.autoMargin(Ee,rangeSliderAutoMarginID(ze),et)})),Be.skipTitle||Ia&&"bottom"===ze.side||Sa.push((function(){return function drawTitle(Ee,ze){var Be,Ue=Ee._fullLayout,We=ze._id,$e=We.charAt(0),Qe=ze.title.font.size;if(ze.title.hasOwnProperty("standoff"))Be=ze._depth+ze.title.standoff+approxTitleDepth(ze);else{if("multicategory"===ze.type)Be=ze._depth;else{Be=10+1.5*Qe+(ze.linewidth?ze.linewidth-1:0)}Be+="x"===$e?"top"===ze.side?Qe*(ze.showticklabels?1:0):Qe*(ze.showticklabels?1.5:.5):"right"===ze.side?Qe*(ze.showticklabels?1:.5):Qe*(ze.showticklabels?.5:0)}var et,tt,nt,it,ct=cn.getPxPosition(Ee,ze);"x"===$e?(tt=ze._offset+ze._length/2,nt="top"===ze.side?ct-Be:ct+Be):(nt=ze._offset+ze._length/2,tt="right"===ze.side?ct+Be:ct-Be,et={rotate:"-90",offset:0});if("multicategory"!==ze.type){var ft=ze._selections[ze._id+"tick"];if(it={selection:ft,side:ze.side},ft&&ft.node()&&ft.node().parentNode){var xt=at.getTranslate(ft.node().parentNode);it.offsetLeft=xt.x,it.offsetTop=xt.y}ze.title.hasOwnProperty("standoff")&&(it.pad=0)}return rt.draw(Ee,We+"title",{propContainer:ze,propName:ze._name+".title.text",placeholder:Ue._dfltTitle[$e],avoid:it,transform:et,attributes:{x:tt,y:nt,"text-anchor":"middle"}})}(Ee,ze)})),et.syncOrAsync(Sa)}},cn.getTickSigns=function(Ee){var ze=Ee._id.charAt(0),Be={x:"top",y:"right"}[ze],Ue=Ee.side===Be?1:-1,We=[-1,1,Ue,-Ue];return"inside"!==Ee.ticks==("x"===ze)&&(We=We.map((function(Ee){return-Ee}))),Ee.side&&We.push({l:-1,t:-1,r:1,b:1}[Ee.side.charAt(0)]),We},cn.makeTransFn=function(Ee){var ze=Ee._id.charAt(0),Be=Ee._offset;return"x"===ze?function(ze){return"translate("+(Be+Ee.l2p(ze.x))+",0)"}:function(ze){return"translate(0,"+(Be+Ee.l2p(ze.x))+")"}},cn.makeTickPath=function(Ee,ze,Be,Ue){Ue=void 0!==Ue?Ue:Ee.ticklen;var We=Ee._id.charAt(0),$e=(Ee.linewidth||1)/2;return"x"===We?"M0,"+(ze+$e*Be)+"v"+Ue*Be:"M"+(ze+$e*Be)+",0h"+Ue*Be},cn.makeLabelFns=function(Ee,ze,Be){var Ue=Ee._id.charAt(0),$e="boundaries"!==Ee.tickson&&"outside"===Ee.ticks,Qe=0,tt=0;if($e&&(Qe+=Ee.ticklen),Be&&"outside"===Ee.ticks){var rt=et.deg2rad(Be);Qe=Ee.ticklen*Math.cos(rt)+1,tt=Ee.ticklen*Math.sin(rt)}Ee.showticklabels&&($e||Ee.showline)&&(Qe+=.2*Ee.tickfont.size);var nt,at,it,ct,ft={labelStandoff:Qe+=(Ee.linewidth||1)/2,labelShift:tt};return"x"===Ue?(ct="bottom"===Ee.side?1:-1,nt=tt*ct,at=ze+Qe*ct,it="bottom"===Ee.side?1:-.2,ft.xFn=function(Ee){return Ee.dx+nt},ft.yFn=function(Ee){return Ee.dy+at+Ee.fontSize*it},ft.anchorFn=function(Ee,ze){return We(ze)&&0!==ze&&180!==ze?ze*ct<0?"end":"start":"middle"},ft.heightFn=function(ze,Be,Ue){return Be<-60||Be>60?-.5*Ue:"top"===Ee.side?-Ue:0}):"y"===Ue&&(ct="right"===Ee.side?1:-1,nt=Qe,at=-tt*ct,it=90===Math.abs(Ee.tickangle)?.5:0,ft.xFn=function(Ee){return Ee.dx+ze+(nt+Ee.fontSize*it)*ct},ft.yFn=function(Ee){return Ee.dy+at+Ee.fontSize*Qr},ft.anchorFn=function(ze,Be){return We(Be)&&90===Math.abs(Be)?"middle":"right"===Ee.side?"start":"end"},ft.heightFn=function(ze,Be,Ue){return(Be*="left"===Ee.side?1:-1)<-30?-Ue:Be<30?-.5*Ue:0}),ft},cn.drawTicks=function(Ee,ze,Be){Be=Be||{};var Ue=ze._id+"tick",We=Be.layer.selectAll("path."+Ue).data(ze.ticks?Be.vals:[],tickDataFn);We.exit().remove(),We.enter().append("path").classed(Ue,1).classed("ticks",1).classed("crisp",!1!==Be.crisp).call(nt.stroke,ze.tickcolor).style("stroke-width",at.crispRound(Ee,ze.tickwidth,1)+"px").attr("d",Be.path),We.attr("transform",Be.transFn)},cn.drawGrid=function(Ee,ze,Be){Be=Be||{};var Ue=ze._id+"grid",We=Be.vals,$e=Be.counterAxis;if(!1===ze.showgrid)We=[];else if($e&&cn.shouldShowZeroLine(Ee,ze,$e))for(var Qe="array"===ze.tickmode,et=0;et<We.length;et++){var tt=We[et].x;if(Qe?!tt:Math.abs(tt)<ze.dtick/100){if(We=We.slice(0,et).concat(We.slice(et+1)),!Qe)break;et--}}var rt=Be.layer.selectAll("path."+Ue).data(We,tickDataFn);rt.exit().remove(),rt.enter().append("path").classed(Ue,1).classed("crisp",!1!==Be.crisp),ze._gw=at.crispRound(Ee,ze.gridwidth,1),rt.attr("transform",Be.transFn).attr("d",Be.path).call(nt.stroke,ze.gridcolor||"#ddd").style("stroke-width",ze._gw+"px"),"function"==typeof Be.path&&rt.attr("d",Be.path)},cn.drawZeroLine=function(Ee,ze,Be){Be=Be||Be;var Ue=ze._id+"zl",We=cn.shouldShowZeroLine(Ee,ze,Be.counterAxis),$e=Be.layer.selectAll("path."+Ue).data(We?[{x:0,id:ze._id}]:[]);$e.exit().remove(),$e.enter().append("path").classed(Ue,1).classed("zl",1).classed("crisp",!1!==Be.crisp).each((function(){Be.layer.selectAll("path").sort((function(Ee,ze){return hn.idSort(Ee.id,ze.id)}))})),$e.attr("transform",Be.transFn).attr("d",Be.path).call(nt.stroke,ze.zerolinecolor||nt.defaultLine).style("stroke-width",at.crispRound(Ee,ze.zerolinewidth,ze._gw||1)+"px")},cn.drawLabels=function(Ee,ze,Be){Be=Be||{};var $e=Ee._fullLayout,Qe=ze._id,rt=Qe.charAt(0),nt=Be.cls||Qe+"tick",it=Be.vals,ct=Be.labelFns,ft=Be.secondary?0:ze.tickangle,xt=(ze._prevTickAngles||{})[nt],kt=Be.layer.selectAll("g."+nt).data(ze.showticklabels?it:[],tickDataFn),Lt=[];function positionLabels(Ee,ze){Ee.each((function(Ee){var $e=Ue.select(this),Qe=$e.select(".text-math-group"),et=ct.anchorFn(Ee,ze),rt=Be.transFn.call($e.node(),Ee)+(We(ze)&&0!=+ze?" rotate("+ze+","+ct.xFn(Ee)+","+(ct.yFn(Ee)-Ee.fontSize/2)+")":""),nt=tt.lineCount($e),it=sn*Ee.fontSize,ft=ct.heightFn(Ee,We(ze)?+ze:0,(nt-1)*it);if(ft&&(rt+=" translate(0, "+ft+")"),Qe.empty())$e.select("text").attr({transform:rt,"text-anchor":et});else{var xt=at.bBox(Qe.node()).width*{end:-.5,start:.5}[et];Qe.attr("transform",rt+(xt?"translate("+xt+",0)":""))}}))}kt.enter().append("g").classed(nt,1).append("text").attr("text-anchor","middle").each((function(ze){var Be=Ue.select(this),We=Ee._promises.length;Be.call(tt.positionText,ct.xFn(ze),ct.yFn(ze)).call(at.font,ze.font,ze.fontSize,ze.fontColor).text(ze.text).call(tt.convertToTspans,Ee),Ee._promises[We]?Lt.push(Ee._promises.pop().then((function(){positionLabels(Be,ft)}))):positionLabels(Be,ft)})),kt.exit().remove(),Be.repositionOnUpdate&&kt.each((function(Ee){Ue.select(this).select("text").call(tt.positionText,ct.xFn(Ee),ct.yFn(Ee))})),positionLabels(kt,xt+1?xt:ft);var Ut=null;ze._selections&&(ze._selections[nt]=kt);var er=[function allLabelsReady(){return Lt.length&&Promise.all(Lt)}];ze.automargin&&$e._redrawFromAutoMarginCount&&90===xt?(Ut=90,er.push((function(){positionLabels(kt,xt)}))):er.push((function fixLabelOverlaps(){if(positionLabels(kt,ft),it.length&&"x"===rt&&!We(ft)&&("log"!==ze.type||"D"!==String(ze.dtick).charAt(0))){Ut=0;var Ee,Ue=0,$e=[];if(kt.each((function(Ee){Ue=Math.max(Ue,Ee.fontSize);var Be=ze.l2p(Ee.x),We=selectTickLabel(this),Qe=at.bBox(We.node());$e.push({top:0,bottom:10,height:10,left:Be-Qe.width/2,right:Be+Qe.width/2+2,width:Qe.width+2})})),"boundaries"!==ze.tickson&&!ze.showdividers||Be.secondary){var Qe=it.length,tt=Math.abs((it[Qe-1].x-it[0].x)*ze._m)/(Qe-1)<2.5*Ue||"multicategory"===ze.type;for(Ee=0;Ee<$e.length-1;Ee++)if(et.bBoxIntersect($e[Ee],$e[Ee+1])){Ut=tt?90:30;break}}else{var nt=2;for(ze.ticks&&(nt+=ze.tickwidth/2),Ee=0;Ee<$e.length;Ee++){var ct=it[Ee].xbnd,xt=$e[Ee];if(null!==ct[0]&&xt.left-ze.l2p(ct[0])<nt||null!==ct[1]&&ze.l2p(ct[1])-xt.right<nt){Ut=90;break}}}Ut&&positionLabels(kt,Ut)}})),ze._tickAngles&&er.push((function(){ze._tickAngles[nt]=null===Ut?We(ft)?ft:0:Ut}));var tr=et.syncOrAsync(er);return tr&&tr.then&&Ee._promises.push(tr),tr},cn.getPxPosition=function(Ee,ze){var Be,Ue=Ee._fullLayout._size,We=ze._id.charAt(0),$e=ze.side;return"free"!==ze.anchor?Be=ze._anchorAxis:"x"===We?Be={_offset:Ue.t+(1-(ze.position||0))*Ue.h,_length:0}:"y"===We&&(Be={_offset:Ue.l+(ze.position||0)*Ue.w,_length:0}),"top"===$e||"left"===$e?Be._offset:"bottom"===$e||"right"===$e?Be._offset+Be._length:void 0},cn.shouldShowZeroLine=function(Ee,ze,Be){var Ue=et.simpleMap(ze.range,ze.r2l);return Ue[0]*Ue[1]<=0&&ze.zeroline&&("linear"===ze.type||"-"===ze.type)&&(clipEnds(ze,0)||!function anyCounterAxLineAtZero(Ee,ze,Be,Ue){var We=Be._mainAxis;if(!We)return;var $e=Ee._fullLayout,Qe=ze._id.charAt(0),et=cn.counterLetter(ze._id),tt=ze._offset+(Math.abs(Ue[0])<Math.abs(Ue[1])==("x"===Qe)?0:ze._length);function lineNearZero(Ee){if(!Ee.showline||!Ee.linewidth)return!1;var Be=Math.max((Ee.linewidth+ze.zerolinewidth)/2,1);function closeEnough(Ee){return"number"==typeof Ee&&Math.abs(Ee-tt)<Be}if(closeEnough(Ee._mainLinePosition)||closeEnough(Ee._mainMirrorPosition))return!0;var Ue=Ee._linepositions||{};for(var We in Ue)if(closeEnough(Ue[We][0])||closeEnough(Ue[We][1]))return!0}var rt=$e._plots[Be._mainSubplot];if(!(rt.mainplotinfo||rt).overlays.length)return lineNearZero(Be);for(var nt=cn.list(Ee,et),at=0;at<nt.length;at++){var it=nt[at];if(it._mainAxis===We&&lineNearZero(it))return!0}}(Ee,ze,Be,Ue)||function hasBarsOrFill(Ee,ze){for(var Be=Ee._fullData,Ue=ze._mainSubplot,We=ze._id.charAt(0),$e=0;$e<Be.length;$e++){var et=Be[$e];if(!0===et.visible&&et.xaxis+et.yaxis===Ue){if(Qe.traceIs(et,"bar-like")&&et.orientation==={x:"h",y:"v"}[We])return!0;if(et.fill&&et.fill.charAt(et.fill.length-1)===We)return!0}}return!1}(Ee,ze))},cn.clipEnds=function(Ee,ze){return ze.filter((function(ze){return clipEnds(Ee,ze.x)}))},cn.allowAutoMargin=function(Ee){for(var ze=cn.list(Ee,"",!0),Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.automargin&&($e.allowAutoMargin(Ee,axAutoMarginID(Ue)),Ue.mirror&&$e.allowAutoMargin(Ee,axMirrorAutoMarginID(Ue))),Qe.getComponentMethod("rangeslider","isVisible")(Ue)&&$e.allowAutoMargin(Ee,rangeSliderAutoMarginID(Ue))}},cn.swap=function(Ee,ze){for(var Be=function makeAxisGroups(Ee,ze){var Be,Ue,We=[];for(Be=0;Be<ze.length;Be++){var $e=[],Qe=Ee._fullData[ze[Be]].xaxis,et=Ee._fullData[ze[Be]].yaxis;if(Qe&&et){for(Ue=0;Ue<We.length;Ue++)-1===We[Ue].x.indexOf(Qe)&&-1===We[Ue].y.indexOf(et)||$e.push(Ue);if($e.length){var tt,rt=We[$e[0]];if($e.length>1)for(Ue=1;Ue<$e.length;Ue++)tt=We[$e[Ue]],mergeAxisGroups(rt.x,tt.x),mergeAxisGroups(rt.y,tt.y);mergeAxisGroups(rt.x,[Qe]),mergeAxisGroups(rt.y,[et])}else We.push({x:[Qe],y:[et]})}}return We}(Ee,ze),Ue=0;Ue<Be.length;Ue++)swapAxisGroup(Ee,Be[Ue].x,Be[Ue].y)}},"0648":function(Ee,ze,Be){var Ue=Be("5ecd");Ue=Ue.slice().filter((function(Ee){return!/^(gl\_|texture)/.test(Ee)})),Ee.exports=Ue.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},"0681":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),kernels_gaussian=function(Ee){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ee*Ee)};ze.makeKDE=function(Ee,ze,Be){var Ue=Be.length,We=kernels_gaussian,$e=Ee.bandwidth,Qe=1/(Ue*$e);return function(Ee){for(var ze=0,et=0;et<Ue;et++)ze+=We((Ee-Be[et])/$e);return Qe*ze}},ze.getPositionOnKdePath=function(Ee,ze,Be){var We,$e;"h"===ze.orientation?(We="y",$e="x"):(We="x",$e="y");var Qe=Ue.findPointOnPath(Ee.path,Be,$e,{pathLength:Ee.pathLength}),et=Ee.posCenterPx,tt=Qe[We];return[tt,"both"===ze.side?2*et-tt:et]},ze.getKdeValue=function(Ee,Be,Ue){var We=Ee.pts.map(ze.extractVal);return ze.makeKDE(Ee,Be,We)(Ue)/Ee.posDensityScale},ze.extractVal=function(Ee){return Ee.v}},"06a2":function(Ee,ze,Be){"use strict";var Ue,We=Be("a671d"),$e=Be("2031"),Qe=Be("1a94"),et=Be("96ae"),tt=Be("f508"),rt=Be("986b"),nt=Be("1c4a"),at=Object.defineProperty,it=Object.defineProperties;Ee.exports=Ue=function(Ee,ze){if(!(this instanceof Ue))throw new TypeError("Constructor requires 'new'");it(this,{__list__:tt("w",et(Ee)),__context__:tt("w",ze),__nextIndex__:tt("w",0)}),ze&&(Qe(ze.on),ze.on("_add",this._onAdd),ze.on("_delete",this._onDelete),ze.on("_clear",this._onClear))},delete Ue.prototype.constructor,it(Ue.prototype,$e({_next:tt((function(){var Ee;if(this.__list__)return this.__redo__&&void 0!==(Ee=this.__redo__.shift())?Ee:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:tt((function(){return this._createResult(this._next())})),_createResult:tt((function(Ee){return void 0===Ee?{done:!0,value:void 0}:{done:!1,value:this._resolve(Ee)}})),_resolve:tt((function(Ee){return this.__list__[Ee]})),_unBind:tt((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:tt((function(){return"[object "+(this[nt.toStringTag]||"Object")+"]"}))},rt({_onAdd:tt((function(Ee){Ee>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(ze,Be){ze>=Ee&&(this.__redo__[Be]=++ze)}),this),this.__redo__.push(Ee)):at(this,"__redo__",tt("c",[Ee])))})),_onDelete:tt((function(Ee){var ze;Ee>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(ze=this.__redo__.indexOf(Ee))&&this.__redo__.splice(ze,1),this.__redo__.forEach((function(ze,Be){ze>Ee&&(this.__redo__[Be]=--ze)}),this)))})),_onClear:tt((function(){this.__redo__&&We.call(this.__redo__),this.__nextIndex__=0}))}))),at(Ue.prototype,nt.iterator,tt((function(){return this})))},"06ad":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("60dc");function _supply(Ee,ze,Be,We,$e){for(var Qe=$e+"Layout",et=!1,tt=0;tt<Be.length;tt++){var rt=Be[tt];if(Ue.traceIs(rt,Qe)){et=!0;break}}et&&(We($e+"mode"),We($e+"gap"),We($e+"groupgap"))}Ee.exports={supplyLayoutDefaults:function supplyLayoutDefaults(Ee,ze,Be){_supply(0,0,Be,(function coerce(Be,Ue){return We.coerce(Ee,ze,$e,Be,Ue)}),"box")},_supply:_supply}},"06cf":function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("d1e7"),$e=Be("5c6c"),Qe=Be("fc6a"),et=Be("c04e"),tt=Be("5135"),rt=Be("0cfb"),nt=Object.getOwnPropertyDescriptor;ze.f=Ue?nt:function getOwnPropertyDescriptor(Ee,ze){if(Ee=Qe(Ee),ze=et(ze,!0),rt)try{return nt(Ee,ze)}catch(Ee){}if(tt(Ee,ze))return $e(!We.f.call(Ee,ze),Ee[ze])}},"075f":function(Ee,ze){ze.vertexNormals=function(Ee,ze,Be){for(var Ue=ze.length,We=new Array(Ue),$e=void 0===Be?1e-6:Be,Qe=0;Qe<Ue;++Qe)We[Qe]=[0,0,0];for(Qe=0;Qe<Ee.length;++Qe)for(var et=Ee[Qe],tt=0,rt=et[et.length-1],nt=et[0],at=0;at<et.length;++at){tt=rt,rt=nt,nt=et[(at+1)%et.length];for(var it=ze[tt],ct=ze[rt],ft=ze[nt],xt=new Array(3),kt=0,Lt=new Array(3),Ut=0,er=0;er<3;++er)xt[er]=it[er]-ct[er],kt+=xt[er]*xt[er],Lt[er]=ft[er]-ct[er],Ut+=Lt[er]*Lt[er];if(kt*Ut>$e){var tr=We[rt],rr=1/Math.sqrt(kt*Ut);for(er=0;er<3;++er){var ar=(er+1)%3,Lr=(er+2)%3;tr[er]+=rr*(Lt[ar]*xt[Lr]-Lt[Lr]*xt[ar])}}}for(Qe=0;Qe<Ue;++Qe){tr=We[Qe];var Qr=0;for(er=0;er<3;++er)Qr+=tr[er]*tr[er];if(Qr>$e)for(rr=1/Math.sqrt(Qr),er=0;er<3;++er)tr[er]*=rr;else for(er=0;er<3;++er)tr[er]=0}return We},ze.faceNormals=function(Ee,ze,Be){for(var Ue=Ee.length,We=new Array(Ue),$e=void 0===Be?1e-6:Be,Qe=0;Qe<Ue;++Qe){for(var et=Ee[Qe],tt=new Array(3),rt=0;rt<3;++rt)tt[rt]=ze[et[rt]];var nt=new Array(3),at=new Array(3);for(rt=0;rt<3;++rt)nt[rt]=tt[1][rt]-tt[0][rt],at[rt]=tt[2][rt]-tt[0][rt];var it=new Array(3),ct=0;for(rt=0;rt<3;++rt){var ft=(rt+1)%3,xt=(rt+2)%3;it[rt]=nt[ft]*at[xt]-nt[xt]*at[ft],ct+=it[rt]*it[rt]}ct=ct>$e?1/Math.sqrt(ct):0;for(rt=0;rt<3;++rt)it[rt]*=ct;We[Qe]=it}return We}},"076f":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e");Ee.exports=function handleXYDefaults(Ee,ze,Be,$e){var Qe,et=$e("x"),tt=$e("y");if(We.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y"],Be),et){var rt=Ue.minRowLength(et);tt?Qe=Math.min(rt,Ue.minRowLength(tt)):(Qe=rt,$e("y0"),$e("dy"))}else{if(!tt)return 0;Qe=Ue.minRowLength(tt),$e("x0"),$e("dx")}return ze._length=Qe,Qe}},"078e":function(Ee,ze,Be){"use strict";var Ue=Be("cb34").overrideAll,We=Be("e212"),$e=Be("a685"),Qe=Be("73c9"),et=Be("d301"),tt=Be("91cd"),rt=Be("927d"),nt=Be("ad62").getSubplotData;ze.name="gl2d",ze.attr=["xaxis","yaxis"],ze.idRoot=["x","y"],ze.idRegex=et.idRegex,ze.attrRegex=et.attrRegex,ze.attributes=Be("3ff7"),ze.supplyLayoutDefaults=function(Ee,ze,Be){ze._has("cartesian")||tt.supplyLayoutDefaults(Ee,ze,Be)},ze.layoutAttrOverrides=Ue(tt.layoutAttributes,"plot","from-root"),ze.baseLayoutAttrOverrides=Ue({plot_bgcolor:$e.plot_bgcolor,hoverlabel:rt.hoverlabel},"plot","nested"),ze.plot=function plot(Ee){for(var ze=Ee._fullLayout,Be=Ee._fullData,Ue=ze._subplots.gl2d,$e=0;$e<Ue.length;$e++){var Qe=Ue[$e],et=ze._plots[Qe],tt=nt(Be,"gl2d",Qe),rt=et._scene2d;void 0===rt&&(rt=new We({id:Qe,graphDiv:Ee,container:Ee.querySelector(".gl-container"),staticPlot:Ee._context.staticPlot,plotGlPixelRatio:Ee._context.plotGlPixelRatio},ze),et._scene2d=rt),rt.plot(tt,Ee.calcdata,ze,Ee.layout)}},ze.clean=function(Ee,ze,Be,Ue){for(var We=Ue._subplots.gl2d||[],$e=0;$e<We.length;$e++){var Qe=We[$e],et=Ue._plots[Qe];if(et._scene2d){var rt=nt(Ee,"gl2d",Qe);0===rt.length&&(et._scene2d.destroy(),delete Ue._plots[Qe])}}tt.clean.apply(this,arguments)},ze.drawFramework=function(Ee){Ee._context.staticPlot||tt.drawFramework(Ee)},ze.toSVG=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.gl2d,Ue=0;Ue<Be.length;Ue++){var We=ze._plots[Be[Ue]]._scene2d,$e=We.toImage("png");ze._glimages.append("svg:image").attr({xmlns:Qe.svg,"xlink:href":$e,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),We.destroy()}},ze.updateFx=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.gl2d,Ue=0;Ue<Be.length;Ue++){ze._plots[Be[Ue]]._scene2d.updateFx(ze.dragmode)}}},"07db":function(Ee,ze,Be){var Ue=Be("e19f").sprintf,We=Be("b42a"),$e=Be("b2dd"),Qe=Be("911e");Ee.exports=function formatCompilerError(Ee,ze,Be){"use strict";var et=$e(ze)||"of unknown name (see npm glsl-shader-name)",tt="unknown type";void 0!==Be&&(tt=Be===We.FRAGMENT_SHADER?"fragment":"vertex");for(var rt=Ue("Error compiling %s shader %s:\n",tt,et),nt=Ue("%s%s",rt,Ee),at=Ee.split("\n"),it={},ct=0;ct<at.length;ct++){var ft=at[ct];if(""!==ft&&"\0"!==ft){var xt=parseInt(ft.split(":")[2]);if(isNaN(xt))throw new Error(Ue("Could not parse error: %s",ft));it[xt]=ft}}var kt=Qe(ze).split("\n");for(ct=0;ct<kt.length;ct++)if(it[ct+3]||it[ct+2]||it[ct+1]){var Lt=kt[ct];if(rt+=Lt+"\n",it[ct+1]){var Ut=it[ct+1];Ut=Ut.substr(Ut.split(":",3).join(":").length+1).trim(),rt+=Ue("^^^ %s\n\n",Ut)}}return{long:rt.trim(),short:nt.trim()}}},"07dd":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("a08c"),Qe=Be("4183");function supplyIsoDefaults(Ee,ze,Be,Ue,$e){var et=$e("isomin"),tt=$e("isomax");null!=tt&&null!=et&&et>tt&&(ze.isomin=null,ze.isomax=null);var rt=$e("x"),nt=$e("y"),at=$e("z"),it=$e("value");rt&&rt.length&&nt&&nt.length&&at&&at.length&&it&&it.length?(We.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y","z"],Ue),["x","y","z"].forEach((function(Ee){var ze="caps."+Ee;$e(ze+".show")&&$e(ze+".fill");var Be="slices."+Ee;$e(Be+".show")&&($e(Be+".fill"),$e(Be+".locations"))})),$e("spaceframe.show")&&$e("spaceframe.fill"),$e("surface.show")&&($e("surface.count"),$e("surface.fill"),$e("surface.pattern")),$e("contour.show")&&($e("contour.color"),$e("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach((function(Ee){$e(Ee)})),Qe(Ee,ze,Ue,$e,{prefix:"",cLetter:"c"}),ze._length=null):ze.visible=!1}Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,We){supplyIsoDefaults(Ee,ze,Be,We,(function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}))},supplyIsoDefaults:supplyIsoDefaults}},"0804":function(Ee,ze,Be){"use strict";ze.projNames={equirectangular:"equirectangular",mercator:"mercator",orthographic:"orthographic","natural earth":"naturalEarth",kavrayskiy7:"kavrayskiy7",miller:"miller",robinson:"robinson",eckert4:"eckert4","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant","conic equal area":"conicEqualArea","conic conformal":"conicConformal","conic equidistant":"conicEquidistant",gnomonic:"gnomonic",stereographic:"stereographic",mollweide:"mollweide",hammer:"hammer","transverse mercator":"transverseMercator","albers usa":"albersUsa","winkel tripel":"winkel3",aitoff:"aitoff",sinusoidal:"sinusoidal"},ze.axesNames=["lonaxis","lataxis"],ze.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},ze.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},ze.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},ze.clipPad=.001,ze.precision=.1,ze.landColor="#F0DC82",ze.waterColor="#3399FF",ze.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},ze.sphereSVG={type:"Sphere"},ze.fillLayers={ocean:1,land:1,lakes:1},ze.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},ze.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],ze.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],ze.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},"085f":function(Ee,ze,Be){"use strict";var Ue=Be("abc0"),We=Math.pow(2,-1074);Ee.exports=function nextafter(Ee,ze){if(isNaN(Ee)||isNaN(ze))return NaN;if(Ee===ze)return Ee;if(0===Ee)return ze<0?-We:We;var Be=Ue.hi(Ee),$e=Ue.lo(Ee);ze>Ee==Ee>0?$e===-1>>>0?(Be+=1,$e=0):$e+=1:0===$e?($e=-1>>>0,Be-=1):$e-=1;return Ue.pack($e,Be)}},"089c":function(Ee,ze,Be){"use strict";Ee.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},"08ed":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"barpolar",basePlotModule:Be("c07c"),categories:["polar","bar","showLegend"],attributes:Be("792f"),layoutAttributes:Be("4ce7"),supplyDefaults:Be("5da2"),supplyLayoutDefaults:Be("25f3"),calc:Be("ce20").calc,crossTraceCalc:Be("ce20").crossTraceCalc,plot:Be("ec16"),colorbar:Be("f3cf"),formatLabels:Be("98e74"),style:Be("2df3").style,styleOnSelect:Be("2df3").styleOnSelect,hoverPoints:Be("f11b"),selectPoints:Be("7000"),meta:{}}},"0919":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("cec7"),$e=Be("3b74"),Qe=Be("8dde"),et=Be("409f"),tt=Be("306c"),rt=Be("ae13"),nt=Be("1385"),at=Be("74d6"),it=Be("b68b"),ct=Object.keys(We),ft={"ISO-3":tt,"USA-states":tt,"country names":function countryNameToISO3(Ee){for(var ze=0;ze<ct.length;ze++){var Be=ct[ze];if(new RegExp(We[Be]).test(Ee.trim().toLowerCase()))return Be}return rt.log("Unrecognized country name: "+Ee+"."),!1}};function getTraceGeojson(Ee){var ze=Ee.geojson,Be=window.PlotlyGeoAssets||{},Ue="string"==typeof ze?Be[ze]:ze;return nt(Ue)?Ue:(rt.error("Oops ... something went wrong when fetching "+ze),!1)}Ee.exports={locationToFeature:function locationToFeature(Ee,ze,Be){if(!ze||"string"!=typeof ze)return!1;var Ue,We,$e,Qe=ft[Ee](ze);if(Qe){if("USA-states"===Ee)for(Ue=[],$e=0;$e<Be.length;$e++)(We=Be[$e]).properties&&We.properties.gu&&"USA"===We.properties.gu&&Ue.push(We);else Ue=Be;for($e=0;$e<Ue.length;$e++)if((We=Ue[$e]).id===Qe)return We;rt.log(["Location with id",Qe,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function feature2polygons(Ee){var ze,Be,Ue,We,$e=Ee.geometry,Qe=$e.coordinates,et=Ee.id,tt=[];function doesCrossAntiMerdian(Ee){for(var ze=0;ze<Ee.length-1;ze++)if(Ee[ze][0]>0&&Ee[ze+1][0]<0)return ze;return null}switch(ze="RUS"===et||"FJI"===et?function(Ee){var ze;if(null===doesCrossAntiMerdian(Ee))ze=Ee;else for(ze=new Array(Ee.length),We=0;We<Ee.length;We++)ze[We]=[Ee[We][0]<0?Ee[We][0]+360:Ee[We][0],Ee[We][1]];tt.push(it.tester(ze))}:"ATA"===et?function(Ee){var ze=doesCrossAntiMerdian(Ee);if(null===ze)return tt.push(it.tester(Ee));var Be=new Array(Ee.length+1),Ue=0;for(We=0;We<Ee.length;We++)We>ze?Be[Ue++]=[Ee[We][0]+360,Ee[We][1]]:We===ze?(Be[Ue++]=Ee[We],Be[Ue++]=[Ee[We][0],-90]):Be[Ue++]=Ee[We];var $e=it.tester(Be);$e.pts.pop(),tt.push($e)}:function(Ee){tt.push(it.tester(Ee))},$e.type){case"MultiPolygon":for(Be=0;Be<Qe.length;Be++)for(Ue=0;Ue<Qe[Be].length;Ue++)ze(Qe[Be][Ue]);break;case"Polygon":for(Be=0;Be<Qe.length;Be++)ze(Qe[Be])}return tt},getTraceGeojson:getTraceGeojson,extractTraceFeature:function extractTraceFeature(Ee){var ze=Ee[0].trace,Be=getTraceGeojson(ze);if(!Be)return!1;var Ue,We={},et=[];for(Ue=0;Ue<ze._length;Ue++){var tt=Ee[Ue];(tt.loc||0===tt.loc)&&(We[tt.loc]=tt)}function appendFeature(Ee){var Be=at(Ee,ze.featureidkey||"id").get(),Ue=We[Be];if(Ue){var tt=Ee.geometry;if("Polygon"===tt.type||"MultiPolygon"===tt.type){var nt={type:"Feature",id:Be,geometry:tt,properties:{}};nt.properties.ct=function findCentroid(Ee){var ze,Be=Ee.geometry;if("MultiPolygon"===Be.type)for(var Ue=Be.coordinates,We=0,et=0;et<Ue.length;et++){var tt={type:"Polygon",coordinates:Ue[et]},rt=$e.default(tt);rt>We&&(We=rt,ze=tt)}else ze=Be;return Qe.default(ze).geometry.coordinates}(nt),Ue.fIn=Ee,Ue.fOut=nt,et.push(nt)}else rt.log(["Location",Ue.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete We[Be]}switch(Be.type){case"FeatureCollection":var nt=Be.features;for(Ue=0;Ue<nt.length;Ue++)appendFeature(nt[Ue]);break;case"Feature":appendFeature(Be);break;default:return rt.warn(["Invalid GeoJSON type",(Be.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var it in We)rt.log(["Location *"+it+"*","does not have a matching feature with id-key","*"+ze.featureidkey+"*."].join(" "));return et},fetchTraceGeoData:function fetchTraceGeoData(Ee){var ze=window.PlotlyGeoAssets||{},Be=[];function fetch(Ee){return new Promise((function(Be,We){Ue.json(Ee,(function(Ue,$e){if(Ue){delete ze[Ee];var Qe=404===Ue.status?'GeoJSON at URL "'+Ee+'" does not exist.':"Unexpected error while fetching from "+Ee;return We(new Error(Qe))}return ze[Ee]=$e,Be($e)}))}))}function wait(Ee){return new Promise((function(Be,Ue){var We=0,$e=setInterval((function(){return ze[Ee]&&"pending"!==ze[Ee]?(clearInterval($e),Be(ze[Ee])):We>100?(clearInterval($e),Ue("Unexpected error while fetching from "+Ee)):void We++}),50)}))}for(var We=0;We<Ee.length;We++){var $e=Ee[We][0].trace.geojson;"string"==typeof $e&&(ze[$e]?"pending"===ze[$e]&&Be.push(wait($e)):(ze[$e]="pending",Be.push(fetch($e))))}return Be},computeBbox:function computeBbox(Ee){return et.default(Ee)}}},"093d":function(Ee,ze,Be){"use strict";var Ue=Be("f7bf"),We=Be("3bd6");Ee.exports=function muls(Ee,ze){for(var Be=Ue(ze),$e=Ee.length,Qe=new Array($e),et=0;et<$e;++et)Qe[et]=We(Ee[et],Be);return Qe}},"0948":function(Ee,ze,Be){"use strict";var Ue=Be("0fba");Ee.exports=function bn2num(Ee){var ze=Ee.length,Be=Ee.words,We=0;if(1===ze)We=Be[0];else if(2===ze)We=Be[0]+67108864*Be[1];else for(var $e=0;$e<ze;$e++){var Qe=Be[$e];We+=Qe*Math.pow(67108864,$e)}return Ue(Ee)*We}},"0970":function(Ee,ze){Ee.exports=function scaleAndAdd(Ee,ze,Be,Ue){return Ee[0]=ze[0]+Be[0]*Ue,Ee[1]=ze[1]+Be[1]*Ue,Ee[2]=ze[2]+Be[2]*Ue,Ee[3]=ze[3]+Be[3]*Ue,Ee}},"09bd":function(Ee,ze,Be){"use strict";var Ue=Be("215c").hasColorscale,We=Be("3aa8"),$e=Be("de81");Ee.exports=function calcMarkerColorscale(Ee,ze){$e.hasLines(ze)&&Ue(ze,"line")&&We(Ee,ze,{vals:ze.line.color,containerStr:"line",cLetter:"c"}),$e.hasMarkers(ze)&&(Ue(ze,"marker")&&We(Ee,ze,{vals:ze.marker.color,containerStr:"marker",cLetter:"c"}),Ue(ze,"marker.line")&&We(Ee,ze,{vals:ze.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},"09d9":function(Ee,ze,Be){"use strict";var Ue,We=Be("e0f6"),$e=Be("f508"),Qe=Be("1c4a"),et=Be("06a2"),tt=Object.defineProperty;Ue=Ee.exports=function(Ee){if(!(this instanceof Ue))throw new TypeError("Constructor requires 'new'");Ee=String(Ee),et.call(this,Ee),tt(this,"__length__",$e("",Ee.length))},We&&We(Ue,et),delete Ue.prototype.constructor,Ue.prototype=Object.create(et.prototype,{_next:$e((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:$e((function(Ee){var ze,Be=this.__list__[Ee];return this.__nextIndex__===this.__length__?Be:(ze=Be.charCodeAt(0))>=55296&&ze<=56319?Be+this.__list__[this.__nextIndex__++]:Be}))}),tt(Ue.prototype,Qe.toStringTag,$e("c","String Iterator"))},"0a3e":function(Ee,ze,Be){"use strict";var Ue=Be("306c");function wrap(Ee){return[Ee]}Ee.exports={keyFun:function(Ee){return Ee.key},repeat:wrap,descend:Ue,wrap:wrap,unwrap:function(Ee){return Ee[0]}}},"0a4a":function(Ee,ze,Be){"use strict";Be.r(ze);var center=function(Ee,ze){var Be;function force(){var Ue,We,$e=Be.length,Qe=0,et=0;for(Ue=0;Ue<$e;++Ue)Qe+=(We=Be[Ue]).x,et+=We.y;for(Qe=Qe/$e-Ee,et=et/$e-ze,Ue=0;Ue<$e;++Ue)(We=Be[Ue]).x-=Qe,We.y-=et}return null==Ee&&(Ee=0),null==ze&&(ze=0),force.initialize=function(Ee){Be=Ee},force.x=function(ze){return arguments.length?(Ee=+ze,force):Ee},force.y=function(Ee){return arguments.length?(ze=+Ee,force):ze},force},constant=function(Ee){return function(){return Ee}},jiggle=function(){return 1e-6*(Math.random()-.5)};function add_add(Ee,ze,Be,Ue){if(isNaN(ze)||isNaN(Be))return Ee;var We,$e,Qe,et,tt,rt,nt,at,it,ct=Ee._root,ft={data:Ue},xt=Ee._x0,kt=Ee._y0,Lt=Ee._x1,Ut=Ee._y1;if(!ct)return Ee._root=ft,Ee;for(;ct.length;)if((rt=ze>=($e=(xt+Lt)/2))?xt=$e:Lt=$e,(nt=Be>=(Qe=(kt+Ut)/2))?kt=Qe:Ut=Qe,We=ct,!(ct=ct[at=nt<<1|rt]))return We[at]=ft,Ee;if(et=+Ee._x.call(null,ct.data),tt=+Ee._y.call(null,ct.data),ze===et&&Be===tt)return ft.next=ct,We?We[at]=ft:Ee._root=ft,Ee;do{We=We?We[at]=new Array(4):Ee._root=new Array(4),(rt=ze>=($e=(xt+Lt)/2))?xt=$e:Lt=$e,(nt=Be>=(Qe=(kt+Ut)/2))?kt=Qe:Ut=Qe}while((at=nt<<1|rt)==(it=(tt>=Qe)<<1|et>=$e));return We[it]=ct,We[at]=ft,Ee}var src_quad=function(Ee,ze,Be,Ue,We){this.node=Ee,this.x0=ze,this.y0=Be,this.x1=Ue,this.y1=We};function defaultX(Ee){return Ee[0]}function defaultY(Ee){return Ee[1]}function quadtree(Ee,ze,Be){var Ue=new Quadtree(null==ze?defaultX:ze,null==Be?defaultY:Be,NaN,NaN,NaN,NaN);return null==Ee?Ue:Ue.addAll(Ee)}function Quadtree(Ee,ze,Be,Ue,We,$e){this._x=Ee,this._y=ze,this._x0=Be,this._y0=Ue,this._x1=We,this._y1=$e,this._root=void 0}function leaf_copy(Ee){for(var ze={data:Ee.data},Be=ze;Ee=Ee.next;)Be=Be.next={data:Ee.data};return ze}var Ue=quadtree.prototype=Quadtree.prototype;function collide_x(Ee){return Ee.x+Ee.vx}function collide_y(Ee){return Ee.y+Ee.vy}Ue.copy=function(){var Ee,ze,Be=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ue=this._root;if(!Ue)return Be;if(!Ue.length)return Be._root=leaf_copy(Ue),Be;for(Ee=[{source:Ue,target:Be._root=new Array(4)}];Ue=Ee.pop();)for(var We=0;We<4;++We)(ze=Ue.source[We])&&(ze.length?Ee.push({source:ze,target:Ue.target[We]=new Array(4)}):Ue.target[We]=leaf_copy(ze));return Be},Ue.add=function(Ee){var ze=+this._x.call(null,Ee),Be=+this._y.call(null,Ee);return add_add(this.cover(ze,Be),ze,Be,Ee)},Ue.addAll=function addAll(Ee){var ze,Be,Ue,We,$e=Ee.length,Qe=new Array($e),et=new Array($e),tt=1/0,rt=1/0,nt=-1/0,at=-1/0;for(Be=0;Be<$e;++Be)isNaN(Ue=+this._x.call(null,ze=Ee[Be]))||isNaN(We=+this._y.call(null,ze))||(Qe[Be]=Ue,et[Be]=We,Ue<tt&&(tt=Ue),Ue>nt&&(nt=Ue),We<rt&&(rt=We),We>at&&(at=We));if(tt>nt||rt>at)return this;for(this.cover(tt,rt).cover(nt,at),Be=0;Be<$e;++Be)add_add(this,Qe[Be],et[Be],Ee[Be]);return this},Ue.cover=function(Ee,ze){if(isNaN(Ee=+Ee)||isNaN(ze=+ze))return this;var Be=this._x0,Ue=this._y0,We=this._x1,$e=this._y1;if(isNaN(Be))We=(Be=Math.floor(Ee))+1,$e=(Ue=Math.floor(ze))+1;else{for(var Qe,et,tt=We-Be,rt=this._root;Be>Ee||Ee>=We||Ue>ze||ze>=$e;)switch(et=(ze<Ue)<<1|Ee<Be,(Qe=new Array(4))[et]=rt,rt=Qe,tt*=2,et){case 0:We=Be+tt,$e=Ue+tt;break;case 1:Be=We-tt,$e=Ue+tt;break;case 2:We=Be+tt,Ue=$e-tt;break;case 3:Be=We-tt,Ue=$e-tt}this._root&&this._root.length&&(this._root=rt)}return this._x0=Be,this._y0=Ue,this._x1=We,this._y1=$e,this},Ue.data=function(){var Ee=[];return this.visit((function(ze){if(!ze.length)do{Ee.push(ze.data)}while(ze=ze.next)})),Ee},Ue.extent=function(Ee){return arguments.length?this.cover(+Ee[0][0],+Ee[0][1]).cover(+Ee[1][0],+Ee[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ue.find=function(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt,nt=this._x0,at=this._y0,it=this._x1,ct=this._y1,ft=[],xt=this._root;for(xt&&ft.push(new src_quad(xt,nt,at,it,ct)),null==Be?Be=1/0:(nt=Ee-Be,at=ze-Be,it=Ee+Be,ct=ze+Be,Be*=Be);tt=ft.pop();)if(!(!(xt=tt.node)||(We=tt.x0)>it||($e=tt.y0)>ct||(Qe=tt.x1)<nt||(et=tt.y1)<at))if(xt.length){var kt=(We+Qe)/2,Lt=($e+et)/2;ft.push(new src_quad(xt[3],kt,Lt,Qe,et),new src_quad(xt[2],We,Lt,kt,et),new src_quad(xt[1],kt,$e,Qe,Lt),new src_quad(xt[0],We,$e,kt,Lt)),(rt=(ze>=Lt)<<1|Ee>=kt)&&(tt=ft[ft.length-1],ft[ft.length-1]=ft[ft.length-1-rt],ft[ft.length-1-rt]=tt)}else{var Ut=Ee-+this._x.call(null,xt.data),er=ze-+this._y.call(null,xt.data),tr=Ut*Ut+er*er;if(tr<Be){var rr=Math.sqrt(Be=tr);nt=Ee-rr,at=ze-rr,it=Ee+rr,ct=ze+rr,Ue=xt.data}}return Ue},Ue.remove=function(Ee){if(isNaN($e=+this._x.call(null,Ee))||isNaN(Qe=+this._y.call(null,Ee)))return this;var ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct=this._root,ft=this._x0,xt=this._y0,kt=this._x1,Lt=this._y1;if(!ct)return this;if(ct.length)for(;;){if((rt=$e>=(et=(ft+kt)/2))?ft=et:kt=et,(nt=Qe>=(tt=(xt+Lt)/2))?xt=tt:Lt=tt,ze=ct,!(ct=ct[at=nt<<1|rt]))return this;if(!ct.length)break;(ze[at+1&3]||ze[at+2&3]||ze[at+3&3])&&(Be=ze,it=at)}for(;ct.data!==Ee;)if(Ue=ct,!(ct=ct.next))return this;return(We=ct.next)&&delete ct.next,Ue?(We?Ue.next=We:delete Ue.next,this):ze?(We?ze[at]=We:delete ze[at],(ct=ze[0]||ze[1]||ze[2]||ze[3])&&ct===(ze[3]||ze[2]||ze[1]||ze[0])&&!ct.length&&(Be?Be[it]=ct:this._root=ct),this):(this._root=We,this)},Ue.removeAll=function removeAll(Ee){for(var ze=0,Be=Ee.length;ze<Be;++ze)this.remove(Ee[ze]);return this},Ue.root=function(){return this._root},Ue.size=function(){var Ee=0;return this.visit((function(ze){if(!ze.length)do{++Ee}while(ze=ze.next)})),Ee},Ue.visit=function(Ee){var ze,Be,Ue,We,$e,Qe,et=[],tt=this._root;for(tt&&et.push(new src_quad(tt,this._x0,this._y0,this._x1,this._y1));ze=et.pop();)if(!Ee(tt=ze.node,Ue=ze.x0,We=ze.y0,$e=ze.x1,Qe=ze.y1)&&tt.length){var rt=(Ue+$e)/2,nt=(We+Qe)/2;(Be=tt[3])&&et.push(new src_quad(Be,rt,nt,$e,Qe)),(Be=tt[2])&&et.push(new src_quad(Be,Ue,nt,rt,Qe)),(Be=tt[1])&&et.push(new src_quad(Be,rt,We,$e,nt)),(Be=tt[0])&&et.push(new src_quad(Be,Ue,We,rt,nt))}return this},Ue.visitAfter=function(Ee){var ze,Be=[],Ue=[];for(this._root&&Be.push(new src_quad(this._root,this._x0,this._y0,this._x1,this._y1));ze=Be.pop();){var We=ze.node;if(We.length){var $e,Qe=ze.x0,et=ze.y0,tt=ze.x1,rt=ze.y1,nt=(Qe+tt)/2,at=(et+rt)/2;($e=We[0])&&Be.push(new src_quad($e,Qe,et,nt,at)),($e=We[1])&&Be.push(new src_quad($e,nt,et,tt,at)),($e=We[2])&&Be.push(new src_quad($e,Qe,at,nt,rt)),($e=We[3])&&Be.push(new src_quad($e,nt,at,tt,rt))}Ue.push(ze)}for(;ze=Ue.pop();)Ee(ze.node,ze.x0,ze.y0,ze.x1,ze.y1);return this},Ue.x=function(Ee){return arguments.length?(this._x=Ee,this):this._x},Ue.y=function(Ee){return arguments.length?(this._y=Ee,this):this._y};var collide=function(Ee){var ze,Be,Ue=1,We=1;function force(){for(var Ee,$e,Qe,et,tt,rt,nt,at=ze.length,it=0;it<We;++it)for($e=quadtree(ze,collide_x,collide_y).visitAfter(prepare),Ee=0;Ee<at;++Ee)Qe=ze[Ee],rt=Be[Qe.index],nt=rt*rt,et=Qe.x+Qe.vx,tt=Qe.y+Qe.vy,$e.visit(apply);function apply(Ee,ze,Be,We,$e){var at=Ee.data,it=Ee.r,ct=rt+it;if(!at)return ze>et+ct||We<et-ct||Be>tt+ct||$e<tt-ct;if(at.index>Qe.index){var ft=et-at.x-at.vx,xt=tt-at.y-at.vy,kt=ft*ft+xt*xt;kt<ct*ct&&(0===ft&&(kt+=(ft=jiggle())*ft),0===xt&&(kt+=(xt=jiggle())*xt),kt=(ct-(kt=Math.sqrt(kt)))/kt*Ue,Qe.vx+=(ft*=kt)*(ct=(it*=it)/(nt+it)),Qe.vy+=(xt*=kt)*ct,at.vx-=ft*(ct=1-ct),at.vy-=xt*ct)}}}function prepare(Ee){if(Ee.data)return Ee.r=Be[Ee.data.index];for(var ze=Ee.r=0;ze<4;++ze)Ee[ze]&&Ee[ze].r>Ee.r&&(Ee.r=Ee[ze].r)}function initialize(){if(ze){var Ue,We,$e=ze.length;for(Be=new Array($e),Ue=0;Ue<$e;++Ue)We=ze[Ue],Be[We.index]=+Ee(We,Ue,ze)}}return"function"!=typeof Ee&&(Ee=constant(null==Ee?1:+Ee)),force.initialize=function(Ee){ze=Ee,initialize()},force.iterations=function(Ee){return arguments.length?(We=+Ee,force):We},force.strength=function(Ee){return arguments.length?(Ue=+Ee,force):Ue},force.radius=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:constant(+ze),initialize(),force):Ee},force},We=Be("6f04");function index(Ee){return Ee.index}function link_find(Ee,ze){var Be=Ee.get(ze);if(!Be)throw new Error("missing: "+ze);return Be}var src_link=function(Ee){var ze,Be,Ue,$e,Qe,et=index,tt=function defaultStrength(Ee){return 1/Math.min($e[Ee.source.index],$e[Ee.target.index])},rt=constant(30),nt=1;function force(Ue){for(var We=0,$e=Ee.length;We<nt;++We)for(var et,tt,rt,at,it,ct,ft,xt=0;xt<$e;++xt)tt=(et=Ee[xt]).source,at=(rt=et.target).x+rt.vx-tt.x-tt.vx||jiggle(),it=rt.y+rt.vy-tt.y-tt.vy||jiggle(),at*=ct=((ct=Math.sqrt(at*at+it*it))-Be[xt])/ct*Ue*ze[xt],it*=ct,rt.vx-=at*(ft=Qe[xt]),rt.vy-=it*ft,tt.vx+=at*(ft=1-ft),tt.vy+=it*ft}function initialize(){if(Ue){var tt,rt,nt=Ue.length,at=Ee.length,it=Object(We.a)(Ue,et);for(tt=0,$e=new Array(nt);tt<at;++tt)(rt=Ee[tt]).index=tt,"object"!=typeof rt.source&&(rt.source=link_find(it,rt.source)),"object"!=typeof rt.target&&(rt.target=link_find(it,rt.target)),$e[rt.source.index]=($e[rt.source.index]||0)+1,$e[rt.target.index]=($e[rt.target.index]||0)+1;for(tt=0,Qe=new Array(at);tt<at;++tt)rt=Ee[tt],Qe[tt]=$e[rt.source.index]/($e[rt.source.index]+$e[rt.target.index]);ze=new Array(at),initializeStrength(),Be=new Array(at),initializeDistance()}}function initializeStrength(){if(Ue)for(var Be=0,We=Ee.length;Be<We;++Be)ze[Be]=+tt(Ee[Be],Be,Ee)}function initializeDistance(){if(Ue)for(var ze=0,We=Ee.length;ze<We;++ze)Be[ze]=+rt(Ee[ze],ze,Ee)}return null==Ee&&(Ee=[]),force.initialize=function(Ee){Ue=Ee,initialize()},force.links=function(ze){return arguments.length?(Ee=ze,initialize(),force):Ee},force.id=function(Ee){return arguments.length?(et=Ee,force):et},force.iterations=function(Ee){return arguments.length?(nt=+Ee,force):nt},force.strength=function(Ee){return arguments.length?(tt="function"==typeof Ee?Ee:constant(+Ee),initializeStrength(),force):tt},force.distance=function(Ee){return arguments.length?(rt="function"==typeof Ee?Ee:constant(+Ee),initializeDistance(),force):rt},force},$e={value:function(){}};function dispatch(){for(var Ee,ze=0,Be=arguments.length,Ue={};ze<Be;++ze){if(!(Ee=arguments[ze]+"")||Ee in Ue||/[\s.]/.test(Ee))throw new Error("illegal type: "+Ee);Ue[Ee]=[]}return new Dispatch(Ue)}function Dispatch(Ee){this._=Ee}function parseTypenames(Ee,ze){return Ee.trim().split(/^|\s+/).map((function(Ee){var Be="",Ue=Ee.indexOf(".");if(Ue>=0&&(Be=Ee.slice(Ue+1),Ee=Ee.slice(0,Ue)),Ee&&!ze.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:Be}}))}function get(Ee,ze){for(var Be,Ue=0,We=Ee.length;Ue<We;++Ue)if((Be=Ee[Ue]).name===ze)return Be.value}function set(Ee,ze,Be){for(var Ue=0,We=Ee.length;Ue<We;++Ue)if(Ee[Ue].name===ze){Ee[Ue]=$e,Ee=Ee.slice(0,Ue).concat(Ee.slice(Ue+1));break}return null!=Be&&Ee.push({name:ze,value:Be}),Ee}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(Ee,ze){var Be,Ue=this._,We=parseTypenames(Ee+"",Ue),$e=-1,Qe=We.length;if(!(arguments.length<2)){if(null!=ze&&"function"!=typeof ze)throw new Error("invalid callback: "+ze);for(;++$e<Qe;)if(Be=(Ee=We[$e]).type)Ue[Be]=set(Ue[Be],Ee.name,ze);else if(null==ze)for(Be in Ue)Ue[Be]=set(Ue[Be],Ee.name,null);return this}for(;++$e<Qe;)if((Be=(Ee=We[$e]).type)&&(Be=get(Ue[Be],Ee.name)))return Be},copy:function(){var Ee={},ze=this._;for(var Be in ze)Ee[Be]=ze[Be].slice();return new Dispatch(Ee)},call:function(Ee,ze){if((Be=arguments.length-2)>0)for(var Be,Ue,We=new Array(Be),$e=0;$e<Be;++$e)We[$e]=arguments[$e+2];if(!this._.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);for($e=0,Be=(Ue=this._[Ee]).length;$e<Be;++$e)Ue[$e].value.apply(ze,We)},apply:function(Ee,ze,Be){if(!this._.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);for(var Ue=this._[Ee],We=0,$e=Ue.length;We<$e;++We)Ue[We].value.apply(ze,Be)}};var Qe,et,tt=dispatch,rt=0,nt=0,at=0,it=0,ct=0,ft=0,xt="object"==typeof performance&&performance.now?performance:Date,kt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ee){setTimeout(Ee,17)};function now(){return ct||(kt(clearNow),ct=xt.now()+ft)}function clearNow(){ct=0}function Timer(){this._call=this._time=this._next=null}function timer(Ee,ze,Be){var Ue=new Timer;return Ue.restart(Ee,ze,Be),Ue}function wake(){ct=(it=xt.now())+ft,rt=nt=0;try{!function timerFlush(){now(),++rt;for(var Ee,ze=Qe;ze;)(Ee=ct-ze._time)>=0&&ze._call.call(null,Ee),ze=ze._next;--rt}()}finally{rt=0,function nap(){var Ee,ze,Be=Qe,Ue=1/0;for(;Be;)Be._call?(Ue>Be._time&&(Ue=Be._time),Ee=Be,Be=Be._next):(ze=Be._next,Be._next=null,Be=Ee?Ee._next=ze:Qe=ze);et=Ee,sleep(Ue)}(),ct=0}}function poke(){var Ee=xt.now(),ze=Ee-it;ze>1e3&&(ft-=ze,it=Ee)}function sleep(Ee){rt||(nt&&(nt=clearTimeout(nt)),Ee-ct>24?(Ee<1/0&&(nt=setTimeout(wake,Ee-xt.now()-ft)),at&&(at=clearInterval(at))):(at||(it=xt.now(),at=setInterval(poke,1e3)),rt=1,kt(wake)))}function simulation_x(Ee){return Ee.x}function simulation_y(Ee){return Ee.y}Timer.prototype=timer.prototype={constructor:Timer,restart:function(Ee,ze,Be){if("function"!=typeof Ee)throw new TypeError("callback is not a function");Be=(null==Be?now():+Be)+(null==ze?0:+ze),this._next||et===this||(et?et._next=this:Qe=this,et=this),this._call=Ee,this._time=Be,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var Lt=Math.PI*(3-Math.sqrt(5)),src_simulation=function(Ee){var ze,Be=1,Ue=.001,$e=1-Math.pow(Ue,1/300),Qe=0,et=.6,rt=Object(We.a)(),nt=timer(step),at=tt("tick","end");function step(){tick(),at.call("tick",ze),Be<Ue&&(nt.stop(),at.call("end",ze))}function tick(Ue){var We,tt,nt=Ee.length;void 0===Ue&&(Ue=1);for(var at=0;at<Ue;++at)for(Be+=(Qe-Be)*$e,rt.each((function(Ee){Ee(Be)})),We=0;We<nt;++We)null==(tt=Ee[We]).fx?tt.x+=tt.vx*=et:(tt.x=tt.fx,tt.vx=0),null==tt.fy?tt.y+=tt.vy*=et:(tt.y=tt.fy,tt.vy=0);return ze}function initializeNodes(){for(var ze,Be=0,Ue=Ee.length;Be<Ue;++Be){if((ze=Ee[Be]).index=Be,null!=ze.fx&&(ze.x=ze.fx),null!=ze.fy&&(ze.y=ze.fy),isNaN(ze.x)||isNaN(ze.y)){var We=10*Math.sqrt(Be),$e=Be*Lt;ze.x=We*Math.cos($e),ze.y=We*Math.sin($e)}(isNaN(ze.vx)||isNaN(ze.vy))&&(ze.vx=ze.vy=0)}}function initializeForce(ze){return ze.initialize&&ze.initialize(Ee),ze}return null==Ee&&(Ee=[]),initializeNodes(),ze={tick:tick,restart:function(){return nt.restart(step),ze},stop:function(){return nt.stop(),ze},nodes:function(Be){return arguments.length?(Ee=Be,initializeNodes(),rt.each(initializeForce),ze):Ee},alpha:function(Ee){return arguments.length?(Be=+Ee,ze):Be},alphaMin:function(Ee){return arguments.length?(Ue=+Ee,ze):Ue},alphaDecay:function(Ee){return arguments.length?($e=+Ee,ze):+$e},alphaTarget:function(Ee){return arguments.length?(Qe=+Ee,ze):Qe},velocityDecay:function(Ee){return arguments.length?(et=1-Ee,ze):1-et},force:function(Ee,Be){return arguments.length>1?(null==Be?rt.remove(Ee):rt.set(Ee,initializeForce(Be)),ze):rt.get(Ee)},find:function(ze,Be,Ue){var We,$e,Qe,et,tt,rt=0,nt=Ee.length;for(null==Ue?Ue=1/0:Ue*=Ue,rt=0;rt<nt;++rt)(Qe=(We=ze-(et=Ee[rt]).x)*We+($e=Be-et.y)*$e)<Ue&&(tt=et,Ue=Qe);return tt},on:function(Ee,Be){return arguments.length>1?(at.on(Ee,Be),ze):at.on(Ee)}}},manyBody=function(){var Ee,ze,Be,Ue,We=constant(-30),$e=1,Qe=1/0,et=.81;function force(Ue){var We,$e=Ee.length,Qe=quadtree(Ee,simulation_x,simulation_y).visitAfter(accumulate);for(Be=Ue,We=0;We<$e;++We)ze=Ee[We],Qe.visit(apply)}function initialize(){if(Ee){var ze,Be,$e=Ee.length;for(Ue=new Array($e),ze=0;ze<$e;++ze)Be=Ee[ze],Ue[Be.index]=+We(Be,ze,Ee)}}function accumulate(Ee){var ze,Be,We,$e,Qe,et=0,tt=0;if(Ee.length){for(We=$e=Qe=0;Qe<4;++Qe)(ze=Ee[Qe])&&(Be=Math.abs(ze.value))&&(et+=ze.value,tt+=Be,We+=Be*ze.x,$e+=Be*ze.y);Ee.x=We/tt,Ee.y=$e/tt}else{(ze=Ee).x=ze.data.x,ze.y=ze.data.y;do{et+=Ue[ze.data.index]}while(ze=ze.next)}Ee.value=et}function apply(Ee,We,tt,rt){if(!Ee.value)return!0;var nt=Ee.x-ze.x,at=Ee.y-ze.y,it=rt-We,ct=nt*nt+at*at;if(it*it/et<ct)return ct<Qe&&(0===nt&&(ct+=(nt=jiggle())*nt),0===at&&(ct+=(at=jiggle())*at),ct<$e&&(ct=Math.sqrt($e*ct)),ze.vx+=nt*Ee.value*Be/ct,ze.vy+=at*Ee.value*Be/ct),!0;if(!(Ee.length||ct>=Qe)){(Ee.data!==ze||Ee.next)&&(0===nt&&(ct+=(nt=jiggle())*nt),0===at&&(ct+=(at=jiggle())*at),ct<$e&&(ct=Math.sqrt($e*ct)));do{Ee.data!==ze&&(it=Ue[Ee.data.index]*Be/ct,ze.vx+=nt*it,ze.vy+=at*it)}while(Ee=Ee.next)}}return force.initialize=function(ze){Ee=ze,initialize()},force.strength=function(Ee){return arguments.length?(We="function"==typeof Ee?Ee:constant(+Ee),initialize(),force):We},force.distanceMin=function(Ee){return arguments.length?($e=Ee*Ee,force):Math.sqrt($e)},force.distanceMax=function(Ee){return arguments.length?(Qe=Ee*Ee,force):Math.sqrt(Qe)},force.theta=function(Ee){return arguments.length?(et=Ee*Ee,force):Math.sqrt(et)},force},radial=function(Ee,ze,Be){var Ue,We,$e,Qe=constant(.1);function force(Ee){for(var Qe=0,et=Ue.length;Qe<et;++Qe){var tt=Ue[Qe],rt=tt.x-ze||1e-6,nt=tt.y-Be||1e-6,at=Math.sqrt(rt*rt+nt*nt),it=($e[Qe]-at)*We[Qe]*Ee/at;tt.vx+=rt*it,tt.vy+=nt*it}}function initialize(){if(Ue){var ze,Be=Ue.length;for(We=new Array(Be),$e=new Array(Be),ze=0;ze<Be;++ze)$e[ze]=+Ee(Ue[ze],ze,Ue),We[ze]=isNaN($e[ze])?0:+Qe(Ue[ze],ze,Ue)}}return"function"!=typeof Ee&&(Ee=constant(+Ee)),null==ze&&(ze=0),null==Be&&(Be=0),force.initialize=function(Ee){Ue=Ee,initialize()},force.strength=function(Ee){return arguments.length?(Qe="function"==typeof Ee?Ee:constant(+Ee),initialize(),force):Qe},force.radius=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:constant(+ze),initialize(),force):Ee},force.x=function(Ee){return arguments.length?(ze=+Ee,force):ze},force.y=function(Ee){return arguments.length?(Be=+Ee,force):Be},force},d3_force_src_x=function(Ee){var ze,Be,Ue,We=constant(.1);function force(Ee){for(var We,$e=0,Qe=ze.length;$e<Qe;++$e)(We=ze[$e]).vx+=(Ue[$e]-We.x)*Be[$e]*Ee}function initialize(){if(ze){var $e,Qe=ze.length;for(Be=new Array(Qe),Ue=new Array(Qe),$e=0;$e<Qe;++$e)Be[$e]=isNaN(Ue[$e]=+Ee(ze[$e],$e,ze))?0:+We(ze[$e],$e,ze)}}return"function"!=typeof Ee&&(Ee=constant(null==Ee?0:+Ee)),force.initialize=function(Ee){ze=Ee,initialize()},force.strength=function(Ee){return arguments.length?(We="function"==typeof Ee?Ee:constant(+Ee),initialize(),force):We},force.x=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:constant(+ze),initialize(),force):Ee},force},d3_force_src_y=function(Ee){var ze,Be,Ue,We=constant(.1);function force(Ee){for(var We,$e=0,Qe=ze.length;$e<Qe;++$e)(We=ze[$e]).vy+=(Ue[$e]-We.y)*Be[$e]*Ee}function initialize(){if(ze){var $e,Qe=ze.length;for(Be=new Array(Qe),Ue=new Array(Qe),$e=0;$e<Qe;++$e)Be[$e]=isNaN(Ue[$e]=+Ee(ze[$e],$e,ze))?0:+We(ze[$e],$e,ze)}}return"function"!=typeof Ee&&(Ee=constant(null==Ee?0:+Ee)),force.initialize=function(Ee){ze=Ee,initialize()},force.strength=function(Ee){return arguments.length?(We="function"==typeof Ee?Ee:constant(+Ee),initialize(),force):We},force.y=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:constant(+ze),initialize(),force):Ee},force};Be.d(ze,"forceCenter",(function(){return center})),Be.d(ze,"forceCollide",(function(){return collide})),Be.d(ze,"forceLink",(function(){return src_link})),Be.d(ze,"forceManyBody",(function(){return manyBody})),Be.d(ze,"forceRadial",(function(){return radial})),Be.d(ze,"forceSimulation",(function(){return src_simulation})),Be.d(ze,"forceX",(function(){return d3_force_src_x})),Be.d(ze,"forceY",(function(){return d3_force_src_y}))},"0adf":function(Ee,ze,Be){"use strict";var Ue=Be("3aa8"),We=Be("fc26"),$e=Be("d064"),Qe=Be("1b6a"),et=Be("2d0e"),tt=Be("0c3a"),rt=Be("d706"),nt=Be("eb12"),at=Be("9b68"),it=Be("8a7d");Ee.exports=function calc(Ee,ze){var Be=ze._carpetTrace=at(Ee,ze);if(Be&&Be.visible&&"legendonly"!==Be.visible){if(!ze.a||!ze.b){var ct=Ee.data[Be.index],ft=Ee.data[ze.index];ft.a||(ft.a=ct.a),ft.b||(ft.b=ct.b),nt(ft,ze,ze._defaultColor,Ee._fullLayout)}var xt=function heatmappishCalc(Ee,ze){var Be,nt,at,it,ct,ft,xt,kt=ze._carpetTrace,Lt=kt.aaxis,Ut=kt.baxis;Lt._minDtick=0,Ut._minDtick=0,We.isArray1D(ze.z)&&$e(ze,Lt,Ut,"a","b",["z"]);Be=ze._a=ze._a||ze.a,it=ze._b=ze._b||ze.b,Be=Be?Lt.makeCalcdata(ze,"_a"):[],it=it?Ut.makeCalcdata(ze,"_b"):[],nt=ze.a0||0,at=ze.da||1,ct=ze.b0||0,ft=ze.db||1,xt=ze._z=Qe(ze._z||ze.z,ze.transpose),ze._emptypoints=tt(xt),et(xt,ze._emptypoints);var er=We.maxRowLength(xt),tr="scaled"===ze.xtype?"":Be,rr=rt(ze,tr,nt,at,er,Lt),ar="scaled"===ze.ytype?"":it,Lr=rt(ze,ar,ct,ft,xt.length,Ut),Qr={a:rr,b:Lr,z:xt};"levels"===ze.contours.type&&"none"!==ze.contours.coloring&&Ue(Ee,ze,{vals:xt,containerStr:"",cLetter:"z"});return[Qr]}(Ee,ze);return it(ze,ze._z),xt}}},"0af2":function(Ee,ze,Be){"use strict";var Ue=Be("09bd"),We=Be("70b4").calcMarkerSize,$e=Be("c879"),Qe=Be("0642"),et=Be("b326").TOO_MANY_POINTS;Ee.exports=function calc(Ee,ze){var Be=Ee._fullLayout,tt=ze.subplot,rt=Be[tt].radialaxis,nt=Be[tt].angularaxis,at=ze._r=rt.makeCalcdata(ze,"r"),it=ze._theta=nt.makeCalcdata(ze,"theta"),ct=ze._length,ft={};ct<at.length&&(at=at.slice(0,ct)),ct<it.length&&(it=it.slice(0,ct)),ft.r=at,ft.theta=it,Ue(Ee,ze);var xt,kt=ft.opts=$e.style(Ee,ze);return ct<et?xt=We(ze,ct):kt.marker&&(xt=2*(kt.marker.sizeAvg||Math.max(kt.marker.size,3))),ze._extremes.x=Qe.findExtremes(rt,at,{ppad:xt}),[{x:!1,y:!1,t:ft,trace:ze}]}},"0b1d":function(Ee,ze,Be){"use strict";var Ue=Be("c01c"),We=Be("a026"),$e=Be("e100"),Qe=Be("0dd1");function cofactor(Ee,ze){for(var Be=new Array(Ee.length-1),Ue=1;Ue<Ee.length;++Ue)for(var We=Be[Ue-1]=new Array(Ee.length-1),$e=0,Qe=0;$e<Ee.length;++$e)$e!==ze&&(We[Qe++]=Ee[Ue][$e]);return Be}function generateSum(Ee){if(1===Ee.length)return Ee[0];if(2===Ee.length)return["sum(",Ee[0],",",Ee[1],")"].join("");var ze=Ee.length>>1;return["sum(",generateSum(Ee.slice(0,ze)),",",generateSum(Ee.slice(ze)),")"].join("")}function makeProduct(Ee,ze){if("m"===Ee.charAt(0)){if("w"===ze.charAt(0)){var Be=Ee.split("[");return["w",ze.substr(1),"m",Be[0].substr(1)].join("")}return["prod(",Ee,",",ze,")"].join("")}return makeProduct(ze,Ee)}function determinant(Ee){if(2===Ee.length)return[["diff(",makeProduct(Ee[0][0],Ee[1][1]),",",makeProduct(Ee[1][0],Ee[0][1]),")"].join("")];for(var ze=[],Be=0;Be<Ee.length;++Be)ze.push(["scale(",generateSum(determinant(cofactor(Ee,Be))),",",(Ue=Be,!0&Ue?"-":""),Ee[0][Be],")"].join(""));return ze;var Ue}function makeSquare(Ee,ze){for(var Be=[],Ue=0;Ue<ze-2;++Ue)Be.push(["prod(m",Ee,"[",Ue,"],m",Ee,"[",Ue,"])"].join(""));return generateSum(Be)}function orientation(Ee){for(var ze=[],Be=[],et=function matrix(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be){ze[Be]=new Array(Ee);for(var Ue=0;Ue<Ee;++Ue)ze[Be][Ue]=["m",Ue,"[",Ee-Be-2,"]"].join("")}return ze}(Ee),tt=0;tt<Ee;++tt)et[0][tt]="1",et[Ee-1][tt]="w"+tt;for(tt=0;tt<Ee;++tt)0==(1&tt)?ze.push.apply(ze,determinant(cofactor(et,tt))):Be.push.apply(Be,determinant(cofactor(et,tt)));var rt=generateSum(ze),nt=generateSum(Be),at="exactInSphere"+Ee,it=[];for(tt=0;tt<Ee;++tt)it.push("m"+tt);var ct=["function ",at,"(",it.join(),"){"];for(tt=0;tt<Ee;++tt){ct.push("var w",tt,"=",makeSquare(tt,Ee),";");for(var ft=0;ft<Ee;++ft)ft!==tt&&ct.push("var w",tt,"m",ft,"=scale(w",tt,",m",ft,"[0]);")}return ct.push("var p=",rt,",n=",nt,",d=diff(p,n);return d[d.length-1];}return ",at),new Function("sum","diff","prod","scale",ct.join(""))(We,$e,Ue,Qe)}var et=[function inSphere0(){return 0},function inSphere1(){return 0},function inSphere2(){return 0}];function slowInSphere(Ee){var ze=et[Ee.length];return ze||(ze=et[Ee.length]=orientation(Ee.length)),ze.apply(void 0,Ee)}!function generateInSphereTest(){for(;et.length<=6;)et.push(orientation(et.length));for(var ze=[],Be=["slow"],Ue=0;Ue<=6;++Ue)ze.push("a"+Ue),Be.push("o"+Ue);var We=["function testInSphere(",ze.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(Ue=2;Ue<=6;++Ue)We.push("case ",Ue,":return o",Ue,"(",ze.slice(0,Ue).join(),");");We.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),Be.push(We.join(""));var $e=Function.apply(void 0,Be);for(Ee.exports=$e.apply(void 0,[slowInSphere].concat(et)),Ue=0;Ue<=6;++Ue)Ee.exports[Ue]=et[Ue]}()},"0b4f":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("5348"),supplyDefaults:Be("cba5"),calc:Be("edf7"),colorbar:{min:"cmin",max:"cmax"},plot:Be("6fa6"),moduleType:"trace",name:"volume",basePlotModule:Be("134c"),categories:["gl3d","showLegend"],meta:{}}},"0b77":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("e806").BADNUM;Ee.exports=function autoType(Ee,ze,Be){return!(Be=Be||{}).noMultiCategory&&function multiCategory(Ee){return We.isArrayOrTypedArray(Ee[0])&&We.isArrayOrTypedArray(Ee[1])}(Ee)?"multicategory":function moreDates(Ee,ze){for(var Be=Math.max(1,(Ee.length-1)/1e3),$e=0,Qe=0,et={},tt=0;tt<Ee.length;tt+=Be){var rt=Ee[Math.round(tt)],nt=String(rt);et[nt]||(et[nt]=1,We.isDateTime(rt,ze)&&($e+=1),Ue(rt)&&(Qe+=1))}return $e>2*Qe}(Ee,ze)?"date":function category(Ee){for(var ze=Math.max(1,(Ee.length-1)/1e3),Be=0,Ue=0,Qe={},et=0;et<Ee.length;et+=ze){var tt=Ee[Math.round(et)],rt=String(tt);Qe[rt]||(Qe[rt]=1,"boolean"==typeof tt?Ue++:We.cleanNumber(tt)!==$e?Be++:"string"==typeof tt&&Ue++)}return Ue>2*Be}(Ee)?"category":function linearOK(Ee){if(!Ee)return!1;for(var ze=0;ze<Ee.length;ze++)if(Ue(Ee[ze]))return!0;return!1}(Ee)?"linear":"-"}},"0b79":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c"),$e=Ue.instance();function TaiwanCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}TaiwanCalendar.prototype=new Ue.baseCalendar,We(TaiwanCalendar.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);Ee=this._t2gYear(ze.year());return $e.leapYear(Ee)},weekOfYear:function(Ee,ze,Be){var We=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);Ee=this._t2gYear(We.year());return $e.weekOfYear(Ee,We.month(),We.day())},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(2===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);Ee=this._t2gYear(We.year());return $e.toJD(Ee,We.month(),We.day())},fromJD:function(Ee){var ze=$e.fromJD(Ee),Be=this._g2tYear(ze.year());return this.newDate(Be,ze.month(),ze.day())},_t2gYear:function(Ee){return Ee+this.yearsOffset+(Ee>=-this.yearsOffset&&Ee<=-1?1:0)},_g2tYear:function(Ee){return Ee-this.yearsOffset-(Ee>=1&&Ee<=this.yearsOffset?1:0)}}),Ue.calendars.taiwan=TaiwanCalendar},"0b89":function(Ee,ze,Be){"use strict";Be.r(ze);var _slicedToArray=function(Ee,ze){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return function sliceIterator(Ee,ze){var Be=[],Ue=!0,We=!1,$e=void 0;try{for(var Qe,et=Ee[Symbol.iterator]();!(Ue=(Qe=et.next()).done)&&(Be.push(Qe.value),!ze||Be.length!==ze);Ue=!0);}catch(Ee){We=!0,$e=Ee}finally{try{!Ue&&et.return&&et.return()}finally{if(We)throw $e}}return Be}(Ee,ze);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ue=2*Math.PI,We=function mapToEllipse(Ee,ze,Be,Ue,We,$e,Qe){var et=Ee.x,tt=Ee.y;return{x:Ue*(et*=ze)-We*(tt*=Be)+$e,y:We*et+Ue*tt+Qe}},$e=function approxUnitArc(Ee,ze){var Be=1.5707963267948966===ze?.551915024494:-1.5707963267948966===ze?-.551915024494:4/3*Math.tan(ze/4),Ue=Math.cos(Ee),We=Math.sin(Ee),$e=Math.cos(Ee+ze),Qe=Math.sin(Ee+ze);return[{x:Ue-We*Be,y:We+Ue*Be},{x:$e+Qe*Be,y:Qe-$e*Be},{x:$e,y:Qe}]},Qe=function vectorAngle(Ee,ze,Be,Ue){var We=Ee*Be+ze*Ue;return We>1&&(We=1),We<-1&&(We=-1),(Ee*Ue-ze*Be<0?-1:1)*Math.acos(We)};ze.default=function arcToBezier(Ee){var ze=Ee.px,Be=Ee.py,et=Ee.cx,tt=Ee.cy,rt=Ee.rx,nt=Ee.ry,at=Ee.xAxisRotation,it=void 0===at?0:at,ct=Ee.largeArcFlag,ft=void 0===ct?0:ct,xt=Ee.sweepFlag,kt=void 0===xt?0:xt,Lt=[];if(0===rt||0===nt)return[];var Ut=Math.sin(it*Ue/360),er=Math.cos(it*Ue/360),tr=er*(ze-et)/2+Ut*(Be-tt)/2,rr=-Ut*(ze-et)/2+er*(Be-tt)/2;if(0===tr&&0===rr)return[];rt=Math.abs(rt),nt=Math.abs(nt);var ar=Math.pow(tr,2)/Math.pow(rt,2)+Math.pow(rr,2)/Math.pow(nt,2);ar>1&&(rt*=Math.sqrt(ar),nt*=Math.sqrt(ar));var Lr=function getArcCenter(Ee,ze,Be,We,$e,et,tt,rt,nt,at,it,ct){var ft=Math.pow($e,2),xt=Math.pow(et,2),kt=Math.pow(it,2),Lt=Math.pow(ct,2),Ut=ft*xt-ft*Lt-xt*kt;Ut<0&&(Ut=0),Ut/=ft*Lt+xt*kt;var er=(Ut=Math.sqrt(Ut)*(tt===rt?-1:1))*$e/et*ct,tr=Ut*-et/$e*it,rr=at*er-nt*tr+(Ee+Be)/2,ar=nt*er+at*tr+(ze+We)/2,Lr=(it-er)/$e,Qr=(ct-tr)/et,on=(-it-er)/$e,sn=(-ct-tr)/et,ln=Qe(1,0,Lr,Qr),cn=Qe(Lr,Qr,on,sn);return 0===rt&&cn>0&&(cn-=Ue),1===rt&&cn<0&&(cn+=Ue),[rr,ar,ln,cn]}(ze,Be,et,tt,rt,nt,ft,kt,Ut,er,tr,rr),Qr=_slicedToArray(Lr,4),on=Qr[0],sn=Qr[1],ln=Qr[2],cn=Qr[3],un=Math.abs(cn)/(Ue/4);Math.abs(1-un)<1e-7&&(un=1);var hn=Math.max(Math.ceil(un),1);cn/=hn;for(var dn=0;dn<hn;dn++)Lt.push($e(ln,cn)),ln+=cn;return Lt.map((function(Ee){var ze=We(Ee[0],rt,nt,er,Ut,on,sn),Be=ze.x,Ue=ze.y,$e=We(Ee[1],rt,nt,er,Ut,on,sn),Qe=$e.x,et=$e.y,tt=We(Ee[2],rt,nt,er,Ut,on,sn);return{x1:Be,y1:Ue,x2:Qe,y2:et,x:tt.x,y:tt.y}}))}},"0c39":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("371e"),Qe=Be("0642"),et=Be("424b"),tt=Be("6dcc"),rt=Be("c005"),nt=Be("9547"),at=Be("5913");function calcAllAutoBins(Ee,ze,Be,et,tt){var rt,nt,at,it,ct,ft,xt,kt=et+"bins",Lt=Ee._fullLayout,Ut=ze["_"+et+"bingroup"],er=Lt._histogramBinOpts[Ut],tr="overlay"===Lt.barmode,r2c=function(Ee){return Be.r2c(Ee,0,it)},c2r=function(Ee){return Be.c2r(Ee,0,it)},rr="date"===Be.type?function(Ee){return Ee||0===Ee?We.cleanDate(Ee,null,it):null}:function(Ee){return Ue(Ee)?Number(Ee):null};function setBound(Ee,ze,Be){ze[Ee+"Found"]?(ze[Ee]=rr(ze[Ee]),null===ze[Ee]&&(ze[Ee]=Be[Ee])):(ft[Ee]=ze[Ee]=Be[Ee],We.nestedProperty(nt[0],kt+"."+Ee).set(Be[Ee]))}if(ze["_"+et+"autoBinFinished"])delete ze["_"+et+"autoBinFinished"];else{nt=er.traces;var ar=[],Lr=!0,Qr=!1,on=!1;for(rt=0;rt<nt.length;rt++)if((at=nt[rt]).visible){var sn=er.dirs[rt];ct=at["_"+sn+"pos0"]=Be.makeCalcdata(at,sn),ar=We.concat(ar,ct),delete at["_"+et+"autoBinFinished"],!0===ze.visible&&(Lr?Lr=!1:(delete at._autoBin,at["_"+et+"autoBinFinished"]=1),$e.traceIs(at,"2dMap")&&(Qr=!0),"histogram2dcontour"===at.type&&(on=!0))}it=nt[0][et+"calendar"];var ln=Qe.autoBin(ar,Be,er.nbins,Qr,it,er.sizeFound&&er.size),cn=nt[0]._autoBin={};if(ft=cn[er.dirs[0]]={},on&&(er.size||(ln.start=c2r(Qe.tickIncrement(r2c(ln.start),ln.size,!0,it))),void 0===er.end&&(ln.end=c2r(Qe.tickIncrement(r2c(ln.end),ln.size,!1,it)))),tr&&!$e.traceIs(ze,"2dMap")&&0===ln._dataSpan&&"category"!==Be.type&&"multicategory"!==Be.type){if(tt)return[ln,ct,!0];ln=function handleSingleValueOverlays(Ee,ze,Be,Ue,$e){var Qe,et,tt,rt=Ee._fullLayout,nt=function getConnectedHistograms(Ee,ze){for(var Be=ze.xaxis,Ue=ze.yaxis,We=ze.orientation,$e=[],Qe=Ee._fullData,et=0;et<Qe.length;et++){var tt=Qe[et];"histogram"===tt.type&&!0===tt.visible&&tt.orientation===We&&tt.xaxis===Be&&tt.yaxis===Ue&&$e.push(tt)}return $e}(Ee,ze),at=!1,it=1/0,ct=[ze];for(Qe=0;Qe<nt.length;Qe++)if((et=nt[Qe])===ze)at=!0;else if(at){var ft=calcAllAutoBins(Ee,et,Be,Ue,!0),xt=ft[0],kt=ft[2];et["_"+Ue+"autoBinFinished"]=1,et["_"+Ue+"pos0"]=ft[1],kt?ct.push(et):it=Math.min(it,xt.size)}else tt=rt._histogramBinOpts[et["_"+Ue+"bingroup"]],it=Math.min(it,tt.size||et[$e].size);var Lt=new Array(ct.length);for(Qe=0;Qe<ct.length;Qe++)for(var Ut=ct[Qe]["_"+Ue+"pos0"],er=0;er<Ut.length;er++)if(void 0!==Ut[er]){Lt[Qe]=Ut[er];break}isFinite(it)||(it=We.distinctVals(Lt).minDiff);for(Qe=0;Qe<ct.length;Qe++){var tr=(et=ct[Qe])[Ue+"calendar"],rr={start:Be.c2r(Lt[Qe]-it/2,0,tr),end:Be.c2r(Lt[Qe]+it/2,0,tr),size:it};et._input[$e]=et[$e]=rr,(tt=rt._histogramBinOpts[et["_"+Ue+"bingroup"]])&&We.extendFlat(tt,rr)}return ze[$e]}(Ee,ze,Be,et,kt)}(xt=at.cumulative||{}).enabled&&"include"!==xt.currentbin&&("decreasing"===xt.direction?ln.start=c2r(Qe.tickIncrement(r2c(ln.start),ln.size,!0,it)):ln.end=c2r(Qe.tickIncrement(r2c(ln.end),ln.size,!1,it))),er.size=ln.size,er.sizeFound||(ft.size=ln.size,We.nestedProperty(nt[0],kt+".size").set(ln.size)),setBound("start",er,ln),setBound("end",er,ln)}ct=ze["_"+et+"pos0"],delete ze["_"+et+"pos0"];var un=ze._input[kt]||{},hn=We.extendFlat({},er),dn=er.start,vn=Be.r2l(un.start),yn=void 0!==vn;if((er.startFound||yn)&&vn!==Be.r2l(dn)){var _n=yn?vn:We.aggNums(Math.min,null,ct),Mn={type:"category"===Be.type||"multicategory"===Be.type?"linear":Be.type,r2l:Be.r2l,dtick:er.size,tick0:dn,calendar:it,range:[_n,Qe.tickIncrement(_n,er.size,!1,it)].map(Be.l2r)},Cn=Qe.tickFirst(Mn);Cn>Be.r2l(_n)&&(Cn=Qe.tickIncrement(Cn,er.size,!0,it)),hn.start=Be.l2r(Cn),yn||We.nestedProperty(ze,kt+".start").set(hn.start)}var En=er.end,Pn=Be.r2l(un.end),In=void 0!==Pn;if((er.endFound||In)&&Pn!==Be.r2l(En)){var Bn=In?Pn:We.aggNums(Math.max,null,ct);hn.end=Be.l2r(Bn),In||We.nestedProperty(ze,kt+".start").set(hn.end)}var Hn="autobin"+et;return!1===ze._input[Hn]&&(ze._input[kt]=We.extendFlat({},ze[kt]||{}),delete ze._input[Hn],delete ze[Hn]),[hn,ct]}Ee.exports={calc:function calc(Ee,ze){var Be,$e,it,ct,ft=[],xt=[],kt=Qe.getFromId(Ee,"h"===ze.orientation?ze.yaxis:ze.xaxis),Lt="h"===ze.orientation?"y":"x",Ut={x:"y",y:"x"}[Lt],er=ze[Lt+"calendar"],tr=ze.cumulative,rr=calcAllAutoBins(Ee,ze,kt,Lt),ar=rr[0],Lr=rr[1],Qr="string"==typeof ar.size,on=[],sn=Qr?on:ar,ln=[],cn=[],un=[],hn=0,dn=ze.histnorm,vn=ze.histfunc,yn=-1!==dn.indexOf("density");tr.enabled&&yn&&(dn=dn.replace(/ ?density$/,""),yn=!1);var _n,Mn="max"===vn||"min"===vn?null:0,Cn=tt.count,En=rt[dn],Pn=!1,pr2c=function(Ee){return kt.r2c(Ee,0,er)};for(We.isArrayOrTypedArray(ze[Ut])&&"count"!==vn&&(_n=ze[Ut],Pn="avg"===vn,Cn=tt[vn]),Be=pr2c(ar.start),it=pr2c(ar.end)+(Be-Qe.tickIncrement(Be,ar.size,!1,er))/1e6;Be<it&&ft.length<1e6&&($e=Qe.tickIncrement(Be,ar.size,!1,er),ft.push((Be+$e)/2),xt.push(Mn),un.push([]),on.push(Be),yn&&ln.push(1/($e-Be)),Pn&&cn.push(0),!($e<=Be));)Be=$e;on.push(Be),Qr||"date"!==kt.type||(sn={start:pr2c(sn.start),end:pr2c(sn.end),size:sn.size});var In,Bn=xt.length,Hn=!0,Kn=1/0,Jn=1/0,Ma={};for(Be=0;Be<Lr.length;Be++){var Sa=Lr[Be];(ct=We.findBin(Sa,sn))>=0&&ct<Bn&&(hn+=Cn(ct,Be,xt,_n,cn),Hn&&un[ct].length&&Sa!==Lr[un[ct][0]]&&(Hn=!1),un[ct].push(Be),Ma[Be]=ct,Kn=Math.min(Kn,Sa-on[ct]),Jn=Math.min(Jn,on[ct+1]-Sa))}Hn||(In=at(Kn,Jn,on,kt,er)),Pn&&(hn=nt(xt,cn)),En&&En(xt,hn,ln),tr.enabled&&function cdf(Ee,ze,Be){var Ue,We,$e;function firstHalfPoint(ze){$e=Ee[ze],Ee[ze]/=2}function nextHalfPoint(ze){We=Ee[ze],Ee[ze]=$e+We/2,$e+=We}if("half"===Be)if("increasing"===ze)for(firstHalfPoint(0),Ue=1;Ue<Ee.length;Ue++)nextHalfPoint(Ue);else for(firstHalfPoint(Ee.length-1),Ue=Ee.length-2;Ue>=0;Ue--)nextHalfPoint(Ue);else if("increasing"===ze){for(Ue=1;Ue<Ee.length;Ue++)Ee[Ue]+=Ee[Ue-1];"exclude"===Be&&(Ee.unshift(0),Ee.pop())}else{for(Ue=Ee.length-2;Ue>=0;Ue--)Ee[Ue]+=Ee[Ue+1];"exclude"===Be&&(Ee.push(0),Ee.shift())}}(xt,tr.direction,tr.currentbin);var La=Math.min(ft.length,xt.length),Ia=[],Ra=0,Na=La-1;for(Be=0;Be<La;Be++)if(xt[Be]){Ra=Be;break}for(Be=La-1;Be>=Ra;Be--)if(xt[Be]){Na=Be;break}for(Be=Ra;Be<=Na;Be++)if(Ue(ft[Be])&&Ue(xt[Be])){var Ua={p:ft[Be],s:xt[Be],b:0};tr.enabled||(Ua.pts=un[Be],Hn?Ua.ph0=Ua.ph1=un[Be].length?Lr[un[Be][0]]:ft[Be]:(Ua.ph0=In(on[Be]),Ua.ph1=In(on[Be+1],!0))),Ia.push(Ua)}return 1===Ia.length&&(Ia[0].width1=Qe.tickIncrement(Ia[0].p,ar.size,!1,er)-Ia[0].p),et(Ia,ze),We.isArrayOrTypedArray(ze.selectedpoints)&&We.tagSelected(Ia,ze,Ma),Ia},calcAllAutoBins:calcAllAutoBins}},"0c3a":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").maxRowLength;Ee.exports=function findEmpties(Ee){var ze,Be,We,$e,Qe,et,tt,rt,nt=[],at={},it=[],ct=Ee[0],ft=[],xt=[0,0,0],kt=Ue(Ee);for(Be=0;Be<Ee.length;Be++)for(ze=ft,ft=ct,ct=Ee[Be+1]||[],We=0;We<kt;We++)void 0===ft[We]&&((et=(void 0!==ft[We-1]?1:0)+(void 0!==ft[We+1]?1:0)+(void 0!==ze[We]?1:0)+(void 0!==ct[We]?1:0))?(0===Be&&et++,0===We&&et++,Be===Ee.length-1&&et++,We===ft.length-1&&et++,et<4&&(at[[Be,We]]=[Be,We,et]),nt.push([Be,We,et])):it.push([Be,We]));for(;it.length;){for(tt={},rt=!1,Qe=it.length-1;Qe>=0;Qe--)(et=((at[[(Be=($e=it[Qe])[0])-1,We=$e[1]]]||xt)[2]+(at[[Be+1,We]]||xt)[2]+(at[[Be,We-1]]||xt)[2]+(at[[Be,We+1]]||xt)[2])/20)&&(tt[$e]=[Be,We,et],it.splice(Qe,1),rt=!0);if(!rt)throw"findEmpties iterated with no new neighbors";for($e in tt)at[$e]=tt[$e],nt.push(tt[$e])}return nt.sort((function(Ee,ze){return ze[2]-Ee[2]}))}},"0c5d":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("8173"),$e=Be("d61b"),Qe=Be("41f8"),et=Be("348d");Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}We(Ee,ze,coerce,tt),!1!==ze.visible&&($e(Ee,ze,coerce,(function coerce2(Be){return Ue.coerce2(Ee,ze,et,Be)})),Qe(Ee,ze,coerce,tt),coerce("hovertemplate"))}},"0c85":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray,We=Be("c258"),$e=Be("0a3e").wrap;Ee.exports=function calc(Ee,ze){var Be,Qe;return We.hasColorscale(ze,"line")&&Ue(ze.line.color)?(Be=ze.line.color,Qe=We.extractOpts(ze.line).colorscale,We.calc(Ee,ze,{vals:Be,containerStr:"line",cLetter:"c"})):(Be=function constHalf(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;Be++)ze[Be]=.5;return ze}(ze._length),Qe=[[0,ze.line.color],[1,ze.line.color]]),$e({lineColor:Be,cscale:Qe})}},"0cc1":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("73c9"),Qe=Be("000c");Ee.exports=function plot(Ee,ze,Be,et){var tt=ze.xaxis,rt=ze.yaxis;We.makeTraceGroups(et,Be,"im").each((function(Ee){var ze,Be,et,nt,at,it,ct=Ue.select(this),ft=Ee[0],xt=ft.trace,kt=ft.z,Lt=ft.x0,Ut=ft.y0,er=ft.w,tr=ft.h,rr=xt.dx,ar=xt.dy;for(it=0;void 0===ze&&it<er;)ze=tt.c2p(Lt+it*rr),it++;for(it=er;void 0===Be&&it>0;)Be=tt.c2p(Lt+it*rr),it--;for(it=0;void 0===nt&&it<tr;)nt=rt.c2p(Ut+it*ar),it++;for(it=tr;void 0===at&&it>0;)at=rt.c2p(Ut+it*ar),it--;Be<ze&&(et=Be,Be=ze,ze=et),at<nt&&(et=nt,nt=at,at=et);ze=Math.max(-.5*tt._length,ze),Be=Math.min(1.5*tt._length,Be),nt=Math.max(-.5*rt._length,nt),at=Math.min(1.5*rt._length,at);var Lr=Math.round(Be-ze),Qr=Math.round(at-nt);if(Lr<=0||Qr<=0){ct.selectAll("image").data([]).exit().remove()}else{var on=document.createElement("canvas");on.width=Lr,on.height=Qr;var sn,ln=on.getContext("2d"),ipx=function(Ee){return We.constrain(Math.round(tt.c2p(Lt+Ee*rr)-ze),0,Lr)},jpx=function(Ee){return We.constrain(Math.round(rt.c2p(Ut+Ee*ar)-nt),0,Qr)},cn=Qe.colormodel[xt.colormodel].fmt;for(it=0;it<ft.w;it++){var un=ipx(it),hn=ipx(it+1);if(hn!==un&&!isNaN(hn)&&!isNaN(un))for(var dn=0;dn<ft.h;dn++){var vn=jpx(dn),yn=jpx(dn+1);yn===vn||isNaN(yn)||isNaN(vn)||!kt[dn][it]||(sn=xt._scaler(kt[dn][it]),ln.fillStyle=sn?xt.colormodel+"("+cn(sn).join(",")+")":"rgba(0,0,0,0)",ln.fillRect(un,vn,hn-un,yn-vn))}}var _n=ct.selectAll("image").data(Ee);_n.enter().append("svg:image").attr({xmlns:$e.svg,preserveAspectRatio:"none"}),_n.attr({height:Qr,width:Lr,x:ze,y:nt,"xlink:href":on.toDataURL("image/png")})}}))}},"0cec":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26").isArrayOrTypedArray,$e=Be("e806").BADNUM,Qe=Be("371e"),et=Be("0642"),tt=Be("3c1c").getAxisGroup,rt=Be("8b25");function setGroupPositions(Ee,ze,Be,Qe,nt){if(Qe.length){var at,it,ct,ft;switch(function initBase(Ee,ze){var Be,$e;for(Be=0;Be<ze.length;Be++){var Qe,et=ze[Be],tt=et[0].trace,rt="funnel"===tt.type?tt._base:tt.base,nt="h"===tt.orientation?tt.xcalendar:tt.ycalendar,at="category"===Ee.type||"multicategory"===Ee.type?function(){return null}:Ee.d2c;if(We(rt)){for($e=0;$e<Math.min(rt.length,et.length);$e++)Qe=at(rt[$e],0,nt),Ue(Qe)?(et[$e].b=+Qe,et[$e].hasB=1):et[$e].b=0;for(;$e<et.length;$e++)et[$e].b=0}else{Qe=at(rt,0,nt);var it=Ue(Qe);for(Qe=it?Qe:0,$e=0;$e<et.length;$e++)et[$e].b=Qe,it&&(et[$e].hasB=1)}}}(Be,Qe),nt.mode){case"overlay":setGroupPositionsInOverlayMode(ze,Be,Qe,nt);break;case"group":for(at=[],it=[],ct=0;ct<Qe.length;ct++)void 0===(ft=Qe[ct])[0].trace.offset?it.push(ft):at.push(ft);it.length&&function setGroupPositionsInGroupMode(Ee,ze,Be,Ue,We){var Qe=new rt(Ue,{sepNegVal:!1,overlapNoMerge:!We.norm});(function setOffsetAndWidthInGroupMode(Ee,ze,Be,Ue){for(var We=Ee._fullLayout,$e=Be.positions,Qe=Be.distinctPositions,et=Be.minDiff,rt=Be.traces,nt=rt.length,at=$e.length!==Qe.length,it=et*(1-Ue.gap),ct=tt(We,ze._id)+rt[0][0].trace.orientation,ft=We._alignmentOpts[ct]||{},xt=0;xt<nt;xt++){var kt,Lt,Ut=rt[xt],er=Ut[0].trace,tr=ft[er.alignmentgroup]||{},rr=Object.keys(tr.offsetGroups||{}).length,ar=(kt=rr?it/rr:at?it/nt:it)*(1-(Ue.groupgap||0));Lt=rr?((2*er._offsetIndex+1-rr)*kt-ar)/2:at?((2*xt+1-nt)*kt-ar)/2:-ar/2;var Lr=Ut[0].t;Lr.barwidth=ar,Lr.poffset=Lt,Lr.bargroupwidth=it,Lr.bardelta=et}Be.binWidth=rt[0][0].t.barwidth/100,applyAttributes(Be),setBarCenterAndWidth(ze,Be),updatePositionAxis(ze,Be,at)})(Ee,ze,Qe,We),function unhideBarsWithinTrace(Ee){for(var ze=Ee.traces,Be=0;Be<ze.length;Be++){var Ue=ze[Be];if(void 0===Ue[0].trace.base)for(var We=new rt([Ue],{sepNegVal:!0,overlapNoMerge:!0}),Qe=0;Qe<Ue.length;Qe++){var et=Ue[Qe];if(et.p!==$e){var tt=We.put(et.p,et.b+et.s);tt&&(et.b=tt)}}}}(Qe),We.norm?(sieveBars(Qe),normalizeBars(Be,Qe,We)):setBaseAndTop(Be,Qe)}(Ee,ze,Be,it,nt),at.length&&setGroupPositionsInOverlayMode(ze,Be,at,nt);break;case"stack":case"relative":for(at=[],it=[],ct=0;ct<Qe.length;ct++)void 0===(ft=Qe[ct])[0].trace.base?it.push(ft):at.push(ft);it.length&&function setGroupPositionsInStackOrRelativeMode(Ee,ze,Be,Ue,We){var Qe=new rt(Ue,{sepNegVal:"relative"===We.mode,overlapNoMerge:!(We.norm||"stack"===We.mode||"relative"===We.mode)});setOffsetAndWidth(ze,Qe,We),function stackBars(Ee,ze,Be){var Ue,We,Qe,tt,rt,nt,at=getAxisLetter(Ee),it=ze.traces;for(tt=0;tt<it.length;tt++)if(Ue=it[tt],"funnel"===(We=Ue[0].trace).type)for(rt=0;rt<Ue.length;rt++)(nt=Ue[rt]).s!==$e&&ze.put(nt.p,-.5*nt.s);for(tt=0;tt<it.length;tt++){Ue=it[tt],We=Ue[0].trace,Qe="funnel"===We.type;var ct=[];for(rt=0;rt<Ue.length;rt++)if((nt=Ue[rt]).s!==$e){var ft;ft=Qe?nt.s:nt.s+nt.b;var xt=ze.put(nt.p,ft),kt=xt+ft;nt.b=xt,nt[at]=kt,Be.norm||(ct.push(kt),nt.hasB&&ct.push(xt))}Be.norm||(We._extremes[Ee._id]=et.findExtremes(Ee,ct,{tozero:!0,padded:!0}))}}(Be,Qe,We);for(var tt=0;tt<Ue.length;tt++)for(var nt=Ue[tt],at=0;at<nt.length;at++){var it=nt[at];if(it.s!==$e)it.b+it.s===Qe.get(it.p,it.s)&&(it._outmost=!0)}We.norm&&normalizeBars(Be,Qe,We)}(0,ze,Be,it,nt),at.length&&setGroupPositionsInOverlayMode(ze,Be,at,nt)}!function collectExtents(Ee,ze){var Be,We,$e,Qe=getAxisLetter(ze),et={},tt=1/0,rt=-1/0;for(Be=0;Be<Ee.length;Be++)for($e=Ee[Be],We=0;We<$e.length;We++){var nt=$e[We].p;Ue(nt)&&(tt=Math.min(tt,nt),rt=Math.max(rt,nt))}var at=1e4/(rt-tt),it=et.round=function(Ee){return String(Math.round(at*(Ee-tt)))};for(Be=0;Be<Ee.length;Be++){($e=Ee[Be])[0].t.extents=et;var ct=$e[0].t.poffset,ft=Array.isArray(ct);for(We=0;We<$e.length;We++){var xt=$e[We],kt=xt[Qe]-xt.w/2;if(Ue(kt)){var Lt=xt[Qe]+xt.w/2,Ut=it(xt.p);et[Ut]?et[Ut]=[Math.min(kt,et[Ut][0]),Math.max(Lt,et[Ut][1])]:et[Ut]=[kt,Lt]}xt.p0=xt.p+(ft?ct[We]:ct),xt.p1=xt.p0+xt.w,xt.s0=xt.b,xt.s1=xt.s0+xt.s}}}(Qe,ze)}}function setGroupPositionsInOverlayMode(Ee,ze,Be,Ue){for(var We=0;We<Be.length;We++){var $e=Be[We],Qe=new rt([$e],{sepNegVal:!1,overlapNoMerge:!Ue.norm});setOffsetAndWidth(Ee,Qe,Ue),Ue.norm?(sieveBars(Qe),normalizeBars(ze,Qe,Ue)):setBaseAndTop(ze,Qe)}}function setOffsetAndWidth(Ee,ze,Be){for(var Ue=ze.minDiff,We=ze.traces,$e=Ue*(1-Be.gap),Qe=$e*(1-(Be.groupgap||0)),et=-Qe/2,tt=0;tt<We.length;tt++){var rt=We[tt][0].t;rt.barwidth=Qe,rt.poffset=et,rt.bargroupwidth=$e,rt.bardelta=Ue}ze.binWidth=We[0][0].t.barwidth/100,applyAttributes(ze),setBarCenterAndWidth(Ee,ze),updatePositionAxis(Ee,ze)}function applyAttributes(Ee){var ze,Be,$e=Ee.traces;for(ze=0;ze<$e.length;ze++){var Qe,et=$e[ze],tt=et[0],rt=tt.trace,nt=tt.t,at=rt._offset||rt.offset,it=nt.poffset;if(We(at)){for(Qe=Array.prototype.slice.call(at,0,et.length),Be=0;Be<Qe.length;Be++)Ue(Qe[Be])||(Qe[Be]=it);for(Be=Qe.length;Be<et.length;Be++)Qe.push(it);nt.poffset=Qe}else void 0!==at&&(nt.poffset=at);var ct=rt._width||rt.width,ft=nt.barwidth;if(We(ct)){var xt=Array.prototype.slice.call(ct,0,et.length);for(Be=0;Be<xt.length;Be++)Ue(xt[Be])||(xt[Be]=ft);for(Be=xt.length;Be<et.length;Be++)xt.push(ft);if(nt.barwidth=xt,void 0===at){for(Qe=[],Be=0;Be<et.length;Be++)Qe.push(it+(ft-xt[Be])/2);nt.poffset=Qe}}else void 0!==ct&&(nt.barwidth=ct,void 0===at&&(nt.poffset=it+(ft-ct)/2))}}function setBarCenterAndWidth(Ee,ze){for(var Be=ze.traces,Ue=getAxisLetter(Ee),We=0;We<Be.length;We++)for(var $e=Be[We],Qe=$e[0].t,et=Qe.poffset,tt=Array.isArray(et),rt=Qe.barwidth,nt=Array.isArray(rt),at=0;at<$e.length;at++){var it=$e[at],ct=it.w=nt?rt[at]:rt;it[Ue]=it.p+(tt?et[at]:et)+ct/2}}function updatePositionAxis(Ee,ze,Be){var Ue=ze.traces,We=ze.minDiff/2;et.minDtick(Ee,ze.minDiff,ze.distinctPositions[0],Be);for(var $e=0;$e<Ue.length;$e++){var Qe,tt,rt,nt,at=Ue[$e],it=at[0],ct=it.trace,ft=[];for(nt=0;nt<at.length;nt++)tt=(Qe=at[nt]).p-We,rt=Qe.p+We,ft.push(tt,rt);if(ct.width||ct.offset){var xt=it.t,kt=xt.poffset,Lt=xt.barwidth,Ut=Array.isArray(kt),er=Array.isArray(Lt);for(nt=0;nt<at.length;nt++){Qe=at[nt];var tr=Ut?kt[nt]:kt,rr=er?Lt[nt]:Lt;rt=(tt=Qe.p+tr)+rr,ft.push(tt,rt)}}ct._extremes[Ee._id]=et.findExtremes(Ee,ft,{padded:!1})}}function setBaseAndTop(Ee,ze){for(var Be=ze.traces,Ue=getAxisLetter(Ee),We=0;We<Be.length;We++){for(var $e=Be[We],Qe=$e[0].trace,tt=[],rt=!0,nt=0;nt<$e.length;nt++){var at=$e[nt],it=at.b,ct=it+at.s;at[Ue]=ct,tt.push(ct),at.hasB&&tt.push(it),at.hasB&&at.b>0&&at.s>0||(rt=!1)}Qe._extremes[Ee._id]=et.findExtremes(Ee,tt,{tozero:!rt,padded:!0})}}function sieveBars(Ee){for(var ze=Ee.traces,Be=0;Be<ze.length;Be++)for(var Ue=ze[Be],We=0;We<Ue.length;We++){var Qe=Ue[We];Qe.s!==$e&&Ee.put(Qe.p,Qe.b+Qe.s)}}function normalizeBars(Ee,ze,Be){var We=ze.traces,Qe=getAxisLetter(Ee),tt="fraction"===Be.norm?1:100,rt=tt/1e9,nt=Ee.l2c(Ee.c2l(0)),at="stack"===Be.mode?tt:nt;function needsPadding(ze){return Ue(Ee.c2l(ze))&&(ze<nt-rt||ze>at+rt||!Ue(nt))}for(var it=0;it<We.length;it++){for(var ct=We[it],ft=ct[0].trace,xt=[],kt=!0,Lt=!1,Ut=0;Ut<ct.length;Ut++){var er=ct[Ut];if(er.s!==$e){var tr=Math.abs(tt/ze.get(er.p,er.s));er.b*=tr,er.s*=tr;var rr=er.b,ar=rr+er.s;er[Qe]=ar,xt.push(ar),Lt=Lt||needsPadding(ar),er.hasB&&(xt.push(rr),Lt=Lt||needsPadding(rr)),er.hasB&&er.b>0&&er.s>0||(kt=!1)}}ft._extremes[Ee._id]=et.findExtremes(Ee,xt,{tozero:!kt,padded:Lt})}}function getAxisLetter(Ee){return Ee._id.charAt(0)}Ee.exports={crossTraceCalc:function crossTraceCalc(Ee,ze){for(var Be=ze.xaxis,Ue=ze.yaxis,We=Ee._fullLayout,$e=Ee._fullData,et=Ee.calcdata,tt=[],rt=[],nt=0;nt<$e.length;nt++){var at=$e[nt];!0===at.visible&&Qe.traceIs(at,"bar")&&at.xaxis===Be._id&&at.yaxis===Ue._id&&("h"===at.orientation?tt.push(et[nt]):rt.push(et[nt]))}var it={mode:We.barmode,norm:We.barnorm,gap:We.bargap,groupgap:We.bargroupgap};setGroupPositions(Ee,Be,Ue,rt,it),setGroupPositions(Ee,Ue,Be,tt,it)},setGroupPositions:setGroupPositions}},"0cfb":function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("d039"),$e=Be("cc12");Ee.exports=!Ue&&!We((function(){return 7!=Object.defineProperty($e("div"),"a",{get:function(){return 7}}).a}))},"0d59":function(Ee,ze,Be){"use strict";Ee.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},"0dd1":function(Ee,ze,Be){"use strict";var Ue=Be("c01c"),We=Be("d1bd");Ee.exports=function scaleLinearExpansion(Ee,ze){var Be=Ee.length;if(1===Be){var $e=Ue(Ee[0],ze);return $e[0]?$e:[$e[1]]}var Qe=new Array(2*Be),et=[.1,.1],tt=[.1,.1],rt=0;Ue(Ee[0],ze,et),et[0]&&(Qe[rt++]=et[0]);for(var nt=1;nt<Be;++nt){Ue(Ee[nt],ze,tt);var at=et[1];We(at,tt[0],et),et[0]&&(Qe[rt++]=et[0]);var it=tt[1],ct=et[1],ft=it+ct,xt=ct-(ft-it);et[1]=ft,xt&&(Qe[rt++]=xt)}et[1]&&(Qe[rt++]=et[1]);0===rt&&(Qe[rt++]=0);return Qe.length=rt,Qe}},"0dd7":function(Ee,ze,Be){"use strict";var Ue=Be("9092").extendFlat,We=Be("f4e9"),$e=Be("4852").scales;Ee.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:$e.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:$e.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:$e.RdBu,editType:"calc"}},coloraxis:Ue({_isSubplotObj:!0,editType:"calc"},We("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},"0dfe":function(Ee,ze,Be){"use strict";var Ue=Be("fb5a"),We=Be("107c").line,$e=Be("a876"),Qe=Be("94d5").hovertemplateAttrs,et=Be("94d5").texttemplateAttrs,tt=Be("55eb"),rt=Be("9092").extendFlat,nt=Be("d115");function directionAttrs(Ee){return{marker:{color:rt({},Ue.marker.color,{arrayOk:!1,editType:"style"}),line:{color:rt({},Ue.marker.line.color,{arrayOk:!1,editType:"style"}),width:rt({},Ue.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}Ee.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:Ue.x,x0:Ue.x0,dx:Ue.dx,y:Ue.y,y0:Ue.y0,dy:Ue.dy,hovertext:Ue.hovertext,hovertemplate:Qe({},{keys:tt.eventDataKeys}),hoverinfo:rt({},$e.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:et({editType:"plot"},{keys:tt.eventDataKeys.concat(["label"])}),text:Ue.text,textposition:Ue.textposition,insidetextanchor:Ue.insidetextanchor,textangle:Ue.textangle,textfont:Ue.textfont,insidetextfont:Ue.insidetextfont,outsidetextfont:Ue.outsidetextfont,constraintext:Ue.constraintext,cliponaxis:Ue.cliponaxis,orientation:Ue.orientation,offset:Ue.offset,width:Ue.width,increasing:directionAttrs(),decreasing:directionAttrs(),totals:directionAttrs(),connector:{line:{color:rt({},We.color,{dflt:nt.defaultLine}),width:rt({},We.width,{editType:"plot"}),dash:We.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:Ue.offsetgroup,alignmentgroup:Ue.alignmentgroup}},"0e9a":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"streamtube",basePlotModule:Be("134c"),categories:["gl3d","showLegend"],attributes:Be("be2a"),supplyDefaults:Be("82d4"),colorbar:{min:"cmin",max:"cmax"},calc:Be("e1e5").calc,plot:Be("fc03"),eventData:function(Ee,ze){return Ee.tubex=Ee.x,Ee.tubey=Ee.y,Ee.tubez=Ee.z,Ee.tubeu=ze.traceCoordinate[3],Ee.tubev=ze.traceCoordinate[4],Ee.tubew=ze.traceCoordinate[5],Ee.norm=ze.traceCoordinate[6],Ee.divergence=ze.traceCoordinate[7],delete Ee.x,delete Ee.y,delete Ee.z,Ee},meta:{}}},"0eb7":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("107c"),Qe=Be("de69"),et=Be("de81"),tt=Be("076f"),rt=Be("6b78"),nt=Be("5047"),at=Be("59be"),it=Be("eb07"),ct=Be("e9f7"),ft=Be("3802");Ee.exports=function supplyDefaults(Ee,ze,Be,xt){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var kt=tt(Ee,ze,xt,coerce);if(kt||(ze.visible=!1),ze.visible){var Lt=rt(Ee,ze,xt,coerce),Ut=!Lt&&kt<Qe.PTS_LINESONLY?"lines+markers":"lines";coerce("text"),coerce("hovertext"),coerce("mode",Ut),et.hasLines(ze)&&(at(Ee,ze,Be,xt,coerce),it(Ee,ze,coerce),coerce("connectgaps"),coerce("line.simplify")),et.hasMarkers(ze)&&nt(Ee,ze,Be,xt,coerce,{gradient:!0}),et.hasText(ze)&&(coerce("texttemplate"),ct(Ee,ze,xt,coerce));var er=[];(et.hasMarkers(ze)||et.hasText(ze))&&(coerce("cliponaxis"),coerce("marker.maxdisplayed"),er.push("points")),coerce("fill",Lt?Lt.fillDflt:"none"),"none"!==ze.fill&&(ft(Ee,ze,Be,coerce),et.hasLines(ze)||it(Ee,ze,coerce));var tr=(ze.line||{}).color,rr=(ze.marker||{}).color;"tonext"!==ze.fill&&"toself"!==ze.fill||er.push("fills"),coerce("hoveron",er.join("+")||"points"),"fills"!==ze.hoveron&&coerce("hovertemplate");var ar=We.getComponentMethod("errorbars","supplyDefaults");ar(Ee,ze,tr||rr||Be,{axis:"y"}),ar(Ee,ze,tr||rr||Be,{axis:"x",inherit:"y"}),Ue.coerceSelectionMarkerOpacity(ze,coerce)}}},"0eb8":function(Ee,ze,Be){"use strict";Ee.exports=Be("3ee9")},"0f37":function(Ee,ze,Be){"use strict";Ee.exports=function setCursor(Ee,ze){(Ee.attr("class")||"").split(" ").forEach((function(ze){0===ze.indexOf("cursor-")&&Ee.classed(ze,!1)})),ze&&Ee.classed("cursor-"+ze,!0)}},"0fba":function(Ee,ze,Be){"use strict";var Ue=Be("399f");Ee.exports=function sign(Ee){return Ee.cmp(new Ue(0))}},1:function(Ee,ze){},"106b":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function arraysToCalcdata(Ee,ze){for(var Be=0;Be<Ee.length;Be++)Ee[Be].i=Be;Ue.mergeArray(ze.text,Ee,"tx"),Ue.mergeArray(ze.texttemplate,Ee,"txt"),Ue.mergeArray(ze.hovertext,Ee,"htx"),Ue.mergeArray(ze.customdata,Ee,"data"),Ue.mergeArray(ze.textposition,Ee,"tp"),ze.textfont&&(Ue.mergeArrayCastPositive(ze.textfont.size,Ee,"ts"),Ue.mergeArray(ze.textfont.color,Ee,"tc"),Ue.mergeArray(ze.textfont.family,Ee,"tf"));var We=ze.marker;if(We){Ue.mergeArrayCastPositive(We.size,Ee,"ms"),Ue.mergeArrayCastPositive(We.opacity,Ee,"mo"),Ue.mergeArray(We.symbol,Ee,"mx"),Ue.mergeArray(We.color,Ee,"mc");var $e=We.line;We.line&&(Ue.mergeArray($e.color,Ee,"mlc"),Ue.mergeArrayCastPositive($e.width,Ee,"mlw"));var Qe=We.gradient;Qe&&"none"!==Qe.type&&(Ue.mergeArray(Qe.type,Ee,"mgt"),Ue.mergeArray(Qe.color,Ee,"mgc"))}}},"107c":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").texttemplateAttrs,We=Be("94d5").hovertemplateAttrs,$e=Be("f4e9"),Qe=Be("9845"),et=Be("db54").dash,tt=Be("83d1"),rt=Be("de69"),nt=Be("9092").extendFlat;Ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:Ue({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:We({},{keys:rt.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:nt({},et,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:nt({symbol:{valType:"enumerated",values:tt.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:nt({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},$e("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},$e("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:Qe({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},1085:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("c400").getTopojsonFeatures,Qe=Be("2169"),et=Be("0919"),tt=Be("ce56").findExtremes,rt=Be("e806").BADNUM,nt=Be("70b4").calcMarkerSize,at=Be("de81"),it=Be("cebf");Ee.exports={calcGeoJSON:function calcGeoJSON(Ee,ze){var Be,Ue,We=Ee[0].trace,Qe=ze[We.geo],at=Qe._subplot,it=We._length;if(Array.isArray(We.locations)){var ct=We.locationmode,ft="geojson-id"===ct?et.extractTraceFeature(Ee):$e(We,at.topojson);for(Be=0;Be<it;Be++){Ue=Ee[Be];var xt="geojson-id"===ct?Ue.fOut:et.locationToFeature(ct,Ue.loc,ft);Ue.lonlat=xt?xt.properties.ct:[rt,rt]}}var kt,Lt,Ut={padded:!0};if("geojson"===Qe.fitbounds&&"geojson-id"===We.locationmode){var er=et.computeBbox(et.getTraceGeojson(We));kt=[er[0],er[2]],Lt=[er[1],er[3]]}else{for(kt=new Array(it),Lt=new Array(it),Be=0;Be<it;Be++)Ue=Ee[Be],kt[Be]=Ue.lonlat[0],Lt[Be]=Ue.lonlat[1];Ut.ppad=nt(We,it)}We._extremes.lon=tt(Qe.lonaxis._ax,kt,Ut),We._extremes.lat=tt(Qe.lataxis._ax,Lt,Ut)},plot:function plot(Ee,ze,Be){var $e=ze.layers.frontplot.select(".scatterlayer"),et=We.makeTraceGroups($e,Be,"trace scattergeo");function removeBADNUM(Ee,ze){Ee.lonlat[0]===rt&&Ue.select(ze).remove()}et.selectAll("*").remove(),et.each((function(ze){var Be=Ue.select(this),$e=ze[0].trace;if(at.hasLines($e)||"none"!==$e.fill){var et=Qe.calcTraceToLineCoords(ze),tt="none"!==$e.fill?Qe.makePolygon(et):Qe.makeLine(et);Be.selectAll("path.js-line").data([{geojson:tt,trace:$e}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}at.hasMarkers($e)&&Be.selectAll("path.point").data(We.identity).enter().append("path").classed("point",!0).each((function(Ee){removeBADNUM(Ee,this)})),at.hasText($e)&&Be.selectAll("g").data(We.identity).enter().append("g").append("text").each((function(Ee){removeBADNUM(Ee,this)})),it(Ee,ze)}))}}},"10b8":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("e806").BADNUM,Qe=Be("2169"),et=Be("c258"),tt=Be("83d1"),rt=Be("1978"),nt=Be("de81"),at=Be("d0b7"),it=Be("c4c7").appendArrayPointValue,ct=Be("0379").NEWLINES,ft=Be("0379").BR_TAG_ALL;function initContainer(){return{geojson:Qe.makeBlank(),layout:{visibility:"none"},paint:{}}}function getFillFunc(Ee){return We.isArrayOrTypedArray(Ee)?function(Ee){return Ee}:Ee?function(){return Ee}:blankFillFunc}function blankFillFunc(){return""}function isBADNUM(Ee){return Ee[0]===$e}Ee.exports=function convert(Ee,ze){var Be,$e=ze[0].trace,xt=!0===$e.visible&&0!==$e._length,kt="none"!==$e.fill,Lt=nt.hasLines($e),Ut=nt.hasMarkers($e),er=nt.hasText($e),tr=Ut&&"circle"===$e.marker.symbol,rr=Ut&&"circle"!==$e.marker.symbol,ar=initContainer(),Lr=initContainer(),Qr=initContainer(),on=initContainer(),sn={fill:ar,line:Lr,circle:Qr,symbol:on};if(!xt)return sn;if((kt||Lt)&&(Be=Qe.calcTraceToLineCoords(ze)),kt&&(ar.geojson=Qe.makePolygon(Be),ar.layout.visibility="visible",We.extendFlat(ar.paint,{"fill-color":$e.fillcolor})),Lt&&(Lr.geojson=Qe.makeLine(Be),Lr.layout.visibility="visible",We.extendFlat(Lr.paint,{"line-width":$e.line.width,"line-color":$e.line.color,"line-opacity":$e.opacity})),tr){var ln=function makeCircleOpts(Ee){var ze,Be,$e,Qe,nt=Ee[0].trace,at=nt.marker,it=nt.selectedpoints,ct=We.isArrayOrTypedArray(at.color),ft=We.isArrayOrTypedArray(at.size),xt=We.isArrayOrTypedArray(at.opacity);function addTraceOpacity(Ee){return nt.opacity*Ee}ct&&(Be=et.hasColorscale(nt,"marker")?et.makeColorScaleFuncFromTrace(at):We.identity);ft&&($e=rt(nt));xt&&(Qe=function(Ee){return addTraceOpacity(Ue(Ee)?+We.constrain(Ee,0,1):0)});var kt,Lt=[];for(ze=0;ze<Ee.length;ze++){var Ut=Ee[ze],er=Ut.lonlat;if(!isBADNUM(er)){var tr={};Be&&(tr.mcc=Ut.mcc=Be(Ut.mc)),$e&&(tr.mrc=Ut.mrc=$e(Ut.ms)),Qe&&(tr.mo=Qe(Ut.mo)),it&&(tr.selected=Ut.selected||0),Lt.push({type:"Feature",geometry:{type:"Point",coordinates:er},properties:tr})}}if(it)for(kt=tt.makeSelectedPointStyleFns(nt),ze=0;ze<Lt.length;ze++){var rr=Lt[ze].properties;kt.selectedOpacityFn&&(rr.mo=addTraceOpacity(kt.selectedOpacityFn(rr))),kt.selectedColorFn&&(rr.mcc=kt.selectedColorFn(rr)),kt.selectedSizeFn&&(rr.mrc=kt.selectedSizeFn(rr))}return{geojson:{type:"FeatureCollection",features:Lt},mcc:ct||kt&&kt.selectedColorFn?{type:"identity",property:"mcc"}:at.color,mrc:ft||kt&&kt.selectedSizeFn?{type:"identity",property:"mrc"}:function size2radius(Ee){return Ee/2}(at.size),mo:xt||kt&&kt.selectedOpacityFn?{type:"identity",property:"mo"}:addTraceOpacity(at.opacity)}}(ze);Qr.geojson=ln.geojson,Qr.layout.visibility="visible",We.extendFlat(Qr.paint,{"circle-color":ln.mcc,"circle-radius":ln.mrc,"circle-opacity":ln.mo})}if((rr||er)&&(on.geojson=function makeSymbolGeoJSON(Ee,ze){for(var Be=ze._fullLayout,Ue=Ee[0].trace,$e=(Ue.marker||{}).symbol,Qe="circle"!==$e?getFillFunc($e):blankFillFunc,et=nt.hasText(Ue)?getFillFunc(Ue.text):blankFillFunc,tt=[],rt=0;rt<Ee.length;rt++){var at=Ee[rt];if(!isBADNUM(at.lonlat)){var xt,kt=Ue.texttemplate;if(kt){var Lt=Array.isArray(kt)?kt[rt]||"":kt,Ut=Ue._module.formatLabels(at,Ue,Be),er={};it(er,Ue,at.i);var tr=Ue._meta||{};xt=We.texttemplateString(Lt,Ut,Be._d3locale,er,at,tr)}else xt=et(at.tx);xt&&(xt=xt.replace(ct,"").replace(ft,"\n")),tt.push({type:"Feature",geometry:{type:"Point",coordinates:at.lonlat},properties:{symbol:Qe(at.mx),text:xt}})}}return{type:"FeatureCollection",features:tt}}(ze,Ee),We.extendFlat(on.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),rr&&(We.extendFlat(on.layout,{"icon-size":$e.marker.size/10}),We.extendFlat(on.paint,{"icon-opacity":$e.opacity*$e.marker.opacity,"icon-color":$e.marker.color})),er)){var cn=($e.marker||{}).size,un=at($e.textposition,cn);We.extendFlat(on.layout,{"text-size":$e.textfont.size,"text-anchor":un.anchor,"text-offset":un.offset}),We.extendFlat(on.paint,{"text-color":$e.textfont.color,"text-opacity":$e.opacity})}return sn}},1126:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){return!!Ee&&("symbol"==typeof Ee||!!Ee.constructor&&("Symbol"===Ee.constructor.name&&"Symbol"===Ee[Ee.constructor.toStringTag]))}},"113d":function(Ee,ze,Be){"use strict";var Ue=Be("8bd8"),We=Be("f4e9"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("a876"),et=Be("9092").extendFlat;Ee.exports=et({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:et({},Ue.featureidkey,{}),below:{valType:"string",editType:"plot"},text:Ue.text,hovertext:Ue.hovertext,marker:{line:{color:et({},Ue.marker.line.color,{editType:"plot"}),width:et({},Ue.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:et({},Ue.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:et({},Ue.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:et({},Ue.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:Ue.hoverinfo,hovertemplate:$e({},{keys:["properties"]}),showlegend:et({},Qe.showlegend,{dflt:!1})},We("",{cLetter:"z",editTypeOverride:"calc"}))},"119e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a651"),$e=Be("81f0").defaults;Ee.exports=function handleSubplotDefaults(Ee,ze,Be,Qe){var et,tt,rt=Qe.type,nt=Qe.attributes,at=Qe.handleDefaults,it=Qe.partition||"x",ct=ze._subplots[rt],ft=ct.length,xt=ft&&ct[0].replace(/\d+$/,"");function coerce(Ee,ze){return Ue.coerce(et,tt,nt,Ee,ze)}for(var kt=0;kt<ft;kt++){var Lt=ct[kt];et=Ee[Lt]?Ee[Lt]:Ee[Lt]={},tt=We.newContainer(ze,Lt,xt),coerce("uirevision",ze.uirevision);var Ut={};Ut[it]=[kt/ft,(kt+1)/ft],$e(tt,ze,coerce,Ut),Qe.id=Lt,at(et,tt,coerce,Qe)}}},"11ab":function(Ee,ze,Be){"use strict";var Ue=Be("6c77"),We=Be("19b2");function coerceValue(Ee,ze){var Be,$e=Array.isArray(ze);function coerce(Ee){return We(Ee)?+Ee:null}return-1!==Ue.COMPARISON_OPS2.indexOf(Ee)?Be=coerce($e?ze[0]:ze):-1!==Ue.INTERVAL_OPS.indexOf(Ee)?Be=$e?[coerce(ze[0]),coerce(ze[1])]:[coerce(ze),coerce(ze)]:-1!==Ue.SET_OPS.indexOf(Ee)&&(Be=$e?ze.map(coerce):[coerce(ze)]),Be}function makeRangeSettings(Ee){return function(ze){ze=coerceValue(Ee,ze);var Be=Math.min(ze[0],ze[1]),Ue=Math.max(ze[0],ze[1]);return{start:Be,end:Ue,size:Ue-Be}}}function makeInequalitySettings(Ee){return function(ze){return{start:ze=coerceValue(Ee,ze),end:1/0,size:1/0}}}Ee.exports={"[]":makeRangeSettings("[]"),"][":makeRangeSettings("]["),">":makeInequalitySettings(">"),"<":makeInequalitySettings("<"),"=":makeInequalitySettings("=")}},"11e1":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("d115"),Qe=Be("9103"),et=Be("40c0");Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,Ue){return We.coerce(Ee,ze,et,Be,Ue)}var rt=coerce("x"),nt=coerce("y");coerce("cumulative.enabled")&&(coerce("cumulative.direction"),coerce("cumulative.currentbin")),coerce("text"),coerce("hovertext"),coerce("hovertemplate");var at=coerce("orientation",nt&&!rt?"h":"v"),it="v"===at?"x":"y",ct="v"===at?"y":"x",ft=rt&&nt?Math.min(We.minRowLength(rt)&&We.minRowLength(nt)):We.minRowLength(ze[it]||[]);if(ft){ze._length=ft,Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y"],tt),ze[ct]&&coerce("histfunc"),coerce("histnorm"),coerce("autobin"+it),Qe(Ee,ze,coerce,Be,tt),We.coerceSelectionMarkerOpacity(ze,coerce);var xt=(ze.marker.line||{}).color,kt=Ue.getComponentMethod("errorbars","supplyDefaults");kt(Ee,ze,xt||$e.defaultLine,{axis:"y"}),kt(Ee,ze,xt||$e.defaultLine,{axis:"x",inherit:"y"})}else ze.visible=!1}},"122d":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("a651"),Qe=Be("119e"),et=Be("ad62").getSubplotData,tt=Be("d92f"),rt=Be("27e3"),nt=Be("5008"),at=Be("d18b"),it=Be("743b"),ct=Be("0b77"),ft=Be("ddde"),xt=Be("7a52"),kt=Be("f510"),Lt=kt.axisNames;function handleDefaults(Ee,ze,Be,Qe){var ct=Be("bgcolor");Qe.bgColor=We.combine(ct,Qe.paper_bgcolor);var Ut=Be("sector");Be("hole");var er,tr=et(Qe.fullData,kt.name,Qe.id),rr=Qe.layoutOut;function coerceAxis(Ee,ze){return Be(er+"."+Ee,ze)}for(var ar=0;ar<Lt.length;ar++){er=Lt[ar],Ue.isPlainObject(Ee[er])||(Ee[er]={});var Lr=Ee[er],Qr=$e.newContainer(ze,er);Qr._id=Qr._name=er,Qr._attr=Qe.id+"."+er,Qr._traceIndices=tr.map((function(Ee){return Ee._expandedIndex}));var on=kt.axisName2dataArray[er],sn=handleAxisTypeDefaults(Lr,Qr,coerceAxis,tr,on);at(Lr,Qr,coerceAxis,{axData:tr,dataAttr:on});var ln,cn,un=coerceAxis("visible");switch(xt(Qr,ze,rr),coerceAxis("uirevision",ze.uirevision),un&&(cn=(ln=coerceAxis("color"))===Lr.color?ln:Qe.font.color),Qr._m=1,er){case"radialaxis":var hn=coerceAxis("autorange",!Qr.isValidRange(Lr.range));Lr.autorange=hn,!hn||"linear"!==sn&&"-"!==sn||coerceAxis("rangemode"),"reversed"===hn&&(Qr._m=-1),coerceAxis("range"),Qr.cleanRange("range",{dfltRange:[0,1]}),un&&(coerceAxis("side"),coerceAxis("angle",Ut[0]),coerceAxis("title.text"),Ue.coerceFont(coerceAxis,"title.font",{family:Qe.font.family,size:Math.round(1.2*Qe.font.size),color:cn}));break;case"angularaxis":if("date"===sn){Ue.log("Polar plots do not support date angular axes yet.");for(var dn=0;dn<tr.length;dn++)tr[dn].visible=!1;sn=Lr.type=Qr.type="linear"}coerceAxis("linear"===sn?"thetaunit":"period");var vn=coerceAxis("direction");coerceAxis("rotation",{counterclockwise:0,clockwise:90}[vn])}if(un)tt(Lr,Qr,coerceAxis,Qr.type),nt(Lr,Qr,coerceAxis,Qr.type,{tickSuffixDflt:"degrees"===Qr.thetaunit?"°":void 0}),rt(Lr,Qr,coerceAxis,{outerTicks:!0}),coerceAxis("showticklabels")&&(Ue.coerceFont(coerceAxis,"tickfont",{family:Qe.font.family,size:Qe.font.size,color:cn}),coerceAxis("tickangle"),coerceAxis("tickformat")),it(Lr,Qr,coerceAxis,{dfltColor:ln,bgColor:Qe.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:ft[er]}),coerceAxis("layer");"category"!==sn&&coerceAxis("hoverformat"),Qr._input=Lr}"category"===ze.angularaxis.type&&Be("gridshape")}function handleAxisTypeDefaults(Ee,ze,Be,Ue,We){if("-"===Be("type")){for(var $e,Qe=0;Qe<Ue.length;Qe++)if(Ue[Qe].visible){$e=Ue[Qe];break}$e&&$e[We]&&(ze.type=ct($e[We],"gregorian")),"-"===ze.type?ze.type="linear":Ee.type=ze.type}return ze.type}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){Qe(Ee,ze,Be,{type:kt.name,attributes:ft,handleDefaults:handleDefaults,font:ze.font,paper_bgcolor:ze.paper_bgcolor,fullData:Be,layoutOut:ze})}},"12c1":function(Ee,ze,Be){"use strict";Ee.exports=function UndoManager(){var Ee,ze=[],Be=-1,Ue=!1;function execute(Ee,ze){return Ee?(Ue=!0,Ee[ze](),Ue=!1,this):this}return{add:function(Ee){return Ue||(ze.splice(Be+1,ze.length-Be),ze.push(Ee),Be=ze.length-1),this},setCallback:function(ze){Ee=ze},undo:function(){var Ue=ze[Be];return Ue?(execute(Ue,"undo"),Be-=1,Ee&&Ee(Ue.undo),this):this},redo:function(){var Ue=ze[Be+1];return Ue?(execute(Ue,"redo"),Be+=1,Ee&&Ee(Ue.redo),this):this},clear:function(){ze=[],Be=-1},hasUndo:function(){return-1!==Be},hasRedo:function(){return Be<ze.length-1},getCommands:function(){return ze},getPreviousCommand:function(){return ze[Be-1]},getIndex:function(){return Be}}}},"12e0":function(Ee,ze,Be){"use strict";Ee.exports=Be("0230"),Be("54ea"),Be("87d2"),Be("ad2d"),Be("d402"),Be("fd3b"),Be("becc"),Be("3e43"),Be("aaa9"),Be("a7c5"),Be("8a0e"),Be("c107"),Be("2d7d"),Be("0b79"),Be("1bbd"),Be("7abc")},"134c":function(Ee,ze,Be){"use strict";var Ue=Be("cb34").overrideAll,We=Be("927d"),$e=Be("bb88"),Qe=Be("ad62").getSubplotData,et=Be("fc26"),tt=Be("73c9");ze.name="gl3d",ze.attr="scene",ze.idRoot="scene",ze.idRegex=ze.attrRegex=et.counterRegex("scene"),ze.attributes=Be("cdaf"),ze.layoutAttributes=Be("f409"),ze.baseLayoutAttrOverrides=Ue({hoverlabel:We.hoverlabel},"plot","nested"),ze.supplyLayoutDefaults=Be("9f41"),ze.plot=function plot(Ee){for(var ze=Ee._fullLayout,Be=Ee._fullData,Ue=ze._subplots.gl3d,We=0;We<Ue.length;We++){var et=Ue[We],tt=Qe(Be,"gl3d",et),rt=ze[et],nt=rt.camera,at=rt._scene;at||(at=new $e({id:et,graphDiv:Ee,container:Ee.querySelector(".gl-container"),staticPlot:Ee._context.staticPlot,plotGlPixelRatio:Ee._context.plotGlPixelRatio,camera:nt},ze),rt._scene=at),at.viewInitial||(at.viewInitial={up:{x:nt.up.x,y:nt.up.y,z:nt.up.z},eye:{x:nt.eye.x,y:nt.eye.y,z:nt.eye.z},center:{x:nt.center.x,y:nt.center.y,z:nt.center.z}}),at.plot(tt,ze,Ee.layout)}},ze.clean=function(Ee,ze,Be,Ue){for(var We=Ue._subplots.gl3d||[],$e=0;$e<We.length;$e++){var Qe=We[$e];!ze[Qe]&&Ue[Qe]._scene&&(Ue[Qe]._scene.destroy(),Ue._infolayer&&Ue._infolayer.selectAll(".annotation-"+Qe).remove())}},ze.toSVG=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.gl3d,Ue=ze._size,We=0;We<Be.length;We++){var $e=ze[Be[We]],Qe=$e.domain,et=$e._scene,rt=et.toImage("png");ze._glimages.append("svg:image").attr({xmlns:tt.svg,"xlink:href":rt,x:Ue.l+Ue.w*Qe.x[0],y:Ue.t+Ue.h*(1-Qe.y[1]),width:Ue.w*(Qe.x[1]-Qe.x[0]),height:Ue.h*(Qe.y[1]-Qe.y[0]),preserveAspectRatio:"none"}),et.destroy()}},ze.cleanId=function cleanId(Ee){if(Ee.match(/^scene[0-9]*$/)){var ze=Ee.substr(5);return"1"===ze&&(ze=""),"scene"+ze}},ze.updateFx=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.gl3d,Ue=0;Ue<Be.length;Ue++){ze[Be[Ue]]._scene.updateFx(ze.dragmode,ze.hovermode)}}},1368:function(Ee,ze,Be){(function(ze,Ue){var We;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */We=function(){"use strict";function isFunction(Ee){return"function"==typeof Ee}var Ee=Array.isArray?Array.isArray:function(Ee){return"[object Array]"===Object.prototype.toString.call(Ee)},We=0,$e=void 0,Qe=void 0,et=function asap(Ee,ze){ct[We]=Ee,ct[We+1]=ze,2===(We+=2)&&(Qe?Qe(flush):ft())},tt="undefined"!=typeof window?window:void 0,rt=tt||{},nt=rt.MutationObserver||rt.WebKitMutationObserver,at="undefined"==typeof self&&void 0!==ze&&"[object process]"==={}.toString.call(ze),it="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useSetTimeout(){var Ee=setTimeout;return function(){return Ee(flush,1)}}var ct=new Array(1e3);function flush(){for(var Ee=0;Ee<We;Ee+=2)(0,ct[Ee])(ct[Ee+1]),ct[Ee]=void 0,ct[Ee+1]=void 0;We=0}var ft=void 0;function then(Ee,ze){var Be=arguments,Ue=this,We=new this.constructor(noop);void 0===We[xt]&&makePromise(We);var $e,Qe=Ue._state;return Qe?($e=Be[Qe-1],et((function(){return invokeCallback(Qe,We,$e,Ue._result)}))):subscribe(Ue,We,Ee,ze),We}function resolve(Ee){if(Ee&&"object"==typeof Ee&&Ee.constructor===this)return Ee;var ze=new this(noop);return _resolve(ze,Ee),ze}ft=at?function useNextTick(){return function(){return ze.nextTick(flush)}}():nt?function useMutationObserver(){var Ee=0,ze=new nt(flush),Be=document.createTextNode("");return ze.observe(Be,{characterData:!0}),function(){Be.data=Ee=++Ee%2}}():it?function useMessageChannel(){var Ee=new MessageChannel;return Ee.port1.onmessage=flush,function(){return Ee.port2.postMessage(0)}}():void 0===tt?function attemptVertx(){try{var Ee=Be(0);return $e=Ee.runOnLoop||Ee.runOnContext,function useVertxTimer(){return function(){$e(flush)}}()}catch(Ee){return useSetTimeout()}}():useSetTimeout();var xt=Math.random().toString(36).substring(16);function noop(){}var kt=new ErrorObject;function getThen(Ee){try{return Ee.then}catch(Ee){return kt.error=Ee,kt}}function handleMaybeThenable(Ee,ze,Be){ze.constructor===Ee.constructor&&Be===then&&ze.constructor.resolve===resolve?function handleOwnThenable(Ee,ze){1===ze._state?fulfill(Ee,ze._result):2===ze._state?_reject(Ee,ze._result):subscribe(ze,void 0,(function(ze){return _resolve(Ee,ze)}),(function(ze){return _reject(Ee,ze)}))}(Ee,ze):Be===kt?_reject(Ee,kt.error):void 0===Be?fulfill(Ee,ze):isFunction(Be)?function handleForeignThenable(Ee,ze,Be){et((function(Ee){var Ue=!1,We=function tryThen(Ee,ze,Be,Ue){try{Ee.call(ze,Be,Ue)}catch(Ee){return Ee}}(Be,ze,(function(Be){Ue||(Ue=!0,ze!==Be?_resolve(Ee,Be):fulfill(Ee,Be))}),(function(ze){Ue||(Ue=!0,_reject(Ee,ze))}),Ee._label);!Ue&&We&&(Ue=!0,_reject(Ee,We))}),Ee)}(Ee,ze,Be):fulfill(Ee,ze)}function _resolve(Ee,ze){Ee===ze?_reject(Ee,function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}()):function objectOrFunction(Ee){return"function"==typeof Ee||"object"==typeof Ee&&null!==Ee}(ze)?handleMaybeThenable(Ee,ze,getThen(ze)):fulfill(Ee,ze)}function publishRejection(Ee){Ee._onerror&&Ee._onerror(Ee._result),publish(Ee)}function fulfill(Ee,ze){void 0===Ee._state&&(Ee._result=ze,Ee._state=1,0!==Ee._subscribers.length&&et(publish,Ee))}function _reject(Ee,ze){void 0===Ee._state&&(Ee._state=2,Ee._result=ze,et(publishRejection,Ee))}function subscribe(Ee,ze,Be,Ue){var We=Ee._subscribers,$e=We.length;Ee._onerror=null,We[$e]=ze,We[$e+1]=Be,We[$e+2]=Ue,0===$e&&Ee._state&&et(publish,Ee)}function publish(Ee){var ze=Ee._subscribers,Be=Ee._state;if(0!==ze.length){for(var Ue=void 0,We=void 0,$e=Ee._result,Qe=0;Qe<ze.length;Qe+=3)Ue=ze[Qe],We=ze[Qe+Be],Ue?invokeCallback(Be,Ue,We,$e):We($e);Ee._subscribers.length=0}}function ErrorObject(){this.error=null}var Lt=new ErrorObject;function invokeCallback(Ee,ze,Be,Ue){var We=isFunction(Be),$e=void 0,Qe=void 0,et=void 0,tt=void 0;if(We){if(($e=function tryCatch(Ee,ze){try{return Ee(ze)}catch(Ee){return Lt.error=Ee,Lt}}(Be,Ue))===Lt?(tt=!0,Qe=$e.error,$e=null):et=!0,ze===$e)return void _reject(ze,function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}())}else $e=Ue,et=!0;void 0!==ze._state||(We&&et?_resolve(ze,$e):tt?_reject(ze,Qe):1===Ee?fulfill(ze,$e):2===Ee&&_reject(ze,$e))}var Ut=0;function makePromise(Ee){Ee[xt]=Ut++,Ee._state=void 0,Ee._result=void 0,Ee._subscribers=[]}function Enumerator(ze,Be){this._instanceConstructor=ze,this.promise=new ze(noop),this.promise[xt]||makePromise(this.promise),Ee(Be)?(this._input=Be,this.length=Be.length,this._remaining=Be.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&fulfill(this.promise,this._result))):_reject(this.promise,function validationError(){return new Error("Array Methods must be provided an Array")}())}function Promise(Ee){this[xt]=function nextId(){return Ut++}(),this._result=this._state=void 0,this._subscribers=[],noop!==Ee&&("function"!=typeof Ee&&function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Promise?function initializePromise(Ee,ze){try{ze((function resolvePromise(ze){_resolve(Ee,ze)}),(function rejectPromise(ze){_reject(Ee,ze)}))}catch(ze){_reject(Ee,ze)}}(this,Ee):function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function polyfill(){var Ee=void 0;if(void 0!==Ue)Ee=Ue;else if("undefined"!=typeof self)Ee=self;else try{Ee=Function("return this")()}catch(Ee){throw new Error("polyfill failed because global object is unavailable in this environment")}var ze=Ee.Promise;if(ze){var Be=null;try{Be=Object.prototype.toString.call(ze.resolve())}catch(Ee){}if("[object Promise]"===Be&&!ze.cast)return}Ee.Promise=Promise}return Enumerator.prototype._enumerate=function(){for(var Ee=this.length,ze=this._input,Be=0;void 0===this._state&&Be<Ee;Be++)this._eachEntry(ze[Be],Be)},Enumerator.prototype._eachEntry=function(Ee,ze){var Be=this._instanceConstructor,Ue=Be.resolve;if(Ue===resolve){var We=getThen(Ee);if(We===then&&void 0!==Ee._state)this._settledAt(Ee._state,ze,Ee._result);else if("function"!=typeof We)this._remaining--,this._result[ze]=Ee;else if(Be===Promise){var $e=new Be(noop);handleMaybeThenable($e,Ee,We),this._willSettleAt($e,ze)}else this._willSettleAt(new Be((function(ze){return ze(Ee)})),ze)}else this._willSettleAt(Ue(Ee),ze)},Enumerator.prototype._settledAt=function(Ee,ze,Be){var Ue=this.promise;void 0===Ue._state&&(this._remaining--,2===Ee?_reject(Ue,Be):this._result[ze]=Be),0===this._remaining&&fulfill(Ue,this._result)},Enumerator.prototype._willSettleAt=function(Ee,ze){var Be=this;subscribe(Ee,void 0,(function(Ee){return Be._settledAt(1,ze,Ee)}),(function(Ee){return Be._settledAt(2,ze,Ee)}))},Promise.all=function all(Ee){return new Enumerator(this,Ee).promise},Promise.race=function race(ze){var Be=this;return Ee(ze)?new Be((function(Ee,Ue){for(var We=ze.length,$e=0;$e<We;$e++)Be.resolve(ze[$e]).then(Ee,Ue)})):new Be((function(Ee,ze){return ze(new TypeError("You must pass an array to race."))}))},Promise.resolve=resolve,Promise.reject=function reject(Ee){var ze=new this(noop);return _reject(ze,Ee),ze},Promise._setScheduler=function setScheduler(Ee){Qe=Ee},Promise._setAsap=function setAsap(Ee){et=Ee},Promise._asap=et,Promise.prototype={constructor:Promise,then:then,catch:function _catch(Ee){return this.then(null,Ee)}},polyfill(),Promise.polyfill=polyfill,Promise.Promise=Promise,Promise},Ee.exports=We()}).call(this,Be("4362"),Be("c8ba"))},1385:function(Ee,ze,Be){"use strict";Ee.exports=function isPlainObject(Ee){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(Ee):"[object Object]"===Object.prototype.toString.call(Ee)&&Object.getPrototypeOf(Ee)===Object.prototype}},"13a0":function(Ee,ze,Be){"use strict";var Ue=Be("c947"),We=Be("19b2"),$e=Be("fc26"),Qe=Be("c258").makeColorScaleFuncFromTrace,et=Be("86b8").makePullColorFn,tt=Be("86b8").generateExtendedColors,rt=Be("c258").calc,nt=Be("e806").ALMOST_EQUAL,at={},it={};ze.calc=function(Ee,ze){var Be,tt,at,it,ct,ft,xt=Ee._fullLayout,kt=ze.ids,Lt=$e.isArrayOrTypedArray(kt),Ut=ze.labels,er=ze.parents,tr=ze.values,rr=$e.isArrayOrTypedArray(tr),ar=[],Lr={},Qr={},isValidKey=function(Ee){return Ee||"number"==typeof Ee},isValidVal=function(Ee){return!rr||We(tr[Ee])&&tr[Ee]>=0};Lt?(Be=Math.min(kt.length,er.length),tt=function(Ee){return isValidKey(kt[Ee])&&isValidVal(Ee)},at=function(Ee){return String(kt[Ee])}):(Be=Math.min(Ut.length,er.length),tt=function(Ee){return isValidKey(Ut[Ee])&&isValidVal(Ee)},at=function(Ee){return String(Ut[Ee])}),rr&&(Be=Math.min(Be,tr.length));for(var on=0;on<Be;on++)if(tt(on)){var sn=at(on),ln=isValidKey(er[on])?String(er[on]):"",cn={i:on,id:sn,pid:ln,label:isValidKey(Ut[on])?String(Ut[on]):""};rr&&(cn.v=+tr[on]),ar.push(cn),ct=sn,Lr[it=ln]?Lr[it].push(ct):Lr[it]=[ct],Qr[ct]=1}if(Lr[""]){if(Lr[""].length>1){for(var un=$e.randstr(),hn=0;hn<ar.length;hn++)""===ar[hn].pid&&(ar[hn].pid=un);ar.unshift({hasMultipleRoots:!0,id:un,pid:"",label:""})}}else{var dn,vn=[];for(dn in Lr)Qr[dn]||vn.push(dn);if(1!==vn.length)return $e.warn("Multiple implied roots, cannot build "+ze.type+" hierarchy.");dn=vn[0],ar.unshift({hasImpliedRoot:!0,id:dn,pid:"",label:dn})}try{ft=Ue.stratify().id((function(Ee){return Ee.id})).parentId((function(Ee){return Ee.pid}))(ar)}catch(Ee){return $e.warn("Failed to build "+ze.type+" hierarchy. Error: "+Ee.message)}var yn=Ue.hierarchy(ft),_n=!1;if(rr)switch(ze.branchvalues){case"remainder":yn.sum((function(Ee){return Ee.data.v}));break;case"total":yn.each((function(Ee){var ze=Ee.data.data,Be=ze.v;if(Ee.children){var Ue=Ee.children.reduce((function(Ee,ze){return Ee+ze.data.data.v}),0);if((ze.hasImpliedRoot||ze.hasMultipleRoots)&&(Be=Ue),Be<Ue*nt)return _n=!0,$e.warn(["Total value for node",Ee.data.data.id,"is smaller than the sum of its children.","\nparent value =",Be,"\nchildren sum =",Ue].join(" "))}Ee.value=Be}))}else!function countDescendants(Ee,ze,Be){var Ue=0,We=Ee.children;if(We){for(var $e=We.length,Qe=0;Qe<$e;Qe++)Ue+=countDescendants(We[Qe],ze,Be);Be.branches&&Ue++}else Be.leaves&&Ue++;Ee.value=Ee.data.data.value=Ue,ze._values||(ze._values=[]);return ze._values[Ee.data.data.i]=Ue,Ue}(yn,ze,{branches:-1!==ze.count.indexOf("branches"),leaves:-1!==ze.count.indexOf("leaves")});if(!_n){var Mn,Cn;yn.sort((function(Ee,ze){return ze.value-Ee.value}));var En=ze.marker.colors||[],Pn=!!En.length;return ze._hasColorscale?(Pn||(En=rr?ze.values:ze._values),rt(Ee,ze,{vals:En,containerStr:"marker",cLetter:"c"}),Cn=Qe(ze.marker)):Mn=et(xt["_"+ze.type+"colormap"]),yn.each((function(Ee){var Be=Ee.data.data;Be.color=ze._hasColorscale?Cn(En[Be.i]):Mn(En[Be.i],Be.id)})),ar[0].hierarchy=yn,ar}},ze._runCrossTraceCalc=function(Ee,ze){var Be=ze._fullLayout,Ue=ze.calcdata,We=Be[Ee+"colorway"],$e=Be["_"+Ee+"colormap"];Be["extend"+Ee+"colors"]&&(We=tt(We,"treemap"===Ee?it:at));var Qe=0;function pickColor(Ee){var ze=Ee.data.data,Be=ze.id;!1===ze.color&&($e[Be]?ze.color=$e[Be]:Ee.parent?Ee.parent.parent?ze.color=Ee.parent.data.data.color:($e[Be]=ze.color=We[Qe%We.length],Qe++):ze.color="rgba(0,0,0,0)")}for(var et=0;et<Ue.length;et++){var rt=Ue[et][0];rt.trace.type===Ee&&rt.hierarchy&&rt.hierarchy.each(pickColor)}},ze.crossTraceCalc=function(Ee){return ze._runCrossTraceCalc("sunburst",Ee)}},"13a4":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];Ee.exports=function getCursor(Ee,ze,Be,$e){return Ee="left"===Be?0:"center"===Be?1:"right"===Be?2:Ue.constrain(Math.floor(3*Ee),0,2),ze="bottom"===$e?0:"middle"===$e?1:"top"===$e?2:Ue.constrain(Math.floor(3*ze),0,2),We[ze][Ee]}},"13c3":function(Ee,ze,Be){"use strict";var Ue=Be("1bea");Ee.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(Ee){var ze,Be,Ue,We,$e,Qe=Ee[0]/360,et=Ee[1]/100,tt=Ee[2]/100;if(0===et)return[$e=255*tt,$e,$e];ze=2*tt-(Be=tt<.5?tt*(1+et):tt+et-tt*et),We=[0,0,0];for(var rt=0;rt<3;rt++)(Ue=Qe+1/3*-(rt-1))<0?Ue++:Ue>1&&Ue--,$e=6*Ue<1?ze+6*(Be-ze)*Ue:2*Ue<1?Be:3*Ue<2?ze+(Be-ze)*(2/3-Ue)*6:ze,We[rt]=255*$e;return We}},Ue.hsl=function(Ee){var ze,Be,Ue=Ee[0]/255,We=Ee[1]/255,$e=Ee[2]/255,Qe=Math.min(Ue,We,$e),et=Math.max(Ue,We,$e),tt=et-Qe;return et===Qe?ze=0:Ue===et?ze=(We-$e)/tt:We===et?ze=2+($e-Ue)/tt:$e===et&&(ze=4+(Ue-We)/tt),(ze=Math.min(60*ze,360))<0&&(ze+=360),Be=(Qe+et)/2,[ze,100*(et===Qe?0:Be<=.5?tt/(et+Qe):tt/(2-et-Qe)),100*Be]}},"13c4":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("bb71"),$e=Be("3c1c"),Qe=Be("fc26"),et=Be("7559"),tt=Qe._,rt=Ee.exports={};function handleCartesian(Ee,ze){var Be,We,Qe=ze.currentTarget,et=Qe.getAttribute("data-attr"),tt=Qe.getAttribute("data-val")||!0,rt=Ee._fullLayout,nt={},at=$e.list(Ee,null,!0),it=rt._cartesianSpikesEnabled;if("zoom"===et){var ct,ft="in"===tt?.5:2,xt=(1+ft)/2,kt=(1-ft)/2;for(We=0;We<at.length;We++)if(!(Be=at[We]).fixedrange)if(ct=Be._name,"auto"===tt)nt[ct+".autorange"]=!0;else if("reset"===tt){if(void 0===Be._rangeInitial)nt[ct+".autorange"]=!0;else{var Lt=Be._rangeInitial.slice();nt[ct+".range[0]"]=Lt[0],nt[ct+".range[1]"]=Lt[1]}void 0!==Be._showSpikeInitial&&(nt[ct+".showspikes"]=Be._showSpikeInitial,"on"!==it||Be._showSpikeInitial||(it="off"))}else{var Ut=[Be.r2l(Be.range[0]),Be.r2l(Be.range[1])],er=[xt*Ut[0]+kt*Ut[1],xt*Ut[1]+kt*Ut[0]];nt[ct+".range[0]"]=Be.l2r(er[0]),nt[ct+".range[1]"]=Be.l2r(er[1])}}else"hovermode"!==et||"x"!==tt&&"y"!==tt||(tt=rt._isHoriz?"y":"x",Qe.setAttribute("data-val",tt)),nt[et]=tt;rt._cartesianSpikesEnabled=it,Ue.call("_guiRelayout",Ee,nt)}function handleDrag3d(Ee,ze){for(var Be=ze.currentTarget,We=Be.getAttribute("data-attr"),$e=Be.getAttribute("data-val")||!0,Qe=Ee._fullLayout._subplots.gl3d||[],et={},tt=We.split("."),rt=0;rt<Qe.length;rt++)et[Qe[rt]+"."+tt[1]]=$e;var nt="pan"===$e?$e:"zoom";et.dragmode=nt,Ue.call("_guiRelayout",Ee,et)}function handleCamera3d(Ee,ze){for(var Be=ze.currentTarget.getAttribute("data-attr"),We=Ee._fullLayout,$e=We._subplots.gl3d||[],Qe={},et=0;et<$e.length;et++){var tt,rt=$e[et],nt=rt+".camera",at=rt+".aspectratio",it=We[rt]._scene;"resetLastSave"===Be?(Qe[nt+".up"]=it.viewInitial.up,Qe[nt+".eye"]=it.viewInitial.eye,Qe[nt+".center"]=it.viewInitial.center,tt=!0):"resetDefault"===Be&&(Qe[nt+".up"]=null,Qe[nt+".eye"]=null,Qe[nt+".center"]=null,tt=!0),tt&&(Qe[at+".x"]=it.viewInitial.aspectratio.x,Qe[at+".y"]=it.viewInitial.aspectratio.y,Qe[at+".z"]=it.viewInitial.aspectratio.z)}Ue.call("_guiRelayout",Ee,Qe)}function getNextHover3d(Ee,ze){var Be=ze.currentTarget,Ue=Be._previousVal,We=Ee._fullLayout,$e=We._subplots.gl3d||[],Qe=["xaxis","yaxis","zaxis"],et={},tt={};if(Ue)tt=Ue,Be._previousVal=null;else{for(var rt=0;rt<$e.length;rt++){var nt=$e[rt],at=We[nt],it=nt+".hovermode";et[it]=at.hovermode,tt[it]=!1;for(var ct=0;ct<3;ct++){var ft=Qe[ct],xt=nt+"."+ft+".showspikes";tt[xt]=!1,et[xt]=at[ft].showspikes}}Be._previousVal=et}return tt}function handleGeo(Ee,ze){for(var Be=ze.currentTarget,We=Be.getAttribute("data-attr"),$e=Be.getAttribute("data-val")||!0,Qe=Ee._fullLayout,et=Qe._subplots.geo||[],tt=0;tt<et.length;tt++){var rt=et[tt],nt=Qe[rt];if("zoom"===We){var at=nt.projection.scale,it="in"===$e?2*at:.5*at;Ue.call("_guiRelayout",Ee,rt+".projection.scale",it)}}"reset"===We&&resetView(Ee,"geo")}function getNextHover(Ee){var ze=Ee._fullLayout;return!ze.hovermode&&(ze._has("cartesian")?ze._isHoriz?"y":"x":"closest")}function toggleHover(Ee){var ze=getNextHover(Ee);Ue.call("_guiRelayout",Ee,"hovermode",ze)}function handleMapboxZoom(Ee,ze){for(var Be=ze.currentTarget.getAttribute("data-val"),We=Ee._fullLayout,$e=We._subplots.mapbox||[],Qe={},et=0;et<$e.length;et++){var tt=$e[et],rt=We[tt].zoom,nt="in"===Be?1.05*rt:rt/1.05;Qe[tt+".zoom"]=nt}Ue.call("_guiRelayout",Ee,Qe)}function resetView(Ee,ze){for(var Be=Ee._fullLayout,We=Be._subplots[ze]||[],$e={},Qe=0;Qe<We.length;Qe++)for(var et=We[Qe],tt=Be[et]._subplot.viewInitial,rt=Object.keys(tt),nt=0;nt<rt.length;nt++){var at=rt[nt];$e[et+"."+at]=tt[at]}Ue.call("_guiRelayout",Ee,$e)}rt.toImage={name:"toImage",title:function(Ee){var ze=(Ee._context.toImageButtonOptions||{}).format||"png";return tt(Ee,"png"===ze?"Download plot as a png":"Download plot")},icon:et.camera,click:function(Ee){var ze=Ee._context.toImageButtonOptions,Be={format:ze.format||"png"};Qe.notifier(tt(Ee,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==Be.format&&Qe.isIE()&&(Qe.notifier(tt(Ee,"IE only supports svg.  Changing format to svg."),"long"),Be.format="svg"),["filename","width","height","scale"].forEach((function(Ee){Ee in ze&&(Be[Ee]=ze[Ee])})),Ue.call("downloadImage",Ee,Be).then((function(ze){Qe.notifier(tt(Ee,"Snapshot succeeded")+" - "+ze,"long")})).catch((function(){Qe.notifier(tt(Ee,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},rt.sendDataToCloud={name:"sendDataToCloud",title:function(Ee){return tt(Ee,"Edit in Chart Studio")},icon:et.disk,click:function(Ee){We.sendDataToCloud(Ee)}},rt.editInChartStudio={name:"editInChartStudio",title:function(Ee){return tt(Ee,"Edit in Chart Studio")},icon:et.pencil,click:function(Ee){We.sendDataToCloud(Ee)}},rt.zoom2d={name:"zoom2d",title:function(Ee){return tt(Ee,"Zoom")},attr:"dragmode",val:"zoom",icon:et.zoombox,click:handleCartesian},rt.pan2d={name:"pan2d",title:function(Ee){return tt(Ee,"Pan")},attr:"dragmode",val:"pan",icon:et.pan,click:handleCartesian},rt.select2d={name:"select2d",title:function(Ee){return tt(Ee,"Box Select")},attr:"dragmode",val:"select",icon:et.selectbox,click:handleCartesian},rt.lasso2d={name:"lasso2d",title:function(Ee){return tt(Ee,"Lasso Select")},attr:"dragmode",val:"lasso",icon:et.lasso,click:handleCartesian},rt.zoomIn2d={name:"zoomIn2d",title:function(Ee){return tt(Ee,"Zoom in")},attr:"zoom",val:"in",icon:et.zoom_plus,click:handleCartesian},rt.zoomOut2d={name:"zoomOut2d",title:function(Ee){return tt(Ee,"Zoom out")},attr:"zoom",val:"out",icon:et.zoom_minus,click:handleCartesian},rt.autoScale2d={name:"autoScale2d",title:function(Ee){return tt(Ee,"Autoscale")},attr:"zoom",val:"auto",icon:et.autoscale,click:handleCartesian},rt.resetScale2d={name:"resetScale2d",title:function(Ee){return tt(Ee,"Reset axes")},attr:"zoom",val:"reset",icon:et.home,click:handleCartesian},rt.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(Ee){return tt(Ee,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:et.tooltip_basic,gravity:"ne",click:handleCartesian},rt.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(Ee){return tt(Ee,"Compare data on hover")},attr:"hovermode",val:function(Ee){return Ee._fullLayout._isHoriz?"y":"x"},icon:et.tooltip_compare,gravity:"ne",click:handleCartesian},rt.zoom3d={name:"zoom3d",title:function(Ee){return tt(Ee,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:et.zoombox,click:handleDrag3d},rt.pan3d={name:"pan3d",title:function(Ee){return tt(Ee,"Pan")},attr:"scene.dragmode",val:"pan",icon:et.pan,click:handleDrag3d},rt.orbitRotation={name:"orbitRotation",title:function(Ee){return tt(Ee,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:et["3d_rotate"],click:handleDrag3d},rt.tableRotation={name:"tableRotation",title:function(Ee){return tt(Ee,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:et["z-axis"],click:handleDrag3d},rt.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(Ee){return tt(Ee,"Reset camera to default")},attr:"resetDefault",icon:et.home,click:handleCamera3d},rt.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(Ee){return tt(Ee,"Reset camera to last save")},attr:"resetLastSave",icon:et.movie,click:handleCamera3d},rt.hoverClosest3d={name:"hoverClosest3d",title:function(Ee){return tt(Ee,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:et.tooltip_basic,gravity:"ne",click:function handleHover3d(Ee,ze){var Be=getNextHover3d(Ee,ze);Ue.call("_guiRelayout",Ee,Be)}},rt.zoomInGeo={name:"zoomInGeo",title:function(Ee){return tt(Ee,"Zoom in")},attr:"zoom",val:"in",icon:et.zoom_plus,click:handleGeo},rt.zoomOutGeo={name:"zoomOutGeo",title:function(Ee){return tt(Ee,"Zoom out")},attr:"zoom",val:"out",icon:et.zoom_minus,click:handleGeo},rt.resetGeo={name:"resetGeo",title:function(Ee){return tt(Ee,"Reset")},attr:"reset",val:null,icon:et.autoscale,click:handleGeo},rt.hoverClosestGeo={name:"hoverClosestGeo",title:function(Ee){return tt(Ee,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:et.tooltip_basic,gravity:"ne",click:toggleHover},rt.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(Ee){return tt(Ee,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:et.tooltip_basic,gravity:"ne",click:toggleHover},rt.hoverClosestPie={name:"hoverClosestPie",title:function(Ee){return tt(Ee,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:et.tooltip_basic,gravity:"ne",click:toggleHover},rt.resetViewSankey={name:"resetSankeyGroup",title:function(Ee){return tt(Ee,"Reset view")},icon:et.home,click:function(Ee){for(var ze={"node.groups":[],"node.x":[],"node.y":[]},Be=0;Be<Ee._fullData.length;Be++){var We=Ee._fullData[Be]._viewInitial;ze["node.groups"].push(We.node.groups.slice()),ze["node.x"].push(We.node.x.slice()),ze["node.y"].push(We.node.y.slice())}Ue.call("restyle",Ee,ze)}},rt.toggleHover={name:"toggleHover",title:function(Ee){return tt(Ee,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:et.tooltip_basic,gravity:"ne",click:function(Ee,ze){var Be=getNextHover3d(Ee,ze);Be.hovermode=getNextHover(Ee),Ue.call("_guiRelayout",Ee,Be)}},rt.resetViews={name:"resetViews",title:function(Ee){return tt(Ee,"Reset views")},icon:et.home,click:function(Ee,ze){var Be=ze.currentTarget;Be.setAttribute("data-attr","zoom"),Be.setAttribute("data-val","reset"),handleCartesian(Ee,ze),Be.setAttribute("data-attr","resetLastSave"),handleCamera3d(Ee,ze),resetView(Ee,"geo"),resetView(Ee,"mapbox")}},rt.toggleSpikelines={name:"toggleSpikelines",title:function(Ee){return tt(Ee,"Toggle Spike Lines")},icon:et.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(Ee){var ze=Ee._fullLayout,Be=ze._cartesianSpikesEnabled;ze._cartesianSpikesEnabled="on"===Be?"off":"on",Ue.call("_guiRelayout",Ee,function setSpikelineVisibility(Ee){for(var ze="on"===Ee._fullLayout._cartesianSpikesEnabled,Be=$e.list(Ee,null,!0),Ue={},We=0;We<Be.length;We++){var Qe=Be[We];Ue[Qe._name+".showspikes"]=!!ze||Qe._showSpikeInitial}return Ue}(Ee))}},rt.resetViewMapbox={name:"resetViewMapbox",title:function(Ee){return tt(Ee,"Reset view")},attr:"reset",icon:et.home,click:function(Ee){resetView(Ee,"mapbox")}},rt.zoomInMapbox={name:"zoomInMapbox",title:function(Ee){return tt(Ee,"Zoom in")},attr:"zoom",val:"in",icon:et.zoom_plus,click:handleMapboxZoom},rt.zoomOutMapbox={name:"zoomOutMapbox",title:function(Ee){return tt(Ee,"Zoom out")},attr:"zoom",val:"out",icon:et.zoom_minus,click:handleMapboxZoom}},"13d5":function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("d58f").left,$e=Be("a640"),Qe=Be("ae40"),et=$e("reduce"),tt=Qe("reduce",{1:0});Ue({target:"Array",proto:!0,forced:!et||!tt},{reduce:function reduce(Ee){return We(this,Ee,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1417:function(Ee,ze){Ee.exports=function multiply(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=ze[4],tt=ze[5],rt=ze[6],nt=ze[7],at=ze[8],it=ze[9],ct=ze[10],ft=ze[11],xt=ze[12],kt=ze[13],Lt=ze[14],Ut=ze[15],er=Be[0],tr=Be[1],rr=Be[2],ar=Be[3];return Ee[0]=er*Ue+tr*et+rr*at+ar*xt,Ee[1]=er*We+tr*tt+rr*it+ar*kt,Ee[2]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[3]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[4],tr=Be[5],rr=Be[6],ar=Be[7],Ee[4]=er*Ue+tr*et+rr*at+ar*xt,Ee[5]=er*We+tr*tt+rr*it+ar*kt,Ee[6]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[7]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[8],tr=Be[9],rr=Be[10],ar=Be[11],Ee[8]=er*Ue+tr*et+rr*at+ar*xt,Ee[9]=er*We+tr*tt+rr*it+ar*kt,Ee[10]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[11]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[12],tr=Be[13],rr=Be[14],ar=Be[15],Ee[12]=er*Ue+tr*et+rr*at+ar*xt,Ee[13]=er*We+tr*tt+rr*it+ar*kt,Ee[14]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[15]=er*Qe+tr*nt+rr*ft+ar*Ut,Ee}},"145a":function(Ee,ze,Be){"use strict";var Ue=Be("ad62").getModuleCalcData,We=Be("3e11");ze.name="parcats",ze.plot=function(Ee,ze,Be,$e){var Qe=Ue(Ee.calcdata,"parcats");if(Qe.length){var et=Qe[0];We(Ee,et,Be,$e)}},ze.clean=function(Ee,ze,Be,Ue){var We=Ue._has&&Ue._has("parcats"),$e=ze._has&&ze._has("parcats");We&&!$e&&Ue._paperdiv.selectAll(".parcats").remove()}},1477:function(Ee,ze,Be){"use strict";var Ue=Be("dcf3");Ee.exports=Ue&&function detect(){var Ee=!1;try{var ze=Object.defineProperty({},"passive",{get:function(){Ee=!0}});window.addEventListener("test",null,ze),window.removeEventListener("test",null,ze)}catch(ze){Ee=!1}return Ee}()},"14ab":function(Ee,ze,Be){"use strict";Ee.exports=function(){var Ee,ze=Object.assign;return"function"==typeof ze&&(ze(Ee={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),Ee.foo+Ee.bar+Ee.trzy==="razdwatrzy")}},"14b6":function(Ee,ze,Be){"use strict";var Ue=Be("bb4a"),We=Be("cb34").overrideAll,$e=Be("a651").templatedArray;Ee.exports=We($e("annotation",{visible:Ue.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:Ue.xanchor,xshift:Ue.xshift,yanchor:Ue.yanchor,yshift:Ue.yshift,text:Ue.text,textangle:Ue.textangle,font:Ue.font,width:Ue.width,height:Ue.height,opacity:Ue.opacity,align:Ue.align,valign:Ue.valign,bgcolor:Ue.bgcolor,bordercolor:Ue.bordercolor,borderpad:Ue.borderpad,borderwidth:Ue.borderwidth,showarrow:Ue.showarrow,arrowcolor:Ue.arrowcolor,arrowhead:Ue.arrowhead,startarrowhead:Ue.startarrowhead,arrowside:Ue.arrowside,arrowsize:Ue.arrowsize,startarrowsize:Ue.startarrowsize,arrowwidth:Ue.arrowwidth,standoff:Ue.standoff,startstandoff:Ue.startstandoff,hovertext:Ue.hovertext,hoverlabel:Ue.hoverlabel,captureevents:Ue.captureevents}),"calc","from-root")},"14c3":function(Ee,ze,Be){var Ue=Be("c6b6"),We=Be("9263");Ee.exports=function(Ee,ze){var Be=Ee.exec;if("function"==typeof Be){var $e=Be.call(Ee,ze);if("object"!=typeof $e)throw TypeError("RegExp exec method returned something other than an Object or null");return $e}if("RegExp"!==Ue(Ee))throw TypeError("RegExp#exec called on incompatible receiver");return We.call(Ee,ze)}},"14cf":function(Ee,ze,Be){"use strict";Ee.exports=function(){var Ee,ze,Be=Array.from;return"function"==typeof Be&&(ze=Be(Ee=["raz","dwa"]),Boolean(ze&&ze!==Ee&&"dwa"===ze[1]))}},"158b":function(Ee,ze,Be){"use strict";Ee.exports=function findMedian(Ee,ze,Be,We,$e,Qe){if(We<=Be+1)return Be;var et=Be,tt=We,rt=We+Be>>>1,nt=2*Ee,at=rt,it=$e[nt*rt+ze];for(;et<tt;){if(tt-et<8){insertionSort(Ee,ze,et,tt,$e,Qe),it=$e[nt*rt+ze];break}var ct=tt-et,ft=Math.random()*ct+et|0,xt=$e[nt*ft+ze],kt=Math.random()*ct+et|0,Lt=$e[nt*kt+ze],Ut=Math.random()*ct+et|0,er=$e[nt*Ut+ze];xt<=Lt?er>=Lt?(at=kt,it=Lt):xt>=er?(at=ft,it=xt):(at=Ut,it=er):Lt>=er?(at=kt,it=Lt):er>=xt?(at=ft,it=xt):(at=Ut,it=er);for(var tr=nt*(tt-1),rr=nt*at,ar=0;ar<nt;++ar,++tr,++rr){var Lr=$e[tr];$e[tr]=$e[rr],$e[rr]=Lr}var Qr=Qe[tt-1];Qe[tt-1]=Qe[at],Qe[at]=Qr,at=Ue(Ee,ze,et,tt-1,$e,Qe,it);for(tr=nt*(tt-1),rr=nt*at,ar=0;ar<nt;++ar,++tr,++rr){Lr=$e[tr];$e[tr]=$e[rr],$e[rr]=Lr}Qr=Qe[tt-1];if(Qe[tt-1]=Qe[at],Qe[at]=Qr,rt<at){for(tt=at-1;et<tt&&$e[nt*(tt-1)+ze]===it;)tt-=1;tt+=1}else{if(!(at<rt))break;for(et=at+1;et<tt&&$e[nt*et+ze]===it;)et+=1}}return Ue(Ee,ze,Be,rt,$e,Qe,$e[nt*rt+ze])};var Ue=Be("8e58")("lo<p0",["p0"]);function insertionSort(Ee,ze,Be,Ue,We,$e){for(var Qe=2*Ee,et=Qe*(Be+1)+ze,tt=Be+1;tt<Ue;++tt,et+=Qe)for(var rt=We[et],nt=tt,at=Qe*(tt-1);nt>Be&&We[at+ze]>rt;--nt,at-=Qe){for(var it=at,ct=at+Qe,ft=0;ft<Qe;++ft,++it,++ct){var xt=We[it];We[it]=We[ct],We[ct]=xt}var kt=$e[nt];$e[nt]=$e[nt-1],$e[nt-1]=kt}}},1590:function(Ee,ze,Be){"use strict";var Ue=Be("40c0"),We=Be("4274"),$e=Be("0435"),Qe=Be("a876"),et=Be("94d5").hovertemplateAttrs,tt=Be("f4e9"),rt=Be("9092").extendFlat;Ee.exports=rt({x:Ue.x,y:Ue.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:Ue.histnorm,histfunc:Ue.histfunc,nbinsx:Ue.nbinsx,xbins:We("x"),nbinsy:Ue.nbinsy,ybins:We("y"),autobinx:Ue.autobinx,autobiny:Ue.autobiny,bingroup:rt({},Ue.bingroup,{}),xbingroup:rt({},Ue.bingroup,{}),ybingroup:rt({},Ue.bingroup,{}),xgap:$e.xgap,ygap:$e.ygap,zsmooth:$e.zsmooth,zhoverformat:$e.zhoverformat,hovertemplate:et({},{keys:"z"}),showlegend:rt({},Qe.showlegend,{dflt:!1})},tt("",{cLetter:"z",autoColorDflt:!1}))},"159b":function(Ee,ze,Be){var Ue=Be("da84"),We=Be("fdbc"),$e=Be("17c2"),Qe=Be("9112");for(var et in We){var tt=Ue[et],rt=tt&&tt.prototype;if(rt&&rt.forEach!==$e)try{Qe(rt,"forEach",$e)}catch(Ee){rt.forEach=$e}}},"15dd":function(Ee,ze,Be){"use strict";Ee.exports=function axesProperties(Ee,ze,Be,tt,at){var it=ze.model||rt,xt=ze.view||rt,kt=ze.projection||rt,Lt=ze._ortho||!1,Ut=Ee.bounds,er=(at=at||$e(it,xt,kt,Ut,Lt)).axis;Qe(nt,xt,it),Qe(nt,kt,nt);for(var tr=ct,rr=0;rr<3;++rr)tr[rr].lo=1/0,tr[rr].hi=-1/0,tr[rr].pixelsPerDataUnit=1/0;var ar=Ue(et(nt,nt));et(nt,nt);for(var Lr=0;Lr<3;++Lr){var Qr=(Lr+1)%3,on=(Lr+2)%3,sn=ft;e:for(rr=0;rr<2;++rr){var ln=[];if(er[Lr]<0!=!!rr){sn[Lr]=Ut[rr][Lr];for(var cn=0;cn<2;++cn){sn[Qr]=Ut[cn^rr][Qr];for(var un=0;un<2;++un)sn[on]=Ut[un^cn^rr][on],ln.push(sn.slice())}var hn=Lt?5:4;for(cn=hn;cn===hn;++cn){if(0===ln.length)continue e;ln=We.positive(ln,ar[cn])}for(cn=0;cn<ln.length;++cn){on=ln[cn];var dn=gradient(ft,nt,on,Be,tt);for(un=0;un<3;++un)tr[un].lo=Math.min(tr[un].lo,on[un]),tr[un].hi=Math.max(tr[un].hi,on[un]),un!==Lr&&(tr[un].pixelsPerDataUnit=Math.min(tr[un].pixelsPerDataUnit,Math.abs(dn[un])))}}}}return tr};var Ue=Be("4ffa"),We=Be("1767"),$e=Be("a4f3"),Qe=Be("1417"),et=Be("ed2e"),tt=Be("6259"),rt=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),nt=new Float32Array(16);function AxesRange3D(Ee,ze,Be){this.lo=Ee,this.hi=ze,this.pixelsPerDataUnit=Be}var at=[0,0,0,1],it=[0,0,0,1];function gradient(Ee,ze,Be,Ue,We){for(var $e=0;$e<3;++$e){for(var Qe=at,et=it,rt=0;rt<3;++rt)et[rt]=Qe[rt]=Be[rt];et[3]=Qe[3]=1,et[$e]+=1,tt(et,et,ze),et[3]<0&&(Ee[$e]=1/0),Qe[$e]-=1,tt(Qe,Qe,ze),Qe[3]<0&&(Ee[$e]=1/0);var nt=(Qe[0]/Qe[3]-et[0]/et[3])*Ue,ct=(Qe[1]/Qe[3]-et[1]/et[3])*We;Ee[$e]=.25*Math.sqrt(nt*nt+ct*ct)}return Ee}var ct=[new AxesRange3D(1/0,-1/0,1/0),new AxesRange3D(1/0,-1/0,1/0),new AxesRange3D(1/0,-1/0,1/0)],ft=[0,0,0]},1676:function(Ee,ze,Be){"use strict";var Ue=Be("f9d8"),We=Be("7388"),$e=["xyz","xzy","yxz","yzx","zxy","zyx"],createTubes=function(Ee,ze,Be,$e){for(var Qe=0,et=0;et<Ee.length;et++)for(var tt=Ee[et].velocities,rt=0;rt<tt.length;rt++)Qe=Math.max(Qe,Ue.length(tt[rt]));var nt=Ee.map((function(Ee){return function(Ee,ze,Be,$e){for(var Qe=Ee.points,et=Ee.velocities,tt=Ee.divergences,rt=[],nt=[],at=[],it=[],ct=[],ft=[],xt=0,kt=0,Lt=We.create(),Ut=We.create(),er=0;er<Qe.length;er++){var tr=Qe[er],rr=et[er],ar=tt[er];0===ze&&(ar=.05*Be),kt=Ue.length(rr)/$e,Lt=We.create(),Ue.copy(Lt,rr),Lt[3]=ar;for(var Lr=0;Lr<8;Lr++)ct[Lr]=[tr[0],tr[1],tr[2],Lr];if(it.length>0)for(Lr=0;Lr<8;Lr++){var Qr=(Lr+1)%8;rt.push(it[Lr],ct[Lr],ct[Qr],ct[Qr],it[Qr],it[Lr]),at.push(Ut,Lt,Lt,Lt,Ut,Ut),ft.push(xt,kt,kt,kt,xt,xt);var on=rt.length;nt.push([on-6,on-5,on-4],[on-3,on-2,on-1])}var sn=it;it=ct,ct=sn;var ln=Ut;Ut=Lt,Lt=ln;var cn=xt;xt=kt,kt=cn}return{positions:rt,cells:nt,vectors:at,vertexIntensity:ft}}(Ee,Be,$e,Qe)})),at=[],it=[],ct=[],ft=[];for(et=0;et<nt.length;et++){var xt=nt[et],kt=at.length;at=at.concat(xt.positions),ct=ct.concat(xt.vectors),ft=ft.concat(xt.vertexIntensity);for(rt=0;rt<xt.cells.length;rt++){var Lt=xt.cells[rt],Ut=[];it.push(Ut);for(var er=0;er<Lt.length;er++)Ut.push(Lt[er]+kt)}}return{positions:at,cells:it,vectors:ct,vertexIntensity:ft,colormap:ze}},findLastSmallerIndex=function(Ee,ze){var Be,Ue=Ee.length;for(Be=0;Be<Ue;Be++){var We=Ee[Be];if(We===ze)return Be;if(We>ze)return Be-1}return Be},clamp=function(Ee,ze,Be){return Ee<ze?ze:Ee>Be?Be:Ee},findMinSeparation=function(Ee){var ze=1/0;Ee.sort((function(Ee,ze){return Ee-ze}));for(var Be=Ee.length,Ue=1;Ue<Be;Ue++){var We=Math.abs(Ee[Ue]-Ee[Ue-1]);We<ze&&(ze=We)}return ze};Ee.exports=function(Ee,ze){var Be=Ee.startingPositions,We=Ee.maxLength||1e3,Qe=Ee.tubeSize||1,et=Ee.absoluteTubeSize,tt=Ee.gridFill||"+x+y+z",rt={};-1!==tt.indexOf("-x")&&(rt.reversedX=!0),-1!==tt.indexOf("-y")&&(rt.reversedY=!0),-1!==tt.indexOf("-z")&&(rt.reversedZ=!0),rt.filled=$e.indexOf(tt.replace(/-/g,"").replace(/\+/g,""));var nt=Ee.getVelocity||function(ze){return function(Ee,ze,Be){var We=ze.vectors,$e=ze.meshgrid,Qe=Ee[0],et=Ee[1],tt=Ee[2],rt=$e[0].length,nt=$e[1].length,at=$e[2].length,it=findLastSmallerIndex($e[0],Qe),ct=findLastSmallerIndex($e[1],et),ft=findLastSmallerIndex($e[2],tt),xt=it+1,kt=ct+1,Lt=ft+1;if(it=clamp(it,0,rt-1),xt=clamp(xt,0,rt-1),ct=clamp(ct,0,nt-1),kt=clamp(kt,0,nt-1),ft=clamp(ft,0,at-1),Lt=clamp(Lt,0,at-1),it<0||ct<0||ft<0||xt>rt-1||kt>nt-1||Lt>at-1)return Ue.create();var Ut,er,tr,rr,ar,Lr,Qr=$e[0][it],on=$e[0][xt],sn=$e[1][ct],ln=$e[1][kt],cn=$e[2][ft],un=(Qe-Qr)/(on-Qr),hn=(et-sn)/(ln-sn),dn=(tt-cn)/($e[2][Lt]-cn);switch(isFinite(un)||(un=.5),isFinite(hn)||(hn=.5),isFinite(dn)||(dn=.5),Be.reversedX&&(it=rt-1-it,xt=rt-1-xt),Be.reversedY&&(ct=nt-1-ct,kt=nt-1-kt),Be.reversedZ&&(ft=at-1-ft,Lt=at-1-Lt),Be.filled){case 5:ar=ft,Lr=Lt,tr=ct*at,rr=kt*at,Ut=it*at*nt,er=xt*at*nt;break;case 4:ar=ft,Lr=Lt,Ut=it*at,er=xt*at,tr=ct*at*rt,rr=kt*at*rt;break;case 3:tr=ct,rr=kt,ar=ft*nt,Lr=Lt*nt,Ut=it*nt*at,er=xt*nt*at;break;case 2:tr=ct,rr=kt,Ut=it*nt,er=xt*nt,ar=ft*nt*rt,Lr=Lt*nt*rt;break;case 1:Ut=it,er=xt,ar=ft*rt,Lr=Lt*rt,tr=ct*rt*at,rr=kt*rt*at;break;default:Ut=it,er=xt,tr=ct*rt,rr=kt*rt,ar=ft*rt*nt,Lr=Lt*rt*nt}var vn=We[Ut+tr+ar],yn=We[Ut+tr+Lr],_n=We[Ut+rr+ar],Mn=We[Ut+rr+Lr],Cn=We[er+tr+ar],En=We[er+tr+Lr],Pn=We[er+rr+ar],In=We[er+rr+Lr],Bn=Ue.create(),Hn=Ue.create(),Kn=Ue.create(),Jn=Ue.create();Ue.lerp(Bn,vn,Cn,un),Ue.lerp(Hn,yn,En,un),Ue.lerp(Kn,_n,Pn,un),Ue.lerp(Jn,Mn,In,un);var Ma=Ue.create(),Sa=Ue.create();Ue.lerp(Ma,Bn,Kn,hn),Ue.lerp(Sa,Hn,Jn,hn);var La=Ue.create();return Ue.lerp(La,Ma,Sa,dn),La}(ze,Ee,rt)},at=Ee.getDivergence||function(Ee,ze){var Be=Ue.create(),We=1e-4;Ue.add(Be,Ee,[We,0,0]);var $e=nt(Be);Ue.subtract($e,$e,ze),Ue.scale($e,$e,1/We),Ue.add(Be,Ee,[0,We,0]);var Qe=nt(Be);Ue.subtract(Qe,Qe,ze),Ue.scale(Qe,Qe,1/We),Ue.add(Be,Ee,[0,0,We]);var et=nt(Be);return Ue.subtract(et,et,ze),Ue.scale(et,et,1/We),Ue.add(Be,$e,Qe),Ue.add(Be,Be,et),Be},it=[],ct=ze[0][0],ft=ze[0][1],xt=ze[0][2],kt=ze[1][0],Lt=ze[1][1],Ut=ze[1][2],inBounds=function(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2];return!(ze<ct||ze>kt||Be<ft||Be>Lt||Ue<xt||Ue>Ut)},er=10*Ue.distance(ze[0],ze[1])/We,tr=er*er,rr=1,ar=0,Lr=Be.length;Lr>1&&(rr=function(Ee){for(var ze=[],Be=[],Ue=[],We={},$e={},Qe={},et=Ee.length,tt=0;tt<et;tt++){var rt=Ee[tt],nt=rt[0],at=rt[1],it=rt[2];We[nt]||(ze.push(nt),We[nt]=!0),$e[at]||(Be.push(at),$e[at]=!0),Qe[it]||(Ue.push(it),Qe[it]=!0)}var ct=findMinSeparation(ze),ft=findMinSeparation(Be),xt=findMinSeparation(Ue),kt=Math.min(ct,ft,xt);return isFinite(kt)?kt:1}(Be));for(var Qr=0;Qr<Lr;Qr++){var on=Ue.create();Ue.copy(on,Be[Qr]);var sn=[on],ln=[],cn=nt(on),un=on;ln.push(cn);var hn=[],dn=at(on,cn),vn=Ue.length(dn);isFinite(vn)&&vn>ar&&(ar=vn),hn.push(vn),it.push({points:sn,velocities:ln,divergences:hn});for(var yn=0;yn<100*We&&sn.length<We&&inBounds(on);){yn++;var _n=Ue.clone(cn),Mn=Ue.squaredLength(_n);if(0===Mn)break;if(Mn>tr&&Ue.scale(_n,_n,er/Math.sqrt(Mn)),Ue.add(_n,_n,on),cn=nt(_n),Ue.squaredDistance(un,_n)-tr>-1e-4*tr){sn.push(_n),un=_n,ln.push(cn);dn=at(_n,cn),vn=Ue.length(dn);isFinite(vn)&&vn>ar&&(ar=vn),hn.push(vn)}on=_n}}var Cn=createTubes(it,Ee.colormap,ar,rr);return et?Cn.tubeScale=et:(0===ar&&(ar=1),Cn.tubeScale=.5*Qe*rr/ar),Cn};var Qe=Be("aee4"),et=Be("2969").createMesh;Ee.exports.createTubeMesh=function(Ee,ze){return et(Ee,ze,{shaders:Qe,traceType:"streamtube"})}},"16ef":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("7c39"),layoutAttributes:Be("36fc"),supplyDefaults:Be("49d8"),crossTraceDefaults:Be("abc9").crossTraceDefaults,supplyLayoutDefaults:Be("870c"),calc:Be("b8c0"),crossTraceCalc:Be("e9d4"),plot:Be("8298"),style:Be("c451"),styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("ca92"),selectPoints:Be("71b1"),moduleType:"trace",name:"violin",basePlotModule:Be("91cd"),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},1729:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115");Ee.exports=function handleAnnotationCommonDefaults(Ee,ze,Be,$e){$e("opacity");var Qe=$e("bgcolor"),et=$e("bordercolor"),tt=We.opacity(et);$e("borderpad");var rt=$e("borderwidth"),nt=$e("showarrow");if($e("text",nt?" ":Be._dfltTitle.annotation),$e("textangle"),Ue.coerceFont($e,"font",Be.font),$e("width"),$e("align"),$e("height")&&$e("valign"),nt){var at,it,ct=$e("arrowside");-1!==ct.indexOf("end")&&(at=$e("arrowhead"),it=$e("arrowsize")),-1!==ct.indexOf("start")&&($e("startarrowhead",at),$e("startarrowsize",it)),$e("arrowcolor",tt?ze.bordercolor:We.defaultLine),$e("arrowwidth",2*(tt&&rt||1)),$e("standoff"),$e("startstandoff")}var ft=$e("hovertext"),xt=Be.hoverlabel||{};if(ft){var kt=$e("hoverlabel.bgcolor",xt.bgcolor||(We.opacity(Qe)?We.rgb(Qe):We.defaultLine)),Lt=$e("hoverlabel.bordercolor",xt.bordercolor||We.contrast(kt));Ue.coerceFont($e,"hoverlabel.font",{family:xt.font.family,size:xt.font.size,color:xt.font.color||Lt})}$e("captureevents",!!ft)}},1735:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("02ea"),supplyDefaults:Be("2ff0"),colorbar:{min:"cmin",max:"cmax"},calc:Be("0054"),plot:Be("baab"),moduleType:"trace",name:"surface",basePlotModule:Be("134c"),categories:["gl3d","2dMap","showLegend"],meta:{}}},"175e":function(Ee,ze,Be){"use strict";Ee.exports=function unique(Ee,ze,Be){return 0===Ee.length?Ee:ze?(Be||Ee.sort(ze),function unique_pred(Ee,ze){for(var Be=1,Ue=Ee.length,We=Ee[0],$e=Ee[0],Qe=1;Qe<Ue;++Qe)if($e=We,ze(We=Ee[Qe],$e)){if(Qe===Be){Be++;continue}Ee[Be++]=We}return Ee.length=Be,Ee}(Ee,ze)):(Be||Ee.sort(),function unique_eq(Ee){for(var ze=1,Be=Ee.length,Ue=Ee[0],We=Ee[0],$e=1;$e<Be;++$e,We=Ue)if(We=Ue,(Ue=Ee[$e])!==We){if($e===ze){ze++;continue}Ee[ze++]=Ue}return Ee.length=ze,Ee}(Ee))}},1767:function(Ee,ze,Be){"use strict";var Ue=Be("cbeb"),We=Be("a026");function planeT(Ee,ze){var Be=We(Ue(Ee,ze),[ze[ze.length-1]]);return Be[Be.length-1]}function lerpW(Ee,ze,Be,Ue){var We=-ze/(Ue-ze);We<0?We=0:We>1&&(We=1);for(var $e=1-We,Qe=Ee.length,et=new Array(Qe),tt=0;tt<Qe;++tt)et[tt]=We*Ee[tt]+$e*Be[tt];return et}Ee.exports=function splitPolygon(Ee,ze){for(var Be=[],Ue=[],We=planeT(Ee[Ee.length-1],ze),$e=Ee[Ee.length-1],Qe=Ee[0],et=0;et<Ee.length;++et,$e=Qe){var tt=planeT(Qe=Ee[et],ze);if(We<0&&tt>0||We>0&&tt<0){var rt=lerpW($e,tt,Qe,We);Be.push(rt),Ue.push(rt.slice())}tt<0?Ue.push(Qe.slice()):tt>0?Be.push(Qe.slice()):(Be.push(Qe.slice()),Ue.push(Qe.slice())),We=tt}return{positive:Be,negative:Ue}},Ee.exports.positive=function positive(Ee,ze){for(var Be=[],Ue=planeT(Ee[Ee.length-1],ze),We=Ee[Ee.length-1],$e=Ee[0],Qe=0;Qe<Ee.length;++Qe,We=$e){var et=planeT($e=Ee[Qe],ze);(Ue<0&&et>0||Ue>0&&et<0)&&Be.push(lerpW(We,et,$e,Ue)),et>=0&&Be.push($e.slice()),Ue=et}return Be},Ee.exports.negative=function negative(Ee,ze){for(var Be=[],Ue=planeT(Ee[Ee.length-1],ze),We=Ee[Ee.length-1],$e=Ee[0],Qe=0;Qe<Ee.length;++Qe,We=$e){var et=planeT($e=Ee[Qe],ze);(Ue<0&&et>0||Ue>0&&et<0)&&Be.push(lerpW(We,et,$e,Ue)),et<=0&&Be.push($e.slice()),Ue=et}return Be}},1793:function(Ee,ze,Be){"use strict";var Ue=Be("6321"),We=/^\s*class[\s{/}]/,$e=Function.prototype.toString;Ee.exports=function(Ee){return!!Ue(Ee)&&!We.test($e.call(Ee))}},"17c2":function(Ee,ze,Be){"use strict";var Ue=Be("b727").forEach,We=Be("a640"),$e=Be("ae40"),Qe=We("forEach"),et=$e("forEach");Ee.exports=Qe&&et?[].forEach:function forEach(Ee){return Ue(this,Ee,arguments.length>1?arguments[1]:void 0)}},"182a":function(Ee,ze,Be){"use strict";var Ue=Be("ad62").getModuleCalcData,We=Be("26dd");ze.name="table",ze.plot=function(Ee){var ze=Ue(Ee.calcdata,"table")[0];ze.length&&We(Ee,ze)},ze.clean=function(Ee,ze,Be,Ue){var We=Ue._has&&Ue._has("table"),$e=ze._has&&ze._has("table");We&&!$e&&Ue._paperdiv.selectAll(".table").remove()}},1876:function(Ee,ze,Be){"use strict";var Ue=Be("2441"),We=Be("371e"),$e=Be("d115"),Qe=Be("a5c4"),et=Be("fc26"),tt=Be("b68b"),rt=Be("7df2"),nt=Be("c4c7").makeEventData,at=Be("3c1c").getFromId,it=Be("821b"),ct=Be("a392").redrawReglTraces,ft=Be("d301"),xt=ft.MINSELECT,kt=tt.filter,Lt=tt.tester;function getAxId(Ee){return Ee._id}function selectOnClick(Ee,ze,Be,Ue,We,$e,Qe){var et,tt,rt,nt,at,it,ct,ft,xt,kt=ze._hoverdata,Lt=ze._fullLayout.clickmode.indexOf("event")>-1,Ut=[];if(function isHoverDataSet(Ee){return Ee&&Array.isArray(Ee)&&!0!==Ee[0].hoverOnBox}(kt)){coerceSelectionsCache(Ee,ze,$e);var er=function extractClickedPtInfo(Ee,ze){var Be,Ue,We=Ee[0],$e=-1,Qe=[];for(Ue=0;Ue<ze.length;Ue++)if(Be=ze[Ue],We.fullData._expandedIndex===Be.cd[0].trace._expandedIndex){if(!0===We.hoverOnBox)break;void 0!==We.pointNumber?$e=We.pointNumber:void 0!==We.binNumber&&($e=We.binNumber,Qe=We.pointNumbers);break}return{pointNumber:$e,pointNumbers:Qe,searchInfo:Be}}(kt,et=determineSearchTraces(ze,Be,Ue,We));if(er.pointNumbers.length>0?function isOnlyThisBinSelected(Ee,ze){var Be,Ue,We,$e=[];for(We=0;We<Ee.length;We++)(Be=Ee[We]).cd[0].trace.selectedpoints&&Be.cd[0].trace.selectedpoints.length>0&&$e.push(Be);if(1===$e.length&&$e[0]===ze.searchInfo&&(Ue=ze.searchInfo.cd[0].trace).selectedpoints.length===ze.pointNumbers.length){for(We=0;We<ze.pointNumbers.length;We++)if(Ue.selectedpoints.indexOf(ze.pointNumbers[We])<0)return!1;return!0}return!1}(et,er):function isOnlyOnePointSelected(Ee){var ze,Be,Ue,We=0;for(Ue=0;Ue<Ee.length;Ue++)if(ze=Ee[Ue],(Be=ze.cd[0].trace).selectedpoints){if(Be.selectedpoints.length>1)return!1;if((We+=Be.selectedpoints.length)>1)return!1}return 1===We}(et)&&(it=isPointOrBinSelected(er))){for(Qe&&Qe.remove(),xt=0;xt<et.length;xt++)(tt=et[xt])._module.selectPoints(tt,!1);updateSelectedState(ze,et),clearSelectionsCache($e),Lt&&ze.emit("plotly_deselect",null)}else{for(ct=Ee.shiftKey&&(void 0!==it?it:isPointOrBinSelected(er)),rt=function newPointSelectionDef(Ee,ze,Be){return{pointNumber:Ee,searchInfo:ze,subtract:Be}}(er.pointNumber,er.searchInfo,ct),nt=multiTester($e.selectionDefs.concat([rt])),xt=0;xt<et.length;xt++)if(at=fillSelectionItem(et[xt]._module.selectPoints(et[xt],nt),et[xt]),Ut.length)for(var tr=0;tr<at.length;tr++)Ut.push(at[tr]);else Ut=at;updateSelectedState(ze,et,ft={points:Ut}),rt&&$e&&$e.selectionDefs.push(rt),Qe&&drawSelection($e.mergedPolygons,Qe),Lt&&ze.emit("plotly_selected",ft)}}}function isPointSelectionDef(Ee){return"pointNumber"in Ee&&"searchInfo"in Ee}function newPointNumTester(Ee){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ze,Be,Ue,We){var $e=Ee.searchInfo.cd[0].trace._expandedIndex;return We.cd[0].trace._expandedIndex===$e&&Ue===Ee.pointNumber},isRect:!1,degenerate:!1,subtract:Ee.subtract}}function multiTester(Ee){for(var ze=[],Be=isPointSelectionDef(Ee[0])?0:Ee[0][0][0],Ue=Be,We=isPointSelectionDef(Ee[0])?0:Ee[0][0][1],$e=We,Qe=0;Qe<Ee.length;Qe++)if(isPointSelectionDef(Ee[Qe]))ze.push(newPointNumTester(Ee[Qe]));else{var et=tt.tester(Ee[Qe]);et.subtract=Ee[Qe].subtract,ze.push(et),Be=Math.min(Be,et.xmin),Ue=Math.max(Ue,et.xmax),We=Math.min(We,et.ymin),$e=Math.max($e,et.ymax)}return{xmin:Be,xmax:Ue,ymin:We,ymax:$e,pts:[],contains:function contains(Ee,Be,Ue,We){for(var $e=!1,Qe=0;Qe<ze.length;Qe++)ze[Qe].contains(Ee,Be,Ue,We)&&($e=!1===ze[Qe].subtract);return $e},isRect:!1,degenerate:!1}}function coerceSelectionsCache(Ee,ze,Be){var Ue=ze._fullLayout,We=Be.plotinfo,$e=Ue._lastSelectedSubplot&&Ue._lastSelectedSubplot===We.id,Qe=Ee.shiftKey||Ee.altKey;$e&&Qe&&We.selection&&We.selection.selectionDefs&&!Be.selectionDefs?(Be.selectionDefs=We.selection.selectionDefs,Be.mergedPolygons=We.selection.mergedPolygons):Qe&&We.selection||clearSelectionsCache(Be),$e||(clearSelect(ze),Ue._lastSelectedSubplot=We.id)}function clearSelectionsCache(Ee){var ze=Ee.plotinfo;ze.selection={},ze.selection.selectionDefs=Ee.selectionDefs=[],ze.selection.mergedPolygons=Ee.mergedPolygons=[]}function determineSearchTraces(Ee,ze,Be,Ue){var We,$e,Qe,et=[],tt=ze.map(getAxId),rt=Be.map(getAxId);for(Qe=0;Qe<Ee.calcdata.length;Qe++)if(!0===($e=(We=Ee.calcdata[Qe])[0].trace).visible&&$e._module&&$e._module.selectPoints)if(!Ue||$e.subplot!==Ue&&$e.geo!==Ue)if("splom"===$e.type&&$e._xaxes[tt[0]]&&$e._yaxes[rt[0]]){var nt=createSearchInfo($e._module,We,ze[0],Be[0]);nt.scene=Ee._fullLayout._splomScenes[$e.uid],et.push(nt)}else if("sankey"===$e.type){var it=createSearchInfo($e._module,We,ze[0],Be[0]);et.push(it)}else{if(-1===tt.indexOf($e.xaxis))continue;if(-1===rt.indexOf($e.yaxis))continue;et.push(createSearchInfo($e._module,We,at(Ee,$e.xaxis),at(Ee,$e.yaxis)))}else et.push(createSearchInfo($e._module,We,ze[0],Be[0]));return et;function createSearchInfo(Ee,ze,Be,Ue){return{_module:Ee,cd:ze,xaxis:Be,yaxis:Ue}}}function drawSelection(Ee,ze){var Be,Ue,We=[];for(Be=0;Be<Ee.length;Be++){var $e=Ee[Be];We.push($e.join("L")+"L"+$e[0])}Ue=Ee.length>0?"M"+We.join("M")+"Z":"M0,0Z",ze.attr("d",Ue)}function isPointOrBinSelected(Ee){var ze=Ee.searchInfo.cd[0].trace,Be=Ee.pointNumber,Ue=Ee.pointNumbers,We=Ue.length>0?Ue[0]:Be;return!!ze.selectedpoints&&ze.selectedpoints.indexOf(We)>-1}function updateSelectedState(Ee,ze,Be){var Ue,$e,Qe,et;for(Ue=0;Ue<ze.length;Ue++){var tt=ze[Ue].cd[0].trace._fullInput,rt=Ee._fullLayout._tracePreGUI[tt.uid]||{};void 0===rt.selectedpoints&&(rt.selectedpoints=tt._input.selectedpoints||null)}if(Be){var nt=Be.points||[];for(Ue=0;Ue<ze.length;Ue++)(et=ze[Ue].cd[0].trace)._input.selectedpoints=et._fullInput.selectedpoints=[],et._fullInput!==et&&(et.selectedpoints=[]);for(Ue=0;Ue<nt.length;Ue++){var at=nt[Ue],ft=at.data,xt=at.fullData;at.pointIndices?([].push.apply(ft.selectedpoints,at.pointIndices),et._fullInput!==et&&[].push.apply(xt.selectedpoints,at.pointIndices)):(ft.selectedpoints.push(at.pointIndex),et._fullInput!==et&&xt.selectedpoints.push(at.pointIndex))}}else for(Ue=0;Ue<ze.length;Ue++)delete(et=ze[Ue].cd[0].trace).selectedpoints,delete et._input.selectedpoints,et._fullInput!==et&&delete et._fullInput.selectedpoints;var kt=!1;for(Ue=0;Ue<ze.length;Ue++){et=(Qe=($e=ze[Ue]).cd)[0].trace,We.traceIs(et,"regl")&&(kt=!0);var Lt=$e._module,Ut=Lt.styleOnSelect||Lt.style;Ut&&(Ut(Ee,Qe,Qe[0].node3),Qe[0].nodeRangePlot3&&Ut(Ee,Qe,Qe[0].nodeRangePlot3))}kt&&(it(Ee),ct(Ee))}function fillSelectionItem(Ee,ze){if(Array.isArray(Ee))for(var Be=ze.cd,Ue=ze.cd[0].trace,We=0;We<Ee.length;We++)Ee[We]=nt(Ee[We],Ue,Be);return Ee}function clearSelect(Ee){var ze=(Ee._fullLayout||{})._zoomlayer;ze&&ze.selectAll(".select-outline").remove()}Ee.exports={prepSelect:function prepSelect(Ee,ze,Be,We,tt){var nt,at,it,ct,Ut,er,tr,rr=We.gd,ar=rr._fullLayout,Lr=ar._zoomlayer,Qr=We.element.getBoundingClientRect(),on=We.plotinfo,sn=on.xaxis._offset,ln=on.yaxis._offset,cn=ze-Qr.left,un=Be-Qr.top,hn=cn,dn=un,vn="M"+cn+","+un,yn=We.xaxes[0]._length,_n=We.yaxes[0]._length,Mn=We.xaxes.concat(We.yaxes),Cn=Ee.altKey;coerceSelectionsCache(Ee,rr,We),"lasso"===tt&&(nt=kt([[cn,un]],ft.BENDPX));var En=Lr.selectAll("path.select-outline-"+on.id).data([1,2]);En.enter().append("path").attr("class",(function(Ee){return"select-outline select-outline-"+Ee+" select-outline-"+on.id})).attr("transform","translate("+sn+", "+ln+")").attr("d",vn+"Z");var Pn,In=Lr.append("path").attr("class","zoombox-corners").style({fill:$e.background,stroke:$e.defaultLine,"stroke-width":1}).attr("transform","translate("+sn+", "+ln+")").attr("d","M0,0Z"),Bn=ar._uid+ft.SELECTID,Hn=[],Kn=determineSearchTraces(rr,We.xaxes,We.yaxes,We.subplot);function p2r(Ee,ze){return"log"===Ee.type?Ee.p2d(ze):Ee.p2r(ze)}function axValue(Ee){var ze="y"===Ee._id.charAt(0)?1:0;return function(Be){return p2r(Ee,Be[ze])}}function ascending(Ee,ze){return Ee-ze}Pn=on.fillRangeItems?on.fillRangeItems:"select"===tt?function(Ee,ze){var Be=Ee.range={};for(Ut=0;Ut<Mn.length;Ut++){var Ue=Mn[Ut],We=Ue._id.charAt(0);Be[Ue._id]=[p2r(Ue,ze[We+"min"]),p2r(Ue,ze[We+"max"])].sort(ascending)}}:function(Ee,ze,Be){var Ue=Ee.lassoPoints={};for(Ut=0;Ut<Mn.length;Ut++){var We=Mn[Ut];Ue[We._id]=Be.filtered.map(axValue(We))}},We.moveFn=function(Ee,ze){hn=Math.max(0,Math.min(yn,Ee+cn)),dn=Math.max(0,Math.min(_n,ze+un));var Be=Math.abs(hn-cn),$e=Math.abs(dn-un);if("select"===tt){var Qe=ar.selectdirection;"h"===(Qe="any"===ar.selectdirection?$e<Math.min(.6*Be,xt)?"h":Be<Math.min(.6*$e,xt)?"v":"d":ar.selectdirection)?((ct=[[cn,0],[cn,_n],[hn,_n],[hn,0]]).xmin=Math.min(cn,hn),ct.xmax=Math.max(cn,hn),ct.ymin=Math.min(0,_n),ct.ymax=Math.max(0,_n),In.attr("d","M"+ct.xmin+","+(un-xt)+"h-4v"+2*xt+"h4ZM"+(ct.xmax-1)+","+(un-xt)+"h4v"+2*xt+"h-4Z")):"v"===Qe?((ct=[[0,un],[0,dn],[yn,dn],[yn,un]]).xmin=Math.min(0,yn),ct.xmax=Math.max(0,yn),ct.ymin=Math.min(un,dn),ct.ymax=Math.max(un,dn),In.attr("d","M"+(cn-xt)+","+ct.ymin+"v-4h"+2*xt+"v4ZM"+(cn-xt)+","+(ct.ymax-1)+"v4h"+2*xt+"v-4Z")):"d"===Qe&&((ct=[[cn,un],[cn,dn],[hn,dn],[hn,un]]).xmin=Math.min(cn,hn),ct.xmax=Math.max(cn,hn),ct.ymin=Math.min(un,dn),ct.ymax=Math.max(un,dn),In.attr("d","M0,0Z"))}else"lasso"===tt&&(nt.addPt([hn,dn]),ct=nt.filtered);We.selectionDefs&&We.selectionDefs.length?(it=function mergePolygons(Ee,ze,Be){if(Be)return Ue.difference({regions:Ee,inverted:!1},{regions:[ze],inverted:!1}).regions;return Ue.union({regions:Ee,inverted:!1},{regions:[ze],inverted:!1}).regions}(We.mergedPolygons,ct,Cn),ct.subtract=Cn,at=multiTester(We.selectionDefs.concat([ct]))):(it=[ct],at=Lt(ct)),drawSelection(it,En),rt.throttle(Bn,ft.SELECTDELAY,(function(){var Ee;Hn=[];var ze,Be=[];for(Ut=0;Ut<Kn.length;Ut++)if(ze=(er=Kn[Ut])._module.selectPoints(er,at),Be.push(ze),Ee=fillSelectionItem(ze,er),Hn.length)for(var Ue=0;Ue<Ee.length;Ue++)Hn.push(Ee[Ue]);else Hn=Ee;updateSelectedState(rr,Kn,tr={points:Hn}),Pn(tr,ct,nt),We.gd.emit("plotly_selecting",tr)}))},We.clickFn=function(Ee,ze){var Be=ar.clickmode;In.remove(),rt.done(Bn).then((function(){if(rt.clear(Bn),2===Ee){for(En.remove(),Ut=0;Ut<Kn.length;Ut++)(er=Kn[Ut])._module.selectPoints(er,!1);updateSelectedState(rr,Kn),clearSelectionsCache(We),rr.emit("plotly_deselect",null)}else Be.indexOf("select")>-1&&selectOnClick(ze,rr,We.xaxes,We.yaxes,We.subplot,We,En),"event"===Be&&rr.emit("plotly_selected",void 0);Qe.click(rr,ze)})).catch(et.error)},We.doneFn=function(){In.remove(),rt.done(Bn).then((function(){rt.clear(Bn),We.gd.emit("plotly_selected",tr),ct&&We.selectionDefs&&(ct.subtract=Cn,We.selectionDefs.push(ct),We.mergedPolygons.length=0,[].push.apply(We.mergedPolygons,it)),We.doneFnCompleted&&We.doneFnCompleted(Hn)})).catch(et.error)}},clearSelect:clearSelect,selectOnClick:selectOnClick}},"18a2":function(Ee,ze,Be){"use strict";var Ue=Be("2195");Ee.exports=function div(Ee,ze){return Ue(Ee[0].mul(ze[1]),Ee[1].mul(ze[0]))}},"18bb":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("1c82"),$e=Be("81f0").defaults,Qe=Be("a651"),et=Be("e5ac"),tt=Be("49b4"),rt=Be("d92f"),nt=Be("27e3"),at=Be("5008");function stepDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We.gauge.steps,Be,$e)}coerce("color"),coerce("line.color"),coerce("line.width"),coerce("range"),coerce("thickness")}Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,it){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}$e(ze,it,coerce),coerce("mode"),ze._hasNumber=-1!==ze.mode.indexOf("number"),ze._hasDelta=-1!==ze.mode.indexOf("delta"),ze._hasGauge=-1!==ze.mode.indexOf("gauge");var ct=coerce("value");ze._range=[0,"number"==typeof ct?1.5*ct:1];var ft,xt,kt,Lt,Ut,er,tr=new Array(2);function coerceGauge(Ee,ze){return Ue.coerce(kt,Lt,We.gauge,Ee,ze)}function coerceGaugeAxis(Ee,ze){return Ue.coerce(Ut,er,We.gauge.axis,Ee,ze)}if(ze._hasNumber&&(coerce("number.valueformat"),coerce("number.font.color",it.font.color),coerce("number.font.family",it.font.family),coerce("number.font.size"),void 0===ze.number.font.size&&(ze.number.font.size=tt.defaultNumberFontSize,tr[0]=!0),coerce("number.prefix"),coerce("number.suffix"),ft=ze.number.font.size),ze._hasDelta&&(coerce("delta.font.color",it.font.color),coerce("delta.font.family",it.font.family),coerce("delta.font.size"),void 0===ze.delta.font.size&&(ze.delta.font.size=(ze._hasNumber?.5:1)*(ft||tt.defaultNumberFontSize),tr[1]=!0),coerce("delta.reference",ze.value),coerce("delta.relative"),coerce("delta.valueformat",ze.delta.relative?"2%":""),coerce("delta.increasing.symbol"),coerce("delta.increasing.color"),coerce("delta.decreasing.symbol"),coerce("delta.decreasing.color"),coerce("delta.position"),xt=ze.delta.font.size),ze._scaleNumbers=(!ze._hasNumber||tr[0])&&(!ze._hasDelta||tr[1])||!1,coerce("title.font.color",it.font.color),coerce("title.font.family",it.font.family),coerce("title.font.size",.25*(ft||xt||tt.defaultNumberFontSize)),coerce("title.text"),ze._hasGauge){(kt=Ee.gauge)||(kt={}),Lt=Qe.newContainer(ze,"gauge"),coerceGauge("shape"),(ze._isBullet="bullet"===ze.gauge.shape)||coerce("title.align","center"),(ze._isAngular="angular"===ze.gauge.shape)||coerce("align","center"),coerceGauge("bgcolor",it.paper_bgcolor),coerceGauge("borderwidth"),coerceGauge("bordercolor"),coerceGauge("bar.color"),coerceGauge("bar.line.color"),coerceGauge("bar.line.width"),coerceGauge("bar.thickness",tt.valueThickness*("bullet"===ze.gauge.shape?.5:1)),et(kt,Lt,{name:"steps",handleItemDefaults:stepDefaults}),coerceGauge("threshold.value"),coerceGauge("threshold.thickness"),coerceGauge("threshold.line.width"),coerceGauge("threshold.line.color"),Ut={},kt&&(Ut=kt.axis||{}),er=Qe.newContainer(Lt,"axis"),coerceGaugeAxis("visible"),ze._range=coerceGaugeAxis("range",ze._range);var rr={outerTicks:!0};rt(Ut,er,coerceGaugeAxis,"linear"),at(Ut,er,coerceGaugeAxis,"linear",rr),nt(Ut,er,coerceGaugeAxis,rr)}else coerce("title.align","center"),coerce("align","center"),ze._isAngular=ze._isBullet=!1;ze._length=null}}},"18ec":function(Ee,ze,Be){"use strict";var Ue="razdwatrzy";Ee.exports=function(){return"function"==typeof Ue.contains&&(!0===Ue.contains("dwa")&&!1===Ue.contains("foo"))}},"191c":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de69"),$e=Be("de81"),Qe=Be("5047"),et=Be("59be"),tt=Be("eb07"),rt=Be("e9f7"),nt=Be("3802"),at=Be("ce65");Ee.exports=function supplyDefaults(Ee,ze,Be,it){function coerce(Be,We){return Ue.coerce(Ee,ze,at,Be,We)}var ct,ft=coerce("a"),xt=coerce("b"),kt=coerce("c");if(ft?(ct=ft.length,xt?(ct=Math.min(ct,xt.length),kt&&(ct=Math.min(ct,kt.length))):ct=kt?Math.min(ct,kt.length):0):xt&&kt&&(ct=Math.min(xt.length,kt.length)),ct){ze._length=ct,coerce("sum"),coerce("text"),coerce("hovertext"),"fills"!==ze.hoveron&&coerce("hovertemplate"),coerce("mode",ct<We.PTS_LINESONLY?"lines+markers":"lines"),$e.hasLines(ze)&&(et(Ee,ze,Be,it,coerce),tt(Ee,ze,coerce),coerce("connectgaps")),$e.hasMarkers(ze)&&Qe(Ee,ze,Be,it,coerce,{gradient:!0}),$e.hasText(ze)&&(coerce("texttemplate"),rt(Ee,ze,it,coerce));var Lt=[];($e.hasMarkers(ze)||$e.hasText(ze))&&(coerce("cliponaxis"),coerce("marker.maxdisplayed"),Lt.push("points")),coerce("fill"),"none"!==ze.fill&&(nt(Ee,ze,Be,coerce),$e.hasLines(ze)||tt(Ee,ze,coerce)),"tonext"!==ze.fill&&"toself"!==ze.fill||Lt.push("fills"),coerce("hoveron",Lt.join("+")||"points"),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},1936:function(Ee,ze){Ee.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},1978:function(Ee,ze,Be){"use strict";var Ue=Be("19b2");Ee.exports=function makeBubbleSizeFn(Ee){var ze=Ee.marker,Be=ze.sizeref||1,We=ze.sizemin||0,$e="area"===ze.sizemode?function(Ee){return Math.sqrt(Ee/Be)}:function(Ee){return Ee/Be};return function(Ee){var ze=$e(Ee/2);return Ue(ze)&&ze>0?Math.max(ze,We):0}}},1999:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("bb71"),Qe=Be("371e"),et=Be("fc26"),tt=Be("83d1"),rt=Be("d115"),nt=Be("0379"),at=Be("72a4"),it=Be("63dc").OPPOSITE_SIDE,ct=/ [XY][0-9]* /;Ee.exports={draw:function draw(Ee,ze,Be){var ft,xt=Be.propContainer,kt=Be.propName,Lt=Be.placeholder,Ut=Be.traceIndex,er=Be.avoid||{},tr=Be.attributes,rr=Be.transform,ar=Be.containerGroup,Lr=Ee._fullLayout,Qr=1,on=!1,sn=xt.title,ln=(sn&&sn.text?sn.text:"").trim(),cn=sn&&sn.font?sn.font:{},un=cn.family,hn=cn.size,dn=cn.color;"title.text"===kt?ft="titleText":-1!==kt.indexOf("axis")?ft="axisTitleText":kt.indexOf(!0)&&(ft="colorbarTitleText");var vn=Ee._context.edits[ft];""===ln?Qr=0:ln.replace(ct," % ")===Lt.replace(ct," % ")&&(Qr=.2,on=!0,vn||(ln="")),Be._meta?ln=et.templateString(ln,Be._meta):Lr._meta&&(ln=et.templateString(ln,Lr._meta));var yn=ln||vn;ar||(ar=et.ensureSingle(Lr._infolayer,"g","g-"+ze));var _n=ar.selectAll("text").data(yn?[0]:[]);if(_n.enter().append("text"),_n.text(ln).attr("class",ze),_n.exit().remove(),!yn)return ar;function titleLayout(Ee){et.syncOrAsync([drawTitle,scootTitle],Ee)}function drawTitle(ze){var Be;return rr?(Be="",rr.rotate&&(Be+="rotate("+[rr.rotate,tr.x,tr.y]+")"),rr.offset&&(Be+="translate(0, "+rr.offset+")")):Be=null,ze.attr("transform",Be),ze.style({"font-family":un,"font-size":Ue.round(hn,2)+"px",fill:rt.rgb(dn),opacity:Qr*rt.opacity(dn),"font-weight":$e.fontWeight}).attr(tr).call(nt.convertToTspans,Ee),$e.previousPromises(Ee)}function scootTitle(Ee){var ze=Ue.select(Ee.node().parentNode);if(er&&er.selection&&er.side&&ln){ze.attr("transform",null);var Be=it[er.side],$e="left"===er.side||"top"===er.side?-1:1,Qe=We(er.pad)?er.pad:2,rt=tt.bBox(ze.node()),nt={left:0,top:0,right:Lr.width,bottom:Lr.height},at=er.maxShift||$e*(nt[er.side]-rt[er.side]),ct=0;if(at<0)ct=at;else{var ft=er.offsetLeft||0,xt=er.offsetTop||0;rt.left-=ft,rt.right-=ft,rt.top-=xt,rt.bottom-=xt,er.selection.each((function(){var Ee=tt.bBox(this);et.bBoxIntersect(rt,Ee,Qe)&&(ct=Math.max(ct,$e*(Ee[er.side]-rt[Be])+Qe))})),ct=Math.min(at,ct)}if(ct>0||at<0){var kt={left:[-ct,0],right:[ct,0],top:[0,-ct],bottom:[0,ct]}[er.side];ze.attr("transform","translate("+kt+")")}}}return _n.call(titleLayout),vn&&(ln?_n.on(".opacity",null):function setPlaceholder(){Qr=0,on=!0,_n.text(Lt).on("mouseover.opacity",(function(){Ue.select(this).transition().duration(at.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){Ue.select(this).transition().duration(at.HIDE_PLACEHOLDER).style("opacity",0)}))}(),_n.call(nt.makeEditable,{gd:Ee}).on("edit",(function(ze){void 0!==Ut?Qe.call("_guiRestyle",Ee,kt,ze,Ut):Qe.call("_guiRelayout",Ee,kt,ze)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(titleLayout)})).on("input",(function(Ee){this.text(Ee||" ").call(nt.positionText,tr.x,tr.y)}))),_n.classed("js-placeholder",on),ar}}},"19b2":function(Ee,ze,Be){"use strict";var Ue=Be("e9b4");Ee.exports=function(Ee){var ze=typeof Ee;if("string"===ze){var Be=Ee;if(0===(Ee=+Ee)&&Ue(Be))return!1}else if("number"!==ze)return!1;return Ee-Ee<1}},"19e1":function(Ee,ze,Be){"use strict";var Ue,We,$e,Qe=Be("d3dc").mod;function segmentsIntersect(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=Be-Ee,rt=We-Ee,nt=Qe-We,at=Ue-ze,it=$e-ze,ct=et-$e,ft=tt*ct-nt*at;if(0===ft)return null;var xt=(rt*ct-nt*it)/ft,kt=(rt*at-tt*it)/ft;return kt<0||kt>1||xt<0||xt>1?null:{x:Ee+tt*xt,y:ze+at*xt}}function perpDistance2(Ee,ze,Be,Ue,We){var $e=Ue*Ee+We*ze;if($e<0)return Ue*Ue+We*We;if($e>Be){var Qe=Ue-Ee,et=We-ze;return Qe*Qe+et*et}var tt=Ue*ze-We*Ee;return tt*tt/Be}ze.segmentsIntersect=segmentsIntersect,ze.segmentDistance=function segmentDistance(Ee,ze,Be,Ue,We,$e,Qe,et){if(segmentsIntersect(Ee,ze,Be,Ue,We,$e,Qe,et))return 0;var tt=Be-Ee,rt=Ue-ze,nt=Qe-We,at=et-$e,it=tt*tt+rt*rt,ct=nt*nt+at*at,ft=Math.min(perpDistance2(tt,rt,it,We-Ee,$e-ze),perpDistance2(tt,rt,it,Qe-Ee,et-ze),perpDistance2(nt,at,ct,Ee-We,ze-$e),perpDistance2(nt,at,ct,Be-We,Ue-$e));return Math.sqrt(ft)},ze.getTextLocation=function getTextLocation(Ee,ze,Be,et){if(Ee===We&&et===$e||(Ue={},We=Ee,$e=et),Ue[Be])return Ue[Be];var tt=Ee.getPointAtLength(Qe(Be-et/2,ze)),rt=Ee.getPointAtLength(Qe(Be+et/2,ze)),nt=Math.atan((rt.y-tt.y)/(rt.x-tt.x)),at=Ee.getPointAtLength(Qe(Be,ze)),it={x:(4*at.x+tt.x+rt.x)/6,y:(4*at.y+tt.y+rt.y)/6,theta:nt};return Ue[Be]=it,it},ze.clearLocationCache=function(){We=null},ze.getVisibleSegment=function getVisibleSegment(Ee,ze,Be){var Ue,We,$e=ze.left,Qe=ze.right,et=ze.top,tt=ze.bottom,rt=0,nt=Ee.getTotalLength(),at=nt;function getDistToPlot(ze){var Be=Ee.getPointAtLength(ze);0===ze?Ue=Be:ze===nt&&(We=Be);var rt=Be.x<$e?$e-Be.x:Be.x>Qe?Be.x-Qe:0,at=Be.y<et?et-Be.y:Be.y>tt?Be.y-tt:0;return Math.sqrt(rt*rt+at*at)}for(var it=getDistToPlot(rt);it;){if((rt+=it+Be)>at)return;it=getDistToPlot(rt)}for(it=getDistToPlot(at);it;){if(rt>(at-=it+Be))return;it=getDistToPlot(at)}return{min:rt,max:at,len:at-rt,total:nt,isClosed:0===rt&&at===nt&&Math.abs(Ue.x-We.x)<.1&&Math.abs(Ue.y-We.y)<.1}},ze.findPointOnPath=function findPointOnPath(Ee,ze,Be,Ue){for(var We,$e,Qe,et=(Ue=Ue||{}).pathLength||Ee.getTotalLength(),tt=Ue.tolerance||.001,rt=Ue.iterationLimit||30,nt=Ee.getPointAtLength(0)[Be]>Ee.getPointAtLength(et)[Be]?-1:1,at=0,it=0,ct=et;at<rt;){if(We=(it+ct)/2,Qe=($e=Ee.getPointAtLength(We))[Be]-ze,Math.abs(Qe)<tt)return $e;nt*Qe>0?ct=We:it=We,at++}return $e}},"1a06":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("41e0"),$e=Be("86df"),Qe=Be("d61b"),et=Be("41f8"),tt=Be("43ef");Ee.exports=function supplyDefaults(Ee,ze,Be,rt){function coerce(Be,We){return Ue.coerce(Ee,ze,tt,Be,We)}if(We(Ee,ze,coerce,rt)){coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("hoverongaps");var nt="constraint"===coerce("contours.type");coerce("connectgaps",Ue.isArray1D(ze.z)),nt?$e(Ee,ze,coerce,rt,Be):(Qe(Ee,ze,coerce,(function coerce2(Be){return Ue.coerce2(Ee,ze,tt,Be)})),et(Ee,ze,coerce,rt))}else ze.visible=!1}},"1a3f":function(Ee,ze,Be){"use strict";var Ue=Be("1f25"),We=Be("8ff7"),$e=Be("ca39");Ee.exports=function convexHull(Ee){var ze=Ee.length;if(0===ze)return[];if(1===ze)return[[0]];var Be=Ee[0].length;if(0===Be)return[];if(1===Be)return Ue(Ee);if(2===Be)return We(Ee);return $e(Ee,Be)}},"1a40":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("fc26"),Qe=$e.cleanNumber,et=$e.ms2DateTime,tt=$e.dateTime2ms,rt=$e.ensureNumber,nt=$e.isArrayOrTypedArray,at=Be("e806"),it=at.FP_SAFE,ct=at.BADNUM,ft=at.LOG_CLIP,xt=Be("d301"),kt=Be("3c1c");function fromLog(Ee){return Math.pow(10,Ee)}function isValidCategory(Ee){return null!=Ee}Ee.exports=function setConvert(Ee,ze){ze=ze||{};var Be=Ee._id||"x",at=Be.charAt(0);function toLog(ze,Be){if(ze>0)return Math.log(ze)/Math.LN10;if(ze<=0&&Be&&Ee.range&&2===Ee.range.length){var Ue=Ee.range[0],We=Ee.range[1];return.5*(Ue+We-2*ft*Math.abs(Ue-We))}return ct}function dt2ms(ze,Be,Ue){var Qe=tt(ze,Ue||Ee.calendar);if(Qe===ct){if(!We(ze))return ct;ze=+ze;var et=Math.floor(10*$e.mod(ze+.05,1)),rt=Math.round(ze-et/10);Qe=tt(new Date(rt))+et/10}return Qe}function ms2dt(ze,Be,Ue){return et(ze,Be,Ue||Ee.calendar)}function getCategoryName(ze){return Ee._categories[Math.round(ze)]}function setCategoryIndex(ze){if(isValidCategory(ze)){if(void 0===Ee._categoriesMap&&(Ee._categoriesMap={}),void 0!==Ee._categoriesMap[ze])return Ee._categoriesMap[ze];Ee._categories.push("number"==typeof ze?String(ze):ze);var Be=Ee._categories.length-1;return Ee._categoriesMap[ze]=Be,Be}return ct}function getCategoryIndex(ze){if(Ee._categoriesMap)return Ee._categoriesMap[ze]}function getCategoryPosition(Ee){var ze=getCategoryIndex(Ee);return void 0!==ze?ze:We(Ee)?+Ee:void 0}function l2p(ze){return We(ze)?Ue.round(Ee._b+Ee._m*ze,2):ct}function p2l(ze){return(ze-Ee._b)/Ee._m}Ee.c2l="log"===Ee.type?toLog:rt,Ee.l2c="log"===Ee.type?fromLog:rt,Ee.l2p=l2p,Ee.p2l=p2l,Ee.c2p="log"===Ee.type?function(Ee,ze){return l2p(toLog(Ee,ze))}:l2p,Ee.p2c="log"===Ee.type?function(Ee){return fromLog(p2l(Ee))}:p2l,-1!==["linear","-"].indexOf(Ee.type)?(Ee.d2r=Ee.r2d=Ee.d2c=Ee.r2c=Ee.d2l=Ee.r2l=Qe,Ee.c2d=Ee.c2r=Ee.l2d=Ee.l2r=rt,Ee.d2p=Ee.r2p=function(ze){return Ee.l2p(Qe(ze))},Ee.p2d=Ee.p2r=p2l,Ee.cleanPos=rt):"log"===Ee.type?(Ee.d2r=Ee.d2l=function(Ee,ze){return toLog(Qe(Ee),ze)},Ee.r2d=Ee.r2c=function(Ee){return fromLog(Qe(Ee))},Ee.d2c=Ee.r2l=Qe,Ee.c2d=Ee.l2r=rt,Ee.c2r=toLog,Ee.l2d=fromLog,Ee.d2p=function(ze,Be){return Ee.l2p(Ee.d2r(ze,Be))},Ee.p2d=function(Ee){return fromLog(p2l(Ee))},Ee.r2p=function(ze){return Ee.l2p(Qe(ze))},Ee.p2r=p2l,Ee.cleanPos=rt):"date"===Ee.type?(Ee.d2r=Ee.r2d=$e.identity,Ee.d2c=Ee.r2c=Ee.d2l=Ee.r2l=dt2ms,Ee.c2d=Ee.c2r=Ee.l2d=Ee.l2r=ms2dt,Ee.d2p=Ee.r2p=function(ze,Be,Ue){return Ee.l2p(dt2ms(ze,0,Ue))},Ee.p2d=Ee.p2r=function(Ee,ze,Be){return ms2dt(p2l(Ee),ze,Be)},Ee.cleanPos=function(ze){return $e.cleanDate(ze,ct,Ee.calendar)}):"category"===Ee.type?(Ee.d2c=Ee.d2l=setCategoryIndex,Ee.r2d=Ee.c2d=Ee.l2d=getCategoryName,Ee.d2r=Ee.d2l_noadd=getCategoryPosition,Ee.r2c=function(ze){var Be=getCategoryPosition(ze);return void 0!==Be?Be:Ee.fraction2r(.5)},Ee.l2r=Ee.c2r=rt,Ee.r2l=getCategoryPosition,Ee.d2p=function(ze){return Ee.l2p(Ee.r2c(ze))},Ee.p2d=function(Ee){return getCategoryName(p2l(Ee))},Ee.r2p=Ee.d2p,Ee.p2r=p2l,Ee.cleanPos=function(Ee){return"string"==typeof Ee&&""!==Ee?Ee:rt(Ee)}):"multicategory"===Ee.type&&(Ee.r2d=Ee.c2d=Ee.l2d=getCategoryName,Ee.d2r=Ee.d2l_noadd=getCategoryPosition,Ee.r2c=function(ze){var Be=getCategoryPosition(ze);return void 0!==Be?Be:Ee.fraction2r(.5)},Ee.r2c_just_indices=getCategoryIndex,Ee.l2r=Ee.c2r=rt,Ee.r2l=getCategoryPosition,Ee.d2p=function(ze){return Ee.l2p(Ee.r2c(ze))},Ee.p2d=function(Ee){return getCategoryName(p2l(Ee))},Ee.r2p=Ee.d2p,Ee.p2r=p2l,Ee.cleanPos=function(Ee){return Array.isArray(Ee)||"string"==typeof Ee&&""!==Ee?Ee:rt(Ee)},Ee.setupMultiCategory=function(Ue){var We,Qe,et=Ee._traceIndices,tt=ze._axisMatchGroups;if(tt&&tt.length&&0===Ee._categories.length)for(We=0;We<tt.length;We++){var rt=tt[We];if(rt[Be])for(var it in rt)if(it!==Be){var ct=ze[kt.id2name(it)];et=et.concat(ct._traceIndices)}}var ft=[[0,{}],[0,{}]],xt=[];for(We=0;We<et.length;We++){var Lt=Ue[et[We]];if(at in Lt){var Ut=Lt[at],er=Lt._length||$e.minRowLength(Ut);if(nt(Ut[0])&&nt(Ut[1]))for(Qe=0;Qe<er;Qe++){var tr=Ut[0][Qe],rr=Ut[1][Qe];isValidCategory(tr)&&isValidCategory(rr)&&(xt.push([tr,rr]),tr in ft[0][1]||(ft[0][1][tr]=ft[0][0]++),rr in ft[1][1]||(ft[1][1][rr]=ft[1][0]++))}}}for(xt.sort((function(Ee,ze){var Be=ft[0][1],Ue=Be[Ee[0]]-Be[ze[0]];if(Ue)return Ue;var We=ft[1][1];return We[Ee[1]]-We[ze[1]]})),We=0;We<xt.length;We++)setCategoryIndex(xt[We])}),Ee.fraction2r=function(ze){var Be=Ee.r2l(Ee.range[0]),Ue=Ee.r2l(Ee.range[1]);return Ee.l2r(Be+ze*(Ue-Be))},Ee.r2fraction=function(ze){var Be=Ee.r2l(Ee.range[0]),Ue=Ee.r2l(Ee.range[1]);return(Ee.r2l(ze)-Be)/(Ue-Be)},Ee.cleanRange=function(ze,Be){Be||(Be={}),ze||(ze="range");var Ue,Qe,et=$e.nestedProperty(Ee,ze).get();if(Qe=(Qe="date"===Ee.type?$e.dfltRange(Ee.calendar):"y"===at?xt.DFLTRANGEY:Be.dfltRange||xt.DFLTRANGEX).slice(),"tozero"!==Ee.rangemode&&"nonnegative"!==Ee.rangemode||(Qe[0]=0),et&&2===et.length)for("date"!==Ee.type||Ee.autorange||(et[0]=$e.cleanDate(et[0],ct,Ee.calendar),et[1]=$e.cleanDate(et[1],ct,Ee.calendar)),Ue=0;Ue<2;Ue++)if("date"===Ee.type){if(!$e.isDateTime(et[Ue],Ee.calendar)){Ee[ze]=Qe;break}if(Ee.r2l(et[0])===Ee.r2l(et[1])){var tt=$e.constrain(Ee.r2l(et[0]),$e.MIN_MS+1e3,$e.MAX_MS-1e3);et[0]=Ee.l2r(tt-1e3),et[1]=Ee.l2r(tt+1e3);break}}else{if(!We(et[Ue])){if(!We(et[1-Ue])){Ee[ze]=Qe;break}et[Ue]=et[1-Ue]*(Ue?10:.1)}if(et[Ue]<-it?et[Ue]=-it:et[Ue]>it&&(et[Ue]=it),et[0]===et[1]){var rt=Math.max(1,Math.abs(1e-6*et[0]));et[0]-=rt,et[1]+=rt}}else $e.nestedProperty(Ee,ze).set(Qe)},Ee.setScale=function(Be){var Ue=ze._size;if(Ee.overlaying){var We=kt.getFromId({_fullLayout:ze},Ee.overlaying);Ee.domain=We.domain}var $e=Be&&Ee._r?"_r":"range",Qe=Ee.calendar;Ee.cleanRange($e);var et=Ee.r2l(Ee[$e][0],Qe),tt=Ee.r2l(Ee[$e][1],Qe);if("y"===at?(Ee._offset=Ue.t+(1-Ee.domain[1])*Ue.h,Ee._length=Ue.h*(Ee.domain[1]-Ee.domain[0]),Ee._m=Ee._length/(et-tt),Ee._b=-Ee._m*tt):(Ee._offset=Ue.l+Ee.domain[0]*Ue.w,Ee._length=Ue.w*(Ee.domain[1]-Ee.domain[0]),Ee._m=Ee._length/(tt-et),Ee._b=-Ee._m*et),!isFinite(Ee._m)||!isFinite(Ee._b)||Ee._length<0)throw ze._replotting=!1,new Error("Something went wrong with axis scaling")},Ee.makeCalcdata=function(ze,Be){var Ue,We,Qe,et,tt=Ee.type,rt="date"===tt&&ze[Be+"calendar"];if(Be in ze){if(Ue=ze[Be],et=ze._length||$e.minRowLength(Ue),$e.isTypedArray(Ue)&&("linear"===tt||"log"===tt)){if(et===Ue.length)return Ue;if(Ue.subarray)return Ue.subarray(0,et)}if("multicategory"===tt)return function setMultiCategoryIndex(Ee,ze){for(var Be=new Array(ze),Ue=0;Ue<ze;Ue++){var We=(Ee[0]||[])[Ue],$e=(Ee[1]||[])[Ue];Be[Ue]=getCategoryIndex([We,$e])}return Be}(Ue,et);for(We=new Array(et),Qe=0;Qe<et;Qe++)We[Qe]=Ee.d2c(Ue[Qe],0,rt)}else{var nt=Be+"0"in ze?Ee.d2c(ze[Be+"0"],0,rt):0,at=ze["d"+Be]?Number(ze["d"+Be]):1;for(Ue=ze[{x:"y",y:"x"}[Be]],et=ze._length||Ue.length,We=new Array(et),Qe=0;Qe<et;Qe++)We[Qe]=nt+Qe*at}return We},Ee.isValidRange=function(ze){return Array.isArray(ze)&&2===ze.length&&We(Ee.r2l(ze[0]))&&We(Ee.r2l(ze[1]))},Ee.isPtWithinRange=function(ze,Be){var Ue=Ee.c2l(ze[at],null,Be),We=Ee.r2l(Ee.range[0]),$e=Ee.r2l(Ee.range[1]);return We<$e?We<=Ue&&Ue<=$e:$e<=Ue&&Ue<=We},Ee.clearCalc=function(){var emptyCategories=function(){Ee._categories=[],Ee._categoriesMap={}},Ue=ze._axisMatchGroups;if(Ue&&Ue.length){for(var We=!1,$e=0;$e<Ue.length;$e++){var Qe=Ue[$e];if(Qe[Be]){We=!0;var et=null,tt=null;for(var rt in Qe){var nt=ze[kt.id2name(rt)];if(nt._categories){et=nt._categories,tt=nt._categoriesMap;break}}et&&tt?(Ee._categories=et,Ee._categoriesMap=tt):emptyCategories();break}}We||emptyCategories()}else emptyCategories();if(Ee._initialCategories)for(var at=0;at<Ee._initialCategories.length;at++)setCategoryIndex(Ee._initialCategories[at])},Ee.sortByInitialCategories=function(){var Ue=[];if(Ee._categories=[],Ee._categoriesMap={},Ee._initialCategories)for(var We=0;We<Ee._initialCategories.length;We++)setCategoryIndex(Ee._initialCategories[We]);Ue=Ue.concat(Ee._traceIndices);var $e=Ee._matchGroup;for(var Qe in $e)if(Be!==Qe){var et=ze[kt.id2name(Qe)];et._categories=Ee._categories,et._categoriesMap=Ee._categoriesMap,Ue=Ue.concat(et._traceIndices)}return Ue};var Lt=ze._d3locale;"date"===Ee.type&&(Ee._dateFormat=Lt?Lt.timeFormat.utc:Ue.time.format.utc,Ee._extraFormat=ze._extraFormat),Ee._separators=ze.separators,Ee._numFormat=Lt?Lt.numberFormat:Ue.format,delete Ee._minDtick,delete Ee._forceTick0}},"1a5e":function(Ee,ze,Be){"use strict";Ee.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},"1a88":function(Ee,ze,Be){"use strict";var Ue=Math.PI,We=2*Ue,$e=We-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(Ee,ze){this._+="M"+(this._x0=this._x1=+Ee)+","+(this._y0=this._y1=+ze)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Ee,ze){this._+="L"+(this._x1=+Ee)+","+(this._y1=+ze)},quadraticCurveTo:function(Ee,ze,Be,Ue){this._+="Q"+ +Ee+","+ +ze+","+(this._x1=+Be)+","+(this._y1=+Ue)},bezierCurveTo:function(Ee,ze,Be,Ue,We,$e){this._+="C"+ +Ee+","+ +ze+","+ +Be+","+ +Ue+","+(this._x1=+We)+","+(this._y1=+$e)},arcTo:function(Ee,ze,Be,We,$e){Ee=+Ee,ze=+ze,Be=+Be,We=+We,$e=+$e;var Qe=this._x1,et=this._y1,tt=Be-Ee,rt=We-ze,nt=Qe-Ee,at=et-ze,it=nt*nt+at*at;if($e<0)throw new Error("negative radius: "+$e);if(null===this._x1)this._+="M"+(this._x1=Ee)+","+(this._y1=ze);else if(it>1e-6)if(Math.abs(at*tt-rt*nt)>1e-6&&$e){var ct=Be-Qe,ft=We-et,xt=tt*tt+rt*rt,kt=ct*ct+ft*ft,Lt=Math.sqrt(xt),Ut=Math.sqrt(it),er=$e*Math.tan((Ue-Math.acos((xt+it-kt)/(2*Lt*Ut)))/2),tr=er/Ut,rr=er/Lt;Math.abs(tr-1)>1e-6&&(this._+="L"+(Ee+tr*nt)+","+(ze+tr*at)),this._+="A"+$e+","+$e+",0,0,"+ +(at*ct>nt*ft)+","+(this._x1=Ee+rr*tt)+","+(this._y1=ze+rr*rt)}else this._+="L"+(this._x1=Ee)+","+(this._y1=ze);else;},arc:function(Ee,ze,Be,Qe,et,tt){Ee=+Ee,ze=+ze,tt=!!tt;var rt=(Be=+Be)*Math.cos(Qe),nt=Be*Math.sin(Qe),at=Ee+rt,it=ze+nt,ct=1^tt,ft=tt?Qe-et:et-Qe;if(Be<0)throw new Error("negative radius: "+Be);null===this._x1?this._+="M"+at+","+it:(Math.abs(this._x1-at)>1e-6||Math.abs(this._y1-it)>1e-6)&&(this._+="L"+at+","+it),Be&&(ft<0&&(ft=ft%We+We),ft>$e?this._+="A"+Be+","+Be+",0,1,"+ct+","+(Ee-rt)+","+(ze-nt)+"A"+Be+","+Be+",0,1,"+ct+","+(this._x1=at)+","+(this._y1=it):ft>1e-6&&(this._+="A"+Be+","+Be+",0,"+ +(ft>=Ue)+","+ct+","+(this._x1=Ee+Be*Math.cos(et))+","+(this._y1=ze+Be*Math.sin(et))))},rect:function(Ee,ze,Be,Ue){this._+="M"+(this._x0=this._x1=+Ee)+","+(this._y0=this._y1=+ze)+"h"+ +Be+"v"+ +Ue+"h"+-Be+"Z"},toString:function(){return this._}};var Qe=path,et=Array.prototype.slice,constant=function(Ee){return function constant(){return Ee}};function point_x(Ee){return Ee[0]}function point_y(Ee){return Ee[1]}function linkSource(Ee){return Ee.source}function linkTarget(Ee){return Ee.target}function link_link(Ee){var ze=linkSource,Be=linkTarget,Ue=point_x,We=point_y,$e=null;function link(){var tt,rt=et.call(arguments),nt=ze.apply(this,rt),at=Be.apply(this,rt);if($e||($e=tt=Qe()),Ee($e,+Ue.apply(this,(rt[0]=nt,rt)),+We.apply(this,rt),+Ue.apply(this,(rt[0]=at,rt)),+We.apply(this,rt)),tt)return $e=null,tt+""||null}return link.source=function(Ee){return arguments.length?(ze=Ee,link):ze},link.target=function(Ee){return arguments.length?(Be=Ee,link):Be},link.x=function(Ee){return arguments.length?(Ue="function"==typeof Ee?Ee:constant(+Ee),link):Ue},link.y=function(Ee){return arguments.length?(We="function"==typeof Ee?Ee:constant(+Ee),link):We},link.context=function(Ee){return arguments.length?($e=null==Ee?null:Ee,link):$e},link}function curveHorizontal(Ee,ze,Be,Ue,We){Ee.moveTo(ze,Be),Ee.bezierCurveTo(ze=(ze+Ue)/2,Be,ze,We,Ue,We)}function linkHorizontal(){return link_link(curveHorizontal)}Be.d(ze,"a",(function(){return linkHorizontal}))},"1a94":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){if("function"!=typeof Ee)throw new TypeError(Ee+" is not a function");return Ee}},"1aea":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("a5c4"),$e=Be("4efe"),Qe=Be("0f37"),et=Be("9676").makeDragBox,tt=Be("d301").DRAGGERSIZE;ze.initInteractions=function initInteractions(Ee){var Be=Ee._fullLayout;if(Ee._context.staticPlot)Ue.select(Ee).selectAll(".drag").remove();else if(Be._has("cartesian")||Be._has("splom")){Object.keys(Be._plots||{}).sort((function(Ee,ze){if((Be._plots[Ee].mainplot&&!0)===(Be._plots[ze].mainplot&&!0)){var Ue=Ee.split("y"),We=ze.split("y");return Ue[0]===We[0]?Number(Ue[1]||1)-Number(We[1]||1):Number(Ue[0]||1)-Number(We[0]||1)}return Be._plots[Ee].mainplot?1:-1})).forEach((function(ze){var Ue=Be._plots[ze],Qe=Ue.xaxis,rt=Ue.yaxis;if(!Ue.mainplot){var nt=et(Ee,Ue,Qe._offset,rt._offset,Qe._length,rt._length,"ns","ew");nt.onmousemove=function(Be){Ee._fullLayout._rehover=function(){Ee._fullLayout._hoversubplot===ze&&Ee._fullLayout._plots[ze]&&We.hover(Ee,Be,ze)},We.hover(Ee,Be,ze),Ee._fullLayout._lasthover=nt,Ee._fullLayout._hoversubplot=ze},nt.onmouseout=function(ze){Ee._dragging||(Ee._fullLayout._hoversubplot=null,$e.unhover(Ee,ze))},Ee._context.showAxisDragHandles&&(et(Ee,Ue,Qe._offset-tt,rt._offset-tt,tt,tt,"n","w"),et(Ee,Ue,Qe._offset+Qe._length,rt._offset-tt,tt,tt,"n","e"),et(Ee,Ue,Qe._offset-tt,rt._offset+rt._length,tt,tt,"s","w"),et(Ee,Ue,Qe._offset+Qe._length,rt._offset+rt._length,tt,tt,"s","e"))}if(Ee._context.showAxisDragHandles){if(ze===Qe._mainSubplot){var at=Qe._mainLinePosition;"top"===Qe.side&&(at-=tt),et(Ee,Ue,Qe._offset+.1*Qe._length,at,.8*Qe._length,tt,"","ew"),et(Ee,Ue,Qe._offset,at,.1*Qe._length,tt,"","w"),et(Ee,Ue,Qe._offset+.9*Qe._length,at,.1*Qe._length,tt,"","e")}if(ze===rt._mainSubplot){var it=rt._mainLinePosition;"right"!==rt.side&&(it-=tt),et(Ee,Ue,it,rt._offset+.1*rt._length,tt,.8*rt._length,"ns",""),et(Ee,Ue,it,rt._offset+.9*rt._length,tt,.1*rt._length,"s",""),et(Ee,Ue,it,rt._offset,tt,.1*rt._length,"n","")}}}));var Qe=Be._hoverlayer.node();Qe.onmousemove=function(ze){ze.target=Ee._fullLayout._lasthover,We.hover(Ee,ze,Be._hoversubplot)},Qe.onclick=function(ze){ze.target=Ee._fullLayout._lasthover,We.click(Ee,ze)},Qe.onmousedown=function(ze){Ee._fullLayout._lasthover.onmousedown(ze)},ze.updateFx(Ee)}},ze.updateFx=function(Ee){var ze=Ee._fullLayout,Be="pan"===ze.dragmode?"move":"crosshair";Qe(ze._draggers,Be)}},"1b06":function(Ee,ze){Ee.exports=function lerp(Ee,ze,Be,Ue){var We=ze[0],$e=ze[1],Qe=ze[2];return Ee[0]=We+Ue*(Be[0]-We),Ee[1]=$e+Ue*(Be[1]-$e),Ee[2]=Qe+Ue*(Be[2]-Qe),Ee}},"1b6a":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("e806").BADNUM;Ee.exports=function clean2dArray(Ee,ze,Be,Qe){var et,tt,rt,nt,at,it;function cleanZvalue(Ee){if(Ue(Ee))return+Ee}if(ze&&ze.transpose){for(et=0,at=0;at<Ee.length;at++)et=Math.max(et,Ee[at].length);if(0===et)return!1;rt=function(Ee){return Ee.length},nt=function(Ee,ze,Be){return(Ee[Be]||[])[ze]}}else et=Ee.length,rt=function(Ee,ze){return Ee[ze].length},nt=function(Ee,ze,Be){return(Ee[ze]||[])[Be]};var padOld2new=function(Ee,ze,Be){return ze===$e||Be===$e?$e:nt(Ee,ze,Be)};function axisMapping(Ee){if(ze&&"carpet"!==ze.type&&"contourcarpet"!==ze.type&&Ee&&"category"===Ee.type&&ze["_"+Ee._id.charAt(0)].length){var Be=Ee._id.charAt(0),Ue={},Qe=ze["_"+Be+"CategoryMap"]||ze[Be];for(at=0;at<Qe.length;at++)Ue[Qe[at]]=at;return function(ze){var Be=Ue[Ee._categories[ze]];return Be+1?Be:$e}}return We.identity}var ct=axisMapping(Be),ft=axisMapping(Qe);Qe&&"category"===Qe.type&&(et=Qe._categories.length);var xt=new Array(et);for(at=0;at<et;at++)for(tt=Be&&"category"===Be.type?Be._categories.length:rt(Ee,at),xt[at]=new Array(tt),it=0;it<tt;it++)xt[at][it]=cleanZvalue(padOld2new(Ee,ft(at),ct(it)));return xt}},"1b88":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("ae13");function removeElement(Ee){var ze=Ee&&Ee.parentNode;ze&&ze.removeChild(Ee)}function addRelatedStyleRule(Ee,ze,Be){var Ue="plotly.js-style-"+Ee,$e=document.getElementById(Ue);$e||(($e=document.createElement("style")).setAttribute("id",Ue),$e.appendChild(document.createTextNode("")),document.head.appendChild($e));var Qe=$e.sheet;Qe.insertRule?Qe.insertRule(ze+"{"+Be+"}",0):Qe.addRule?Qe.addRule(ze,Be,0):We.warn("addStyleRule failed")}Ee.exports={getGraphDiv:function getGraphDiv(Ee){var ze;if("string"==typeof Ee){if(null===(ze=document.getElementById(Ee)))throw new Error("No DOM element with id '"+Ee+"' exists on the page.");return ze}if(null==Ee)throw new Error("DOM element provided is null or undefined");return Ee},isPlotDiv:function isPlotDiv(Ee){var ze=Ue.select(Ee);return ze.node()instanceof HTMLElement&&ze.size()&&ze.classed("js-plotly-plot")},removeElement:removeElement,addStyleRule:function addStyleRule(Ee,ze){addRelatedStyleRule("global",Ee,ze)},addRelatedStyleRule:addRelatedStyleRule,deleteRelatedStyleRule:function deleteRelatedStyleRule(Ee){var ze="plotly.js-style-"+Ee,Be=document.getElementById(ze);Be&&removeElement(Be)}}},"1bbd":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c"),$e=Ue.instance();function ThaiCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}ThaiCalendar.prototype=new Ue.baseCalendar,We(ThaiCalendar.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);Ee=this._t2gYear(ze.year());return $e.leapYear(Ee)},weekOfYear:function(Ee,ze,Be){var We=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);Ee=this._t2gYear(We.year());return $e.weekOfYear(Ee,We.month(),We.day())},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(2===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);Ee=this._t2gYear(We.year());return $e.toJD(Ee,We.month(),We.day())},fromJD:function(Ee){var ze=$e.fromJD(Ee),Be=this._g2tYear(ze.year());return this.newDate(Be,ze.month(),ze.day())},_t2gYear:function(Ee){return Ee-this.yearsOffset-(Ee>=1&&Ee<=this.yearsOffset?1:0)},_g2tYear:function(Ee){return Ee+this.yearsOffset+(Ee>=-this.yearsOffset&&Ee<=-1?1:0)}}),Ue.calendars.thai=ThaiCalendar},"1bbe":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("fc26"),Qe=Be("7559"),et=new DOMParser;function ModeBar(Ee){this.container=Ee.container,this.element=document.createElement("div"),this.update(Ee.graphInfo,Ee.buttons),this.container.appendChild(this.element)}var tt=ModeBar.prototype;tt.update=function(Ee,ze){this.graphInfo=Ee;var Be=this.graphInfo._context,Ue=this.graphInfo._fullLayout,We="modebar-"+Ue._uid;this.element.setAttribute("id",We),this._uid=We,this.element.className="modebar","hover"===Be.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===Ue.modebar.orientation&&(this.element.className+=" vertical",ze=ze.reverse());var Qe=Ue.modebar,et="hover"===Be.displayModeBar?".js-plotly-plot .plotly:hover ":"";$e.deleteRelatedStyleRule(We),$e.addRelatedStyleRule(We,et+"#"+We+" .modebar-group","background-color: "+Qe.bgcolor),$e.addRelatedStyleRule(We,"#"+We+" .modebar-btn .icon path","fill: "+Qe.color),$e.addRelatedStyleRule(We,"#"+We+" .modebar-btn:hover .icon path","fill: "+Qe.activecolor),$e.addRelatedStyleRule(We,"#"+We+" .modebar-btn.active .icon path","fill: "+Qe.activecolor);var tt=!this.hasButtons(ze),rt=this.hasLogo!==Be.displaylogo,nt=this.locale!==Be.locale;if(this.locale=Be.locale,(tt||rt||nt)&&(this.removeAllButtons(),this.updateButtons(ze),Be.watermark||Be.displaylogo)){var at=this.getLogo();Be.watermark&&(at.className=at.className+" watermark"),"v"===Ue.modebar.orientation?this.element.insertBefore(at,this.element.childNodes[0]):this.element.appendChild(at),this.hasLogo=!0}this.updateActiveButton()},tt.updateButtons=function(Ee){var ze=this;this.buttons=Ee,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(Ee){var Be=ze.createGroup();Ee.forEach((function(Ee){var Ue=Ee.name;if(!Ue)throw new Error("must provide button 'name' in button config");if(-1!==ze.buttonsNames.indexOf(Ue))throw new Error("button name '"+Ue+"' is taken");ze.buttonsNames.push(Ue);var We=ze.createButton(Ee);ze.buttonElements.push(We),Be.appendChild(We)})),ze.element.appendChild(Be)}))},tt.createGroup=function(){var Ee=document.createElement("div");return Ee.className="modebar-group",Ee},tt.createButton=function(Ee){var ze=this,Be=document.createElement("a");Be.setAttribute("rel","tooltip"),Be.className="modebar-btn";var We=Ee.title;void 0===We?We=Ee.name:"function"==typeof We&&(We=We(this.graphInfo)),(We||0===We)&&Be.setAttribute("data-title",We),void 0!==Ee.attr&&Be.setAttribute("data-attr",Ee.attr);var $e=Ee.val;if(void 0!==$e&&("function"==typeof $e&&($e=$e(this.graphInfo)),Be.setAttribute("data-val",$e)),"function"!=typeof Ee.click)throw new Error("must provide button 'click' function in button config");Be.addEventListener("click",(function(Be){Ee.click(ze.graphInfo,Be),ze.updateActiveButton(Be.currentTarget)})),Be.setAttribute("data-toggle",Ee.toggle||!1),Ee.toggle&&Ue.select(Be).classed("active",!0);var et=Ee.icon;return"function"==typeof et?Be.appendChild(et()):Be.appendChild(this.createIcon(et||Qe.question)),Be.setAttribute("data-gravity",Ee.gravity||"n"),Be},tt.createIcon=function(Ee){var ze,Be=We(Ee.height)?Number(Ee.height):Ee.ascent-Ee.descent,Ue="http://www.w3.org/2000/svg";if(Ee.path){(ze=document.createElementNS(Ue,"svg")).setAttribute("viewBox",[0,0,Ee.width,Be].join(" ")),ze.setAttribute("class","icon");var $e=document.createElementNS(Ue,"path");$e.setAttribute("d",Ee.path),Ee.transform?$e.setAttribute("transform",Ee.transform):void 0!==Ee.ascent&&$e.setAttribute("transform","matrix(1 0 0 -1 0 "+Ee.ascent+")"),ze.appendChild($e)}Ee.svg&&(ze=et.parseFromString(Ee.svg,"application/xml").childNodes[0]);return ze.setAttribute("height","1em"),ze.setAttribute("width","1em"),ze},tt.updateActiveButton=function(Ee){var ze=this.graphInfo._fullLayout,Be=void 0!==Ee?Ee.getAttribute("data-attr"):null;this.buttonElements.forEach((function(Ee){var We=Ee.getAttribute("data-val")||!0,Qe=Ee.getAttribute("data-attr"),et="true"===Ee.getAttribute("data-toggle"),tt=Ue.select(Ee);if(et)Qe===Be&&tt.classed("active",!tt.classed("active"));else{var rt=null===Qe?Qe:$e.nestedProperty(ze,Qe).get();tt.classed("active",rt===We)}}))},tt.hasButtons=function(Ee){var ze=this.buttons;if(!ze)return!1;if(Ee.length!==ze.length)return!1;for(var Be=0;Be<Ee.length;++Be){if(Ee[Be].length!==ze[Be].length)return!1;for(var Ue=0;Ue<Ee[Be].length;Ue++)if(Ee[Be][Ue].name!==ze[Be][Ue].name)return!1}return!0},tt.getLogo=function(){var Ee=this.createGroup(),ze=document.createElement("a");return ze.href="https://plot.ly/",ze.target="_blank",ze.setAttribute("data-title",$e._(this.graphInfo,"Produced with Plotly")),ze.className="modebar-btn plotlyjsicon modebar-btn--logo",ze.appendChild(this.createIcon(Qe.newplotlylogo)),Ee.appendChild(ze),Ee},tt.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},tt.destroy=function(){$e.removeElement(this.container.querySelector(".modebar")),$e.deleteRelatedStyleRule(this._uid)},Ee.exports=function createModeBar(Ee,ze){var Be=Ee._fullLayout,We=new ModeBar({graphInfo:Ee,container:Be._modebardiv.node(),buttons:ze});return Be._privateplot&&Ue.select(We.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),We}},"1be4":function(Ee,ze,Be){var Ue=Be("d066");Ee.exports=Ue("document","documentElement")},"1bea":function(Ee,ze,Be){"use strict";Ee.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},"1bef":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("e806").BADNUM;Ee.exports=function selectPoints(Ee,ze){var Be,Qe=Ee.cd,et=Ee.xaxis,tt=Ee.yaxis,rt=[],nt=Qe[0].trace;if(!We.hasMarkers(nt))return[];if(!1===ze)for(Be=0;Be<Qe.length;Be++)Qe[Be].selected=0;else for(Be=0;Be<Qe.length;Be++){var at=Qe[Be],it=at.lonlat;if(it[0]!==$e){var ct=[Ue.modHalf(it[0],360),it[1]],ft=[et.c2p(ct),tt.c2p(ct)];ze.contains(ft,null,Be,Ee)?(rt.push({pointNumber:Be,lon:it[0],lat:it[1]}),at.selected=1):at.selected=0}}return rt}},"1c0b":function(Ee,ze){Ee.exports=function(Ee){if("function"!=typeof Ee)throw TypeError(String(Ee)+" is not a function");return Ee}},"1c0b8":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("8f38"),$e=Be("5844"),Qe=Be("4c66");Ee.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Ue.extendFlat({},We,{yaxis:$e})}}},layoutAttributes:Be("8f38"),handleDefaults:Be("6b10"),calcAutorange:Be("4cd2"),draw:Be("8b1d"),isVisible:Qe.isVisible,makeData:Qe.makeData,autoMarginOpts:Qe.autoMarginOpts}},"1c1a":function(Ee,ze,Be){"use strict";var Ue,We=Be("62c4"),$e=Be("e0f6"),Qe=Be("68e6"),et=Be("96ae"),tt=Be("6599"),rt=Be("f508"),nt=Be("8a50"),at=Be("c351"),it=Be("1c4a").toStringTag,ct=Be("7d72"),ft=Array.isArray,xt=Object.defineProperty,kt=Object.prototype.hasOwnProperty,Lt=Object.getPrototypeOf;Ee.exports=Ue=function(){var Ee,ze=arguments[0];if(!(this instanceof Ue))throw new TypeError("Constructor requires 'new'");return Ee=ct&&$e&&WeakMap!==Ue?$e(new WeakMap,Lt(this)):this,We(ze)&&(ft(ze)||(ze=nt(ze))),xt(Ee,"__weakMapData__",rt("c","$weakMap$"+tt())),ze?(at(ze,(function(ze){et(ze),Ee.set(ze[0],ze[1])})),Ee):Ee},ct&&($e&&$e(Ue,WeakMap),Ue.prototype=Object.create(WeakMap.prototype,{constructor:rt(Ue)})),Object.defineProperties(Ue.prototype,{delete:rt((function(Ee){return!!kt.call(Qe(Ee),this.__weakMapData__)&&(delete Ee[this.__weakMapData__],!0)})),get:rt((function(Ee){if(kt.call(Qe(Ee),this.__weakMapData__))return Ee[this.__weakMapData__]})),has:rt((function(Ee){return kt.call(Qe(Ee),this.__weakMapData__)})),set:rt((function(Ee,ze){return xt(Qe(Ee),this.__weakMapData__,rt("c",ze)),this})),toString:rt((function(){return"[object WeakMap]"}))}),xt(Ue.prototype,it,rt("c","WeakMap"))},"1c1c":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("371e"),Qe=Be("076f"),et=Be("9103"),tt=Be("3c1c").getAxisGroup,rt=Be("fb5a"),nt=Ue.coerceFont;function handleGroupingDefaults(Ee,ze,Be,Ue){var We=ze.orientation,$e=ze[{v:"x",h:"y"}[We]+"axis"],Qe=tt(Be,$e)+We,et=Be._alignmentOpts||{},rt=Ue("alignmentgroup"),nt=et[Qe];nt||(nt=et[Qe]={});var at=nt[rt];at?at.traces.push(ze):at=nt[rt]={traces:[ze],alignmentIndex:Object.keys(nt).length,offsetGroups:{}};var it=Ue("offsetgroup"),ct=at.offsetGroups,ft=ct[it];it&&(ft||(ft=ct[it]={offsetIndex:Object.keys(ct).length}),ze._offsetIndex=ft.offsetIndex)}function handleText(Ee,ze,Be,We,$e,Qe){var et=!(!1===(Qe=Qe||{}).moduleHasSelected),tt=!(!1===Qe.moduleHasUnselected),rt=!(!1===Qe.moduleHasConstrain),at=!(!1===Qe.moduleHasCliponaxis),it=!(!1===Qe.moduleHasTextangle),ct=!(!1===Qe.moduleHasInsideanchor),ft=!!Qe.hasPathbar,xt=Array.isArray($e)||"auto"===$e,kt=xt||"inside"===$e,Lt=xt||"outside"===$e;if(kt||Lt){var Ut=nt(We,"textfont",Be.font),er=Ue.extendFlat({},Ut),tr=!(Ee.textfont&&Ee.textfont.color);if(tr&&delete er.color,nt(We,"insidetextfont",er),ft){var rr=Ue.extendFlat({},Ut);tr&&delete rr.color,nt(We,"pathbar.textfont",rr)}Lt&&nt(We,"outsidetextfont",Ut),et&&We("selected.textfont.color"),tt&&We("unselected.textfont.color"),rt&&We("constraintext"),at&&We("cliponaxis"),it&&We("textangle"),We("texttemplate")}kt&&ct&&We("insidetextanchor")}Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,rt,Be,We)}if(Qe(Ee,ze,tt,coerce)){coerce("orientation",ze.x&&!ze.y?"h":"v"),coerce("base"),coerce("offset"),coerce("width"),coerce("text"),coerce("hovertext"),coerce("hovertemplate");var nt=coerce("textposition");handleText(Ee,ze,tt,coerce,nt,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),et(Ee,ze,coerce,Be,tt);var at=(ze.marker.line||{}).color,it=$e.getComponentMethod("errorbars","supplyDefaults");it(Ee,ze,at||We.defaultLine,{axis:"y"}),it(Ee,ze,at||We.defaultLine,{axis:"x",inherit:"y"}),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1},crossTraceDefaults:function crossTraceDefaults(Ee,ze){var Be;function coerce(Ee){return Ue.coerce(Be._input,Be,rt,Ee)}if("group"===ze.barmode)for(var We=0;We<Ee.length;We++)"bar"===(Be=Ee[We]).type&&(Be._input,handleGroupingDefaults(0,Be,ze,coerce))},handleGroupingDefaults:handleGroupingDefaults,handleText:handleText}},"1c4a":function(Ee,ze,Be){"use strict";Ee.exports=Be("ba61")()?Be("7c4a").Symbol:Be("94ee")},"1c4d":function(Ee,ze,Be){"use strict";var Ue=Be("fde6");Ee.exports={isSize:function isSize(Ee){return/^[\d\.]/.test(Ee)||-1!==Ee.indexOf("/")||-1!==Ue.indexOf(Ee)}}},"1c82":function(Ee,ze,Be){"use strict";var Ue=Be("9092").extendFlat,We=Be("9092").extendDeep,$e=Be("cb34").overrideAll,Qe=Be("9845"),et=Be("dfb3"),tt=Be("81f0").attributes,rt=Be("d798"),nt=Be("a651").templatedArray,at=Be("b8ce"),it=(Be("78df").FORMAT_LINK,Qe({editType:"plot",colorEditType:"plot"})),ct={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:et.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},ft={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},xt=nt("step",We({},ct,{range:ft}));Ee.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:tt({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:Ue({},it,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot"},font:Ue({},it,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot"},increasing:{symbol:{valType:"string",dflt:at.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:at.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:at.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:at.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:Ue({},it,{}),editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:We({},ct,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:et.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:$e({range:ft,visible:Ue({},rt.visible,{dflt:!0}),tickmode:rt.tickmode,nticks:rt.nticks,tick0:rt.tick0,dtick:rt.dtick,tickvals:rt.tickvals,ticktext:rt.ticktext,ticks:Ue({},rt.ticks,{dflt:"outside"}),ticklen:rt.ticklen,tickwidth:rt.tickwidth,tickcolor:rt.tickcolor,showticklabels:rt.showticklabels,tickfont:Qe({}),tickangle:rt.tickangle,tickformat:rt.tickformat,tickformatstops:rt.tickformatstops,tickprefix:rt.tickprefix,showtickprefix:rt.showtickprefix,ticksuffix:rt.ticksuffix,showticksuffix:rt.showticksuffix,separatethousands:rt.separatethousands,exponentformat:rt.exponentformat,showexponent:rt.showexponent,editType:"plot"},"plot"),steps:xt,threshold:{line:{color:Ue({},ct.line.color,{}),width:Ue({},ct.line.width,{dflt:1}),editType:"plot"},thickness:Ue({},ct.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},"1cfc":function(Ee,ze,Be){"use strict";Ee.exports=Be("6386")},"1d19":function(Ee,ze,Be){"use strict";Ee.exports=float32,Ee.exports.float32=Ee.exports.float=float32,Ee.exports.fract32=Ee.exports.fract=function fract32(Ee){if(Ee.length){for(var ze=float32(Ee),Be=0,Ue=ze.length;Be<Ue;Be++)ze[Be]=Ee[Be]-ze[Be];return ze}return float32(Ee-float32(Ee))};var Ue=new Float32Array(1);function float32(Ee){if(Ee.length){if(Ee instanceof Float32Array)return Ee;var ze=new Float32Array(Ee);return ze.set(Ee),ze}return Ue[0]=Ee,Ue[0]}},"1d4c":function(Ee,ze,Be){"use strict";var Ue=Be("c535"),We={};Ee.exports=function sort(Ee){var ze=Ee.order,Be=Ee.dtype,$e=[ze,Be].join(":"),Qe=We[$e];return Qe||(We[$e]=Qe=Ue(ze,Be)),Qe(Ee),Ee}},"1d5b":function(Ee,ze,Be){"use strict";var Ue=Be("b5bb"),We=Be("62d6"),$e=Be("cea5");Ee.exports=function createTexture2D(Ee){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");Qe||lazyInitLinearTypes(Ee);if("number"==typeof arguments[1])return createTextureShape(Ee,arguments[1],arguments[2],arguments[3]||Ee.RGBA,arguments[4]||Ee.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return createTextureShape(Ee,0|arguments[1][0],0|arguments[1][1],arguments[2]||Ee.RGBA,arguments[3]||Ee.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var ze=arguments[1],Be=acceptTextureDOM(ze)?ze:ze.raw;if(Be)return createTextureDOM(Ee,Be,0|ze.width,0|ze.height,arguments[2]||Ee.RGBA,arguments[3]||Ee.UNSIGNED_BYTE);if(ze.shape&&ze.data&&ze.stride)return createTextureArray(Ee,ze)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var Qe=null,et=null,tt=null;function lazyInitLinearTypes(Ee){Qe=[Ee.LINEAR,Ee.NEAREST_MIPMAP_LINEAR,Ee.LINEAR_MIPMAP_NEAREST,Ee.LINEAR_MIPMAP_NEAREST],et=[Ee.NEAREST,Ee.LINEAR,Ee.NEAREST_MIPMAP_NEAREST,Ee.NEAREST_MIPMAP_LINEAR,Ee.LINEAR_MIPMAP_NEAREST,Ee.LINEAR_MIPMAP_LINEAR],tt=[Ee.REPEAT,Ee.CLAMP_TO_EDGE,Ee.MIRRORED_REPEAT]}function acceptTextureDOM(Ee){return"undefined"!=typeof HTMLCanvasElement&&Ee instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&Ee instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&Ee instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&Ee instanceof ImageData}var convertFloatToUint8=function(Ee,ze){We.muls(Ee,ze,255)};function reshapeTexture(Ee,ze,Be){var Ue=Ee.gl,We=Ue.getParameter(Ue.MAX_TEXTURE_SIZE);if(ze<0||ze>We||Be<0||Be>We)throw new Error("gl-texture2d: Invalid texture size");return Ee._shape=[ze,Be],Ee.bind(),Ue.texImage2D(Ue.TEXTURE_2D,0,Ee.format,ze,Be,0,Ee.format,Ee.type,null),Ee._mipLevels=[0],Ee}function Texture2D(Ee,ze,Be,Ue,We,$e){this.gl=Ee,this.handle=ze,this.format=We,this.type=$e,this._shape=[Be,Ue],this._mipLevels=[0],this._magFilter=Ee.NEAREST,this._minFilter=Ee.NEAREST,this._wrapS=Ee.CLAMP_TO_EDGE,this._wrapT=Ee.CLAMP_TO_EDGE,this._anisoSamples=1;var Qe=this,et=[this._wrapS,this._wrapT];Object.defineProperties(et,[{get:function(){return Qe._wrapS},set:function(Ee){return Qe.wrapS=Ee}},{get:function(){return Qe._wrapT},set:function(Ee){return Qe.wrapT=Ee}}]),this._wrapVector=et;var tt=[this._shape[0],this._shape[1]];Object.defineProperties(tt,[{get:function(){return Qe._shape[0]},set:function(Ee){return Qe.width=Ee}},{get:function(){return Qe._shape[1]},set:function(Ee){return Qe.height=Ee}}]),this._shapeVector=tt}var rt=Texture2D.prototype;function isPacked(Ee,ze){return 3===Ee.length?1===ze[2]&&ze[1]===Ee[0]*Ee[2]&&ze[0]===Ee[2]:1===ze[0]&&ze[1]===Ee[0]}function initTexture(Ee){var ze=Ee.createTexture();return Ee.bindTexture(Ee.TEXTURE_2D,ze),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MIN_FILTER,Ee.NEAREST),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MAG_FILTER,Ee.NEAREST),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_S,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_T,Ee.CLAMP_TO_EDGE),ze}function createTextureShape(Ee,ze,Be,Ue,We){var $e=Ee.getParameter(Ee.MAX_TEXTURE_SIZE);if(ze<0||ze>$e||Be<0||Be>$e)throw new Error("gl-texture2d: Invalid texture shape");if(We===Ee.FLOAT&&!Ee.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var Qe=initTexture(Ee);return Ee.texImage2D(Ee.TEXTURE_2D,0,Ue,ze,Be,0,Ue,We,null),new Texture2D(Ee,Qe,ze,Be,Ue,We)}function createTextureDOM(Ee,ze,Be,Ue,We,$e){var Qe=initTexture(Ee);return Ee.texImage2D(Ee.TEXTURE_2D,0,We,We,$e,ze),new Texture2D(Ee,Qe,Be,Ue,We,$e)}function createTextureArray(Ee,ze){var Be=ze.dtype,Qe=ze.shape.slice(),et=Ee.getParameter(Ee.MAX_TEXTURE_SIZE);if(Qe[0]<0||Qe[0]>et||Qe[1]<0||Qe[1]>et)throw new Error("gl-texture2d: Invalid texture size");var tt=isPacked(Qe,ze.stride.slice()),rt=0;"float32"===Be?rt=Ee.FLOAT:"float64"===Be?(rt=Ee.FLOAT,tt=!1,Be="float32"):"uint8"===Be?rt=Ee.UNSIGNED_BYTE:(rt=Ee.UNSIGNED_BYTE,tt=!1,Be="uint8");var nt,at,it=0;if(2===Qe.length)it=Ee.LUMINANCE,Qe=[Qe[0],Qe[1],1],ze=Ue(ze.data,Qe,[ze.stride[0],ze.stride[1],1],ze.offset);else{if(3!==Qe.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===Qe[2])it=Ee.ALPHA;else if(2===Qe[2])it=Ee.LUMINANCE_ALPHA;else if(3===Qe[2])it=Ee.RGB;else{if(4!==Qe[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");it=Ee.RGBA}}rt!==Ee.FLOAT||Ee.getExtension("OES_texture_float")||(rt=Ee.UNSIGNED_BYTE,tt=!1);var ct=ze.size;if(tt)nt=0===ze.offset&&ze.data.length===ct?ze.data:ze.data.subarray(ze.offset,ze.offset+ct);else{var ft=[Qe[2],Qe[2]*Qe[0],1];at=$e.malloc(ct,Be);var xt=Ue(at,Qe,ft,0);"float32"!==Be&&"float64"!==Be||rt!==Ee.UNSIGNED_BYTE?We.assign(xt,ze):convertFloatToUint8(xt,ze),nt=at.subarray(0,ct)}var kt=initTexture(Ee);return Ee.texImage2D(Ee.TEXTURE_2D,0,it,Qe[0],Qe[1],0,it,rt,nt),tt||$e.free(at),new Texture2D(Ee,kt,Qe[0],Qe[1],it,rt)}Object.defineProperties(rt,{minFilter:{get:function(){return this._minFilter},set:function(Ee){this.bind();var ze=this.gl;if(this.type===ze.FLOAT&&Qe.indexOf(Ee)>=0&&(ze.getExtension("OES_texture_float_linear")||(Ee=ze.NEAREST)),et.indexOf(Ee)<0)throw new Error("gl-texture2d: Unknown filter mode "+Ee);return ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_MIN_FILTER,Ee),this._minFilter=Ee}},magFilter:{get:function(){return this._magFilter},set:function(Ee){this.bind();var ze=this.gl;if(this.type===ze.FLOAT&&Qe.indexOf(Ee)>=0&&(ze.getExtension("OES_texture_float_linear")||(Ee=ze.NEAREST)),et.indexOf(Ee)<0)throw new Error("gl-texture2d: Unknown filter mode "+Ee);return ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_MAG_FILTER,Ee),this._magFilter=Ee}},mipSamples:{get:function(){return this._anisoSamples},set:function(Ee){var ze=this._anisoSamples;if(this._anisoSamples=0|Math.max(Ee,1),ze!==this._anisoSamples){var Be=this.gl.getExtension("EXT_texture_filter_anisotropic");Be&&this.gl.texParameterf(this.gl.TEXTURE_2D,Be.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(Ee){if(this.bind(),tt.indexOf(Ee)<0)throw new Error("gl-texture2d: Unknown wrap mode "+Ee);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,Ee),this._wrapS=Ee}},wrapT:{get:function(){return this._wrapT},set:function(Ee){if(this.bind(),tt.indexOf(Ee)<0)throw new Error("gl-texture2d: Unknown wrap mode "+Ee);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,Ee),this._wrapT=Ee}},wrap:{get:function(){return this._wrapVector},set:function(Ee){if(Array.isArray(Ee)||(Ee=[Ee,Ee]),2!==Ee.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var ze=0;ze<2;++ze)if(tt.indexOf(Ee[ze])<0)throw new Error("gl-texture2d: Unknown wrap mode "+Ee);this._wrapS=Ee[0],this._wrapT=Ee[1];var Be=this.gl;return this.bind(),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_S,this._wrapS),Be.texParameteri(Be.TEXTURE_2D,Be.TEXTURE_WRAP_T,this._wrapT),Ee}},shape:{get:function(){return this._shapeVector},set:function(Ee){if(Array.isArray(Ee)){if(2!==Ee.length)throw new Error("gl-texture2d: Invalid texture shape")}else Ee=[0|Ee,0|Ee];return reshapeTexture(this,0|Ee[0],0|Ee[1]),[0|Ee[0],0|Ee[1]]}},width:{get:function(){return this._shape[0]},set:function(Ee){return reshapeTexture(this,Ee|=0,this._shape[1]),Ee}},height:{get:function(){return this._shape[1]},set:function(Ee){return Ee|=0,reshapeTexture(this,this._shape[0],Ee),Ee}}}),rt.bind=function(Ee){var ze=this.gl;return void 0!==Ee&&ze.activeTexture(ze.TEXTURE0+(0|Ee)),ze.bindTexture(ze.TEXTURE_2D,this.handle),void 0!==Ee?0|Ee:ze.getParameter(ze.ACTIVE_TEXTURE)-ze.TEXTURE0},rt.dispose=function(){this.gl.deleteTexture(this.handle)},rt.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var Ee=Math.min(this._shape[0],this._shape[1]),ze=0;Ee>0;++ze,Ee>>>=1)this._mipLevels.indexOf(ze)<0&&this._mipLevels.push(ze)},rt.setPixels=function(Ee,ze,Be,Qe){var et=this.gl;this.bind(),Array.isArray(ze)?(Qe=Be,Be=0|ze[1],ze=0|ze[0]):(ze=ze||0,Be=Be||0),Qe=Qe||0;var tt=acceptTextureDOM(Ee)?Ee:Ee.raw;if(tt){this._mipLevels.indexOf(Qe)<0?(et.texImage2D(et.TEXTURE_2D,0,this.format,this.format,this.type,tt),this._mipLevels.push(Qe)):et.texSubImage2D(et.TEXTURE_2D,Qe,ze,Be,this.format,this.type,tt)}else{if(!(Ee.shape&&Ee.stride&&Ee.data))throw new Error("gl-texture2d: Unsupported data type");if(Ee.shape.length<2||ze+Ee.shape[1]>this._shape[1]>>>Qe||Be+Ee.shape[0]>this._shape[0]>>>Qe||ze<0||Be<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function texSubImageArray(Ee,ze,Be,Qe,et,tt,rt,nt){var at=nt.dtype,it=nt.shape.slice();if(it.length<2||it.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ct=0,ft=0,xt=isPacked(it,nt.stride.slice());"float32"===at?ct=Ee.FLOAT:"float64"===at?(ct=Ee.FLOAT,xt=!1,at="float32"):"uint8"===at?ct=Ee.UNSIGNED_BYTE:(ct=Ee.UNSIGNED_BYTE,xt=!1,at="uint8");if(2===it.length)ft=Ee.LUMINANCE,it=[it[0],it[1],1],nt=Ue(nt.data,it,[nt.stride[0],nt.stride[1],1],nt.offset);else{if(3!==it.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===it[2])ft=Ee.ALPHA;else if(2===it[2])ft=Ee.LUMINANCE_ALPHA;else if(3===it[2])ft=Ee.RGB;else{if(4!==it[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");ft=Ee.RGBA}it[2]}ft!==Ee.LUMINANCE&&ft!==Ee.ALPHA||et!==Ee.LUMINANCE&&et!==Ee.ALPHA||(ft=et);if(ft!==et)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var kt=nt.size,Lt=rt.indexOf(Qe)<0;Lt&&rt.push(Qe);if(ct===tt&&xt)0===nt.offset&&nt.data.length===kt?Lt?Ee.texImage2D(Ee.TEXTURE_2D,Qe,et,it[0],it[1],0,et,tt,nt.data):Ee.texSubImage2D(Ee.TEXTURE_2D,Qe,ze,Be,it[0],it[1],et,tt,nt.data):Lt?Ee.texImage2D(Ee.TEXTURE_2D,Qe,et,it[0],it[1],0,et,tt,nt.data.subarray(nt.offset,nt.offset+kt)):Ee.texSubImage2D(Ee.TEXTURE_2D,Qe,ze,Be,it[0],it[1],et,tt,nt.data.subarray(nt.offset,nt.offset+kt));else{var Ut;Ut=tt===Ee.FLOAT?$e.mallocFloat32(kt):$e.mallocUint8(kt);var er=Ue(Ut,it,[it[2],it[2]*it[0],1]);ct===Ee.FLOAT&&tt===Ee.UNSIGNED_BYTE?convertFloatToUint8(er,nt):We.assign(er,nt),Lt?Ee.texImage2D(Ee.TEXTURE_2D,Qe,et,it[0],it[1],0,et,tt,Ut.subarray(0,kt)):Ee.texSubImage2D(Ee.TEXTURE_2D,Qe,ze,Be,it[0],it[1],et,tt,Ut.subarray(0,kt)),tt===Ee.FLOAT?$e.freeFloat32(Ut):$e.freeUint8(Ut)}}(et,ze,Be,Qe,this.format,this.type,this._mipLevels,Ee)}}},"1d80":function(Ee,ze){Ee.exports=function(Ee){if(null==Ee)throw TypeError("Can't call method on "+Ee);return Ee}},"1d9e":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("d115"),Qe=Be("c258"),et=Be("e806").BADNUM,tt=Be("2169").makeBlank;Ee.exports=function convert(Ee){var ze=Ee[0].trace,Be=!0===ze.visible&&0!==ze._length,rt=ze._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:tt()};if(!Be)return rt;var nt,at=[],it=ze.z,ct=ze.radius,ft=We.isArrayOrTypedArray(it)&&it.length,xt=We.isArrayOrTypedArray(ct);for(nt=0;nt<Ee.length;nt++){var kt=Ee[nt],Lt=kt.lonlat;if(Lt[0]!==et){var Ut={};if(ft){var er=kt.z;Ut.z=er!==et?er:0}xt&&(Ut.r=Ue(ct[nt])&&ct[nt]>0?+ct[nt]:0),at.push({type:"Feature",geometry:{type:"Point",coordinates:Lt},properties:Ut})}}var tr=Qe.extractOpts(ze),rr=tr.reversescale?Qe.flipScale(tr.colorscale):tr.colorscale,ar=rr[0][1],Lr=["interpolate",["linear"],["heatmap-density"],0,$e.opacity(ar)<1?ar:$e.addOpacity(ar,0)];for(nt=1;nt<rr.length;nt++)Lr.push(rr[nt][0],rr[nt][1]);var Qr=["interpolate",["linear"],["get","z"],tr.min,0,tr.max,1];return We.extendFlat(rt.heatmap.paint,{"heatmap-weight":ft?Qr:1/(tr.max-tr.min),"heatmap-color":Lr,"heatmap-radius":xt?{type:"identity",property:"r"}:ze.radius,"heatmap-opacity":ze.opacity}),rt.geojson={type:"FeatureCollection",features:at},rt.heatmap.layout.visibility="visible",rt}},"1db7":function(Ee,ze,Be){"use strict";var Ue=Be("f7a4"),We=Be("6e58"),$e=Be("0a3e").keyFun,Qe=Be("0a3e").repeat,et=Be("fc26").sorterAsc,tt=Ue.bar.snapRatio;function snapOvershoot(Ee,ze){return Ee*(1-tt)+ze*tt}var rt=Ue.bar.snapClose;function closeToCovering(Ee,ze){return Ee*(1-rt)+ze*rt}function ordinalScaleSnap(Ee,ze,Be,Ue){if(function overlappingExisting(Ee,ze){for(var Be=0;Be<ze.length;Be++)if(Ee>=ze[Be][0]&&Ee<=ze[Be][1])return!0;return!1}(Be,Ue))return Be;var We=Ee?-1:1,$e=0,Qe=ze.length-1;if(We<0){var et=$e;$e=Qe,Qe=et}for(var tt=ze[$e],rt=tt,nt=$e;We*nt<We*Qe;nt+=We){var at=nt+We,it=ze[at];if(We*Be<We*closeToCovering(tt,it))return snapOvershoot(tt,rt);if(We*Be<We*it||at===Qe)return snapOvershoot(it,tt);rt=tt,tt=it}}function barHorizontalSetup(Ee){Ee.attr("x",-Ue.bar.captureWidth/2).attr("width",Ue.bar.captureWidth)}function backgroundBarHorizontalSetup(Ee){Ee.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function setHighlight(Ee){if(!Ee.brush.filterSpecified)return"0,"+Ee.height;for(var ze,Be,Ue,We=unitToPx(Ee.brush.filter.getConsolidated(),Ee.height),$e=[0],Qe=We.length?We[0][0]:null,et=0;et<We.length;et++)Be=(ze=We[et])[1]-ze[0],$e.push(Qe),$e.push(Be),(Ue=et+1)<We.length&&(Qe=We[Ue][0]-ze[1]);return $e.push(Ee.height),$e}function unitToPx(Ee,ze){return Ee.map((function(Ee){return Ee.map((function(Ee){return Math.max(0,Ee*ze)})).sort(et)}))}function clearCursor(){We.select(document.body).style("cursor",null)}function styleHighlight(Ee){Ee.attr("stroke-dasharray",setHighlight)}function renderHighlight(Ee,ze){var Be=We.select(Ee).selectAll(".highlight, .highlight-shadow");styleHighlight(ze?Be.transition().duration(Ue.bar.snapDuration).each("end",ze):Be)}function getInterval(Ee,ze){var Be,We=Ee.brush,$e=NaN,Qe={};if(We.filterSpecified){var et=Ee.height,tt=We.filter.getConsolidated(),rt=unitToPx(tt,et),nt=NaN,at=NaN,it=NaN;for(Be=0;Be<=rt.length;Be++){var ct=rt[Be];if(ct&&ct[0]<=ze&&ze<=ct[1]){nt=Be;break}if(at=Be?Be-1:NaN,ct&&ct[0]>ze){it=Be;break}}if($e=nt,isNaN($e)&&($e=isNaN(at)||isNaN(it)?isNaN(at)?it:at:ze-rt[at][1]<rt[it][0]-ze?at:it),!isNaN($e)){var ft=rt[$e],xt=function getRegion(Ee,ze){var Be=Ue.bar.handleHeight;if(!(ze>Ee[1]+Be||ze<Ee[0]-Be))return ze>=.9*Ee[1]+.1*Ee[0]?"n":ze<=.9*Ee[0]+.1*Ee[1]?"s":"ns"}(ft,ze);xt&&(Qe.interval=tt[$e],Qe.intervalPix=ft,Qe.region=xt)}}if(Ee.ordinal&&!Qe.region){var kt=Ee.unitTickvals,Lt=Ee.unitToPaddedPx.invert(ze);for(Be=0;Be<kt.length;Be++){var Ut=[.25*kt[Math.max(Be-1,0)]+.75*kt[Be],.25*kt[Math.min(Be+1,kt.length-1)]+.75*kt[Be]];if(Lt>=Ut[0]&&Lt<=Ut[1]){Qe.clickableOrdinalRange=Ut;break}}}return Qe}function drag(Ee,ze){We.event.sourceEvent.stopPropagation();var Be=ze.height-We.mouse(Ee)[1]-2*Ue.verticalPadding,$e=ze.brush.svgBrush;$e.wasDragged=!0,$e._dragging=!0,$e.grabbingBar?$e.newExtent=[Be-$e.grabPoint,Be+$e.barLength-$e.grabPoint].map(ze.unitToPaddedPx.invert):$e.newExtent=[$e.startExtent,ze.unitToPaddedPx.invert(Be)].sort(et),ze.brush.filterSpecified=!0,$e.extent=$e.stayingIntervals.concat([$e.newExtent]),$e.brushCallback(ze),renderHighlight(Ee.parentNode)}function mousemove(Ee,ze){var Be=getInterval(ze,ze.height-We.mouse(Ee)[1]-2*Ue.verticalPadding),$e="crosshair";Be.clickableOrdinalRange?$e="pointer":Be.region&&($e=Be.region+"-resize"),We.select(document.body).style("cursor",$e)}function attachDragBehavior(Ee){Ee.on("mousemove",(function(Ee){We.event.preventDefault(),Ee.parent.inBrushDrag||mousemove(this,Ee)})).on("mouseleave",(function(Ee){Ee.parent.inBrushDrag||clearCursor()})).call(We.behavior.drag().on("dragstart",(function(Ee){!function dragstart(Ee,ze){We.event.sourceEvent.stopPropagation();var Be=ze.height-We.mouse(Ee)[1]-2*Ue.verticalPadding,$e=ze.unitToPaddedPx.invert(Be),Qe=ze.brush,et=getInterval(ze,Be),tt=et.interval,rt=Qe.svgBrush;if(rt.wasDragged=!1,rt.grabbingBar="ns"===et.region,rt.grabbingBar){var nt=tt.map(ze.unitToPaddedPx);rt.grabPoint=Be-nt[0]-Ue.verticalPadding,rt.barLength=nt[1]-nt[0]}rt.clickableOrdinalRange=et.clickableOrdinalRange,rt.stayingIntervals=ze.multiselect&&Qe.filterSpecified?Qe.filter.getConsolidated():[],tt&&(rt.stayingIntervals=rt.stayingIntervals.filter((function(Ee){return Ee[0]!==tt[0]&&Ee[1]!==tt[1]}))),rt.startExtent=et.region?tt["s"===et.region?1:0]:$e,ze.parent.inBrushDrag=!0,rt.brushStartCallback()}(this,Ee)})).on("drag",(function(Ee){drag(this,Ee)})).on("dragend",(function(Ee){!function dragend(Ee,ze){var Be=ze.brush,Ue=Be.filter,$e=Be.svgBrush;$e._dragging||(mousemove(Ee,ze),drag(Ee,ze),ze.brush.svgBrush.wasDragged=!1),$e._dragging=!1,We.event.sourceEvent.stopPropagation();var Qe=$e.grabbingBar;if($e.grabbingBar=!1,$e.grabLocation=void 0,ze.parent.inBrushDrag=!1,clearCursor(),!$e.wasDragged)return $e.wasDragged=void 0,$e.clickableOrdinalRange?Be.filterSpecified&&ze.multiselect?$e.extent.push($e.clickableOrdinalRange):($e.extent=[$e.clickableOrdinalRange],Be.filterSpecified=!0):Qe?($e.extent=$e.stayingIntervals,0===$e.extent.length&&brushClear(Be)):brushClear(Be),$e.brushCallback(ze),renderHighlight(Ee.parentNode),void $e.brushEndCallback(Be.filterSpecified?Ue.getConsolidated():[]);var mergeIntervals=function(){Ue.set(Ue.getConsolidated())};if(ze.ordinal){var et=ze.unitTickvals;et[et.length-1]<et[0]&&et.reverse(),$e.newExtent=[ordinalScaleSnap(0,et,$e.newExtent[0],$e.stayingIntervals),ordinalScaleSnap(1,et,$e.newExtent[1],$e.stayingIntervals)];var tt=$e.newExtent[1]>$e.newExtent[0];$e.extent=$e.stayingIntervals.concat(tt?[$e.newExtent]:[]),$e.extent.length||brushClear(Be),$e.brushCallback(ze),tt?renderHighlight(Ee.parentNode,mergeIntervals):(mergeIntervals(),renderHighlight(Ee.parentNode))}else mergeIntervals();$e.brushEndCallback(Be.filterSpecified?Ue.getConsolidated():[])}(this,Ee)})))}function startAsc(Ee,ze){return Ee[0]-ze[0]}function brushClear(Ee){Ee.filterSpecified=!1,Ee.svgBrush.extent=[[-1/0,1/0]]}function dedupeRealRanges(Ee){for(var ze,Be=Ee.slice(),Ue=[],We=Be.shift();We;){for(ze=We.slice();(We=Be.shift())&&We[0]<=ze[1];)ze[1]=Math.max(ze[1],We[1]);Ue.push(ze)}return Ue}Ee.exports={makeBrush:function makeBrush(Ee,ze,Be,Ue,We,$e){var Qe,tt=function makeFilter(){var Ee,ze,Be=[];return{set:function(Ue){1===(Be=Ue.map((function(Ee){return Ee.slice().sort(et)})).sort(startAsc)).length&&Be[0][0]===-1/0&&Be[0][1]===1/0&&(Be=[[0,-1]]),Ee=dedupeRealRanges(Be),ze=Be.reduce((function(Ee,ze){return[Math.min(Ee[0],ze[0]),Math.max(Ee[1],ze[1])]}),[1/0,-1/0])},get:function(){return Be.slice()},getConsolidated:function(){return Ee},getBounds:function(){return ze}}}();return tt.set(Be),{filter:tt,filterSpecified:ze,svgBrush:{extent:[],brushStartCallback:Ue,brushCallback:(Qe=We,function axisBrushMoved(Ee){var ze=Ee.brush,Be=function getBrushExtent(Ee){return Ee.svgBrush.extent.map((function(Ee){return Ee.slice()}))}(ze).slice();ze.filter.set(Be),Qe()}),brushEndCallback:$e}}},ensureAxisBrush:function ensureAxisBrush(Ee){var ze=Ee.selectAll("."+Ue.cn.axisBrush).data(Qe,$e);ze.enter().append("g").classed(Ue.cn.axisBrush,!0),function renderAxisBrush(Ee){var ze=Ee.selectAll(".background").data(Qe);ze.enter().append("rect").classed("background",!0).call(barHorizontalSetup).call(backgroundBarHorizontalSetup).style("pointer-events","auto").attr("transform","translate(0 "+Ue.verticalPadding+")"),ze.call(attachDragBehavior).attr("height",(function(Ee){return Ee.height-Ue.verticalPadding}));var Be=Ee.selectAll(".highlight-shadow").data(Qe);Be.enter().append("line").classed("highlight-shadow",!0).attr("x",-Ue.bar.width/2).attr("stroke-width",Ue.bar.width+Ue.bar.strokeWidth).attr("stroke",Ue.bar.strokeColor).attr("opacity",Ue.bar.strokeOpacity).attr("stroke-linecap","butt"),Be.attr("y1",(function(Ee){return Ee.height})).call(styleHighlight);var We=Ee.selectAll(".highlight").data(Qe);We.enter().append("line").classed("highlight",!0).attr("x",-Ue.bar.width/2).attr("stroke-width",Ue.bar.width-Ue.bar.strokeWidth).attr("stroke",Ue.bar.fillColor).attr("opacity",Ue.bar.fillOpacity).attr("stroke-linecap","butt"),We.attr("y1",(function(Ee){return Ee.height})).call(styleHighlight)}(ze)},cleanRanges:function cleanRanges(Ee,ze){if(Array.isArray(Ee[0])?(Ee=Ee.map((function(Ee){return Ee.sort(et)})),Ee=ze.multiselect?dedupeRealRanges(Ee.sort(startAsc)):[Ee[0]]):Ee=[Ee.sort(et)],ze.tickvals){var Be=ze.tickvals.slice().sort(et);if(!(Ee=Ee.map((function(Ee){var ze=[ordinalScaleSnap(0,Be,Ee[0],[]),ordinalScaleSnap(1,Be,Ee[1],[])];if(ze[1]>ze[0])return ze})).filter((function(Ee){return Ee}))).length)return}return Ee.length>1?Ee:Ee[0]}}},"1db7e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("215c").hasColorscale,$e=Be("215c").extractOpts;Ee.exports=function crossTraceDefaults(Ee,ze){function replace(Ee,ze){var Be=Ee["_"+ze];void 0!==Be&&(Ee[ze]=Be)}function relinkColorAttrs(Ee,Be){var We=Be.container?Ue.nestedProperty(Ee,Be.container).get():Ee;if(We)if(We.coloraxis)We._colorAx=ze[We.coloraxis];else{var Qe=$e(We),et=Qe.auto;(et||void 0===Qe.min)&&replace(We,Be.min),(et||void 0===Qe.max)&&replace(We,Be.max),Qe.autocolorscale&&replace(We,"colorscale")}}for(var Be=0;Be<Ee.length;Be++){var Qe=Ee[Be],et=Qe._module.colorbar;if(et)if(Array.isArray(et))for(var tt=0;tt<et.length;tt++)relinkColorAttrs(Qe,et[tt]);else relinkColorAttrs(Qe,et);We(Qe,"marker.line")&&relinkColorAttrs(Qe,{container:"marker.line",min:"cmin",max:"cmax"})}for(var rt in ze._colorAxes)relinkColorAttrs(ze[rt],{min:"cmin",max:"cmax"})}},"1ddb":function(Ee,ze,Be){"use strict";var Ue=Be("8c75");function VAOEmulated(Ee){this.gl=Ee,this._elements=null,this._attributes=null,this._elementsType=Ee.UNSIGNED_SHORT}VAOEmulated.prototype.bind=function(){Ue(this.gl,this._elements,this._attributes)},VAOEmulated.prototype.update=function(Ee,ze,Be){this._elements=ze,this._attributes=Ee,this._elementsType=Be||this.gl.UNSIGNED_SHORT},VAOEmulated.prototype.dispose=function(){},VAOEmulated.prototype.unbind=function(){},VAOEmulated.prototype.draw=function(Ee,ze,Be){Be=Be||0;var Ue=this.gl;this._elements?Ue.drawElements(Ee,ze,this._elementsType,Be):Ue.drawArrays(Ee,Be,ze)},Ee.exports=function createVAOEmulated(Ee){return new VAOEmulated(Ee)}},"1dde":function(Ee,ze,Be){var Ue=Be("d039"),We=Be("b622"),$e=Be("2d00"),Qe=We("species");Ee.exports=function(Ee){return $e>=51||!Ue((function(){var ze=[];return(ze.constructor={})[Qe]=function(){return{foo:1}},1!==ze[Ee](Boolean).foo}))}},"1e03":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},"1e0a":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){try{return Ee.toString()}catch(ze){try{return String(Ee)}catch(Ee){return null}}}},"1ea6":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},"1ebf":function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("fb5a"),$e=Be("dfb3"),Qe=Be("94d5").hovertemplateAttrs,et=Be("9092").extendFlat,tt=Ue.marker,rt=tt.line;Ee.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:et({},tt.symbol,{arrayOk:!1,editType:"plot"}),opacity:et({},tt.opacity,{arrayOk:!1,dflt:1,editType:"style"}),size:et({},tt.size,{arrayOk:!1,editType:"calc"}),color:et({},tt.color,{arrayOk:!1,editType:"style"}),line:{color:et({},rt.color,{arrayOk:!1,dflt:$e.defaultLine,editType:"style"}),width:et({},rt.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:Ue.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:We.offsetgroup,alignmentgroup:We.alignmentgroup,selected:{marker:Ue.selected.marker,editType:"style"},unselected:{marker:Ue.unselected.marker,editType:"style"},text:et({},Ue.text,{}),hovertext:et({},Ue.hovertext,{}),hovertemplate:Qe({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},"1f25":function(Ee,ze,Be){"use strict";Ee.exports=function convexHull1d(Ee){for(var ze=0,Be=0,Ue=1;Ue<Ee.length;++Ue)Ee[Ue][0]<Ee[ze][0]&&(ze=Ue),Ee[Ue][0]>Ee[Be][0]&&(Be=Ue);return ze<Be?[[ze],[Be]]:ze>Be?[[Be],[ze]]:[[ze]]}},"1fac":function(Ee,ze,Be){"use strict";Ee.exports=function gradient(Ee,ze,Be){if(Array.isArray(Be)){if(Be.length!==ze.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else Be=Ue(ze.dimension,"string"==typeof Be?Be:"clamp");if(Ee.dimension!==ze.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(Ee.shape[ze.dimension]!==ze.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var We=0;We<ze.dimension;++We)if(Ee.shape[We]!==ze.shape[We])throw new Error("ndarray-gradient: shape mismatch");if(0===ze.size)return Ee;if(ze.dimension<=0)return Ee.set(0),Ee;return function generateGradient(Ee){var ze=Ee.join();if(xt=Qe[ze])return xt;var Be=Ee.length,Ue=["function gradient(dst,src){var s=src.shape.slice();"];function handleBoundary(ze){for(var We=Be-ze.length,$e=[],Qe=[],et=[],tt=0;tt<Be;++tt)ze.indexOf(tt+1)>=0?et.push("0"):ze.indexOf(-(tt+1))>=0?et.push("s["+tt+"]-1"):(et.push("-1"),$e.push("1"),Qe.push("s["+tt+"]-2"));var rt=".lo("+$e.join()+").hi("+Qe.join()+")";if(0===$e.length&&(rt=""),We>0){Ue.push("if(1");for(tt=0;tt<Be;++tt)ze.indexOf(tt+1)>=0||ze.indexOf(-(tt+1))>=0||Ue.push("&&s[",tt,"]>2");Ue.push("){grad",We,"(src.pick(",et.join(),")",rt);for(tt=0;tt<Be;++tt)ze.indexOf(tt+1)>=0||ze.indexOf(-(tt+1))>=0||Ue.push(",dst.pick(",et.join(),",",tt,")",rt);Ue.push(");")}for(tt=0;tt<ze.length;++tt){var nt=Math.abs(ze[tt])-1,at="dst.pick("+et.join()+","+nt+")"+rt;switch(Ee[nt]){case"clamp":var it=et.slice(),ct=et.slice();ze[tt]<0?it[nt]="s["+nt+"]-2":ct[nt]="1",0===We?Ue.push("if(s[",nt,"]>1){dst.set(",et.join(),",",nt,",0.5*(src.get(",it.join(),")-src.get(",ct.join(),")))}else{dst.set(",et.join(),",",nt,",0)};"):Ue.push("if(s[",nt,"]>1){diff(",at,",src.pick(",it.join(),")",rt,",src.pick(",ct.join(),")",rt,");}else{zero(",at,");};");break;case"mirror":0===We?Ue.push("dst.set(",et.join(),",",nt,",0);"):Ue.push("zero(",at,");");break;case"wrap":var ft=et.slice(),xt=et.slice();ze[tt]<0?(ft[nt]="s["+nt+"]-2",xt[nt]="0"):(ft[nt]="s["+nt+"]-1",xt[nt]="1"),0===We?Ue.push("if(s[",nt,"]>2){dst.set(",et.join(),",",nt,",0.5*(src.get(",ft.join(),")-src.get(",xt.join(),")))}else{dst.set(",et.join(),",",nt,",0)};"):Ue.push("if(s[",nt,"]>2){diff(",at,",src.pick(",ft.join(),")",rt,",src.pick(",xt.join(),")",rt,");}else{zero(",at,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}We>0&&Ue.push("};")}for(var We=0;We<1<<Be;++We){for(var et=[],nt=0;nt<Be;++nt)We&1<<nt&&et.push(nt+1);for(var at=0;at<1<<et.length;++at){var it=et.slice();for(nt=0;nt<et.length;++nt)at&1<<nt&&(it[nt]=-it[nt]);handleBoundary(it)}}Ue.push("return dst;};return gradient");var ct=["diff","zero"],ft=[tt,rt];for(We=1;We<=Be;++We)ct.push("grad"+We),ft.push(generateTemplate(We));ct.push(Ue.join(""));var xt=Function.apply(void 0,ct).apply(void 0,ft);return $e[ze]=xt,xt}(Be)(Ee,ze)};var Ue=Be("84af"),We=Be("40ce"),$e={},Qe={},et={body:"",args:[],thisVars:[],localVars:[]},tt=We({args:["array","array","array"],pre:et,post:et,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),rt=We({args:["array"],pre:et,post:et,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"});function generateTemplate(Ee){if(Ee in $e)return $e[Ee];for(var ze=[],Be=0;Be<Ee;++Be)ze.push("out",Be,"s=0.5*(inp",Be,"l-inp",Be,"r);");var Qe=["array"],tt=["junk"];for(Be=0;Be<Ee;++Be){Qe.push("array"),tt.push("out"+Be+"s");var rt=Ue(Ee);rt[Be]=-1,Qe.push({array:0,offset:rt.slice()}),rt[Be]=1,Qe.push({array:0,offset:rt.slice()}),tt.push("inp"+Be+"l","inp"+Be+"r")}return $e[Ee]=We({args:Qe,pre:et,post:et,body:{body:ze.join(""),args:tt.map((function(Ee){return{name:Ee,lvalue:0===Ee.indexOf("out"),rvalue:0===Ee.indexOf("inp"),count:"junk"!==Ee|0}})),thisVars:[],localVars:[]},funcName:"fdTemplate"+Ee})}},"1fb5":function(Ee,ze,Be){"use strict";ze.byteLength=function byteLength(Ee){var ze=getLens(Ee),Be=ze[0],Ue=ze[1];return 3*(Be+Ue)/4-Ue},ze.toByteArray=function toByteArray(Ee){var ze,Be,Ue=getLens(Ee),Qe=Ue[0],et=Ue[1],tt=new $e(function _byteLength(Ee,ze,Be){return 3*(ze+Be)/4-Be}(0,Qe,et)),rt=0,nt=et>0?Qe-4:Qe;for(Be=0;Be<nt;Be+=4)ze=We[Ee.charCodeAt(Be)]<<18|We[Ee.charCodeAt(Be+1)]<<12|We[Ee.charCodeAt(Be+2)]<<6|We[Ee.charCodeAt(Be+3)],tt[rt++]=ze>>16&255,tt[rt++]=ze>>8&255,tt[rt++]=255&ze;2===et&&(ze=We[Ee.charCodeAt(Be)]<<2|We[Ee.charCodeAt(Be+1)]>>4,tt[rt++]=255&ze);1===et&&(ze=We[Ee.charCodeAt(Be)]<<10|We[Ee.charCodeAt(Be+1)]<<4|We[Ee.charCodeAt(Be+2)]>>2,tt[rt++]=ze>>8&255,tt[rt++]=255&ze);return tt},ze.fromByteArray=function fromByteArray(Ee){for(var ze,Be=Ee.length,We=Be%3,$e=[],Qe=0,et=Be-We;Qe<et;Qe+=16383)$e.push(encodeChunk(Ee,Qe,Qe+16383>et?et:Qe+16383));1===We?(ze=Ee[Be-1],$e.push(Ue[ze>>2]+Ue[ze<<4&63]+"==")):2===We&&(ze=(Ee[Be-2]<<8)+Ee[Be-1],$e.push(Ue[ze>>10]+Ue[ze>>4&63]+Ue[ze<<2&63]+"="));return $e.join("")};for(var Ue=[],We=[],$e="undefined"!=typeof Uint8Array?Uint8Array:Array,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=0,tt=Qe.length;et<tt;++et)Ue[et]=Qe[et],We[Qe.charCodeAt(et)]=et;function getLens(Ee){var ze=Ee.length;if(ze%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Be=Ee.indexOf("=");return-1===Be&&(Be=ze),[Be,Be===ze?0:4-Be%4]}function encodeChunk(Ee,ze,Be){for(var We,$e,Qe=[],et=ze;et<Be;et+=3)We=(Ee[et]<<16&16711680)+(Ee[et+1]<<8&65280)+(255&Ee[et+2]),Qe.push(Ue[($e=We)>>18&63]+Ue[$e>>12&63]+Ue[$e>>6&63]+Ue[63&$e]);return Qe.join("")}We["-".charCodeAt(0)]=62,We["_".charCodeAt(0)]=63},2015:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("371e"),$e=Be("fc26"),Qe=Be("a651"),et=Be("8c2d");Ee.exports=function(Ee,ze,Be,tt){var rt="error_"+tt.axis,nt=Qe.newContainer(ze,rt),at=Ee[rt]||{};function coerce(Ee,ze){return $e.coerce(at,nt,et,Ee,ze)}if(!1!==coerce("visible",void 0!==at.array||void 0!==at.value||"sqrt"===at.type)){var it=coerce("type","array"in at?"data":"percent"),ct=!0;"sqrt"!==it&&(ct=coerce("symmetric",!(("data"===it?"arrayminus":"valueminus")in at))),"data"===it?(coerce("array"),coerce("traceref"),ct||(coerce("arrayminus"),coerce("tracerefminus"))):"percent"!==it&&"constant"!==it||(coerce("value"),ct||coerce("valueminus"));var ft="copy_"+tt.inherit+"style";if(tt.inherit)(ze["error_"+tt.inherit]||{}).visible&&coerce(ft,!(at.color||Ue(at.thickness)||Ue(at.width)));tt.inherit&&nt[ft]||(coerce("color",Be),coerce("thickness"),coerce("width",We.traceIs(ze,"gl3d")?0:4))}}},2031:function(Ee,ze,Be){"use strict";Ee.exports=Be("14ab")()?Object.assign:Be("f60e")},20314:function(Ee,ze,Be){"use strict";Ee.exports=function iota(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be)ze[Be]=Be;return ze}},"204d":function(Ee,ze){Ee.exports=function set(Ee,ze,Be,Ue,We){return Ee[0]=ze,Ee[1]=Be,Ee[2]=Ue,Ee[3]=We,Ee}},2093:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function handleHoverLabelDefaults(Ee,ze,Be,We){Be("hoverlabel.bgcolor",(We=We||{}).bgcolor),Be("hoverlabel.bordercolor",We.bordercolor),Be("hoverlabel.namelength",We.namelength),Ue.coerceFont(Be,"hoverlabel.font",We.font),Be("hoverlabel.align",We.align)}},"214c":function(Ee,ze,Be){"use strict";var Ue=Be("de81");Ee.exports=function selectPoints(Ee,ze){var Be,We,$e,Qe,et=Ee.cd,tt=Ee.xaxis,rt=Ee.yaxis,nt=[],at=et[0].trace;if(!Ue.hasMarkers(at)&&!Ue.hasText(at))return[];if(!1===ze)for(Be=0;Be<et.length;Be++)et[Be].selected=0;else for(Be=0;Be<et.length;Be++)We=et[Be],$e=tt.c2p(We.x),Qe=rt.c2p(We.y),null!==We.i&&ze.contains([$e,Qe],!1,Be,Ee)?(nt.push({pointNumber:We.i,x:tt.c2d(We.x),y:rt.c2d(We.y)}),We.selected=1):We.selected=0;return nt}},"215c":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("19b2"),Qe=Be("fc26"),et=Be("d115"),tt=Be("4852").isValid;var rt=["showscale","autocolorscale","colorscale","reversescale","colorbar"],nt=["min","max","mid","auto"];function extractOpts(Ee){var ze,Be,Ue,We=Ee._colorAx,$e=We||Ee,Qe={};for(Be=0;Be<rt.length;Be++)Qe[Ue=rt[Be]]=$e[Ue];if(We)for(ze="c",Be=0;Be<nt.length;Be++)Qe[Ue=nt[Be]]=$e["c"+Ue];else{var et;for(Be=0;Be<nt.length;Be++)((et="c"+(Ue=nt[Be]))in $e||(et="z"+Ue)in $e)&&(Qe[Ue]=$e[et]);ze=et.charAt(0)}return Qe._sync=function(Ee,Be){var Ue=-1!==nt.indexOf(Ee)?ze+Ee:Ee;$e[Ue]=$e["_"+Ue]=Be},Qe}function extractScale(Ee){for(var ze=extractOpts(Ee),Be=ze.min,Ue=ze.max,We=ze.reversescale?flipScale(ze.colorscale):ze.colorscale,$e=We.length,Qe=new Array($e),et=new Array($e),tt=0;tt<$e;tt++){var rt=We[tt];Qe[tt]=Be+rt[0]*(Ue-Be),et[tt]=rt[1]}return{domain:Qe,range:et}}function flipScale(Ee){for(var ze=Ee.length,Be=new Array(ze),Ue=ze-1,We=0;Ue>=0;Ue--,We++){var $e=Ee[Ue];Be[We]=[1-$e[0],$e[1]]}return Be}function makeColorScaleFunc(Ee,ze){ze=ze||{};for(var Be=Ee.domain,Qe=Ee.range,tt=Qe.length,rt=new Array(tt),nt=0;nt<tt;nt++){var at=We(Qe[nt]).toRgb();rt[nt]=[at.r,at.g,at.b,at.a]}var it,ct=Ue.scale.linear().domain(Be).range(rt).clamp(!0),ft=ze.noNumericCheck,xt=ze.returnArray;return(it=ft&&xt?ct:ft?function(Ee){return colorArray2rbga(ct(Ee))}:xt?function(Ee){return $e(Ee)?ct(Ee):We(Ee).isValid()?Ee:et.defaultLine}:function(Ee){return $e(Ee)?colorArray2rbga(ct(Ee)):We(Ee).isValid()?Ee:et.defaultLine}).domain=ct.domain,it.range=function(){return Qe},it}function colorArray2rbga(Ee){var ze={r:Ee[0],g:Ee[1],b:Ee[2],a:Ee[3]};return We(ze).toRgbString()}Ee.exports={hasColorscale:function hasColorscale(Ee,ze,Be){var Ue=ze?Qe.nestedProperty(Ee,ze).get()||{}:Ee,We=Ue[Be||"color"],et=!1;if(Qe.isArrayOrTypedArray(We))for(var rt=0;rt<We.length;rt++)if($e(We[rt])){et=!0;break}return Qe.isPlainObject(Ue)&&(et||!0===Ue.showscale||$e(Ue.cmin)&&$e(Ue.cmax)||tt(Ue.colorscale)||Qe.isPlainObject(Ue.colorbar))},extractOpts:extractOpts,extractScale:extractScale,flipScale:flipScale,makeColorScaleFunc:makeColorScaleFunc,makeColorScaleFuncFromTrace:function makeColorScaleFuncFromTrace(Ee,ze){return makeColorScaleFunc(extractScale(Ee),ze)}}},2160:function(Ee,ze,Be){"use strict";var Ue=Be("62c4"),We={function:!0,object:!0};Ee.exports=function(Ee){return Ue(Ee)&&We[typeof Ee]||!1}},2169:function(Ee,ze,Be){"use strict";var Ue=Be("e806").BADNUM;ze.calcTraceToLineCoords=function(Ee){for(var ze=Ee[0].trace.connectgaps,Be=[],We=[],$e=0;$e<Ee.length;$e++){var Qe=Ee[$e].lonlat;Qe[0]!==Ue?We.push(Qe):!ze&&We.length>0&&(Be.push(We),We=[])}return We.length>0&&Be.push(We),Be},ze.makeLine=function(Ee){return 1===Ee.length?{type:"LineString",coordinates:Ee[0]}:{type:"MultiLineString",coordinates:Ee}},ze.makePolygon=function(Ee){if(1===Ee.length)return{type:"Polygon",coordinates:Ee};for(var ze=new Array(Ee.length),Be=0;Be<Ee.length;Be++)ze[Be]=[Ee[Be]];return{type:"MultiPolygon",coordinates:ze}},ze.makeBlank=function(){return{type:"Point",coordinates:[]}}},2195:function(Ee,ze,Be){"use strict";var Ue=Be("def6"),We=Be("0fba");Ee.exports=function rationalize(Ee,ze){var Be=We(Ee),$e=We(ze);if(0===Be)return[Ue(0),Ue(1)];if(0===$e)return[Ue(0),Ue(0)];$e<0&&(Ee=Ee.neg(),ze=ze.neg());var Qe=Ee.gcd(ze);if(Qe.cmpn(1))return[Ee.div(Qe),ze.div(Qe)];return[Ee,ze]}},"21d9":function(Ee,ze,Be){"use strict";Ee.exports=function boundary(Ee){return We(Ue(Ee))};var Ue=Be("566e"),We=Be("941b")},"21dd":function(Ee,ze,Be){"use strict";Ee.exports=Be("f657")},"223c":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("0379"),et=Be("c8b8"),tt=Be("da8c").styleOne,rt=Be("23cc"),nt=Be("fb56"),at=Be("6962");Ee.exports=function drawAncestors(Ee,ze,Be,it,ct){var ft=ct.barDifY,xt=ct.width,kt=ct.height,Lt=ct.viewX,Ut=ct.viewY,er=ct.pathSlice,tr=ct.toMoveInsideSlice,rr=ct.strTransform,ar=ct.hasTransition,Lr=ct.handleSlicesExit,Qr=ct.makeUpdateSliceInterpolator,on=ct.makeUpdateTextInterpolator,sn={},ln=Ee._fullLayout,cn=ze[0],un=cn.trace,hn=cn.hierarchy,dn=xt/un._entryDepth,vn=nt.listPath(Be.data,"id"),yn=et(hn.copy(),[xt,kt],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(yn=yn.filter((function(Ee){var ze=vn.indexOf(Ee.data.id);return-1!==ze&&(Ee.x0=dn*ze,Ee.x1=dn*(ze+1),Ee.y0=ft,Ee.y1=ft+kt,Ee.onPathbar=!0,!0)}))).reverse(),(it=it.data(yn,nt.getPtId)).enter().append("g").classed("pathbar",!0),Lr(it,!0,sn,[xt,kt],er),it.order();var _n=it;ar&&(_n=_n.transition().each("end",(function(){var ze=Ue.select(this);nt.setSliceCursor(ze,Ee,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})}))),_n.each((function(et){et._hoverX=Lt(et.x1-Math.min(xt,kt)/2),et._hoverY=Ut(et.y1-kt/2);var it=Ue.select(this),ct=We.ensureSingle(it,"path","surface",(function(Ee){Ee.style("pointer-events","all")}));ar?ct.transition().attrTween("d",(function(Ee){var ze=Qr(Ee,!0,sn,[xt,kt]);return function(Ee){return er(ze(Ee))}})):ct.attr("d",er),it.call(at,Be,Ee,ze,{styleOne:tt,eventDataKeys:rt.eventDataKeys,transitionTime:rt.CLICK_TRANSITION_TIME,transitionEasing:rt.CLICK_TRANSITION_EASING}).call(nt.setSliceCursor,Ee,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:Ee._transitioning}),ct.call(tt,et,un,{hovered:!1}),et._text=(nt.getPtLabel(et)||"").split("<br>").join(" ")||"";var ft=We.ensureSingle(it,"g","slicetext"),Lr=We.ensureSingle(ft,"text","",(function(Ee){Ee.attr("data-notex",1)})),cn=We.ensureUniformFontSize(Ee,nt.determineTextFont(un,et,ln.font,{onPathbar:!0}));Lr.text(et._text||" ").classed("slicetext",!0).attr("text-anchor","start").call($e.font,cn).call(Qe.convertToTspans,Ee),et.textBB=$e.bBox(Lr.node()),et.transform=tr(et,{fontSize:cn.size,onPathbar:!0}),et.transform.fontSize=cn.size,ar?Lr.transition().attrTween("transform",(function(Ee){var ze=on(Ee,!0,sn,[xt,kt]);return function(Ee){return rr(ze(Ee))}})):Lr.attr("transform",rr(et))}))}},2244:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("91ce");Ee.exports=function(Ee,ze,Be){var $e=!1;function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}for(var Qe=0;Qe<Be.length;Qe++){var et=Be[Qe];if(et.visible&&"waterfall"===et.type){$e=!0;break}}$e&&(coerce("waterfallmode"),coerce("waterfallgap",.2),coerce("waterfallgroupgap"))}},2292:function(Ee,ze,Be){"use strict";Ee.exports=function(){var Ee,ze;if("function"!=typeof WeakMap)return!1;try{Ee=new WeakMap([[ze={},"one"],[{},"two"],[{},"three"]])}catch(Ee){return!1}return"[object WeakMap]"===String(Ee)&&("function"==typeof Ee.set&&(Ee.set({},1)===Ee&&("function"==typeof Ee.delete&&("function"==typeof Ee.has&&"one"===Ee.get(ze)))))}},22926:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("e5ac"),$e=Be("26e4"),Qe=Be("de81"),et=Be("5047"),tt=Be("8cdc"),rt=Be("50da").isOpenSymbol;function dimensionDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,$e.dimensions,Be,We)}coerce("label");var Be=coerce("values");Be&&Be.length?coerce("visible"):ze.visible=!1,coerce("axis.type"),coerce("axis.matches")}Ee.exports=function supplyDefaults(Ee,ze,Be,nt){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var at=We(Ee,ze,{name:"dimensions",handleItemDefaults:dimensionDefaults}),it=coerce("diagonal.visible"),ct=coerce("showupperhalf"),ft=coerce("showlowerhalf");if(tt(ze,at,"values")&&(it||ct||ft)){coerce("text"),coerce("hovertext"),coerce("hovertemplate"),et(Ee,ze,Be,nt,coerce);var xt=rt(ze.marker.symbol),kt=Qe.isBubble(ze);coerce("marker.line.width",xt||kt?1:0),function handleAxisDefaults(Ee,ze,Be,Ue){var We,$e,Qe=ze.dimensions,et=Qe.length,tt=ze.showupperhalf,rt=ze.showlowerhalf,nt=ze.diagonal.visible,at=new Array(et),it=new Array(et);for(We=0;We<et;We++){var ct=We?We+1:"";at[We]="x"+ct,it[We]="y"+ct}var ft=Ue("xaxes",at),xt=Ue("yaxes",it),kt=ze._diag=new Array(et);ze._xaxes={},ze._yaxes={};var Lt=[],Ut=[];function fillAxisStashes(Ee,Ue,We,$e){if(Ee){var Qe=Ee.charAt(0),et=Be._splomAxes[Qe];if(ze["_"+Qe+"axes"][Ee]=1,$e.push(Ee),!(Ee in et)){var tt=et[Ee]={};We&&(tt.label=We.label||"",We.visible&&We.axis&&(We.axis.type&&(tt.type=We.axis.type),We.axis.matches&&(tt.matches=Ue)))}}}var er=!nt&&!rt,tr=!nt&&!tt;for(ze._axesDim={},We=0;We<et;We++){var rr=Qe[We],ar=0===We,Lr=We===et-1,Qr=ar&&er||Lr&&tr?void 0:ft[We],on=ar&&tr||Lr&&er?void 0:xt[We];fillAxisStashes(Qr,on,rr,Lt),fillAxisStashes(on,Qr,rr,Ut),kt[We]=[Qr,on],ze._axesDim[Qr]=We,ze._axesDim[on]=We}for(We=0;We<Lt.length;We++)for($e=0;$e<Ut.length;$e++){var sn=Lt[We]+Ut[$e];We>$e&&tt||We<$e&&rt?Be._splomSubplots[sn]=1:We!==$e||!nt&&rt&&tt||(Be._splomSubplots[sn]=1)}(!rt||!nt&&tt&&rt)&&(Be._splomGridDflt.xside="bottom",Be._splomGridDflt.yside="left")}(0,ze,nt,coerce),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},"22b4":function(Ee,ze,Be){"use strict";ze.shader=function getShaderReference(Ee,ze,Be){return getCache(Ee).getShaderReference(ze,Be)},ze.program=function createProgram(Ee,ze,Be,Ue,We){return getCache(Ee).getProgram(ze,Be,Ue,We)};var Ue=Be("a3fd"),We=Be("07db"),$e=new("undefined"==typeof WeakMap?Be("fcc5"):WeakMap),Qe=0;function ShaderReference(Ee,ze,Be,Ue,We,$e,Qe){this.id=Ee,this.src=ze,this.type=Be,this.shader=Ue,this.count=$e,this.programs=[],this.cache=Qe}function ContextCache(Ee){this.gl=Ee,this.shaders=[{},{}],this.programs={}}ShaderReference.prototype.dispose=function(){if(0==--this.count){for(var Ee=this.cache,ze=Ee.gl,Be=this.programs,Ue=0,We=Be.length;Ue<We;++Ue){var $e=Ee.programs[Be[Ue]];$e&&(delete Ee.programs[Ue],ze.deleteProgram($e))}ze.deleteShader(this.shader),delete Ee.shaders[this.type===ze.FRAGMENT_SHADER|0][this.src]}};var et=ContextCache.prototype;function getCache(Ee){var ze=$e.get(Ee);return ze||(ze=new ContextCache(Ee),$e.set(Ee,ze)),ze}et.getShaderReference=function(Ee,ze){var Be=this.gl,$e=this.shaders[Ee===Be.FRAGMENT_SHADER|0],et=$e[ze];if(et&&Be.isShader(et.shader))et.count+=1;else{var tt=function compileShader(Ee,ze,Be){var $e=Ee.createShader(ze);if(Ee.shaderSource($e,Be),Ee.compileShader($e),!Ee.getShaderParameter($e,Ee.COMPILE_STATUS)){var Qe=Ee.getShaderInfoLog($e);try{var et=We(Qe,Be,ze)}catch(Ee){throw console.warn("Failed to format compiler error: "+Ee),new Ue(Qe,"Error compiling shader:\n"+Qe)}throw new Ue(Qe,et.short,et.long)}return $e}(Be,Ee,ze);et=$e[ze]=new ShaderReference(Qe++,ze,Ee,tt,[],1,this)}return et},et.getProgram=function(Ee,ze,Be,We){var $e=[Ee.id,ze.id,Be.join(":"),We.join(":")].join("@"),Qe=this.programs[$e];return Qe&&this.gl.isProgram(Qe)||(this.programs[$e]=Qe=function linkProgram(Ee,ze,Be,We,$e){var Qe=Ee.createProgram();Ee.attachShader(Qe,ze),Ee.attachShader(Qe,Be);for(var et=0;et<We.length;++et)Ee.bindAttribLocation(Qe,$e[et],We[et]);if(Ee.linkProgram(Qe),!Ee.getProgramParameter(Qe,Ee.LINK_STATUS)){var tt=Ee.getProgramInfoLog(Qe);throw new Ue(tt,"Error linking program: "+tt)}return Qe}(this.gl,Ee.shader,ze.shader,Be,We),Ee.programs.push($e),ze.programs.push($e)),Qe}},"22f9":function(Ee,ze,Be){"use strict";Ee.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},2325:function(Ee,ze,Be){Ee.exports=function angle(Ee,ze){var Be=Ue(Ee[0],Ee[1],Ee[2]),Qe=Ue(ze[0],ze[1],ze[2]);We(Be,Be),We(Qe,Qe);var et=$e(Be,Qe);return et>1?0:Math.acos(et)};var Ue=Be("9573"),We=Be("913b"),$e=Be("e448")},2335:function(Ee,ze){var Be={}.toString;Ee.exports=Array.isArray||function(Ee){return"[object Array]"==Be.call(Ee)}},2357:function(Ee,ze,Be){"use strict";var Ue=Be("0000"),We=Be("175e");function LiftedPoint(Ee,ze){this.point=Ee,this.index=ze}function compareLifted(Ee,ze){for(var Be=Ee.point,Ue=ze.point,We=Be.length,$e=0;$e<We;++$e){var Qe=Ue[$e]-Be[$e];if(Qe)return Qe}return 0}Ee.exports=function triangulate(Ee,ze){var Be=Ee.length;if(0===Be)return[];var $e=Ee[0].length;if($e<1)return[];if(1===$e)return function triangulate1D(Ee,ze,Be){if(1===Ee)return Be?[[-1,0]]:[];var Ue=ze.map((function(Ee,ze){return[Ee[0],ze]}));Ue.sort((function(Ee,ze){return Ee[0]-ze[0]}));for(var We=new Array(Ee-1),$e=1;$e<Ee;++$e){var Qe=Ue[$e-1],et=Ue[$e];We[$e-1]=[Qe[1],et[1]]}Be&&We.push([-1,We[0][1]],[We[Ee-1][1],-1]);return We}(Be,Ee,ze);for(var Qe=new Array(Be),et=1,tt=0;tt<Be;++tt){for(var rt=Ee[tt],nt=new Array($e+1),at=0,it=0;it<$e;++it){var ct=rt[it];nt[it]=ct,at+=ct*ct}nt[$e]=at,Qe[tt]=new LiftedPoint(nt,tt),et=Math.max(at,et)}We(Qe,compareLifted),Be=Qe.length;var ft=new Array(Be+$e+1),xt=new Array(Be+$e+1),kt=($e+1)*($e+1)*et,Lt=new Array($e+1);for(tt=0;tt<=$e;++tt)Lt[tt]=0;Lt[$e]=kt,ft[0]=Lt.slice(),xt[0]=-1;for(tt=0;tt<=$e;++tt){(nt=Lt.slice())[tt]=1,ft[tt+1]=nt,xt[tt+1]=-1}for(tt=0;tt<Be;++tt){var Ut=Qe[tt];ft[tt+$e+1]=Ut.point,xt[tt+$e+1]=Ut.index}var er=Ue(ft,!1);er=ze?er.filter((function(Ee){for(var ze=0,Be=0;Be<=$e;++Be){var Ue=xt[Ee[Be]];if(Ue<0&&++ze>=2)return!1;Ee[Be]=Ue}return!0})):er.filter((function(Ee){for(var ze=0;ze<=$e;++ze){var Be=xt[Ee[ze]];if(Be<0)return!1;Ee[ze]=Be}return!0}));if(1&$e)for(tt=0;tt<er.length;++tt){nt=(Ut=er[tt])[0];Ut[0]=Ut[1],Ut[1]=nt}return er}},"236d":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("0642"),Qe=Be("d115"),et=Be("83d1"),tt=Be("a651").arrayEditor,rt=Be("4efe"),nt=Be("0f37"),at=Be("d858"),it=Be("fdc7");function drawOne(Ee,ze){Ee._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+ze+'"]').remove();var Be=Ee._fullLayout.shapes[ze]||{};if(Be._input&&!1!==Be.visible)if("below"!==Be.layer)drawShape(Ee._fullLayout._shapeUpperLayer);else if("paper"===Be.xref||"paper"===Be.yref)drawShape(Ee._fullLayout._shapeLowerLayer);else{var ct=Ee._fullLayout._plots[Be.xref+Be.yref];if(ct)drawShape((ct.mainplotinfo||ct).shapelayer);else drawShape(Ee._fullLayout._shapeLowerLayer)}function drawShape(ct){var ft={"data-index":ze,"fill-rule":"evenodd",d:getPathString(Ee,Be)},xt=Be.line.width?Be.line.color:"rgba(0,0,0,0)",kt=ct.append("path").attr(ft).style("opacity",Be.opacity).call(Qe.stroke,xt).call(Qe.fill,Be.fillcolor).call(et.dashLine,Be.line.dash,Be.line.width);setClipPath(kt,Ee,Be),Ee._context.edits.shapePosition&&function setupDragElement(Ee,ze,Be,Qe,ct){var ft,xt,kt,Lt,Ut,er,tr,rr,ar,Lr,Qr,on,sn,ln,cn,un,hn="pixel"===Be.xsizemode,dn="pixel"===Be.ysizemode,vn="line"===Be.type,yn="path"===Be.type,_n=tt(Ee.layout,"shapes",Be),Mn=_n.modifyItem,Cn=$e.getFromId(Ee,Be.xref),En=$e.getFromId(Ee,Be.yref),Pn=it.getDataToPixel(Ee,Cn),In=it.getDataToPixel(Ee,En,!0),Bn=it.getPixelToData(Ee,Cn),Hn=it.getPixelToData(Ee,En,!0),Kn=function obtainSensoryElement(){return vn?function createLineDragHandles(){var Ee=Math.max(Be.line.width,10),Ue=ct.append("g").attr("data-index",Qe);Ue.append("path").attr("d",ze.attr("d")).style({cursor:"move","stroke-width":Ee,"stroke-opacity":"0"});var We={"fill-opacity":"0"},$e=Ee/2>10?Ee/2:10;return Ue.append("circle").attr({"data-line-point":"start-point",cx:hn?Pn(Be.xanchor)+Be.x0:Pn(Be.x0),cy:dn?In(Be.yanchor)-Be.y0:In(Be.y0),r:$e}).style(We).classed("cursor-grab",!0),Ue.append("circle").attr({"data-line-point":"end-point",cx:hn?Pn(Be.xanchor)+Be.x1:Pn(Be.x1),cy:dn?In(Be.yanchor)-Be.y1:In(Be.y1),r:$e}).style(We).classed("cursor-grab",!0),Ue}():ze}(),Jn={element:Kn.node(),gd:Ee,prepFn:function startDrag(Ue){hn&&(Ut=Pn(Be.xanchor));dn&&(er=In(Be.yanchor));"path"===Be.type?cn=Be.path:(ft=hn?Be.x0:Pn(Be.x0),xt=dn?Be.y0:In(Be.y0),kt=hn?Be.x1:Pn(Be.x1),Lt=dn?Be.y1:In(Be.y1));ft<kt?(ar=ft,sn="x0",Lr=kt,ln="x1"):(ar=kt,sn="x1",Lr=ft,ln="x0");!dn&&xt<Lt||dn&&xt>Lt?(tr=xt,Qr="y0",rr=Lt,on="y1"):(tr=Lt,Qr="y1",rr=xt,on="y0");updateDragMode(Ue),renderVisualCues(ct,Be),function deactivateClipPathTemporarily(Ee,ze,Be){var Ue=ze.xref,We=ze.yref,Qe=$e.getFromId(Be,Ue),tt=$e.getFromId(Be,We),rt="";"paper"===Ue||Qe.autorange||(rt+=Ue);"paper"===We||tt.autorange||(rt+=We);et.setClipUrl(Ee,rt?"clip"+Be._fullLayout._uid+rt:null,Be)}(ze,Be,Ee),Jn.moveFn="move"===un?moveShape:resizeShape},doneFn:function endDrag(){nt(ze),removeVisualCues(ct),setClipPath(ze,Ee,Be),Ue.call("_guiRelayout",Ee,_n.getUpdateObj())},clickFn:function abortDrag(){removeVisualCues(ct)}};function updateDragMode(Ee){if(vn)un="path"===Ee.target.tagName?"move":"start-point"===Ee.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Be=Jn.element.getBoundingClientRect(),Ue=Be.right-Be.left,We=Be.bottom-Be.top,$e=Ee.clientX-Be.left,Qe=Ee.clientY-Be.top,et=!yn&&Ue>10&&We>10&&!Ee.shiftKey?rt.getCursor($e/Ue,1-Qe/We):"move";nt(ze,et),un=et.split("-")[0]}}function moveShape(Ue,We){if("path"===Be.type){var noOp=function(Ee){return Ee},$e=noOp,Qe=noOp;hn?Mn("xanchor",Be.xanchor=Bn(Ut+Ue)):($e=function moveX(Ee){return Bn(Pn(Ee)+Ue)},Cn&&"date"===Cn.type&&($e=it.encodeDate($e))),dn?Mn("yanchor",Be.yanchor=Hn(er+We)):(Qe=function moveY(Ee){return Hn(In(Ee)+We)},En&&"date"===En.type&&(Qe=it.encodeDate(Qe))),Mn("path",Be.path=movePath(cn,$e,Qe))}else hn?Mn("xanchor",Be.xanchor=Bn(Ut+Ue)):(Mn("x0",Be.x0=Bn(ft+Ue)),Mn("x1",Be.x1=Bn(kt+Ue))),dn?Mn("yanchor",Be.yanchor=Hn(er+We)):(Mn("y0",Be.y0=Hn(xt+We)),Mn("y1",Be.y1=Hn(Lt+We)));ze.attr("d",getPathString(Ee,Be)),renderVisualCues(ct,Be)}function resizeShape(Ue,We){if(yn){var noOp=function(Ee){return Ee},$e=noOp,Qe=noOp;hn?Mn("xanchor",Be.xanchor=Bn(Ut+Ue)):($e=function moveX(Ee){return Bn(Pn(Ee)+Ue)},Cn&&"date"===Cn.type&&($e=it.encodeDate($e))),dn?Mn("yanchor",Be.yanchor=Hn(er+We)):(Qe=function moveY(Ee){return Hn(In(Ee)+We)},En&&"date"===En.type&&(Qe=it.encodeDate(Qe))),Mn("path",Be.path=movePath(cn,$e,Qe))}else if(vn){if("resize-over-start-point"===un){var et=ft+Ue,tt=dn?xt-We:xt+We;Mn("x0",Be.x0=hn?et:Bn(et)),Mn("y0",Be.y0=dn?tt:Hn(tt))}else if("resize-over-end-point"===un){var rt=kt+Ue,nt=dn?Lt-We:Lt+We;Mn("x1",Be.x1=hn?rt:Bn(rt)),Mn("y1",Be.y1=dn?nt:Hn(nt))}}else{var at=~un.indexOf("n")?tr+We:tr,_n=~un.indexOf("s")?rr+We:rr,Kn=~un.indexOf("w")?ar+Ue:ar,Jn=~un.indexOf("e")?Lr+Ue:Lr;~un.indexOf("n")&&dn&&(at=tr-We),~un.indexOf("s")&&dn&&(_n=rr-We),(!dn&&_n-at>10||dn&&at-_n>10)&&(Mn(Qr,Be[Qr]=dn?at:Hn(at)),Mn(on,Be[on]=dn?_n:Hn(_n))),Jn-Kn>10&&(Mn(sn,Be[sn]=hn?Kn:Bn(Kn)),Mn(ln,Be[ln]=hn?Jn:Bn(Jn)))}ze.attr("d",getPathString(Ee,Be)),renderVisualCues(ct,Be)}function renderVisualCues(Ee,ze){(hn||dn)&&function renderAnchor(){var Be="path"!==ze.type,Ue=Ee.selectAll(".visual-cue").data([0]);Ue.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var $e=Pn(hn?ze.xanchor:We.midRange(Be?[ze.x0,ze.x1]:it.extractPathCoords(ze.path,at.paramIsX))),Qe=In(dn?ze.yanchor:We.midRange(Be?[ze.y0,ze.y1]:it.extractPathCoords(ze.path,at.paramIsY)));if($e=it.roundPositionForSharpStrokeRendering($e,1),Qe=it.roundPositionForSharpStrokeRendering(Qe,1),hn&&dn){var et="M"+($e-1-1)+","+(Qe-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ue.attr("d",et)}else if(hn){var tt="M"+($e-1-1)+","+(Qe-9-1)+"v18 h2 v-18 Z";Ue.attr("d",tt)}else{var rt="M"+($e-9-1)+","+(Qe-1-1)+"h18 v2 h-18 Z";Ue.attr("d",rt)}}()}function removeVisualCues(Ee){Ee.selectAll(".visual-cue").remove()}rt.init(Jn),Kn.node().onmousemove=updateDragMode}(Ee,kt,Be,ze,ct)}}function setClipPath(Ee,ze,Be){var Ue=(Be.xref+Be.yref).replace(/paper/g,"");et.setClipUrl(Ee,Ue?"clip"+ze._fullLayout._uid+Ue:null,ze)}function getPathString(Ee,ze){var Be,Ue,Qe,et,tt,rt,nt,ct,ft=ze.type,xt=$e.getFromId(Ee,ze.xref),kt=$e.getFromId(Ee,ze.yref),Lt=Ee._fullLayout._size;if(xt?(Be=it.shapePositionToRange(xt),Ue=function(Ee){return xt._offset+xt.r2p(Be(Ee,!0))}):Ue=function(Ee){return Lt.l+Lt.w*Ee},kt?(Qe=it.shapePositionToRange(kt),et=function(Ee){return kt._offset+kt.r2p(Qe(Ee,!0))}):et=function(Ee){return Lt.t+Lt.h*(1-Ee)},"path"===ft)return xt&&"date"===xt.type&&(Ue=it.decodeDate(Ue)),kt&&"date"===kt.type&&(et=it.decodeDate(et)),function convertPath(Ee,ze,Be){var Ue=Ee.path,$e=Ee.xsizemode,Qe=Ee.ysizemode,et=Ee.xanchor,tt=Ee.yanchor;return Ue.replace(at.segmentRE,(function(Ee){var Ue=0,rt=Ee.charAt(0),nt=at.paramIsX[rt],it=at.paramIsY[rt],ct=at.numParams[rt],ft=Ee.substr(1).replace(at.paramRE,(function(Ee){return nt[Ue]?Ee="pixel"===$e?ze(et)+Number(Ee):ze(Ee):it[Ue]&&(Ee="pixel"===Qe?Be(tt)-Number(Ee):Be(Ee)),++Ue>ct&&(Ee="X"),Ee}));return Ue>ct&&(ft=ft.replace(/[\s,]*X.*/,""),We.log("Ignoring extra params in segment "+Ee)),rt+ft}))}(ze,Ue,et);if("pixel"===ze.xsizemode){var Ut=Ue(ze.xanchor);tt=Ut+ze.x0,rt=Ut+ze.x1}else tt=Ue(ze.x0),rt=Ue(ze.x1);if("pixel"===ze.ysizemode){var er=et(ze.yanchor);nt=er-ze.y0,ct=er-ze.y1}else nt=et(ze.y0),ct=et(ze.y1);if("line"===ft)return"M"+tt+","+nt+"L"+rt+","+ct;if("rect"===ft)return"M"+tt+","+nt+"H"+rt+"V"+ct+"H"+tt+"Z";var tr=(tt+rt)/2,rr=(nt+ct)/2,ar=Math.abs(tr-tt),Lr=Math.abs(rr-nt),Qr="A"+ar+","+Lr,on=tr+ar+","+rr;return"M"+on+Qr+" 0 1,1 "+(tr+","+(rr-Lr))+Qr+" 0 0,1 "+on+"Z"}function movePath(Ee,ze,Be){return Ee.replace(at.segmentRE,(function(Ee){var Ue=0,We=Ee.charAt(0),$e=at.paramIsX[We],Qe=at.paramIsY[We],et=at.numParams[We];return We+Ee.substr(1).replace(at.paramRE,(function(Ee){return Ue>=et||($e[Ue]?Ee=ze(Ee):Qe[Ue]&&(Ee=Be(Ee)),Ue++),Ee}))}))}Ee.exports={draw:function draw(Ee){var ze=Ee._fullLayout;for(var Be in ze._shapeUpperLayer.selectAll("path").remove(),ze._shapeLowerLayer.selectAll("path").remove(),ze._plots){var Ue=ze._plots[Be].shapelayer;Ue&&Ue.selectAll("path").remove()}for(var We=0;We<ze.shapes.length;We++)ze.shapes[We].visible&&drawOne(Ee,We)},drawOne:drawOne}},2381:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("d115"),Qe=Be("3a99"),et=Be("12c1"),tt=We.extendDeepAll,rt=Ee.exports={};rt.framework=function(Ee){var ze,Be,We,$e,nt,at=new et;function exports(Be,et){return et&&(nt=et),Ue.select(Ue.select(nt).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),ze=ze?tt(ze,Be):Be,We||(We=Qe.Axis()),$e=Qe.adapter.plotly().convert(ze),We.config($e).render(nt),Ee.data=ze.data,Ee.layout=ze.layout,rt.fillLayout(Ee),ze}return exports.isPolar=!0,exports.svg=function(){return We.svg()},exports.getConfig=function(){return ze},exports.getLiveConfig=function(){return Qe.adapter.plotly().convert(We.getLiveConfig(),!0)},exports.getLiveScales=function(){return{t:We.angularScale(),r:We.radialScale()}},exports.setUndoPoint=function(){var Ee,Ue,We=this,$e=Qe.util.cloneJson(ze);Ee=$e,Ue=Be,at.add({undo:function(){Ue&&We(Ue)},redo:function(){We(Ee)}}),Be=Qe.util.cloneJson($e)},exports.undo=function(){at.undo()},exports.redo=function(){at.redo()},exports},rt.fillLayout=function(Ee){var ze=Ue.select(Ee).selectAll(".plot-container"),Be=ze.selectAll(".svg-container"),We=Ee.framework&&Ee.framework.svg&&Ee.framework.svg(),Qe={width:800,height:600,paper_bgcolor:$e.background,_container:ze,_paperdiv:Be,_paper:We};Ee._fullLayout=tt(Qe,Ee.layout)}},"23cb":function(Ee,ze,Be){var Ue=Be("a691"),We=Math.max,$e=Math.min;Ee.exports=function(Ee,ze){var Be=Ue(Ee);return Be<0?We(Be+ze,0):$e(Be,ze)}},"23cc":function(Ee,ze,Be){"use strict";Ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},"23e7":function(Ee,ze,Be){var Ue=Be("da84"),We=Be("06cf").f,$e=Be("9112"),Qe=Be("6eeb"),et=Be("ce4e"),tt=Be("e893"),rt=Be("94ca");Ee.exports=function(Ee,ze){var Be,nt,at,it,ct,ft=Ee.target,xt=Ee.global,kt=Ee.stat;if(Be=xt?Ue:kt?Ue[ft]||et(ft,{}):(Ue[ft]||{}).prototype)for(nt in ze){if(it=ze[nt],at=Ee.noTargetGet?(ct=We(Be,nt))&&ct.value:Be[nt],!rt(xt?nt:ft+(kt?".":"#")+nt,Ee.forced)&&void 0!==at){if(typeof it==typeof at)continue;tt(it,at)}(Ee.sham||at&&at.sham)&&$e(it,"sham",!0),Qe(Be,nt,it,Ee)}}},"241c":function(Ee,ze,Be){var Ue=Be("ca84"),We=Be("7839").concat("length","prototype");ze.f=Object.getOwnPropertyNames||function getOwnPropertyNames(Ee){return Ue(Ee,We)}},2441:function(Ee,ze,Be){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var Ue,We=Be("a6dc"),$e=Be("f8a5"),Qe=Be("9935"),et=Be("a626"),tt=Be("b924"),rt=Be("34cc"),nt=!1,at=$e();function operate(Ee,ze,Be){var We=Ue.segments(Ee),$e=Ue.segments(ze),Qe=Be(Ue.combine(We,$e));return Ue.polygon(Qe)}Ue={buildLog:function(Ee){return!0===Ee?nt=We():!1===Ee&&(nt=!1),!1!==nt&&nt.list},epsilon:function(Ee){return at.epsilon(Ee)},segments:function(Ee){var ze=Qe(!0,at,nt);return Ee.regions.forEach(ze.addRegion),{segments:ze.calculate(Ee.inverted),inverted:Ee.inverted}},combine:function(Ee,ze){return{combined:Qe(!1,at,nt).calculate(Ee.segments,Ee.inverted,ze.segments,ze.inverted),inverted1:Ee.inverted,inverted2:ze.inverted}},selectUnion:function(Ee){return{segments:tt.union(Ee.combined,nt),inverted:Ee.inverted1||Ee.inverted2}},selectIntersect:function(Ee){return{segments:tt.intersect(Ee.combined,nt),inverted:Ee.inverted1&&Ee.inverted2}},selectDifference:function(Ee){return{segments:tt.difference(Ee.combined,nt),inverted:Ee.inverted1&&!Ee.inverted2}},selectDifferenceRev:function(Ee){return{segments:tt.differenceRev(Ee.combined,nt),inverted:!Ee.inverted1&&Ee.inverted2}},selectXor:function(Ee){return{segments:tt.xor(Ee.combined,nt),inverted:Ee.inverted1!==Ee.inverted2}},polygon:function(Ee){return{regions:et(Ee.segments,at,nt),inverted:Ee.inverted}},polygonFromGeoJSON:function(Ee){return rt.toPolygon(Ue,Ee)},polygonToGeoJSON:function(Ee){return rt.fromPolygon(Ue,at,Ee)},union:function(Ee,ze){return operate(Ee,ze,Ue.selectUnion)},intersect:function(Ee,ze){return operate(Ee,ze,Ue.selectIntersect)},difference:function(Ee,ze){return operate(Ee,ze,Ue.selectDifference)},differenceRev:function(Ee,ze){return operate(Ee,ze,Ue.selectDifferenceRev)},xor:function(Ee,ze){return operate(Ee,ze,Ue.selectXor)}},"object"==typeof window&&(window.PolyBool=Ue),Ee.exports=Ue},2456:function(Ee,ze){Ee.exports=function squaredLength(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2];return ze*ze+Be*Be+Ue*Ue}},"24ad":function(Ee,ze,Be){"use strict";var Ue=Be("a48a"),We=Be("dca5");function compareCells(Ee,ze){var Be=Ee.length,Ue=Ee.length-ze.length,We=Math.min;if(Ue)return Ue;switch(Be){case 0:return 0;case 1:return Ee[0]-ze[0];case 2:return(et=Ee[0]+Ee[1]-ze[0]-ze[1])||We(Ee[0],Ee[1])-We(ze[0],ze[1]);case 3:var $e=Ee[0]+Ee[1],Qe=ze[0]+ze[1];if(et=$e+Ee[2]-(Qe+ze[2]))return et;var et,tt=We(Ee[0],Ee[1]),rt=We(ze[0],ze[1]);return(et=We(tt,Ee[2])-We(rt,ze[2]))||We(tt+Ee[2],$e)-We(rt+ze[2],Qe);default:var nt=Ee.slice(0);nt.sort();var at=ze.slice(0);at.sort();for(var it=0;it<Be;++it)if(Ue=nt[it]-at[it])return Ue;return 0}}function compareZipped(Ee,ze){return compareCells(Ee[0],ze[0])}function normalize(Ee,ze){if(ze){for(var Be=Ee.length,Ue=new Array(Be),We=0;We<Be;++We)Ue[We]=[Ee[We],ze[We]];Ue.sort(compareZipped);for(We=0;We<Be;++We)Ee[We]=Ue[We][0],ze[We]=Ue[We][1];return Ee}return Ee.sort(compareCells),Ee}function unique(Ee){if(0===Ee.length)return[];for(var ze=1,Be=Ee.length,Ue=1;Ue<Be;++Ue){var We=Ee[Ue];if(compareCells(We,Ee[Ue-1])){if(Ue===ze){ze++;continue}Ee[ze++]=We}}return Ee.length=ze,Ee}function findCell(Ee,ze){for(var Be=0,Ue=Ee.length-1,We=-1;Be<=Ue;){var $e=Be+Ue>>1,Qe=compareCells(Ee[$e],ze);Qe<=0?(0===Qe&&(We=$e),Be=$e+1):Qe>0&&(Ue=$e-1)}return We}function incidence(Ee,ze){for(var Be=new Array(Ee.length),We=0,$e=Be.length;We<$e;++We)Be[We]=[];for(var Qe=[],et=(We=0,ze.length);We<et;++We)for(var tt=ze[We],rt=tt.length,nt=1,at=1<<rt;nt<at;++nt){Qe.length=Ue.popCount(nt);for(var it=0,ct=0;ct<rt;++ct)nt&1<<ct&&(Qe[it++]=tt[ct]);var ft=findCell(Ee,Qe);if(!(ft<0))for(;Be[ft++].push(We),!(ft>=Ee.length||0!==compareCells(Ee[ft],Qe)););}return Be}function skeleton(Ee,ze){if(ze<0)return[];for(var Be=[],We=(1<<ze+1)-1,$e=0;$e<Ee.length;++$e)for(var Qe=Ee[$e],et=We;et<1<<Qe.length;et=Ue.nextCombination(et)){for(var tt=new Array(ze+1),rt=0,nt=0;nt<Qe.length;++nt)et&1<<nt&&(tt[rt++]=Qe[nt]);Be.push(tt)}return normalize(Be)}ze.dimension=function dimension(Ee){for(var ze=0,Be=Math.max,Ue=0,We=Ee.length;Ue<We;++Ue)ze=Be(ze,Ee[Ue].length);return ze-1},ze.countVertices=function countVertices(Ee){for(var ze=-1,Be=Math.max,Ue=0,We=Ee.length;Ue<We;++Ue)for(var $e=Ee[Ue],Qe=0,et=$e.length;Qe<et;++Qe)ze=Be(ze,$e[Qe]);return ze+1},ze.cloneCells=function cloneCells(Ee){for(var ze=new Array(Ee.length),Be=0,Ue=Ee.length;Be<Ue;++Be)ze[Be]=Ee[Be].slice(0);return ze},ze.compareCells=compareCells,ze.normalize=normalize,ze.unique=unique,ze.findCell=findCell,ze.incidence=incidence,ze.dual=function dual(Ee,ze){if(!ze)return incidence(unique(skeleton(Ee,0)),Ee);for(var Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=[];Ue=0;for(var We=Ee.length;Ue<We;++Ue)for(var $e=Ee[Ue],Qe=0,et=$e.length;Qe<et;++Qe)Be[$e[Qe]].push(Ue);return Be},ze.explode=function explode(Ee){for(var ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0|We.length,Qe=1,et=1<<$e;Qe<et;++Qe){for(var tt=[],rt=0;rt<$e;++rt)Qe>>>rt&1&&tt.push(We[rt]);ze.push(tt)}return normalize(ze)},ze.skeleton=skeleton,ze.boundary=function boundary(Ee){for(var ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0,Qe=We.length;$e<Qe;++$e){for(var et=new Array(We.length-1),tt=0,rt=0;tt<Qe;++tt)tt!==$e&&(et[rt++]=We[tt]);ze.push(et)}return normalize(ze)},ze.connectedComponents=function connectedComponents(Ee,ze){return ze?function connectedComponents_dense(Ee,ze){for(var Be=new We(ze),Ue=0;Ue<Ee.length;++Ue)for(var $e=Ee[Ue],Qe=0;Qe<$e.length;++Qe)for(var et=Qe+1;et<$e.length;++et)Be.link($e[Qe],$e[et]);var tt=[],rt=Be.ranks;for(Ue=0;Ue<rt.length;++Ue)rt[Ue]=-1;for(Ue=0;Ue<Ee.length;++Ue){var nt=Be.find(Ee[Ue][0]);rt[nt]<0?(rt[nt]=tt.length,tt.push([Ee[Ue].slice(0)])):tt[rt[nt]].push(Ee[Ue].slice(0))}return tt}(Ee,ze):function connectedComponents_sparse(Ee){for(var ze=unique(normalize(skeleton(Ee,0))),Be=new We(ze.length),Ue=0;Ue<Ee.length;++Ue)for(var $e=Ee[Ue],Qe=0;Qe<$e.length;++Qe)for(var et=findCell(ze,[$e[Qe]]),tt=Qe+1;tt<$e.length;++tt)Be.link(et,findCell(ze,[$e[tt]]));var rt=[],nt=Be.ranks;for(Ue=0;Ue<nt.length;++Ue)nt[Ue]=-1;for(Ue=0;Ue<Ee.length;++Ue){var at=Be.find(findCell(ze,[Ee[Ue][0]]));nt[at]<0?(nt[at]=rt.length,rt.push([Ee[Ue].slice(0)])):rt[nt[at]].push(Ee[Ue].slice(0))}return rt}(Ee)}},"24fd":function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("94d5").hovertemplateAttrs,$e=Be("6b50"),Qe=Be("a876"),et=Be("9092").extendFlat,tt={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:We({editType:"calc"},{keys:["norm"]}),showlegend:et({},Qe.showlegend,{dflt:!1})};et(tt,Ue("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));["opacity","lightposition","lighting"].forEach((function(Ee){tt[Ee]=$e[Ee]})),tt.hoverinfo=et({},Qe.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),tt.transforms=void 0,Ee.exports=tt},2513:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("8173"),$e=Be("c8f0"),Qe=Be("4183"),et=Be("1590");Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}We(Ee,ze,coerce,tt),!1!==ze.visible&&($e(Ee,ze,coerce,tt),Qe(Ee,ze,tt,coerce,{prefix:"",cLetter:"z"}),coerce("hovertemplate"))}},"254d":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("714f"),$e=Be("4136"),Qe=Be("e806").BADNUM;function fixNum(Ee){return Ee===Qe?0:Ee}Ee.exports=function calc(Ee,ze){var Be,et,tt,rt,nt=Ue.getFromId(Ee,ze.xaxis||"x"),at=Ue.getFromId(Ee,ze.yaxis||"y");"h"===ze.orientation?(Be=nt.makeCalcdata(ze,"x"),et=at.makeCalcdata(ze,"y")):(Be=at.makeCalcdata(ze,"y"),et=nt.makeCalcdata(ze,"x"));var it,ct=Math.min(et.length,Be.length),ft=new Array(ct);for(ze._base=[],tt=0;tt<ct;tt++){Be[tt]<0&&(Be[tt]=Qe);var xt=!1;Be[tt]!==Qe&&tt+1<ct&&Be[tt+1]!==Qe&&(xt=!0),rt=ft[tt]={p:et[tt],s:Be[tt],cNext:xt},ze._base[tt]=-.5*rt.s,ze.ids&&(rt.id=String(ze.ids[tt])),0===tt&&(ft[0].vTotal=0),ft[0].vTotal+=fixNum(rt.s),rt.begR=fixNum(rt.s)/fixNum(ft[0].s)}for(tt=0;tt<ct;tt++)(rt=ft[tt]).s!==Qe&&(rt.sumR=rt.s/ft[0].vTotal,rt.difR=void 0!==it?rt.s/it:1,it=rt.s);return We(ft,ze),$e(ft,ze),ft}},2594:function(Ee,ze,Be){"use strict";Ee.exports=Be("e3a8")},2595:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("bb71"),Qe=Be("fc26"),et=Be("0642"),tt=Be("d115"),rt=Be("83d1"),nt=Be("a5c4"),at=Be("0379"),it=Be("0f37"),ct=Be("4efe"),ft=Be("a651").arrayEditor,xt=Be("5a1e");function drawOne(Ee,ze){var Be=Ee._fullLayout.annotations[ze]||{},Ue=et.getFromId(Ee,Be.xref),We=et.getFromId(Ee,Be.yref);Ue&&Ue.setScale(),We&&We.setScale(),drawRaw(Ee,Be,ze,!1,Ue,We)}function drawRaw(Ee,ze,Be,$e,et,kt){var Lt,Ut,er=Ee._fullLayout,tr=Ee._fullLayout._size,rr=Ee._context.edits;$e?(Lt="annotation-"+$e,Ut=$e+".annotations"):(Lt="annotation",Ut="annotations");var ar=ft(Ee.layout,Ut,ze),Lr=ar.modifyBase,Qr=ar.modifyItem,on=ar.getUpdateObj;er._infolayer.selectAll("."+Lt+'[data-index="'+Be+'"]').remove();var sn="clip"+er._uid+"_ann"+Be;if(ze._input&&!1!==ze.visible){var ln={x:{},y:{}},cn=+ze.textangle||0,un=er._infolayer.append("g").classed(Lt,!0).attr("data-index",String(Be)).style("opacity",ze.opacity),hn=un.append("g").classed("annotation-text-g",!0),dn=rr[ze.showarrow?"annotationTail":"annotationPosition"],vn=ze.captureevents||rr.annotationText||dn,yn=hn.append("g").style("pointer-events",vn?"all":null).call(it,"pointer").on("click",(function(){Ee._dragging=!1,Ee.emit("plotly_clickannotation",makeEventData(Ue.event))}));ze.hovertext&&yn.on("mouseover",(function(){var Be=ze.hoverlabel,Ue=Be.font,We=this.getBoundingClientRect(),$e=Ee.getBoundingClientRect();nt.loneHover({x0:We.left-$e.left,x1:We.right-$e.left,y:(We.top+We.bottom)/2-$e.top,text:ze.hovertext,color:Be.bgcolor,borderColor:Be.bordercolor,fontFamily:Ue.family,fontSize:Ue.size,fontColor:Ue.color},{container:er._hoverlayer.node(),outerContainer:er._paper.node(),gd:Ee})})).on("mouseout",(function(){nt.loneUnhover(er._hoverlayer.node())}));var _n=ze.borderwidth,Mn=ze.borderpad,Cn=_n+Mn,En=yn.append("rect").attr("class","bg").style("stroke-width",_n+"px").call(tt.stroke,ze.bordercolor).call(tt.fill,ze.bgcolor),Pn=ze.width||ze.height,In=er._topclips.selectAll("#"+sn).data(Pn?[0]:[]);In.enter().append("clipPath").classed("annclip",!0).attr("id",sn).append("rect"),In.exit().remove();var Bn=ze.font,Hn=er._meta?Qe.templateString(ze.text,er._meta):ze.text,Kn=yn.append("text").classed("annotation-text",!0).text(Hn);rr.annotationText?Kn.call(at.makeEditable,{delegate:yn,gd:Ee}).call(textLayout).on("edit",(function(Be){ze.text=Be,this.call(textLayout),Qr("text",Be),et&&et.autorange&&Lr(et._name+".autorange",!0),kt&&kt.autorange&&Lr(kt._name+".autorange",!0),We.call("_guiRelayout",Ee,on())})):Kn.call(textLayout)}else Ue.selectAll("#"+sn).remove();function makeEventData(Ee){var Ue={index:Be,annotation:ze._input,fullAnnotation:ze,event:Ee};return $e&&(Ue.subplotId=$e),Ue}function textLayout(Be){return Be.call(rt.font,Bn).attr({"text-anchor":{left:"start",right:"end"}[ze.align]||"middle"}),at.convertToTspans(Be,Ee,drawGraphicalElements),Be}function drawGraphicalElements(){var Be=Kn.selectAll("a");1===Be.size()&&Be.text()===Kn.text()&&yn.insert("a",":first-child").attr({"xlink:xlink:href":Be.attr("xlink:href"),"xlink:xlink:show":Be.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(En.node());var Ue=yn.select(".annotation-text-math-group"),nt=!Ue.empty(),ft=rt.bBox((nt?Ue:Kn).node()),Lt=ft.width,Ut=ft.height,ar=ze.width||Lt,vn=ze.height||Ut,Mn=Math.round(ar+2*Cn),Bn=Math.round(vn+2*Cn);function shiftFraction(Ee,ze){return"auto"===ze&&(ze=Ee<1/3?"left":Ee>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ze]}for(var Hn=!1,Jn=["x","y"],Ma=0;Ma<Jn.length;Ma++){var Sa,La,Ia,Ra,Na,Ua=Jn[Ma],qa=ze[Ua+"ref"]||Ua,Ka=ze["a"+Ua+"ref"],ei={x:et,y:kt}[Ua],ti=(cn+("x"===Ua?0:-90))*Math.PI/180,ri=Mn*Math.cos(ti),ni=Bn*Math.sin(ti),ai=Math.abs(ri)+Math.abs(ni),ii=ze[Ua+"anchor"],oi=ze[Ua+"shift"]*("x"===Ua?1:-1),si=ln[Ua];if(ei){var li=ei.r2fraction(ze[Ua]);(li<0||li>1)&&(Ka===qa?((li=ei.r2fraction(ze["a"+Ua]))<0||li>1)&&(Hn=!0):Hn=!0),Sa=ei._offset+ei.r2p(ze[Ua]),Ra=.5}else"x"===Ua?(Ia=ze[Ua],Sa=tr.l+tr.w*Ia):(Ia=1-ze[Ua],Sa=tr.t+tr.h*Ia),Ra=ze.showarrow?.5:Ia;if(ze.showarrow){si.head=Sa;var ci=ze["a"+Ua];Na=ri*shiftFraction(.5,ze.xanchor)-ni*shiftFraction(.5,ze.yanchor),Ka===qa?(si.tail=ei._offset+ei.r2p(ci),La=Na):(si.tail=Sa+ci,La=Na+ci),si.text=si.tail+Na;var hi=er["x"===Ua?"width":"height"];if("paper"===qa&&(si.head=Qe.constrain(si.head,1,hi-1)),"pixel"===Ka){var Ci=-Math.max(si.tail-3,si.text),Pi=Math.min(si.tail+3,si.text)-hi;Ci>0?(si.tail+=Ci,si.text+=Ci):Pi>0&&(si.tail-=Pi,si.text-=Pi)}si.tail+=oi,si.head+=oi}else La=Na=ai*shiftFraction(Ra,ii),si.text=Sa+Na;si.text+=oi,Na+=oi,La+=oi,ze["_"+Ua+"padplus"]=ai/2+La,ze["_"+Ua+"padminus"]=ai/2-La,ze["_"+Ua+"size"]=ai,ze["_"+Ua+"shift"]=Na}if(Hn)yn.remove();else{var zi=0,ji=0;if("left"!==ze.align&&(zi=(ar-Lt)*("center"===ze.align?.5:1)),"top"!==ze.valign&&(ji=(vn-Ut)*("middle"===ze.valign?.5:1)),nt)Ue.select("svg").attr({x:Cn+zi-1,y:Cn+ji}).call(rt.setClipUrl,Pn?sn:null,Ee);else{var Xi=Cn+ji-ft.top,Co=Cn+zi-ft.left;Kn.call(at.positionText,Co,Xi).call(rt.setClipUrl,Pn?sn:null,Ee)}In.select("rect").call(rt.setRect,Cn,Cn,ar,vn),En.call(rt.setRect,_n/2,_n/2,Mn-_n,Bn-_n),yn.call(rt.setTranslate,Math.round(ln.x.text-Mn/2),Math.round(ln.y.text-Bn/2)),hn.attr({transform:"rotate("+cn+","+ln.x.text+","+ln.y.text+")"});var zo,drawArrow=function(Be,Ue){un.selectAll(".annotation-arrow-g").remove();var nt=ln.x.head,at=ln.y.head,it=ln.x.tail+Be,ft=ln.y.tail+Ue,Lt=ln.x.text+Be,Ut=ln.y.text+Ue,er=Qe.rotationXYMatrix(cn,Lt,Ut),ar=Qe.apply2DTransform(er),sn=Qe.apply2DTransform2(er),dn=+En.attr("width"),vn=+En.attr("height"),_n=Lt-.5*dn,Mn=_n+dn,Cn=Ut-.5*vn,Pn=Cn+vn,In=[[_n,Cn,_n,Pn],[_n,Pn,Mn,Pn],[Mn,Pn,Mn,Cn],[Mn,Cn,_n,Cn]].map(sn);if(!In.reduce((function(Ee,ze){return Ee^!!Qe.segmentsIntersect(nt,at,nt+1e6,at+1e6,ze[0],ze[1],ze[2],ze[3])}),!1)){In.forEach((function(Ee){var ze=Qe.segmentsIntersect(it,ft,nt,at,Ee[0],Ee[1],Ee[2],Ee[3]);ze&&(it=ze.x,ft=ze.y)}));var Bn=ze.arrowwidth,Hn=ze.arrowcolor,Kn=ze.arrowside,Jn=un.append("g").style({opacity:tt.opacity(Hn)}).classed("annotation-arrow-g",!0),Ma=Jn.append("path").attr("d","M"+it+","+ft+"L"+nt+","+at).style("stroke-width",Bn+"px").call(tt.stroke,tt.rgb(Hn));if(xt(Ma,Kn,ze),rr.annotationPosition&&Ma.node().parentNode&&!$e){var Sa=nt,La=at;if(ze.standoff){var Ia=Math.sqrt(Math.pow(nt-it,2)+Math.pow(at-ft,2));Sa+=ze.standoff*(it-nt)/Ia,La+=ze.standoff*(ft-at)/Ia}var Ra,Na,Ua=Jn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(it-Sa)+","+(ft-La),transform:"translate("+Sa+","+La+")"}).style("stroke-width",Bn+6+"px").call(tt.stroke,"rgba(0,0,0,0)").call(tt.fill,"rgba(0,0,0,0)");ct.init({element:Ua.node(),gd:Ee,prepFn:function(){var Ee=rt.getTranslate(yn);Ra=Ee.x,Na=Ee.y,et&&et.autorange&&Lr(et._name+".autorange",!0),kt&&kt.autorange&&Lr(kt._name+".autorange",!0)},moveFn:function(Ee,Be){var Ue=ar(Ra,Na),We=Ue[0]+Ee,$e=Ue[1]+Be;yn.call(rt.setTranslate,We,$e),Qr("x",et?et.p2r(et.r2p(ze.x)+Ee):ze.x+Ee/tr.w),Qr("y",kt?kt.p2r(kt.r2p(ze.y)+Be):ze.y-Be/tr.h),ze.axref===ze.xref&&Qr("ax",et.p2r(et.r2p(ze.ax)+Ee)),ze.ayref===ze.yref&&Qr("ay",kt.p2r(kt.r2p(ze.ay)+Be)),Jn.attr("transform","translate("+Ee+","+Be+")"),hn.attr({transform:"rotate("+cn+","+We+","+$e+")"})},doneFn:function(){We.call("_guiRelayout",Ee,on());var ze=document.querySelector(".js-notes-box-panel");ze&&ze.redraw(ze.selectedObj)}})}}};if(ze.showarrow&&drawArrow(0,0),dn)ct.init({element:yn.node(),gd:Ee,prepFn:function(){zo=hn.attr("transform")},moveFn:function(Ee,Be){var Ue="pointer";if(ze.showarrow)ze.axref===ze.xref?Qr("ax",et.p2r(et.r2p(ze.ax)+Ee)):Qr("ax",ze.ax+Ee),ze.ayref===ze.yref?Qr("ay",kt.p2r(kt.r2p(ze.ay)+Be)):Qr("ay",ze.ay+Be),drawArrow(Ee,Be);else{if($e)return;var We,Qe;if(et)We=et.p2r(et.r2p(ze.x)+Ee);else{var tt=ze._xsize/tr.w,rt=ze.x+(ze._xshift-ze.xshift)/tr.w-tt/2;We=ct.align(rt+Ee/tr.w,tt,0,1,ze.xanchor)}if(kt)Qe=kt.p2r(kt.r2p(ze.y)+Be);else{var nt=ze._ysize/tr.h,at=ze.y-(ze._yshift+ze.yshift)/tr.h-nt/2;Qe=ct.align(at-Be/tr.h,nt,0,1,ze.yanchor)}Qr("x",We),Qr("y",Qe),et&&kt||(Ue=ct.getCursor(et?.5:We,kt?.5:Qe,ze.xanchor,ze.yanchor))}hn.attr({transform:"translate("+Ee+","+Be+")"+zo}),it(yn,Ue)},clickFn:function(Be,Ue){ze.captureevents&&Ee.emit("plotly_clickannotation",makeEventData(Ue))},doneFn:function(){it(yn),We.call("_guiRelayout",Ee,on());var ze=document.querySelector(".js-notes-box-panel");ze&&ze.redraw(ze.selectedObj)}})}}}Ee.exports={draw:function draw(Ee){var ze=Ee._fullLayout;ze._infolayer.selectAll(".annotation").remove();for(var Be=0;Be<ze.annotations.length;Be++)ze.annotations[Be].visible&&drawOne(Ee,Be);return $e.previousPromises(Ee)},drawOne:drawOne,drawRaw:drawRaw}},"25be":function(Ee,ze,Be){"use strict";var Ue=Be("f508"),We=Be("b380"),$e=Object.create(null);Ee.exports=function(Ee){return Object.defineProperties(Ee,{for:Ue((function(ze){return $e[ze]?$e[ze]:$e[ze]=Ee(String(ze))})),keyFor:Ue((function(Ee){var ze;for(ze in We(Ee),$e)if($e[ze]===Ee)return ze}))})}},"25f3":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4ce7");Ee.exports=function(Ee,ze,Be){var $e,Qe={};function coerce(Be,Qe){return Ue.coerce(Ee[$e]||{},ze[$e],We,Be,Qe)}for(var et=0;et<Be.length;et++){var tt=Be[et];"barpolar"===tt.type&&!0===tt.visible&&(Qe[$e=tt.subplot]||(coerce("barmode"),coerce("bargap"),Qe[$e]=1))}}},"25f9":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function smoothFill2dArray(Ee,ze,Be){var We,$e,Qe,et=[],tt=[],rt=Ee[0].length,nt=Ee.length;function avgSurrounding(ze,Be){var Ue,We=0,$e=0;return ze>0&&void 0!==(Ue=Ee[Be][ze-1])&&($e++,We+=Ue),ze<rt-1&&void 0!==(Ue=Ee[Be][ze+1])&&($e++,We+=Ue),Be>0&&void 0!==(Ue=Ee[Be-1][ze])&&($e++,We+=Ue),Be<nt-1&&void 0!==(Ue=Ee[Be+1][ze])&&($e++,We+=Ue),We/Math.max(1,$e)}var at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar=0;for(We=0;We<rt;We++)for($e=0;$e<nt;$e++)void 0===Ee[$e][We]&&(et.push(We),tt.push($e),Ee[$e][We]=avgSurrounding(We,$e)),ar=Math.max(ar,Math.abs(Ee[$e][We]));if(!et.length)return Ee;var Lr=0,Qr=0,on=et.length;do{for(Lr=0,Qe=0;Qe<on;Qe++){We=et[Qe],$e=tt[Qe];var sn,ln,cn,un,hn,dn,vn=0,yn=0;0===We?(cn=ze[hn=Math.min(rt-1,2)],un=ze[1],sn=Ee[$e][hn],yn+=(ln=Ee[$e][1])+(ln-sn)*(ze[0]-un)/(un-cn),vn++):We===rt-1&&(cn=ze[hn=Math.max(0,rt-3)],un=ze[rt-2],sn=Ee[$e][hn],yn+=(ln=Ee[$e][rt-2])+(ln-sn)*(ze[rt-1]-un)/(un-cn),vn++),(0===We||We===rt-1)&&$e>0&&$e<nt-1&&(at=Be[$e+1]-Be[$e],yn+=((it=Be[$e]-Be[$e-1])*Ee[$e+1][We]+at*Ee[$e-1][We])/(it+at),vn++),0===$e?(cn=Be[dn=Math.min(nt-1,2)],un=Be[1],sn=Ee[dn][We],yn+=(ln=Ee[1][We])+(ln-sn)*(Be[0]-un)/(un-cn),vn++):$e===nt-1&&(cn=Be[dn=Math.max(0,nt-3)],un=Be[nt-2],sn=Ee[dn][We],yn+=(ln=Ee[nt-2][We])+(ln-sn)*(Be[nt-1]-un)/(un-cn),vn++),(0===$e||$e===nt-1)&&We>0&&We<rt-1&&(at=ze[We+1]-ze[We],yn+=((it=ze[We]-ze[We-1])*Ee[$e][We+1]+at*Ee[$e][We-1])/(it+at),vn++),vn?yn/=vn:(ct=ze[We+1]-ze[We],ft=ze[We]-ze[We-1],Ut=(xt=Be[$e+1]-Be[$e])*(kt=Be[$e]-Be[$e-1])*(xt+kt),yn=((Lt=ct*ft*(ct+ft))*(kt*Ee[$e+1][We]+xt*Ee[$e-1][We])+Ut*(ft*Ee[$e][We+1]+ct*Ee[$e][We-1]))/(Ut*(ft+ct)+Lt*(kt+xt))),Lr+=(tr=(er=yn-Ee[$e][We])/ar)*tr,rr=vn?0:.85,Ee[$e][We]+=er*(1+rr)}Lr=Math.sqrt(Lr)}while(Qr++<100&&Lr>1e-5);return Ue.log("Smoother converged to",Lr,"after",Qr,"iterations"),Ee}},"262a":function(Ee,ze,Be){"use strict";var Ue=Be("84d3"),We=Be("936a");Ee.exports=function(Ee){return We(Ee)?Ee:Ue(Ee,"Cannot use %v",arguments[1])}},2638:function(Ee,ze){Ee.exports=function create(){var Ee=new Float32Array(4);return Ee[0]=0,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee}},"265e":function(Ee,ze){Ee.exports=function copy(Ee,ze){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee[3]=ze[3],Ee}},"26a7":function(Ee,ze,Be){"use strict";Ee.exports=function createErrorBars(Ee){var ze=Ee.gl,Be=Ue(ze),Qe=We(ze,[{buffer:Be,type:ze.FLOAT,size:3,offset:0,stride:40},{buffer:Be,type:ze.FLOAT,size:4,offset:12,stride:40},{buffer:Be,type:ze.FLOAT,size:3,offset:28,stride:40}]),et=$e(ze);et.attributes.position.location=0,et.attributes.color.location=1,et.attributes.offset.location=2;var tt=new ErrorBars(ze,Be,Qe,et);return tt.update(Ee),tt};var Ue=Be("efce"),We=Be("b205"),$e=Be("531f"),Qe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function ErrorBars(Ee,ze,Be,Ue){this.gl=Ee,this.shader=Ue,this.buffer=ze,this.vao=Be,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var et=ErrorBars.prototype;function updateBounds(Ee,ze){for(var Be=0;Be<3;++Be)Ee[0][Be]=Math.min(Ee[0][Be],ze[Be]),Ee[1][Be]=Math.max(Ee[1][Be],ze[Be])}et.isOpaque=function(){return!this.hasAlpha},et.isTransparent=function(){return this.hasAlpha},et.drawTransparent=et.draw=function(Ee){var ze=this.gl,Be=this.shader.uniforms;this.shader.bind();var Ue=Be.view=Ee.view||Qe,We=Be.projection=Ee.projection||Qe;Be.model=Ee.model||Qe,Be.clipBounds=this.clipBounds,Be.opacity=this.opacity;var $e=Ue[12],et=Ue[13],tt=Ue[14],rt=Ue[15],nt=(Ee._ortho||!1?2:1)*this.pixelRatio*(We[3]*$e+We[7]*et+We[11]*tt+We[15]*rt)/ze.drawingBufferHeight;this.vao.bind();for(var at=0;at<3;++at)ze.lineWidth(this.lineWidth[at]*this.pixelRatio),Be.capSize=this.capSize[at]*nt,this.lineCount[at]&&ze.drawArrays(ze.LINES,this.lineOffset[at],this.lineCount[at]);this.vao.unbind()};var tt=function(){for(var Ee=new Array(3),ze=0;ze<3;++ze){for(var Be=[],Ue=1;Ue<=2;++Ue)for(var We=-1;We<=1;We+=2){var $e=[0,0,0];$e[(Ue+ze)%3]=We,Be.push($e)}Ee[ze]=Be}return Ee}();function emitFace(Ee,ze,Be,Ue){for(var We=tt[Ue],$e=0;$e<We.length;++$e){var Qe=We[$e];Ee.push(ze[0],ze[1],ze[2],Be[0],Be[1],Be[2],Be[3],Qe[0],Qe[1],Qe[2])}return We.length}et.update=function(Ee){"lineWidth"in(Ee=Ee||{})&&(this.lineWidth=Ee.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in Ee&&(this.capSize=Ee.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in Ee&&(this.opacity=+Ee.opacity,this.opacity<1&&(this.hasAlpha=!0));var ze=Ee.color||[[0,0,0],[0,0,0],[0,0,0]],Be=Ee.position,Ue=Ee.error;if(Array.isArray(ze[0])||(ze=[ze,ze,ze]),Be&&Ue){var We=[],$e=Be.length,Qe=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var et=0;et<3;++et){this.lineOffset[et]=Qe;e:for(var tt=0;tt<$e;++tt){for(var rt=Be[tt],nt=0;nt<3;++nt)if(isNaN(rt[nt])||!isFinite(rt[nt]))continue e;var at=Ue[tt],it=ze[et];if(Array.isArray(it[0])&&(it=ze[tt]),3===it.length?it=[it[0],it[1],it[2],1]:4===it.length&&(it=[it[0],it[1],it[2],it[3]],!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)),!isNaN(at[0][et])&&!isNaN(at[1][et])){var ct;if(at[0][et]<0)(ct=rt.slice())[et]+=at[0][et],We.push(rt[0],rt[1],rt[2],it[0],it[1],it[2],it[3],0,0,0,ct[0],ct[1],ct[2],it[0],it[1],it[2],it[3],0,0,0),updateBounds(this.bounds,ct),Qe+=2+emitFace(We,ct,it,et);if(at[1][et]>0)(ct=rt.slice())[et]+=at[1][et],We.push(rt[0],rt[1],rt[2],it[0],it[1],it[2],it[3],0,0,0,ct[0],ct[1],ct[2],it[0],it[1],it[2],it[3],0,0,0),updateBounds(this.bounds,ct),Qe+=2+emitFace(We,ct,it,et)}}this.lineCount[et]=Qe-this.lineOffset[et]}this.buffer.update(We)}},et.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},"26cf":function(Ee,ze,Be){"use strict";var Ue=Be("cea5"),We=Be("f31e");ze.rank=function rank(Ee){var ze=Ee.length;switch(ze){case 0:case 1:return 0;case 2:return Ee[1]}var Be,$e,Qe,et=Ue.mallocUint32(ze),tt=Ue.mallocUint32(ze),rt=0;for(We(Ee,tt),Qe=0;Qe<ze;++Qe)et[Qe]=Ee[Qe];for(Qe=ze-1;Qe>0;--Qe)$e=tt[Qe],Be=et[Qe],et[Qe]=et[$e],et[$e]=Be,tt[Qe]=tt[Be],tt[Be]=$e,rt=(rt+Be)*Qe;return Ue.freeUint32(tt),Ue.freeUint32(et),rt},ze.unrank=function unrank(Ee,ze,Be){switch(Ee){case 0:return Be||[];case 1:return Be?(Be[0]=0,Be):[0];case 2:return Be?(ze?(Be[0]=0,Be[1]=1):(Be[0]=1,Be[1]=0),Be):ze?[0,1]:[1,0]}var Ue,We,$e,Qe=1;for((Be=Be||new Array(Ee))[0]=0,$e=1;$e<Ee;++$e)Be[$e]=$e,Qe=Qe*$e|0;for($e=Ee-1;$e>0;--$e)ze=ze-(Ue=ze/Qe|0)*Qe|0,Qe=Qe/$e|0,We=0|Be[$e],Be[$e]=0|Be[Ue],Be[Ue]=0|We;return Be}},"26d1":function(Ee,ze){Ee.exports=function transformQuat(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=Be[0],et=Be[1],tt=Be[2],rt=Be[3],nt=rt*Ue+et*$e-tt*We,at=rt*We+tt*Ue-Qe*$e,it=rt*$e+Qe*We-et*Ue,ct=-Qe*Ue-et*We-tt*$e;return Ee[0]=nt*rt+ct*-Qe+at*-tt-it*-et,Ee[1]=at*rt+ct*-et+it*-Qe-nt*-tt,Ee[2]=it*rt+ct*-tt+nt*-et-at*-Qe,Ee}},"26dd":function(Ee,ze,Be){"use strict";var Ue=Be("0d59"),We=Be("6e58"),$e=Be("0a3e"),Qe=Be("83d1"),et=Be("0379"),tt=Be("fc26").raiseToTop,rt=Be("fc26").cancelTransition,nt=Be("8766"),at=Be("7815"),it=Be("d115");function roundHalfWidth(Ee){return Math.ceil(Ee.calcdata.maxLineWidth/2)}function scrollAreaBottomClipKey(Ee,ze){return"clip"+Ee._fullLayout._uid+"_scrollAreaBottomClip_"+ze.key}function columnBoundaryClipKey(Ee,ze){return"clip"+Ee._fullLayout._uid+"_columnBoundaryClippath_"+ze.calcdata.key+"_"+ze.specIndex}function flatData(Ee){return[].concat.apply([],Ee.map((function(Ee){return Ee}))).map((function(Ee){return Ee.__data__}))}function renderScrollbarKit(Ee,ze,Be){var Qe=Ee.selectAll("."+Ue.cn.scrollbarKit).data($e.repeat,$e.keyFun);Qe.enter().append("g").classed(Ue.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),Qe.each((function(Ee){var ze=Ee.scrollbarState;ze.totalHeight=function calcTotalHeight(Ee){var ze=Ee.rowBlocks;return firstRowAnchor(ze,ze.length-1)+(ze.length?rowsHeight(ze[ze.length-1],1/0):1)}(Ee),ze.scrollableAreaHeight=Ee.groupHeight-headerHeight(Ee),ze.currentlyVisibleHeight=Math.min(ze.totalHeight,ze.scrollableAreaHeight),ze.ratio=ze.currentlyVisibleHeight/ze.totalHeight,ze.barLength=Math.max(ze.ratio*ze.currentlyVisibleHeight,Ue.goldenRatio*Ue.scrollbarWidth),ze.barWiggleRoom=ze.currentlyVisibleHeight-ze.barLength,ze.wiggleRoom=Math.max(0,ze.totalHeight-ze.scrollableAreaHeight),ze.topY=0===ze.barWiggleRoom?0:Ee.scrollY/ze.wiggleRoom*ze.barWiggleRoom,ze.bottomY=ze.topY+ze.barLength,ze.dragMultiplier=ze.wiggleRoom/ze.barWiggleRoom})).attr("transform",(function(Ee){return"translate("+(Ee.width+Ue.scrollbarWidth/2+Ue.scrollbarOffset)+" "+headerHeight(Ee)+")"}));var et=Qe.selectAll("."+Ue.cn.scrollbar).data($e.repeat,$e.keyFun);et.enter().append("g").classed(Ue.cn.scrollbar,!0);var tt=et.selectAll("."+Ue.cn.scrollbarSlider).data($e.repeat,$e.keyFun);tt.enter().append("g").classed(Ue.cn.scrollbarSlider,!0),tt.attr("transform",(function(Ee){return"translate(0 "+(Ee.scrollbarState.topY||0)+")"}));var rt=tt.selectAll("."+Ue.cn.scrollbarGlyph).data($e.repeat,$e.keyFun);rt.enter().append("line").classed(Ue.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",Ue.scrollbarWidth).attr("stroke-linecap","round").attr("y1",Ue.scrollbarWidth/2),rt.attr("y2",(function(Ee){return Ee.scrollbarState.barLength-Ue.scrollbarWidth/2})).attr("stroke-opacity",(function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||Be?0:.4})),rt.transition().delay(0).duration(0),rt.transition().delay(Ue.scrollbarHideDelay).duration(Ue.scrollbarHideDuration).attr("stroke-opacity",0);var nt=et.selectAll("."+Ue.cn.scrollbarCaptureZone).data($e.repeat,$e.keyFun);nt.enter().append("line").classed(Ue.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",Ue.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",(function(Be){var Ue=We.event.y,$e=this.getBoundingClientRect(),Qe=Be.scrollbarState,et=Ue-$e.top,tt=We.scale.linear().domain([0,Qe.scrollableAreaHeight]).range([0,Qe.totalHeight]).clamp(!0);Qe.topY<=et&&et<=Qe.bottomY||makeDragRow(ze,Ee,null,tt(et-Qe.barLength/2))(Be)})).call(We.behavior.drag().origin((function(Ee){return We.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee})).on("drag",makeDragRow(ze,Ee)).on("dragend",(function(){}))),nt.attr("y2",(function(Ee){return Ee.scrollbarState.scrollableAreaHeight})),ze._context.staticPlot&&(rt.remove(),nt.remove())}function renderColumnCellTree(Ee,ze,Be,et){var tt=function renderColumnCell(Ee){var ze=Ee.selectAll("."+Ue.cn.columnCell).data(at.splitToCells,(function(Ee){return Ee.keyWithinBlock}));return ze.enter().append("g").classed(Ue.cn.columnCell,!0),ze.exit().remove(),ze}(function renderColumnCells(Ee){var ze=Ee.selectAll("."+Ue.cn.columnCells).data($e.repeat,$e.keyFun);return ze.enter().append("g").classed(Ue.cn.columnCells,!0),ze.exit().remove(),ze}(Be));!function supplyStylingValues(Ee){Ee.each((function(Ee,ze){var Be=Ee.calcdata.cells.font,Ue=Ee.column.specIndex,We={size:gridPick(Be.size,Ue,ze),color:gridPick(Be.color,Ue,ze),family:gridPick(Be.family,Ue,ze)};Ee.rowNumber=Ee.key,Ee.align=gridPick(Ee.calcdata.cells.align,Ue,ze),Ee.cellBorderWidth=gridPick(Ee.calcdata.cells.line.width,Ue,ze),Ee.font=We}))}(tt),function sizeAndStyleRect(Ee){Ee.attr("width",(function(Ee){return Ee.column.columnWidth})).attr("stroke-width",(function(Ee){return Ee.cellBorderWidth})).each((function(Ee){var ze=We.select(this);it.stroke(ze,gridPick(Ee.calcdata.cells.line.color,Ee.column.specIndex,Ee.rowNumber)),it.fill(ze,gridPick(Ee.calcdata.cells.fill.color,Ee.column.specIndex,Ee.rowNumber))}))}(function renderCellRect(Ee){var ze=Ee.selectAll("."+Ue.cn.cellRect).data($e.repeat,(function(Ee){return Ee.keyWithinBlock}));return ze.enter().append("rect").classed(Ue.cn.cellRect,!0),ze}(tt));var rt=function renderCellText(Ee){var ze=Ee.selectAll("."+Ue.cn.cellText).data($e.repeat,(function(Ee){return Ee.keyWithinBlock}));return ze.enter().append("text").classed(Ue.cn.cellText,!0).style("cursor",(function(){return"auto"})).on("mousedown",(function(){We.event.stopPropagation()})),ze}(function renderCellTextHolder(Ee){var ze=Ee.selectAll("."+Ue.cn.cellTextHolder).data($e.repeat,(function(Ee){return Ee.keyWithinBlock}));return ze.enter().append("g").classed(Ue.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ze}(tt));!function setFont(Ee){Ee.each((function(Ee){Qe.font(We.select(this),Ee.font)}))}(rt),populateCellText(rt,ze,et,Ee),setCellHeightAndPositionY(tt)}function populateCellText(Ee,ze,Be,$e){Ee.text((function(Ee){var ze=Ee.column.specIndex,Be=Ee.rowNumber,$e=Ee.value,Qe="string"==typeof $e,et=Qe&&$e.match(/<br>/i),tt=!Qe||et;Ee.mayHaveMarkup=Qe&&$e.match(/[<&>]/);var rt=function isLatex(Ee){return"string"==typeof Ee&&Ee.match(Ue.latexCheck)}($e);Ee.latex=rt;var nt,at,it=rt?"":gridPick(Ee.calcdata.cells.prefix,ze,Be)||"",ct=rt?"":gridPick(Ee.calcdata.cells.suffix,ze,Be)||"",ft=rt?null:gridPick(Ee.calcdata.cells.format,ze,Be)||null,xt=it+(ft?We.format(ft)(Ee.value):Ee.value)+ct;if(Ee.wrappingNeeded=!Ee.wrapped&&!tt&&!rt&&(nt=hasWrapCharacter(xt)),Ee.cellHeightMayIncrease=et||rt||Ee.mayHaveMarkup||(void 0===nt?hasWrapCharacter(xt):nt),Ee.needsConvertToTspans=Ee.mayHaveMarkup||Ee.wrappingNeeded||Ee.latex,Ee.wrappingNeeded){var kt=(" "===Ue.wrapSplitCharacter?xt.replace(/<a href=/gi,"<a_href="):xt).split(Ue.wrapSplitCharacter),Lt=" "===Ue.wrapSplitCharacter?kt.map((function(Ee){return Ee.replace(/<a_href=/gi,"<a href=")})):kt;Ee.fragments=Lt.map((function(Ee){return{text:Ee,width:null}})),Ee.fragments.push({fragment:Ue.wrapSpacer,width:null}),at=Lt.join(Ue.lineBreaker)+Ue.lineBreaker+Ue.wrapSpacer}else delete Ee.fragments,at=xt;return at})).attr("dy",(function(Ee){return Ee.needsConvertToTspans?0:"0.75em"})).each((function(Ee){var Qe=We.select(this),tt=Ee.wrappingNeeded?wrapTextMaker:updateYPositionMaker;Ee.needsConvertToTspans?et.convertToTspans(Qe,$e,tt(Be,this,ze,$e,Ee)):We.select(this.parentNode).attr("transform",(function(Ee){return"translate("+xPosition(Ee)+" "+Ue.cellPad+")"})).attr("text-anchor",(function(Ee){return{left:"start",center:"middle",right:"end"}[Ee.align]}))}))}function hasWrapCharacter(Ee){return-1!==Ee.indexOf(Ue.wrapSplitCharacter)}function gridPick(Ee,ze,Be){if(Array.isArray(Ee)){var Ue=Ee[Math.min(ze,Ee.length-1)];return Array.isArray(Ue)?Ue[Math.min(Be,Ue.length-1)]:Ue}return Ee}function easeColumn(Ee,ze,Be){Ee.transition().ease(Ue.releaseTransitionEase).duration(Ue.releaseTransitionDuration).attr("transform","translate("+ze.x+" "+Be+")")}function cellsBlock(Ee){return"cells"===Ee.type}function headerBlock(Ee){return"header"===Ee.type}function headerHeight(Ee){return(Ee.rowBlocks.length?Ee.rowBlocks[0].auxiliaryBlocks:[]).reduce((function(Ee,ze){return Ee+rowsHeight(ze,1/0)}),0)}function updateBlockYPosition(Ee,ze,Be){var Ue=flatData(ze)[0];if(void 0!==Ue){var We=Ue.rowBlocks,$e=Ue.calcdata,Qe=firstRowAnchor(We,We.length),et=Ue.calcdata.groupHeight-headerHeight(Ue),tt=$e.scrollY=Math.max(0,Math.min(Qe-et,$e.scrollY)),rt=function findPagesAndCacheHeights(Ee,ze,Be){for(var Ue=[],We=0,$e=0;$e<Ee.length;$e++){for(var Qe=Ee[$e],et=Qe.rows,tt=0,rt=0;rt<et.length;rt++)tt+=et[rt].rowHeight;Qe.allRowsHeight=tt;ze<We+tt&&ze+Be>We&&Ue.push($e),We+=tt}return Ue}(We,tt,et);1===rt.length&&(rt[0]===We.length-1?rt.unshift(rt[0]-1):rt.push(rt[0]+1)),rt[0]%2&&rt.reverse(),ze.each((function(Ee,ze){Ee.page=rt[ze],Ee.scrollY=tt})),ze.attr("transform",(function(Ee){return"translate(0 "+(firstRowAnchor(Ee.rowBlocks,Ee.page)-Ee.scrollY)+")"})),Ee&&(conditionalPanelRerender(Ee,Be,ze,rt,Ue.prevPages,Ue,0),conditionalPanelRerender(Ee,Be,ze,rt,Ue.prevPages,Ue,1),renderScrollbarKit(Be,Ee))}}function makeDragRow(Ee,ze,Be,$e){return function dragRow(Qe){var et=Qe.calcdata?Qe.calcdata:Qe,tt=ze.filter((function(Ee){return et.key===Ee.key})),rt=Be||et.scrollbarState.dragMultiplier,nt=et.scrollY;et.scrollY=void 0===$e?et.scrollY+rt*We.event.dy:$e;var at=tt.selectAll("."+Ue.cn.yColumn).selectAll("."+Ue.cn.columnBlock).filter(cellsBlock);return updateBlockYPosition(Ee,at,tt),et.scrollY===nt}}function conditionalPanelRerender(Ee,ze,Be,Ue,We,$e,Qe){Ue[Qe]!==We[Qe]&&(clearTimeout($e.currentRepaint[Qe]),$e.currentRepaint[Qe]=setTimeout((function(){var $e=Be.filter((function(Ee,ze){return ze===Qe&&Ue[ze]!==We[ze]}));renderColumnCellTree(Ee,ze,$e,Be),We[Qe]=Ue[Qe]})))}function wrapTextMaker(Ee,ze,Be,$e){return function wrapText(){var Qe=We.select(ze.parentNode);Qe.each((function(Ee){var ze=Ee.fragments;Qe.selectAll("tspan.line").each((function(Ee,Be){ze[Be].width=this.getComputedTextLength()}));var Be,We,$e=ze[ze.length-1].width,et=ze.slice(0,-1),tt=[],rt=0,nt=Ee.column.columnWidth-2*Ue.cellPad;for(Ee.value="";et.length;)rt+(We=(Be=et.shift()).width+$e)>nt&&(Ee.value+=tt.join(Ue.wrapSpacer)+Ue.lineBreaker,tt=[],rt=0),tt.push(Be.text),rt+=We;rt&&(Ee.value+=tt.join(Ue.wrapSpacer)),Ee.wrapped=!0})),Qe.selectAll("tspan.line").remove(),populateCellText(Qe.select("."+Ue.cn.cellText),Be,Ee,$e),We.select(ze.parentNode.parentNode).call(setCellHeightAndPositionY)}}function updateYPositionMaker(Ee,ze,Be,$e,Qe){return function updateYPosition(){if(!Qe.settledY){var et=We.select(ze.parentNode),tt=getBlock(Qe),rt=Qe.key-tt.firstRowIndex,nt=tt.rows[rt].rowHeight,at=Qe.cellHeightMayIncrease?ze.parentNode.getBoundingClientRect().height+2*Ue.cellPad:nt,it=Math.max(at,nt);it-tt.rows[rt].rowHeight&&(tt.rows[rt].rowHeight=it,Ee.selectAll("."+Ue.cn.columnCell).call(setCellHeightAndPositionY),updateBlockYPosition(null,Ee.filter(cellsBlock),0),renderScrollbarKit(Be,$e,!0)),et.attr("transform",(function(){var Ee=this.parentNode.getBoundingClientRect(),ze=We.select(this.parentNode).select("."+Ue.cn.cellRect).node().getBoundingClientRect(),Be=this.transform.baseVal.consolidate(),$e=ze.top-Ee.top+(Be?Be.matrix.f:Ue.cellPad);return"translate("+xPosition(Qe,We.select(this.parentNode).select("."+Ue.cn.cellTextHolder).node().getBoundingClientRect().width)+" "+$e+")"})),Qe.settledY=!0}}}function xPosition(Ee,ze){switch(Ee.align){case"left":return Ue.cellPad;case"right":return Ee.column.columnWidth-(ze||0)-Ue.cellPad;case"center":return(Ee.column.columnWidth-(ze||0))/2;default:return Ue.cellPad}}function setCellHeightAndPositionY(Ee){Ee.attr("transform",(function(Ee){var ze=Ee.rowBlocks[0].auxiliaryBlocks.reduce((function(Ee,ze){return Ee+rowsHeight(ze,1/0)}),0);return"translate(0 "+(rowsHeight(getBlock(Ee),Ee.key)+ze)+")"})).selectAll("."+Ue.cn.cellRect).attr("height",(function(Ee){return function getRow(Ee,ze){return Ee.rows[ze-Ee.firstRowIndex]}(getBlock(Ee),Ee.key).rowHeight}))}function firstRowAnchor(Ee,ze){for(var Be=0,Ue=ze-1;Ue>=0;Ue--)Be+=allRowsHeight(Ee[Ue]);return Be}function rowsHeight(Ee,ze){for(var Be=0,Ue=0;Ue<Ee.rows.length&&Ee.rows[Ue].rowIndex<ze;Ue++)Be+=Ee.rows[Ue].rowHeight;return Be}function allRowsHeight(Ee){var ze=Ee.allRowsHeight;if(void 0!==ze)return ze;for(var Be=0,Ue=0;Ue<Ee.rows.length;Ue++)Be+=Ee.rows[Ue].rowHeight;return Ee.allRowsHeight=Be,Be}function getBlock(Ee){return Ee.rowBlocks[Ee.page]}Ee.exports=function plot(Ee,ze){var Be=!Ee._context.staticPlot,et=Ee._fullLayout._paper.selectAll("."+Ue.cn.table).data(ze.map((function(ze){var Be=$e.unwrap(ze).trace;return nt(Ee,Be)})),$e.keyFun);et.exit().remove(),et.enter().append("g").classed(Ue.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),et.attr("width",(function(Ee){return Ee.width+Ee.size.l+Ee.size.r})).attr("height",(function(Ee){return Ee.height+Ee.size.t+Ee.size.b})).attr("transform",(function(Ee){return"translate("+Ee.translateX+","+Ee.translateY+")"}));var it=et.selectAll("."+Ue.cn.tableControlView).data($e.repeat,$e.keyFun),ct=it.enter().append("g").classed(Ue.cn.tableControlView,!0).style("box-sizing","content-box");Be&&ct.on("mousemove",(function(ze){it.filter((function(Ee){return ze===Ee})).call(renderScrollbarKit,Ee)})).on("mousewheel",(function(ze){if(!ze.scrollbarState.wheeling){ze.scrollbarState.wheeling=!0;var Be=ze.scrollY+We.event.deltaY;makeDragRow(Ee,it,null,Be)(ze)||(We.event.stopPropagation(),We.event.preventDefault()),ze.scrollbarState.wheeling=!1}})).call(renderScrollbarKit,Ee,!0),it.attr("transform",(function(Ee){return"translate("+Ee.size.l+" "+Ee.size.t+")"}));var ft=it.selectAll("."+Ue.cn.scrollBackground).data($e.repeat,$e.keyFun);ft.enter().append("rect").classed(Ue.cn.scrollBackground,!0).attr("fill","none"),ft.attr("width",(function(Ee){return Ee.width})).attr("height",(function(Ee){return Ee.height})),it.each((function(ze){Qe.setClipUrl(We.select(this),scrollAreaBottomClipKey(Ee,ze),Ee)}));var xt=it.selectAll("."+Ue.cn.yColumn).data((function(Ee){return Ee.columns}),$e.keyFun);xt.enter().append("g").classed(Ue.cn.yColumn,!0),xt.exit().remove(),xt.attr("transform",(function(Ee){return"translate("+Ee.x+" 0)"})),Be&&xt.call(We.behavior.drag().origin((function(ze){return easeColumn(We.select(this),ze,-Ue.uplift),tt(this),ze.calcdata.columnDragInProgress=!0,renderScrollbarKit(it.filter((function(Ee){return ze.calcdata.key===Ee.key})),Ee),ze})).on("drag",(function(Ee){var ze=We.select(this),getter=function(ze){return(Ee===ze?We.event.x:ze.x)+ze.columnWidth/2};Ee.x=Math.max(-Ue.overdrag,Math.min(Ee.calcdata.width+Ue.overdrag-Ee.columnWidth,We.event.x)),flatData(xt).filter((function(ze){return ze.calcdata.key===Ee.calcdata.key})).sort((function(Ee,ze){return getter(Ee)-getter(ze)})).forEach((function(ze,Be){ze.xIndex=Be,ze.x=Ee===ze?ze.x:ze.xScale(ze)})),xt.filter((function(ze){return Ee!==ze})).transition().ease(Ue.transitionEase).duration(Ue.transitionDuration).attr("transform",(function(Ee){return"translate("+Ee.x+" 0)"})),ze.call(rt).attr("transform","translate("+Ee.x+" -"+Ue.uplift+" )")})).on("dragend",(function(ze){var Be=We.select(this),Ue=ze.calcdata;ze.x=ze.xScale(ze),ze.calcdata.columnDragInProgress=!1,easeColumn(Be,ze,0),function columnMoved(Ee,ze,Be){var Ue=ze.gdColumnsOriginalOrder;ze.gdColumns.sort((function(Ee,ze){return Be[Ue.indexOf(Ee)]-Be[Ue.indexOf(ze)]})),ze.columnorder=Be,Ee.emit("plotly_restyle")}(Ee,Ue,Ue.columns.map((function(Ee){return Ee.xIndex})))}))),xt.each((function(ze){Qe.setClipUrl(We.select(this),columnBoundaryClipKey(Ee,ze),Ee)}));var kt=xt.selectAll("."+Ue.cn.columnBlock).data(at.splitToPanels,$e.keyFun);kt.enter().append("g").classed(Ue.cn.columnBlock,!0).attr("id",(function(Ee){return Ee.key})),kt.style("cursor",(function(Ee){return Ee.dragHandle?"ew-resize":Ee.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"}));var Lt=kt.filter(headerBlock),Ut=kt.filter(cellsBlock);Be&&Ut.call(We.behavior.drag().origin((function(Ee){return We.event.stopPropagation(),Ee})).on("drag",makeDragRow(Ee,it,-1)).on("dragend",(function(){}))),renderColumnCellTree(Ee,it,Lt,kt),renderColumnCellTree(Ee,it,Ut,kt);var er=it.selectAll("."+Ue.cn.scrollAreaClip).data($e.repeat,$e.keyFun);er.enter().append("clipPath").classed(Ue.cn.scrollAreaClip,!0).attr("id",(function(ze){return scrollAreaBottomClipKey(Ee,ze)}));var tr=er.selectAll("."+Ue.cn.scrollAreaClipRect).data($e.repeat,$e.keyFun);tr.enter().append("rect").classed(Ue.cn.scrollAreaClipRect,!0).attr("x",-Ue.overdrag).attr("y",-Ue.uplift).attr("fill","none"),tr.attr("width",(function(Ee){return Ee.width+2*Ue.overdrag})).attr("height",(function(Ee){return Ee.height+Ue.uplift})),xt.selectAll("."+Ue.cn.columnBoundary).data($e.repeat,$e.keyFun).enter().append("g").classed(Ue.cn.columnBoundary,!0);var rr=xt.selectAll("."+Ue.cn.columnBoundaryClippath).data($e.repeat,$e.keyFun);rr.enter().append("clipPath").classed(Ue.cn.columnBoundaryClippath,!0),rr.attr("id",(function(ze){return columnBoundaryClipKey(Ee,ze)}));var ar=rr.selectAll("."+Ue.cn.columnBoundaryRect).data($e.repeat,$e.keyFun);ar.enter().append("rect").classed(Ue.cn.columnBoundaryRect,!0).attr("fill","none"),ar.attr("width",(function(Ee){return Ee.columnWidth+2*roundHalfWidth(Ee)})).attr("height",(function(Ee){return Ee.calcdata.height+2*roundHalfWidth(Ee)+Ue.uplift})).attr("x",(function(Ee){return-roundHalfWidth(Ee)})).attr("y",(function(Ee){return-roundHalfWidth(Ee)})),updateBlockYPosition(null,Ut,it)}},"26e4":function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("f4e9"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("c20e"),et=Be("d301").idRegex,tt=Be("a651").templatedArray,rt=Be("9092").extendFlat,nt=Ue.marker,at=nt.line,it=rt(We("marker.line",{editTypeOverride:"calc"}),{width:rt({},at.width,{editType:"calc"}),editType:"calc"}),ct=rt(We("marker"),{symbol:nt.symbol,size:rt({},nt.size,{editType:"markerSize"}),sizeref:nt.sizeref,sizemin:nt.sizemin,sizemode:nt.sizemode,opacity:nt.opacity,colorbar:nt.colorbar,line:it,editType:"calc"});function makeAxesValObject(Ee){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:et[Ee],editType:"plot"}}}ct.color.editType=ct.cmin.editType=ct.cmax.editType="style",Ee.exports={dimensions:tt("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:rt({},Qe.text,{}),hovertext:rt({},Qe.hovertext,{}),hovertemplate:$e(),marker:ct,xaxes:makeAxesValObject("x"),yaxes:makeAxesValObject("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:Qe.selected.marker,editType:"calc"},unselected:{marker:Qe.unselected.marker,editType:"calc"},opacity:Qe.opacity}},2705:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de69"),$e=Be("de81"),Qe=Be("5047"),et=Be("59be"),tt=Be("eb07"),rt=Be("e9f7"),nt=Be("3802"),at=Be("5aae");Ee.exports=function supplyDefaults(Ee,ze,Be,it){function coerce(Be,We){return Ue.coerce(Ee,ze,at,Be,We)}coerce("carpet"),ze.xaxis="x",ze.yaxis="y";var ct=coerce("a"),ft=coerce("b"),xt=Math.min(ct.length,ft.length);if(xt){ze._length=xt,coerce("text"),coerce("texttemplate"),coerce("hovertext"),coerce("mode",xt<We.PTS_LINESONLY?"lines+markers":"lines"),$e.hasLines(ze)&&(et(Ee,ze,Be,it,coerce),tt(Ee,ze,coerce),coerce("connectgaps")),$e.hasMarkers(ze)&&Qe(Ee,ze,Be,it,coerce,{gradient:!0}),$e.hasText(ze)&&rt(Ee,ze,it,coerce);var kt=[];($e.hasMarkers(ze)||$e.hasText(ze))&&(coerce("marker.maxdisplayed"),kt.push("points")),coerce("fill"),"none"!==ze.fill&&(nt(Ee,ze,Be,coerce),$e.hasLines(ze)||tt(Ee,ze,coerce)),"tonext"!==ze.fill&&"toself"!==ze.fill||kt.push("fills"),"fills"!==coerce("hoveron",kt.join("+")||"points")&&coerce("hovertemplate"),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},2781:function(Ee,ze,Be){"use strict";Ee.exports=Be("0e9a")},"27a4":function(Ee,ze){Ee.exports=function cross(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=Be[0],et=Be[1],tt=Be[2];return Ee[0]=We*tt-$e*et,Ee[1]=$e*Qe-Ue*tt,Ee[2]=Ue*et-We*Qe,Ee}},"27c6":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("50da"),Qe=Be("c20e"),et=Be("de69"),tt=Be("de81"),rt=Be("076f"),nt=Be("5047"),at=Be("59be"),it=Be("3802"),ct=Be("e9f7");Ee.exports=function supplyDefaults(Ee,ze,Be,ft){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}var xt=!!Ee.marker&&$e.isOpenSymbol(Ee.marker.symbol),kt=tt.isBubble(Ee),Lt=rt(Ee,ze,ft,coerce);if(Lt){var Ut=Lt<et.PTS_LINESONLY?"lines+markers":"lines";coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("mode",Ut),tt.hasLines(ze)&&(coerce("connectgaps"),at(Ee,ze,Be,ft,coerce),coerce("line.shape")),tt.hasMarkers(ze)&&(nt(Ee,ze,Be,ft,coerce),coerce("marker.line.width",xt||kt?1:0)),tt.hasText(ze)&&(coerce("texttemplate"),ct(Ee,ze,ft,coerce));var er=(ze.line||{}).color,tr=(ze.marker||{}).color;coerce("fill"),"none"!==ze.fill&&it(Ee,ze,Be,coerce);var rr=We.getComponentMethod("errorbars","supplyDefaults");rr(Ee,ze,er||tr||Be,{axis:"y"}),rr(Ee,ze,er||tr||Be,{axis:"x",inherit:"y"}),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},"27e3":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d798");Ee.exports=function handleTickDefaults(Ee,ze,Be,$e){var Qe=Ue.coerce2(Ee,ze,We,"ticklen"),et=Ue.coerce2(Ee,ze,We,"tickwidth"),tt=Ue.coerce2(Ee,ze,We,"tickcolor",ze.color);Be("ticks",$e.outerTicks||Qe||et||tt?"outside":"")||(delete ze.ticklen,delete ze.tickwidth,delete ze.tickcolor)}},"283e":function(Ee,ze,Be){"use strict";Ee.exports=function createLines(Ee){var ze=Ee.gl,Be=Ue(ze,[-1,-1,-1,1,1,-1,1,1]),Qe=We(ze,$e.lineVert,$e.lineFrag);return new Lines(Ee,Be,Qe)};var Ue=Be("efce"),We=Be("28dd"),$e=Be("b44d");function Lines(Ee,ze,Be){this.plot=Ee,this.vbo=ze,this.shader=Be}var Qe,et,tt=Lines.prototype;tt.bind=function(){var Ee=this.shader;this.vbo.bind(),this.shader.bind(),Ee.attributes.coord.pointer(),Ee.uniforms.screenBox=this.plot.screenBox},tt.drawLine=(Qe=[0,0],et=[0,0],function(Ee,ze,Be,Ue,We,$e){var tt=this.plot,rt=this.shader,nt=tt.gl;Qe[0]=Ee,Qe[1]=ze,et[0]=Be,et[1]=Ue,rt.uniforms.start=Qe,rt.uniforms.end=et,rt.uniforms.width=We*tt.pixelRatio,rt.uniforms.color=$e,nt.drawArrays(nt.TRIANGLE_STRIP,0,4)}),tt.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},"28a0":function(Ee,ze){"function"==typeof Object.create?Ee.exports=function inherits(Ee,ze){Ee.super_=ze,Ee.prototype=Object.create(ze.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}})}:Ee.exports=function inherits(Ee,ze){Ee.super_=ze;var TempCtor=function(){};TempCtor.prototype=ze.prototype,Ee.prototype=new TempCtor,Ee.prototype.constructor=Ee}},"28dd":function(Ee,ze,Be){"use strict";var Ue=Be("d064b"),We=Be("7e91"),$e=Be("eb73"),Qe=Be("22b4"),et=Be("d41a"),tt=Be("a3fd");function Shader(Ee){this.gl=Ee,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var rt=Shader.prototype;function compareAttributes(Ee,ze){return Ee.name<ze.name?-1:1}rt.bind=function(){var Ee;this.program||this._relink();var ze=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),Be=this.gl.lastAttribCount;if(ze>Be)for(Ee=Be;Ee<ze;Ee++)this.gl.enableVertexAttribArray(Ee);else if(Be>ze)for(Ee=ze;Ee<Be;Ee++)this.gl.disableVertexAttribArray(Ee);this.gl.lastAttribCount=ze,this.gl.useProgram(this.program)},rt.dispose=function(){for(var Ee=this.gl.lastAttribCount,ze=0;ze<Ee;ze++)this.gl.disableVertexAttribArray(ze);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},rt.update=function(Ee,ze,Be,rt){if(!ze||1===arguments.length){var nt=Ee;Ee=nt.vertex,ze=nt.fragment,Be=nt.uniforms,rt=nt.attributes}var at=this,it=at.gl,ct=at._vref;at._vref=Qe.shader(it,it.VERTEX_SHADER,Ee),ct&&ct.dispose(),at.vertShader=at._vref.shader;var ft=this._fref;if(at._fref=Qe.shader(it,it.FRAGMENT_SHADER,ze),ft&&ft.dispose(),at.fragShader=at._fref.shader,!Be||!rt){var xt=it.createProgram();if(it.attachShader(xt,at.fragShader),it.attachShader(xt,at.vertShader),it.linkProgram(xt),!it.getProgramParameter(xt,it.LINK_STATUS)){var kt=it.getProgramInfoLog(xt);throw new tt(kt,"Error linking program:"+kt)}Be=Be||et.uniforms(it,xt),rt=rt||et.attributes(it,xt),it.deleteProgram(xt)}(rt=rt.slice()).sort(compareAttributes);var Lt,Ut=[],er=[],tr=[];for(Lt=0;Lt<rt.length;++Lt){var rr=rt[Lt];if(rr.type.indexOf("mat")>=0){for(var ar=0|rr.type.charAt(rr.type.length-1),Lr=new Array(ar),Qr=0;Qr<ar;++Qr)Lr[Qr]=tr.length,er.push(rr.name+"["+Qr+"]"),"number"==typeof rr.location?tr.push(rr.location+Qr):Array.isArray(rr.location)&&rr.location.length===ar&&"number"==typeof rr.location[Qr]?tr.push(0|rr.location[Qr]):tr.push(-1);Ut.push({name:rr.name,type:rr.type,locations:Lr})}else Ut.push({name:rr.name,type:rr.type,locations:[tr.length]}),er.push(rr.name),"number"==typeof rr.location?tr.push(0|rr.location):tr.push(-1)}var on=0;for(Lt=0;Lt<tr.length;++Lt)if(tr[Lt]<0){for(;tr.indexOf(on)>=0;)on+=1;tr[Lt]=on}var sn=new Array(Be.length);function relink(){at.program=Qe.program(it,at._vref,at._fref,er,tr);for(var Ee=0;Ee<Be.length;++Ee)sn[Ee]=it.getUniformLocation(at.program,Be[Ee].name)}relink(),at._relink=relink,at.types={uniforms:$e(Be),attributes:$e(rt)},at.attributes=We(it,at,Ut,tr),Object.defineProperty(at,"uniforms",Ue(it,at,Be,sn))},Ee.exports=function createShader(Ee,ze,Be,Ue,We){var $e=new Shader(Ee);return $e.update(ze,Be,Ue,We),$e}},2969:function(Ee,ze,Be){"use strict";var Ue=Be("f9d8");Ee.exports=function(Ee,ze){var Be=Ee.positions,We=Ee.vectors,$e={positions:[],vertexIntensity:[],vertexIntensityBounds:Ee.vertexIntensityBounds,vectors:[],cells:[],coneOffset:Ee.coneOffset,colormap:Ee.colormap};if(0===Ee.positions.length)return ze&&(ze[0]=[0,0,0],ze[1]=[0,0,0]),$e;for(var Qe=0,et=1/0,tt=-1/0,rt=1/0,nt=-1/0,at=1/0,it=-1/0,ct=null,ft=null,xt=[],kt=1/0,Lt=!1,Ut=0;Ut<Be.length;Ut++){var er=Be[Ut];et=Math.min(er[0],et),tt=Math.max(er[0],tt),rt=Math.min(er[1],rt),nt=Math.max(er[1],nt),at=Math.min(er[2],at),it=Math.max(er[2],it);var tr=We[Ut];if(Ue.length(tr)>Qe&&(Qe=Ue.length(tr)),Ut){var rr=2*Ue.distance(ct,er)/(Ue.length(ft)+Ue.length(tr));rr?(kt=Math.min(kt,rr),Lt=!1):Lt=!0}Lt||(ct=er,ft=tr),xt.push(tr)}var ar=[et,rt,at],Lr=[tt,nt,it];ze&&(ze[0]=ar,ze[1]=Lr),0===Qe&&(Qe=1);var Qr=1/Qe;isFinite(kt)||(kt=1),$e.vectorScale=kt;var on=Ee.coneSize||.5;Ee.absoluteConeSize&&(on=Ee.absoluteConeSize*Qr),$e.coneScale=on;Ut=0;for(var sn=0;Ut<Be.length;Ut++)for(var ln=(er=Be[Ut])[0],cn=er[1],un=er[2],hn=xt[Ut],dn=Ue.length(hn)*Qr,vn=0;vn<8;vn++){$e.positions.push([ln,cn,un,sn++]),$e.positions.push([ln,cn,un,sn++]),$e.positions.push([ln,cn,un,sn++]),$e.positions.push([ln,cn,un,sn++]),$e.positions.push([ln,cn,un,sn++]),$e.positions.push([ln,cn,un,sn++]),$e.vectors.push(hn),$e.vectors.push(hn),$e.vectors.push(hn),$e.vectors.push(hn),$e.vectors.push(hn),$e.vectors.push(hn),$e.vertexIntensity.push(dn,dn,dn),$e.vertexIntensity.push(dn,dn,dn);var yn=$e.positions.length;$e.cells.push([yn-6,yn-5,yn-4],[yn-3,yn-2,yn-1])}return $e};var We=Be("f280");Ee.exports.createMesh=Be("6b3c"),Ee.exports.createConeMesh=function(ze,Be){return Ee.exports.createMesh(ze,Be,{shaders:We,traceType:"cone"})}},"2969f":function(Ee,ze,Be){"use strict";ze.getDimIndex=function getDimIndex(Ee,ze){for(var Be=ze._id,Ue={x:0,y:1}[Be.charAt(0)],We=Ee._visibleDims,$e=0;$e<We.length;$e++){var Qe=We[$e];if(Ee._diag[Qe][Ue]===Be)return $e}return!1}},"296e":function(Ee,ze,Be){"use strict";Ee.exports=function align(Ee,ze,Be,Ue,We){var $e=(Ee-Be)/(Ue-Be),Qe=$e+ze/(Ue-Be),et=($e+Qe)/2;return"left"===We||"bottom"===We?$e:"center"===We||"middle"===We?et:"right"===We||"top"===We?Qe:$e<2/3-et?$e:Qe>4/3-et?Qe:et}},"299d":function(Ee,ze,Be){"use strict";var Ue=Be("96e3"),We=Be("e8ee"),$e=Be("b113"),Qe=Be("ad68"),et=Be("fc26"),tt=Be("cf42"),rt=Be("de81"),nt=Be("00bd"),at=Be("e38a").styleTextSelection;function getViewport(Ee,ze,Be){var Ue=Ee._size,We=Ee.width,$e=Ee.height;return[Ue.l+ze.domain[0]*Ue.w,Ue.b+Be.domain[0]*Ue.h,We-Ue.r-(1-ze.domain[1])*Ue.w,$e-Ue.t-(1-Be.domain[1])*Ue.h]}Ee.exports=function plot(Ee,ze,Be){if(Be.length){var it,ct,ft=Ee._fullLayout,xt=ze._scene,kt=ze.xaxis,Lt=ze.yaxis;if(xt)if(tt(Ee,["ANGLE_instanced_arrays","OES_element_index_uint"])){var Ut=xt.count,er=ft._glcanvas.data()[0].regl;if(nt(Ee,ze,Be),xt.dirty){if(!0===xt.error2d&&(xt.error2d=$e(er)),!0===xt.line2d&&(xt.line2d=We(er)),!0===xt.scatter2d&&(xt.scatter2d=Ue(er)),!0===xt.fill2d&&(xt.fill2d=We(er)),!0===xt.glText)for(xt.glText=new Array(Ut),it=0;it<Ut;it++)xt.glText[it]=new Qe(er);if(xt.glText){if(Ut>xt.glText.length){var tr=Ut-xt.glText.length;for(it=0;it<tr;it++)xt.glText.push(new Qe(er))}else if(Ut<xt.glText.length){var rr=xt.glText.length-Ut;xt.glText.splice(Ut,rr).forEach((function(Ee){Ee.destroy()}))}for(it=0;it<Ut;it++)xt.glText[it].update(xt.textOptions[it])}if(xt.line2d&&(xt.line2d.update(xt.lineOptions),xt.lineOptions=xt.lineOptions.map((function(Ee){if(Ee&&Ee.positions){for(var ze=Ee.positions,Be=0;Be<ze.length&&(isNaN(ze[Be])||isNaN(ze[Be+1]));)Be+=2;for(var Ue=ze.length-2;Ue>Be&&(isNaN(ze[Ue])||isNaN(ze[Ue+1]));)Ue-=2;Ee.positions=ze.slice(Be,Ue+2)}return Ee})),xt.line2d.update(xt.lineOptions)),xt.error2d){var ar=(xt.errorXOptions||[]).concat(xt.errorYOptions||[]);xt.error2d.update(ar)}xt.scatter2d&&xt.scatter2d.update(xt.markerOptions),xt.fillOrder=et.repeat(null,Ut),xt.fill2d&&(xt.fillOptions=xt.fillOptions.map((function(Ee,ze){var Ue=Be[ze];if(Ee&&Ue&&Ue[0]&&Ue[0].trace){var We,$e,Qe=Ue[0],et=Qe.trace,tt=Qe.t,rt=xt.lineOptions[ze],nt=[];et._ownfill&&nt.push(ze),et._nexttrace&&nt.push(ze+1),nt.length&&(xt.fillOrder[ze]=nt);var at,it,ct=[],ft=rt&&rt.positions||tt.positions;if("tozeroy"===et.fill){for(at=0;at<ft.length&&isNaN(ft[at+1]);)at+=2;for(it=ft.length-2;it>at&&isNaN(ft[it+1]);)it-=2;0!==ft[at+1]&&(ct=[ft[at],0]),ct=ct.concat(ft.slice(at,it+2)),0!==ft[it+1]&&(ct=ct.concat([ft[it],0]))}else if("tozerox"===et.fill){for(at=0;at<ft.length&&isNaN(ft[at]);)at+=2;for(it=ft.length-2;it>at&&isNaN(ft[it]);)it-=2;0!==ft[at]&&(ct=[0,ft[at+1]]),ct=ct.concat(ft.slice(at,it+2)),0!==ft[it]&&(ct=ct.concat([0,ft[it+1]]))}else if("toself"===et.fill||"tonext"===et.fill){for(ct=[],We=0,$e=0;$e<ft.length;$e+=2)(isNaN(ft[$e])||isNaN(ft[$e+1]))&&((ct=ct.concat(ft.slice(We,$e))).push(ft[We],ft[We+1]),We=$e+2);ct=ct.concat(ft.slice(We)),We&&ct.push(ft[We],ft[We+1])}else{var kt=et._nexttrace;if(kt){var Lt=xt.lineOptions[ze+1];if(Lt){var Ut=Lt.positions;if("tonexty"===et.fill){for(ct=ft.slice(),ze=Math.floor(Ut.length/2);ze--;){var er=Ut[2*ze],tr=Ut[2*ze+1];isNaN(er)||isNaN(tr)||ct.push(er,tr)}Ee.fill=kt.fillcolor}}}}if(et._prevtrace&&"tonext"===et._prevtrace.fill){var rr=xt.lineOptions[ze-1].positions,ar=ct.length/2,Lr=[We=ar];for($e=0;$e<rr.length;$e+=2)(isNaN(rr[$e])||isNaN(rr[$e+1]))&&(Lr.push($e/2+ar+1),We=$e+2);ct=ct.concat(rr),Ee.hole=Lr}return Ee.fillmode=et.fill,Ee.opacity=et.opacity,Ee.positions=ct,Ee}})),xt.fill2d.update(xt.fillOptions))}var Lr=ft.dragmode,Qr="lasso"===Lr||"select"===Lr,on=ft.clickmode.indexOf("select")>-1;for(it=0;it<Ut;it++){var sn=Be[it][0],ln=sn.trace,cn=sn.t,un=cn.index,hn=ln._length,dn=cn.x,vn=cn.y;if(ln.selectedpoints||Qr||on){if(Qr||(Qr=!0),ln.selectedpoints){var yn=xt.selectBatch[un]=et.selIndices2selPoints(ln),_n={};for(ct=0;ct<yn.length;ct++)_n[yn[ct]]=1;var Mn=[];for(ct=0;ct<hn;ct++)_n[ct]||Mn.push(ct);xt.unselectBatch[un]=Mn}var Cn=cn.xpx=new Array(hn),En=cn.ypx=new Array(hn);for(ct=0;ct<hn;ct++)Cn[ct]=kt.c2p(dn[ct]),En[ct]=Lt.c2p(vn[ct])}else cn.xpx=cn.ypx=null}if(Qr){if(xt.select2d||(xt.select2d=Ue(ft._glcanvas.data()[1].regl)),xt.scatter2d){var Pn=new Array(Ut);for(it=0;it<Ut;it++)Pn[it]=xt.selectBatch[it].length||xt.unselectBatch[it].length?xt.markerUnselectedOptions[it]:{};xt.scatter2d.update(Pn)}xt.select2d&&(xt.select2d.update(xt.markerOptions),xt.select2d.update(xt.markerSelectedOptions)),xt.glText&&Be.forEach((function(Ee){var ze=((Ee||[])[0]||{}).trace||{};rt.hasText(ze)&&at(Ee)}))}else xt.scatter2d&&xt.scatter2d.update(xt.markerOptions);var In={viewport:getViewport(ft,kt,Lt),range:[(kt._rl||kt.range)[0],(Lt._rl||Lt.range)[0],(kt._rl||kt.range)[1],(Lt._rl||Lt.range)[1]]},Bn=et.repeat(In,xt.count);xt.fill2d&&xt.fill2d.update(Bn),xt.line2d&&xt.line2d.update(Bn),xt.error2d&&xt.error2d.update(Bn.concat(Bn)),xt.scatter2d&&xt.scatter2d.update(Bn),xt.select2d&&xt.select2d.update(Bn),xt.glText&&xt.glText.forEach((function(Ee){Ee.update(In)}))}else xt.init()}}},"2a16":function(Ee,ze){Ee.exports=function scale(Ee,ze,Be){return Ee[0]=ze[0]*Be,Ee[1]=ze[1]*Be,Ee[2]=ze[2]*Be,Ee}},"2a27":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("97d1"),$e=Be("d115"),Qe=Be("81f0").defaults,et=Be("1c1c").handleText,tt=Be("1a5e").TEXTPAD,rt=Be("c258"),nt=rt.hasColorscale,at=rt.handleDefaults;Ee.exports=function supplyDefaults(Ee,ze,Be,rt){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var it=coerce("labels"),ct=coerce("parents");if(it&&it.length&&ct&&ct.length){var ft=coerce("values");ft&&ft.length?coerce("branchvalues"):coerce("count"),coerce("level"),coerce("maxdepth"),"squarify"===coerce("tiling.packing")&&coerce("tiling.squarifyratio"),coerce("tiling.flip"),coerce("tiling.pad");var xt=coerce("text");coerce("texttemplate"),ze.texttemplate||coerce("textinfo",Array.isArray(xt)?"text+label":"label"),coerce("hovertext"),coerce("hovertemplate");var kt=coerce("pathbar.visible");et(Ee,ze,rt,coerce,"auto",{hasPathbar:kt,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),coerce("textposition");var Lt=-1!==ze.textposition.indexOf("bottom");coerce("marker.line.width")&&coerce("marker.line.color",rt.paper_bgcolor);var Ut=coerce("marker.colors"),er=ze._hasColorscale=nt(Ee,"marker","colors")||(Ee.marker||{}).coloraxis;er?at(Ee,ze,rt,coerce,{prefix:"marker.",cLetter:"c"}):coerce("marker.depthfade",!(Ut||[]).length);var tr=2*ze.textfont.size;coerce("marker.pad.t",Lt?tr/4:tr),coerce("marker.pad.l",tr/4),coerce("marker.pad.r",tr/4),coerce("marker.pad.b",Lt?tr:tr/4),er&&at(Ee,ze,rt,coerce,{prefix:"marker.",cLetter:"c"}),ze._hovered={marker:{line:{width:2,color:$e.contrast(rt.paper_bgcolor)}}},kt&&(coerce("pathbar.thickness",ze.pathbar.textfont.size+2*tt),coerce("pathbar.side"),coerce("pathbar.edgeshape")),Qe(ze,rt,coerce),ze._length=null}else ze.visible=!1}},"2aa9":function(Ee,ze,Be){"use strict";Ee.exports=function selectPoints(Ee,ze){for(var Be=[],Ue=Ee.cd[0].trace,We=Ue._sankey.graph.nodes,$e=0;$e<We.length;$e++){var Qe=We[$e];if(!Qe.partOfGroup){var et=[(Qe.x0+Qe.x1)/2,(Qe.y0+Qe.y1)/2];"v"===Ue.orientation&&et.reverse(),ze&&ze.contains(et,!1,$e,Ee)&&Be.push({pointNumber:Qe.pointNumber})}}return Be}},"2ad6":function(Ee,ze,Be){"use strict";var Ue,We;"undefined"!=typeof window&&window,void 0===(We="function"==typeof(Ue=function(){if("undefined"==typeof window)return null;var Ee="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ze=Ee.requestAnimationFrame||Ee.mozRequestAnimationFrame||Ee.webkitRequestAnimationFrame||function(ze){return Ee.setTimeout(ze,20)};function forEachElement(Ee,ze){var Be=Object.prototype.toString.call(Ee),Ue="[object Array]"===Be||"[object NodeList]"===Be||"[object HTMLCollection]"===Be||"[object Object]"===Be||"undefined"!=typeof jQuery&&Ee instanceof jQuery||"undefined"!=typeof Elements&&Ee instanceof Elements,We=0,$e=Ee.length;if(Ue)for(;We<$e;We++)ze(Ee[We]);else ze(Ee)}function getElementSize(Ee){if(!Ee.getBoundingClientRect)return{width:Ee.offsetWidth,height:Ee.offsetHeight};var ze=Ee.getBoundingClientRect();return{width:Math.round(ze.width),height:Math.round(ze.height)}}function setStyle(Ee,ze){Object.keys(ze).forEach((function(Be){Ee.style[Be]=ze[Be]}))}var ResizeSensor=function(Ee,Be){function EventQueue(){var Ee,ze,Be=[];this.add=function(Ee){Be.push(Ee)},this.call=function(Ue){for(Ee=0,ze=Be.length;Ee<ze;Ee++)Be[Ee].call(this,Ue)},this.remove=function(Ue){var We=[];for(Ee=0,ze=Be.length;Ee<ze;Ee++)Be[Ee]!==Ue&&We.push(Be[Ee]);Be=We},this.length=function(){return Be.length}}function attachResizeEvent(Ee,Be){if(Ee)if(Ee.resizedAttached)Ee.resizedAttached.add(Be);else{Ee.resizedAttached=new EventQueue,Ee.resizedAttached.add(Be),Ee.resizeSensor=document.createElement("div"),Ee.resizeSensor.dir="ltr",Ee.resizeSensor.className="resize-sensor";var Ue={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},We={position:"absolute",left:"0px",top:"0px",transition:"0s"};setStyle(Ee.resizeSensor,Ue);var $e=document.createElement("div");$e.className="resize-sensor-expand",setStyle($e,Ue);var Qe=document.createElement("div");setStyle(Qe,We),$e.appendChild(Qe);var et=document.createElement("div");et.className="resize-sensor-shrink",setStyle(et,Ue);var tt=document.createElement("div");setStyle(tt,We),setStyle(tt,{width:"200%",height:"200%"}),et.appendChild(tt),Ee.resizeSensor.appendChild($e),Ee.resizeSensor.appendChild(et),Ee.appendChild(Ee.resizeSensor);var rt,nt,at=window.getComputedStyle(Ee),it=at?at.getPropertyValue("position"):null;"absolute"!==it&&"relative"!==it&&"fixed"!==it&&(Ee.style.position="relative");var ct=getElementSize(Ee),ft=0,xt=0,kt=!0,Lt=0,reset=function(){if(kt){if(0===Ee.offsetWidth&&0===Ee.offsetHeight)return void(Lt||(Lt=ze((function(){Lt=0,reset()}))));kt=!1}var Be,Ue;Be=Ee.offsetWidth,Ue=Ee.offsetHeight,Qe.style.width=Be+10+"px",Qe.style.height=Ue+10+"px",$e.scrollLeft=Be+10,$e.scrollTop=Ue+10,et.scrollLeft=Be+10,et.scrollTop=Ue+10};Ee.resizeSensor.resetSensor=reset;var onResized=function(){nt=0,rt&&(ft=ct.width,xt=ct.height,Ee.resizedAttached&&Ee.resizedAttached.call(ct))},onScroll=function(){ct=getElementSize(Ee),(rt=ct.width!==ft||ct.height!==xt)&&!nt&&(nt=ze(onResized)),reset()},addEvent=function(Ee,ze,Be){Ee.attachEvent?Ee.attachEvent("on"+ze,Be):Ee.addEventListener(ze,Be)};addEvent($e,"scroll",onScroll),addEvent(et,"scroll",onScroll),ze(reset)}}forEachElement(Ee,(function(Ee){attachResizeEvent(Ee,Be)})),this.detach=function(ze){ResizeSensor.detach(Ee,ze)},this.reset=function(){Ee.resizeSensor.resetSensor()}};if(ResizeSensor.reset=function(Ee){forEachElement(Ee,(function(Ee){Ee.resizeSensor.resetSensor()}))},ResizeSensor.detach=function(Ee,ze){forEachElement(Ee,(function(Ee){Ee&&(Ee.resizedAttached&&"function"==typeof ze&&(Ee.resizedAttached.remove(ze),Ee.resizedAttached.length())||Ee.resizeSensor&&(Ee.contains(Ee.resizeSensor)&&Ee.removeChild(Ee.resizeSensor),delete Ee.resizeSensor,delete Ee.resizedAttached))}))},"undefined"!=typeof MutationObserver){var Be=new MutationObserver((function(Ee){for(var ze in Ee)if(Ee.hasOwnProperty(ze))for(var Be=Ee[ze].addedNodes,Ue=0;Ue<Be.length;Ue++)Be[Ue].resizeSensor&&ResizeSensor.reset(Be[Ue])}));document.addEventListener("DOMContentLoaded",(function(Ee){Be.observe(document.body,{childList:!0,subtree:!0})}))}return ResizeSensor})?Ue.call(ze,Be,ze,Ee):Ue)||(Ee.exports=We)},"2c66":function(Ee,ze,Be){Ee.exports=Be("2456")},"2c8d":function(Ee,ze,Be){"use strict";(function(ze){var Ue,We=Be("dcf3");Ue="function"==typeof ze.matchMedia?!ze.matchMedia("(hover: none)").matches:We,Ee.exports=Ue}).call(this,Be("c8ba"))},"2d00":function(Ee,ze,Be){var Ue,We,$e=Be("da84"),Qe=Be("342f"),et=$e.process,tt=et&&et.versions,rt=tt&&tt.v8;rt?We=(Ue=rt.split("."))[0]+Ue[1]:Qe&&(!(Ue=Qe.match(/Edge\/(\d+)/))||Ue[1]>=74)&&(Ue=Qe.match(/Chrome\/(\d+)/))&&(We=Ue[1]),Ee.exports=We&&+We},"2d0e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=[[-1,0],[1,0],[0,-1],[0,1]];function correctionOvershoot(Ee){return.5-.25*Math.min(1,.5*Ee)}function iterateInterp2d(Ee,ze,Be){var Ue,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt=0;for(et=0;et<ze.length;et++){for($e=(Ue=ze[et])[0],Qe=Ue[1],ft=Ee[$e][Qe],ct=0,it=0,tt=0;tt<4;tt++)(nt=Ee[$e+(rt=We[tt])[0]])&&void 0!==(at=nt[Qe+rt[1]])&&(0===ct?xt=kt=at:(xt=Math.min(xt,at),kt=Math.max(kt,at)),it++,ct+=at);if(0===it)throw"iterateInterp2d order is wrong: no defined neighbors";Ee[$e][Qe]=ct/it,void 0===ft?it<4&&(Lt=1):(Ee[$e][Qe]=(1+Be)*Ee[$e][Qe]-Be*ft,kt>xt&&(Lt=Math.max(Lt,Math.abs(Ee[$e][Qe]-ft)/(kt-xt))))}return Lt}Ee.exports=function interp2d(Ee,ze){var Be,We=1;for(iterateInterp2d(Ee,ze),Be=0;Be<ze.length&&!(ze[Be][2]<4);Be++);for(ze=ze.slice(Be),Be=0;Be<100&&We>.01;Be++)We=iterateInterp2d(Ee,ze,correctionOvershoot(We));return We>.01&&Ue.log("interp2d didn't converge quickly",We),Ee}},"2d12":function(Ee,ze,Be){"use strict";Ee.exports=Be("08ed")},"2d1c":function(Ee,ze){Ee.exports=function negate(Ee,ze){return Ee[0]=-ze[0],Ee[1]=-ze[1],Ee[2]=-ze[2],Ee}},"2d7d":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function PersianCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}function mod(Ee,ze){return Ee-ze*Math.floor(Ee/ze)}PersianCalendar.prototype=new Ue.baseCalendar,We(PersianCalendar.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return 682*((ze.year()-(ze.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-(Ue.dayOfWeek()+1)%7,"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(12===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return 5!==this.dayOfWeek(Ee,ze,Be)},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);Ee=We.year(),ze=We.month(),Be=We.day();var $e=Ee-(Ee>=0?474:473),Qe=474+mod($e,2820);return Be+(ze<=7?31*(ze-1):30*(ze-1)+6)+Math.floor((682*Qe-110)/2816)+365*(Qe-1)+1029983*Math.floor($e/2820)+this.jdEpoch-1},fromJD:function(Ee){var ze=(Ee=Math.floor(Ee)+.5)-this.toJD(475,1,1),Be=Math.floor(ze/1029983),Ue=mod(ze,1029983),We=2820;if(1029982!==Ue){var $e=Math.floor(Ue/366),Qe=mod(Ue,366);We=Math.floor((2134*$e+2816*Qe+2815)/1028522)+$e+1}var et=We+2820*Be+474;et=et<=0?et-1:et;var tt=Ee-this.toJD(et,1,1)+1,rt=tt<=186?Math.ceil(tt/31):Math.ceil((tt-6)/30),nt=Ee-this.toJD(et,rt,1)+1;return this.newDate(et,rt,nt)}}),Ue.calendars.persian=PersianCalendar,Ue.calendars.jalali=PersianCalendar},"2d9a":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Ue.isPlainObject,$e=Be("6921"),Qe=Be("bb71"),et=Be("a876"),tt=Be("a651"),rt=Be("3ff5").dfltConfig;function mergeTemplates(Ee,ze){Ee=Ue.extendDeep({},Ee);var Be,$e,Qe=Object.keys(Ee).sort();function mergeOne(ze,Be,Ue){if(We(Be)&&We(ze))mergeTemplates(ze,Be);else if(Array.isArray(Be)&&Array.isArray(ze)){var Qe=tt.arrayTemplater({_template:Ee},Ue);for($e=0;$e<Be.length;$e++){var et=Be[$e],rt=Qe.newItem(et)._template;rt&&mergeTemplates(rt,et)}var nt=Qe.defaultItems();for($e=0;$e<nt.length;$e++)Be.push(nt[$e]._template);for($e=0;$e<Be.length;$e++)delete Be[$e].templateitemname}}for(Be=0;Be<Qe.length;Be++){var et=Qe[Be],rt=Ee[et];if(et in ze?mergeOne(rt,ze[et],et):ze[et]=rt,getBaseKey(et)===et)for(var nt in ze){var at=getBaseKey(nt);nt===at||at!==et||nt in Ee||mergeOne(rt,ze[nt],et)}}}function getBaseKey(Ee){return Ee.replace(/[0-9]+$/,"")}function walkStyleKeys(Ee,ze,Be,$e,Qe){var et=Qe&&Be(Qe);for(var rt in Ee){var nt=Ee[rt],at=getNextPath(Ee,rt,$e),it=getNextPath(Ee,rt,Qe),ct=Be(it);if(!ct){var ft=getBaseKey(rt);ft!==rt&&(ct=Be(it=getNextPath(Ee,ft,Qe)))}if((!et||et!==ct)&&!(!ct||ct._noTemplating||"data_array"===ct.valType||ct.arrayOk&&Array.isArray(nt)))if(!ct.valType&&We(nt))walkStyleKeys(nt,ze,Be,at,it);else if(ct._isLinkedToArray&&Array.isArray(nt))for(var xt=!1,kt=0,Lt={},Ut=0;Ut<nt.length;Ut++){var er=nt[Ut];if(We(er)){var tr=er.name;if(tr)Lt[tr]||(walkStyleKeys(er,ze,Be,getNextPath(nt,kt,at),getNextPath(nt,kt,it)),kt++,Lt[tr]=1);else if(!xt){var rr=getNextPath(Ee,tt.arrayDefaultKey(rt),$e),ar=getNextPath(nt,kt,at);walkStyleKeys(er,ze,Be,ar,getNextPath(nt,kt,it));var Lr=Ue.nestedProperty(ze,ar);Ue.nestedProperty(ze,rr).set(Lr.get()),Lr.set(null),xt=!0}}}else{Ue.nestedProperty(ze,at).set(nt)}}}function getLayoutInfo(Ee,ze){return $e.getLayoutValObject(Ee,Ue.nestedProperty({},ze).parts)}function getTraceInfo(Ee,ze){return $e.getTraceValObject(Ee,Ue.nestedProperty({},ze).parts)}function getNextPath(Ee,ze,Be){return Be?Array.isArray(Ee)?Be+"["+ze+"]":Be+"."+ze:ze}function hasPlainObject(Ee){for(var ze=0;ze<Ee.length;ze++)if(We(Ee[ze]))return!0}function format(Ee){var ze;switch(Ee.code){case"data":ze="The template has no key data.";break;case"layout":ze="The template has no key layout.";break;case"missing":ze=Ee.path?"There are no templates for item "+Ee.path+" with name "+Ee.templateitemname:"There are no templates for trace "+Ee.index+", of type "+Ee.traceType+".";break;case"unused":ze=Ee.path?"The template item at "+Ee.path+" was not used in constructing the plot.":Ee.dataCount?"Some of the templates of type "+Ee.traceType+" were not used. The template has "+Ee.templateCount+" traces, the data only has "+Ee.dataCount+" of this type.":"The template has "+Ee.templateCount+" traces of type "+Ee.traceType+" but there are none in the data.";break;case"reused":ze="Some of the templates of type "+Ee.traceType+" were used more than once. The template has "+Ee.templateCount+" traces, the data has "+Ee.dataCount+" of this type."}return Ee.msg=ze,Ee}ze.makeTemplate=function(Ee){Ee=Ue.isPlainObject(Ee)?Ee:Ue.getGraphDiv(Ee),Ee=Ue.extendDeep({_context:rt},{data:Ee.data,layout:Ee.layout}),Qe.supplyDefaults(Ee);var ze=Ee.data||[],Be=Ee.layout||{};Be._basePlotModules=Ee._fullLayout._basePlotModules,Be._modules=Ee._fullLayout._modules;var $e={data:{},layout:{}};ze.forEach((function(Ee){var ze={};walkStyleKeys(Ee,ze,getTraceInfo.bind(null,Ee));var Be=Ue.coerce(Ee,{},et,"type"),We=$e.data[Be];We||(We=$e.data[Be]=[]),We.push(ze)})),walkStyleKeys(Be,$e.layout,getLayoutInfo.bind(null,Be)),delete $e.layout.template;var tt=Be.template;if(We(tt)){var nt,at,it,ct,ft,xt,kt=tt.layout;We(kt)&&mergeTemplates(kt,$e.layout);var Lt=tt.data;if(We(Lt)){for(at in $e.data)if(it=Lt[at],Array.isArray(it)){for(xt=(ft=$e.data[at]).length,ct=it.length,nt=0;nt<xt;nt++)mergeTemplates(it[nt%ct],ft[nt]);for(nt=xt;nt<ct;nt++)ft.push(Ue.extendDeep({},it[nt]))}for(at in Lt)at in $e.data||($e.data[at]=Ue.extendDeep([],Lt[at]))}}return $e},ze.validateTemplate=function(Ee,ze){var Be=Ue.extendDeep({},{_context:rt,data:Ee.data,layout:Ee.layout}),$e=Be.layout||{};We(ze)||(ze=$e.template||{});var et=ze.layout,tt=ze.data,nt=[];Be.layout=$e,Be.layout.template=ze,Qe.supplyDefaults(Be);var at=Be._fullLayout,it=Be._fullData,ct={};if(We(et)?(!function crawlLayoutForContainers(Ee,ze){for(var Be in Ee)if("_"!==Be.charAt(0)&&We(Ee[Be])){var Ue,$e=getBaseKey(Be),Qe=[];for(Ue=0;Ue<ze.length;Ue++)Qe.push(getNextPath(Ee,Be,ze[Ue])),$e!==Be&&Qe.push(getNextPath(Ee,$e,ze[Ue]));for(Ue=0;Ue<Qe.length;Ue++)ct[Qe[Ue]]=1;crawlLayoutForContainers(Ee[Be],Qe)}}(at,["layout"]),function crawlLayoutTemplateForContainers(Ee,ze){for(var Be in Ee)if(-1===Be.indexOf("defaults")&&We(Ee[Be])){var Ue=getNextPath(Ee,Be,ze);ct[Ue]?crawlLayoutTemplateForContainers(Ee[Be],Ue):nt.push({code:"unused",path:Ue})}}(et,"layout")):nt.push({code:"layout"}),We(tt)){for(var ft,xt={},kt=0;kt<it.length;kt++){var Lt=it[kt];xt[ft=Lt.type]=(xt[ft]||0)+1,Lt._fullInput._template||nt.push({code:"missing",index:Lt._fullInput.index,traceType:ft})}for(ft in tt){var Ut=tt[ft].length,er=xt[ft]||0;Ut>er?nt.push({code:"unused",traceType:ft,templateCount:Ut,dataCount:er}):er>Ut&&nt.push({code:"reused",traceType:ft,templateCount:Ut,dataCount:er})}}else nt.push({code:"data"});if(function crawlForMissingTemplates(Ee,ze){for(var Be in Ee)if("_"!==Be.charAt(0)){var Ue=Ee[Be],$e=getNextPath(Ee,Be,ze);We(Ue)?(Array.isArray(Ee)&&!1===Ue._template&&Ue.templateitemname&&nt.push({code:"missing",path:$e,templateitemname:Ue.templateitemname}),crawlForMissingTemplates(Ue,$e)):Array.isArray(Ue)&&hasPlainObject(Ue)&&crawlForMissingTemplates(Ue,$e)}}({data:it,layout:at},""),nt.length)return nt.map(format)}},"2dbe":function(Ee,ze,Be){"use strict";var Ue=Be("c243"),We=[32,126];Ee.exports=function atlas(Ee){var ze=(Ee=Ee||{}).shape?Ee.shape:Ee.canvas?[Ee.canvas.width,Ee.canvas.height]:[512,512],Be=Ee.canvas||document.createElement("canvas"),$e=Ee.font,Qe="number"==typeof Ee.step?[Ee.step,Ee.step]:Ee.step||[32,32],et=Ee.chars||We;$e&&"string"!=typeof $e&&($e=Ue($e));if(Array.isArray(et)){if(2===et.length&&"number"==typeof et[0]&&"number"==typeof et[1]){for(var tt=[],rt=et[0],nt=0;rt<=et[1];rt++)tt[nt++]=String.fromCharCode(rt);et=tt}}else et=String(et).split("");ze=ze.slice(),Be.width=ze[0],Be.height=ze[1];var at=Be.getContext("2d");at.fillStyle="#000",at.fillRect(0,0,Be.width,Be.height),at.font=$e,at.textAlign="center",at.textBaseline="middle",at.fillStyle="#fff";var it=Qe[0]/2,ct=Qe[1]/2;for(rt=0;rt<et.length;rt++)at.fillText(et[rt],it,ct),(it+=Qe[0])>ze[0]-Qe[0]/2&&(it=Qe[0]/2,ct+=Qe[1]);return Be}},"2dd7":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("7ba3");Ee.exports=function supplyLayoutDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}coerce("sunburstcolorway",ze.colorway),coerce("extendsunburstcolors")}},"2dd9":function(Ee,ze,Be){"use strict";Ee.exports=function compressExpansion(Ee){for(var ze=Ee.length,Be=Ee[Ee.length-1],Ue=ze,We=ze-2;We>=0;--We){var $e=Be,Qe=Ee[We];(tt=Qe-((Be=$e+Qe)-$e))&&(Ee[--Ue]=Be,Be=tt)}var et=0;for(We=Ue;We<ze;++We){var tt;$e=Ee[We];(tt=(Qe=Be)-((Be=$e+Qe)-$e))&&(Ee[et++]=tt)}return Ee[et++]=Be,Ee.length=et,Ee}},"2df3":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("83d1"),Qe=Be("fc26"),et=Be("371e"),tt=Be("93a6").resizeText,rt=Be("fb5a"),nt=rt.textfont,at=rt.insidetextfont,it=rt.outsidetextfont,ct=Be("6833");function stylePoints(Ee,ze,Be){$e.pointStyle(Ee.selectAll("path"),ze,Be),styleTextPoints(Ee,ze,Be)}function styleTextPoints(Ee,ze,Be){Ee.selectAll("text").each((function(Ee){var We=Ue.select(this),et=Qe.ensureUniformFontSize(Be,determineFont(We,Ee,ze,Be));$e.font(We,et)}))}function determineFont(Ee,ze,Be,Ue){var We=Ue._fullLayout.font,$e=Be.textfont;if(Ee.classed("bartext-inside")){var Qe=getBarColor(ze,Be);$e=getInsideTextFont(Be,ze.i,We,Qe)}else Ee.classed("bartext-outside")&&($e=getOutsideTextFont(Be,ze.i,We));return $e}function getTextFont(Ee,ze,Be){return getFontValue(nt,Ee.textfont,ze,Be)}function getInsideTextFont(Ee,ze,Be,Ue){var $e=getTextFont(Ee,ze,Be);return(void 0===Ee._input.textfont||void 0===Ee._input.textfont.color||Array.isArray(Ee.textfont.color)&&void 0===Ee.textfont.color[ze])&&($e={color:We.contrast(Ue),family:$e.family,size:$e.size}),getFontValue(at,Ee.insidetextfont,ze,$e)}function getOutsideTextFont(Ee,ze,Be){var Ue=getTextFont(Ee,ze,Be);return getFontValue(it,Ee.outsidetextfont,ze,Ue)}function getFontValue(Ee,ze,Be,Ue){ze=ze||{};var We=ct.getValue(ze.family,Be),$e=ct.getValue(ze.size,Be),Qe=ct.getValue(ze.color,Be);return{family:ct.coerceString(Ee.family,We,Ue.family),size:ct.coerceNumber(Ee.size,$e,Ue.size),color:ct.coerceColor(Ee.color,Qe,Ue.color)}}function getBarColor(Ee,ze){return"waterfall"===ze.type?ze[Ee.dir].marker.color:Ee.mc||ze.marker.color}Ee.exports={style:function style(Ee){var ze=Ue.select(Ee).selectAll("g.barlayer").selectAll("g.trace");tt(Ee,ze,"bar");var Be=ze.size(),We=Ee._fullLayout;ze.style("opacity",(function(Ee){return Ee[0].trace.opacity})).each((function(Ee){("stack"===We.barmode&&Be>1||0===We.bargap&&0===We.bargroupgap&&!Ee[0].trace.marker.line.width)&&Ue.select(this).attr("shape-rendering","crispEdges")})),ze.selectAll("g.points").each((function(ze){stylePoints(Ue.select(this),ze[0].trace,Ee)})),et.getComponentMethod("errorbars","style")(ze)},styleTextPoints:styleTextPoints,styleOnSelect:function styleOnSelect(Ee,ze,Be){var We=ze[0].trace;We.selectedpoints?function stylePointsInSelectionMode(Ee,ze,Be){$e.selectedPointStyle(Ee.selectAll("path"),ze),function styleTextInSelectionMode(Ee,ze,Be){Ee.each((function(Ee){var We,et=Ue.select(this);if(Ee.selected){We=Qe.ensureUniformFontSize(Be,determineFont(et,Ee,ze,Be));var tt=ze.selected.textfont&&ze.selected.textfont.color;tt&&(We.color=tt),$e.font(et,We)}else $e.selectedTextStyle(et,ze)}))}(Ee.selectAll("text"),ze,Be)}(Be,We,Ee):(stylePoints(Be,We,Ee),et.getComponentMethod("errorbars","style")(Be))},getInsideTextFont:getInsideTextFont,getOutsideTextFont:getOutsideTextFont,getBarColor:getBarColor,resizeText:tt}},"2e22":function(Ee,ze,Be){"use strict";Be.r(ze),Be.d(ze,"sankeyCircular",(function(){return sankeyCircular})),Be.d(ze,"sankeyCenter",(function(){return center})),Be.d(ze,"sankeyLeft",(function(){return left})),Be.d(ze,"sankeyRight",(function(){return right})),Be.d(ze,"sankeyJustify",(function(){return justify}));var Ue=Be("bc17"),We=Be("6f04"),$e=Be("1a88"),Qe=Be("7e55"),et=Be.n(Qe);function targetDepth(Ee){return Ee.target.depth}function left(Ee){return Ee.depth}function right(Ee,ze){return ze-1-Ee.height}function justify(Ee,ze){return Ee.sourceLinks.length?Ee.depth:ze-1}function center(Ee){return Ee.targetLinks.length?Ee.depth:Ee.sourceLinks.length?Object(Ue.d)(Ee.sourceLinks,targetDepth)-1:0}function constant(Ee){return function(){return Ee}}var tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ee){return typeof Ee}:function(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee};function ascendingSourceBreadth(Ee,ze){return ascendingBreadth(Ee.source,ze.source)||Ee.index-ze.index}function ascendingTargetBreadth(Ee,ze){return ascendingBreadth(Ee.target,ze.target)||Ee.index-ze.index}function ascendingBreadth(Ee,ze){return Ee.partOfCycle===ze.partOfCycle?Ee.y0-ze.y0:"top"===Ee.circularLinkType||"bottom"===ze.circularLinkType?-1:1}function value(Ee){return Ee.value}function nodeCenter(Ee){return(Ee.y0+Ee.y1)/2}function linkSourceCenter(Ee){return nodeCenter(Ee.source)}function linkTargetCenter(Ee){return nodeCenter(Ee.target)}function defaultId(Ee){return Ee.index}function defaultNodes(Ee){return Ee.nodes}function defaultLinks(Ee){return Ee.links}function find(Ee,ze){var Be=Ee.get(ze);if(!Be)throw new Error("missing: "+ze);return Be}function getNodeID(Ee,ze){return ze(Ee)}function sankeyCircular(){var Ee,ze,Be=0,$e=0,Qe=1,et=1,rt=24,nt=defaultId,at=justify,it=defaultNodes,ct=defaultLinks,ft=32,xt=2,kt=null;function sankeyCircular(){var Ee={nodes:it.apply(null,arguments),links:ct.apply(null,arguments)};computeNodeLinks(Ee),identifyCircles(Ee,nt,kt),computeNodeValues(Ee),computeNodeDepths(Ee),selectCircularLinkTypes(Ee,nt),computeNodeBreadths(Ee,ft,nt),computeLinkBreadths(Ee);for(var ze=4,Be=0;Be<ze;Be++)sortSourceLinks(Ee,et,nt),sortTargetLinks(Ee,et,nt),resolveNodeLinkOverlaps(Ee,$e,et,nt),sortSourceLinks(Ee,et,nt),sortTargetLinks(Ee,et,nt);return fillHeight(Ee,$e,et),addCircularPathData(Ee,xt,et,nt),Ee}function computeNodeLinks(Ee){Ee.nodes.forEach((function(Ee,ze){Ee.index=ze,Ee.sourceLinks=[],Ee.targetLinks=[]}));var ze=Object(We.a)(Ee.nodes,nt);return Ee.links.forEach((function(Ee,Be){Ee.index=Be;var Ue=Ee.source,We=Ee.target;"object"!==(void 0===Ue?"undefined":tt(Ue))&&(Ue=Ee.source=find(ze,Ue)),"object"!==(void 0===We?"undefined":tt(We))&&(We=Ee.target=find(ze,We)),Ue.sourceLinks.push(Ee),We.targetLinks.push(Ee)})),Ee}function computeNodeValues(Ee){Ee.nodes.forEach((function(Ee){Ee.partOfCycle=!1,Ee.value=Math.max(Object(Ue.e)(Ee.sourceLinks,value),Object(Ue.e)(Ee.targetLinks,value)),Ee.sourceLinks.forEach((function(ze){ze.circular&&(Ee.partOfCycle=!0,Ee.circularLinkType=ze.circularLinkType)})),Ee.targetLinks.forEach((function(ze){ze.circular&&(Ee.partOfCycle=!0,Ee.circularLinkType=ze.circularLinkType)}))}))}function computeNodeDepths(Ee){var ze,Be,Ue;for(ze=Ee.nodes,Be=[],Ue=0;ze.length;++Ue,ze=Be,Be=[])ze.forEach((function(Ee){Ee.depth=Ue,Ee.sourceLinks.forEach((function(Ee){Be.indexOf(Ee.target)<0&&!Ee.circular&&Be.push(Ee.target)}))}));for(ze=Ee.nodes,Be=[],Ue=0;ze.length;++Ue,ze=Be,Be=[])ze.forEach((function(Ee){Ee.height=Ue,Ee.targetLinks.forEach((function(Ee){Be.indexOf(Ee.source)<0&&!Ee.circular&&Be.push(Ee.source)}))}));Ee.nodes.forEach((function(Ee){Ee.column=Math.floor(at.call(null,Ee,Ue))}))}function computeNodeBreadths(tt,nt,at){var it=Object(We.b)().key((function(Ee){return Ee.column})).sortKeys(Ue.a).entries(tt.nodes).map((function(Ee){return Ee.values}));!function initializeNodeBreadth(We){if(ze){var nt=1/0;it.forEach((function(Ee){var Be=et*ze/(Ee.length+1);nt=Be<nt?Be:nt})),Ee=nt}var at=Object(Ue.d)(it,(function(ze){return(et-$e-(ze.length-1)*Ee)/Object(Ue.e)(ze,value)}));at*=.3,tt.links.forEach((function(Ee){Ee.width=Ee.value*at}));var ct=function getCircleMargins(Ee){var ze=0,Be=0,We=0,$e=0,Qe=Object(Ue.b)(Ee.nodes,(function(Ee){return Ee.column}));return Ee.links.forEach((function(Ee){Ee.circular&&("top"==Ee.circularLinkType?ze+=Ee.width:Be+=Ee.width,0==Ee.target.column&&($e+=Ee.width),Ee.source.column==Qe&&(We+=Ee.width))})),{top:ze=ze>0?ze+25+10:ze,bottom:Be=Be>0?Be+25+10:Be,left:$e=$e>0?$e+25+10:$e,right:We=We>0?We+25+10:We}}(tt),ft=function scaleSankeySize(Ee,ze){var We=Object(Ue.b)(Ee.nodes,(function(Ee){return Ee.column})),tt=Qe-Be,nt=et-$e,at=tt/(tt+ze.right+ze.left),it=nt/(nt+ze.top+ze.bottom);return Be=Be*at+ze.left,Qe=0==ze.right?Qe:Qe*at,$e=$e*it+ze.top,et*=it,Ee.nodes.forEach((function(Ee){Ee.x0=Be+Ee.column*((Qe-Be-rt)/We),Ee.x1=Ee.x0+rt})),it}(tt,ct);at*=ft,tt.links.forEach((function(Ee){Ee.width=Ee.value*at})),it.forEach((function(Ee){var ze=Ee.length;Ee.forEach((function(Ee,Be){Ee.depth==it.length-1&&1==ze||0==Ee.depth&&1==ze?(Ee.y0=et/2-Ee.value*at,Ee.y1=Ee.y0+Ee.value*at):Ee.partOfCycle?0==numberOfNonSelfLinkingCycles(Ee,We)?(Ee.y0=et/2+Be,Ee.y1=Ee.y0+Ee.value*at):"top"==Ee.circularLinkType?(Ee.y0=$e+Be,Ee.y1=Ee.y0+Ee.value*at):(Ee.y0=et-Ee.value*at-Be,Ee.y1=Ee.y0+Ee.value*at):0==ct.top||0==ct.bottom?(Ee.y0=(et-$e)/ze*Be,Ee.y1=Ee.y0+Ee.value*at):(Ee.y0=(et-$e)/2-ze/2+Be,Ee.y1=Ee.y0+Ee.value*at)}))}))}(at),resolveCollisions();for(var ct=1,ft=nt;ft>0;--ft)relaxLeftAndRight(ct*=.99,at),resolveCollisions();function relaxLeftAndRight(Ee,ze){var Be=it.length;it.forEach((function(We){var $e=We.length,Qe=We[0].depth;We.forEach((function(We){var tt;if(We.sourceLinks.length||We.targetLinks.length)if(We.partOfCycle&&numberOfNonSelfLinkingCycles(We,ze)>0);else if(0==Qe&&1==$e)tt=We.y1-We.y0,We.y0=et/2-tt/2,We.y1=et/2+tt/2;else if(Qe==Be-1&&1==$e)tt=We.y1-We.y0,We.y0=et/2-tt/2,We.y1=et/2+tt/2;else{var rt=Object(Ue.c)(We.sourceLinks,linkTargetCenter),nt=Object(Ue.c)(We.targetLinks,linkSourceCenter),at=((rt&&nt?(rt+nt)/2:rt||nt)-nodeCenter(We))*Ee;We.y0+=at,We.y1+=at}}))}))}function resolveCollisions(){it.forEach((function(ze){var Be,Ue,We,Qe=$e,tt=ze.length;for(ze.sort(ascendingBreadth),We=0;We<tt;++We)(Ue=Qe-(Be=ze[We]).y0)>0&&(Be.y0+=Ue,Be.y1+=Ue),Qe=Be.y1+Ee;if((Ue=Qe-Ee-et)>0)for(Qe=Be.y0-=Ue,Be.y1-=Ue,We=tt-2;We>=0;--We)(Ue=(Be=ze[We]).y1+Ee-Qe)>0&&(Be.y0-=Ue,Be.y1-=Ue),Qe=Be.y0}))}}function computeLinkBreadths(Ee){Ee.nodes.forEach((function(Ee){Ee.sourceLinks.sort(ascendingTargetBreadth),Ee.targetLinks.sort(ascendingSourceBreadth)})),Ee.nodes.forEach((function(Ee){var ze=Ee.y0,Be=ze,Ue=Ee.y1,We=Ue;Ee.sourceLinks.forEach((function(Ee){Ee.circular?(Ee.y0=Ue-Ee.width/2,Ue-=Ee.width):(Ee.y0=ze+Ee.width/2,ze+=Ee.width)})),Ee.targetLinks.forEach((function(Ee){Ee.circular?(Ee.y1=We-Ee.width/2,We-=Ee.width):(Ee.y1=Be+Ee.width/2,Be+=Ee.width)}))}))}return sankeyCircular.nodeId=function(Ee){return arguments.length?(nt="function"==typeof Ee?Ee:constant(Ee),sankeyCircular):nt},sankeyCircular.nodeAlign=function(Ee){return arguments.length?(at="function"==typeof Ee?Ee:constant(Ee),sankeyCircular):at},sankeyCircular.nodeWidth=function(Ee){return arguments.length?(rt=+Ee,sankeyCircular):rt},sankeyCircular.nodePadding=function(ze){return arguments.length?(Ee=+ze,sankeyCircular):Ee},sankeyCircular.nodes=function(Ee){return arguments.length?(it="function"==typeof Ee?Ee:constant(Ee),sankeyCircular):it},sankeyCircular.links=function(Ee){return arguments.length?(ct="function"==typeof Ee?Ee:constant(Ee),sankeyCircular):ct},sankeyCircular.size=function(Ee){return arguments.length?(Be=$e=0,Qe=+Ee[0],et=+Ee[1],sankeyCircular):[Qe-Be,et-$e]},sankeyCircular.extent=function(Ee){return arguments.length?(Be=+Ee[0][0],Qe=+Ee[1][0],$e=+Ee[0][1],et=+Ee[1][1],sankeyCircular):[[Be,$e],[Qe,et]]},sankeyCircular.iterations=function(Ee){return arguments.length?(ft=+Ee,sankeyCircular):ft},sankeyCircular.circularLinkGap=function(Ee){return arguments.length?(xt=+Ee,sankeyCircular):xt},sankeyCircular.nodePaddingRatio=function(Ee){return arguments.length?(ze=+Ee,sankeyCircular):ze},sankeyCircular.sortNodes=function(Ee){return arguments.length?(kt=Ee,sankeyCircular):kt},sankeyCircular.update=function(Ee){return selectCircularLinkTypes(Ee,nt),computeLinkBreadths(Ee),Ee.links.forEach((function(Ee){Ee.circular&&(Ee.circularLinkType=Ee.y0+Ee.y1<et?"top":"bottom",Ee.source.circularLinkType=Ee.circularLinkType,Ee.target.circularLinkType=Ee.circularLinkType)})),sortSourceLinks(Ee,et,nt,!1),sortTargetLinks(Ee,et,nt),addCircularPathData(Ee,xt,et,nt),Ee},sankeyCircular}function identifyCircles(Ee,ze,Be){var Ue=0;if(null===Be){for(var We=[],$e=0;$e<Ee.links.length;$e++){var Qe=Ee.links[$e],tt=Qe.source.index,rt=Qe.target.index;We[tt]||(We[tt]=[]),We[rt]||(We[rt]=[]),-1===We[tt].indexOf(rt)&&We[tt].push(rt)}var nt=et()(We);nt.sort((function(Ee,ze){return Ee.length-ze.length}));var at={};for($e=0;$e<nt.length;$e++){var it=nt[$e].slice(-2);at[it[0]]||(at[it[0]]={}),at[it[0]][it[1]]=!0}Ee.links.forEach((function(Ee){var ze=Ee.target.index,Be=Ee.source.index;ze===Be||at[Be]&&at[Be][ze]?(Ee.circular=!0,Ee.circularLinkID=Ue,Ue+=1):Ee.circular=!1}))}else Ee.links.forEach((function(Ee){Ee.source[Be]<Ee.target[Be]?Ee.circular=!1:(Ee.circular=!0,Ee.circularLinkID=Ue,Ue+=1)}))}function selectCircularLinkTypes(Ee,ze){var Be=0,Ue=0;Ee.links.forEach((function(We){We.circular&&(We.source.circularLinkType||We.target.circularLinkType?We.circularLinkType=We.source.circularLinkType?We.source.circularLinkType:We.target.circularLinkType:We.circularLinkType=Be<Ue?"top":"bottom","top"==We.circularLinkType?Be+=1:Ue+=1,Ee.nodes.forEach((function(Ee){getNodeID(Ee,ze)!=getNodeID(We.source,ze)&&getNodeID(Ee,ze)!=getNodeID(We.target,ze)||(Ee.circularLinkType=We.circularLinkType)})))})),Ee.links.forEach((function(Ee){Ee.circular&&(Ee.source.circularLinkType==Ee.target.circularLinkType&&(Ee.circularLinkType=Ee.source.circularLinkType),selfLinking(Ee,ze)&&(Ee.circularLinkType=Ee.source.circularLinkType))}))}function linkAngle(Ee){var ze=Math.abs(Ee.y1-Ee.y0),Be=Math.abs(Ee.target.x0-Ee.source.x1);return Math.atan(Be/ze)}function numberOfNonSelfLinkingCycles(Ee,ze){var Be=0;Ee.sourceLinks.forEach((function(Ee){Be=Ee.circular&&!selfLinking(Ee,ze)?Be+1:Be}));var Ue=0;return Ee.targetLinks.forEach((function(Ee){Ue=Ee.circular&&!selfLinking(Ee,ze)?Ue+1:Ue})),Be+Ue}function onlyCircularLink(Ee){var ze=Ee.source.sourceLinks,Be=0;ze.forEach((function(Ee){Be=Ee.circular?Be+1:Be}));var Ue=Ee.target.targetLinks,We=0;return Ue.forEach((function(Ee){We=Ee.circular?We+1:We})),!(Be>1||We>1)}function calcVerticalBuffer(Ee,ze,Be){return Ee.sort(sortLinkColumnAscending),Ee.forEach((function(Ue,We){var $e,Qe,et=0;if(selfLinking(Ue,Be)&&onlyCircularLink(Ue))Ue.circularPathData.verticalBuffer=et+Ue.width/2;else{for(var tt=0;tt<We;tt++)if($e=Ee[We],Qe=Ee[tt],!($e.source.column<Qe.target.column||$e.target.column>Qe.source.column)){var rt=Ee[tt].circularPathData.verticalBuffer+Ee[tt].width/2+ze;et=rt>et?rt:et}Ue.circularPathData.verticalBuffer=et+Ue.width/2}})),Ee}function addCircularPathData(Ee,ze,Be,We){var Qe=Object(Ue.d)(Ee.links,(function(Ee){return Ee.source.y0}));Ee.links.forEach((function(Ee){Ee.circular&&(Ee.circularPathData={})})),calcVerticalBuffer(Ee.links.filter((function(Ee){return"top"==Ee.circularLinkType})),ze,We),calcVerticalBuffer(Ee.links.filter((function(Ee){return"bottom"==Ee.circularLinkType})),ze,We),Ee.links.forEach((function(Ue){if(Ue.circular){if(Ue.circularPathData.arcRadius=Ue.width+10,Ue.circularPathData.leftNodeBuffer=5,Ue.circularPathData.rightNodeBuffer=5,Ue.circularPathData.sourceWidth=Ue.source.x1-Ue.source.x0,Ue.circularPathData.sourceX=Ue.source.x0+Ue.circularPathData.sourceWidth,Ue.circularPathData.targetX=Ue.target.x0,Ue.circularPathData.sourceY=Ue.y0,Ue.circularPathData.targetY=Ue.y1,selfLinking(Ue,We)&&onlyCircularLink(Ue))Ue.circularPathData.leftSmallArcRadius=10+Ue.width/2,Ue.circularPathData.leftLargeArcRadius=10+Ue.width/2,Ue.circularPathData.rightSmallArcRadius=10+Ue.width/2,Ue.circularPathData.rightLargeArcRadius=10+Ue.width/2,"bottom"==Ue.circularLinkType?(Ue.circularPathData.verticalFullExtent=Ue.source.y1+25+Ue.circularPathData.verticalBuffer,Ue.circularPathData.verticalLeftInnerExtent=Ue.circularPathData.verticalFullExtent-Ue.circularPathData.leftLargeArcRadius,Ue.circularPathData.verticalRightInnerExtent=Ue.circularPathData.verticalFullExtent-Ue.circularPathData.rightLargeArcRadius):(Ue.circularPathData.verticalFullExtent=Ue.source.y0-25-Ue.circularPathData.verticalBuffer,Ue.circularPathData.verticalLeftInnerExtent=Ue.circularPathData.verticalFullExtent+Ue.circularPathData.leftLargeArcRadius,Ue.circularPathData.verticalRightInnerExtent=Ue.circularPathData.verticalFullExtent+Ue.circularPathData.rightLargeArcRadius);else{var et=Ue.source.column,tt=Ue.circularLinkType,rt=Ee.links.filter((function(Ee){return Ee.source.column==et&&Ee.circularLinkType==tt}));"bottom"==Ue.circularLinkType?rt.sort(sortLinkSourceYDescending):rt.sort(sortLinkSourceYAscending);var nt=0;rt.forEach((function(Ee,Be){Ee.circularLinkID==Ue.circularLinkID&&(Ue.circularPathData.leftSmallArcRadius=10+Ue.width/2+nt,Ue.circularPathData.leftLargeArcRadius=10+Ue.width/2+Be*ze+nt),nt+=Ee.width})),et=Ue.target.column,rt=Ee.links.filter((function(Ee){return Ee.target.column==et&&Ee.circularLinkType==tt})),"bottom"==Ue.circularLinkType?rt.sort(sortLinkTargetYDescending):rt.sort(sortLinkTargetYAscending),nt=0,rt.forEach((function(Ee,Be){Ee.circularLinkID==Ue.circularLinkID&&(Ue.circularPathData.rightSmallArcRadius=10+Ue.width/2+nt,Ue.circularPathData.rightLargeArcRadius=10+Ue.width/2+Be*ze+nt),nt+=Ee.width})),"bottom"==Ue.circularLinkType?(Ue.circularPathData.verticalFullExtent=Math.max(Be,Ue.source.y1,Ue.target.y1)+25+Ue.circularPathData.verticalBuffer,Ue.circularPathData.verticalLeftInnerExtent=Ue.circularPathData.verticalFullExtent-Ue.circularPathData.leftLargeArcRadius,Ue.circularPathData.verticalRightInnerExtent=Ue.circularPathData.verticalFullExtent-Ue.circularPathData.rightLargeArcRadius):(Ue.circularPathData.verticalFullExtent=Qe-25-Ue.circularPathData.verticalBuffer,Ue.circularPathData.verticalLeftInnerExtent=Ue.circularPathData.verticalFullExtent+Ue.circularPathData.leftLargeArcRadius,Ue.circularPathData.verticalRightInnerExtent=Ue.circularPathData.verticalFullExtent+Ue.circularPathData.rightLargeArcRadius)}Ue.circularPathData.leftInnerExtent=Ue.circularPathData.sourceX+Ue.circularPathData.leftNodeBuffer,Ue.circularPathData.rightInnerExtent=Ue.circularPathData.targetX-Ue.circularPathData.rightNodeBuffer,Ue.circularPathData.leftFullExtent=Ue.circularPathData.sourceX+Ue.circularPathData.leftLargeArcRadius+Ue.circularPathData.leftNodeBuffer,Ue.circularPathData.rightFullExtent=Ue.circularPathData.targetX-Ue.circularPathData.rightLargeArcRadius-Ue.circularPathData.rightNodeBuffer}if(Ue.circular)Ue.path=function createCircularPathString(Ee){var ze="";ze="top"==Ee.circularLinkType?"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY-Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY-Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY:"M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY+Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY+Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY;return ze}(Ue);else{var at=Object($e.a)().source((function(Ee){return[Ee.source.x0+(Ee.source.x1-Ee.source.x0),Ee.y0]})).target((function(Ee){return[Ee.target.x0,Ee.y1]}));Ue.path=at(Ue)}}))}function sortLinkColumnAscending(Ee,ze){return linkColumnDistance(Ee)==linkColumnDistance(ze)?"bottom"==Ee.circularLinkType?sortLinkSourceYDescending(Ee,ze):sortLinkSourceYAscending(Ee,ze):linkColumnDistance(ze)-linkColumnDistance(Ee)}function sortLinkSourceYAscending(Ee,ze){return Ee.y0-ze.y0}function sortLinkSourceYDescending(Ee,ze){return ze.y0-Ee.y0}function sortLinkTargetYAscending(Ee,ze){return Ee.y1-ze.y1}function sortLinkTargetYDescending(Ee,ze){return ze.y1-Ee.y1}function linkColumnDistance(Ee){return Ee.target.column-Ee.source.column}function linkXLength(Ee){return Ee.target.x0-Ee.source.x1}function linkPerpendicularYToLinkSource(Ee,ze){var Be=linkAngle(Ee),Ue=linkXLength(ze)/Math.tan(Be);return"up"==incline(Ee)?Ee.y1+Ue:Ee.y1-Ue}function linkPerpendicularYToLinkTarget(Ee,ze){var Be=linkAngle(Ee),Ue=linkXLength(ze)/Math.tan(Be);return"up"==incline(Ee)?Ee.y1-Ue:Ee.y1+Ue}function resolveNodeLinkOverlaps(Ee,ze,Be,Ue){Ee.links.forEach((function(We){if(!We.circular&&We.target.column-We.source.column>1){var $e=We.source.column+1,Qe=We.target.column-1,et=1,tt=Qe-$e+1;for(et=1;$e<=Qe;$e++,et++)Ee.nodes.forEach((function(Qe){if(Qe.column==$e){var rt,nt=et/(tt+1),at=Math.pow(1-nt,3),it=3*nt*Math.pow(1-nt,2),ct=3*Math.pow(nt,2)*(1-nt),ft=Math.pow(nt,3),xt=at*We.y0+it*We.y0+ct*We.y1+ft*We.y1,kt=xt-We.width/2,Lt=xt+We.width/2;kt>Qe.y0&&kt<Qe.y1?(rt=Qe.y1-kt+10,rt="bottom"==Qe.circularLinkType?rt:-rt,Qe=adjustNodeHeight(Qe,rt,ze,Be),Ee.nodes.forEach((function(Ee){getNodeID(Ee,Ue)!=getNodeID(Qe,Ue)&&Ee.column==Qe.column&&nodesOverlap(Qe,Ee)&&adjustNodeHeight(Ee,rt,ze,Be)}))):(Lt>Qe.y0&&Lt<Qe.y1||kt<Qe.y0&&Lt>Qe.y1)&&(rt=Lt-Qe.y0+10,Qe=adjustNodeHeight(Qe,rt,ze,Be),Ee.nodes.forEach((function(Ee){getNodeID(Ee,Ue)!=getNodeID(Qe,Ue)&&Ee.column==Qe.column&&Ee.y0<Qe.y1&&Ee.y1>Qe.y1&&adjustNodeHeight(Ee,rt,ze,Be)})))}}))}}))}function nodesOverlap(Ee,ze){return Ee.y0>ze.y0&&Ee.y0<ze.y1||(Ee.y1>ze.y0&&Ee.y1<ze.y1||Ee.y0<ze.y0&&Ee.y1>ze.y1)}function adjustNodeHeight(Ee,ze,Be,Ue){return Ee.y0+ze>=Be&&Ee.y1+ze<=Ue&&(Ee.y0=Ee.y0+ze,Ee.y1=Ee.y1+ze,Ee.targetLinks.forEach((function(Ee){Ee.y1=Ee.y1+ze})),Ee.sourceLinks.forEach((function(Ee){Ee.y0=Ee.y0+ze}))),Ee}function sortSourceLinks(Ee,ze,Be,Ue){Ee.nodes.forEach((function(We){Ue&&We.y+(We.y1-We.y0)>ze&&(We.y=We.y-(We.y+(We.y1-We.y0)-ze));var $e=Ee.links.filter((function(Ee){return getNodeID(Ee.source,Be)==getNodeID(We,Be)})),Qe=$e.length;Qe>1&&$e.sort((function(Ee,ze){if(!Ee.circular&&!ze.circular){if(Ee.target.column==ze.target.column)return Ee.y1-ze.y1;if(!sameInclines(Ee,ze))return Ee.y1-ze.y1;if(Ee.target.column>ze.target.column){var Be=linkPerpendicularYToLinkTarget(ze,Ee);return Ee.y1-Be}if(ze.target.column>Ee.target.column)return linkPerpendicularYToLinkTarget(Ee,ze)-ze.y1}return Ee.circular&&!ze.circular?"top"==Ee.circularLinkType?-1:1:ze.circular&&!Ee.circular?"top"==ze.circularLinkType?1:-1:Ee.circular&&ze.circular?Ee.circularLinkType===ze.circularLinkType&&"top"==Ee.circularLinkType?Ee.target.column===ze.target.column?Ee.target.y1-ze.target.y1:ze.target.column-Ee.target.column:Ee.circularLinkType===ze.circularLinkType&&"bottom"==Ee.circularLinkType?Ee.target.column===ze.target.column?ze.target.y1-Ee.target.y1:Ee.target.column-ze.target.column:"top"==Ee.circularLinkType?-1:1:void 0}));var et=We.y0;$e.forEach((function(Ee){Ee.y0=et+Ee.width/2,et+=Ee.width})),$e.forEach((function(Ee,ze){if("bottom"==Ee.circularLinkType){for(var Be=ze+1,Ue=0;Be<Qe;Be++)Ue+=$e[Be].width;Ee.y0=We.y1-Ue-Ee.width/2}}))}))}function sortTargetLinks(Ee,ze,Be){Ee.nodes.forEach((function(ze){var Ue=Ee.links.filter((function(Ee){return getNodeID(Ee.target,Be)==getNodeID(ze,Be)})),We=Ue.length;We>1&&Ue.sort((function(Ee,ze){if(!Ee.circular&&!ze.circular){if(Ee.source.column==ze.source.column)return Ee.y0-ze.y0;if(!sameInclines(Ee,ze))return Ee.y0-ze.y0;if(ze.source.column<Ee.source.column){var Be=linkPerpendicularYToLinkSource(ze,Ee);return Ee.y0-Be}if(Ee.source.column<ze.source.column)return linkPerpendicularYToLinkSource(Ee,ze)-ze.y0}return Ee.circular&&!ze.circular?"top"==Ee.circularLinkType?-1:1:ze.circular&&!Ee.circular?"top"==ze.circularLinkType?1:-1:Ee.circular&&ze.circular?Ee.circularLinkType===ze.circularLinkType&&"top"==Ee.circularLinkType?Ee.source.column===ze.source.column?Ee.source.y1-ze.source.y1:Ee.source.column-ze.source.column:Ee.circularLinkType===ze.circularLinkType&&"bottom"==Ee.circularLinkType?Ee.source.column===ze.source.column?Ee.source.y1-ze.source.y1:ze.source.column-Ee.source.column:"top"==Ee.circularLinkType?-1:1:void 0}));var $e=ze.y0;Ue.forEach((function(Ee){Ee.y1=$e+Ee.width/2,$e+=Ee.width})),Ue.forEach((function(Ee,Be){if("bottom"==Ee.circularLinkType){for(var $e=Be+1,Qe=0;$e<We;$e++)Qe+=Ue[$e].width;Ee.y1=ze.y1-Qe-Ee.width/2}}))}))}function sameInclines(Ee,ze){return incline(Ee)==incline(ze)}function incline(Ee){return Ee.y0-Ee.y1>0?"up":"down"}function selfLinking(Ee,ze){return getNodeID(Ee.source,ze)==getNodeID(Ee.target,ze)}function fillHeight(Ee,ze,Be){var We=Ee.nodes,$e=Ee.links,Qe=!1,et=!1;if($e.forEach((function(Ee){"top"==Ee.circularLinkType?Qe=!0:"bottom"==Ee.circularLinkType&&(et=!0)})),0==Qe||0==et){var tt=Object(Ue.d)(We,(function(Ee){return Ee.y0})),rt=(Be-ze)/(Object(Ue.b)(We,(function(Ee){return Ee.y1}))-tt);We.forEach((function(Ee){var ze=(Ee.y1-Ee.y0)*rt;Ee.y0=(Ee.y0-tt)*rt,Ee.y1=Ee.y0+ze})),$e.forEach((function(Ee){Ee.y0=(Ee.y0-tt)*rt,Ee.y1=(Ee.y1-tt)*rt,Ee.width=Ee.width*rt}))}}},"2e3d":function(Ee,ze,Be){"use strict";var Ue=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,We=/^[^\.\[\]]+$/;Ee.exports=function(Ee,ze){for(;ze;){var Be=Ee.match(Ue);if(Be)Ee=Be[1];else{if(!Ee.match(We))throw new Error("bad relativeAttr call:"+[Ee,ze]);Ee=""}if("^"!==ze.charAt(0))break;ze=ze.slice(1)}return Ee&&"["!==ze.charAt(0)?Ee+"."+ze:Ee+ze}},"2e46":function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We,$e){var Qe=["function ",Ee,"(a,l,h,",Ue.join(","),"){",$e?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",We?".get(m)":"[m]"];return $e?ze.indexOf("c")<0?Qe.push(";if(x===y){return m}else if(x<=y){"):Qe.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):Qe.push(";if(",ze,"){i=m;"),Be?Qe.push("l=m+1}else{h=m-1}"):Qe.push("h=m-1}else{l=m+1}"),Qe.push("}"),$e?Qe.push("return -1};"):Qe.push("return i};"),Qe.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],!1,Ue),compileSearch("B","x"+Ee+"y",ze,["y"],!0,Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],!1,Ue),compileSearch("Q","c(x,y)"+Ee+"0",ze,["y","c"],!0,Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},"2ee6":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isTypedArray;ze.convertTypedArray=function(Ee){return Ue(Ee)?Array.prototype.slice.call(Ee):Ee},ze.isOrdinal=function(Ee){return!!Ee.tickvals},ze.isVisible=function(Ee){return Ee.visible||!("visible"in Ee)}},"2f03":function(Ee,ze){!function WeakMapModule(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=weakMapPermitHostObjects);var ze=!1;if("function"==typeof WeakMap){var Be=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var Ue=new Be,We=Object.freeze({});if(Ue.set(We,1),1===Ue.get(We))return void(Ee.exports=WeakMap);ze=!0}}Object.prototype.hasOwnProperty;var $e=Object.getOwnPropertyNames,Qe=Object.defineProperty,et=Object.isExtensible,tt="weakmap:ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var rt=new ArrayBuffer(25),nt=new Uint8Array(rt);crypto.getRandomValues(nt),tt="weakmap:rand:"+Array.prototype.map.call(nt,(function(Ee){return(Ee%36).toString(36)})).join("")+"___"}if(Qe(Object,"getOwnPropertyNames",{value:function fakeGetOwnPropertyNames(Ee){return $e(Ee).filter(isNotHiddenName)}}),"getPropertyNames"in Object){var at=Object.getPropertyNames;Qe(Object,"getPropertyNames",{value:function fakeGetPropertyNames(Ee){return at(Ee).filter(isNotHiddenName)}})}!function(){var Ee=Object.freeze;Qe(Object,"freeze",{value:function identifyingFreeze(ze){return getHiddenRecord(ze),Ee(ze)}});var ze=Object.seal;Qe(Object,"seal",{value:function identifyingSeal(Ee){return getHiddenRecord(Ee),ze(Ee)}});var Be=Object.preventExtensions;Qe(Object,"preventExtensions",{value:function identifyingPreventExtensions(Ee){return getHiddenRecord(Ee),Be(Ee)}})}();var it=!1,ct=0,OurWeakMap=function(){this instanceof OurWeakMap||calledAsFunctionWarning();var Ee=[],ze=[],Be=ct++;return Object.create(OurWeakMap.prototype,{get___:{value:constFunc((function get___(Ue,We){var $e,Qe=getHiddenRecord(Ue);return Qe?Be in Qe?Qe[Be]:We:($e=Ee.indexOf(Ue))>=0?ze[$e]:We}))},has___:{value:constFunc((function has___(ze){var Ue=getHiddenRecord(ze);return Ue?Be in Ue:Ee.indexOf(ze)>=0}))},set___:{value:constFunc((function set___(Ue,We){var $e,Qe=getHiddenRecord(Ue);return Qe?Qe[Be]=We:($e=Ee.indexOf(Ue))>=0?ze[$e]=We:($e=Ee.length,ze[$e]=We,Ee[$e]=Ue),this}))},delete___:{value:constFunc((function delete___(Ue){var We,$e,Qe=getHiddenRecord(Ue);return Qe?Be in Qe&&delete Qe[Be]:!((We=Ee.indexOf(Ue))<0)&&($e=Ee.length-1,Ee[We]=void 0,ze[We]=ze[$e],Ee[We]=Ee[$e],Ee.length=$e,ze.length=$e,!0)}))}})};OurWeakMap.prototype=Object.create(Object.prototype,{get:{value:function get(Ee,ze){return this.get___(Ee,ze)},writable:!0,configurable:!0},has:{value:function has(Ee){return this.has___(Ee)},writable:!0,configurable:!0},set:{value:function set(Ee,ze){return this.set___(Ee,ze)},writable:!0,configurable:!0},delete:{value:function remove(Ee){return this.delete___(Ee)},writable:!0,configurable:!0}}),"function"==typeof Be?function(){function DoubleWeakMap(){this instanceof OurWeakMap||calledAsFunctionWarning();var Ee,Ue=new Be,We=void 0,$e=!1;return Ee=ze?function(Ee,ze){return Ue.set(Ee,ze),Ue.has(Ee)||(We||(We=new OurWeakMap),We.set(Ee,ze)),this}:function(Ee,ze){if($e)try{Ue.set(Ee,ze)}catch(Be){We||(We=new OurWeakMap),We.set___(Ee,ze)}else Ue.set(Ee,ze);return this},Object.create(OurWeakMap.prototype,{get___:{value:constFunc((function dget(Ee,ze){return We?Ue.has(Ee)?Ue.get(Ee):We.get___(Ee,ze):Ue.get(Ee,ze)}))},has___:{value:constFunc((function dhas(Ee){return Ue.has(Ee)||!!We&&We.has___(Ee)}))},set___:{value:constFunc(Ee)},delete___:{value:constFunc((function ddelete(Ee){var ze=!!Ue.delete(Ee);return We&&We.delete___(Ee)||ze}))},permitHostObjects___:{value:constFunc((function(Ee){if(Ee!==weakMapPermitHostObjects)throw new Error("bogus call to permitHostObjects___");$e=!0}))}})}ze&&"undefined"!=typeof Proxy&&(Proxy=void 0),DoubleWeakMap.prototype=OurWeakMap.prototype,Ee.exports=DoubleWeakMap,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),Ee.exports=OurWeakMap)}function weakMapPermitHostObjects(Ee){Ee.permitHostObjects___&&Ee.permitHostObjects___(weakMapPermitHostObjects)}function isNotHiddenName(Ee){return!("weakmap:"==Ee.substr(0,"weakmap:".length)&&"___"===Ee.substr(Ee.length-3))}function getHiddenRecord(Ee){if(Ee!==Object(Ee))throw new TypeError("Not an object: "+Ee);var ze=Ee[tt];if(ze&&ze.key===Ee)return ze;if(et(Ee)){ze={key:Ee};try{return Qe(Ee,tt,{value:ze,writable:!1,enumerable:!1,configurable:!1}),ze}catch(Ee){return}}}function constFunc(Ee){return Ee.prototype=null,Object.freeze(Ee)}function calledAsFunctionWarning(){it||"undefined"==typeof console||(it=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},"2f68":function(Ee,ze,Be){"use strict";Ee.exports=Be("f1c3")},"2ff0":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("4183"),Qe=Be("02ea");function mapLegacy(Ee,ze,Be){ze in Ee&&!(Be in Ee)&&(Ee[Be]=Ee[ze])}Ee.exports=function supplyDefaults(Ee,ze,Be,et){var tt,rt;function coerce(Be,Ue){return We.coerce(Ee,ze,Qe,Be,Ue)}var nt=coerce("x"),at=coerce("y"),it=coerce("z");if(!it||!it.length||nt&&nt.length<1||at&&at.length<1)ze.visible=!1;else{ze._xlength=Array.isArray(nt)&&We.isArrayOrTypedArray(nt[0])?it.length:it[0].length,ze._ylength=it.length,Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y","z"],et),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach((function(Ee){coerce(Ee)}));var ct=coerce("surfacecolor"),ft=["x","y","z"];for(tt=0;tt<3;++tt){var xt="contours."+ft[tt],kt=coerce(xt+".show"),Lt=coerce(xt+".highlight");if(kt||Lt)for(rt=0;rt<3;++rt)coerce(xt+".project."+ft[rt]);kt&&(coerce(xt+".color"),coerce(xt+".width"),coerce(xt+".usecolormap")),Lt&&(coerce(xt+".highlightcolor"),coerce(xt+".highlightwidth")),coerce(xt+".start"),coerce(xt+".end"),coerce(xt+".size")}ct||(mapLegacy(Ee,"zmin","cmin"),mapLegacy(Ee,"zmax","cmax"),mapLegacy(Ee,"zauto","cauto")),$e(Ee,ze,et,coerce,{prefix:"",cLetter:"c"}),ze._length=null}}},3022:function(Ee,ze,Be){(function(Ee){var Ue=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(Ee){for(var ze=Object.keys(Ee),Be={},Ue=0;Ue<ze.length;Ue++)Be[ze[Ue]]=Object.getOwnPropertyDescriptor(Ee,ze[Ue]);return Be},We=/%[sdj%]/g;ze.format=function(Ee){if(!isString(Ee)){for(var ze=[],Be=0;Be<arguments.length;Be++)ze.push(inspect(arguments[Be]));return ze.join(" ")}Be=1;for(var Ue=arguments,$e=Ue.length,Qe=String(Ee).replace(We,(function(Ee){if("%%"===Ee)return"%";if(Be>=$e)return Ee;switch(Ee){case"%s":return String(Ue[Be++]);case"%d":return Number(Ue[Be++]);case"%j":try{return JSON.stringify(Ue[Be++])}catch(Ee){return"[Circular]"}default:return Ee}})),et=Ue[Be];Be<$e;et=Ue[++Be])isNull(et)||!isObject(et)?Qe+=" "+et:Qe+=" "+inspect(et);return Qe},ze.deprecate=function(Be,Ue){if(void 0!==Ee&&!0===Ee.noDeprecation)return Be;if(void 0===Ee)return function(){return ze.deprecate(Be,Ue).apply(this,arguments)};var We=!1;return function deprecated(){if(!We){if(Ee.throwDeprecation)throw new Error(Ue);Ee.traceDeprecation?console.trace(Ue):console.error(Ue),We=!0}return Be.apply(this,arguments)}};var $e,Qe={};function inspect(Ee,Be){var Ue={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(Ue.depth=arguments[2]),arguments.length>=4&&(Ue.colors=arguments[3]),isBoolean(Be)?Ue.showHidden=Be:Be&&ze._extend(Ue,Be),isUndefined(Ue.showHidden)&&(Ue.showHidden=!1),isUndefined(Ue.depth)&&(Ue.depth=2),isUndefined(Ue.colors)&&(Ue.colors=!1),isUndefined(Ue.customInspect)&&(Ue.customInspect=!0),Ue.colors&&(Ue.stylize=stylizeWithColor),formatValue(Ue,Ee,Ue.depth)}function stylizeWithColor(Ee,ze){var Be=inspect.styles[ze];return Be?"["+inspect.colors[Be][0]+"m"+Ee+"["+inspect.colors[Be][1]+"m":Ee}function stylizeNoColor(Ee,ze){return Ee}function formatValue(Ee,Be,Ue){if(Ee.customInspect&&Be&&isFunction(Be.inspect)&&Be.inspect!==ze.inspect&&(!Be.constructor||Be.constructor.prototype!==Be)){var We=Be.inspect(Ue,Ee);return isString(We)||(We=formatValue(Ee,We,Ue)),We}var $e=function formatPrimitive(Ee,ze){if(isUndefined(ze))return Ee.stylize("undefined","undefined");if(isString(ze)){var Be="'"+JSON.stringify(ze).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ee.stylize(Be,"string")}if(isNumber(ze))return Ee.stylize(""+ze,"number");if(isBoolean(ze))return Ee.stylize(""+ze,"boolean");if(isNull(ze))return Ee.stylize("null","null")}(Ee,Be);if($e)return $e;var Qe=Object.keys(Be),et=function arrayToHash(Ee){var ze={};return Ee.forEach((function(Ee,Be){ze[Ee]=!0})),ze}(Qe);if(Ee.showHidden&&(Qe=Object.getOwnPropertyNames(Be)),isError(Be)&&(Qe.indexOf("message")>=0||Qe.indexOf("description")>=0))return formatError(Be);if(0===Qe.length){if(isFunction(Be)){var tt=Be.name?": "+Be.name:"";return Ee.stylize("[Function"+tt+"]","special")}if(isRegExp(Be))return Ee.stylize(RegExp.prototype.toString.call(Be),"regexp");if(isDate(Be))return Ee.stylize(Date.prototype.toString.call(Be),"date");if(isError(Be))return formatError(Be)}var rt,nt="",at=!1,it=["{","}"];(isArray(Be)&&(at=!0,it=["[","]"]),isFunction(Be))&&(nt=" [Function"+(Be.name?": "+Be.name:"")+"]");return isRegExp(Be)&&(nt=" "+RegExp.prototype.toString.call(Be)),isDate(Be)&&(nt=" "+Date.prototype.toUTCString.call(Be)),isError(Be)&&(nt=" "+formatError(Be)),0!==Qe.length||at&&0!=Be.length?Ue<0?isRegExp(Be)?Ee.stylize(RegExp.prototype.toString.call(Be),"regexp"):Ee.stylize("[Object]","special"):(Ee.seen.push(Be),rt=at?function formatArray(Ee,ze,Be,Ue,We){for(var $e=[],Qe=0,et=ze.length;Qe<et;++Qe)hasOwnProperty(ze,String(Qe))?$e.push(formatProperty(Ee,ze,Be,Ue,String(Qe),!0)):$e.push("");return We.forEach((function(We){We.match(/^\d+$/)||$e.push(formatProperty(Ee,ze,Be,Ue,We,!0))})),$e}(Ee,Be,Ue,et,Qe):Qe.map((function(ze){return formatProperty(Ee,Be,Ue,et,ze,at)})),Ee.seen.pop(),function reduceToSingleString(Ee,ze,Be){if(Ee.reduce((function(Ee,ze){return ze.indexOf("\n")>=0&&0,Ee+ze.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return Be[0]+(""===ze?"":ze+"\n ")+" "+Ee.join(",\n  ")+" "+Be[1];return Be[0]+ze+" "+Ee.join(", ")+" "+Be[1]}(rt,nt,it)):it[0]+nt+it[1]}function formatError(Ee){return"["+Error.prototype.toString.call(Ee)+"]"}function formatProperty(Ee,ze,Be,Ue,We,$e){var Qe,et,tt;if((tt=Object.getOwnPropertyDescriptor(ze,We)||{value:ze[We]}).get?et=tt.set?Ee.stylize("[Getter/Setter]","special"):Ee.stylize("[Getter]","special"):tt.set&&(et=Ee.stylize("[Setter]","special")),hasOwnProperty(Ue,We)||(Qe="["+We+"]"),et||(Ee.seen.indexOf(tt.value)<0?(et=isNull(Be)?formatValue(Ee,tt.value,null):formatValue(Ee,tt.value,Be-1)).indexOf("\n")>-1&&(et=$e?et.split("\n").map((function(Ee){return"  "+Ee})).join("\n").substr(2):"\n"+et.split("\n").map((function(Ee){return"   "+Ee})).join("\n")):et=Ee.stylize("[Circular]","special")),isUndefined(Qe)){if($e&&We.match(/^\d+$/))return et;(Qe=JSON.stringify(""+We)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Qe=Qe.substr(1,Qe.length-2),Qe=Ee.stylize(Qe,"name")):(Qe=Qe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Qe=Ee.stylize(Qe,"string"))}return Qe+": "+et}function isArray(Ee){return Array.isArray(Ee)}function isBoolean(Ee){return"boolean"==typeof Ee}function isNull(Ee){return null===Ee}function isNumber(Ee){return"number"==typeof Ee}function isString(Ee){return"string"==typeof Ee}function isUndefined(Ee){return void 0===Ee}function isRegExp(Ee){return isObject(Ee)&&"[object RegExp]"===objectToString(Ee)}function isObject(Ee){return"object"==typeof Ee&&null!==Ee}function isDate(Ee){return isObject(Ee)&&"[object Date]"===objectToString(Ee)}function isError(Ee){return isObject(Ee)&&("[object Error]"===objectToString(Ee)||Ee instanceof Error)}function isFunction(Ee){return"function"==typeof Ee}function objectToString(Ee){return Object.prototype.toString.call(Ee)}function pad(Ee){return Ee<10?"0"+Ee.toString(10):Ee.toString(10)}ze.debuglog=function(Be){if(isUndefined($e)&&($e=Object({NODE_ENV:"production",BASE_URL:""}).NODE_DEBUG||""),Be=Be.toUpperCase(),!Qe[Be])if(new RegExp("\\b"+Be+"\\b","i").test($e)){var Ue=Ee.pid;Qe[Be]=function(){var Ee=ze.format.apply(ze,arguments);console.error("%s %d: %s",Be,Ue,Ee)}}else Qe[Be]=function(){};return Qe[Be]},ze.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ze.isArray=isArray,ze.isBoolean=isBoolean,ze.isNull=isNull,ze.isNullOrUndefined=function isNullOrUndefined(Ee){return null==Ee},ze.isNumber=isNumber,ze.isString=isString,ze.isSymbol=function isSymbol(Ee){return"symbol"==typeof Ee},ze.isUndefined=isUndefined,ze.isRegExp=isRegExp,ze.isObject=isObject,ze.isDate=isDate,ze.isError=isError,ze.isFunction=isFunction,ze.isPrimitive=function isPrimitive(Ee){return null===Ee||"boolean"==typeof Ee||"number"==typeof Ee||"string"==typeof Ee||"symbol"==typeof Ee||void 0===Ee},ze.isBuffer=Be("d60a");var et=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var Ee=new Date,ze=[pad(Ee.getHours()),pad(Ee.getMinutes()),pad(Ee.getSeconds())].join(":");return[Ee.getDate(),et[Ee.getMonth()],ze].join(" ")}function hasOwnProperty(Ee,ze){return Object.prototype.hasOwnProperty.call(Ee,ze)}ze.log=function(){console.log("%s - %s",timestamp(),ze.format.apply(ze,arguments))},ze.inherits=Be("28a0"),ze._extend=function(Ee,ze){if(!ze||!isObject(ze))return Ee;for(var Be=Object.keys(ze),Ue=Be.length;Ue--;)Ee[Be[Ue]]=ze[Be[Ue]];return Ee};var tt="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(Ee,ze){if(!Ee){var Be=new Error("Promise was rejected with a falsy value");Be.reason=Ee,Ee=Be}return ze(Ee)}ze.promisify=function promisify(Ee){if("function"!=typeof Ee)throw new TypeError('The "original" argument must be of type Function');if(tt&&Ee[tt]){var ze;if("function"!=typeof(ze=Ee[tt]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ze,tt,{value:ze,enumerable:!1,writable:!1,configurable:!0}),ze}function ze(){for(var ze,Be,Ue=new Promise((function(Ee,Ue){ze=Ee,Be=Ue})),We=[],$e=0;$e<arguments.length;$e++)We.push(arguments[$e]);We.push((function(Ee,Ue){Ee?Be(Ee):ze(Ue)}));try{Ee.apply(this,We)}catch(Ee){Be(Ee)}return Ue}return Object.setPrototypeOf(ze,Object.getPrototypeOf(Ee)),tt&&Object.defineProperty(ze,tt,{value:ze,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ze,Ue(Ee))},ze.promisify.custom=tt,ze.callbackify=function callbackify(ze){if("function"!=typeof ze)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var Be=[],Ue=0;Ue<arguments.length;Ue++)Be.push(arguments[Ue]);var We=Be.pop();if("function"!=typeof We)throw new TypeError("The last argument must be of type Function");var $e=this,cb=function(){return We.apply($e,arguments)};ze.apply(this,Be).then((function(ze){Ee.nextTick(cb,null,ze)}),(function(ze){Ee.nextTick(callbackifyOnRejected,ze,cb)}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(ze)),Object.defineProperties(callbackified,Ue(ze)),callbackified}}).call(this,Be("4362"))},3029:function(Ee,ze,Be){"use strict";Ee.exports=function solveIntersection(Ee,ze,Be,Ue){var $e=et(ze,Ee),nt=et(Ue,Be),at=ratPerp($e,nt);if(0===Qe(at))return null;var it=et(Ee,Be),ct=ratPerp(nt,it),ft=We(ct,at),xt=rt($e,ft);return tt(Ee,xt)};var Ue=Be("3bd6"),We=Be("18a2"),$e=Be("9c7c"),Qe=Be("3dac"),et=Be("66ac"),tt=Be("e56e"),rt=Be("093d");function ratPerp(Ee,ze){return $e(Ue(Ee[0],ze[1]),Ue(Ee[1],ze[0]))}},3044:function(Ee,ze,Be){"use strict";var Ue=Be("0435"),We=Be("43ef"),$e=Be("f4e9"),Qe=Be("9092").extendFlat,et=We.contours;Ee.exports=Qe({carpet:{valType:"string",editType:"calc"},z:Ue.z,a:Ue.x,a0:Ue.x0,da:Ue.dx,b:Ue.y,b0:Ue.y0,db:Ue.dy,text:Ue.text,hovertext:Ue.hovertext,transpose:Ue.transpose,atype:Ue.xtype,btype:Ue.ytype,fillcolor:We.fillcolor,autocontour:We.autocontour,ncontours:We.ncontours,contours:{type:et.type,start:et.start,end:et.end,size:et.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:et.showlines,showlabels:et.showlabels,labelfont:et.labelfont,labelformat:et.labelformat,operation:et.operation,value:et.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:We.line.color,width:We.line.width,dash:We.line.dash,smoothing:We.line.smoothing,editType:"plot"},transforms:void 0},$e("",{cLetter:"z",autoColorDflt:!1}))},3068:function(Ee,ze){var Be=/[\'\"]/;Ee.exports=function unquote(Ee){return Ee?(Be.test(Ee.charAt(0))&&(Ee=Ee.substr(1)),Be.test(Ee.charAt(Ee.length-1))&&(Ee=Ee.substr(0,Ee.length-1)),Ee):""}},"306c":function(Ee,ze,Be){"use strict";Ee.exports=function identity(Ee){return Ee}},3122:function(Ee,ze,Be){"use strict";Ee.exports=function compareAngle(Ee,ze,Be,$e){var Qe=Ue(ze,Be,$e);if(0===Qe){var et=We(Ue(Ee,ze,Be)),tt=We(Ue(Ee,ze,$e));if(et===tt){if(0===et){var rt=testInterior(Ee,ze,Be),nt=testInterior(Ee,ze,$e);return rt===nt?0:rt?1:-1}return 0}return 0===tt?et>0||testInterior(Ee,ze,$e)?-1:1:0===et?tt>0||testInterior(Ee,ze,Be)?1:-1:We(tt-et)}var at=Ue(Ee,ze,Be);return at>0?Qe>0&&Ue(Ee,ze,$e)>0?1:-1:at<0?Qe>0||Ue(Ee,ze,$e)>0?1:-1:Ue(Ee,ze,$e)>0||testInterior(Ee,ze,Be)?1:-1};var Ue=Be("92ba"),We=Be("79d9"),$e=Be("d1bd"),Qe=Be("91e1"),et=Be("a026");function testInterior(Ee,ze,Be){var Ue=$e(Ee[0],-ze[0]),We=$e(Ee[1],-ze[1]),tt=$e(Be[0],-ze[0]),rt=$e(Be[1],-ze[1]),nt=et(Qe(Ue,tt),Qe(We,rt));return nt[nt.length-1]>=0}},3146:function(Ee,ze,Be){"use strict";Ee.exports=function createBackgroundCube(Ee){for(var ze=[],Be=[],Qe=0,et=0;et<3;++et)for(var tt=(et+1)%3,rt=(et+2)%3,nt=[0,0,0],at=[0,0,0],it=-1;it<=1;it+=2){Be.push(Qe,Qe+2,Qe+1,Qe+1,Qe+2,Qe+3),nt[et]=it,at[et]=it;for(var ct=-1;ct<=1;ct+=2){nt[tt]=ct;for(var ft=-1;ft<=1;ft+=2)nt[rt]=ft,ze.push(nt[0],nt[1],nt[2],at[0],at[1],at[2]),Qe+=1}var xt=tt;tt=rt,rt=xt}var kt=Ue(Ee,new Float32Array(ze)),Lt=Ue(Ee,new Uint16Array(Be),Ee.ELEMENT_ARRAY_BUFFER),Ut=We(Ee,[{buffer:kt,type:Ee.FLOAT,size:3,offset:0,stride:24},{buffer:kt,type:Ee.FLOAT,size:3,offset:12,stride:24}],Lt),er=$e(Ee);return er.attributes.position.location=0,er.attributes.normal.location=1,new BackgroundCube(Ee,kt,Ut,er)};var Ue=Be("efce"),We=Be("b205"),$e=Be("c185").bg;function BackgroundCube(Ee,ze,Be,Ue){this.gl=Ee,this.buffer=ze,this.vao=Be,this.shader=Ue}var Qe=BackgroundCube.prototype;Qe.draw=function(Ee,ze,Be,Ue,We,$e){for(var Qe=!1,et=0;et<3;++et)Qe=Qe||We[et];if(Qe){var tt=this.gl;tt.enable(tt.POLYGON_OFFSET_FILL),tt.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:Ee,view:ze,projection:Be,bounds:Ue,enable:We,colors:$e},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),tt.disable(tt.POLYGON_OFFSET_FILL)}},Qe.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},"320c":function(Ee,ze,Be){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ue=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;function toObject(Ee){if(null==Ee)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Ee)}Ee.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var Ee=new String("abc");if(Ee[5]="de","5"===Object.getOwnPropertyNames(Ee)[0])return!1;for(var ze={},Be=0;Be<10;Be++)ze["_"+String.fromCharCode(Be)]=Be;if("0123456789"!==Object.getOwnPropertyNames(ze).map((function(Ee){return ze[Ee]})).join(""))return!1;var Ue={};return"abcdefghijklmnopqrst".split("").forEach((function(Ee){Ue[Ee]=Ee})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Ue)).join("")}catch(Ee){return!1}}()?Object.assign:function(Ee,ze){for(var Be,Qe,et=toObject(Ee),tt=1;tt<arguments.length;tt++){for(var rt in Be=Object(arguments[tt]))We.call(Be,rt)&&(et[rt]=Be[rt]);if(Ue){Qe=Ue(Be);for(var nt=0;nt<Qe.length;nt++)$e.call(Be,Qe[nt])&&(et[Qe[nt]]=Be[Qe[nt]])}}return et}},3273:function(Ee,ze,Be){"use strict";var Ue=Be("236d");Ee.exports={moduleType:"component",name:"shapes",layoutAttributes:Be("a5cc"),supplyLayoutDefaults:Be("567e"),includeBasePlot:Be("37d1")("shapes"),calcAutorange:Be("cef0"),draw:Ue.draw,drawOne:Ue.drawOne}},3350:function(Ee,ze,Be){"use strict";var Ue=Be("6e58");Ee.exports={circle:{n:0,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+",0A"+ze+","+ze+" 0 1,1 0,-"+ze+"A"+ze+","+ze+" 0 0,1 "+ze+",0Z"}},square:{n:1,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"H-"+ze+"V-"+ze+"H"+ze+"Z"}},diamond:{n:2,f:function(Ee){var ze=Ue.round(1.3*Ee,2);return"M"+ze+",0L0,"+ze+"L-"+ze+",0L0,-"+ze+"Z"}},cross:{n:3,f:function(Ee){var ze=Ue.round(.4*Ee,2),Be=Ue.round(1.2*Ee,2);return"M"+Be+","+ze+"H"+ze+"V"+Be+"H-"+ze+"V"+ze+"H-"+Be+"V-"+ze+"H-"+ze+"V-"+Be+"H"+ze+"V-"+ze+"H"+Be+"Z"}},x:{n:4,f:function(Ee){var ze=Ue.round(.8*Ee/Math.sqrt(2),2),Be="l"+ze+","+ze,We="l"+ze+",-"+ze,$e="l-"+ze+",-"+ze,Qe="l-"+ze+","+ze;return"M0,"+ze+Be+We+$e+We+$e+Qe+$e+Qe+Be+Qe+Be+"Z"}},"triangle-up":{n:5,f:function(Ee){var ze=Ue.round(2*Ee/Math.sqrt(3),2);return"M-"+ze+","+Ue.round(Ee/2,2)+"H"+ze+"L0,-"+Ue.round(Ee,2)+"Z"}},"triangle-down":{n:6,f:function(Ee){var ze=Ue.round(2*Ee/Math.sqrt(3),2);return"M-"+ze+",-"+Ue.round(Ee/2,2)+"H"+ze+"L0,"+Ue.round(Ee,2)+"Z"}},"triangle-left":{n:7,f:function(Ee){var ze=Ue.round(2*Ee/Math.sqrt(3),2);return"M"+Ue.round(Ee/2,2)+",-"+ze+"V"+ze+"L-"+Ue.round(Ee,2)+",0Z"}},"triangle-right":{n:8,f:function(Ee){var ze=Ue.round(2*Ee/Math.sqrt(3),2);return"M-"+Ue.round(Ee/2,2)+",-"+ze+"V"+ze+"L"+Ue.round(Ee,2)+",0Z"}},"triangle-ne":{n:9,f:function(Ee){var ze=Ue.round(.6*Ee,2),Be=Ue.round(1.2*Ee,2);return"M-"+Be+",-"+ze+"H"+ze+"V"+Be+"Z"}},"triangle-se":{n:10,f:function(Ee){var ze=Ue.round(.6*Ee,2),Be=Ue.round(1.2*Ee,2);return"M"+ze+",-"+Be+"V"+ze+"H-"+Be+"Z"}},"triangle-sw":{n:11,f:function(Ee){var ze=Ue.round(.6*Ee,2),Be=Ue.round(1.2*Ee,2);return"M"+Be+","+ze+"H-"+ze+"V-"+Be+"Z"}},"triangle-nw":{n:12,f:function(Ee){var ze=Ue.round(.6*Ee,2),Be=Ue.round(1.2*Ee,2);return"M-"+ze+","+Be+"V-"+ze+"H"+Be+"Z"}},pentagon:{n:13,f:function(Ee){var ze=Ue.round(.951*Ee,2),Be=Ue.round(.588*Ee,2),We=Ue.round(-Ee,2),$e=Ue.round(-.309*Ee,2);return"M"+ze+","+$e+"L"+Be+","+Ue.round(.809*Ee,2)+"H-"+Be+"L-"+ze+","+$e+"L0,"+We+"Z"}},hexagon:{n:14,f:function(Ee){var ze=Ue.round(Ee,2),Be=Ue.round(Ee/2,2),We=Ue.round(Ee*Math.sqrt(3)/2,2);return"M"+We+",-"+Be+"V"+Be+"L0,"+ze+"L-"+We+","+Be+"V-"+Be+"L0,-"+ze+"Z"}},hexagon2:{n:15,f:function(Ee){var ze=Ue.round(Ee,2),Be=Ue.round(Ee/2,2),We=Ue.round(Ee*Math.sqrt(3)/2,2);return"M-"+Be+","+We+"H"+Be+"L"+ze+",0L"+Be+",-"+We+"H-"+Be+"L-"+ze+",0Z"}},octagon:{n:16,f:function(Ee){var ze=Ue.round(.924*Ee,2),Be=Ue.round(.383*Ee,2);return"M-"+Be+",-"+ze+"H"+Be+"L"+ze+",-"+Be+"V"+Be+"L"+Be+","+ze+"H-"+Be+"L-"+ze+","+Be+"V-"+Be+"Z"}},star:{n:17,f:function(Ee){var ze=1.4*Ee,Be=Ue.round(.225*ze,2),We=Ue.round(.951*ze,2),$e=Ue.round(.363*ze,2),Qe=Ue.round(.588*ze,2),et=Ue.round(-ze,2),tt=Ue.round(-.309*ze,2),rt=Ue.round(.118*ze,2),nt=Ue.round(.809*ze,2);return"M"+Be+","+tt+"H"+We+"L"+$e+","+rt+"L"+Qe+","+nt+"L0,"+Ue.round(.382*ze,2)+"L-"+Qe+","+nt+"L-"+$e+","+rt+"L-"+We+","+tt+"H-"+Be+"L0,"+et+"Z"}},hexagram:{n:18,f:function(Ee){var ze=Ue.round(.66*Ee,2),Be=Ue.round(.38*Ee,2),We=Ue.round(.76*Ee,2);return"M-"+We+",0l-"+Be+",-"+ze+"h"+We+"l"+Be+",-"+ze+"l"+Be+","+ze+"h"+We+"l-"+Be+","+ze+"l"+Be+","+ze+"h-"+We+"l-"+Be+","+ze+"l-"+Be+",-"+ze+"h-"+We+"Z"}},"star-triangle-up":{n:19,f:function(Ee){var ze=Ue.round(Ee*Math.sqrt(3)*.8,2),Be=Ue.round(.8*Ee,2),We=Ue.round(1.6*Ee,2),$e=Ue.round(4*Ee,2),Qe="A "+$e+","+$e+" 0 0 1 ";return"M-"+ze+","+Be+Qe+ze+","+Be+Qe+"0,-"+We+Qe+"-"+ze+","+Be+"Z"}},"star-triangle-down":{n:20,f:function(Ee){var ze=Ue.round(Ee*Math.sqrt(3)*.8,2),Be=Ue.round(.8*Ee,2),We=Ue.round(1.6*Ee,2),$e=Ue.round(4*Ee,2),Qe="A "+$e+","+$e+" 0 0 1 ";return"M"+ze+",-"+Be+Qe+"-"+ze+",-"+Be+Qe+"0,"+We+Qe+ze+",-"+Be+"Z"}},"star-square":{n:21,f:function(Ee){var ze=Ue.round(1.1*Ee,2),Be=Ue.round(2*Ee,2),We="A "+Be+","+Be+" 0 0 1 ";return"M-"+ze+",-"+ze+We+"-"+ze+","+ze+We+ze+","+ze+We+ze+",-"+ze+We+"-"+ze+",-"+ze+"Z"}},"star-diamond":{n:22,f:function(Ee){var ze=Ue.round(1.4*Ee,2),Be=Ue.round(1.9*Ee,2),We="A "+Be+","+Be+" 0 0 1 ";return"M-"+ze+",0"+We+"0,"+ze+We+ze+",0"+We+"0,-"+ze+We+"-"+ze+",0Z"}},"diamond-tall":{n:23,f:function(Ee){var ze=Ue.round(.7*Ee,2),Be=Ue.round(1.4*Ee,2);return"M0,"+Be+"L"+ze+",0L0,-"+Be+"L-"+ze+",0Z"}},"diamond-wide":{n:24,f:function(Ee){var ze=Ue.round(1.4*Ee,2),Be=Ue.round(.7*Ee,2);return"M0,"+Be+"L"+ze+",0L0,-"+Be+"L-"+ze+",0Z"}},hourglass:{n:25,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"H-"+ze+"L"+ze+",-"+ze+"H-"+ze+"Z"},noDot:!0},bowtie:{n:26,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"V-"+ze+"L-"+ze+","+ze+"V-"+ze+"Z"},noDot:!0},"circle-cross":{n:27,f:function(Ee){var ze=Ue.round(Ee,2);return"M0,"+ze+"V-"+ze+"M"+ze+",0H-"+ze+"M"+ze+",0A"+ze+","+ze+" 0 1,1 0,-"+ze+"A"+ze+","+ze+" 0 0,1 "+ze+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(Ee){var ze=Ue.round(Ee,2),Be=Ue.round(Ee/Math.sqrt(2),2);return"M"+Be+","+Be+"L-"+Be+",-"+Be+"M"+Be+",-"+Be+"L-"+Be+","+Be+"M"+ze+",0A"+ze+","+ze+" 0 1,1 0,-"+ze+"A"+ze+","+ze+" 0 0,1 "+ze+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(Ee){var ze=Ue.round(Ee,2);return"M0,"+ze+"V-"+ze+"M"+ze+",0H-"+ze+"M"+ze+","+ze+"H-"+ze+"V-"+ze+"H"+ze+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"L-"+ze+",-"+ze+"M"+ze+",-"+ze+"L-"+ze+","+ze+"M"+ze+","+ze+"H-"+ze+"V-"+ze+"H"+ze+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(Ee){var ze=Ue.round(1.3*Ee,2);return"M"+ze+",0L0,"+ze+"L-"+ze+",0L0,-"+ze+"ZM0,-"+ze+"V"+ze+"M-"+ze+",0H"+ze},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(Ee){var ze=Ue.round(1.3*Ee,2),Be=Ue.round(.65*Ee,2);return"M"+ze+",0L0,"+ze+"L-"+ze+",0L0,-"+ze+"ZM-"+Be+",-"+Be+"L"+Be+","+Be+"M-"+Be+","+Be+"L"+Be+",-"+Be},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(Ee){var ze=Ue.round(1.4*Ee,2);return"M0,"+ze+"V-"+ze+"M"+ze+",0H-"+ze},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"L-"+ze+",-"+ze+"M"+ze+",-"+ze+"L-"+ze+","+ze},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(Ee){var ze=Ue.round(1.2*Ee,2),Be=Ue.round(.85*Ee,2);return"M0,"+ze+"V-"+ze+"M"+ze+",0H-"+ze+"M"+Be+","+Be+"L-"+Be+",-"+Be+"M"+Be+",-"+Be+"L-"+Be+","+Be},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(Ee){var ze=Ue.round(Ee/2,2),Be=Ue.round(Ee,2);return"M"+ze+","+Be+"V-"+Be+"m-"+Be+",0V"+Be+"M"+Be+","+ze+"H-"+Be+"m0,-"+Be+"H"+Be},needLine:!0,noFill:!0},"y-up":{n:37,f:function(Ee){var ze=Ue.round(1.2*Ee,2),Be=Ue.round(1.6*Ee,2),We=Ue.round(.8*Ee,2);return"M-"+ze+","+We+"L0,0M"+ze+","+We+"L0,0M0,-"+Be+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(Ee){var ze=Ue.round(1.2*Ee,2),Be=Ue.round(1.6*Ee,2),We=Ue.round(.8*Ee,2);return"M-"+ze+",-"+We+"L0,0M"+ze+",-"+We+"L0,0M0,"+Be+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(Ee){var ze=Ue.round(1.2*Ee,2),Be=Ue.round(1.6*Ee,2),We=Ue.round(.8*Ee,2);return"M"+We+","+ze+"L0,0M"+We+",-"+ze+"L0,0M-"+Be+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(Ee){var ze=Ue.round(1.2*Ee,2),Be=Ue.round(1.6*Ee,2),We=Ue.round(.8*Ee,2);return"M-"+We+","+ze+"L0,0M-"+We+",-"+ze+"L0,0M"+Be+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(Ee){var ze=Ue.round(1.4*Ee,2);return"M"+ze+",0H-"+ze},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(Ee){var ze=Ue.round(1.4*Ee,2);return"M0,"+ze+"V-"+ze},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+",-"+ze+"L-"+ze+","+ze},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(Ee){var ze=Ue.round(Ee,2);return"M"+ze+","+ze+"L-"+ze+",-"+ze},needLine:!0,noDot:!0,noFill:!0}}},"33ae":function(Ee,ze,Be){"use strict";var Ue=Be("f977"),We=["xaxis","yaxis","zaxis"];function SpikeOptions(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}SpikeOptions.prototype.merge=function(Ee){for(var ze=0;ze<3;++ze){var Be=Ee[We[ze]];Be.visible?(this.enabled[ze]=Be.showspikes,this.colors[ze]=Ue(Be.spikecolor),this.drawSides[ze]=Be.spikesides,this.lineWidth[ze]=Be.spikethickness):(this.enabled[ze]=!1,this.drawSides[ze]=!1)}},Ee.exports=function createSpikeOptions(Ee){var ze=new SpikeOptions;return ze.merge(Ee),ze}},"342f":function(Ee,ze,Be){var Ue=Be("d066");Ee.exports=Ue("navigator","userAgent")||""},3473:function(Ee,ze,Be){"use strict";var Ue=Be("91e3");Ee.exports=function(Ee){if(!Ue(Ee))throw new TypeError(Ee+" is not iterable");return Ee}},"348d":function(Ee,ze,Be){"use strict";var Ue=Be("1590"),We=Be("43ef"),$e=Be("f4e9"),Qe=Be("9092").extendFlat;Ee.exports=Qe({x:Ue.x,y:Ue.y,z:Ue.z,marker:Ue.marker,histnorm:Ue.histnorm,histfunc:Ue.histfunc,nbinsx:Ue.nbinsx,xbins:Ue.xbins,nbinsy:Ue.nbinsy,ybins:Ue.ybins,autobinx:Ue.autobinx,autobiny:Ue.autobiny,bingroup:Ue.bingroup,xbingroup:Ue.xbingroup,ybingroup:Ue.ybingroup,autocontour:We.autocontour,ncontours:We.ncontours,contours:We.contours,line:{color:We.line.color,width:Qe({},We.line.width,{dflt:.5}),dash:We.line.dash,smoothing:We.line.smoothing,editType:"plot"},zhoverformat:Ue.zhoverformat,hovertemplate:Ue.hovertemplate},$e("",{cLetter:"z",editTypeOverride:"calc"}))},"34cc":function(Ee,ze){var Be={toPolygon:function(Ee,ze){function GeoPoly(ze){if(ze.length<=0)return Ee.segments({inverted:!1,regions:[]});function LineString(ze){var Be=ze.slice(0,ze.length-1);return Ee.segments({inverted:!1,regions:[Be]})}for(var Be=LineString(ze[0]),Ue=1;Ue<ze.length;Ue++)Be=Ee.selectDifference(Ee.combine(Be,LineString(ze[Ue])));return Be}if("Polygon"===ze.type)return Ee.polygon(GeoPoly(ze.coordinates));if("MultiPolygon"===ze.type){for(var Be=Ee.segments({inverted:!1,regions:[]}),Ue=0;Ue<ze.coordinates.length;Ue++)Be=Ee.selectUnion(Ee.combine(Be,GeoPoly(ze.coordinates[Ue])));return Ee.polygon(Be)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(Ee,ze,Be){function regionInsideRegion(Ee,Be){return ze.pointInsideRegion([.5*(Ee[0][0]+Ee[1][0]),.5*(Ee[0][1]+Ee[1][1])],Be)}function newNode(Ee){return{region:Ee,children:[]}}Be=Ee.polygon(Ee.segments(Be));var Ue=newNode(null);function addChild(Ee,ze){for(var Be=0;Be<Ee.children.length;Be++){if(regionInsideRegion(ze,(We=Ee.children[Be]).region))return void addChild(We,ze)}var Ue=newNode(ze);for(Be=0;Be<Ee.children.length;Be++){var We;regionInsideRegion((We=Ee.children[Be]).region,ze)&&(Ue.children.push(We),Ee.children.splice(Be,1),Be--)}Ee.children.push(Ue)}for(var We=0;We<Be.regions.length;We++){var $e=Be.regions[We];$e.length<3||addChild(Ue,$e)}function forceWinding(Ee,ze){for(var Be=0,Ue=Ee[Ee.length-1][0],We=Ee[Ee.length-1][1],$e=[],Qe=0;Qe<Ee.length;Qe++){var et=Ee[Qe][0],tt=Ee[Qe][1];$e.push([et,tt]),Be+=tt*Ue-et*We,Ue=et,We=tt}return Be<0!==ze&&$e.reverse(),$e.push([$e[0][0],$e[0][1]]),$e}var Qe=[];function addExterior(Ee){var ze=[forceWinding(Ee.region,!1)];Qe.push(ze);for(var Be=0;Be<Ee.children.length;Be++)ze.push(getInterior(Ee.children[Be]))}function getInterior(Ee){for(var ze=0;ze<Ee.children.length;ze++)addExterior(Ee.children[ze]);return forceWinding(Ee.region,!0)}for(We=0;We<Ue.children.length;We++)addExterior(Ue.children[We]);return Qe.length<=0?{type:"Polygon",coordinates:[]}:1==Qe.length?{type:"Polygon",coordinates:Qe[0]}:{type:"MultiPolygon",coordinates:Qe}}};Ee.exports=Be},"34d8":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("c791"),et=Be("93a6").clearMinTextSize;function getXY(Ee,ze,Be,Ue){var We=[],$e=[],Qe=Ue?ze:Be,et=Ue?Be:ze;return We[0]=Qe.c2p(Ee.s0,!0),$e[0]=et.c2p(Ee.p0,!0),We[1]=Qe.c2p(Ee.s1,!0),$e[1]=et.c2p(Ee.p1,!0),We[2]=Qe.c2p(Ee.nextS0,!0),$e[2]=et.c2p(Ee.nextP0,!0),We[3]=Qe.c2p(Ee.nextS1,!0),$e[3]=et.c2p(Ee.nextP1,!0),Ue?[We,$e]:[$e,We]}Ee.exports=function plot(Ee,ze,Be,tt){var rt=Ee._fullLayout;et("funnel",rt),function plotConnectorRegions(Ee,ze,Be,Qe){var et=ze.xaxis,tt=ze.yaxis;We.makeTraceGroups(Qe,Be,"trace bars").each((function(Be){var Qe=Ue.select(this),rt=Be[0].trace,nt=We.ensureSingle(Qe,"g","regions");if(rt.connector&&rt.connector.visible){var at="h"===rt.orientation,it=nt.selectAll("g.region").data(We.identity);it.enter().append("g").classed("region",!0),it.exit().remove();var ct=it.size();it.each((function(Be,Qe){if(Qe===ct-1||Be.cNext){var rt=getXY(Be,et,tt,at),nt=rt[0],it=rt[1],ft="";void 0!==nt[3]&&void 0!==it[3]&&(ft+=at?"M"+nt[0]+","+it[1]+"L"+nt[2]+","+it[2]+"H"+nt[3]+"L"+nt[1]+","+it[1]+"Z":"M"+nt[1]+","+it[1]+"L"+nt[2]+","+it[3]+"V"+it[2]+"L"+nt[1]+","+it[0]+"Z"),We.ensureSingle(Ue.select(this),"path").attr("d",ft).call($e.setClipUrl,ze.layerClipId,Ee)}}))}else nt.remove()}))}(Ee,ze,Be,tt),function plotConnectorLines(Ee,ze,Be,Qe){var et=ze.xaxis,tt=ze.yaxis;We.makeTraceGroups(Qe,Be,"trace bars").each((function(Be){var Qe=Ue.select(this),rt=Be[0].trace,nt=We.ensureSingle(Qe,"g","lines");if(rt.connector&&rt.connector.visible&&rt.connector.line.width){var at="h"===rt.orientation,it=nt.selectAll("g.line").data(We.identity);it.enter().append("g").classed("line",!0),it.exit().remove();var ct=it.size();it.each((function(Be,Qe){if(Qe===ct-1||Be.cNext){var rt=getXY(Be,et,tt,at),nt=rt[0],it=rt[1],ft="";void 0!==nt[3]&&void 0!==it[3]&&(at?(ft+="M"+nt[0]+","+it[1]+"L"+nt[2]+","+it[2],ft+="M"+nt[1]+","+it[1]+"L"+nt[3]+","+it[2]):(ft+="M"+nt[1]+","+it[1]+"L"+nt[2]+","+it[3],ft+="M"+nt[1]+","+it[0]+"L"+nt[2]+","+it[2])),""===ft&&(ft="M0,0Z"),We.ensureSingle(Ue.select(this),"path").attr("d",ft).call($e.setClipUrl,ze.layerClipId,Ee)}}))}else nt.remove()}))}(Ee,ze,Be,tt),Qe.plot(Ee,ze,Be,tt,{mode:rt.funnelmode,norm:rt.funnelmode,gap:rt.funnelgap,groupgap:rt.funnelgroupgap})}},"34f9":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("a651").arrayEditor;function getToggleSets(Ee,ze){var Be,Ue,We,$e,Qe,et,tt,rt=Ee._fullLayout.annotations,nt=[],at=[],it=[],ct=(ze||[]).length;for(Be=0;Be<rt.length;Be++)if($e=(We=rt[Be]).clicktoshow){for(Ue=0;Ue<ct;Ue++)if(et=(Qe=ze[Ue]).xaxis,tt=Qe.yaxis,et._id===We.xref&&tt._id===We.yref&&et.d2r(Qe.x)===clickData2r(We._xclick,et)&&tt.d2r(Qe.y)===clickData2r(We._yclick,tt)){(We.visible?"onout"===$e?at:it:nt).push(Be);break}Ue===ct&&We.visible&&"onout"===$e&&at.push(Be)}return{on:nt,off:at,explicitOff:it}}function clickData2r(Ee,ze){return"log"===ze.type?ze.l2r(Ee):ze.d2r(Ee)}Ee.exports={hasClickToShow:function hasClickToShow(Ee,ze){var Be=getToggleSets(Ee,ze);return Be.on.length>0||Be.explicitOff.length>0},onClick:function onClick(Ee,ze){var Be,Qe,et=getToggleSets(Ee,ze),tt=et.on,rt=et.off.concat(et.explicitOff),nt={},at=Ee._fullLayout.annotations;if(!tt.length&&!rt.length)return;for(Be=0;Be<tt.length;Be++)(Qe=$e(Ee.layout,"annotations",at[tt[Be]])).modifyItem("visible",!0),Ue.extendFlat(nt,Qe.getUpdateObj());for(Be=0;Be<rt.length;Be++)(Qe=$e(Ee.layout,"annotations",at[rt[Be]])).modifyItem("visible",!1),Ue.extendFlat(nt,Qe.getUpdateObj());return We.call("update",Ee,{},nt)}}},3511:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("11ab"),$e=Be("bc6b");Ee.exports=function emptyPathinfo(Ee,ze,Be){for(var Qe="constraint"===Ee.type?We[Ee._operation](Ee.value):Ee,et=Qe.size,tt=[],rt=$e(Qe),nt=Be.trace._carpetTrace,at=nt?{xaxis:nt.aaxis,yaxis:nt.baxis,x:Be.a,y:Be.b}:{xaxis:ze.xaxis,yaxis:ze.yaxis,x:Be.x,y:Be.y},it=Qe.start;it<rt;it+=et)if(tt.push(Ue.extendFlat({level:it,crossings:{},starts:[],edgepaths:[],paths:[],z:Be.z,smoothing:Be.trace.line.smoothing},at)),tt.length>1e3){Ue.warn("Too many contours, clipping at 1000",Ee);break}return tt}},"351b":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("f6b0");Ee.exports=function convertCoords(Ee,ze,Be,$e){ze=ze||{};var Qe="log"===Be&&"linear"===ze.type,et="linear"===Be&&"log"===ze.type;if(Qe||et)for(var tt,rt,nt=Ee._fullLayout.annotations,at=ze._id.charAt(0),it=0;it<nt.length;it++)tt=nt[it],rt="annotations["+it+"].",tt[at+"ref"]===ze._id&&convert(at),tt["a"+at+"ref"]===ze._id&&convert("a"+at);function convert(Ee){var Be=tt[Ee],et=null;et=Qe?We(Be,ze.range):Math.pow(10,Be),Ue(et)||(et=null),$e(rt+Ee,et)}}},3560:function(Ee,ze,Be){"use strict";Ee.exports=function boxIntersectIter(Ee,ze,Be,$e,nt,er,tr,rr,ar){!function iterInit(Ee,ze){var Be=8*We.log2(ze+1)*(Ee+1)|0,$e=We.nextPow2(6*Be);Lt.length<$e&&(Ue.free(Lt),Lt=Ue.mallocInt32($e));var Qe=We.nextPow2(2*Be);Ut.length<Qe&&(Ue.free(Ut),Ut=Ue.mallocDouble(Qe))}(Ee,$e+tr);var Lr,Qr=0,on=2*Ee;iterPush(Qr++,0,0,$e,0,tr,Be?16:0,-1/0,1/0),Be||iterPush(Qr++,0,0,tr,0,$e,1,-1/0,1/0);for(;Qr>0;){var sn=6*(Qr-=1),ln=Lt[sn],cn=Lt[sn+1],un=Lt[sn+2],hn=Lt[sn+3],dn=Lt[sn+4],vn=Lt[sn+5],yn=2*Qr,_n=Ut[yn],Mn=Ut[yn+1],Cn=1&vn,En=!!(16&vn),Pn=nt,In=er,Bn=rr,Hn=ar;if(Cn&&(Pn=rr,In=ar,Bn=nt,Hn=er),!(2&vn&&(un=ct(Ee,ln,cn,un,Pn,In,Mn),cn>=un)||4&vn&&(cn=ft(Ee,ln,cn,un,Pn,In,_n))>=un)){var Kn=un-cn,Jn=dn-hn;if(En){if(Ee*Kn*(Kn+Jn)<1<<22){if(void 0!==(Lr=tt.scanComplete(Ee,ln,ze,cn,un,Pn,In,hn,dn,Bn,Hn)))return Lr;continue}}else{if(Ee*Math.min(Kn,Jn)<128){if(void 0!==(Lr=Qe(Ee,ln,ze,Cn,cn,un,Pn,In,hn,dn,Bn,Hn)))return Lr;continue}if(Ee*Kn*Jn<1<<22){if(void 0!==(Lr=tt.scanBipartite(Ee,ln,ze,Cn,cn,un,Pn,In,hn,dn,Bn,Hn)))return Lr;continue}}var Ma=at(Ee,ln,cn,un,Pn,In,_n,Mn);if(cn<Ma)if(Ee*(Ma-cn)<128){if(void 0!==(Lr=et(Ee,ln+1,ze,cn,Ma,Pn,In,hn,dn,Bn,Hn)))return Lr}else if(ln===Ee-2){if(void 0!==(Lr=Cn?tt.sweepBipartite(Ee,ze,hn,dn,Bn,Hn,cn,Ma,Pn,In):tt.sweepBipartite(Ee,ze,cn,Ma,Pn,In,hn,dn,Bn,Hn)))return Lr}else iterPush(Qr++,ln+1,cn,Ma,hn,dn,Cn,-1/0,1/0),iterPush(Qr++,ln+1,hn,dn,cn,Ma,1^Cn,-1/0,1/0);if(Ma<un){var Sa=rt(Ee,ln,hn,dn,Bn,Hn),La=Bn[on*Sa+ln],Ia=it(Ee,ln,Sa,dn,Bn,Hn,La);if(Ia<dn&&iterPush(Qr++,ln,Ma,un,Ia,dn,(4|Cn)+(En?16:0),La,Mn),hn<Sa&&iterPush(Qr++,ln,Ma,un,hn,Sa,(2|Cn)+(En?16:0),_n,La),Sa+1===Ia){if(void 0!==(Lr=En?onePointFull(Ee,ln,ze,Ma,un,Pn,In,Sa,Bn,Hn[Sa]):onePointPartial(Ee,ln,ze,Cn,Ma,un,Pn,In,Sa,Bn,Hn[Sa])))return Lr}else if(Sa<Ia){var Ra;if(En){if(Ra=xt(Ee,ln,Ma,un,Pn,In,La),Ma<Ra){var Na=it(Ee,ln,Ma,Ra,Pn,In,La);if(ln===Ee-2){if(Ma<Na&&void 0!==(Lr=tt.sweepComplete(Ee,ze,Ma,Na,Pn,In,Sa,Ia,Bn,Hn)))return Lr;if(Na<Ra&&void 0!==(Lr=tt.sweepBipartite(Ee,ze,Na,Ra,Pn,In,Sa,Ia,Bn,Hn)))return Lr}else Ma<Na&&iterPush(Qr++,ln+1,Ma,Na,Sa,Ia,16,-1/0,1/0),Na<Ra&&(iterPush(Qr++,ln+1,Na,Ra,Sa,Ia,0,-1/0,1/0),iterPush(Qr++,ln+1,Sa,Ia,Na,Ra,1,-1/0,1/0))}}else Ra=Cn?kt(Ee,ln,Ma,un,Pn,In,La):xt(Ee,ln,Ma,un,Pn,In,La),Ma<Ra&&(ln===Ee-2?Lr=Cn?tt.sweepBipartite(Ee,ze,Sa,Ia,Bn,Hn,Ma,Ra,Pn,In):tt.sweepBipartite(Ee,ze,Ma,Ra,Pn,In,Sa,Ia,Bn,Hn):(iterPush(Qr++,ln+1,Ma,Ra,Sa,Ia,Cn,-1/0,1/0),iterPush(Qr++,ln+1,Sa,Ia,Ma,Ra,1^Cn,-1/0,1/0)))}}}}};var Ue=Be("cea5"),We=Be("a48a"),$e=Be("b83d"),Qe=$e.partial,et=$e.full,tt=Be("97e2"),rt=Be("158b"),nt=Be("8e58"),at=nt("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),it=nt("lo===p0",["p0"]),ct=nt("lo<p0",["p0"]),ft=nt("hi<=p0",["p0"]),xt=nt("lo<=p0&&p0<=hi",["p0"]),kt=nt("lo<p0&&p0<=hi",["p0"]),Lt=Ue.mallocInt32(1024),Ut=Ue.mallocDouble(1024);function iterPush(Ee,ze,Be,Ue,We,$e,Qe,et,tt){var rt=6*Ee;Lt[rt]=ze,Lt[rt+1]=Be,Lt[rt+2]=Ue,Lt[rt+3]=We,Lt[rt+4]=$e,Lt[rt+5]=Qe;var nt=2*Ee;Ut[nt]=et,Ut[nt+1]=tt}function onePointPartial(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at=2*Ee,it=tt*at,ct=rt[it+ze];e:for(var ft=We,xt=We*at;ft<$e;++ft,xt+=at){var kt=Qe[xt+ze],Lt=Qe[xt+ze+Ee];if(!(ct<kt||Lt<ct)&&(!Ue||ct!==kt)){for(var Ut,er=et[ft],tr=ze+1;tr<Ee;++tr){kt=Qe[xt+tr],Lt=Qe[xt+tr+Ee];var rr=rt[it+tr],ar=rt[it+tr+Ee];if(Lt<rr||ar<kt)continue e}if(void 0!==(Ut=Ue?Be(nt,er):Be(er,nt)))return Ut}}}function onePointFull(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt){var nt=2*Ee,at=et*nt,it=tt[at+ze];e:for(var ct=Ue,ft=Ue*nt;ct<We;++ct,ft+=nt){var xt=Qe[ct];if(xt!==rt){var kt=$e[ft+ze],Lt=$e[ft+ze+Ee];if(!(it<kt||Lt<it)){for(var Ut=ze+1;Ut<Ee;++Ut){kt=$e[ft+Ut],Lt=$e[ft+Ut+Ee];var er=tt[at+Ut],tr=tt[at+Ut+Ee];if(Lt<er||tr<kt)continue e}var rr=Be(xt,rt);if(void 0!==rr)return rr}}}}},"35b1":function(Ee,ze,Be){"use strict";var Ue=Be("c2ef");function generateSolver(Ee){for(var ze="robustLinearSolve"+Ee+"d",Be=["function ",ze,"(A,b){return ["],We=0;We<Ee;++We){Be.push("det([");for(var $e=0;$e<Ee;++$e){$e>0&&Be.push(","),Be.push("[");for(var Qe=0;Qe<Ee;++Qe)Qe>0&&Be.push(","),Qe===We?Be.push("+b[",$e,"]"):Be.push("+A[",$e,"][",Qe,"]");Be.push("]")}Be.push("]),")}Be.push("det(A)]}return ",ze);var et=new Function("det",Be.join(""));return et(Ee<6?Ue[Ee]:Ue)}var We=[function robustLinearSolve0d(){return[0]},function robustLinearSolve1d(Ee,ze){return[[ze[0]],[Ee[0][0]]]}];!function generateDispatch(){for(;We.length<6;)We.push(generateSolver(We.length));for(var ze=[],Be=["function dispatchLinearSolve(A,b){switch(A.length){"],Ue=0;Ue<6;++Ue)ze.push("s"+Ue),Be.push("case ",Ue,":return s",Ue,"(A,b);");Be.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),ze.push("CACHE","g",Be.join(""));var $e=Function.apply(void 0,ze);for(Ee.exports=$e.apply(void 0,We.concat([We,generateSolver])),Ue=0;Ue<6;++Ue)Ee.exports[Ue]=We[Ue]}()},"35e5":function(Ee,ze,Be){"use strict";var Ue=Be("53a5");function toNumber(Ee,ze){null==ze&&(ze=!0);var Be=Ee[0],We=Ee[1],$e=Ee[2],Qe=Ee[3];return null==Qe&&(Qe=ze?1:255),ze&&(Be*=255,We*=255,$e*=255,Qe*=255),16777216*(Be=255&Ue(Be,0,255))+((We=255&Ue(We,0,255))<<16)+(($e=255&Ue($e,0,255))<<8)+(Qe=255&Ue(Qe,0,255))}Ee.exports=toNumber,Ee.exports.to=toNumber,Ee.exports.from=function fromNumber(Ee,ze){var Be=(Ee=+Ee)>>>24,Ue=(16711680&Ee)>>>16,We=(65280&Ee)>>>8,$e=255&Ee;return!1===ze?[Be,Ue,We,$e]:[Be/255,Ue/255,We/255,$e/255]}},3642:function(Ee,ze,Be){"use strict";var Ue=Object.prototype.toString;Ee.exports=function(Ee){var ze;return"[object Object]"===Ue.call(Ee)&&(null===(ze=Object.getPrototypeOf(Ee))||ze===Object.getPrototypeOf({}))}},"36ea":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("c791"),et=Be("93a6").clearMinTextSize;Ee.exports=function plot(Ee,ze,Be,tt){var rt=Ee._fullLayout;et("waterfall",rt),Qe.plot(Ee,ze,Be,tt,{mode:rt.waterfallmode,norm:rt.waterfallmode,gap:rt.waterfallgap,groupgap:rt.waterfallgroupgap}),function plotConnectors(Ee,ze,Be,Qe){var et=ze.xaxis,tt=ze.yaxis;We.makeTraceGroups(Qe,Be,"trace bars").each((function(Be){var Qe=Ue.select(this),rt=Be[0].trace,nt=We.ensureSingle(Qe,"g","lines");if(rt.connector&&rt.connector.visible){var at="h"===rt.orientation,it=rt.connector.mode,ct=nt.selectAll("g.line").data(We.identity);ct.enter().append("g").classed("line",!0),ct.exit().remove();var ft=ct.size();ct.each((function(Be,Qe){if(Qe===ft-1||Be.cNext){var rt=function getXY(Ee,ze,Be,Ue){var We=[],$e=[],Qe=Ue?ze:Be,et=Ue?Be:ze;return We[0]=Qe.c2p(Ee.s0,!0),$e[0]=et.c2p(Ee.p0,!0),We[1]=Qe.c2p(Ee.s1,!0),$e[1]=et.c2p(Ee.p1,!0),We[2]=Qe.c2p(Ee.nextS0,!0),$e[2]=et.c2p(Ee.nextP0,!0),Ue?[We,$e]:[$e,We]}(Be,et,tt,at),nt=rt[0],ct=rt[1],xt="";"spanning"===it&&!Be.isSum&&Qe>0&&(xt+=at?"M"+nt[0]+","+ct[1]+"V"+ct[0]:"M"+nt[1]+","+ct[0]+"H"+nt[0]),"between"!==it&&(Be.isSum||Qe<ft-1)&&(xt+=at?"M"+nt[1]+","+ct[0]+"V"+ct[1]:"M"+nt[0]+","+ct[1]+"H"+nt[1]),void 0!==nt[2]&&void 0!==ct[2]&&(xt+=at?"M"+nt[1]+","+ct[1]+"V"+ct[2]:"M"+nt[1]+","+ct[1]+"H"+nt[2]),""===xt&&(xt="M0,0Z"),We.ensureSingle(Ue.select(this),"path").attr("d",xt).call($e.setClipUrl,ze.layerClipId,Ee)}}))}else nt.remove()}))}(Ee,ze,Be,tt)}},"36fc":function(Ee,ze,Be){"use strict";var Ue=Be("60dc"),We=Be("fc26").extendFlat;Ee.exports={violinmode:We({},Ue.boxmode,{}),violingap:We({},Ue.boxgap,{}),violingroupgap:We({},Ue.boxgroupgap,{})}},"371e":function(Ee,ze,Be){"use strict";var Ue=Be("ae13"),We=Be("b778"),$e=Be("5a1b"),Qe=Be("1385"),et=Be("1b88").addStyleRule,tt=Be("9092"),rt=Be("a876"),nt=Be("a685"),at=tt.extendFlat,it=tt.extendDeepAll;function registerTraceModule(Ee){var Be=Ee.name,We=Ee.categories,$e=Ee.meta;if(ze.modules[Be])Ue.log("Type "+Be+" already registered");else{ze.subplotsRegistry[Ee.basePlotModule.name]||function registerSubplot(Ee){var Be=Ee.name;if(ze.subplotsRegistry[Be])return void Ue.log("Plot type "+Be+" already registered.");for(var We in findArrayRegexps(Ee),ze.subplotsRegistry[Be]=Ee,ze.componentsRegistry)mergeComponentAttrsToSubplot(We,Ee.name)}(Ee.basePlotModule);for(var Qe={},tt=0;tt<We.length;tt++)Qe[We[tt]]=!0,ze.allCategories[We[tt]]=!0;for(var rt in ze.modules[Be]={_module:Ee,categories:Qe},$e&&Object.keys($e).length&&(ze.modules[Be].meta=$e),ze.allTypes.push(Be),ze.componentsRegistry)mergeComponentAttrsToTrace(rt,Be);Ee.layoutAttributes&&at(ze.traceLayoutAttributes,Ee.layoutAttributes);var nt=Ee.basePlotModule,it=nt.name;if("mapbox"===it){var ct=nt.constants.styleRules;for(var ft in ct)et(".js-plotly-plot .plotly .mapboxgl-"+ft,ct[ft])}"geo"!==it&&"mapbox"!==it||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function registerComponentModule(Ee){if("string"!=typeof Ee.name)throw new Error("Component module *name* must be a string.");var Be=Ee.name;for(var Ue in ze.componentsRegistry[Be]=Ee,Ee.layoutAttributes&&(Ee.layoutAttributes._isLinkedToArray&&$e(ze.layoutArrayContainers,Be),findArrayRegexps(Ee)),ze.modules)mergeComponentAttrsToTrace(Be,Ue);for(var We in ze.subplotsRegistry)mergeComponentAttrsToSubplot(Be,We);for(var Qe in ze.transformsRegistry)mergeComponentAttrsToTransform(Be,Qe);Ee.schema&&Ee.schema.layout&&it(nt,Ee.schema.layout)}function registerTransformModule(Ee){if("string"!=typeof Ee.name)throw new Error("Transform module *name* must be a string.");var Be="Transform module "+Ee.name,We="function"==typeof Ee.transform,$e="function"==typeof Ee.calcTransform;if(!We&&!$e)throw new Error(Be+" is missing a *transform* or *calcTransform* method.");for(var et in We&&$e&&Ue.log([Be+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),Qe(Ee.attributes)||Ue.log(Be+" registered without an *attributes* object."),"function"!=typeof Ee.supplyDefaults&&Ue.log(Be+" registered without a *supplyDefaults* method."),ze.transformsRegistry[Ee.name]=Ee,ze.componentsRegistry)mergeComponentAttrsToTransform(et,Ee.name)}function registerLocale(Ee){var Be=Ee.name,Ue=Be.split("-")[0],We=Ee.dictionary,$e=Ee.format,Qe=We&&Object.keys(We).length,et=$e&&Object.keys($e).length,tt=ze.localeRegistry,rt=tt[Be];if(rt||(tt[Be]=rt={}),Ue!==Be){var nt=tt[Ue];nt||(tt[Ue]=nt={}),Qe&&nt.dictionary===rt.dictionary&&(nt.dictionary=We),et&&nt.format===rt.format&&(nt.format=$e)}Qe&&(rt.dictionary=We),et&&(rt.format=$e)}function findArrayRegexps(Ee){if(Ee.layoutAttributes){var Be=Ee.layoutAttributes._arrayAttrRegexps;if(Be)for(var Ue=0;Ue<Be.length;Ue++)$e(ze.layoutArrayRegexes,Be[Ue])}}function mergeComponentAttrsToTrace(Ee,Be){var Ue=ze.componentsRegistry[Ee].schema;if(Ue&&Ue.traces){var We=Ue.traces[Be];We&&it(ze.modules[Be]._module.attributes,We)}}function mergeComponentAttrsToTransform(Ee,Be){var Ue=ze.componentsRegistry[Ee].schema;if(Ue&&Ue.transforms){var We=Ue.transforms[Be];We&&it(ze.transformsRegistry[Be].attributes,We)}}function mergeComponentAttrsToSubplot(Ee,Be){var Ue=ze.componentsRegistry[Ee].schema;if(Ue&&Ue.subplots){var We=ze.subplotsRegistry[Be],$e=We.layoutAttributes,Qe="subplot"===We.attr?We.name:We.attr;Array.isArray(Qe)&&(Qe=Qe[0]);var et=Ue.subplots[Qe];$e&&et&&it($e,et)}}function getTraceType(Ee){return"object"==typeof Ee&&(Ee=Ee.type),Ee}ze.modules={},ze.allCategories={},ze.allTypes=[],ze.subplotsRegistry={},ze.transformsRegistry={},ze.componentsRegistry={},ze.layoutArrayContainers=[],ze.layoutArrayRegexes=[],ze.traceLayoutAttributes={},ze.localeRegistry={},ze.apiMethodRegistry={},ze.collectableSubplotTypes=null,ze.register=function register(Ee){if(ze.collectableSubplotTypes=null,!Ee)throw new Error("No argument passed to Plotly.register.");Ee&&!Array.isArray(Ee)&&(Ee=[Ee]);for(var Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];if(!Ue)throw new Error("Invalid module was attempted to be registered!");switch(Ue.moduleType){case"trace":registerTraceModule(Ue);break;case"transform":registerTransformModule(Ue);break;case"component":registerComponentModule(Ue);break;case"locale":registerLocale(Ue);break;case"apiMethod":var We=Ue.name;ze.apiMethodRegistry[We]=Ue.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},ze.getModule=function(Ee){var Be=ze.modules[getTraceType(Ee)];return!!Be&&Be._module},ze.traceIs=function(Ee,Be){if("various"===(Ee=getTraceType(Ee)))return!1;var We=ze.modules[Ee];return We||(Ee&&"area"!==Ee&&Ue.log("Unrecognized trace type "+Ee+"."),We=ze.modules[rt.type.dflt]),!!We.categories[Be]},ze.getTransformIndices=function(Ee,ze){for(var Be=[],Ue=Ee.transforms||[],We=0;We<Ue.length;We++)Ue[We].type===ze&&Be.push(We);return Be},ze.hasTransform=function(Ee,ze){for(var Be=Ee.transforms||[],Ue=0;Ue<Be.length;Ue++)if(Be[Ue].type===ze)return!0;return!1},ze.getComponentMethod=function(Ee,Be){var Ue=ze.componentsRegistry[Ee];return Ue&&Ue[Be]||We},ze.call=function(){var Ee=arguments[0],Be=[].slice.call(arguments,1);return ze.apiMethodRegistry[Ee].apply(null,Be)}},"372f":function(Ee,ze,Be){"use strict";Ee.exports=Be("1735")},"375c":function(Ee,ze,Be){"use strict";Ee.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},"37bf":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArray1D;Ee.exports=function handleXYDefaults(Ee,ze,Be){var We=Be("x"),$e=We&&We.length,Qe=Be("y"),et=Qe&&Qe.length;if(!$e&&!et)return!1;if(ze._cheater=!We,$e&&!Ue(We)||et&&!Ue(Qe))ze._length=null;else{var tt=$e?We.length:1/0;et&&(tt=Math.min(tt,Qe.length)),ze.a&&ze.a.length&&(tt=Math.min(tt,ze.a.length)),ze.b&&ze.b.length&&(tt=Math.min(tt,ze.b.length)),ze._length=tt}return!0}},"37cd":function(Ee,ze,Be){var Ue=Be("7831");Ee.exports=function flattenVertexData(Ee,ze,Be){if(!Ee)throw new TypeError("must specify data as first parameter");if(Be=0|+(Be||0),Array.isArray(Ee)&&Ee[0]&&"number"==typeof Ee[0][0]){var We,$e,Qe,et,tt=Ee[0].length,rt=Ee.length*tt;ze&&"string"!=typeof ze||(ze=new(Ue(ze||"float32"))(rt+Be));var nt=ze.length-Be;if(rt!==nt)throw new Error("source length "+rt+" ("+tt+"x"+Ee.length+") does not match destination length "+nt);for(We=0,Qe=Be;We<Ee.length;We++)for($e=0;$e<tt;$e++)ze[Qe++]=null===Ee[We][$e]?NaN:Ee[We][$e]}else if(ze&&"string"!=typeof ze)ze.set(Ee,Be);else{var at=Ue(ze||"float32");if(Array.isArray(Ee)||"array"===ze)for(ze=new at(Ee.length+Be),We=0,Qe=Be,et=ze.length;Qe<et;Qe++,We++)ze[Qe]=null===Ee[We]?NaN:Ee[We];else 0===Be?ze=new at(Ee):(ze=new at(Ee.length+Be)).set(Ee,Be)}return ze}},"37d1":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26");Ee.exports=function makeIncludeComponents(Ee){return function includeComponents(ze,Be){var $e=ze[Ee];if(Array.isArray($e))for(var Qe=Ue.subplotsRegistry.cartesian,et=Qe.idRegex,tt=Be._subplots,rt=tt.xaxis,nt=tt.yaxis,at=tt.cartesian,it=Be._has("cartesian")||Be._has("gl2d"),ct=0;ct<$e.length;ct++){var ft=$e[ct];if(We.isPlainObject(ft)){var xt=ft.xref,kt=ft.yref,Lt=et.x.test(xt),Ut=et.y.test(kt);if(Lt||Ut){it||We.pushUnique(Be._basePlotModules,Qe);var er=!1;Lt&&-1===rt.indexOf(xt)&&(rt.push(xt),er=!0),Ut&&-1===nt.indexOf(kt)&&(nt.push(kt),er=!0),er&&Lt&&Ut&&at.push(xt+kt)}}}}}},"37e3":function(Ee,ze,Be){"use strict";Ee.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},"37e8":function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("9bf2"),$e=Be("825a"),Qe=Be("df75");Ee.exports=Ue?Object.defineProperties:function defineProperties(Ee,ze){$e(Ee);for(var Be,Ue=Qe(ze),et=Ue.length,tt=0;et>tt;)We.f(Ee,Be=Ue[tt++],ze[Be]);return Ee}},3802:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("fc26").isArrayOrTypedArray;Ee.exports=function fillColorDefaults(Ee,ze,Be,$e){var Qe=!1;if(ze.marker){var et=ze.marker.color,tt=(ze.marker.line||{}).color;et&&!We(et)?Qe=et:tt&&!We(tt)&&(Qe=tt)}$e("fillcolor",Ue.addOpacity((ze.line||{}).color||Qe||Be,.5))}},"388d":function(Ee,ze,Be){"use strict";Ee.exports=Be("feb0")},"38eb":function(Ee,ze,Be){var Ue=Be("e98f"),We=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),$e=Ue(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),Qe=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),et=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),tt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),rt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),nt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),at=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),it=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),ct=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),ft=Ue(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);ze.meshShader={vertex:We,fragment:$e,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},ze.wireShader={vertex:Qe,fragment:et,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},ze.pointShader={vertex:tt,fragment:rt,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},ze.pickShader={vertex:nt,fragment:at,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},ze.pointPickShader={vertex:it,fragment:at,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},ze.contourShader={vertex:ct,fragment:ft,attributes:[{name:"position",type:"vec3"}]}},"391b":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a5c4"),$e=Be("371e"),Qe=Be("feed"),et=Be("d115"),tt=Ue.fillText;Ee.exports=function hoverPoints(Ee,ze,Be,rt){var nt=Ee.cd,at=nt[0].trace,it=Ee.xa,ct=Ee.ya,ft=it.c2p(ze),xt=ct.c2p(Be),kt=[ft,xt],Lt=at.hoveron||"",Ut=-1!==at.mode.indexOf("markers")?3:.5;if(-1!==Lt.indexOf("points")){var dxy=function(Ee){var ze=Math.max(Ut,Ee.mrc||0),Be=it.c2p(Ee.x)-ft,Ue=ct.c2p(Ee.y)-xt;return Math.max(Math.sqrt(Be*Be+Ue*Ue)-ze,1-Ut/ze)},er=We.getDistanceFunction(rt,(function(Ee){var ze=Math.max(3,Ee.mrc||0),Be=1-1/ze,Ue=Math.abs(it.c2p(Ee.x)-ft);return Ue<ze?Be*Ue/ze:Ue-ze+Be}),(function(Ee){var ze=Math.max(3,Ee.mrc||0),Be=1-1/ze,Ue=Math.abs(ct.c2p(Ee.y)-xt);return Ue<ze?Be*Ue/ze:Ue-ze+Be}),dxy);if(We.getClosest(nt,er,Ee),!1!==Ee.index){var tr=nt[Ee.index],rr=it.c2p(tr.x,!0),ar=ct.c2p(tr.y,!0),Lr=tr.mrc||1;Ee.index=tr.i;var Qr=nt[0].t.orientation,on=Qr&&(tr.sNorm||tr.s),sn="h"===Qr?on:tr.x,ln="v"===Qr?on:tr.y;return Ue.extendFlat(Ee,{color:Qe(at,tr),x0:rr-Lr,x1:rr+Lr,xLabelVal:sn,y0:ar-Lr,y1:ar+Lr,yLabelVal:ln,spikeDistance:dxy(tr),hovertemplate:at.hovertemplate}),tt(tr,at,Ee),$e.getComponentMethod("errorbars","hoverInfo")(tr,at,Ee),[Ee]}}if(-1!==Lt.indexOf("fills")&&at._polygons){var cn,un,hn,dn,vn,yn,_n,Mn,Cn,En=at._polygons,Pn=[],In=!1,Bn=1/0,Hn=-1/0,Kn=1/0,Jn=-1/0;for(cn=0;cn<En.length;cn++)(hn=En[cn]).contains(kt)&&(In=!In,Pn.push(hn),Kn=Math.min(Kn,hn.ymin),Jn=Math.max(Jn,hn.ymax));if(In){var Ma=((Kn=Math.max(Kn,0))+(Jn=Math.min(Jn,ct._length)))/2;for(cn=0;cn<Pn.length;cn++)for(dn=Pn[cn].pts,un=1;un<dn.length;un++)(Mn=dn[un-1][1])>Ma!=(Cn=dn[un][1])>=Ma&&(yn=dn[un-1][0],_n=dn[un][0],Cn-Mn&&(vn=yn+(_n-yn)*(Ma-Mn)/(Cn-Mn),Bn=Math.min(Bn,vn),Hn=Math.max(Hn,vn)));Bn=Math.max(Bn,0),Hn=Math.min(Hn,it._length);var Sa=et.defaultLine;return et.opacity(at.fillcolor)?Sa=at.fillcolor:et.opacity((at.line||{}).color)&&(Sa=at.line.color),Ue.extendFlat(Ee,{distance:Ee.maxHoverDistance,x0:Bn,x1:Hn,y0:Ma,y1:Ma,color:Sa,hovertemplate:!1}),delete Ee.index,at.text&&!Array.isArray(at.text)?Ee.text=String(at.text):Ee.text=at.name,[Ee]}}}},3936:function(Ee,ze,Be){"use strict";var Ue=Be("86b8");Ee.exports={calc:function calc(Ee,ze){return Ue.calc(Ee,ze)},crossTraceCalc:function crossTraceCalc(Ee){Ue.crossTraceCalc(Ee,{type:"funnelarea"})}}},"399f":function(Ee,ze,Be){(function(Ee){!function(Ee,ze){"use strict";function assert(Ee,ze){if(!Ee)throw new Error(ze||"Assertion failed")}function inherits(Ee,ze){Ee.super_=ze;var TempCtor=function(){};TempCtor.prototype=ze.prototype,Ee.prototype=new TempCtor,Ee.prototype.constructor=Ee}function BN(Ee,ze,Be){if(BN.isBN(Ee))return Ee;this.negative=0,this.words=null,this.length=0,this.red=null,null!==Ee&&("le"!==ze&&"be"!==ze||(Be=ze,ze=10),this._init(Ee||0,ze||10,Be||"be"))}var Ue;"object"==typeof Ee?Ee.exports=BN:ze.BN=BN,BN.BN=BN,BN.wordSize=26;try{Ue=Be(1).Buffer}catch(Ee){}function parseHex(Ee,ze,Be){for(var Ue=0,We=Math.min(Ee.length,Be),$e=ze;$e<We;$e++){var Qe=Ee.charCodeAt($e)-48;Ue<<=4,Ue|=Qe>=49&&Qe<=54?Qe-49+10:Qe>=17&&Qe<=22?Qe-17+10:15&Qe}return Ue}function parseBase(Ee,ze,Be,Ue){for(var We=0,$e=Math.min(Ee.length,Be),Qe=ze;Qe<$e;Qe++){var et=Ee.charCodeAt(Qe)-48;We*=Ue,We+=et>=49?et-49+10:et>=17?et-17+10:et}return We}BN.isBN=function isBN(Ee){return Ee instanceof BN||null!==Ee&&"object"==typeof Ee&&Ee.constructor.wordSize===BN.wordSize&&Array.isArray(Ee.words)},BN.max=function max(Ee,ze){return Ee.cmp(ze)>0?Ee:ze},BN.min=function min(Ee,ze){return Ee.cmp(ze)<0?Ee:ze},BN.prototype._init=function init(Ee,ze,Be){if("number"==typeof Ee)return this._initNumber(Ee,ze,Be);if("object"==typeof Ee)return this._initArray(Ee,ze,Be);"hex"===ze&&(ze=16),assert(ze===(0|ze)&&ze>=2&&ze<=36);var Ue=0;"-"===(Ee=Ee.toString().replace(/\s+/g,""))[0]&&Ue++,16===ze?this._parseHex(Ee,Ue):this._parseBase(Ee,ze,Ue),"-"===Ee[0]&&(this.negative=1),this.strip(),"le"===Be&&this._initArray(this.toArray(),ze,Be)},BN.prototype._initNumber=function _initNumber(Ee,ze,Be){Ee<0&&(this.negative=1,Ee=-Ee),Ee<67108864?(this.words=[67108863&Ee],this.length=1):Ee<4503599627370496?(this.words=[67108863&Ee,Ee/67108864&67108863],this.length=2):(assert(Ee<9007199254740992),this.words=[67108863&Ee,Ee/67108864&67108863,1],this.length=3),"le"===Be&&this._initArray(this.toArray(),ze,Be)},BN.prototype._initArray=function _initArray(Ee,ze,Be){if(assert("number"==typeof Ee.length),Ee.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ee.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var We,$e,Qe=0;if("be"===Be)for(Ue=Ee.length-1,We=0;Ue>=0;Ue-=3)$e=Ee[Ue]|Ee[Ue-1]<<8|Ee[Ue-2]<<16,this.words[We]|=$e<<Qe&67108863,this.words[We+1]=$e>>>26-Qe&67108863,(Qe+=24)>=26&&(Qe-=26,We++);else if("le"===Be)for(Ue=0,We=0;Ue<Ee.length;Ue+=3)$e=Ee[Ue]|Ee[Ue+1]<<8|Ee[Ue+2]<<16,this.words[We]|=$e<<Qe&67108863,this.words[We+1]=$e>>>26-Qe&67108863,(Qe+=24)>=26&&(Qe-=26,We++);return this.strip()},BN.prototype._parseHex=function _parseHex(Ee,ze){this.length=Math.ceil((Ee.length-ze)/6),this.words=new Array(this.length);for(var Be=0;Be<this.length;Be++)this.words[Be]=0;var Ue,We,$e=0;for(Be=Ee.length-6,Ue=0;Be>=ze;Be-=6)We=parseHex(Ee,Be,Be+6),this.words[Ue]|=We<<$e&67108863,this.words[Ue+1]|=We>>>26-$e&4194303,($e+=24)>=26&&($e-=26,Ue++);Be+6!==ze&&(We=parseHex(Ee,ze,Be+6),this.words[Ue]|=We<<$e&67108863,this.words[Ue+1]|=We>>>26-$e&4194303),this.strip()},BN.prototype._parseBase=function _parseBase(Ee,ze,Be){this.words=[0],this.length=1;for(var Ue=0,We=1;We<=67108863;We*=ze)Ue++;Ue--,We=We/ze|0;for(var $e=Ee.length-Be,Qe=$e%Ue,et=Math.min($e,$e-Qe)+Be,tt=0,rt=Be;rt<et;rt+=Ue)tt=parseBase(Ee,rt,rt+Ue,ze),this.imuln(We),this.words[0]+tt<67108864?this.words[0]+=tt:this._iaddn(tt);if(0!==Qe){var nt=1;for(tt=parseBase(Ee,rt,Ee.length,ze),rt=0;rt<Qe;rt++)nt*=ze;this.imuln(nt),this.words[0]+tt<67108864?this.words[0]+=tt:this._iaddn(tt)}},BN.prototype.copy=function copy(Ee){Ee.words=new Array(this.length);for(var ze=0;ze<this.length;ze++)Ee.words[ze]=this.words[ze];Ee.length=this.length,Ee.negative=this.negative,Ee.red=this.red},BN.prototype.clone=function clone(){var Ee=new BN(null);return this.copy(Ee),Ee},BN.prototype._expand=function _expand(Ee){for(;this.length<Ee;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$e=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Qe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(Ee,ze,Be){Be.negative=ze.negative^Ee.negative;var Ue=Ee.length+ze.length|0;Be.length=Ue,Ue=Ue-1|0;var We=0|Ee.words[0],$e=0|ze.words[0],Qe=We*$e,et=67108863&Qe,tt=Qe/67108864|0;Be.words[0]=et;for(var rt=1;rt<Ue;rt++){for(var nt=tt>>>26,at=67108863&tt,it=Math.min(rt,ze.length-1),ct=Math.max(0,rt-Ee.length+1);ct<=it;ct++){var ft=rt-ct|0;nt+=(Qe=(We=0|Ee.words[ft])*($e=0|ze.words[ct])+at)/67108864|0,at=67108863&Qe}Be.words[rt]=0|at,tt=0|nt}return 0!==tt?Be.words[rt]=0|tt:Be.length--,Be.strip()}BN.prototype.toString=function toString(Ee,ze){var Be;if(ze=0|ze||1,16===(Ee=Ee||10)||"hex"===Ee){Be="";for(var Ue=0,et=0,tt=0;tt<this.length;tt++){var rt=this.words[tt],nt=(16777215&(rt<<Ue|et)).toString(16);Be=0!==(et=rt>>>24-Ue&16777215)||tt!==this.length-1?We[6-nt.length]+nt+Be:nt+Be,(Ue+=2)>=26&&(Ue-=26,tt--)}for(0!==et&&(Be=et.toString(16)+Be);Be.length%ze!=0;)Be="0"+Be;return 0!==this.negative&&(Be="-"+Be),Be}if(Ee===(0|Ee)&&Ee>=2&&Ee<=36){var at=$e[Ee],it=Qe[Ee];Be="";var ct=this.clone();for(ct.negative=0;!ct.isZero();){var ft=ct.modn(it).toString(Ee);Be=(ct=ct.idivn(it)).isZero()?ft+Be:We[at-ft.length]+ft+Be}for(this.isZero()&&(Be="0"+Be);Be.length%ze!=0;)Be="0"+Be;return 0!==this.negative&&(Be="-"+Be),Be}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var Ee=this.words[0];return 2===this.length?Ee+=67108864*this.words[1]:3===this.length&&1===this.words[2]?Ee+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-Ee:Ee},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(Ee,ze){return assert(void 0!==Ue),this.toArrayLike(Ue,Ee,ze)},BN.prototype.toArray=function toArray(Ee,ze){return this.toArrayLike(Array,Ee,ze)},BN.prototype.toArrayLike=function toArrayLike(Ee,ze,Be){var Ue=this.byteLength(),We=Be||Math.max(1,Ue);assert(Ue<=We,"byte array longer than desired length"),assert(We>0,"Requested array length <= 0"),this.strip();var $e,Qe,et="le"===ze,tt=new Ee(We),rt=this.clone();if(et){for(Qe=0;!rt.isZero();Qe++)$e=rt.andln(255),rt.iushrn(8),tt[Qe]=$e;for(;Qe<We;Qe++)tt[Qe]=0}else{for(Qe=0;Qe<We-Ue;Qe++)tt[Qe]=0;for(Qe=0;!rt.isZero();Qe++)$e=rt.andln(255),rt.iushrn(8),tt[We-Qe-1]=$e}return tt},Math.clz32?BN.prototype._countBits=function _countBits(Ee){return 32-Math.clz32(Ee)}:BN.prototype._countBits=function _countBits(Ee){var ze=Ee,Be=0;return ze>=4096&&(Be+=13,ze>>>=13),ze>=64&&(Be+=7,ze>>>=7),ze>=8&&(Be+=4,ze>>>=4),ze>=2&&(Be+=2,ze>>>=2),Be+ze},BN.prototype._zeroBits=function _zeroBits(Ee){if(0===Ee)return 26;var ze=Ee,Be=0;return 0==(8191&ze)&&(Be+=13,ze>>>=13),0==(127&ze)&&(Be+=7,ze>>>=7),0==(15&ze)&&(Be+=4,ze>>>=4),0==(3&ze)&&(Be+=2,ze>>>=2),0==(1&ze)&&Be++,Be},BN.prototype.bitLength=function bitLength(){var Ee=this.words[this.length-1],ze=this._countBits(Ee);return 26*(this.length-1)+ze},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var Ee=0,ze=0;ze<this.length;ze++){var Be=this._zeroBits(this.words[ze]);if(Ee+=Be,26!==Be)break}return Ee},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(Ee){return 0!==this.negative?this.abs().inotn(Ee).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(Ee){return this.testn(Ee-1)?this.notn(Ee).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(Ee){for(;this.length<Ee.length;)this.words[this.length++]=0;for(var ze=0;ze<Ee.length;ze++)this.words[ze]=this.words[ze]|Ee.words[ze];return this.strip()},BN.prototype.ior=function ior(Ee){return assert(0==(this.negative|Ee.negative)),this.iuor(Ee)},BN.prototype.or=function or(Ee){return this.length>Ee.length?this.clone().ior(Ee):Ee.clone().ior(this)},BN.prototype.uor=function uor(Ee){return this.length>Ee.length?this.clone().iuor(Ee):Ee.clone().iuor(this)},BN.prototype.iuand=function iuand(Ee){var ze;ze=this.length>Ee.length?Ee:this;for(var Be=0;Be<ze.length;Be++)this.words[Be]=this.words[Be]&Ee.words[Be];return this.length=ze.length,this.strip()},BN.prototype.iand=function iand(Ee){return assert(0==(this.negative|Ee.negative)),this.iuand(Ee)},BN.prototype.and=function and(Ee){return this.length>Ee.length?this.clone().iand(Ee):Ee.clone().iand(this)},BN.prototype.uand=function uand(Ee){return this.length>Ee.length?this.clone().iuand(Ee):Ee.clone().iuand(this)},BN.prototype.iuxor=function iuxor(Ee){var ze,Be;this.length>Ee.length?(ze=this,Be=Ee):(ze=Ee,Be=this);for(var Ue=0;Ue<Be.length;Ue++)this.words[Ue]=ze.words[Ue]^Be.words[Ue];if(this!==ze)for(;Ue<ze.length;Ue++)this.words[Ue]=ze.words[Ue];return this.length=ze.length,this.strip()},BN.prototype.ixor=function ixor(Ee){return assert(0==(this.negative|Ee.negative)),this.iuxor(Ee)},BN.prototype.xor=function xor(Ee){return this.length>Ee.length?this.clone().ixor(Ee):Ee.clone().ixor(this)},BN.prototype.uxor=function uxor(Ee){return this.length>Ee.length?this.clone().iuxor(Ee):Ee.clone().iuxor(this)},BN.prototype.inotn=function inotn(Ee){assert("number"==typeof Ee&&Ee>=0);var ze=0|Math.ceil(Ee/26),Be=Ee%26;this._expand(ze),Be>0&&ze--;for(var Ue=0;Ue<ze;Ue++)this.words[Ue]=67108863&~this.words[Ue];return Be>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-Be),this.strip()},BN.prototype.notn=function notn(Ee){return this.clone().inotn(Ee)},BN.prototype.setn=function setn(Ee,ze){assert("number"==typeof Ee&&Ee>=0);var Be=Ee/26|0,Ue=Ee%26;return this._expand(Be+1),this.words[Be]=ze?this.words[Be]|1<<Ue:this.words[Be]&~(1<<Ue),this.strip()},BN.prototype.iadd=function iadd(Ee){var ze,Be,Ue;if(0!==this.negative&&0===Ee.negative)return this.negative=0,ze=this.isub(Ee),this.negative^=1,this._normSign();if(0===this.negative&&0!==Ee.negative)return Ee.negative=0,ze=this.isub(Ee),Ee.negative=1,ze._normSign();this.length>Ee.length?(Be=this,Ue=Ee):(Be=Ee,Ue=this);for(var We=0,$e=0;$e<Ue.length;$e++)ze=(0|Be.words[$e])+(0|Ue.words[$e])+We,this.words[$e]=67108863&ze,We=ze>>>26;for(;0!==We&&$e<Be.length;$e++)ze=(0|Be.words[$e])+We,this.words[$e]=67108863&ze,We=ze>>>26;if(this.length=Be.length,0!==We)this.words[this.length]=We,this.length++;else if(Be!==this)for(;$e<Be.length;$e++)this.words[$e]=Be.words[$e];return this},BN.prototype.add=function add(Ee){var ze;return 0!==Ee.negative&&0===this.negative?(Ee.negative=0,ze=this.sub(Ee),Ee.negative^=1,ze):0===Ee.negative&&0!==this.negative?(this.negative=0,ze=Ee.sub(this),this.negative=1,ze):this.length>Ee.length?this.clone().iadd(Ee):Ee.clone().iadd(this)},BN.prototype.isub=function isub(Ee){if(0!==Ee.negative){Ee.negative=0;var ze=this.iadd(Ee);return Ee.negative=1,ze._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(Ee),this.negative=1,this._normSign();var Be,Ue,We=this.cmp(Ee);if(0===We)return this.negative=0,this.length=1,this.words[0]=0,this;We>0?(Be=this,Ue=Ee):(Be=Ee,Ue=this);for(var $e=0,Qe=0;Qe<Ue.length;Qe++)$e=(ze=(0|Be.words[Qe])-(0|Ue.words[Qe])+$e)>>26,this.words[Qe]=67108863&ze;for(;0!==$e&&Qe<Be.length;Qe++)$e=(ze=(0|Be.words[Qe])+$e)>>26,this.words[Qe]=67108863&ze;if(0===$e&&Qe<Be.length&&Be!==this)for(;Qe<Be.length;Qe++)this.words[Qe]=Be.words[Qe];return this.length=Math.max(this.length,Qe),Be!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(Ee){return this.clone().isub(Ee)};var et=function comb10MulTo(Ee,ze,Be){var Ue,We,$e,Qe=Ee.words,et=ze.words,tt=Be.words,rt=0,nt=0|Qe[0],at=8191&nt,it=nt>>>13,ct=0|Qe[1],ft=8191&ct,xt=ct>>>13,kt=0|Qe[2],Lt=8191&kt,Ut=kt>>>13,er=0|Qe[3],tr=8191&er,rr=er>>>13,ar=0|Qe[4],Lr=8191&ar,Qr=ar>>>13,on=0|Qe[5],sn=8191&on,ln=on>>>13,cn=0|Qe[6],un=8191&cn,hn=cn>>>13,dn=0|Qe[7],vn=8191&dn,yn=dn>>>13,_n=0|Qe[8],Mn=8191&_n,Cn=_n>>>13,En=0|Qe[9],Pn=8191&En,In=En>>>13,Bn=0|et[0],Hn=8191&Bn,Kn=Bn>>>13,Jn=0|et[1],Ma=8191&Jn,Sa=Jn>>>13,La=0|et[2],Ia=8191&La,Ra=La>>>13,Na=0|et[3],Ua=8191&Na,qa=Na>>>13,Ka=0|et[4],ei=8191&Ka,ti=Ka>>>13,ri=0|et[5],ni=8191&ri,ai=ri>>>13,ii=0|et[6],oi=8191&ii,si=ii>>>13,li=0|et[7],ci=8191&li,hi=li>>>13,Ci=0|et[8],Pi=8191&Ci,zi=Ci>>>13,ji=0|et[9],Xi=8191&ji,Co=ji>>>13;Be.negative=Ee.negative^ze.negative,Be.length=19;var zo=(rt+(Ue=Math.imul(at,Hn))|0)+((8191&(We=(We=Math.imul(at,Kn))+Math.imul(it,Hn)|0))<<13)|0;rt=(($e=Math.imul(it,Kn))+(We>>>13)|0)+(zo>>>26)|0,zo&=67108863,Ue=Math.imul(ft,Hn),We=(We=Math.imul(ft,Kn))+Math.imul(xt,Hn)|0,$e=Math.imul(xt,Kn);var Bo=(rt+(Ue=Ue+Math.imul(at,Ma)|0)|0)+((8191&(We=(We=We+Math.imul(at,Sa)|0)+Math.imul(it,Ma)|0))<<13)|0;rt=(($e=$e+Math.imul(it,Sa)|0)+(We>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Ue=Math.imul(Lt,Hn),We=(We=Math.imul(Lt,Kn))+Math.imul(Ut,Hn)|0,$e=Math.imul(Ut,Kn),Ue=Ue+Math.imul(ft,Ma)|0,We=(We=We+Math.imul(ft,Sa)|0)+Math.imul(xt,Ma)|0,$e=$e+Math.imul(xt,Sa)|0;var Vo=(rt+(Ue=Ue+Math.imul(at,Ia)|0)|0)+((8191&(We=(We=We+Math.imul(at,Ra)|0)+Math.imul(it,Ia)|0))<<13)|0;rt=(($e=$e+Math.imul(it,Ra)|0)+(We>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,Ue=Math.imul(tr,Hn),We=(We=Math.imul(tr,Kn))+Math.imul(rr,Hn)|0,$e=Math.imul(rr,Kn),Ue=Ue+Math.imul(Lt,Ma)|0,We=(We=We+Math.imul(Lt,Sa)|0)+Math.imul(Ut,Ma)|0,$e=$e+Math.imul(Ut,Sa)|0,Ue=Ue+Math.imul(ft,Ia)|0,We=(We=We+Math.imul(ft,Ra)|0)+Math.imul(xt,Ia)|0,$e=$e+Math.imul(xt,Ra)|0;var Uo=(rt+(Ue=Ue+Math.imul(at,Ua)|0)|0)+((8191&(We=(We=We+Math.imul(at,qa)|0)+Math.imul(it,Ua)|0))<<13)|0;rt=(($e=$e+Math.imul(it,qa)|0)+(We>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,Ue=Math.imul(Lr,Hn),We=(We=Math.imul(Lr,Kn))+Math.imul(Qr,Hn)|0,$e=Math.imul(Qr,Kn),Ue=Ue+Math.imul(tr,Ma)|0,We=(We=We+Math.imul(tr,Sa)|0)+Math.imul(rr,Ma)|0,$e=$e+Math.imul(rr,Sa)|0,Ue=Ue+Math.imul(Lt,Ia)|0,We=(We=We+Math.imul(Lt,Ra)|0)+Math.imul(Ut,Ia)|0,$e=$e+Math.imul(Ut,Ra)|0,Ue=Ue+Math.imul(ft,Ua)|0,We=(We=We+Math.imul(ft,qa)|0)+Math.imul(xt,Ua)|0,$e=$e+Math.imul(xt,qa)|0;var Ho=(rt+(Ue=Ue+Math.imul(at,ei)|0)|0)+((8191&(We=(We=We+Math.imul(at,ti)|0)+Math.imul(it,ei)|0))<<13)|0;rt=(($e=$e+Math.imul(it,ti)|0)+(We>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Ue=Math.imul(sn,Hn),We=(We=Math.imul(sn,Kn))+Math.imul(ln,Hn)|0,$e=Math.imul(ln,Kn),Ue=Ue+Math.imul(Lr,Ma)|0,We=(We=We+Math.imul(Lr,Sa)|0)+Math.imul(Qr,Ma)|0,$e=$e+Math.imul(Qr,Sa)|0,Ue=Ue+Math.imul(tr,Ia)|0,We=(We=We+Math.imul(tr,Ra)|0)+Math.imul(rr,Ia)|0,$e=$e+Math.imul(rr,Ra)|0,Ue=Ue+Math.imul(Lt,Ua)|0,We=(We=We+Math.imul(Lt,qa)|0)+Math.imul(Ut,Ua)|0,$e=$e+Math.imul(Ut,qa)|0,Ue=Ue+Math.imul(ft,ei)|0,We=(We=We+Math.imul(ft,ti)|0)+Math.imul(xt,ei)|0,$e=$e+Math.imul(xt,ti)|0;var Wo=(rt+(Ue=Ue+Math.imul(at,ni)|0)|0)+((8191&(We=(We=We+Math.imul(at,ai)|0)+Math.imul(it,ni)|0))<<13)|0;rt=(($e=$e+Math.imul(it,ai)|0)+(We>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,Ue=Math.imul(un,Hn),We=(We=Math.imul(un,Kn))+Math.imul(hn,Hn)|0,$e=Math.imul(hn,Kn),Ue=Ue+Math.imul(sn,Ma)|0,We=(We=We+Math.imul(sn,Sa)|0)+Math.imul(ln,Ma)|0,$e=$e+Math.imul(ln,Sa)|0,Ue=Ue+Math.imul(Lr,Ia)|0,We=(We=We+Math.imul(Lr,Ra)|0)+Math.imul(Qr,Ia)|0,$e=$e+Math.imul(Qr,Ra)|0,Ue=Ue+Math.imul(tr,Ua)|0,We=(We=We+Math.imul(tr,qa)|0)+Math.imul(rr,Ua)|0,$e=$e+Math.imul(rr,qa)|0,Ue=Ue+Math.imul(Lt,ei)|0,We=(We=We+Math.imul(Lt,ti)|0)+Math.imul(Ut,ei)|0,$e=$e+Math.imul(Ut,ti)|0,Ue=Ue+Math.imul(ft,ni)|0,We=(We=We+Math.imul(ft,ai)|0)+Math.imul(xt,ni)|0,$e=$e+Math.imul(xt,ai)|0;var Xo=(rt+(Ue=Ue+Math.imul(at,oi)|0)|0)+((8191&(We=(We=We+Math.imul(at,si)|0)+Math.imul(it,oi)|0))<<13)|0;rt=(($e=$e+Math.imul(it,si)|0)+(We>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,Ue=Math.imul(vn,Hn),We=(We=Math.imul(vn,Kn))+Math.imul(yn,Hn)|0,$e=Math.imul(yn,Kn),Ue=Ue+Math.imul(un,Ma)|0,We=(We=We+Math.imul(un,Sa)|0)+Math.imul(hn,Ma)|0,$e=$e+Math.imul(hn,Sa)|0,Ue=Ue+Math.imul(sn,Ia)|0,We=(We=We+Math.imul(sn,Ra)|0)+Math.imul(ln,Ia)|0,$e=$e+Math.imul(ln,Ra)|0,Ue=Ue+Math.imul(Lr,Ua)|0,We=(We=We+Math.imul(Lr,qa)|0)+Math.imul(Qr,Ua)|0,$e=$e+Math.imul(Qr,qa)|0,Ue=Ue+Math.imul(tr,ei)|0,We=(We=We+Math.imul(tr,ti)|0)+Math.imul(rr,ei)|0,$e=$e+Math.imul(rr,ti)|0,Ue=Ue+Math.imul(Lt,ni)|0,We=(We=We+Math.imul(Lt,ai)|0)+Math.imul(Ut,ni)|0,$e=$e+Math.imul(Ut,ai)|0,Ue=Ue+Math.imul(ft,oi)|0,We=(We=We+Math.imul(ft,si)|0)+Math.imul(xt,oi)|0,$e=$e+Math.imul(xt,si)|0;var $o=(rt+(Ue=Ue+Math.imul(at,ci)|0)|0)+((8191&(We=(We=We+Math.imul(at,hi)|0)+Math.imul(it,ci)|0))<<13)|0;rt=(($e=$e+Math.imul(it,hi)|0)+(We>>>13)|0)+($o>>>26)|0,$o&=67108863,Ue=Math.imul(Mn,Hn),We=(We=Math.imul(Mn,Kn))+Math.imul(Cn,Hn)|0,$e=Math.imul(Cn,Kn),Ue=Ue+Math.imul(vn,Ma)|0,We=(We=We+Math.imul(vn,Sa)|0)+Math.imul(yn,Ma)|0,$e=$e+Math.imul(yn,Sa)|0,Ue=Ue+Math.imul(un,Ia)|0,We=(We=We+Math.imul(un,Ra)|0)+Math.imul(hn,Ia)|0,$e=$e+Math.imul(hn,Ra)|0,Ue=Ue+Math.imul(sn,Ua)|0,We=(We=We+Math.imul(sn,qa)|0)+Math.imul(ln,Ua)|0,$e=$e+Math.imul(ln,qa)|0,Ue=Ue+Math.imul(Lr,ei)|0,We=(We=We+Math.imul(Lr,ti)|0)+Math.imul(Qr,ei)|0,$e=$e+Math.imul(Qr,ti)|0,Ue=Ue+Math.imul(tr,ni)|0,We=(We=We+Math.imul(tr,ai)|0)+Math.imul(rr,ni)|0,$e=$e+Math.imul(rr,ai)|0,Ue=Ue+Math.imul(Lt,oi)|0,We=(We=We+Math.imul(Lt,si)|0)+Math.imul(Ut,oi)|0,$e=$e+Math.imul(Ut,si)|0,Ue=Ue+Math.imul(ft,ci)|0,We=(We=We+Math.imul(ft,hi)|0)+Math.imul(xt,ci)|0,$e=$e+Math.imul(xt,hi)|0;var es=(rt+(Ue=Ue+Math.imul(at,Pi)|0)|0)+((8191&(We=(We=We+Math.imul(at,zi)|0)+Math.imul(it,Pi)|0))<<13)|0;rt=(($e=$e+Math.imul(it,zi)|0)+(We>>>13)|0)+(es>>>26)|0,es&=67108863,Ue=Math.imul(Pn,Hn),We=(We=Math.imul(Pn,Kn))+Math.imul(In,Hn)|0,$e=Math.imul(In,Kn),Ue=Ue+Math.imul(Mn,Ma)|0,We=(We=We+Math.imul(Mn,Sa)|0)+Math.imul(Cn,Ma)|0,$e=$e+Math.imul(Cn,Sa)|0,Ue=Ue+Math.imul(vn,Ia)|0,We=(We=We+Math.imul(vn,Ra)|0)+Math.imul(yn,Ia)|0,$e=$e+Math.imul(yn,Ra)|0,Ue=Ue+Math.imul(un,Ua)|0,We=(We=We+Math.imul(un,qa)|0)+Math.imul(hn,Ua)|0,$e=$e+Math.imul(hn,qa)|0,Ue=Ue+Math.imul(sn,ei)|0,We=(We=We+Math.imul(sn,ti)|0)+Math.imul(ln,ei)|0,$e=$e+Math.imul(ln,ti)|0,Ue=Ue+Math.imul(Lr,ni)|0,We=(We=We+Math.imul(Lr,ai)|0)+Math.imul(Qr,ni)|0,$e=$e+Math.imul(Qr,ai)|0,Ue=Ue+Math.imul(tr,oi)|0,We=(We=We+Math.imul(tr,si)|0)+Math.imul(rr,oi)|0,$e=$e+Math.imul(rr,si)|0,Ue=Ue+Math.imul(Lt,ci)|0,We=(We=We+Math.imul(Lt,hi)|0)+Math.imul(Ut,ci)|0,$e=$e+Math.imul(Ut,hi)|0,Ue=Ue+Math.imul(ft,Pi)|0,We=(We=We+Math.imul(ft,zi)|0)+Math.imul(xt,Pi)|0,$e=$e+Math.imul(xt,zi)|0;var ts=(rt+(Ue=Ue+Math.imul(at,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(at,Co)|0)+Math.imul(it,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(it,Co)|0)+(We>>>13)|0)+(ts>>>26)|0,ts&=67108863,Ue=Math.imul(Pn,Ma),We=(We=Math.imul(Pn,Sa))+Math.imul(In,Ma)|0,$e=Math.imul(In,Sa),Ue=Ue+Math.imul(Mn,Ia)|0,We=(We=We+Math.imul(Mn,Ra)|0)+Math.imul(Cn,Ia)|0,$e=$e+Math.imul(Cn,Ra)|0,Ue=Ue+Math.imul(vn,Ua)|0,We=(We=We+Math.imul(vn,qa)|0)+Math.imul(yn,Ua)|0,$e=$e+Math.imul(yn,qa)|0,Ue=Ue+Math.imul(un,ei)|0,We=(We=We+Math.imul(un,ti)|0)+Math.imul(hn,ei)|0,$e=$e+Math.imul(hn,ti)|0,Ue=Ue+Math.imul(sn,ni)|0,We=(We=We+Math.imul(sn,ai)|0)+Math.imul(ln,ni)|0,$e=$e+Math.imul(ln,ai)|0,Ue=Ue+Math.imul(Lr,oi)|0,We=(We=We+Math.imul(Lr,si)|0)+Math.imul(Qr,oi)|0,$e=$e+Math.imul(Qr,si)|0,Ue=Ue+Math.imul(tr,ci)|0,We=(We=We+Math.imul(tr,hi)|0)+Math.imul(rr,ci)|0,$e=$e+Math.imul(rr,hi)|0,Ue=Ue+Math.imul(Lt,Pi)|0,We=(We=We+Math.imul(Lt,zi)|0)+Math.imul(Ut,Pi)|0,$e=$e+Math.imul(Ut,zi)|0;var rs=(rt+(Ue=Ue+Math.imul(ft,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(ft,Co)|0)+Math.imul(xt,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(xt,Co)|0)+(We>>>13)|0)+(rs>>>26)|0,rs&=67108863,Ue=Math.imul(Pn,Ia),We=(We=Math.imul(Pn,Ra))+Math.imul(In,Ia)|0,$e=Math.imul(In,Ra),Ue=Ue+Math.imul(Mn,Ua)|0,We=(We=We+Math.imul(Mn,qa)|0)+Math.imul(Cn,Ua)|0,$e=$e+Math.imul(Cn,qa)|0,Ue=Ue+Math.imul(vn,ei)|0,We=(We=We+Math.imul(vn,ti)|0)+Math.imul(yn,ei)|0,$e=$e+Math.imul(yn,ti)|0,Ue=Ue+Math.imul(un,ni)|0,We=(We=We+Math.imul(un,ai)|0)+Math.imul(hn,ni)|0,$e=$e+Math.imul(hn,ai)|0,Ue=Ue+Math.imul(sn,oi)|0,We=(We=We+Math.imul(sn,si)|0)+Math.imul(ln,oi)|0,$e=$e+Math.imul(ln,si)|0,Ue=Ue+Math.imul(Lr,ci)|0,We=(We=We+Math.imul(Lr,hi)|0)+Math.imul(Qr,ci)|0,$e=$e+Math.imul(Qr,hi)|0,Ue=Ue+Math.imul(tr,Pi)|0,We=(We=We+Math.imul(tr,zi)|0)+Math.imul(rr,Pi)|0,$e=$e+Math.imul(rr,zi)|0;var ns=(rt+(Ue=Ue+Math.imul(Lt,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(Lt,Co)|0)+Math.imul(Ut,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(Ut,Co)|0)+(We>>>13)|0)+(ns>>>26)|0,ns&=67108863,Ue=Math.imul(Pn,Ua),We=(We=Math.imul(Pn,qa))+Math.imul(In,Ua)|0,$e=Math.imul(In,qa),Ue=Ue+Math.imul(Mn,ei)|0,We=(We=We+Math.imul(Mn,ti)|0)+Math.imul(Cn,ei)|0,$e=$e+Math.imul(Cn,ti)|0,Ue=Ue+Math.imul(vn,ni)|0,We=(We=We+Math.imul(vn,ai)|0)+Math.imul(yn,ni)|0,$e=$e+Math.imul(yn,ai)|0,Ue=Ue+Math.imul(un,oi)|0,We=(We=We+Math.imul(un,si)|0)+Math.imul(hn,oi)|0,$e=$e+Math.imul(hn,si)|0,Ue=Ue+Math.imul(sn,ci)|0,We=(We=We+Math.imul(sn,hi)|0)+Math.imul(ln,ci)|0,$e=$e+Math.imul(ln,hi)|0,Ue=Ue+Math.imul(Lr,Pi)|0,We=(We=We+Math.imul(Lr,zi)|0)+Math.imul(Qr,Pi)|0,$e=$e+Math.imul(Qr,zi)|0;var as=(rt+(Ue=Ue+Math.imul(tr,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(tr,Co)|0)+Math.imul(rr,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(rr,Co)|0)+(We>>>13)|0)+(as>>>26)|0,as&=67108863,Ue=Math.imul(Pn,ei),We=(We=Math.imul(Pn,ti))+Math.imul(In,ei)|0,$e=Math.imul(In,ti),Ue=Ue+Math.imul(Mn,ni)|0,We=(We=We+Math.imul(Mn,ai)|0)+Math.imul(Cn,ni)|0,$e=$e+Math.imul(Cn,ai)|0,Ue=Ue+Math.imul(vn,oi)|0,We=(We=We+Math.imul(vn,si)|0)+Math.imul(yn,oi)|0,$e=$e+Math.imul(yn,si)|0,Ue=Ue+Math.imul(un,ci)|0,We=(We=We+Math.imul(un,hi)|0)+Math.imul(hn,ci)|0,$e=$e+Math.imul(hn,hi)|0,Ue=Ue+Math.imul(sn,Pi)|0,We=(We=We+Math.imul(sn,zi)|0)+Math.imul(ln,Pi)|0,$e=$e+Math.imul(ln,zi)|0;var os=(rt+(Ue=Ue+Math.imul(Lr,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(Lr,Co)|0)+Math.imul(Qr,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(Qr,Co)|0)+(We>>>13)|0)+(os>>>26)|0,os&=67108863,Ue=Math.imul(Pn,ni),We=(We=Math.imul(Pn,ai))+Math.imul(In,ni)|0,$e=Math.imul(In,ai),Ue=Ue+Math.imul(Mn,oi)|0,We=(We=We+Math.imul(Mn,si)|0)+Math.imul(Cn,oi)|0,$e=$e+Math.imul(Cn,si)|0,Ue=Ue+Math.imul(vn,ci)|0,We=(We=We+Math.imul(vn,hi)|0)+Math.imul(yn,ci)|0,$e=$e+Math.imul(yn,hi)|0,Ue=Ue+Math.imul(un,Pi)|0,We=(We=We+Math.imul(un,zi)|0)+Math.imul(hn,Pi)|0,$e=$e+Math.imul(hn,zi)|0;var ss=(rt+(Ue=Ue+Math.imul(sn,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(sn,Co)|0)+Math.imul(ln,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(ln,Co)|0)+(We>>>13)|0)+(ss>>>26)|0,ss&=67108863,Ue=Math.imul(Pn,oi),We=(We=Math.imul(Pn,si))+Math.imul(In,oi)|0,$e=Math.imul(In,si),Ue=Ue+Math.imul(Mn,ci)|0,We=(We=We+Math.imul(Mn,hi)|0)+Math.imul(Cn,ci)|0,$e=$e+Math.imul(Cn,hi)|0,Ue=Ue+Math.imul(vn,Pi)|0,We=(We=We+Math.imul(vn,zi)|0)+Math.imul(yn,Pi)|0,$e=$e+Math.imul(yn,zi)|0;var ls=(rt+(Ue=Ue+Math.imul(un,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(un,Co)|0)+Math.imul(hn,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(hn,Co)|0)+(We>>>13)|0)+(ls>>>26)|0,ls&=67108863,Ue=Math.imul(Pn,ci),We=(We=Math.imul(Pn,hi))+Math.imul(In,ci)|0,$e=Math.imul(In,hi),Ue=Ue+Math.imul(Mn,Pi)|0,We=(We=We+Math.imul(Mn,zi)|0)+Math.imul(Cn,Pi)|0,$e=$e+Math.imul(Cn,zi)|0;var cs=(rt+(Ue=Ue+Math.imul(vn,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(vn,Co)|0)+Math.imul(yn,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(yn,Co)|0)+(We>>>13)|0)+(cs>>>26)|0,cs&=67108863,Ue=Math.imul(Pn,Pi),We=(We=Math.imul(Pn,zi))+Math.imul(In,Pi)|0,$e=Math.imul(In,zi);var us=(rt+(Ue=Ue+Math.imul(Mn,Xi)|0)|0)+((8191&(We=(We=We+Math.imul(Mn,Co)|0)+Math.imul(Cn,Xi)|0))<<13)|0;rt=(($e=$e+Math.imul(Cn,Co)|0)+(We>>>13)|0)+(us>>>26)|0,us&=67108863;var fs=(rt+(Ue=Math.imul(Pn,Xi))|0)+((8191&(We=(We=Math.imul(Pn,Co))+Math.imul(In,Xi)|0))<<13)|0;return rt=(($e=Math.imul(In,Co))+(We>>>13)|0)+(fs>>>26)|0,fs&=67108863,tt[0]=zo,tt[1]=Bo,tt[2]=Vo,tt[3]=Uo,tt[4]=Ho,tt[5]=Wo,tt[6]=Xo,tt[7]=$o,tt[8]=es,tt[9]=ts,tt[10]=rs,tt[11]=ns,tt[12]=as,tt[13]=os,tt[14]=ss,tt[15]=ls,tt[16]=cs,tt[17]=us,tt[18]=fs,0!==rt&&(tt[19]=rt,Be.length++),Be};function jumboMulTo(Ee,ze,Be){return(new FFTM).mulp(Ee,ze,Be)}function FFTM(Ee,ze){this.x=Ee,this.y=ze}Math.imul||(et=smallMulTo),BN.prototype.mulTo=function mulTo(Ee,ze){var Be=this.length+Ee.length;return 10===this.length&&10===Ee.length?et(this,Ee,ze):Be<63?smallMulTo(this,Ee,ze):Be<1024?function bigMulTo(Ee,ze,Be){Be.negative=ze.negative^Ee.negative,Be.length=Ee.length+ze.length;for(var Ue=0,We=0,$e=0;$e<Be.length-1;$e++){var Qe=We;We=0;for(var et=67108863&Ue,tt=Math.min($e,ze.length-1),rt=Math.max(0,$e-Ee.length+1);rt<=tt;rt++){var nt=$e-rt,at=(0|Ee.words[nt])*(0|ze.words[rt]),it=67108863&at;et=67108863&(it=it+et|0),We+=(Qe=(Qe=Qe+(at/67108864|0)|0)+(it>>>26)|0)>>>26,Qe&=67108863}Be.words[$e]=et,Ue=Qe,Qe=We}return 0!==Ue?Be.words[$e]=Ue:Be.length--,Be.strip()}(this,Ee,ze):jumboMulTo(this,Ee,ze)},FFTM.prototype.makeRBT=function makeRBT(Ee){for(var ze=new Array(Ee),Be=BN.prototype._countBits(Ee)-1,Ue=0;Ue<Ee;Ue++)ze[Ue]=this.revBin(Ue,Be,Ee);return ze},FFTM.prototype.revBin=function revBin(Ee,ze,Be){if(0===Ee||Ee===Be-1)return Ee;for(var Ue=0,We=0;We<ze;We++)Ue|=(1&Ee)<<ze-We-1,Ee>>=1;return Ue},FFTM.prototype.permute=function permute(Ee,ze,Be,Ue,We,$e){for(var Qe=0;Qe<$e;Qe++)Ue[Qe]=ze[Ee[Qe]],We[Qe]=Be[Ee[Qe]]},FFTM.prototype.transform=function transform(Ee,ze,Be,Ue,We,$e){this.permute($e,Ee,ze,Be,Ue,We);for(var Qe=1;Qe<We;Qe<<=1)for(var et=Qe<<1,tt=Math.cos(2*Math.PI/et),rt=Math.sin(2*Math.PI/et),nt=0;nt<We;nt+=et)for(var at=tt,it=rt,ct=0;ct<Qe;ct++){var ft=Be[nt+ct],xt=Ue[nt+ct],kt=Be[nt+ct+Qe],Lt=Ue[nt+ct+Qe],Ut=at*kt-it*Lt;Lt=at*Lt+it*kt,kt=Ut,Be[nt+ct]=ft+kt,Ue[nt+ct]=xt+Lt,Be[nt+ct+Qe]=ft-kt,Ue[nt+ct+Qe]=xt-Lt,ct!==et&&(Ut=tt*at-rt*it,it=tt*it+rt*at,at=Ut)}},FFTM.prototype.guessLen13b=function guessLen13b(Ee,ze){var Be=1|Math.max(ze,Ee),Ue=1&Be,We=0;for(Be=Be/2|0;Be;Be>>>=1)We++;return 1<<We+1+Ue},FFTM.prototype.conjugate=function conjugate(Ee,ze,Be){if(!(Be<=1))for(var Ue=0;Ue<Be/2;Ue++){var We=Ee[Ue];Ee[Ue]=Ee[Be-Ue-1],Ee[Be-Ue-1]=We,We=ze[Ue],ze[Ue]=-ze[Be-Ue-1],ze[Be-Ue-1]=-We}},FFTM.prototype.normalize13b=function normalize13b(Ee,ze){for(var Be=0,Ue=0;Ue<ze/2;Ue++){var We=8192*Math.round(Ee[2*Ue+1]/ze)+Math.round(Ee[2*Ue]/ze)+Be;Ee[Ue]=67108863&We,Be=We<67108864?0:We/67108864|0}return Ee},FFTM.prototype.convert13b=function convert13b(Ee,ze,Be,Ue){for(var We=0,$e=0;$e<ze;$e++)We+=0|Ee[$e],Be[2*$e]=8191&We,We>>>=13,Be[2*$e+1]=8191&We,We>>>=13;for($e=2*ze;$e<Ue;++$e)Be[$e]=0;assert(0===We),assert(0==(-8192&We))},FFTM.prototype.stub=function stub(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;Be++)ze[Be]=0;return ze},FFTM.prototype.mulp=function mulp(Ee,ze,Be){var Ue=2*this.guessLen13b(Ee.length,ze.length),We=this.makeRBT(Ue),$e=this.stub(Ue),Qe=new Array(Ue),et=new Array(Ue),tt=new Array(Ue),rt=new Array(Ue),nt=new Array(Ue),at=new Array(Ue),it=Be.words;it.length=Ue,this.convert13b(Ee.words,Ee.length,Qe,Ue),this.convert13b(ze.words,ze.length,rt,Ue),this.transform(Qe,$e,et,tt,Ue,We),this.transform(rt,$e,nt,at,Ue,We);for(var ct=0;ct<Ue;ct++){var ft=et[ct]*nt[ct]-tt[ct]*at[ct];tt[ct]=et[ct]*at[ct]+tt[ct]*nt[ct],et[ct]=ft}return this.conjugate(et,tt,Ue),this.transform(et,tt,it,$e,Ue,We),this.conjugate(it,$e,Ue),this.normalize13b(it,Ue),Be.negative=Ee.negative^ze.negative,Be.length=Ee.length+ze.length,Be.strip()},BN.prototype.mul=function mul(Ee){var ze=new BN(null);return ze.words=new Array(this.length+Ee.length),this.mulTo(Ee,ze)},BN.prototype.mulf=function mulf(Ee){var ze=new BN(null);return ze.words=new Array(this.length+Ee.length),jumboMulTo(this,Ee,ze)},BN.prototype.imul=function imul(Ee){return this.clone().mulTo(Ee,this)},BN.prototype.imuln=function imuln(Ee){assert("number"==typeof Ee),assert(Ee<67108864);for(var ze=0,Be=0;Be<this.length;Be++){var Ue=(0|this.words[Be])*Ee,We=(67108863&Ue)+(67108863&ze);ze>>=26,ze+=Ue/67108864|0,ze+=We>>>26,this.words[Be]=67108863&We}return 0!==ze&&(this.words[Be]=ze,this.length++),this},BN.prototype.muln=function muln(Ee){return this.clone().imuln(Ee)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(Ee){var ze=function toBitArray(Ee){for(var ze=new Array(Ee.bitLength()),Be=0;Be<ze.length;Be++){var Ue=Be/26|0,We=Be%26;ze[Be]=(Ee.words[Ue]&1<<We)>>>We}return ze}(Ee);if(0===ze.length)return new BN(1);for(var Be=this,Ue=0;Ue<ze.length&&0===ze[Ue];Ue++,Be=Be.sqr());if(++Ue<ze.length)for(var We=Be.sqr();Ue<ze.length;Ue++,We=We.sqr())0!==ze[Ue]&&(Be=Be.mul(We));return Be},BN.prototype.iushln=function iushln(Ee){assert("number"==typeof Ee&&Ee>=0);var ze,Be=Ee%26,Ue=(Ee-Be)/26,We=67108863>>>26-Be<<26-Be;if(0!==Be){var $e=0;for(ze=0;ze<this.length;ze++){var Qe=this.words[ze]&We,et=(0|this.words[ze])-Qe<<Be;this.words[ze]=et|$e,$e=Qe>>>26-Be}$e&&(this.words[ze]=$e,this.length++)}if(0!==Ue){for(ze=this.length-1;ze>=0;ze--)this.words[ze+Ue]=this.words[ze];for(ze=0;ze<Ue;ze++)this.words[ze]=0;this.length+=Ue}return this.strip()},BN.prototype.ishln=function ishln(Ee){return assert(0===this.negative),this.iushln(Ee)},BN.prototype.iushrn=function iushrn(Ee,ze,Be){var Ue;assert("number"==typeof Ee&&Ee>=0),Ue=ze?(ze-ze%26)/26:0;var We=Ee%26,$e=Math.min((Ee-We)/26,this.length),Qe=67108863^67108863>>>We<<We,et=Be;if(Ue-=$e,Ue=Math.max(0,Ue),et){for(var tt=0;tt<$e;tt++)et.words[tt]=this.words[tt];et.length=$e}if(0===$e);else if(this.length>$e)for(this.length-=$e,tt=0;tt<this.length;tt++)this.words[tt]=this.words[tt+$e];else this.words[0]=0,this.length=1;var rt=0;for(tt=this.length-1;tt>=0&&(0!==rt||tt>=Ue);tt--){var nt=0|this.words[tt];this.words[tt]=rt<<26-We|nt>>>We,rt=nt&Qe}return et&&0!==rt&&(et.words[et.length++]=rt),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(Ee,ze,Be){return assert(0===this.negative),this.iushrn(Ee,ze,Be)},BN.prototype.shln=function shln(Ee){return this.clone().ishln(Ee)},BN.prototype.ushln=function ushln(Ee){return this.clone().iushln(Ee)},BN.prototype.shrn=function shrn(Ee){return this.clone().ishrn(Ee)},BN.prototype.ushrn=function ushrn(Ee){return this.clone().iushrn(Ee)},BN.prototype.testn=function testn(Ee){assert("number"==typeof Ee&&Ee>=0);var ze=Ee%26,Be=(Ee-ze)/26,Ue=1<<ze;return!(this.length<=Be)&&!!(this.words[Be]&Ue)},BN.prototype.imaskn=function imaskn(Ee){assert("number"==typeof Ee&&Ee>=0);var ze=Ee%26,Be=(Ee-ze)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=Be)return this;if(0!==ze&&Be++,this.length=Math.min(Be,this.length),0!==ze){var Ue=67108863^67108863>>>ze<<ze;this.words[this.length-1]&=Ue}return this.strip()},BN.prototype.maskn=function maskn(Ee){return this.clone().imaskn(Ee)},BN.prototype.iaddn=function iaddn(Ee){return assert("number"==typeof Ee),assert(Ee<67108864),Ee<0?this.isubn(-Ee):0!==this.negative?1===this.length&&(0|this.words[0])<Ee?(this.words[0]=Ee-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(Ee),this.negative=1,this):this._iaddn(Ee)},BN.prototype._iaddn=function _iaddn(Ee){this.words[0]+=Ee;for(var ze=0;ze<this.length&&this.words[ze]>=67108864;ze++)this.words[ze]-=67108864,ze===this.length-1?this.words[ze+1]=1:this.words[ze+1]++;return this.length=Math.max(this.length,ze+1),this},BN.prototype.isubn=function isubn(Ee){if(assert("number"==typeof Ee),assert(Ee<67108864),Ee<0)return this.iaddn(-Ee);if(0!==this.negative)return this.negative=0,this.iaddn(Ee),this.negative=1,this;if(this.words[0]-=Ee,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ze=0;ze<this.length&&this.words[ze]<0;ze++)this.words[ze]+=67108864,this.words[ze+1]-=1;return this.strip()},BN.prototype.addn=function addn(Ee){return this.clone().iaddn(Ee)},BN.prototype.subn=function subn(Ee){return this.clone().isubn(Ee)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(Ee,ze,Be){var Ue,We,$e=Ee.length+Be;this._expand($e);var Qe=0;for(Ue=0;Ue<Ee.length;Ue++){We=(0|this.words[Ue+Be])+Qe;var et=(0|Ee.words[Ue])*ze;Qe=((We-=67108863&et)>>26)-(et/67108864|0),this.words[Ue+Be]=67108863&We}for(;Ue<this.length-Be;Ue++)Qe=(We=(0|this.words[Ue+Be])+Qe)>>26,this.words[Ue+Be]=67108863&We;if(0===Qe)return this.strip();for(assert(-1===Qe),Qe=0,Ue=0;Ue<this.length;Ue++)Qe=(We=-(0|this.words[Ue])+Qe)>>26,this.words[Ue]=67108863&We;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(Ee,ze){var Be=(this.length,Ee.length),Ue=this.clone(),We=Ee,$e=0|We.words[We.length-1];0!==(Be=26-this._countBits($e))&&(We=We.ushln(Be),Ue.iushln(Be),$e=0|We.words[We.length-1]);var Qe,et=Ue.length-We.length;if("mod"!==ze){(Qe=new BN(null)).length=et+1,Qe.words=new Array(Qe.length);for(var tt=0;tt<Qe.length;tt++)Qe.words[tt]=0}var rt=Ue.clone()._ishlnsubmul(We,1,et);0===rt.negative&&(Ue=rt,Qe&&(Qe.words[et]=1));for(var nt=et-1;nt>=0;nt--){var at=67108864*(0|Ue.words[We.length+nt])+(0|Ue.words[We.length+nt-1]);for(at=Math.min(at/$e|0,67108863),Ue._ishlnsubmul(We,at,nt);0!==Ue.negative;)at--,Ue.negative=0,Ue._ishlnsubmul(We,1,nt),Ue.isZero()||(Ue.negative^=1);Qe&&(Qe.words[nt]=at)}return Qe&&Qe.strip(),Ue.strip(),"div"!==ze&&0!==Be&&Ue.iushrn(Be),{div:Qe||null,mod:Ue}},BN.prototype.divmod=function divmod(Ee,ze,Be){return assert(!Ee.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===Ee.negative?($e=this.neg().divmod(Ee,ze),"mod"!==ze&&(Ue=$e.div.neg()),"div"!==ze&&(We=$e.mod.neg(),Be&&0!==We.negative&&We.iadd(Ee)),{div:Ue,mod:We}):0===this.negative&&0!==Ee.negative?($e=this.divmod(Ee.neg(),ze),"mod"!==ze&&(Ue=$e.div.neg()),{div:Ue,mod:$e.mod}):0!=(this.negative&Ee.negative)?($e=this.neg().divmod(Ee.neg(),ze),"div"!==ze&&(We=$e.mod.neg(),Be&&0!==We.negative&&We.isub(Ee)),{div:$e.div,mod:We}):Ee.length>this.length||this.cmp(Ee)<0?{div:new BN(0),mod:this}:1===Ee.length?"div"===ze?{div:this.divn(Ee.words[0]),mod:null}:"mod"===ze?{div:null,mod:new BN(this.modn(Ee.words[0]))}:{div:this.divn(Ee.words[0]),mod:new BN(this.modn(Ee.words[0]))}:this._wordDiv(Ee,ze);var Ue,We,$e},BN.prototype.div=function div(Ee){return this.divmod(Ee,"div",!1).div},BN.prototype.mod=function mod(Ee){return this.divmod(Ee,"mod",!1).mod},BN.prototype.umod=function umod(Ee){return this.divmod(Ee,"mod",!0).mod},BN.prototype.divRound=function divRound(Ee){var ze=this.divmod(Ee);if(ze.mod.isZero())return ze.div;var Be=0!==ze.div.negative?ze.mod.isub(Ee):ze.mod,Ue=Ee.ushrn(1),We=Ee.andln(1),$e=Be.cmp(Ue);return $e<0||1===We&&0===$e?ze.div:0!==ze.div.negative?ze.div.isubn(1):ze.div.iaddn(1)},BN.prototype.modn=function modn(Ee){assert(Ee<=67108863);for(var ze=(1<<26)%Ee,Be=0,Ue=this.length-1;Ue>=0;Ue--)Be=(ze*Be+(0|this.words[Ue]))%Ee;return Be},BN.prototype.idivn=function idivn(Ee){assert(Ee<=67108863);for(var ze=0,Be=this.length-1;Be>=0;Be--){var Ue=(0|this.words[Be])+67108864*ze;this.words[Be]=Ue/Ee|0,ze=Ue%Ee}return this.strip()},BN.prototype.divn=function divn(Ee){return this.clone().idivn(Ee)},BN.prototype.egcd=function egcd(Ee){assert(0===Ee.negative),assert(!Ee.isZero());var ze=this,Be=Ee.clone();ze=0!==ze.negative?ze.umod(Ee):ze.clone();for(var Ue=new BN(1),We=new BN(0),$e=new BN(0),Qe=new BN(1),et=0;ze.isEven()&&Be.isEven();)ze.iushrn(1),Be.iushrn(1),++et;for(var tt=Be.clone(),rt=ze.clone();!ze.isZero();){for(var nt=0,at=1;0==(ze.words[0]&at)&&nt<26;++nt,at<<=1);if(nt>0)for(ze.iushrn(nt);nt-- >0;)(Ue.isOdd()||We.isOdd())&&(Ue.iadd(tt),We.isub(rt)),Ue.iushrn(1),We.iushrn(1);for(var it=0,ct=1;0==(Be.words[0]&ct)&&it<26;++it,ct<<=1);if(it>0)for(Be.iushrn(it);it-- >0;)($e.isOdd()||Qe.isOdd())&&($e.iadd(tt),Qe.isub(rt)),$e.iushrn(1),Qe.iushrn(1);ze.cmp(Be)>=0?(ze.isub(Be),Ue.isub($e),We.isub(Qe)):(Be.isub(ze),$e.isub(Ue),Qe.isub(We))}return{a:$e,b:Qe,gcd:Be.iushln(et)}},BN.prototype._invmp=function _invmp(Ee){assert(0===Ee.negative),assert(!Ee.isZero());var ze=this,Be=Ee.clone();ze=0!==ze.negative?ze.umod(Ee):ze.clone();for(var Ue,We=new BN(1),$e=new BN(0),Qe=Be.clone();ze.cmpn(1)>0&&Be.cmpn(1)>0;){for(var et=0,tt=1;0==(ze.words[0]&tt)&&et<26;++et,tt<<=1);if(et>0)for(ze.iushrn(et);et-- >0;)We.isOdd()&&We.iadd(Qe),We.iushrn(1);for(var rt=0,nt=1;0==(Be.words[0]&nt)&&rt<26;++rt,nt<<=1);if(rt>0)for(Be.iushrn(rt);rt-- >0;)$e.isOdd()&&$e.iadd(Qe),$e.iushrn(1);ze.cmp(Be)>=0?(ze.isub(Be),We.isub($e)):(Be.isub(ze),$e.isub(We))}return(Ue=0===ze.cmpn(1)?We:$e).cmpn(0)<0&&Ue.iadd(Ee),Ue},BN.prototype.gcd=function gcd(Ee){if(this.isZero())return Ee.abs();if(Ee.isZero())return this.abs();var ze=this.clone(),Be=Ee.clone();ze.negative=0,Be.negative=0;for(var Ue=0;ze.isEven()&&Be.isEven();Ue++)ze.iushrn(1),Be.iushrn(1);for(;;){for(;ze.isEven();)ze.iushrn(1);for(;Be.isEven();)Be.iushrn(1);var We=ze.cmp(Be);if(We<0){var $e=ze;ze=Be,Be=$e}else if(0===We||0===Be.cmpn(1))break;ze.isub(Be)}return Be.iushln(Ue)},BN.prototype.invm=function invm(Ee){return this.egcd(Ee).a.umod(Ee)},BN.prototype.isEven=function isEven(){return 0==(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return 1==(1&this.words[0])},BN.prototype.andln=function andln(Ee){return this.words[0]&Ee},BN.prototype.bincn=function bincn(Ee){assert("number"==typeof Ee);var ze=Ee%26,Be=(Ee-ze)/26,Ue=1<<ze;if(this.length<=Be)return this._expand(Be+1),this.words[Be]|=Ue,this;for(var We=Ue,$e=Be;0!==We&&$e<this.length;$e++){var Qe=0|this.words[$e];We=(Qe+=We)>>>26,Qe&=67108863,this.words[$e]=Qe}return 0!==We&&(this.words[$e]=We,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(Ee){var ze,Be=Ee<0;if(0!==this.negative&&!Be)return-1;if(0===this.negative&&Be)return 1;if(this.strip(),this.length>1)ze=1;else{Be&&(Ee=-Ee),assert(Ee<=67108863,"Number is too big");var Ue=0|this.words[0];ze=Ue===Ee?0:Ue<Ee?-1:1}return 0!==this.negative?0|-ze:ze},BN.prototype.cmp=function cmp(Ee){if(0!==this.negative&&0===Ee.negative)return-1;if(0===this.negative&&0!==Ee.negative)return 1;var ze=this.ucmp(Ee);return 0!==this.negative?0|-ze:ze},BN.prototype.ucmp=function ucmp(Ee){if(this.length>Ee.length)return 1;if(this.length<Ee.length)return-1;for(var ze=0,Be=this.length-1;Be>=0;Be--){var Ue=0|this.words[Be],We=0|Ee.words[Be];if(Ue!==We){Ue<We?ze=-1:Ue>We&&(ze=1);break}}return ze},BN.prototype.gtn=function gtn(Ee){return 1===this.cmpn(Ee)},BN.prototype.gt=function gt(Ee){return 1===this.cmp(Ee)},BN.prototype.gten=function gten(Ee){return this.cmpn(Ee)>=0},BN.prototype.gte=function gte(Ee){return this.cmp(Ee)>=0},BN.prototype.ltn=function ltn(Ee){return-1===this.cmpn(Ee)},BN.prototype.lt=function lt(Ee){return-1===this.cmp(Ee)},BN.prototype.lten=function lten(Ee){return this.cmpn(Ee)<=0},BN.prototype.lte=function lte(Ee){return this.cmp(Ee)<=0},BN.prototype.eqn=function eqn(Ee){return 0===this.cmpn(Ee)},BN.prototype.eq=function eq(Ee){return 0===this.cmp(Ee)},BN.red=function red(Ee){return new Red(Ee)},BN.prototype.toRed=function toRed(Ee){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),Ee.convertTo(this)._forceRed(Ee)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(Ee){return this.red=Ee,this},BN.prototype.forceRed=function forceRed(Ee){return assert(!this.red,"Already a number in reduction context"),this._forceRed(Ee)},BN.prototype.redAdd=function redAdd(Ee){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,Ee)},BN.prototype.redIAdd=function redIAdd(Ee){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ee)},BN.prototype.redSub=function redSub(Ee){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,Ee)},BN.prototype.redISub=function redISub(Ee){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,Ee)},BN.prototype.redShl=function redShl(Ee){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,Ee)},BN.prototype.redMul=function redMul(Ee){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ee),this.red.mul(this,Ee)},BN.prototype.redIMul=function redIMul(Ee){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ee),this.red.imul(this,Ee)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(Ee){return assert(this.red&&!Ee.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ee)};var tt={k256:null,p224:null,p192:null,p25519:null};function MPrime(Ee,ze){this.name=Ee,this.p=new BN(ze,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(Ee){if("string"==typeof Ee){var ze=BN._prime(Ee);this.m=ze.p,this.prime=ze}else assert(Ee.gtn(1),"modulus must be greater than 1"),this.m=Ee,this.prime=null}function Mont(Ee){Red.call(this,Ee),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var Ee=new BN(null);return Ee.words=new Array(Math.ceil(this.n/13)),Ee},MPrime.prototype.ireduce=function ireduce(Ee){var ze,Be=Ee;do{this.split(Be,this.tmp),ze=(Be=(Be=this.imulK(Be)).iadd(this.tmp)).bitLength()}while(ze>this.n);var Ue=ze<this.n?-1:Be.ucmp(this.p);return 0===Ue?(Be.words[0]=0,Be.length=1):Ue>0?Be.isub(this.p):Be.strip(),Be},MPrime.prototype.split=function split(Ee,ze){Ee.iushrn(this.n,0,ze)},MPrime.prototype.imulK=function imulK(Ee){return Ee.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(Ee,ze){for(var Be=Math.min(Ee.length,9),Ue=0;Ue<Be;Ue++)ze.words[Ue]=Ee.words[Ue];if(ze.length=Be,Ee.length<=9)return Ee.words[0]=0,void(Ee.length=1);var We=Ee.words[9];for(ze.words[ze.length++]=4194303&We,Ue=10;Ue<Ee.length;Ue++){var $e=0|Ee.words[Ue];Ee.words[Ue-10]=(4194303&$e)<<4|We>>>22,We=$e}We>>>=22,Ee.words[Ue-10]=We,0===We&&Ee.length>10?Ee.length-=10:Ee.length-=9},K256.prototype.imulK=function imulK(Ee){Ee.words[Ee.length]=0,Ee.words[Ee.length+1]=0,Ee.length+=2;for(var ze=0,Be=0;Be<Ee.length;Be++){var Ue=0|Ee.words[Be];ze+=977*Ue,Ee.words[Be]=67108863&ze,ze=64*Ue+(ze/67108864|0)}return 0===Ee.words[Ee.length-1]&&(Ee.length--,0===Ee.words[Ee.length-1]&&Ee.length--),Ee},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(Ee){for(var ze=0,Be=0;Be<Ee.length;Be++){var Ue=19*(0|Ee.words[Be])+ze,We=67108863&Ue;Ue>>>=26,Ee.words[Be]=We,ze=Ue}return 0!==ze&&(Ee.words[Ee.length++]=ze),Ee},BN._prime=function prime(Ee){if(tt[Ee])return tt[Ee];var prime;if("k256"===Ee)prime=new K256;else if("p224"===Ee)prime=new P224;else if("p192"===Ee)prime=new P192;else{if("p25519"!==Ee)throw new Error("Unknown prime "+Ee);prime=new P25519}return tt[Ee]=prime,prime},Red.prototype._verify1=function _verify1(Ee){assert(0===Ee.negative,"red works only with positives"),assert(Ee.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(Ee,ze){assert(0==(Ee.negative|ze.negative),"red works only with positives"),assert(Ee.red&&Ee.red===ze.red,"red works only with red numbers")},Red.prototype.imod=function imod(Ee){return this.prime?this.prime.ireduce(Ee)._forceRed(this):Ee.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(Ee){return Ee.isZero()?Ee.clone():this.m.sub(Ee)._forceRed(this)},Red.prototype.add=function add(Ee,ze){this._verify2(Ee,ze);var Be=Ee.add(ze);return Be.cmp(this.m)>=0&&Be.isub(this.m),Be._forceRed(this)},Red.prototype.iadd=function iadd(Ee,ze){this._verify2(Ee,ze);var Be=Ee.iadd(ze);return Be.cmp(this.m)>=0&&Be.isub(this.m),Be},Red.prototype.sub=function sub(Ee,ze){this._verify2(Ee,ze);var Be=Ee.sub(ze);return Be.cmpn(0)<0&&Be.iadd(this.m),Be._forceRed(this)},Red.prototype.isub=function isub(Ee,ze){this._verify2(Ee,ze);var Be=Ee.isub(ze);return Be.cmpn(0)<0&&Be.iadd(this.m),Be},Red.prototype.shl=function shl(Ee,ze){return this._verify1(Ee),this.imod(Ee.ushln(ze))},Red.prototype.imul=function imul(Ee,ze){return this._verify2(Ee,ze),this.imod(Ee.imul(ze))},Red.prototype.mul=function mul(Ee,ze){return this._verify2(Ee,ze),this.imod(Ee.mul(ze))},Red.prototype.isqr=function isqr(Ee){return this.imul(Ee,Ee.clone())},Red.prototype.sqr=function sqr(Ee){return this.mul(Ee,Ee)},Red.prototype.sqrt=function sqrt(Ee){if(Ee.isZero())return Ee.clone();var ze=this.m.andln(3);if(assert(ze%2==1),3===ze){var Be=this.m.add(new BN(1)).iushrn(2);return this.pow(Ee,Be)}for(var Ue=this.m.subn(1),We=0;!Ue.isZero()&&0===Ue.andln(1);)We++,Ue.iushrn(1);assert(!Ue.isZero());var $e=new BN(1).toRed(this),Qe=$e.redNeg(),et=this.m.subn(1).iushrn(1),tt=this.m.bitLength();for(tt=new BN(2*tt*tt).toRed(this);0!==this.pow(tt,et).cmp(Qe);)tt.redIAdd(Qe);for(var rt=this.pow(tt,Ue),nt=this.pow(Ee,Ue.addn(1).iushrn(1)),at=this.pow(Ee,Ue),it=We;0!==at.cmp($e);){for(var ct=at,ft=0;0!==ct.cmp($e);ft++)ct=ct.redSqr();assert(ft<it);var xt=this.pow(rt,new BN(1).iushln(it-ft-1));nt=nt.redMul(xt),rt=xt.redSqr(),at=at.redMul(rt),it=ft}return nt},Red.prototype.invm=function invm(Ee){var ze=Ee._invmp(this.m);return 0!==ze.negative?(ze.negative=0,this.imod(ze).redNeg()):this.imod(ze)},Red.prototype.pow=function pow(Ee,ze){if(ze.isZero())return new BN(1).toRed(this);if(0===ze.cmpn(1))return Ee.clone();var Be=new Array(16);Be[0]=new BN(1).toRed(this),Be[1]=Ee;for(var Ue=2;Ue<Be.length;Ue++)Be[Ue]=this.mul(Be[Ue-1],Ee);var We=Be[0],$e=0,Qe=0,et=ze.bitLength()%26;for(0===et&&(et=26),Ue=ze.length-1;Ue>=0;Ue--){for(var tt=ze.words[Ue],rt=et-1;rt>=0;rt--){var nt=tt>>rt&1;We!==Be[0]&&(We=this.sqr(We)),0!==nt||0!==$e?($e<<=1,$e|=nt,(4===++Qe||0===Ue&&0===rt)&&(We=this.mul(We,Be[$e]),Qe=0,$e=0)):Qe=0}et=26}return We},Red.prototype.convertTo=function convertTo(Ee){var ze=Ee.umod(this.m);return ze===Ee?ze.clone():ze},Red.prototype.convertFrom=function convertFrom(Ee){var ze=Ee.clone();return ze.red=null,ze},BN.mont=function mont(Ee){return new Mont(Ee)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(Ee){return this.imod(Ee.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(Ee){var ze=this.imod(Ee.mul(this.rinv));return ze.red=null,ze},Mont.prototype.imul=function imul(Ee,ze){if(Ee.isZero()||ze.isZero())return Ee.words[0]=0,Ee.length=1,Ee;var Be=Ee.imul(ze),Ue=Be.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),We=Be.isub(Ue).iushrn(this.shift),$e=We;return We.cmp(this.m)>=0?$e=We.isub(this.m):We.cmpn(0)<0&&($e=We.iadd(this.m)),$e._forceRed(this)},Mont.prototype.mul=function mul(Ee,ze){if(Ee.isZero()||ze.isZero())return new BN(0)._forceRed(this);var Be=Ee.mul(ze),Ue=Be.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),We=Be.isub(Ue).iushrn(this.shift),$e=We;return We.cmp(this.m)>=0?$e=We.isub(this.m):We.cmpn(0)<0&&($e=We.iadd(this.m)),$e._forceRed(this)},Mont.prototype.invm=function invm(Ee){return this.imod(Ee._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee,this)}).call(this,Be("62e4")(Ee))},"3a04":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function sceneUpdate(Ee,ze){var Be=ze._scene,We={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},$e={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return ze._scene||((Be=ze._scene={}).init=function init(){Ue.extendFlat(Be,$e,We)},Be.init(),Be.update=function update(Ee){var ze=Ue.repeat(Ee,Be.count);if(Be.fill2d&&Be.fill2d.update(ze),Be.scatter2d&&Be.scatter2d.update(ze),Be.line2d&&Be.line2d.update(ze),Be.error2d&&Be.error2d.update(ze.concat(ze)),Be.select2d&&Be.select2d.update(ze),Be.glText)for(var We=0;We<Be.count;We++)Be.glText[We].update(Ee)},Be.draw=function draw(){for(var Ee=Be.count,ze=Be.fill2d,We=Be.error2d,$e=Be.line2d,Qe=Be.scatter2d,et=Be.glText,tt=Be.select2d,rt=Be.selectBatch,nt=Be.unselectBatch,at=0;at<Ee;at++){if(ze&&Be.fillOrder[at]&&ze.draw(Be.fillOrder[at]),$e&&Be.lineOptions[at]&&$e.draw(at),We&&(Be.errorXOptions[at]&&We.draw(at),Be.errorYOptions[at]&&We.draw(at+Ee)),Qe&&Be.markerOptions[at])if(nt[at].length){var it=Ue.repeat([],Be.count);it[at]=nt[at],Qe.draw(it)}else rt[at].length||Qe.draw(at);et[at]&&Be.textOptions[at]&&et[at].render()}tt&&tt.draw(rt),Be.dirty=!1},Be.destroy=function destroy(){Be.fill2d&&Be.fill2d.destroy&&Be.fill2d.destroy(),Be.scatter2d&&Be.scatter2d.destroy&&Be.scatter2d.destroy(),Be.error2d&&Be.error2d.destroy&&Be.error2d.destroy(),Be.line2d&&Be.line2d.destroy&&Be.line2d.destroy(),Be.select2d&&Be.select2d.destroy&&Be.select2d.destroy(),Be.glText&&Be.glText.forEach((function(Ee){Ee.destroy&&Ee.destroy()})),Be.lineOptions=null,Be.fillOptions=null,Be.markerOptions=null,Be.markerSelectedOptions=null,Be.markerUnselectedOptions=null,Be.errorXOptions=null,Be.errorYOptions=null,Be.textOptions=null,Be.textSelectedOptions=null,Be.textUnselectedOptions=null,Be.selectBatch=null,Be.unselectBatch=null,ze._scene=null}),Be.dirty||Ue.extendFlat(Be,We),Be}},"3a19":function(Ee,ze){Ee.exports=function round(Ee,ze){return Ee[0]=Math.round(ze[0]),Ee[1]=Math.round(ze[1]),Ee[2]=Math.round(ze[2]),Ee}},"3a55":function(Ee,ze,Be){"use strict";Ee.exports=function findZeroCrossings(Ee,ze){var Be=[];return ze=+ze||0,Ue(Ee.hi(Ee.shape[0]-1),Be,ze),Be};var Ue=Be("b530")},"3a99":function(Ee,ze,Be){var Ue=Be("6e58"),We=Be("fc26").extendDeepAll,$e=Be("63dc").MID_SHIFT,Qe=Ee.exports={version:"0.2.2"};Qe.Axis=function module(){var Ee,ze,Be,et,tt={data:[],layout:{}},rt={},nt={},at=Ue.dispatch("hover"),it={};return it.render=function(rt){return function render(rt){ze=rt||ze;var at=tt.data,ct=tt.layout;return("string"==typeof ze||ze.nodeName)&&(ze=Ue.select(ze)),ze.datum(at).each((function(ze,tt){var rt=ze.slice();nt={data:Qe.util.cloneJson(rt),layout:Qe.util.cloneJson(ct)};var at=0;rt.forEach((function(Ee,ze){Ee.color||(Ee.color=ct.defaultColorRange[at],at=(at+1)%ct.defaultColorRange.length),Ee.strokeColor||(Ee.strokeColor="LinePlot"===Ee.geometry?Ee.color:Ue.rgb(Ee.color).darker().toString()),nt.data[ze].color=Ee.color,nt.data[ze].strokeColor=Ee.strokeColor,nt.data[ze].strokeDash=Ee.strokeDash,nt.data[ze].strokeSize=Ee.strokeSize}));var it=rt.filter((function(Ee,ze){var Be=Ee.visible;return void 0===Be||!0===Be})),ft=!1,xt=it.map((function(Ee,ze){return ft=ft||void 0!==Ee.groupId,Ee}));if(ft){var kt=Ue.nest().key((function(Ee,ze){return void 0!==Ee.groupId?Ee.groupId:"unstacked"})).entries(xt),Lt=[],Ut=kt.map((function(Ee,ze){if("unstacked"===Ee.key)return Ee.values;var Be=Ee.values[0].r.map((function(Ee,ze){return 0}));return Ee.values.forEach((function(Ee,ze,Ue){Ee.yStack=[Be],Lt.push(Be),Be=Qe.util.sumArrays(Ee.r,Be)})),Ee.values}));it=Ue.merge(Ut)}it.forEach((function(Ee,ze){Ee.t=Array.isArray(Ee.t[0])?Ee.t:[Ee.t],Ee.r=Array.isArray(Ee.r[0])?Ee.r:[Ee.r]}));var er=Math.min(ct.width-ct.margin.left-ct.margin.right,ct.height-ct.margin.top-ct.margin.bottom)/2;er=Math.max(10,er);var tr,rr=[ct.margin.left+er,ct.margin.top+er];ft?tr=[0,Ue.max(Qe.util.sumArrays(Qe.util.arrayLast(it).r[0],Qe.util.arrayLast(Lt)))]:tr=Ue.extent(Qe.util.flattenArray(it.map((function(Ee,ze){return Ee.r}))));ct.radialAxis.domain!=Qe.DATAEXTENT&&(tr[0]=0),Be=Ue.scale.linear().domain(ct.radialAxis.domain!=Qe.DATAEXTENT&&ct.radialAxis.domain?ct.radialAxis.domain:tr).range([0,er]),nt.layout.radialAxis.domain=Be.domain();var ar,Lr=Qe.util.flattenArray(it.map((function(Ee,ze){return Ee.t}))),Qr="string"==typeof Lr[0];Qr&&(Lr=Qe.util.deduplicate(Lr),ar=Lr.slice(),Lr=Ue.range(Lr.length),it=it.map((function(Ee,ze){var Be=Ee;return Ee.t=[Lr],ft&&(Be.yStack=Ee.yStack),Be})));var on=it.filter((function(Ee,ze){return"LinePlot"===Ee.geometry||"DotPlot"===Ee.geometry})).length===it.length,sn=null===ct.needsEndSpacing?Qr||!on:ct.needsEndSpacing,ln=ct.angularAxis.domain&&ct.angularAxis.domain!=Qe.DATAEXTENT&&!Qr&&ct.angularAxis.domain[0]>=0?ct.angularAxis.domain:Ue.extent(Lr),cn=Math.abs(Lr[1]-Lr[0]);on&&!Qr&&(cn=0);var un=ln.slice();sn&&Qr&&(un[1]+=cn);var hn=ct.angularAxis.ticksCount||4;hn>8&&(hn=hn/(hn/8)+hn%8),ct.angularAxis.ticksStep&&(hn=(un[1]-un[0])/hn);var dn=ct.angularAxis.ticksStep||(un[1]-un[0])/(hn*(ct.minorTicks+1));ar&&(dn=Math.max(Math.round(dn),1)),un[2]||(un[2]=dn);var vn=Ue.range.apply(this,un);if(vn=vn.map((function(Ee,ze){return parseFloat(Ee.toPrecision(12))})),et=Ue.scale.linear().domain(un.slice(0,2)).range("clockwise"===ct.direction?[0,360]:[360,0]),nt.layout.angularAxis.domain=et.domain(),nt.layout.angularAxis.endPadding=sn?cn:0,void 0===(Ee=Ue.select(this).select("svg.chart-root"))||Ee.empty()){var yn=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),_n=this.appendChild(this.ownerDocument.importNode(yn.documentElement,!0));Ee=Ue.select(_n)}Ee.select(".guides-group").style({"pointer-events":"none"}),Ee.select(".angular.axis-group").style({"pointer-events":"none"}),Ee.select(".radial.axis-group").style({"pointer-events":"none"});var Mn,Cn=Ee.select(".chart-group"),En={fill:"none",stroke:ct.tickColor},Pn={"font-size":ct.font.size,"font-family":ct.font.family,fill:ct.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(Ee,ze){return" "+Ee+" 0 "+ct.font.outlineColor})).join(",")};if(ct.showLegend){Mn=Ee.select(".legend-group").attr({transform:"translate("+[er,ct.margin.top]+")"}).style({display:"block"});var In=it.map((function(Ee,ze){var Be=Qe.util.cloneJson(Ee);return Be.symbol="DotPlot"===Ee.geometry?Ee.dotType||"circle":"LinePlot"!=Ee.geometry?"square":"line",Be.visibleInLegend=void 0===Ee.visibleInLegend||Ee.visibleInLegend,Be.color="LinePlot"===Ee.geometry?Ee.strokeColor:Ee.color,Be}));Qe.Legend().config({data:it.map((function(Ee,ze){return Ee.name||"Element"+ze})),legendConfig:We({},Qe.Legend.defaultConfig().legendConfig,{container:Mn,elements:In,reverseOrder:ct.legend.reverseOrder})})();var Bn=Mn.node().getBBox();er=Math.min(ct.width-Bn.width-ct.margin.left-ct.margin.right,ct.height-ct.margin.top-ct.margin.bottom)/2,er=Math.max(10,er),rr=[ct.margin.left+er,ct.margin.top+er],Be.range([0,er]),nt.layout.radialAxis.domain=Be.domain(),Mn.attr("transform","translate("+[rr[0]+er,rr[1]-er]+")")}else Mn=Ee.select(".legend-group").style({display:"none"});Ee.attr({width:ct.width,height:ct.height}).style({opacity:ct.opacity}),Cn.attr("transform","translate("+rr+")").style({cursor:"crosshair"});var Hn=[(ct.width-(ct.margin.left+ct.margin.right+2*er+(Bn?Bn.width:0)))/2,(ct.height-(ct.margin.top+ct.margin.bottom+2*er))/2];if(Hn[0]=Math.max(0,Hn[0]),Hn[1]=Math.max(0,Hn[1]),Ee.select(".outer-group").attr("transform","translate("+Hn+")"),ct.title&&ct.title.text){var Kn=Ee.select("g.title-group text").style(Pn).text(ct.title.text),Jn=Kn.node().getBBox();Kn.attr({x:rr[0]-Jn.width/2,y:rr[1]-er-20})}var Ma=Ee.select(".radial.axis-group");if(ct.radialAxis.gridLinesVisible){var Sa=Ma.selectAll("circle.grid-circle").data(Be.ticks(5));Sa.enter().append("circle").attr({class:"grid-circle"}).style(En),Sa.attr("r",Be),Sa.exit().remove()}Ma.select("circle.outside-circle").attr({r:er}).style(En);var La=Ee.select("circle.background-circle").attr({r:er}).style({fill:ct.backgroundColor,stroke:ct.stroke});function currentAngle(Ee,ze){return et(Ee)%360+ct.orientation}if(ct.radialAxis.visible){var Ia=Ue.svg.axis().scale(Be).ticks(5).tickSize(5);Ma.call(Ia).attr({transform:"rotate("+ct.radialAxis.orientation+")"}),Ma.selectAll(".domain").style(En),Ma.selectAll("g>text").text((function(Ee,ze){return this.textContent+ct.radialAxis.ticksSuffix})).style(Pn).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(Ee,ze){return"horizontal"===ct.radialAxis.tickOrientation?"rotate("+-ct.radialAxis.orientation+") translate("+[0,Pn["font-size"]]+")":"translate("+[0,Pn["font-size"]]+")"}}),Ma.selectAll("g>line").style({stroke:"black"})}var Ra=Ee.select(".angular.axis-group").selectAll("g.angular-tick").data(vn),Na=Ra.enter().append("g").classed("angular-tick",!0);Ra.attr({transform:function(Ee,ze){return"rotate("+currentAngle(Ee)+")"}}).style({display:ct.angularAxis.visible?"block":"none"}),Ra.exit().remove(),Na.append("line").classed("grid-line",!0).classed("major",(function(Ee,ze){return ze%(ct.minorTicks+1)==0})).classed("minor",(function(Ee,ze){return!(ze%(ct.minorTicks+1)==0)})).style(En),Na.selectAll(".minor").style({stroke:ct.minorTickColor}),Ra.select("line.grid-line").attr({x1:ct.tickLength?er-ct.tickLength:0,x2:er}).style({display:ct.angularAxis.gridLinesVisible?"block":"none"}),Na.append("text").classed("axis-text",!0).style(Pn);var Ua=Ra.select("text.axis-text").attr({x:er+ct.labelOffset,dy:$e+"em",transform:function(Ee,ze){var Be=currentAngle(Ee),Ue=er+ct.labelOffset,We=ct.angularAxis.tickOrientation;return"horizontal"==We?"rotate("+-Be+" "+Ue+" 0)":"radial"==We?Be<270&&Be>90?"rotate(180 "+Ue+" 0)":null:"rotate("+(Be<=180&&Be>0?-90:90)+" "+Ue+" 0)"}}).style({"text-anchor":"middle",display:ct.angularAxis.labelsVisible?"block":"none"}).text((function(Ee,ze){return ze%(ct.minorTicks+1)!=0?"":ar?ar[Ee]+ct.angularAxis.ticksSuffix:Ee+ct.angularAxis.ticksSuffix})).style(Pn);ct.angularAxis.rewriteTicks&&Ua.text((function(Ee,ze){return ze%(ct.minorTicks+1)!=0?"":ct.angularAxis.rewriteTicks(this.textContent,ze)}));var qa=Ue.max(Cn.selectAll(".angular-tick text")[0].map((function(Ee,ze){return Ee.getCTM().e+Ee.getBBox().width})));Mn.attr({transform:"translate("+[er+qa,ct.margin.top]+")"});var Ka=Ee.select("g.geometry-group").selectAll("g").size()>0,ei=Ee.select("g.geometry-group").selectAll("g.geometry").data(it);if(ei.enter().append("g").attr({class:function(Ee,ze){return"geometry geometry"+ze}}),ei.exit().remove(),it[0]||Ka){var ti=[];it.forEach((function(Ee,ze){var Ue={};Ue.radialScale=Be,Ue.angularScale=et,Ue.container=ei.filter((function(Ee,Be){return Be==ze})),Ue.geometry=Ee.geometry,Ue.orientation=ct.orientation,Ue.direction=ct.direction,Ue.index=ze,ti.push({data:Ee,geometryConfig:Ue})}));var ri=Ue.nest().key((function(Ee,ze){return void 0!==Ee.data.groupId||"unstacked"})).entries(ti),ni=[];ri.forEach((function(Ee,ze){"unstacked"===Ee.key?ni=ni.concat(Ee.values.map((function(Ee,ze){return[Ee]}))):ni.push(Ee.values)})),ni.forEach((function(Ee,ze){var Be;Be=Array.isArray(Ee)?Ee[0].geometryConfig.geometry:Ee.geometryConfig.geometry;var Ue=Ee.map((function(Ee,ze){return We(Qe[Be].defaultConfig(),Ee)}));Qe[Be]().config(Ue)()}))}var ai,ii,oi=Ee.select(".guides-group"),si=Ee.select(".tooltips-group"),li=Qe.tooltipPanel().config({container:si,fontSize:8})(),ci=Qe.tooltipPanel().config({container:si,fontSize:8})(),hi=Qe.tooltipPanel().config({container:si,hasTick:!0})();if(!Qr){var Ci=oi.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});Cn.on("mousemove.angular-guide",(function(Ee,ze){var Be=Qe.util.getMousePos(La).angle;Ci.attr({x2:-er,transform:"rotate("+Be+")"}).style({opacity:.5});var Ue=(Be+180+360-ct.orientation)%360;ai=et.invert(Ue);var We=Qe.util.convertToCartesian(er+12,Be+180);li.text(Qe.util.round(ai)).move([We[0]+rr[0],We[1]+rr[1]])})).on("mouseout.angular-guide",(function(Ee,ze){oi.select("line").style({opacity:0})}))}var Pi=oi.select("circle").style({stroke:"grey",fill:"none"});Cn.on("mousemove.radial-guide",(function(Ee,ze){var Ue=Qe.util.getMousePos(La).radius;Pi.attr({r:Ue}).style({opacity:.5}),ii=Be.invert(Qe.util.getMousePos(La).radius);var We=Qe.util.convertToCartesian(Ue,ct.radialAxis.orientation);ci.text(Qe.util.round(ii)).move([We[0]+rr[0],We[1]+rr[1]])})).on("mouseout.radial-guide",(function(Ee,ze){Pi.style({opacity:0}),hi.hide(),li.hide(),ci.hide()})),Ee.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(ze,Be){var We=Ue.select(this),$e=this.style.fill,et="black",tt=this.style.opacity||1;if(We.attr({"data-opacity":tt}),$e&&"none"!==$e){We.attr({"data-fill":$e}),et=Ue.hsl($e).darker().toString(),We.style({fill:et,opacity:1});var rt={t:Qe.util.round(ze[0]),r:Qe.util.round(ze[1])};Qr&&(rt.t=ar[ze[0]]);var nt="t: "+rt.t+", r: "+rt.r,at=this.getBoundingClientRect(),it=Ee.node().getBoundingClientRect(),ct=[at.left+at.width/2-Hn[0]-it.left,at.top+at.height/2-Hn[1]-it.top];hi.config({color:et}).text(nt),hi.move(ct)}else $e=this.style.stroke||"black",We.attr({"data-stroke":$e}),et=Ue.hsl($e).darker().toString(),We.style({stroke:et,opacity:1})})).on("mousemove.tooltip",(function(Ee,ze){if(0!=Ue.event.which)return!1;Ue.select(this).attr("data-fill")&&hi.show()})).on("mouseout.tooltip",(function(Ee,ze){hi.hide();var Be=Ue.select(this),We=Be.attr("data-fill");We?Be.style({fill:We,opacity:Be.attr("data-opacity")}):Be.style({stroke:Be.attr("data-stroke"),opacity:Be.attr("data-opacity")})}))})),it}(rt),this},it.config=function(Ee){if(!arguments.length)return tt;var ze=Qe.util.cloneJson(Ee);return ze.data.forEach((function(Ee,ze){tt.data[ze]||(tt.data[ze]={}),We(tt.data[ze],Qe.Axis.defaultConfig().data[0]),We(tt.data[ze],Ee)})),We(tt.layout,Qe.Axis.defaultConfig().layout),We(tt.layout,ze.layout),this},it.getLiveConfig=function(){return nt},it.getinputConfig=function(){return rt},it.radialScale=function(Ee){return Be},it.angularScale=function(Ee){return et},it.svg=function(){return Ee},Ue.rebind(it,at,"on"),it},Qe.Axis.defaultConfig=function(Ee,ze){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:Ue.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},Qe.util={},Qe.DATAEXTENT="dataExtent",Qe.AREA="AreaChart",Qe.LINE="LinePlot",Qe.DOT="DotPlot",Qe.BAR="BarChart",Qe.util._override=function(Ee,ze){for(var Be in Ee)Be in ze&&(ze[Be]=Ee[Be])},Qe.util._extend=function(Ee,ze){for(var Be in Ee)ze[Be]=Ee[Be]},Qe.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},Qe.util.dataFromEquation2=function(Ee,ze){var Be=ze||6;return Ue.range(0,360+Be,Be).map((function(ze,Be){var Ue=ze*Math.PI/180;return[ze,Ee(Ue)]}))},Qe.util.dataFromEquation=function(Ee,ze,Be){var We=ze||6,$e=[],Qe=[];Ue.range(0,360+We,We).forEach((function(ze,Be){var Ue=ze*Math.PI/180,We=Ee(Ue);$e.push(ze),Qe.push(We)}));var et={t:$e,r:Qe};return Be&&(et.name=Be),et},Qe.util.ensureArray=function(Ee,ze){if(void 0===Ee)return null;var Be=[].concat(Ee);return Ue.range(ze).map((function(Ee,ze){return Be[ze]||Be[0]}))},Qe.util.fillArrays=function(Ee,ze,Be){return ze.forEach((function(ze,Ue){Ee[ze]=Qe.util.ensureArray(Ee[ze],Be)})),Ee},Qe.util.cloneJson=function(Ee){return JSON.parse(JSON.stringify(Ee))},Qe.util.validateKeys=function(Ee,ze){"string"==typeof ze&&(ze=ze.split("."));var Be=ze.shift();return Ee[Be]&&(!ze.length||objHasKeys(Ee[Be],ze))},Qe.util.sumArrays=function(Ee,ze){return Ue.zip(Ee,ze).map((function(Ee,ze){return Ue.sum(Ee)}))},Qe.util.arrayLast=function(Ee){return Ee[Ee.length-1]},Qe.util.arrayEqual=function(Ee,ze){for(var Be=Math.max(Ee.length,ze.length,1);Be-- >=0&&Ee[Be]===ze[Be];);return-2===Be},Qe.util.flattenArray=function(Ee){for(var ze=[];!Qe.util.arrayEqual(ze,Ee);)ze=Ee,Ee=[].concat.apply([],Ee);return Ee},Qe.util.deduplicate=function(Ee){return Ee.filter((function(Ee,ze,Be){return Be.indexOf(Ee)==ze}))},Qe.util.convertToCartesian=function(Ee,ze){var Be=ze*Math.PI/180;return[Ee*Math.cos(Be),Ee*Math.sin(Be)]},Qe.util.round=function(Ee,ze){var Be=ze||2,Ue=Math.pow(10,Be);return Math.round(Ee*Ue)/Ue},Qe.util.getMousePos=function(Ee){var ze=Ue.mouse(Ee.node()),Be=ze[0],We=ze[1],$e={};return $e.x=Be,$e.y=We,$e.pos=ze,$e.angle=180*(Math.atan2(We,Be)+Math.PI)/Math.PI,$e.radius=Math.sqrt(Be*Be+We*We),$e},Qe.util.duplicatesCount=function(Ee){for(var ze,Be={},Ue={},We=0,$e=Ee.length;We<$e;We++)(ze=Ee[We])in Be?(Be[ze]++,Ue[ze]=Be[ze]):Be[ze]=1;return Ue},Qe.util.duplicates=function(Ee){return Object.keys(Qe.util.duplicatesCount(Ee))},Qe.util.translator=function(Ee,ze,Be,Ue){if(Ue){var We=Be.slice();Be=ze,ze=We}var $e=ze.reduce((function(Ee,ze){if(void 0!==Ee)return Ee[ze]}),Ee);void 0!==$e&&(ze.reduce((function(Ee,Be,Ue){if(void 0!==Ee)return Ue===ze.length-1&&delete Ee[Be],Ee[Be]}),Ee),Be.reduce((function(Ee,ze,Ue){return void 0===Ee[ze]&&(Ee[ze]={}),Ue===Be.length-1&&(Ee[ze]=$e),Ee[ze]}),Ee))},Qe.PolyChart=function module(){var Ee=[Qe.PolyChart.defaultConfig()],ze=Ue.dispatch("hover"),Be={solid:"none",dash:[5,2],dot:[2,5]};function exports(){var ze=Ee[0].geometryConfig,We=ze.container;"string"==typeof We&&(We=Ue.select(We)),We.datum(Ee).each((function(Ee,We){var $e=!!Ee[0].data.yStack,Qe=Ee.map((function(Ee,ze){return $e?Ue.zip(Ee.data.t[0],Ee.data.r[0],Ee.data.yStack[0]):Ue.zip(Ee.data.t[0],Ee.data.r[0])})),et=ze.angularScale,tt=ze.radialScale.domain()[0],rt={bar:function(Be,We,$e){var Qe=Ee[$e].data,tt=ze.radialScale(Be[1])-ze.radialScale(0),rt=ze.radialScale(Be[2]||0),nt=Qe.barWidth;Ue.select(this).attr({class:"mark bar",d:"M"+[[tt+rt,-nt/2],[tt+rt,nt/2],[rt,nt/2],[rt,-nt/2]].join("L")+"Z",transform:function(Ee,Be){return"rotate("+(ze.orientation+et(Ee[0]))+")"}})}};rt.dot=function(Be,We,$e){var Qe=Be[2]?[Be[0],Be[1]+Be[2]]:Be,et=Ue.svg.symbol().size(Ee[$e].data.dotSize).type(Ee[$e].data.dotType)(Be,We);Ue.select(this).attr({class:"mark dot",d:et,transform:function(Ee,Be){var Ue=function convertToCartesian(Ee){var ze=Ee.r*Math.cos(Ee.t),Be=Ee.r*Math.sin(Ee.t);return{x:ze,y:Be}}(function getPolarCoordinates(Ee,Be){var Ue=ze.radialScale(Ee[1]),We=(ze.angularScale(Ee[0])+ze.orientation)*Math.PI/180;return{r:Ue,t:We}}(Qe));return"translate("+[Ue.x,Ue.y]+")"}})};var nt=Ue.svg.line.radial().interpolate(Ee[0].data.lineInterpolation).radius((function(Ee){return ze.radialScale(Ee[1])})).angle((function(Ee){return ze.angularScale(Ee[0])*Math.PI/180}));rt.line=function(Be,We,$e){var et=Be[2]?Qe[$e].map((function(Ee,ze){return[Ee[0],Ee[1]+Ee[2]]})):Qe[$e];if(Ue.select(this).each(rt.dot).style({opacity:function(ze,Be){return+Ee[$e].data.dotVisible},fill:ft.stroke(Be,We,$e)}).attr({class:"mark dot"}),!(We>0)){var tt=Ue.select(this.parentNode).selectAll("path.line").data([0]);tt.enter().insert("path"),tt.attr({class:"line",d:nt(et),transform:function(Ee,Be){return"rotate("+(ze.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(Ee,ze){return ft.fill(Be,We,$e)},"fill-opacity":0,stroke:function(Ee,ze){return ft.stroke(Be,We,$e)},"stroke-width":function(Ee,ze){return ft["stroke-width"](Be,We,$e)},"stroke-dasharray":function(Ee,ze){return ft["stroke-dasharray"](Be,We,$e)},opacity:function(Ee,ze){return ft.opacity(Be,We,$e)},display:function(Ee,ze){return ft.display(Be,We,$e)}})}};var at=ze.angularScale.range(),it=Math.abs(at[1]-at[0])/Qe[0].length*Math.PI/180,ct=Ue.svg.arc().startAngle((function(Ee){return-it/2})).endAngle((function(Ee){return it/2})).innerRadius((function(Ee){return ze.radialScale(tt+(Ee[2]||0))})).outerRadius((function(Ee){return ze.radialScale(tt+(Ee[2]||0))+ze.radialScale(Ee[1])}));rt.arc=function(Ee,Be,We){Ue.select(this).attr({class:"mark arc",d:ct,transform:function(Ee,Be){return"rotate("+(ze.orientation+et(Ee[0])+90)+")"}})};var ft={fill:function(ze,Be,Ue){return Ee[Ue].data.color},stroke:function(ze,Be,Ue){return Ee[Ue].data.strokeColor},"stroke-width":function(ze,Be,Ue){return Ee[Ue].data.strokeSize+"px"},"stroke-dasharray":function(ze,Ue,We){return Be[Ee[We].data.strokeDash]},opacity:function(ze,Be,Ue){return Ee[Ue].data.opacity},display:function(ze,Be,Ue){return void 0===Ee[Ue].data.visible||Ee[Ue].data.visible?"block":"none"}},xt=Ue.select(this).selectAll("g.layer").data(Qe);xt.enter().append("g").attr({class:"layer"});var kt=xt.selectAll("path.mark").data((function(Ee,ze){return Ee}));kt.enter().append("path").attr({class:"mark"}),kt.style(ft).each(rt[ze.geometryType]),kt.exit().remove(),xt.exit().remove()}))}return exports.config=function(ze){return arguments.length?(ze.forEach((function(ze,Be){Ee[Be]||(Ee[Be]={}),We(Ee[Be],Qe.PolyChart.defaultConfig()),We(Ee[Be],ze)})),this):Ee},exports.getColorScale=function(){},Ue.rebind(exports,ze,"on"),exports},Qe.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:Ue.scale.category20()}}},Qe.BarChart=function module(){return Qe.PolyChart()},Qe.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},Qe.AreaChart=function module(){return Qe.PolyChart()},Qe.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},Qe.DotPlot=function module(){return Qe.PolyChart()},Qe.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},Qe.LinePlot=function module(){return Qe.PolyChart()},Qe.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},Qe.Legend=function module(){var Ee=Qe.Legend.defaultConfig(),ze=Ue.dispatch("hover");function exports(){var ze=Ee.legendConfig,Be=Ee.data.map((function(Ee,Be){return[].concat(Ee).map((function(Ee,Ue){var $e=We({},ze.elements[Be]);return $e.name=Ee,$e.color=[].concat(ze.elements[Be].color)[Ue],$e}))})),$e=Ue.merge(Be);$e=$e.filter((function(Ee,Be){return ze.elements[Be]&&(ze.elements[Be].visibleInLegend||void 0===ze.elements[Be].visibleInLegend)})),ze.reverseOrder&&($e=$e.reverse());var Qe=ze.container;("string"==typeof Qe||Qe.nodeName)&&(Qe=Ue.select(Qe));var et=$e.map((function(Ee,ze){return Ee.color})),tt=ze.fontSize,rt=null==ze.isContinuous?"number"==typeof $e[0]:ze.isContinuous,nt=rt?ze.height:tt*$e.length,at=Qe.classed("legend-group",!0).selectAll("svg").data([0]),it=at.enter().append("svg").attr({width:300,height:nt+tt,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});it.append("g").classed("legend-axis",!0),it.append("g").classed("legend-marks",!0);var ct=Ue.range($e.length),ft=Ue.scale[rt?"linear":"ordinal"]().domain(ct).range(et),xt=Ue.scale[rt?"linear":"ordinal"]().domain(ct)[rt?"range":"rangePoints"]([0,nt]);if(rt){var kt=at.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(et);kt.enter().append("stop"),kt.attr({offset:function(Ee,ze){return ze/(et.length-1)*100+"%"}}).style({"stop-color":function(Ee,ze){return Ee}}),at.append("rect").classed("legend-mark",!0).attr({height:ze.height,width:ze.colorBandWidth,fill:"url(#grad1)"})}else{var Lt=at.select(".legend-marks").selectAll("path.legend-mark").data($e);Lt.enter().append("path").classed("legend-mark",!0),Lt.attr({transform:function(Ee,ze){return"translate("+[tt/2,xt(ze)+tt/2]+")"},d:function(Ee,ze){var Be,We,$e,Qe=Ee.symbol;return $e=3*(We=tt),"line"===(Be=Qe)?"M"+[[-We/2,-We/12],[We/2,-We/12],[We/2,We/12],[-We/2,We/12]]+"Z":-1!=Ue.svg.symbolTypes.indexOf(Be)?Ue.svg.symbol().type(Be).size($e)():Ue.svg.symbol().type("square").size($e)()},fill:function(Ee,ze){return ft(ze)}}),Lt.exit().remove()}var Ut=Ue.svg.axis().scale(xt).orient("right"),er=at.select("g.legend-axis").attr({transform:"translate("+[rt?ze.colorBandWidth:tt,tt/2]+")"}).call(Ut);return er.selectAll(".domain").style({fill:"none",stroke:"none"}),er.selectAll("line").style({fill:"none",stroke:rt?ze.textColor:"none"}),er.selectAll("text").style({fill:ze.textColor,"font-size":ze.fontSize}).text((function(Ee,ze){return $e[ze].name})),exports}return exports.config=function(ze){return arguments.length?(We(Ee,ze),this):Ee},Ue.rebind(exports,ze,"on"),exports},Qe.Legend.defaultConfig=function(Ee,ze){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},Qe.tooltipPanel=function(){var Ee,ze,Be,$e={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},et="tooltip-"+Qe.tooltipPanel.uid++,tt=10,exports=function(){var Ue=(Ee=$e.container.selectAll("g."+et).data([0])).enter().append("g").classed(et,!0).style({"pointer-events":"none",display:"none"});return Be=Ue.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),ze=Ue.append("text").attr({dx:$e.padding+tt,dy:.3*+$e.fontSize}),exports};return exports.text=function(We){var Qe=Ue.hsl($e.color).l,et=Qe>=.5?"#aaa":"white",rt=Qe>=.5?"black":"white",nt=We||"";ze.style({fill:rt,"font-size":$e.fontSize+"px"}).text(nt);var at=$e.padding,it=ze.node().getBBox(),ct={fill:$e.color,stroke:et,"stroke-width":"2px"},ft=it.width+2*at+tt,xt=it.height+2*at;return Be.attr({d:"M"+[[tt,-xt/2],[tt,-xt/4],[$e.hasTick?0:tt,0],[tt,xt/4],[tt,xt/2],[ft,xt/2],[ft,-xt/2]].join("L")+"Z"}).style(ct),Ee.attr({transform:"translate("+[tt,-xt/2+2*at]+")"}),Ee.style({display:"block"}),exports},exports.move=function(ze){if(Ee)return Ee.attr({transform:"translate("+[ze[0],ze[1]]+")"}).style({display:"block"}),exports},exports.hide=function(){if(Ee)return Ee.style({display:"none"}),exports},exports.show=function(){if(Ee)return Ee.style({display:"block"}),exports},exports.config=function(Ee){return We($e,Ee),exports},exports},Qe.tooltipPanel.uid=1,Qe.adapter={},Qe.adapter.plotly=function module(){var Ee={convert:function(Ee,ze){var Be={};if(Ee.data&&(Be.data=Ee.data.map((function(Ee,Be){var Ue=We({},Ee);return[[Ue,["marker","color"],["color"]],[Ue,["marker","opacity"],["opacity"]],[Ue,["marker","line","color"],["strokeColor"]],[Ue,["marker","line","dash"],["strokeDash"]],[Ue,["marker","line","width"],["strokeSize"]],[Ue,["marker","symbol"],["dotType"]],[Ue,["marker","size"],["dotSize"]],[Ue,["marker","barWidth"],["barWidth"]],[Ue,["line","interpolation"],["lineInterpolation"]],[Ue,["showlegend"],["visibleInLegend"]]].forEach((function(Ee,Be){Qe.util.translator.apply(null,Ee.concat(ze))})),ze||delete Ue.marker,ze&&delete Ue.groupId,ze?("LinePlot"===Ue.geometry?(Ue.type="scatter",!0===Ue.dotVisible?(delete Ue.dotVisible,Ue.mode="lines+markers"):Ue.mode="lines"):"DotPlot"===Ue.geometry?(Ue.type="scatter",Ue.mode="markers"):"AreaChart"===Ue.geometry?Ue.type="area":"BarChart"===Ue.geometry&&(Ue.type="bar"),delete Ue.geometry):("scatter"===Ue.type?"lines"===Ue.mode?Ue.geometry="LinePlot":"markers"===Ue.mode?Ue.geometry="DotPlot":"lines+markers"===Ue.mode&&(Ue.geometry="LinePlot",Ue.dotVisible=!0):"area"===Ue.type?Ue.geometry="AreaChart":"bar"===Ue.type&&(Ue.geometry="BarChart"),delete Ue.mode,delete Ue.type),Ue})),!ze&&Ee.layout&&"stack"===Ee.layout.barmode)){var $e=Qe.util.duplicates(Be.data.map((function(Ee,ze){return Ee.geometry})));Be.data.forEach((function(Ee,ze){var Ue=$e.indexOf(Ee.geometry);-1!=Ue&&(Be.data[ze].groupId=Ue)}))}if(Ee.layout){var et=We({},Ee.layout);if([[et,["plot_bgcolor"],["backgroundColor"]],[et,["showlegend"],["showLegend"]],[et,["radialaxis"],["radialAxis"]],[et,["angularaxis"],["angularAxis"]],[et.angularaxis,["showline"],["gridLinesVisible"]],[et.angularaxis,["showticklabels"],["labelsVisible"]],[et.angularaxis,["nticks"],["ticksCount"]],[et.angularaxis,["tickorientation"],["tickOrientation"]],[et.angularaxis,["ticksuffix"],["ticksSuffix"]],[et.angularaxis,["range"],["domain"]],[et.angularaxis,["endpadding"],["endPadding"]],[et.radialaxis,["showline"],["gridLinesVisible"]],[et.radialaxis,["tickorientation"],["tickOrientation"]],[et.radialaxis,["ticksuffix"],["ticksSuffix"]],[et.radialaxis,["range"],["domain"]],[et.angularAxis,["showline"],["gridLinesVisible"]],[et.angularAxis,["showticklabels"],["labelsVisible"]],[et.angularAxis,["nticks"],["ticksCount"]],[et.angularAxis,["tickorientation"],["tickOrientation"]],[et.angularAxis,["ticksuffix"],["ticksSuffix"]],[et.angularAxis,["range"],["domain"]],[et.angularAxis,["endpadding"],["endPadding"]],[et.radialAxis,["showline"],["gridLinesVisible"]],[et.radialAxis,["tickorientation"],["tickOrientation"]],[et.radialAxis,["ticksuffix"],["ticksSuffix"]],[et.radialAxis,["range"],["domain"]],[et.font,["outlinecolor"],["outlineColor"]],[et.legend,["traceorder"],["reverseOrder"]],[et,["labeloffset"],["labelOffset"]],[et,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(Ee,Be){Qe.util.translator.apply(null,Ee.concat(ze))})),ze?(void 0!==et.tickLength&&(et.angularaxis.ticklen=et.tickLength,delete et.tickLength),et.tickColor&&(et.angularaxis.tickcolor=et.tickColor,delete et.tickColor)):(et.angularAxis&&void 0!==et.angularAxis.ticklen&&(et.tickLength=et.angularAxis.ticklen),et.angularAxis&&void 0!==et.angularAxis.tickcolor&&(et.tickColor=et.angularAxis.tickcolor)),et.legend&&"boolean"!=typeof et.legend.reverseOrder&&(et.legend.reverseOrder="normal"!=et.legend.reverseOrder),et.legend&&"boolean"==typeof et.legend.traceorder&&(et.legend.traceorder=et.legend.traceorder?"reversed":"normal",delete et.legend.reverseOrder),et.margin&&void 0!==et.margin.t){var tt=["t","r","b","l","pad"],rt=["top","right","bottom","left","pad"],nt={};Ue.entries(et.margin).forEach((function(Ee,ze){nt[rt[tt.indexOf(Ee.key)]]=Ee.value})),et.margin=nt}ze&&(delete et.needsEndSpacing,delete et.minorTickColor,delete et.minorTicks,delete et.angularaxis.ticksCount,delete et.angularaxis.ticksCount,delete et.angularaxis.ticksStep,delete et.angularaxis.rewriteTicks,delete et.angularaxis.nticks,delete et.radialaxis.ticksCount,delete et.radialaxis.ticksCount,delete et.radialaxis.ticksStep,delete et.radialaxis.rewriteTicks,delete et.radialaxis.nticks),Be.layout=et}return Be}};return Ee}},"3a9c":function(Ee,ze,Be){"use strict";var Ue=Be("0cec").setGroupPositions;Ee.exports=function crossTraceCalc(Ee,ze){var Be,We,$e=Ee._fullLayout,Qe=Ee._fullData,et=Ee.calcdata,tt=ze.xaxis,rt=ze.yaxis,nt=[],at=[],it=[];for(We=0;We<Qe.length;We++){var ct=Qe[We],ft="h"===ct.orientation;!0===ct.visible&&ct.xaxis===tt._id&&ct.yaxis===rt._id&&"funnel"===ct.type&&(Be=et[We],ft?it.push(Be):at.push(Be),nt.push(Be))}var xt={mode:$e.funnelmode,norm:$e.funnelnorm,gap:$e.funnelgap,groupgap:$e.funnelgroupgap};for(Ue(Ee,tt,rt,at,xt),Ue(Ee,rt,tt,it,xt),We=0;We<nt.length;We++){Be=nt[We];for(var kt=0;kt<Be.length;kt++)kt+1<Be.length&&(Be[kt].nextP0=Be[kt+1].p0,Be[kt].nextS0=Be[kt+1].s0,Be[kt].nextP1=Be[kt+1].p1,Be[kt].nextS1=Be[kt+1].s1)}}},"3aa8":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("215c").extractOpts;Ee.exports=function calc(Ee,ze,Be){var Qe,et=Ee._fullLayout,tt=Be.vals,rt=Be.containerStr,nt=rt?We.nestedProperty(ze,rt).get():ze,at=$e(nt),it=!1!==at.auto,ct=at.min,ft=at.max,xt=at.mid,minVal=function(){return We.aggNums(Math.min,null,tt)},maxVal=function(){return We.aggNums(Math.max,null,tt)};(void 0===ct?ct=minVal():it&&(ct=nt._colorAx&&Ue(ct)?Math.min(ct,minVal()):minVal()),void 0===ft?ft=maxVal():it&&(ft=nt._colorAx&&Ue(ft)?Math.max(ft,maxVal()):maxVal()),it&&void 0!==xt&&(ft-xt>xt-ct?ct=xt-(ft-xt):ft-xt<xt-ct&&(ft=xt+(xt-ct))),ct===ft&&(ct-=.5,ft+=.5),at._sync("min",ct),at._sync("max",ft),at.autocolorscale)&&(Qe=ct*ft<0?et.colorscale.diverging:ct>=0?et.colorscale.sequential:et.colorscale.sequentialminus,at._sync("colorscale",Qe))}},"3af0":function(Ee,ze,Be){"use strict";var Ue=Be("e98f"),We=Ue(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform sampler2D mask, palette;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(mask,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),$e=Ue(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),Qe=Be("f7a4").maxDimensionCount,et=Be("fc26"),tt=new Uint8Array(4),rt=new Uint8Array(4),nt={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function clear(Ee,ze,Be,Ue,We){var $e=Ee._gl;$e.enable($e.SCISSOR_TEST),$e.scissor(ze,Be,Ue,We),Ee.clear({color:[0,0,0,0],depth:1})}function renderBlock(Ee,ze,Be,Ue,We,$e){var Qe=$e.key;Be.drawCompleted||(!function ensureDraw(Ee){Ee.read({x:0,y:0,width:1,height:1,data:tt})}(Ee),Be.drawCompleted=!0),function render(et){var tt=Math.min(Ue,We-et*Ue);0===et&&(window.cancelAnimationFrame(Be.currentRafs[Qe]),delete Be.currentRafs[Qe],clear(Ee,$e.scissorX,$e.scissorY,$e.scissorWidth,$e.viewBoxSize[1])),Be.clearOnly||($e.count=2*tt,$e.offset=2*et*Ue,ze($e),et*Ue+tt<We&&(Be.currentRafs[Qe]=window.requestAnimationFrame((function(){render(et+1)}))),Be.drawCompleted=!1)}(0)}function palette(Ee,ze){for(var Be=new Array(256),Ue=0;Ue<256;Ue++)Be[Ue]=Ee(Ue/255).concat(ze);return Be}function calcPickColor(Ee,ze){return(Ee>>>8*ze)%256/255}function makeVecAttr(Ee,ze,Be){for(var Ue=new Array(8*ze),We=0,$e=0;$e<ze;$e++)for(var Qe=0;Qe<2;Qe++)for(var et=0;et<4;et++){var tt=4*Ee+et,rt=Be[64*$e+tt];63===tt&&0===Qe&&(rt*=-1),Ue[We++]=rt}return Ue}function pad2(Ee){var ze="0"+Ee;return ze.substr(ze.length-2)}function getAttrName(Ee){return Ee<Qe?"p"+pad2(Ee+1)+"_"+pad2(Ee+4):"colors"}function makeItem(Ee,ze,Be,Ue,We,$e,Qe,tt,rt,nt,at,it,ct){for(var ft=[[],[]],xt=0;xt<64;xt++)ft[0][xt]=xt===We?1:0,ft[1][xt]=xt===$e?1:0;var kt=Ee.lines.canvasOverdrag,Lt=Ee.domain,Ut=Ee.canvasWidth,er=Ee.canvasHeight,tr=Ee.deselectedLines.color;return et.extendFlat({key:at,resolution:[Ut,er],viewBoxPos:[Qe+kt,tt],viewBoxSize:[rt,nt],i0:We,i1:$e,dim0A:ft[0].slice(0,16),dim0B:ft[0].slice(16,32),dim0C:ft[0].slice(32,48),dim0D:ft[0].slice(48,64),dim1A:ft[1].slice(0,16),dim1B:ft[1].slice(16,32),dim1C:ft[1].slice(32,48),dim1D:ft[1].slice(48,64),drwLayer:it,contextColor:[tr[0]/255,tr[1]/255,tr[2]/255,tr[3]<1?tr[3]:Math.max(1/255,Math.pow(1/Ee.lines.color.length,1/3))],scissorX:(Ue===ze?0:Qe+kt)+(Ee.pad.l-kt)+Ee.layoutWidth*Lt.x[0],scissorWidth:(Ue===Be?Ut-Qe+kt:rt+.5)+(Ue===ze?Qe+kt:0),scissorY:tt+Ee.pad.b+Ee.layoutHeight*Lt.y[0],scissorHeight:nt,viewportX:Ee.pad.l-kt+Ee.layoutWidth*Lt.x[0],viewportY:Ee.pad.b+Ee.layoutHeight*Lt.y[0],viewportWidth:Ut,viewportHeight:er},ct)}function expandedPixelRange(Ee){var ze=Math.max(0,Math.floor(2047*Ee[0]),0),Be=Math.min(2047,Math.ceil(2047*Ee[1]),2047);return[Math.min(ze,Be),Math.max(ze,Be)]}Ee.exports=function(Ee,ze){var Be,Ue,tt,at,it,ct=ze.context,ft=ze.pick,xt=ze.regl,kt={currentRafs:{},drawCompleted:!0,clearOnly:!1},Lt=function emptyAttributes(Ee){for(var ze={},Be=0;Be<=Qe;Be+=4)ze[getAttrName(Be)]=Ee.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return ze}(xt),Ut=xt.texture(nt),er=[];update(ze);var tr=xt({profile:!1,blend:{enable:ct,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!ct,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:xt.prop("scissorX"),y:xt.prop("scissorY"),width:xt.prop("scissorWidth"),height:xt.prop("scissorHeight")}},viewport:{x:xt.prop("viewportX"),y:xt.prop("viewportY"),width:xt.prop("viewportWidth"),height:xt.prop("viewportHeight")},dither:!1,vert:We,frag:$e,primitive:"lines",lineWidth:1,attributes:Lt,uniforms:{resolution:xt.prop("resolution"),viewBoxPos:xt.prop("viewBoxPos"),viewBoxSize:xt.prop("viewBoxSize"),dim0A:xt.prop("dim0A"),dim1A:xt.prop("dim1A"),dim0B:xt.prop("dim0B"),dim1B:xt.prop("dim1B"),dim0C:xt.prop("dim0C"),dim1C:xt.prop("dim1C"),dim0D:xt.prop("dim0D"),dim1D:xt.prop("dim1D"),loA:xt.prop("loA"),hiA:xt.prop("hiA"),loB:xt.prop("loB"),hiB:xt.prop("hiB"),loC:xt.prop("loC"),hiC:xt.prop("hiC"),loD:xt.prop("loD"),hiD:xt.prop("hiD"),palette:Ut,contextColor:xt.prop("contextColor"),mask:xt.prop("maskTexture"),drwLayer:xt.prop("drwLayer"),maskHeight:xt.prop("maskHeight")},offset:xt.prop("offset"),count:xt.prop("count")});function update(Ee){Be=Ee.model,Ue=Ee.viewModel,tt=Ue.dimensions.slice(),at=tt[0]?tt[0].values.length:0;var ze=Be.lines,We=ft?ze.color.map((function(Ee,Be){return Be/ze.color.length})):ze.color,$e=function makePoints(Ee,ze,Be){for(var Ue,We=new Array(Ee*(Qe+4)),$e=0,et=0;et<Ee;et++){for(var tt=0;tt<Qe;tt++)We[$e++]=tt<ze.length?ze[tt].paddedUnitValues[et]:.5;We[$e++]=calcPickColor(et,2),We[$e++]=calcPickColor(et,1),We[$e++]=calcPickColor(et,0),We[$e++]=(Ue=Be[et],Math.max(1e-6,Math.min(.999999,Ue)))}return We}(at,tt,We);!function setAttributes(Ee,ze,Be){for(var Ue=0;Ue<=Qe;Ue+=4)Ee[getAttrName(Ue)](makeVecAttr(Ue/4,ze,Be))}(Lt,at,$e),ct||ft||(Ut=xt.texture(et.extendFlat({data:palette(Be.unitToColor,255)},nt)))}return{render:function renderGLParcoords(Ee,ze,Ue){var We,$e,Qe,et=Ee.length,rt=1/0,nt=-1/0;for(We=0;We<et;We++)Ee[We].dim0.canvasX<rt&&(rt=Ee[We].dim0.canvasX,$e=We),Ee[We].dim1.canvasX>nt&&(nt=Ee[We].dim1.canvasX,Qe=We);0===et&&clear(xt,0,0,Be.canvasWidth,Be.canvasHeight);var Lt=function makeConstraints(Ee){var ze,Be,Ue,We=[[],[]];for(Ue=0;Ue<64;Ue++){var $e=!Ee&&Ue<tt.length?tt[Ue].brush.filter.getBounds():[-1/0,1/0];We[0][Ue]=$e[0],We[1][Ue]=$e[1]}var Qe=new Array(16384);for(ze=0;ze<16384;ze++)Qe[ze]=255;if(!Ee)for(ze=0;ze<tt.length;ze++){var et=ze%8,rt=(ze-et)/8,nt=Math.pow(2,et),at=tt[ze].brush.filter.get();if(!(at.length<2)){var ct=expandedPixelRange(at[0])[1];for(Be=1;Be<at.length;Be++){var ft=expandedPixelRange(at[Be]);for(Ue=ct+1;Ue<ft[0];Ue++)Qe[8*Ue+rt]&=~nt;ct=Math.max(ct,ft[1])}}}var kt={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Qe};return it?it(kt):it=xt.texture(kt),{maskTexture:it,maskHeight:2048,loA:We[0].slice(0,16),loB:We[0].slice(16,32),loC:We[0].slice(32,48),loD:We[0].slice(48,64),hiA:We[1].slice(0,16),hiB:We[1].slice(16,32),hiC:We[1].slice(32,48),hiD:We[1].slice(48,64)}}(ct);for(We=0;We<et;We++){var Ut=Ee[We],rr=Ut.dim0.crossfilterDimensionIndex,ar=Ut.dim1.crossfilterDimensionIndex,Lr=Ut.canvasX,Qr=Ut.canvasY,on=Lr+Ut.panelSizeX;if(ze||!er[rr]||er[rr][0]!==Lr||er[rr][1]!==on){er[rr]=[Lr,on];var sn=makeItem(Be,$e,Qe,We,rr,ar,Lr,Qr,Ut.panelSizeX,Ut.panelSizeY,Ut.dim0.crossfilterDimensionIndex,ct?0:ft?2:1,Lt);kt.clearOnly=Ue;var ln=ze?Be.lines.blockLineCount:at;renderBlock(xt,tr,kt,ln,at,sn)}}},readPixel:function readPixel(Ee,ze){return xt.read({x:Ee,y:ze,width:1,height:1,data:rt}),rt},readPixels:function readPixels(Ee,ze,Be,Ue){var We=new Uint8Array(4*Be*Ue);return xt.read({x:Ee,y:ze,width:Be,height:Ue,data:We}),We},destroy:function destroy(){for(var ze in Ee.style["pointer-events"]="none",Ut.destroy(),it&&it.destroy(),Lt)Lt[ze].destroy()},update:update}}},"3b74":function(Ee,ze,Be){"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var Ue=Be("716c");function polygonArea(Ee){var ze=0;if(Ee&&Ee.length>0){ze+=Math.abs(ringArea(Ee[0]));for(var Be=1;Be<Ee.length;Be++)ze-=Math.abs(ringArea(Ee[Be]))}return ze}function ringArea(Ee){var ze,Be,Ue,We,$e,Qe,et=0,tt=Ee.length;if(tt>2){for(Qe=0;Qe<tt;Qe++)Qe===tt-2?(Ue=tt-2,We=tt-1,$e=0):Qe===tt-1?(Ue=tt-1,We=0,$e=1):(Ue=Qe,We=Qe+1,$e=Qe+2),ze=Ee[Ue],Be=Ee[We],et+=(rad(Ee[$e][0])-rad(ze[0]))*Math.sin(rad(Be[1]));et=6378137*et*6378137/2}return et}function rad(Ee){return Ee*Math.PI/180}ze.default=function area(Ee){return Ue.geomReduce(Ee,(function(Ee,ze){return Ee+function calculateArea(Ee){var ze,Be=0;switch(Ee.type){case"Polygon":return polygonArea(Ee.coordinates);case"MultiPolygon":for(ze=0;ze<Ee.coordinates.length;ze++)Be+=polygonArea(Ee.coordinates[ze]);return Be;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(ze)}),0)}},"3b80":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("5aae"),supplyDefaults:Be("2705"),colorbar:Be("f3cf"),formatLabels:Be("a2ee"),calc:Be("fcb7"),plot:Be("b8b2"),style:Be("52e8").style,styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("e92c"),selectPoints:Be("214c"),eventData:Be("0271"),moduleType:"trace",name:"scattercarpet",basePlotModule:Be("91cd"),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},"3bd6":function(Ee,ze,Be){"use strict";var Ue=Be("2195");Ee.exports=function mul(Ee,ze){return Ue(Ee[0].mul(ze[0]),Ee[1].mul(ze[1]))}},"3c1c":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("d301");ze.id2name=function id2name(Ee){if("string"==typeof Ee&&Ee.match(We.AX_ID_PATTERN)){var ze=Ee.substr(1);return"1"===ze&&(ze=""),Ee.charAt(0)+"axis"+ze}},ze.name2id=function name2id(Ee){if(Ee.match(We.AX_NAME_PATTERN)){var ze=Ee.substr(5);return"1"===ze&&(ze=""),Ee.charAt(0)+ze}},ze.cleanId=function cleanId(Ee,ze){if(Ee.match(We.AX_ID_PATTERN)&&(!ze||Ee.charAt(0)===ze)){var Be=Ee.substr(1).replace(/^0+/,"");return"1"===Be&&(Be=""),Ee.charAt(0)+Be}},ze.list=function(Ee,Be,Ue){var We=Ee._fullLayout;if(!We)return[];var $e,Qe=ze.listIds(Ee,Be),et=new Array(Qe.length);for($e=0;$e<Qe.length;$e++){var tt=Qe[$e];et[$e]=We[tt.charAt(0)+"axis"+tt.substr(1)]}if(!Ue){var rt=We._subplots.gl3d||[];for($e=0;$e<rt.length;$e++){var nt=We[rt[$e]];Be?et.push(nt[Be+"axis"]):et.push(nt.xaxis,nt.yaxis,nt.zaxis)}}return et},ze.listIds=function(Ee,ze){var Be=Ee._fullLayout;if(!Be)return[];var Ue=Be._subplots;return ze?Ue[ze+"axis"]:Ue.xaxis.concat(Ue.yaxis)},ze.getFromId=function(Ee,Be,Ue){var We=Ee._fullLayout;return"x"===Ue?Be=Be.replace(/y[0-9]*/,""):"y"===Ue&&(Be=Be.replace(/x[0-9]*/,"")),We[ze.id2name(Be)]},ze.getFromTrace=function(Ee,Be,We){var $e=Ee._fullLayout,Qe=null;if(Ue.traceIs(Be,"gl3d")){var et=Be.scene;"scene"===et.substr(0,5)&&(Qe=$e[et][We+"axis"])}else Qe=ze.getFromId(Ee,Be[We+"axis"]||We);return Qe},ze.idSort=function(Ee,ze){var Be=Ee.charAt(0),Ue=ze.charAt(0);return Be!==Ue?Be>Ue?1:-1:+(Ee.substr(1)||1)-+(ze.substr(1)||1)},ze.getAxisGroup=function getAxisGroup(Ee,ze){for(var Be=Ee._axisMatchGroups,Ue=0;Ue<Be.length;Ue++){if(Be[Ue][ze])return"g"+Ue}return ze}},"3c31":function(Ee,ze,Be){"use strict";function makeComputeErrorValue(Ee,ze){return"percent"===Ee?function(Ee){return Math.abs(Ee*ze/100)}:"constant"===Ee?function(){return Math.abs(ze)}:"sqrt"===Ee?function(Ee){return Math.sqrt(Math.abs(Ee))}:void 0}Ee.exports=function makeComputeError(Ee){var ze=Ee.type,Be=Ee.symmetric;if("data"===ze){var Ue=Ee.array||[];if(Be)return function computeError(Ee,ze){var Be=+Ue[ze];return[Be,Be]};var We=Ee.arrayminus||[];return function computeError(Ee,ze){var Be=+Ue[ze],$e=+We[ze];return isNaN(Be)&&isNaN($e)?[NaN,NaN]:[$e||0,Be||0]}}var $e=makeComputeErrorValue(ze,Ee.value),Qe=makeComputeErrorValue(ze,Ee.valueminus);return Be||void 0===Ee.valueminus?function computeError(Ee){var ze=$e(Ee);return[ze,ze]}:function computeError(Ee){return[Qe(Ee),$e(Ee)]}}},"3c41":function(Ee,ze){Ee.exports=function clone(Ee){var ze=new Float32Array(4);return ze[0]=Ee[0],ze[1]=Ee[1],ze[2]=Ee[2],ze[3]=Ee[3],ze}},"3cf3":function(Ee,ze,Be){"use strict";var Ue=Be("7e96");Ee.exports=function formatLabels(Ee,ze,Be){var We=Ee.i;return"x"in Ee||(Ee.x=ze._x[We]),"y"in Ee||(Ee.y=ze._y[We]),Ue(Ee,ze,Be)}},"3d2e":function(Ee,ze,Be){"use strict";Ee.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},"3d78":function(Ee,ze,Be){"use strict";var Ue=Be("b993");Ee.exports=function getGlyph(Ee,ze,Be){var $e=We[ze];$e||($e=We[ze]={});if(Ee in $e)return $e[Ee];var Qe={textAlign:"center",textBaseline:"middle",lineHeight:1,font:ze,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},et=Ue(Ee,Qe);Qe.triangles=!1;var tt,rt,nt=Ue(Ee,Qe);if(Be&&1!==Be){for(tt=0;tt<et.positions.length;++tt)for(rt=0;rt<et.positions[tt].length;++rt)et.positions[tt][rt]/=Be;for(tt=0;tt<nt.positions.length;++tt)for(rt=0;rt<nt.positions[tt].length;++rt)nt.positions[tt][rt]/=Be}var at=[[1/0,1/0],[-1/0,-1/0]],it=nt.positions.length;for(tt=0;tt<it;++tt){var ct=nt.positions[tt];for(rt=0;rt<2;++rt)at[0][rt]=Math.min(at[0][rt],ct[rt]),at[1][rt]=Math.max(at[1][rt],ct[rt])}return $e[Ee]=[et,nt,at]};var We={}},"3dac":function(Ee,ze,Be){"use strict";var Ue=Be("0fba");Ee.exports=function sign(Ee){return Ue(Ee[0])*Ue(Ee[1])}},"3de2":function(Ee,ze,Be){"use strict";var Ue=Be("b7d1");Ee.exports=function parseRect(Ee){var ze;arguments.length>1&&(Ee=arguments);"string"==typeof Ee?Ee=Ee.split(/\s/).map(parseFloat):"number"==typeof Ee&&(Ee=[Ee]);Ee.length&&"number"==typeof Ee[0]?ze=1===Ee.length?{width:Ee[0],height:Ee[0],x:0,y:0}:2===Ee.length?{width:Ee[0],height:Ee[1],x:0,y:0}:{x:Ee[0],y:Ee[1],width:Ee[2]-Ee[0]||0,height:Ee[3]-Ee[1]||0}:Ee&&(Ee=Ue(Ee,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),ze={x:Ee.left||0,y:Ee.top||0},null==Ee.width?Ee.right?ze.width=Ee.right-ze.x:ze.width=0:ze.width=Ee.width,null==Ee.height?Ee.bottom?ze.height=Ee.bottom-ze.y:ze.height=0:ze.height=Ee.height);return ze}},"3e11":function(Ee,ze,Be){"use strict";var Ue=Be("cf9f");Ee.exports=function plot(Ee,ze,Be,We){var $e=Ee._fullLayout,Qe=$e._paper,et=$e._size;Ue(Ee,Qe,ze,{width:et.w,height:et.h,margin:{t:et.t,r:et.r,b:et.b,l:et.l}},Be,We)}},"3e43":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function IslamicCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}IslamicCalendar.prototype=new Ue.baseCalendar,We(IslamicCalendar.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(Ee){return(11*this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear).year()+14)%30<11},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInYear:function(Ee){return this.leapYear(Ee)?355:354},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(12===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return 5!==this.dayOfWeek(Ee,ze,Be)},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return Ee=We.year(),ze=We.month(),Ee=Ee<=0?Ee+1:Ee,(Be=We.day())+Math.ceil(29.5*(ze-1))+354*(Ee-1)+Math.floor((3+11*Ee)/30)+this.jdEpoch-1},fromJD:function(Ee){Ee=Math.floor(Ee)+.5;var ze=Math.floor((30*(Ee-this.jdEpoch)+10646)/10631);ze=ze<=0?ze-1:ze;var Be=Math.min(12,Math.ceil((Ee-29-this.toJD(ze,1,1))/29.5)+1),Ue=Ee-this.toJD(ze,Be,1)+1;return this.newDate(ze,Be,Ue)}}),Ue.calendars.islamic=IslamicCalendar},"3e8e":function(Ee,ze,Be){"use strict";Ee.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},"3e97":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return"xVal"in ze&&(Ee.x=ze.xVal),"yVal"in ze&&(Ee.y=ze.yVal),ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),Ee.color=ze.color,Ee.colormodel=ze.trace.colormodel,Ee}},"3eab":function(Ee,ze,Be){"use strict";Ee.exports=Be("77ae")},"3ee9":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("6b50"),supplyDefaults:Be("b6f7"),calc:Be("6dea"),colorbar:{min:"cmin",max:"cmax"},plot:Be("54a9"),moduleType:"trace",name:"mesh3d",basePlotModule:Be("134c"),categories:["gl3d","showLegend"],meta:{}}},"3efe":function(Ee,ze,Be){"use strict";Ee.exports=Be("a18b")},"3f57":function(Ee,ze,Be){Ee.exports=Be("e5c5")},"3fb2":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("bb71"),$e=Be("6921"),Qe=Be("3ff5").dfltConfig,et=Ue.isPlainObject,tt=Array.isArray,rt=Ue.isArrayOrTypedArray;function crawl(Ee,ze,Be,We,$e,Qe){Qe=Qe||[];for(var nt=Object.keys(Ee),at=0;at<nt.length;at++){var it=nt[at];if("transforms"!==it){var ct=Qe.slice();ct.push(it);var ft=Ee[it],xt=ze[it],kt=getNestedSchema(Be,it),Lt="info_array"===(kt||{}).valType,Ut="colorscale"===(kt||{}).valType,er=(kt||{}).items;if(isInSchema(Be,it))if(et(ft)&&et(xt))crawl(ft,xt,kt,We,$e,ct);else if(Lt&&tt(ft)){ft.length>xt.length&&We.push(format("unused",$e,ct.concat(xt.length)));var tr,rr,ar,Lr,Qr,on=xt.length,sn=Array.isArray(er);if(sn&&(on=Math.min(on,er.length)),2===kt.dimensions)for(rr=0;rr<on;rr++)if(tt(ft[rr])){ft[rr].length>xt[rr].length&&We.push(format("unused",$e,ct.concat(rr,xt[rr].length)));var ln=xt[rr].length;for(tr=0;tr<(sn?Math.min(ln,er[rr].length):ln);tr++)ar=sn?er[rr][tr]:er,Lr=ft[rr][tr],Qr=xt[rr][tr],Ue.validate(Lr,ar)?Qr!==Lr&&Qr!==+Lr&&We.push(format("dynamic",$e,ct.concat(rr,tr),Lr,Qr)):We.push(format("value",$e,ct.concat(rr,tr),Lr))}else We.push(format("array",$e,ct.concat(rr),ft[rr]));else for(rr=0;rr<on;rr++)ar=sn?er[rr]:er,Lr=ft[rr],Qr=xt[rr],Ue.validate(Lr,ar)?Qr!==Lr&&Qr!==+Lr&&We.push(format("dynamic",$e,ct.concat(rr),Lr,Qr)):We.push(format("value",$e,ct.concat(rr),Lr))}else if(kt.items&&!Lt&&tt(ft)){var cn,un,hn=er[Object.keys(er)[0]],dn=[];for(cn=0;cn<xt.length;cn++){var vn=xt[cn]._index||cn;if((un=ct.slice()).push(vn),et(ft[vn])&&et(xt[cn])){dn.push(vn);var yn=ft[vn],_n=xt[cn];et(yn)&&!1!==yn.visible&&!1===_n.visible?We.push(format("invisible",$e,un)):crawl(yn,_n,hn,We,$e,un)}}for(cn=0;cn<ft.length;cn++)(un=ct.slice()).push(cn),et(ft[cn])?-1===dn.indexOf(cn)&&We.push(format("unused",$e,un)):We.push(format("object",$e,un,ft[cn]))}else!et(ft)&&et(xt)?We.push(format("object",$e,ct,ft)):rt(ft)||!rt(xt)||Lt||Ut?it in ze?Ue.validate(ft,kt)?"enumerated"===kt.valType&&(kt.coerceNumber&&ft!==+xt||ft!==xt)&&We.push(format("dynamic",$e,ct,ft,xt)):We.push(format("value",$e,ct,ft)):We.push(format("unused",$e,ct,ft)):We.push(format("array",$e,ct,ft));else We.push(format("schema",$e,ct))}}return We}function fillLayoutSchema(Ee,ze){for(var Be=Ee.layout.layoutAttributes,We=0;We<ze.length;We++){var $e=ze[We],Qe=Ee.traces[$e.type],et=Qe.layoutAttributes;et&&($e.subplot?Ue.extendFlat(Be[Qe.attributes.subplot.dflt],et):Ue.extendFlat(Be,et))}return Be}Ee.exports=function validate(Ee,ze){var Be,rt,nt=$e.get(),at=[],it={_context:Ue.extendFlat({},Qe)};tt(Ee)?(it.data=Ue.extendDeep([],Ee),Be=Ee):(it.data=[],Be=[],at.push(format("array","data"))),et(ze)?(it.layout=Ue.extendDeep({},ze),rt=ze):(it.layout={},rt={},arguments.length>1&&at.push(format("object","layout"))),We.supplyDefaults(it);for(var ct=it._fullData,ft=Be.length,xt=0;xt<ft;xt++){var kt=Be[xt],Lt=["data",xt];if(et(kt)){var Ut=ct[xt],er=Ut.type,tr=nt.traces[er].attributes;tr.type={valType:"enumerated",values:[er]},!1===Ut.visible&&!1!==kt.visible&&at.push(format("invisible",Lt)),crawl(kt,Ut,tr,at,Lt);var rr=kt.transforms,ar=Ut.transforms;if(rr){tt(rr)||at.push(format("array",Lt,["transforms"])),Lt.push("transforms");for(var Lr=0;Lr<rr.length;Lr++){var Qr=["transforms",Lr],on=rr[Lr].type;if(et(rr[Lr])){var sn=nt.transforms[on]?nt.transforms[on].attributes:{};sn.type={valType:"enumerated",values:Object.keys(nt.transforms)},crawl(rr[Lr],ar[Lr],sn,at,Lt,Qr)}else at.push(format("object",Lt,Qr))}}}else at.push(format("object",Lt))}var ln=it._fullLayout,cn=fillLayoutSchema(nt,ct);return crawl(rt,ln,cn,at,"layout"),0===at.length?void 0:at};var nt={object:function(Ee,ze){return("layout"===Ee&&""===ze?"The layout argument":"data"===Ee[0]&&""===ze?"Trace "+Ee[1]+" in the data argument":inBase(Ee)+"key "+ze)+" must be linked to an object container"},array:function(Ee,ze){return("data"===Ee?"The data argument":inBase(Ee)+"key "+ze)+" must be linked to an array container"},schema:function(Ee,ze){return inBase(Ee)+"key "+ze+" is not part of the schema"},unused:function(Ee,ze,Be){var Ue=et(Be)?"container":"key";return inBase(Ee)+Ue+" "+ze+" did not get coerced"},dynamic:function(Ee,ze,Be,Ue){return[inBase(Ee)+"key",ze,"(set to '"+Be+"')","got reset to","'"+Ue+"'","during defaults."].join(" ")},invisible:function(Ee,ze){return(ze?inBase(Ee)+"item "+ze:"Trace "+Ee[1])+" got defaulted to be not visible"},value:function(Ee,ze,Be){return[inBase(Ee)+"key "+ze,"is set to an invalid value ("+Be+")"].join(" ")}};function inBase(Ee){return tt(Ee)?"In data trace "+Ee[1]+", ":"In "+Ee+", "}function format(Ee,ze,Be,We,$e){var Qe,et;Be=Be||"",tt(ze)?(Qe=ze[0],et=ze[1]):(Qe=ze,et=null);var rt=function convertPathToAttributeString(Ee){if(!tt(Ee))return String(Ee);for(var ze="",Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];"number"==typeof Ue?ze=ze.substr(0,ze.length-1)+"["+Ue+"]":ze+=Ue,Be<Ee.length-1&&(ze+=".")}return ze}(Be),at=nt[Ee](ze,rt,We,$e);return Ue.log(at),{code:Ee,container:Qe,trace:et,path:Be,astr:rt,msg:at}}function isInSchema(Ee,ze){var Be=splitKey(ze),Ue=Be.keyMinusId,We=Be.id;return!!(Ue in Ee&&Ee[Ue]._isSubplotObj&&We)||ze in Ee}function getNestedSchema(Ee,ze){return ze in Ee?Ee[ze]:Ee[splitKey(ze).keyMinusId]}var at=Ue.counterRegex("([a-z]+)");function splitKey(Ee){var ze=Ee.match(at);return{keyMinusId:ze&&ze[1],id:ze&&ze[2]}}},"3fca":function(Ee,ze,Be){"use strict";var Ue=Be("e192"),We=Be("a5c4"),$e=Be("fc26"),Qe=Be("0919"),et=Be("371e"),tt=Be("0642"),rt=Be("4efe"),nt=Be("1876").prepSelect,at=Be("1876").selectOnClick,it=Be("b5e4"),ct=Be("d0d2");function Mapbox(Ee,ze){this.id=ze,this.gd=Ee;var Be=Ee._fullLayout,Ue=Ee._context;this.container=Be._glcontainer.node(),this.isStatic=Ue.staticPlot,this.uid=Be._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(Be),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var ft=Mapbox.prototype;ft.plot=function(Ee,ze,Be){var Ue,We=this,$e=ze[We.id];We.map&&$e.accesstoken!==We.accessToken&&(We.map.remove(),We.map=null,We.styleObj=null,We.traceHash=[],We.layerList={}),Ue=We.map?new Promise((function(Be,Ue){We.updateMap(Ee,ze,Be,Ue)})):new Promise((function(Be,Ue){We.createMap(Ee,ze,Be,Ue)})),Be.push(Ue)},ft.createMap=function(Ee,ze,Be,We){var $e=this,et=ze[$e.id],tt=$e.styleObj=getStyleObj(et.style);$e.accessToken=et.accesstoken;var rt=$e.map=new Ue.Map({container:$e.div,style:tt.style,center:convertCenter(et.center),zoom:et.zoom,bearing:et.bearing,pitch:et.pitch,interactive:!$e.isStatic,preserveDrawingBuffer:$e.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new Ue.AttributionControl({compact:!0}));rt._canvas.style.left="0px",rt._canvas.style.top="0px",$e.rejectOnError(We),$e.isStatic||$e.initFx(Ee,ze);var nt=[];nt.push(new Promise((function(Ee){rt.once("load",Ee)}))),nt=nt.concat(Qe.fetchTraceGeoData(Ee)),Promise.all(nt).then((function(){$e.fillBelowLookup(Ee,ze),$e.updateData(Ee),$e.updateLayout(ze),$e.resolveOnRender(Be)})).catch(We)},ft.updateMap=function(Ee,ze,Be,Ue){var We=this,$e=We.map,et=ze[this.id];We.rejectOnError(Ue);var tt=[],rt=getStyleObj(et.style);We.styleObj.id!==rt.id&&(We.styleObj=rt,$e.setStyle(rt.style),We.traceHash={},tt.push(new Promise((function(Ee){$e.once("styledata",Ee)})))),tt=tt.concat(Qe.fetchTraceGeoData(Ee)),Promise.all(tt).then((function(){We.fillBelowLookup(Ee,ze),We.updateData(Ee),We.updateLayout(ze),We.resolveOnRender(Be)})).catch(Ue)},ft.fillBelowLookup=function(Ee,ze){var Be,Ue,We=ze[this.id].layers,$e=this.belowLookup={},Qe=!1;for(Be=0;Be<Ee.length;Be++){var et=Ee[Be][0].trace,tt=et._module;"string"==typeof et.below?Ue=et.below:tt.getBelow&&(Ue=tt.getBelow(et,this)),""===Ue&&(Qe=!0),$e["trace-"+et.uid]=Ue||""}for(Be=0;Be<We.length;Be++){var rt=We[Be];Ue="string"==typeof rt.below?rt.below:Qe?"traces":"",$e["layout-"+Be]=Ue}var nt,at,it={};for(nt in $e)it[Ue=$e[nt]]?it[Ue].push(nt):it[Ue]=[nt];for(Ue in it){var ct=it[Ue];if(ct.length>1)for(Be=0;Be<ct.length;Be++)0===(nt=ct[Be]).indexOf("trace-")?(at=nt.split("trace-")[1],this.traceHash[at]&&(this.traceHash[at].below=null)):0===nt.indexOf("layout-")&&(at=nt.split("layout-")[1],this.layerList[at]&&(this.layerList[at].below=null))}};var xt={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function getStyleObj(Ee){var ze={};return $e.isPlainObject(Ee)?(ze.id=Ee.id,ze.style=Ee):"string"==typeof Ee?(ze.id=Ee,-1!==it.styleValuesMapbox.indexOf(Ee)?ze.style=convertStyleVal(Ee):it.stylesNonMapbox[Ee]?ze.style=it.stylesNonMapbox[Ee]:ze.style=Ee):(ze.id=it.styleValueDflt,ze.style=convertStyleVal(it.styleValueDflt)),ze.transition={duration:0,delay:0},ze}function convertStyleVal(Ee){return it.styleUrlPrefix+Ee+"-"+it.styleUrlSuffix}function convertCenter(Ee){return[Ee.lon,Ee.lat]}ft.updateData=function(Ee){var ze,Be,Ue,We,$e=this.traceHash,Qe=Ee.slice().sort((function(Ee,ze){return xt[Ee[0].trace.type]-xt[ze[0].trace.type]}));for(Ue=0;Ue<Qe.length;Ue++){var et=Qe[Ue],tt=!1;(ze=$e[(Be=et[0].trace).uid])&&(ze.type===Be.type?(ze.update(et),tt=!0):ze.dispose()),!tt&&Be._module&&($e[Be.uid]=Be._module.plot(this,et))}var rt=Object.keys($e);e:for(Ue=0;Ue<rt.length;Ue++){var nt=rt[Ue];for(We=0;We<Ee.length;We++)if(nt===(Be=Ee[We][0].trace).uid)continue e;(ze=$e[nt]).dispose(),delete $e[nt]}},ft.updateLayout=function(Ee){var ze=this.map,Be=Ee[this.id];this.dragging||this.wheeling||(ze.setCenter(convertCenter(Be.center)),ze.setZoom(Be.zoom),ze.setBearing(Be.bearing),ze.setPitch(Be.pitch)),this.updateLayers(Ee),this.updateFramework(Ee),this.updateFx(Ee),this.map.resize(),this.gd._context._scrollZoom.mapbox?ze.scrollZoom.enable():ze.scrollZoom.disable()},ft.resolveOnRender=function(Ee){var ze=this.map;ze.on("render",(function onRender(){ze.loaded()&&(ze.off("render",onRender),setTimeout(Ee,10))}))},ft.rejectOnError=function(Ee){var ze=this.map;function handler(){Ee(new Error(it.mapOnErrorMsg))}ze.once("error",handler),ze.once("style.error",handler),ze.once("source.error",handler),ze.once("tile.error",handler),ze.once("layer.error",handler)},ft.createFramework=function(Ee){var ze=this,Be=ze.div=document.createElement("div");Be.id=ze.uid,Be.style.position="absolute",ze.container.appendChild(Be),ze.xaxis={_id:"x",c2p:function(Ee){return ze.project(Ee).x}},ze.yaxis={_id:"y",c2p:function(Ee){return ze.project(Ee).y}},ze.updateFramework(Ee),ze.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},tt.setConvert(ze.mockAxis,Ee)},ft.initFx=function(Ee,ze){var Be=this,Ue=Be.gd,$e=Be.map;function unhover(){We.loneUnhover(ze._hoverlayer)}function emitUpdate(){var Ee=Be.getView();Ue.emit("plotly_relayouting",Be.getViewEditsWithDerived(Ee))}$e.on("moveend",(function(Ee){if(Be.map){var ze=Ue._fullLayout;if(Ee.originalEvent||Be.wheeling){var We=ze[Be.id];et.call("_storeDirectGUIEdit",Ue.layout,ze._preGUI,Be.getViewEdits(We));var $e=Be.getView();We._input.center=We.center=$e.center,We._input.zoom=We.zoom=$e.zoom,We._input.bearing=We.bearing=$e.bearing,We._input.pitch=We.pitch=$e.pitch,Ue.emit("plotly_relayout",Be.getViewEditsWithDerived($e))}Ee.originalEvent&&"mouseup"===Ee.originalEvent.type?Be.dragging=!1:Be.wheeling&&(Be.wheeling=!1),ze._rehover&&ze._rehover()}})),$e.on("wheel",(function(){Be.wheeling=!0})),$e.on("mousemove",(function(Ee){var ze=Be.div.getBoundingClientRect();Ee.clientX=Ee.point.x+ze.left,Ee.clientY=Ee.point.y+ze.top,Ee.target.getBoundingClientRect=function(){return ze},Be.xaxis.p2c=function(){return Ee.lngLat.lng},Be.yaxis.p2c=function(){return Ee.lngLat.lat},Ue._fullLayout._rehover=function(){Ue._fullLayout._hoversubplot===Be.id&&Ue._fullLayout[Be.id]&&We.hover(Ue,Ee,Be.id)},We.hover(Ue,Ee,Be.id),Ue._fullLayout._hoversubplot=Be.id})),$e.on("dragstart",(function(){Be.dragging=!0,unhover()})),$e.on("zoomstart",unhover),$e.on("mouseout",(function(){Ue._fullLayout._hoversubplot=null})),$e.on("drag",emitUpdate),$e.on("zoom",emitUpdate),$e.on("dblclick",(function(){var Ee=Ue._fullLayout[Be.id];et.call("_storeDirectGUIEdit",Ue.layout,Ue._fullLayout._preGUI,Be.getViewEdits(Ee));var ze=Be.viewInitial;$e.setCenter(convertCenter(ze.center)),$e.setZoom(ze.zoom),$e.setBearing(ze.bearing),$e.setPitch(ze.pitch);var We=Be.getView();Ee._input.center=Ee.center=We.center,Ee._input.zoom=Ee.zoom=We.zoom,Ee._input.bearing=Ee.bearing=We.bearing,Ee._input.pitch=Ee.pitch=We.pitch,Ue.emit("plotly_doubleclick",null),Ue.emit("plotly_relayout",Be.getViewEditsWithDerived(We))})),Be.clearSelect=function(){Ue._fullLayout._zoomlayer.selectAll(".select-outline").remove()},Be.onClickInPanFn=function(Ee){return function(ze){var $e=Ue._fullLayout.clickmode;$e.indexOf("select")>-1&&at(ze.originalEvent,Ue,[Be.xaxis],[Be.yaxis],Be.id,Ee),$e.indexOf("event")>-1&&We.click(Ue,ze.originalEvent)}}},ft.updateFx=function(Ee){var ze=this,Be=ze.map,Ue=ze.gd;if(!ze.isStatic){var We,Qe=Ee.dragmode;We="select"===Qe?function(Ee,Be){(Ee.range={})[ze.id]=[invert([Be.xmin,Be.ymin]),invert([Be.xmax,Be.ymax])]}:function(Ee,Be,Ue){(Ee.lassoPoints={})[ze.id]=Ue.filtered.map(invert)};var et=ze.dragOptions;ze.dragOptions=$e.extendDeep(et||{},{element:ze.div,gd:Ue,plotinfo:{id:ze.id,xaxis:ze.xaxis,yaxis:ze.yaxis,fillRangeItems:We},xaxes:[ze.xaxis],yaxes:[ze.yaxis],subplot:ze.id}),Be.off("click",ze.onClickInPanHandler),"select"===Qe||"lasso"===Qe?(Be.dragPan.disable(),Be.on("zoomstart",ze.clearSelect),ze.dragOptions.prepFn=function(Ee,Be,Ue){nt(Ee,Be,Ue,ze.dragOptions,Qe)},rt.init(ze.dragOptions)):(Be.dragPan.enable(),Be.off("zoomstart",ze.clearSelect),ze.div.onmousedown=null,ze.onClickInPanHandler=ze.onClickInPanFn(ze.dragOptions),Be.on("click",ze.onClickInPanHandler))}function invert(Ee){var Be=ze.map.unproject(Ee);return[Be.lng,Be.lat]}},ft.updateFramework=function(Ee){var ze=Ee[this.id].domain,Be=Ee._size,Ue=this.div.style;Ue.width=Be.w*(ze.x[1]-ze.x[0])+"px",Ue.height=Be.h*(ze.y[1]-ze.y[0])+"px",Ue.left=Be.l+ze.x[0]*Be.w+"px",Ue.top=Be.t+(1-ze.y[1])*Be.h+"px",this.xaxis._offset=Be.l+ze.x[0]*Be.w,this.xaxis._length=Be.w*(ze.x[1]-ze.x[0]),this.yaxis._offset=Be.t+(1-ze.y[1])*Be.h,this.yaxis._length=Be.h*(ze.y[1]-ze.y[0])},ft.updateLayers=function(Ee){var ze,Be=Ee[this.id].layers,Ue=this.layerList;if(Be.length!==Ue.length){for(ze=0;ze<Ue.length;ze++)Ue[ze].dispose();for(Ue=this.layerList=[],ze=0;ze<Be.length;ze++)Ue.push(ct(this,ze,Be[ze]))}else for(ze=0;ze<Be.length;ze++)Ue[ze].update(Be[ze])},ft.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},ft.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},ft.setOptions=function(Ee,ze,Be){for(var Ue in Be)this.map[ze](Ee,Ue,Be[Ue])},ft.getMapLayers=function(){return this.map.getStyle().layers},ft.addLayer=function(Ee,ze){var Be=this.map;if("string"==typeof ze){if(""===ze)return void Be.addLayer(Ee,ze);for(var Ue=this.getMapLayers(),We=0;We<Ue.length;We++)if(ze===Ue[We].id)return void Be.addLayer(Ee,ze);$e.warn(["Trying to add layer with *below* value",ze,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}Be.addLayer(Ee)},ft.project=function(Ee){return this.map.project(new Ue.LngLat(Ee[0],Ee[1]))},ft.getView=function(){var Ee=this.map,ze=Ee.getCenter(),Be={lon:ze.lng,lat:ze.lat},Ue=Ee.getCanvas(),We=Ue.width,$e=Ue.height;return{center:Be,zoom:Ee.getZoom(),bearing:Ee.getBearing(),pitch:Ee.getPitch(),_derived:{coordinates:[Ee.unproject([0,0]).toArray(),Ee.unproject([We,0]).toArray(),Ee.unproject([We,$e]).toArray(),Ee.unproject([0,$e]).toArray()]}}},ft.getViewEdits=function(Ee){for(var ze=this.id,Be=["center","zoom","bearing","pitch"],Ue={},We=0;We<Be.length;We++){var $e=Be[We];Ue[ze+"."+$e]=Ee[$e]}return Ue},ft.getViewEditsWithDerived=function(Ee){var ze=this.id,Be=this.getViewEdits(Ee);return Be[ze+"._derived"]=Ee._derived,Be},Ee.exports=Mapbox},"3fe8":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26");Ee.exports=function handleOHLC(Ee,ze,Be,$e){var Qe=Be("x"),et=Be("open"),tt=Be("high"),rt=Be("low"),nt=Be("close");if(Be("hoverlabel.split"),Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x"],$e),et&&tt&&rt&&nt){var at=Math.min(et.length,tt.length,rt.length,nt.length);return Qe&&(at=Math.min(at,We.minRowLength(Qe))),ze._length=at,at}}},"3ff5":function(Ee,ze,Be){"use strict";var Ue={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:"https://plot.ly"},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},We={};!function crawl(Ee,ze){for(var Be in Ee){var Ue=Ee[Be];Ue.valType?ze[Be]=Ue.dflt:(ze[Be]||(ze[Be]={}),crawl(Ue,ze[Be]))}}(Ue,We),Ee.exports={configAttributes:Ue,dfltConfig:We}},"3ff7":function(Ee,ze,Be){"use strict";Ee.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},"402e":function(Ee,ze,Be){"use strict";var Ue=Be("28dd"),We=Be("efce"),$e=Be("cea5"),Qe=Be("c9eb");function Pointcloud2D(Ee,ze,Be,Ue,We){this.plot=Ee,this.offsetBuffer=ze,this.pickBuffer=Be,this.shader=Ue,this.pickShader=We,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}Ee.exports=function createPointcloud2D(Ee,ze){var Be=Ee.gl,$e=We(Be),et=We(Be),tt=Ue(Be,Qe.pointVertex,Qe.pointFragment),rt=Ue(Be,Qe.pickVertex,Qe.pickFragment),nt=new Pointcloud2D(Ee,$e,et,tt,rt);return nt.update(ze),Ee.addObject(nt),nt};var et,tt,rt=Pointcloud2D.prototype;rt.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},rt.update=function(Ee){var ze;function dflt(ze,Be){return ze in Ee?Ee[ze]:Be}Ee=Ee||{},this.sizeMin=dflt("sizeMin",.5),this.sizeMax=dflt("sizeMax",20),this.color=dflt("color",[1,0,0,1]).slice(),this.areaRatio=dflt("areaRatio",1),this.borderColor=dflt("borderColor",[0,0,0,1]).slice(),this.blend=dflt("blend",!1);var Be=Ee.positions.length>>>1,Ue=Ee.positions instanceof Float32Array,We=Ee.idToIndex instanceof Int32Array&&Ee.idToIndex.length>=Be,Qe=Ee.positions,et=Ue?Qe:$e.mallocFloat32(Qe.length),tt=We?Ee.idToIndex:$e.mallocInt32(Be);if(Ue||et.set(Qe),!We)for(et.set(Qe),ze=0;ze<Be;ze++)tt[ze]=ze;this.points=Qe,this.offsetBuffer.update(et),this.pickBuffer.update(tt),Ue||$e.free(et),We||$e.free(tt),this.pointCount=Be,this.pickOffset=0},rt.unifiedDraw=(et=[1,0,0,0,1,0,0,0,1],tt=[0,0,0,0],function(Ee){var ze=void 0!==Ee,Be=ze?this.pickShader:this.shader,Ue=this.plot.gl,We=this.plot.dataBox;if(0===this.pointCount)return Ee;var $e=We[2]-We[0],Qe=We[3]-We[1],rt=function count(Ee,ze){var Be,Ue=0,We=Ee.length>>>1;for(Be=0;Be<We;Be++){var $e=Ee[2*Be],Qe=Ee[2*Be+1];$e>=ze[0]&&$e<=ze[2]&&Qe>=ze[1]&&Qe<=ze[3]&&Ue++}return Ue}(this.points,We),nt=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(rt,.33333)));et[0]=2/$e,et[4]=2/Qe,et[6]=-2*We[0]/$e-1,et[7]=-2*We[1]/Qe-1,this.offsetBuffer.bind(),Be.bind(),Be.attributes.position.pointer(),Be.uniforms.matrix=et,Be.uniforms.color=this.color,Be.uniforms.borderColor=this.borderColor,Be.uniforms.pointCloud=nt<5,Be.uniforms.pointSize=nt,Be.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),ze&&(tt[0]=255&Ee,tt[1]=Ee>>8&255,tt[2]=Ee>>16&255,tt[3]=Ee>>24&255,this.pickBuffer.bind(),Be.attributes.pickId.pointer(Ue.UNSIGNED_BYTE),Be.uniforms.pickOffset=tt,this.pickOffset=Ee);var at=Ue.getParameter(Ue.BLEND),it=Ue.getParameter(Ue.DITHER);return at&&!this.blend&&Ue.disable(Ue.BLEND),it&&Ue.disable(Ue.DITHER),Ue.drawArrays(Ue.POINTS,0,this.pointCount),at&&!this.blend&&Ue.enable(Ue.BLEND),it&&Ue.enable(Ue.DITHER),Ee+this.pointCount}),rt.draw=rt.unifiedDraw,rt.drawPick=rt.unifiedDraw,rt.pick=function(Ee,ze,Be){var Ue=this.pickOffset,We=this.pointCount;if(Be<Ue||Be>=Ue+We)return null;var $e=Be-Ue,Qe=this.points;return{object:this,pointId:$e,dataCoord:[Qe[2*$e],Qe[2*$e+1]]}}},4051:function(Ee,ze,Be){"use strict";var Ue=Be("2969f"),We=Be("98e7").calcHover;Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be){var $e=Ee.cd[0].trace,Qe=Ee.scene.matrixOptions.cdata,et=Ee.xa,tt=Ee.ya,rt=et.c2p(ze),nt=tt.c2p(Be),at=Ee.distance,it=Ue.getDimIndex($e,et),ct=Ue.getDimIndex($e,tt);if(!1===it||!1===ct)return[Ee];for(var ft,xt,kt=Qe[it],Lt=Qe[ct],Ut=at,er=0;er<kt.length;er++){var tr=kt[er],rr=Lt[er],ar=et.c2p(tr)-rt,Lr=tt.c2p(rr)-nt,Qr=Math.sqrt(ar*ar+Lr*Lr);Qr<Ut&&(Ut=xt=Qr,ft=er)}return Ee.index=ft,Ee.distance=Ut,Ee.dxy=xt,void 0===ft?[Ee]:[We(Ee,kt,Lt,$e)]}}},"409f":function(Ee,ze,Be){"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var Ue=Be("716c");ze.default=function bbox(Ee){var ze=[1/0,1/0,-1/0,-1/0];return Ue.coordEach(Ee,(function(Ee){ze[0]>Ee[0]&&(ze[0]=Ee[0]),ze[1]>Ee[1]&&(ze[1]=Ee[1]),ze[2]<Ee[0]&&(ze[2]=Ee[0]),ze[3]<Ee[1]&&(ze[3]=Ee[1])})),ze}},"40c0":function(Ee,ze,Be){"use strict";var Ue=Be("fb5a"),We=Be("94d5").hovertemplateAttrs,$e=Be("4274"),Qe=Be("8d0e"),et=Be("9092").extendFlat;Ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},text:et({},Ue.text,{}),hovertext:et({},Ue.hovertext,{}),orientation:Ue.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:$e("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:$e("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:We({},{keys:Qe.eventDataKeys}),marker:Ue.marker,offsetgroup:Ue.offsetgroup,alignmentgroup:Ue.alignmentgroup,selected:Ue.selected,unselected:Ue.unselected,_deprecated:{bardir:Ue._deprecated.bardir}}},"40ce":function(Ee,ze,Be){"use strict";var Ue=Be("d37d");function Procedure(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}Ee.exports=function compileCwise(Ee){var ze=new Procedure;ze.pre=Ee.pre,ze.body=Ee.body,ze.post=Ee.post;var Be=Ee.args.slice(0);ze.argTypes=Be;for(var We=0;We<Be.length;++We){var $e=Be[We];if("array"===$e||"object"==typeof $e&&$e.blockIndices){if(ze.argTypes[We]="array",ze.arrayArgs.push(We),ze.arrayBlockIndices.push($e.blockIndices?$e.blockIndices:0),ze.shimArgs.push("array"+We),We<ze.pre.args.length&&ze.pre.args[We].count>0)throw new Error("cwise: pre() block may not reference array args");if(We<ze.post.args.length&&ze.post.args[We].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===$e)ze.scalarArgs.push(We),ze.shimArgs.push("scalar"+We);else if("index"===$e){if(ze.indexArgs.push(We),We<ze.pre.args.length&&ze.pre.args[We].count>0)throw new Error("cwise: pre() block may not reference array index");if(We<ze.body.args.length&&ze.body.args[We].lvalue)throw new Error("cwise: body() block may not write to array index");if(We<ze.post.args.length&&ze.post.args[We].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===$e){if(ze.shapeArgs.push(We),We<ze.pre.args.length&&ze.pre.args[We].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(We<ze.body.args.length&&ze.body.args[We].lvalue)throw new Error("cwise: body() block may not write to array shape");if(We<ze.post.args.length&&ze.post.args[We].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof $e||!$e.offset)throw new Error("cwise: Unknown argument type "+Be[We]);ze.argTypes[We]="offset",ze.offsetArgs.push({array:$e.array,offset:$e.offset}),ze.offsetArgIndex.push(We)}}if(ze.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(ze.pre.args.length>Be.length)throw new Error("cwise: Too many arguments in pre() block");if(ze.body.args.length>Be.length)throw new Error("cwise: Too many arguments in body() block");if(ze.post.args.length>Be.length)throw new Error("cwise: Too many arguments in post() block");return ze.debug=!!Ee.printCode||!!Ee.debug,ze.funcName=Ee.funcName||"cwise",ze.blockSize=Ee.blockSize||64,Ue(ze)}},4136:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function calcSelection(Ee,ze){Ue.isArrayOrTypedArray(ze.selectedpoints)&&Ue.tagSelected(Ee,ze)}},4160:function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("17c2");Ue({target:"Array",proto:!0,forced:[].forEach!=We},{forEach:We})},4168:function(Ee,ze,Be){"use strict";var Ue=Be("7fcc"),We=Be("8b23"),$e=Be("9343"),Qe=Be("e9e1"),et=Be("44fe"),tt=Be("fc11"),rt=Be("e581"),nt=Be("6f51"),at=(Be("9ca2"),Be("913b")),it=[0,0,0];function MatrixCameraController(Ee){this._components=Ee.slice(),this._time=[0],this.prevMatrix=Ee.slice(),this.nextMatrix=Ee.slice(),this.computedMatrix=Ee.slice(),this.computedInverse=Ee.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}Ee.exports=function createMatrixCameraController(Ee){return new MatrixCameraController((Ee=Ee||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var ct=MatrixCameraController.prototype;ct.recalcMatrix=function(Ee){var ze=this._time,Be=Ue.le(ze,Ee),Qe=this.computedMatrix;if(!(Be<0)){var et=this._components;if(Be===ze.length-1)for(var tt=16*Be,rt=0;rt<16;++rt)Qe[rt]=et[tt++];else{var nt=ze[Be+1]-ze[Be],it=(tt=16*Be,this.prevMatrix),ct=!0;for(rt=0;rt<16;++rt)it[rt]=et[tt++];var ft=this.nextMatrix;for(rt=0;rt<16;++rt)ft[rt]=et[tt++],ct=ct&&it[rt]===ft[rt];if(nt<1e-6||ct)for(rt=0;rt<16;++rt)Qe[rt]=it[rt];else We(Qe,it,ft,(Ee-ze[Be])/nt)}var xt=this.computedUp;xt[0]=Qe[1],xt[1]=Qe[5],xt[2]=Qe[9],at(xt,xt);var kt=this.computedInverse;$e(kt,Qe);var Lt=this.computedEye,Ut=kt[15];Lt[0]=kt[12]/Ut,Lt[1]=kt[13]/Ut,Lt[2]=kt[14]/Ut;var er=this.computedCenter,tr=Math.exp(this.computedRadius[0]);for(rt=0;rt<3;++rt)er[rt]=Lt[rt]-Qe[2+4*rt]*tr}},ct.idle=function(Ee){if(!(Ee<this.lastT())){for(var ze=this._components,Be=ze.length-16,Ue=0;Ue<16;++Ue)ze.push(ze[Be++]);this._time.push(Ee)}},ct.flush=function(Ee){var ze=Ue.gt(this._time,Ee)-2;ze<0||(this._time.splice(0,ze),this._components.splice(0,16*ze))},ct.lastT=function(){return this._time[this._time.length-1]},ct.lookAt=function(Ee,ze,Be,Ue){this.recalcMatrix(Ee),ze=ze||this.computedEye,Be=Be||it,Ue=Ue||this.computedUp,this.setMatrix(Ee,rt(this.computedMatrix,ze,Be,Ue));for(var We=0,$e=0;$e<3;++$e)We+=Math.pow(Be[$e]-ze[$e],2);We=Math.log(Math.sqrt(We)),this.computedRadius[0]=We},ct.rotate=function(Ee,ze,Be,Ue){this.recalcMatrix(Ee);var We=this.computedInverse;ze&&et(We,We,ze),Be&&Qe(We,We,Be),Ue&&tt(We,We,Ue),this.setMatrix(Ee,$e(this.computedMatrix,We))};var ft=[0,0,0];ct.pan=function(Ee,ze,Be,Ue){ft[0]=-(ze||0),ft[1]=-(Be||0),ft[2]=-(Ue||0),this.recalcMatrix(Ee);var We=this.computedInverse;nt(We,We,ft),this.setMatrix(Ee,$e(We,We))},ct.translate=function(Ee,ze,Be,Ue){ft[0]=ze||0,ft[1]=Be||0,ft[2]=Ue||0,this.recalcMatrix(Ee);var We=this.computedMatrix;nt(We,We,ft),this.setMatrix(Ee,We)},ct.setMatrix=function(Ee,ze){if(!(Ee<this.lastT())){this._time.push(Ee);for(var Be=0;Be<16;++Be)this._components.push(ze[Be])}},ct.setDistance=function(Ee,ze){this.computedRadius[0]=ze},ct.setDistanceLimits=function(Ee,ze){var Be=this._limits;Be[0]=Ee,Be[1]=ze},ct.getDistanceLimits=function(Ee){var ze=this._limits;return Ee?(Ee[0]=ze[0],Ee[1]=ze[1],Ee):ze}},4183:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("7089"),Qe=Be("8f2a"),et=Be("4852").isValid,tt=Be("371e").traceIs;function npMaybe(Ee,ze){var Be=ze.slice(0,ze.length-1);return ze?We.nestedProperty(Ee,Be).get()||{}:Ee}Ee.exports=function colorScaleDefaults(Ee,ze,Be,rt,nt){var at=nt.prefix,it=nt.cLetter,ct="_module"in ze,ft=npMaybe(Ee,at),xt=npMaybe(ze,at),kt=npMaybe(ze._template||{},at)||{},thisFn=function(){return delete Ee.coloraxis,delete ze.coloraxis,colorScaleDefaults(Ee,ze,Be,rt,nt)};if(ct){var Lt=Be._colorAxes||{},Ut=rt(at+"coloraxis");if(Ut){var er=tt(ze,"contour")&&We.nestedProperty(ze,"contours.coloring").get()||"heatmap",tr=Lt[Ut];return void(tr?(tr[2].push(thisFn),tr[0]!==er&&(tr[0]=!1,We.warn(["Ignoring coloraxis:",Ut,"setting","as it is linked to incompatible colorscales."].join(" ")))):Lt[Ut]=[er,ze,[thisFn]])}}var rr=ft[it+"min"],ar=ft[it+"max"],Lr=Ue(rr)&&Ue(ar)&&rr<ar;rt(at+it+"auto",!Lr)?rt(at+it+"mid"):(rt(at+it+"min"),rt(at+it+"max"));var Qr,on,sn=ft.colorscale,ln=kt.colorscale;(void 0!==sn&&(Qr=!et(sn)),void 0!==ln&&(Qr=!et(ln)),rt(at+"autocolorscale",Qr),rt(at+"colorscale"),rt(at+"reversescale"),"marker.line."!==at)&&(at&&ct&&(on=$e(ft)),rt(at+"showscale",on)&&(at&&kt&&(xt._template=kt),Qe(ft,xt,Be)))}},4190:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("37bf"),$e=Be("8da3"),Qe=Be("e7bd"),et=Be("dfb3");Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}ze._clipPathId="clip"+ze.uid+"carpet";var rt=coerce("color",et.defaultLine);(Ue.coerceFont(coerce,"font"),coerce("carpet"),$e(Ee,ze,tt,coerce,rt),ze.a&&ze.b)?(ze.a.length<3&&(ze.aaxis.smoothing=0),ze.b.length<3&&(ze.baxis.smoothing=0),We(Ee,ze,coerce)||(ze.visible=!1),ze._cheater&&coerce("cheaterslope")):ze.visible=!1}},"41a1":function(Ee,ze,Be){"use strict";Ee.exports=function cmp(Ee,ze){return Ee[0].mul(ze[1]).cmp(ze[0].mul(Ee[1]))}},"41e0":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("371e");function coordDefaults(Ee,ze){var Be=ze(Ee);return"scaled"===(Be?ze(Ee+"type","array"):"scaled")&&(ze(Ee+"0"),ze("d"+Ee)),Be}Ee.exports=function handleXYZDefaults(Ee,ze,Be,Qe,et,tt){var rt,nt,at=Be("z");if(et=et||"x",tt=tt||"y",void 0===at||!at.length)return 0;if(We.isArray1D(Ee.z)){rt=Be(et),nt=Be(tt);var it=We.minRowLength(rt),ct=We.minRowLength(nt);if(0===it||0===ct)return 0;ze._length=Math.min(it,ct,at.length)}else{if(rt=coordDefaults(et,Be),nt=coordDefaults(tt,Be),!function isValidZ(Ee){for(var ze,Be=!0,$e=!1,Qe=!1,et=0;et<Ee.length;et++){if(ze=Ee[et],!We.isArrayOrTypedArray(ze)){Be=!1;break}ze.length>0&&($e=!0);for(var tt=0;tt<ze.length;tt++)if(Ue(ze[tt])){Qe=!0;break}}return Be&&$e&&Qe}(at))return 0;Be("transpose"),ze._length=null}return $e.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,[et,tt],Qe),!0}},"41f8":function(Ee,ze,Be){"use strict";var Ue=Be("4183"),We=Be("6533");Ee.exports=function handleStyleDefaults(Ee,ze,Be,$e,Qe){var et,tt=Be("contours.coloring"),rt="";"fill"===tt&&(et=Be("contours.showlines")),!1!==et&&("lines"!==tt&&(rt=Be("line.color","#000")),Be("line.width",.5),Be("line.dash")),"none"!==tt&&(!0!==Ee.showlegend&&(ze.showlegend=!1),ze._dfltShowLegend=!1,Ue(Ee,ze,$e,Be,{prefix:"",cLetter:"z"})),Be("line.smoothing"),We(Be,$e,rt,Qe)}},"422c":function(Ee,ze){Ee.exports=function rotateX(Ee,ze,Be,Ue){var We=Be[1],$e=Be[2],Qe=ze[1]-We,et=ze[2]-$e,tt=Math.sin(Ue),rt=Math.cos(Ue);return Ee[0]=ze[0],Ee[1]=We+Qe*rt-et*tt,Ee[2]=$e+Qe*tt+et*rt,Ee}},4248:function(Ee,ze,Be){"use strict";var Ue=Be("371e");ze.getDelay=function(Ee){return Ee._has&&(Ee._has("gl3d")||Ee._has("gl2d")||Ee._has("mapbox"))?500:0},ze.getRedrawFunc=function(Ee){return function(){var ze=Ee._fullLayout||{};!(ze._has&&ze._has("polar"))&&Ee.data&&Ee.data[0]&&Ee.data[0].r||Ue.getComponentMethod("colorbar","draw")(Ee)}},ze.encodeSVG=function(Ee){return"data:image/svg+xml,"+encodeURIComponent(Ee)};var We=window.URL||window.webkitURL;ze.createObjectURL=function(Ee){return We.createObjectURL(Ee)},ze.revokeObjectURL=function(Ee){return We.revokeObjectURL(Ee)},ze.createBlob=function(Ee,ze){if("svg"===ze)return new window.Blob([Ee],{type:"image/svg+xml;charset=utf-8"});var Be=function fixBinary(Ee){for(var ze=Ee.length,Be=new ArrayBuffer(ze),Ue=new Uint8Array(Be),We=0;We<ze;We++)Ue[We]=Ee.charCodeAt(We);return Be}(window.atob(Ee));return new window.Blob([Be],{type:"image/"+ze})},ze.octetStream=function(Ee){document.location.href="data:application/octet-stream"+Ee},ze.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,ze.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},"424b":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function arraysToCalcdata(Ee,ze){for(var Be=0;Be<Ee.length;Be++)Ee[Be].i=Be;Ue.mergeArray(ze.text,Ee,"tx"),Ue.mergeArray(ze.hovertext,Ee,"htx");var We=ze.marker;if(We){Ue.mergeArray(We.opacity,Ee,"mo",!0),Ue.mergeArray(We.color,Ee,"mc");var $e=We.line;$e&&(Ue.mergeArray($e.color,Ee,"mlc"),Ue.mergeArrayCastPositive($e.width,Ee,"mlw"))}}},4274:function(Ee,ze,Be){"use strict";Ee.exports=function makeBinAttrs(Ee,ze){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},"428d":function(Ee,ze,Be){var Ue,We;Ee.exports=(Ue=Be("2ad6"),We=Be("f7fe"),function(Ee){function e(Be){if(ze[Be])return ze[Be].exports;var Ue=ze[Be]={exports:{},id:Be,loaded:!1};return Ee[Be].call(Ue.exports,Ue,Ue.exports,e),Ue.loaded=!0,Ue.exports}var ze={};return e.m=Ee,e.c=ze,e.p="/",e(0)}([function(Ee,ze,Be){var Ue,We,$e;We=[Ee,ze,Be(10),Be(38),Be(39),Be(9),Be(37)],Ue=function(Ee,ze,Be,Ue,We){"use strict";function i(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function s(Ee){if(!Ee)return{delay:nt,initial:!1};var ze=Ee.initial,Be=void 0!==ze&&ze,Ue=(0,$e.default)(Ee).map((function(Ee){return parseInt(Ee)})).find((function(Ee){return!isNaN(Ee)}));return{delay:Ue=Ue||nt,initial:Be}}function c(Ee,ze){var Be=ze.value,Ue=ze.arg,We=ze.options,i=function(){return Be(Ee)};switch(Ue){case"debounce":i=rt((function(){return Be(Ee)}),We.delay);break;case"throttle":i=rt((function(){return Be(Ee)}),We.delay,{leading:!0,trailing:!0,maxWait:We.delay})}var $e=new Qe.default(Ee,i);return We.initial&&Be(Ee),$e}function f(Ee){Ee.__visibility__listener__&&Ee.__visibility__listener__.disconnect(),Ee.resizeSensor&&Qe.default.detach(Ee)}Object.defineProperty(ze,"__esModule",{value:!0});var $e=i(Be),Qe=i(Ue),et=i(We),tt=et.default.debounce,rt=void 0===tt?et.default:tt,nt=150;ze.default={inserted:function a(Ee,ze,Be){var Ue=ze.value,We=ze.arg,$e=ze.modifiers,Qe=Be.context;if(Ue&&"function"==typeof Ue){var et=s($e);return Qe&&Qe.$el===Ee&&Qe.$once("hook:deactivated",(function(){f(Ee),Qe.$once("hook:activated",(function(){a(Ee,{value:Ue,arg:We,modifiers:$e},{context:Qe})}))})),Ee.offsetParent?void c(Ee,{value:Ue,arg:We,options:et}):(et.initial=!0,void(Ee.__visibility__listener__=function u(Ee,ze){var Be={root:document.documentElement},Ue=new IntersectionObserver((function(Ee,Be){Ee.forEach((function(Ee){Ee.isIntersecting&&(ze(),Be.disconnect())}))}),Be);return Ue.observe(Ee),Ue}(Ee,(function(){return c(Ee,{value:Ue,arg:We,options:et})}))))}console.warn("v-resize should received a function as value")},unbind:f},Ee.exports=ze.default},void 0===($e="function"==typeof Ue?Ue.apply(ze,We):Ue)||(Ee.exports=$e)},function(Ee,ze){var Be=Ee.exports={version:"2.4.0"};"number"==typeof __e&&(__e=Be)},function(Ee,ze,Be){Ee.exports=!Be(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(Ee,ze){Ee.exports=function(Ee){try{return!!Ee()}catch(Ee){return!0}}},function(Ee,ze){var Be=Ee.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=Be)},function(Ee,ze){Ee.exports=function(Ee){return"object"==typeof Ee?null!==Ee:"function"==typeof Ee}},function(Ee,ze){Ee.exports=function(Ee){if(null==Ee)throw TypeError("Can't call method on  "+Ee);return Ee}},function(Ee,ze){var Be=Math.ceil,Ue=Math.floor;Ee.exports=function(Ee){return isNaN(Ee=+Ee)?0:(Ee>0?Ue:Be)(Ee)}},function(Ee,ze,Be){var Ue=Be(23),We=Be(6);Ee.exports=function(Ee){return Ue(We(Ee))}},function(Ee,ze,Be){var Ue,We,$e;We=[],void 0===($e="function"==typeof(Ue=function(){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(Ee){if(null==this)throw new TypeError('"this" is null or not defined');var ze=Object(this),Be=ze.length>>>0;if("function"!=typeof Ee)throw new TypeError("predicate must be a function");for(var Ue=arguments[1],We=0;We<Be;){var $e=ze[We];if(Ee.call(Ue,$e,We,ze))return $e;We++}},configurable:!0,writable:!0})})?Ue.apply(ze,We):Ue)||(Ee.exports=$e)},function(Ee,ze,Be){Ee.exports={default:Be(11),__esModule:!0}},function(Ee,ze,Be){Be(36),Ee.exports=Be(1).Object.keys},function(Ee,ze){Ee.exports=function(Ee){if("function"!=typeof Ee)throw TypeError(Ee+" is not a function!");return Ee}},function(Ee,ze,Be){var Ue=Be(5);Ee.exports=function(Ee){if(!Ue(Ee))throw TypeError(Ee+" is not an object!");return Ee}},function(Ee,ze,Be){var Ue=Be(8),We=Be(32),$e=Be(31);Ee.exports=function(Ee){return function(ze,Be,Qe){var et,tt=Ue(ze),rt=We(tt.length),nt=$e(Qe,rt);if(Ee&&Be!=Be){for(;rt>nt;)if((et=tt[nt++])!=et)return!0}else for(;rt>nt;nt++)if((Ee||nt in tt)&&tt[nt]===Be)return Ee||nt||0;return!Ee&&-1}}},function(Ee,ze){var Be={}.toString;Ee.exports=function(Ee){return Be.call(Ee).slice(8,-1)}},function(Ee,ze,Be){var Ue=Be(12);Ee.exports=function(Ee,ze,Be){if(Ue(Ee),void 0===ze)return Ee;switch(Be){case 1:return function(Be){return Ee.call(ze,Be)};case 2:return function(Be,Ue){return Ee.call(ze,Be,Ue)};case 3:return function(Be,Ue,We){return Ee.call(ze,Be,Ue,We)}}return function(){return Ee.apply(ze,arguments)}}},function(Ee,ze,Be){var Ue=Be(5),We=Be(4).document,$e=Ue(We)&&Ue(We.createElement);Ee.exports=function(Ee){return $e?We.createElement(Ee):{}}},function(Ee,ze){Ee.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(Ee,ze,Be){var Ue=Be(4),We=Be(1),$e=Be(16),Qe=Be(21),et="prototype",c=function(Ee,ze,Be){var tt,rt,nt,at=Ee&c.F,it=Ee&c.G,ct=Ee&c.S,ft=Ee&c.P,xt=Ee&c.B,kt=Ee&c.W,Lt=it?We:We[ze]||(We[ze]={}),Ut=Lt[et],er=it?Ue:ct?Ue[ze]:(Ue[ze]||{})[et];for(tt in it&&(Be=ze),Be)(rt=!at&&er&&void 0!==er[tt])&&tt in Lt||(nt=rt?er[tt]:Be[tt],Lt[tt]=it&&"function"!=typeof er[tt]?Be[tt]:xt&&rt?$e(nt,Ue):kt&&er[tt]==nt?function(Ee){var e=function(ze,Be,Ue){if(this instanceof Ee){switch(arguments.length){case 0:return new Ee;case 1:return new Ee(ze);case 2:return new Ee(ze,Be)}return new Ee(ze,Be,Ue)}return Ee.apply(this,arguments)};return e[et]=Ee[et],e}(nt):ft&&"function"==typeof nt?$e(Function.call,nt):nt,ft&&((Lt.virtual||(Lt.virtual={}))[tt]=nt,Ee&c.R&&Ut&&!Ut[tt]&&Qe(Ut,tt,nt)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,Ee.exports=c},function(Ee,ze){var Be={}.hasOwnProperty;Ee.exports=function(Ee,ze){return Be.call(Ee,ze)}},function(Ee,ze,Be){var Ue=Be(24),We=Be(28);Ee.exports=Be(2)?function(Ee,ze,Be){return Ue.f(Ee,ze,We(1,Be))}:function(Ee,ze,Be){return Ee[ze]=Be,Ee}},function(Ee,ze,Be){Ee.exports=!Be(2)&&!Be(3)((function(){return 7!=Object.defineProperty(Be(17)("div"),"a",{get:function(){return 7}}).a}))},function(Ee,ze,Be){var Ue=Be(15);Ee.exports=Object("z").propertyIsEnumerable(0)?Object:function(Ee){return"String"==Ue(Ee)?Ee.split(""):Object(Ee)}},function(Ee,ze,Be){var Ue=Be(13),We=Be(22),$e=Be(34),Qe=Object.defineProperty;ze.f=Be(2)?Object.defineProperty:function(Ee,ze,Be){if(Ue(Ee),ze=$e(ze,!0),Ue(Be),We)try{return Qe(Ee,ze,Be)}catch(Ee){}if("get"in Be||"set"in Be)throw TypeError("Accessors not supported!");return"value"in Be&&(Ee[ze]=Be.value),Ee}},function(Ee,ze,Be){var Ue=Be(20),We=Be(8),$e=Be(14)(!1),Qe=Be(29)("IE_PROTO");Ee.exports=function(Ee,ze){var Be,et=We(Ee),tt=0,rt=[];for(Be in et)Be!=Qe&&Ue(et,Be)&&rt.push(Be);for(;ze.length>tt;)Ue(et,Be=ze[tt++])&&(~$e(rt,Be)||rt.push(Be));return rt}},function(Ee,ze,Be){var Ue=Be(25),We=Be(18);Ee.exports=Object.keys||function(Ee){return Ue(Ee,We)}},function(Ee,ze,Be){var Ue=Be(19),We=Be(1),$e=Be(3);Ee.exports=function(Ee,ze){var Be=(We.Object||{})[Ee]||Object[Ee],Qe={};Qe[Ee]=ze(Be),Ue(Ue.S+Ue.F*$e((function(){Be(1)})),"Object",Qe)}},function(Ee,ze){Ee.exports=function(Ee,ze){return{enumerable:!(1&Ee),configurable:!(2&Ee),writable:!(4&Ee),value:ze}}},function(Ee,ze,Be){var Ue=Be(30)("keys"),We=Be(35);Ee.exports=function(Ee){return Ue[Ee]||(Ue[Ee]=We(Ee))}},function(Ee,ze,Be){var Ue=Be(4),We="__core-js_shared__",$e=Ue[We]||(Ue[We]={});Ee.exports=function(Ee){return $e[Ee]||($e[Ee]={})}},function(Ee,ze,Be){var Ue=Be(7),We=Math.max,$e=Math.min;Ee.exports=function(Ee,ze){return(Ee=Ue(Ee))<0?We(Ee+ze,0):$e(Ee,ze)}},function(Ee,ze,Be){var Ue=Be(7),We=Math.min;Ee.exports=function(Ee){return Ee>0?We(Ue(Ee),9007199254740991):0}},function(Ee,ze,Be){var Ue=Be(6);Ee.exports=function(Ee){return Object(Ue(Ee))}},function(Ee,ze,Be){var Ue=Be(5);Ee.exports=function(Ee,ze){if(!Ue(Ee))return Ee;var Be,We;if(ze&&"function"==typeof(Be=Ee.toString)&&!Ue(We=Be.call(Ee)))return We;if("function"==typeof(Be=Ee.valueOf)&&!Ue(We=Be.call(Ee)))return We;if(!ze&&"function"==typeof(Be=Ee.toString)&&!Ue(We=Be.call(Ee)))return We;throw TypeError("Can't convert object to primitive value")}},function(Ee,ze){var Be=0,Ue=Math.random();Ee.exports=function(Ee){return"Symbol(".concat(void 0===Ee?"":Ee,")_",(++Be+Ue).toString(36))}},function(Ee,ze,Be){var Ue=Be(33),We=Be(26);Be(27)("keys",(function(){return function(Ee){return We(Ue(Ee))}}))},function(Ee,ze){!function(Ee,ze){"use strict";function n(Ee){this.time=Ee.time,this.target=Ee.target,this.rootBounds=Ee.rootBounds,this.boundingClientRect=Ee.boundingClientRect,this.intersectionRect=Ee.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!Ee.intersectionRect;var ze=this.boundingClientRect,Be=ze.width*ze.height,Ue=this.intersectionRect,We=Ue.width*Ue.height;this.intersectionRatio=Be?We/Be:this.isIntersecting?1:0}function r(Ee,ze){var Be=ze||{};if("function"!=typeof Ee)throw new Error("callback must be a function");if(Be.root&&1!=Be.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function i(Ee,ze){var Be=null;return function(){Be||(Be=setTimeout((function(){Ee(),Be=null}),ze))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=Ee,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(Be.rootMargin),this.thresholds=this._initThresholds(Be.threshold),this.root=Be.root||null,this.rootMargin=this._rootMarginValues.map((function(Ee){return Ee.value+Ee.unit})).join(" ")}function o(){return Ee.performance&&performance.now&&performance.now()}function s(Ee,ze,Be,Ue){"function"==typeof Ee.addEventListener?Ee.addEventListener(ze,Be,Ue||!1):"function"==typeof Ee.attachEvent&&Ee.attachEvent("on"+ze,Be)}function u(Ee,ze,Be,Ue){"function"==typeof Ee.removeEventListener?Ee.removeEventListener(ze,Be,Ue||!1):"function"==typeof Ee.detatchEvent&&Ee.detatchEvent("on"+ze,Be)}function c(Ee,ze){var Be=Math.max(Ee.top,ze.top),Ue=Math.min(Ee.bottom,ze.bottom),We=Math.max(Ee.left,ze.left),$e=Math.min(Ee.right,ze.right),Qe=$e-We,et=Ue-Be;return Qe>=0&&et>=0&&{top:Be,bottom:Ue,left:We,right:$e,width:Qe,height:et}}function a(Ee){var ze;try{ze=Ee.getBoundingClientRect()}catch(Ee){}return ze?(ze.width&&ze.height||(ze={top:ze.top,right:ze.right,bottom:ze.bottom,left:ze.left,width:ze.right-ze.left,height:ze.bottom-ze.top}),ze):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(Ee,ze){for(var Be=ze;Be;){if(Be==Ee)return!0;Be=l(Be)}return!1}function l(Ee){var ze=Ee.parentNode;return ze&&11==ze.nodeType&&ze.host?ze.host:ze}if("IntersectionObserver"in Ee&&"IntersectionObserverEntry"in Ee&&"intersectionRatio"in Ee.IntersectionObserverEntry.prototype)"isIntersecting"in Ee.IntersectionObserverEntry.prototype||Object.defineProperty(Ee.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var Be=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(Ee){if(!this._observationTargets.some((function(ze){return ze.element==Ee}))){if(!Ee||1!=Ee.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:Ee,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(Ee){this._observationTargets=this._observationTargets.filter((function(ze){return ze.element!=Ee})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var Ee=this._queuedEntries.slice();return this._queuedEntries=[],Ee},r.prototype._initThresholds=function(Ee){var ze=Ee||[0];return Array.isArray(ze)||(ze=[ze]),ze.sort().filter((function(Ee,ze,Be){if("number"!=typeof Ee||isNaN(Ee)||Ee<0||Ee>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return Ee!==Be[ze-1]}))},r.prototype._parseRootMargin=function(Ee){var ze=(Ee||"0px").split(/\s+/).map((function(Ee){var ze=/^(-?\d*\.?\d+)(px|%)$/.exec(Ee);if(!ze)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(ze[1]),unit:ze[2]}}));return ze[1]=ze[1]||ze[0],ze[2]=ze[2]||ze[0],ze[3]=ze[3]||ze[1],ze},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(Ee,"resize",this._checkForIntersections,!0),s(ze,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in Ee&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(ze,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,u(Ee,"resize",this._checkForIntersections,!0),u(ze,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var Ee=this._rootIsInDom(),ze=Ee?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(Be){var Ue=Be.element,We=a(Ue),$e=this._rootContainsTarget(Ue),Qe=Be.entry,et=Ee&&$e&&this._computeTargetAndRootIntersection(Ue,ze),tt=Be.entry=new n({time:o(),target:Ue,boundingClientRect:We,rootBounds:ze,intersectionRect:et});Qe?Ee&&$e?this._hasCrossedThreshold(Qe,tt)&&this._queuedEntries.push(tt):Qe&&Qe.isIntersecting&&this._queuedEntries.push(tt):this._queuedEntries.push(tt)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(Be,Ue){if("none"!=Ee.getComputedStyle(Be).display){for(var We=a(Be),$e=l(Be),Qe=!1;!Qe;){var et=null,tt=1==$e.nodeType?Ee.getComputedStyle($e):{};if("none"==tt.display)return;if($e==this.root||$e==ze?(Qe=!0,et=Ue):$e!=ze.body&&$e!=ze.documentElement&&"visible"!=tt.overflow&&(et=a($e)),et&&!(We=c(et,We)))break;$e=l($e)}return We}},r.prototype._getRootRect=function(){var Ee;if(this.root)Ee=a(this.root);else{var Be=ze.documentElement,Ue=ze.body;Ee={top:0,left:0,right:Be.clientWidth||Ue.clientWidth,width:Be.clientWidth||Ue.clientWidth,bottom:Be.clientHeight||Ue.clientHeight,height:Be.clientHeight||Ue.clientHeight}}return this._expandRectByRootMargin(Ee)},r.prototype._expandRectByRootMargin=function(Ee){var ze=this._rootMarginValues.map((function(ze,Be){return"px"==ze.unit?ze.value:ze.value*(Be%2?Ee.width:Ee.height)/100})),Be={top:Ee.top-ze[0],right:Ee.right+ze[1],bottom:Ee.bottom+ze[2],left:Ee.left-ze[3]};return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be},r.prototype._hasCrossedThreshold=function(Ee,ze){var Be=Ee&&Ee.isIntersecting?Ee.intersectionRatio||0:-1,Ue=ze.isIntersecting?ze.intersectionRatio||0:-1;if(Be!==Ue)for(var We=0;We<this.thresholds.length;We++){var $e=this.thresholds[We];if($e==Be||$e==Ue||$e<Be!=$e<Ue)return!0}},r.prototype._rootIsInDom=function(){return!this.root||h(ze,this.root)},r.prototype._rootContainsTarget=function(Ee){return h(this.root||ze,Ee)},r.prototype._registerInstance=function(){Be.indexOf(this)<0&&Be.push(this)},r.prototype._unregisterInstance=function(){var Ee=Be.indexOf(this);-1!=Ee&&Be.splice(Ee,1)},Ee.IntersectionObserver=r,Ee.IntersectionObserverEntry=n}}(window,document)},function(Ee,ze){Ee.exports=Ue},function(Ee,ze){Ee.exports=We}]))},"428f":function(Ee,ze,Be){var Ue=Be("da84");Ee.exports=Ue},"42dc":function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("dfb3"),$e=Be("9092").extendFlat,Qe=Be("cb34").overrideAll,et=Be("82b5"),tt=Be("a651").templatedArray,rt=tt("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});Ee.exports=Qe(tt("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:rt,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:$e(et({editType:"arraydraw"}),{}),font:Ue({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:We.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},4324:function(Ee,ze,Be){"use strict";var Ue=Be("70b4");function insertBlank(Ee,ze,Be,Ue,We,$e,Qe){We[Ue]=!0;var et={i:null,gap:!0,s:0};if(et[Qe]=Be,Ee.splice(ze,0,et),ze&&Be===Ee[ze-1][Qe]){var tt=Ee[ze-1];et.s=tt.s,et.i=tt.i,et.gap=tt.gap}else $e&&(et.s=function getInterp(Ee,ze,Be,Ue){var We=Ee[ze-1],$e=Ee[ze+1];return $e?We?We.s+($e.s-We.s)*(Be-We[Ue])/($e[Ue]-We[Ue]):$e.s:We.s}(Ee,ze,Be,Qe));ze||(Ee[0].t=Ee[1].t,Ee[0].trace=Ee[1].trace,delete Ee[1].t,delete Ee[1].trace)}Ee.exports=function crossTraceCalc(Ee,ze){var Be=ze.xaxis,We=ze.yaxis,$e=Be._id+We._id,Qe=Ee._fullLayout._scatterStackOpts[$e];if(Qe){var et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar=Ee.calcdata;for(var Lr in Qe){var Qr=(kt=Qe[Lr]).traceIndices;if(Qr.length){for(Lt="interpolate"===kt.stackgaps,Ut=kt.groupnorm,"v"===kt.orientation?(er="x",tr="y"):(er="y",tr="x"),rr=new Array(Qr.length),et=0;et<rr.length;et++)rr[et]=!1;it=ar[Qr[0]];var on=new Array(it.length);for(et=0;et<it.length;et++)on[et]=it[et][er];for(et=1;et<Qr.length;et++){for(at=ar[Qr[et]],tt=rt=0;tt<at.length;tt++){for(ct=at[tt][er];ct>on[rt]&&rt<on.length;rt++)insertBlank(at,tt,on[rt],et,rr,Lt,er),tt++;if(ct!==on[rt]){for(nt=0;nt<et;nt++)insertBlank(ar[Qr[nt]],rt,ct,nt,rr,Lt,er);on.splice(rt,0,ct)}rt++}for(;rt<on.length;rt++)insertBlank(at,tt,on[rt],et,rr,Lt,er),tt++}var sn=on.length;for(tt=0;tt<it.length;tt++){for(ft=it[tt][tr]=it[tt].s,et=1;et<Qr.length;et++)(at=ar[Qr[et]])[0].trace._rawLength=at[0].trace._length,at[0].trace._length=sn,ft+=at[tt].s,at[tt][tr]=ft;if(Ut)for(xt=("fraction"===Ut?ft:ft/100)||1,et=0;et<Qr.length;et++){var ln=ar[Qr[et]][tt];ln[tr]/=xt,ln.sNorm=ln.s/xt}}for(et=0;et<Qr.length;et++){var cn=(at=ar[Qr[et]])[0].trace,un=Ue.calcMarkerSize(cn,cn._rawLength),hn=Array.isArray(un);if(un&&rr[et]||hn){var dn=un;for(un=new Array(sn),tt=0;tt<sn;tt++)un[tt]=at[tt].gap?0:hn?dn[at[tt].i]:dn}var vn=new Array(sn),yn=new Array(sn);for(tt=0;tt<sn;tt++)vn[tt]=at[tt].x,yn[tt]=at[tt].y;Ue.calcAxisExpansion(Ee,cn,Be,We,vn,yn,un),at[0].t.orientation=kt.orientation}}}}}},4358:function(Ee,ze,Be){"use strict";var Ue=Be("6af8").isArrayOrTypedArray,We=Be("1385");Ee.exports=function relinkPrivateKeys(Ee,ze){for(var Be in ze){var $e=ze[Be],Qe=Ee[Be];if(Qe!==$e)if("_"===Be.charAt(0)||"function"==typeof $e){if(Be in Ee)continue;Ee[Be]=$e}else if(Ue($e)&&Ue(Qe)&&We($e[0])){if("customdata"===Be||"ids"===Be)continue;for(var et=Math.min($e.length,Qe.length),tt=0;tt<et;tt++)Qe[tt]!==$e[tt]&&We($e[tt])&&We(Qe[tt])&&relinkPrivateKeys(Qe[tt],$e[tt])}else We($e)&&We(Qe)&&(relinkPrivateKeys(Qe,$e),Object.keys(Qe).length||delete Ee[Be])}}},4362:function(Ee,ze,Be){var Ue,We;ze.nextTick=function nextTick(Ee){var ze=Array.prototype.slice.call(arguments);ze.shift(),setTimeout((function(){Ee.apply(null,ze)}),0)},ze.platform=ze.arch=ze.execPath=ze.title="browser",ze.pid=1,ze.browser=!0,ze.env={},ze.argv=[],ze.binding=function(Ee){throw new Error("No such module. (Possibly not yet loaded)")},We="/",ze.cwd=function(){return We},ze.chdir=function(Ee){Ue||(Ue=Be("df7c")),We=Ue.resolve(Ee,We)},ze.exit=ze.kill=ze.umask=ze.dlopen=ze.uptime=ze.memoryUsage=ze.uvCounters=function(){},ze.features={}},4393:function(Ee,ze,Be){"use strict";var Ue=Be("a671");function IntervalTreeNode(Ee,ze,Be,Ue,We){this.mid=Ee,this.left=ze,this.right=Be,this.leftPoints=Ue,this.rightPoints=We,this.count=(ze?ze.count:0)+(Be?Be.count:0)+Ue.length}Ee.exports=function createWrapper(Ee){if(!Ee||0===Ee.length)return new IntervalTree(null);return new IntervalTree(createIntervalTree(Ee))};var We=IntervalTreeNode.prototype;function copy(Ee,ze){Ee.mid=ze.mid,Ee.left=ze.left,Ee.right=ze.right,Ee.leftPoints=ze.leftPoints,Ee.rightPoints=ze.rightPoints,Ee.count=ze.count}function rebuild(Ee,ze){var Be=createIntervalTree(ze);Ee.mid=Be.mid,Ee.left=Be.left,Ee.right=Be.right,Ee.leftPoints=Be.leftPoints,Ee.rightPoints=Be.rightPoints,Ee.count=Be.count}function rebuildWithInterval(Ee,ze){var Be=Ee.intervals([]);Be.push(ze),rebuild(Ee,Be)}function rebuildWithoutInterval(Ee,ze){var Be=Ee.intervals([]),Ue=Be.indexOf(ze);return Ue<0?0:(Be.splice(Ue,1),rebuild(Ee,Be),1)}function reportLeftRange(Ee,ze,Be){for(var Ue=0;Ue<Ee.length&&Ee[Ue][0]<=ze;++Ue){var We=Be(Ee[Ue]);if(We)return We}}function reportRightRange(Ee,ze,Be){for(var Ue=Ee.length-1;Ue>=0&&Ee[Ue][1]>=ze;--Ue){var We=Be(Ee[Ue]);if(We)return We}}function reportRange(Ee,ze){for(var Be=0;Be<Ee.length;++Be){var Ue=ze(Ee[Be]);if(Ue)return Ue}}function compareNumbers(Ee,ze){return Ee-ze}function compareBegin(Ee,ze){var Be=Ee[0]-ze[0];return Be||Ee[1]-ze[1]}function compareEnd(Ee,ze){var Be=Ee[1]-ze[1];return Be||Ee[0]-ze[0]}function createIntervalTree(Ee){if(0===Ee.length)return null;for(var ze=[],Be=0;Be<Ee.length;++Be)ze.push(Ee[Be][0],Ee[Be][1]);ze.sort(compareNumbers);var Ue=ze[ze.length>>1],We=[],$e=[],Qe=[];for(Be=0;Be<Ee.length;++Be){var et=Ee[Be];et[1]<Ue?We.push(et):Ue<et[0]?$e.push(et):Qe.push(et)}var tt=Qe,rt=Qe.slice();return tt.sort(compareBegin),rt.sort(compareEnd),new IntervalTreeNode(Ue,createIntervalTree(We),createIntervalTree($e),tt,rt)}function IntervalTree(Ee){this.root=Ee}We.intervals=function(Ee){return Ee.push.apply(Ee,this.leftPoints),this.left&&this.left.intervals(Ee),this.right&&this.right.intervals(Ee),Ee},We.insert=function(Ee){var ze=this.count-this.leftPoints.length;if(this.count+=1,Ee[1]<this.mid)this.left?4*(this.left.count+1)>3*(ze+1)?rebuildWithInterval(this,Ee):this.left.insert(Ee):this.left=createIntervalTree([Ee]);else if(Ee[0]>this.mid)this.right?4*(this.right.count+1)>3*(ze+1)?rebuildWithInterval(this,Ee):this.right.insert(Ee):this.right=createIntervalTree([Ee]);else{var Be=Ue.ge(this.leftPoints,Ee,compareBegin),We=Ue.ge(this.rightPoints,Ee,compareEnd);this.leftPoints.splice(Be,0,Ee),this.rightPoints.splice(We,0,Ee)}},We.remove=function(Ee){var ze=this.count-this.leftPoints;if(Ee[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(ze-1)?rebuildWithoutInterval(this,Ee):2===(Qe=this.left.remove(Ee))?(this.left=null,this.count-=1,1):(1===Qe&&(this.count-=1),Qe):0;if(Ee[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(ze-1)?rebuildWithoutInterval(this,Ee):2===(Qe=this.right.remove(Ee))?(this.right=null,this.count-=1,1):(1===Qe&&(this.count-=1),Qe):0;if(1===this.count)return this.leftPoints[0]===Ee?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===Ee){if(this.left&&this.right){for(var Be=this,We=this.left;We.right;)Be=We,We=We.right;if(Be===this)We.right=this.right;else{var $e=this.left,Qe=this.right;Be.count-=We.count,Be.right=We.left,We.left=$e,We.right=Qe}copy(this,We),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?copy(this,this.left):copy(this,this.right);return 1}for($e=Ue.ge(this.leftPoints,Ee,compareBegin);$e<this.leftPoints.length&&this.leftPoints[$e][0]===Ee[0];++$e)if(this.leftPoints[$e]===Ee){this.count-=1,this.leftPoints.splice($e,1);for(Qe=Ue.ge(this.rightPoints,Ee,compareEnd);Qe<this.rightPoints.length&&this.rightPoints[Qe][1]===Ee[1];++Qe)if(this.rightPoints[Qe]===Ee)return this.rightPoints.splice(Qe,1),1}return 0},We.queryPoint=function(Ee,ze){if(Ee<this.mid){if(this.left)if(Be=this.left.queryPoint(Ee,ze))return Be;return reportLeftRange(this.leftPoints,Ee,ze)}if(Ee>this.mid){var Be;if(this.right)if(Be=this.right.queryPoint(Ee,ze))return Be;return reportRightRange(this.rightPoints,Ee,ze)}return reportRange(this.leftPoints,ze)},We.queryInterval=function(Ee,ze,Be){var Ue;if(Ee<this.mid&&this.left&&(Ue=this.left.queryInterval(Ee,ze,Be)))return Ue;if(ze>this.mid&&this.right&&(Ue=this.right.queryInterval(Ee,ze,Be)))return Ue;return ze<this.mid?reportLeftRange(this.leftPoints,ze,Be):Ee>this.mid?reportRightRange(this.rightPoints,Ee,Be):reportRange(this.leftPoints,Be)};var $e=IntervalTree.prototype;$e.insert=function(Ee){this.root?this.root.insert(Ee):this.root=new IntervalTreeNode(Ee[0],null,null,[Ee],[Ee])},$e.remove=function(Ee){if(this.root){var ze=this.root.remove(Ee);return 2===ze&&(this.root=null),0!==ze}return!1},$e.queryPoint=function(Ee,ze){if(this.root)return this.root.queryPoint(Ee,ze)},$e.queryInterval=function(Ee,ze,Be){if(Ee<=ze&&this.root)return this.root.queryInterval(Ee,ze,Be)},Object.defineProperty($e,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty($e,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},"43d9":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("bb71"),Qe=Be("371e"),et=Be("8741"),tt=Be("4efe"),rt=Be("83d1"),nt=Be("d115"),at=Be("0379"),it=Be("84df"),ct=Be("baf5"),ft=Be("63dc"),xt=ft.LINE_SPACING,kt=ft.FROM_TL,Lt=ft.FROM_BR,Ut=Be("f28e"),er=Be("ee77"),tr=Be("79f1");function clickOrDoubleClick(Ee,ze,Be,Ue,We){var $e=Be.data()[0][0].trace,tt={event:We,node:Be.node(),curveNumber:$e.index,expandedIndex:$e._expandedIndex,data:Ee.data,layout:Ee.layout,frames:Ee._transitionData._frames,config:Ee._context,fullData:Ee._fullData,fullLayout:Ee._fullLayout};if($e._group&&(tt.group=$e._group),Qe.traceIs($e,"pie-like")&&(tt.label=Be.datum()[0].label),!1!==et.triggerHandler(Ee,"plotly_legendclick",tt))if(1===Ue)ze._clickTimeout=setTimeout((function(){it(Be,Ee,Ue)}),Ee._context.doubleClickDelay);else if(2===Ue){ze._clickTimeout&&clearTimeout(ze._clickTimeout),Ee._legendMouseDownTime=0,!1!==et.triggerHandler(Ee,"plotly_legenddoubleclick",tt)&&it(Be,Ee,Ue)}}function drawTexts(Ee,ze){var Be=Ee.data()[0][0],Ue=ze._fullLayout.legend,$e=Be.trace,et=Qe.traceIs($e,"pie-like"),tt=$e.index,nt=ze._context.edits.legendText&&!et,it=Ue._maxNameLength,ft=et?Be.label:$e.name;$e._meta&&(ft=We.templateString(ft,$e._meta));var xt=We.ensureSingle(Ee,"text","legendtext");xt.attr("text-anchor","start").classed("user-select-none",!0).call(rt.font,Ue.font).text(nt?ensureLength(ft,it):ft),at.positionText(xt,ct.textGap,0),nt?xt.call(at.makeEditable,{gd:ze,text:ft}).call(textLayout,Ee,ze).on("edit",(function(Ue){this.text(ensureLength(Ue,it)).call(textLayout,Ee,ze);var $e=Be.trace._fullInput||{},et={};if(Qe.hasTransform($e,"groupby")){var rt=Qe.getTransformIndices($e,"groupby"),nt=rt[rt.length-1],at=We.keyedContainer($e,"transforms["+nt+"].styles","target","value.name");at.set(Be.trace._group,Ue),et=at.constructUpdate()}else et.name=Ue;return Qe.call("_guiRestyle",ze,et,tt)})):textLayout(xt,Ee,ze)}function ensureLength(Ee,ze){var Be=Math.max(4,ze);if(Ee&&Ee.trim().length>=Be/2)return Ee;for(var Ue=Be-(Ee=Ee||"").length;Ue>0;Ue--)Ee+=" ";return Ee}function setupTraceToggle(Ee,ze){var Be,$e=ze._context.doubleClickDelay,Qe=1,et=We.ensureSingle(Ee,"rect","legendtoggle",(function(Ee){Ee.style("cursor","pointer").attr("pointer-events","all").call(nt.fill,"rgba(0,0,0,0)")}));et.on("mousedown",(function(){(Be=(new Date).getTime())-ze._legendMouseDownTime<$e?Qe+=1:(Qe=1,ze._legendMouseDownTime=Be)})),et.on("mouseup",(function(){if(!ze._dragged&&!ze._editing){var Be=ze._fullLayout.legend;(new Date).getTime()-ze._legendMouseDownTime>$e&&(Qe=Math.max(Qe-1,1)),clickOrDoubleClick(ze,Be,Ee,Qe,Ue.event)}}))}function textLayout(Ee,ze,Be){at.convertToTspans(Ee,Be,(function(){!function computeTextDimensions(Ee,ze){var Be=Ee.data()[0][0];if(Be&&!Be.trace.showlegend)return void Ee.remove();var Ue,We,$e=Ee.select("g[class*=math-group]"),Qe=$e.node(),et=ze._fullLayout.legend.borderwidth,tt=ze._fullLayout.legend,nt=(Be?tt:tt.title).font.size*xt;if(Qe){var it=rt.bBox(Qe);Ue=it.height,We=it.width,Be?rt.setTranslate($e,0,.25*Ue):rt.setTranslate($e,et,.75*Ue+et)}else{var ft=Ee.select(Be?".legendtext":".legendtitletext"),kt=at.lineCount(ft),Lt=ft.node();Ue=nt*kt,We=Lt?rt.bBox(Lt).width:0;var Ut=nt*((kt-1)/2-.3);Be?at.positionText(ft,ct.textGap,-Ut):at.positionText(ft,ct.titlePad+et,nt+et)}Be?(Be.lineHeight=nt,Be.height=Math.max(Ue,16)+3,Be.width=We):(tt._titleWidth=We,tt._titleHeight=Ue)}(ze,Be)}))}function getXanchor(Ee){return We.isRightAnchor(Ee)?"right":We.isCenterAnchor(Ee)?"center":"left"}function getYanchor(Ee){return We.isBottomAnchor(Ee)?"bottom":We.isMiddleAnchor(Ee)?"middle":"top"}Ee.exports=function draw(Ee){var ze=Ee._fullLayout,Be="legend"+ze._uid;if(ze._infolayer&&Ee.calcdata){Ee._legendMouseDownTime||(Ee._legendMouseDownTime=0);var et=ze.legend,at=ze.showlegend&&Ut(Ee.calcdata,et),it=ze.hiddenlabels||[];if(!ze.showlegend||!at.length)return ze._infolayer.selectAll(".legend").remove(),ze._topdefs.select("#"+Be).remove(),$e.autoMargin(Ee,"legend");var ft=We.ensureSingle(ze._infolayer,"g","legend",(function(Ee){Ee.attr("pointer-events","all")})),xt=We.ensureSingleById(ze._topdefs,"clipPath",Be,(function(Ee){Ee.append("rect")})),rr=We.ensureSingle(ft,"rect","bg",(function(Ee){Ee.attr("shape-rendering","crispEdges")}));rr.call(nt.stroke,et.bordercolor).call(nt.fill,et.bgcolor).style("stroke-width",et.borderwidth+"px");var ar=We.ensureSingle(ft,"g","scrollbox"),Lr=et.title;if(et._titleWidth=0,et._titleHeight=0,Lr.text){var Qr=We.ensureSingle(ar,"text","legendtitletext");Qr.attr("text-anchor","start").classed("user-select-none",!0).call(rt.font,Lr.font).text(Lr.text),textLayout(Qr,ar,Ee)}var on=We.ensureSingle(ft,"rect","scrollbar",(function(Ee){Ee.attr(ct.scrollBarEnterAttrs).call(nt.fill,ct.scrollBarColor)})),sn=ar.selectAll("g.groups").data(at);sn.enter().append("g").attr("class","groups"),sn.exit().remove();var ln=sn.selectAll("g.traces").data(We.identity);ln.enter().append("g").attr("class","traces"),ln.exit().remove(),ln.style("opacity",(function(Ee){var ze=Ee[0].trace;return Qe.traceIs(ze,"pie-like")?-1!==it.indexOf(Ee[0].label)?.5:1:"legendonly"===ze.visible?.5:1})).each((function(){Ue.select(this).call(drawTexts,Ee)})).call(er,Ee).each((function(){Ue.select(this).call(setupTraceToggle,Ee)})),We.syncOrAsync([$e.previousPromises,function(){return function computeLegendDimensions(Ee,ze,Be){var We=Ee._fullLayout,$e=We.legend,Qe=We._size,et=tr.isVertical($e),tt=tr.isGrouped($e),nt=$e.borderwidth,at=2*nt,it=ct.textGap,ft=ct.itemGap,xt=2*(nt+ft),kt=getYanchor($e),Lt=$e.y<0||0===$e.y&&"top"===kt,Ut=$e.y>1||1===$e.y&&"bottom"===kt;$e._maxHeight=Math.max(Lt||Ut?We.height/2:Qe.h,30);var er=0;$e._width=0,$e._height=0;var rr=function getTitleSize(Ee){var ze=0,Be=0,Ue=Ee.title.side;Ue&&(-1!==Ue.indexOf("left")&&(ze=Ee._titleWidth),-1!==Ue.indexOf("top")&&(Be=Ee._titleHeight));return[ze,Be]}($e);if(et)Be.each((function(Ee){var ze=Ee[0].height;rt.setTranslate(this,nt+rr[0],nt+rr[1]+$e._height+ze/2+ft),$e._height+=ze,$e._width=Math.max($e._width,Ee[0].width)})),er=it+$e._width,$e._width+=ft+it+at,$e._height+=xt,tt&&(ze.each((function(Ee,ze){rt.setTranslate(this,0,ze*$e.tracegroupgap)})),$e._height+=($e._lgroupsLength-1)*$e.tracegroupgap);else{var ar=getXanchor($e),Lr=$e.x<0||0===$e.x&&"right"===ar,Qr=$e.x>1||1===$e.x&&"left"===ar,on=Ut||Lt,sn=We.width/2;$e._maxWidth=Math.max(Lr?on&&"left"===ar?Qe.l+Qe.w:sn:Qr?on&&"right"===ar?Qe.r+Qe.w:sn:Qe.w,2*it);var ln=0,cn=0;Be.each((function(Ee){var ze=Ee[0].width+it;ln=Math.max(ln,ze),cn+=ze})),er=null;var un=0;if(tt){var hn=0,dn=0,vn=0;ze.each((function(){var Ee=0,ze=0;Ue.select(this).selectAll("g.traces").each((function(Be){var Ue=Be[0].height;rt.setTranslate(this,rr[0],rr[1]+nt+ft+Ue/2+ze),ze+=Ue,Ee=Math.max(Ee,it+Be[0].width)})),hn=Math.max(hn,ze);var Be=Ee+ft;Be+nt+dn>$e._maxWidth&&(un=Math.max(un,dn),dn=0,vn+=hn+$e.tracegroupgap,hn=ze),rt.setTranslate(this,dn,vn),dn+=Be})),$e._width=Math.max(un,dn)+nt,$e._height=vn+hn+xt}else{var yn=Be.size(),_n=cn+at+(yn-1)*ft<$e._maxWidth,Mn=0,Cn=0,En=0,Pn=0;Be.each((function(Ee){var ze=Ee[0].height,Be=it+Ee[0].width,Ue=(_n?Be:ln)+ft;Ue+nt+Cn>$e._maxWidth&&(un=Math.max(un,Pn),Cn=0,En+=Mn,$e._height+=Mn,Mn=0),rt.setTranslate(this,rr[0]+nt+Cn,rr[1]+nt+En+ze/2+ft),Pn=Cn+Be+ft,Cn+=Ue,Mn=Math.max(Mn,ze)})),_n?($e._width=Cn+at,$e._height=Mn+xt):($e._width=Math.max(un,Pn)+at,$e._height+=Mn+xt)}}$e._width=Math.ceil(Math.max($e._width+rr[0],$e._titleWidth+2*(nt+ct.titlePad))),$e._height=Math.ceil(Math.max($e._height+rr[1],$e._titleHeight+2*(nt+ct.itemGap))),$e._effHeight=Math.min($e._height,$e._maxHeight);var In=Ee._context.edits,Bn=In.legendText||In.legendPosition;Be.each((function(Ee){var ze=Ue.select(this).select(".legendtoggle"),Be=Ee[0].height,We=Bn?it:er||it+Ee[0].width;et||(We+=ft/2),rt.setRect(ze,0,-Be/2,We,Be)}))}(Ee,sn,ln)},function(){if(!function expandMargin(Ee){var ze=Ee._fullLayout.legend,Be=getXanchor(ze),Ue=getYanchor(ze);return $e.autoMargin(Ee,"legend",{x:ze.x,y:ze.y,l:ze._width*kt[Be],r:ze._width*Lt[Be],b:ze._effHeight*Lt[Ue],t:ze._effHeight*kt[Ue]})}(Ee)){var nt,at,it,Ut,er=ze._size,tr=et.borderwidth,Lr=er.l+er.w*et.x-kt[getXanchor(et)]*et._width,Qr=er.t+er.h*(1-et.y)-kt[getYanchor(et)]*et._effHeight;if(ze.margin.autoexpand){var sn=Lr,ln=Qr;Lr=We.constrain(Lr,0,ze.width-et._width),Qr=We.constrain(Qr,0,ze.height-et._effHeight),Lr!==sn&&We.log("Constrain legend.x to make legend fit inside graph"),Qr!==ln&&We.log("Constrain legend.y to make legend fit inside graph")}if(rt.setTranslate(ft,Lr,Qr),on.on(".drag",null),ft.on("wheel",null),et._height<=et._maxHeight||Ee._context.staticPlot)rr.attr({width:et._width-tr,height:et._effHeight-tr,x:tr/2,y:tr/2}),rt.setTranslate(ar,0,0),xt.select("rect").attr({width:et._width-2*tr,height:et._effHeight-2*tr,x:tr,y:tr}),rt.setClipUrl(ar,Be,Ee),rt.setRect(on,0,0,0,0),delete et._scrollY;else{var cn,un,hn,dn=Math.max(ct.scrollBarMinHeight,et._effHeight*et._effHeight/et._height),vn=et._effHeight-dn-2*ct.scrollBarMargin,yn=et._height-et._effHeight,_n=vn/yn,Mn=Math.min(et._scrollY||0,yn);rr.attr({width:et._width-2*tr+ct.scrollBarWidth+ct.scrollBarMargin,height:et._effHeight-tr,x:tr/2,y:tr/2}),xt.select("rect").attr({width:et._width-2*tr+ct.scrollBarWidth+ct.scrollBarMargin,height:et._effHeight-2*tr,x:tr,y:tr+Mn}),rt.setClipUrl(ar,Be,Ee),scrollHandler(Mn,dn,_n),ft.on("wheel",(function(){scrollHandler(Mn=We.constrain(et._scrollY+Ue.event.deltaY/vn*yn,0,yn),dn,_n),0!==Mn&&Mn!==yn&&Ue.event.preventDefault()}));var Cn=Ue.behavior.drag().on("dragstart",(function(){var Ee=Ue.event.sourceEvent;cn="touchstart"===Ee.type?Ee.changedTouches[0].clientY:Ee.clientY,hn=Mn})).on("drag",(function(){var Ee=Ue.event.sourceEvent;2===Ee.buttons||Ee.ctrlKey||(un="touchmove"===Ee.type?Ee.changedTouches[0].clientY:Ee.clientY,scrollHandler(Mn=function(Ee,ze,Be){var Ue=(Be-ze)/_n+Ee;return We.constrain(Ue,0,yn)}(hn,cn,un),dn,_n))}));on.call(Cn);var En=Ue.behavior.drag().on("dragstart",(function(){var Ee=Ue.event.sourceEvent;"touchstart"===Ee.type&&(cn=Ee.changedTouches[0].clientY,hn=Mn)})).on("drag",(function(){var Ee=Ue.event.sourceEvent;"touchmove"===Ee.type&&(un=Ee.changedTouches[0].clientY,scrollHandler(Mn=function(Ee,ze,Be){var Ue=(ze-Be)/_n+Ee;return We.constrain(Ue,0,yn)}(hn,cn,un),dn,_n))}));ar.call(En)}if(Ee._context.edits.legendPosition)ft.classed("cursor-move",!0),tt.init({element:ft.node(),gd:Ee,prepFn:function(){var Ee=rt.getTranslate(ft);it=Ee.x,Ut=Ee.y},moveFn:function(Ee,ze){var Be=it+Ee,Ue=Ut+ze;rt.setTranslate(ft,Be,Ue),nt=tt.align(Be,0,er.l,er.l+er.w,et.xanchor),at=tt.align(Ue,0,er.t+er.h,er.t,et.yanchor)},doneFn:function(){void 0!==nt&&void 0!==at&&Qe.call("_guiRelayout",Ee,{"legend.x":nt,"legend.y":at})},clickFn:function(Be,Ue){var We=ze._infolayer.selectAll("g.traces").filter((function(){var Ee=this.getBoundingClientRect();return Ue.clientX>=Ee.left&&Ue.clientX<=Ee.right&&Ue.clientY>=Ee.top&&Ue.clientY<=Ee.bottom}));We.size()>0&&clickOrDoubleClick(Ee,ft,We,Be,Ue)}})}function scrollHandler(ze,Be,Ue){et._scrollY=Ee._fullLayout.legend._scrollY=ze,rt.setTranslate(ar,0,-ze),rt.setRect(on,et._width,ct.scrollBarMargin+ze*Ue,ct.scrollBarWidth,Be),xt.select("rect").attr("y",tr+ze)}}],Ee)}}},"43ef":function(Ee,ze,Be){"use strict";var Ue=Be("0435"),We=Be("107c"),$e=Be("f4e9"),Qe=Be("db54").dash,et=Be("9845"),tt=Be("9092").extendFlat,rt=Be("6c77"),nt=rt.COMPARISON_OPS2,at=rt.INTERVAL_OPS,it=(Be("78df").FORMAT_LINK,We.line);Ee.exports=tt({z:Ue.z,x:Ue.x,x0:Ue.x0,dx:Ue.dx,y:Ue.y,y0:Ue.y0,dy:Ue.dy,text:Ue.text,hovertext:Ue.hovertext,transpose:Ue.transpose,xtype:Ue.xtype,ytype:Ue.ytype,zhoverformat:Ue.zhoverformat,hovertemplate:Ue.hovertemplate,hoverongaps:Ue.hoverongaps,connectgaps:tt({},Ue.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:et({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot"},operation:{valType:"enumerated",values:[].concat(nt).concat(at),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:tt({},it.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:Qe,smoothing:tt({},it.smoothing,{}),editType:"plot"}},$e("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},"442f":function(Ee,ze,Be){"use strict";var Ue=Be("b5e3");ze.plot=Ue.plot,ze.newPlot=Ue.newPlot,ze.restyle=Ue.restyle,ze.relayout=Ue.relayout,ze.redraw=Ue.redraw,ze.update=Ue.update,ze._guiRestyle=Ue._guiRestyle,ze._guiRelayout=Ue._guiRelayout,ze._guiUpdate=Ue._guiUpdate,ze._storeDirectGUIEdit=Ue._storeDirectGUIEdit,ze.react=Ue.react,ze.extendTraces=Ue.extendTraces,ze.prependTraces=Ue.prependTraces,ze.addTraces=Ue.addTraces,ze.deleteTraces=Ue.deleteTraces,ze.moveTraces=Ue.moveTraces,ze.purge=Ue.purge,ze.addFrames=Ue.addFrames,ze.deleteFrames=Ue.deleteFrames,ze.animate=Ue.animate,ze.setPlotConfig=Ue.setPlotConfig,ze.toImage=Be("a288"),ze.validate=Be("3fb2"),ze.downloadImage=Be("ad91");var We=Be("2d9a");ze.makeTemplate=We.makeTemplate,ze.validateTemplate=We.validateTemplate},"447e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("86d2"),$e=Be("000c");Ee.exports=function supplyDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var Be=coerce("z");if(void 0!==Be&&Be.length&&Be[0]&&Be[0].length){coerce("x0"),coerce("y0"),coerce("dx"),coerce("dy");var Qe=coerce("colormodel");coerce("zmin",$e.colormodel[Qe].min),coerce("zmax",$e.colormodel[Qe].max),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),ze._length=null}else ze.visible=!1}},"44ad":function(Ee,ze,Be){var Ue=Be("d039"),We=Be("c6b6"),$e="".split;Ee.exports=Ue((function(){return!Object("z").propertyIsEnumerable(0)}))?function(Ee){return"String"==We(Ee)?$e.call(Ee,""):Object(Ee)}:Object},"44c3":function(Ee,ze,Be){"use strict";var Ue=Be("1d5b");Ee.exports=function createFBO(Ee,ze,Be,Ue){We||(We=Ee.FRAMEBUFFER_UNSUPPORTED,$e=Ee.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,Qe=Ee.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,et=Ee.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var rt=Ee.getExtension("WEBGL_draw_buffers");!tt&&rt&&function lazyInitColorAttachments(Ee,ze){var Be=Ee.getParameter(ze.MAX_COLOR_ATTACHMENTS_WEBGL);tt=new Array(Be+1);for(var Ue=0;Ue<=Be;++Ue){for(var We=new Array(Be),$e=0;$e<Ue;++$e)We[$e]=Ee.COLOR_ATTACHMENT0+$e;for($e=Ue;$e<Be;++$e)We[$e]=Ee.NONE;tt[Ue]=We}}(Ee,rt);Array.isArray(ze)&&(Ue=Be,Be=0|ze[1],ze=0|ze[0]);if("number"!=typeof ze)throw new Error("gl-fbo: Missing shape parameter");var nt=Ee.getParameter(Ee.MAX_RENDERBUFFER_SIZE);if(ze<0||ze>nt||Be<0||Be>nt)throw new Error("gl-fbo: Parameters are too large for FBO");var at=1;if("color"in(Ue=Ue||{})){if((at=Math.max(0|Ue.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(at>1){if(!rt)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(at>Ee.getParameter(rt.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+at+" draw buffers")}}var it=Ee.UNSIGNED_BYTE,ct=Ee.getExtension("OES_texture_float");if(Ue.float&&at>0){if(!ct)throw new Error("gl-fbo: Context does not support floating point textures");it=Ee.FLOAT}else Ue.preferFloat&&at>0&&ct&&(it=Ee.FLOAT);var ft=!0;"depth"in Ue&&(ft=!!Ue.depth);var xt=!1;"stencil"in Ue&&(xt=!!Ue.stencil);return new Framebuffer(Ee,ze,Be,it,at,ft,xt,rt)};var We,$e,Qe,et,tt=null;function saveFBOState(Ee){return[Ee.getParameter(Ee.FRAMEBUFFER_BINDING),Ee.getParameter(Ee.RENDERBUFFER_BINDING),Ee.getParameter(Ee.TEXTURE_BINDING_2D)]}function restoreFBOState(Ee,ze){Ee.bindFramebuffer(Ee.FRAMEBUFFER,ze[0]),Ee.bindRenderbuffer(Ee.RENDERBUFFER,ze[1]),Ee.bindTexture(Ee.TEXTURE_2D,ze[2])}function throwFBOError(Ee){switch(Ee){case We:throw new Error("gl-fbo: Framebuffer unsupported");case $e:throw new Error("gl-fbo: Framebuffer incomplete attachment");case Qe:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case et:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function initTexture(Ee,ze,Be,We,$e,Qe){if(!We)return null;var et=Ue(Ee,ze,Be,$e,We);return et.magFilter=Ee.NEAREST,et.minFilter=Ee.NEAREST,et.mipSamples=1,et.bind(),Ee.framebufferTexture2D(Ee.FRAMEBUFFER,Qe,Ee.TEXTURE_2D,et.handle,0),et}function initRenderBuffer(Ee,ze,Be,Ue,We){var $e=Ee.createRenderbuffer();return Ee.bindRenderbuffer(Ee.RENDERBUFFER,$e),Ee.renderbufferStorage(Ee.RENDERBUFFER,Ue,ze,Be),Ee.framebufferRenderbuffer(Ee.FRAMEBUFFER,We,Ee.RENDERBUFFER,$e),$e}function Framebuffer(Ee,ze,Be,Ue,We,$e,Qe,et){this.gl=Ee,this._shape=[0|ze,0|Be],this._destroyed=!1,this._ext=et,this.color=new Array(We);for(var rt=0;rt<We;++rt)this.color[rt]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=Ue,this._useDepth=$e,this._useStencil=Qe;var nt=this,at=[0|ze,0|Be];Object.defineProperties(at,{0:{get:function(){return nt._shape[0]},set:function(Ee){return nt.width=Ee}},1:{get:function(){return nt._shape[1]},set:function(Ee){return nt.height=Ee}}}),this._shapeVector=at,function rebuildFBO(Ee){var ze=saveFBOState(Ee.gl),Be=Ee.gl,Ue=Ee.handle=Be.createFramebuffer(),We=Ee._shape[0],$e=Ee._shape[1],Qe=Ee.color.length,et=Ee._ext,rt=Ee._useStencil,nt=Ee._useDepth,at=Ee._colorType;Be.bindFramebuffer(Be.FRAMEBUFFER,Ue);for(var it=0;it<Qe;++it)Ee.color[it]=initTexture(Be,We,$e,at,Be.RGBA,Be.COLOR_ATTACHMENT0+it);0===Qe?(Ee._color_rb=initRenderBuffer(Be,We,$e,Be.RGBA4,Be.COLOR_ATTACHMENT0),et&&et.drawBuffersWEBGL(tt[0])):Qe>1&&et.drawBuffersWEBGL(tt[Qe]);var ct=Be.getExtension("WEBGL_depth_texture");ct?rt?Ee.depth=initTexture(Be,We,$e,ct.UNSIGNED_INT_24_8_WEBGL,Be.DEPTH_STENCIL,Be.DEPTH_STENCIL_ATTACHMENT):nt&&(Ee.depth=initTexture(Be,We,$e,Be.UNSIGNED_SHORT,Be.DEPTH_COMPONENT,Be.DEPTH_ATTACHMENT)):nt&&rt?Ee._depth_rb=initRenderBuffer(Be,We,$e,Be.DEPTH_STENCIL,Be.DEPTH_STENCIL_ATTACHMENT):nt?Ee._depth_rb=initRenderBuffer(Be,We,$e,Be.DEPTH_COMPONENT16,Be.DEPTH_ATTACHMENT):rt&&(Ee._depth_rb=initRenderBuffer(Be,We,$e,Be.STENCIL_INDEX,Be.STENCIL_ATTACHMENT));var ft=Be.checkFramebufferStatus(Be.FRAMEBUFFER);if(ft!==Be.FRAMEBUFFER_COMPLETE){Ee._destroyed=!0,Be.bindFramebuffer(Be.FRAMEBUFFER,null),Be.deleteFramebuffer(Ee.handle),Ee.handle=null,Ee.depth&&(Ee.depth.dispose(),Ee.depth=null),Ee._depth_rb&&(Be.deleteRenderbuffer(Ee._depth_rb),Ee._depth_rb=null);for(it=0;it<Ee.color.length;++it)Ee.color[it].dispose(),Ee.color[it]=null;Ee._color_rb&&(Be.deleteRenderbuffer(Ee._color_rb),Ee._color_rb=null),restoreFBOState(Be,ze),throwFBOError(ft)}restoreFBOState(Be,ze)}(this)}var rt=Framebuffer.prototype;function reshapeFBO(Ee,ze,Be){if(Ee._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(Ee._shape[0]!==ze||Ee._shape[1]!==Be){var Ue=Ee.gl,We=Ue.getParameter(Ue.MAX_RENDERBUFFER_SIZE);if(ze<0||ze>We||Be<0||Be>We)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");Ee._shape[0]=ze,Ee._shape[1]=Be;for(var $e=saveFBOState(Ue),Qe=0;Qe<Ee.color.length;++Qe)Ee.color[Qe].shape=Ee._shape;Ee._color_rb&&(Ue.bindRenderbuffer(Ue.RENDERBUFFER,Ee._color_rb),Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.RGBA4,Ee._shape[0],Ee._shape[1])),Ee.depth&&(Ee.depth.shape=Ee._shape),Ee._depth_rb&&(Ue.bindRenderbuffer(Ue.RENDERBUFFER,Ee._depth_rb),Ee._useDepth&&Ee._useStencil?Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_STENCIL,Ee._shape[0],Ee._shape[1]):Ee._useDepth?Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_COMPONENT16,Ee._shape[0],Ee._shape[1]):Ee._useStencil&&Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.STENCIL_INDEX,Ee._shape[0],Ee._shape[1])),Ue.bindFramebuffer(Ue.FRAMEBUFFER,Ee.handle);var et=Ue.checkFramebufferStatus(Ue.FRAMEBUFFER);et!==Ue.FRAMEBUFFER_COMPLETE&&(Ee.dispose(),restoreFBOState(Ue,$e),throwFBOError(et)),restoreFBOState(Ue,$e)}}Object.defineProperties(rt,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(Ee){if(Array.isArray(Ee)||(Ee=[0|Ee,0|Ee]),2!==Ee.length)throw new Error("gl-fbo: Shape vector must be length 2");var ze=0|Ee[0],Be=0|Ee[1];return reshapeFBO(this,ze,Be),[ze,Be]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(Ee){return reshapeFBO(this,Ee|=0,this._shape[1]),Ee},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(Ee){return Ee|=0,reshapeFBO(this,this._shape[0],Ee),Ee},enumerable:!1}}),rt.bind=function(){if(!this._destroyed){var Ee=this.gl;Ee.bindFramebuffer(Ee.FRAMEBUFFER,this.handle),Ee.viewport(0,0,this._shape[0],this._shape[1])}},rt.dispose=function(){if(!this._destroyed){this._destroyed=!0;var Ee=this.gl;Ee.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(Ee.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var ze=0;ze<this.color.length;++ze)this.color[ze].dispose(),this.color[ze]=null;this._color_rb&&(Ee.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},"44d4":function(Ee,ze,Be){"use strict";Ee.exports=Be("ea27")},"44fe":function(Ee,ze){Ee.exports=function rotateY(Ee,ze,Be){var Ue=Math.sin(Be),We=Math.cos(Be),$e=ze[0],Qe=ze[1],et=ze[2],tt=ze[3],rt=ze[8],nt=ze[9],at=ze[10],it=ze[11];ze!==Ee&&(Ee[4]=ze[4],Ee[5]=ze[5],Ee[6]=ze[6],Ee[7]=ze[7],Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]);return Ee[0]=$e*We-rt*Ue,Ee[1]=Qe*We-nt*Ue,Ee[2]=et*We-at*Ue,Ee[3]=tt*We-it*Ue,Ee[8]=$e*Ue+rt*We,Ee[9]=Qe*Ue+nt*We,Ee[10]=et*Ue+at*We,Ee[11]=tt*Ue+it*We,Ee}},"45a2":function(Ee,ze,Be){"use strict";var Ue=Be("dfb3"),We=Be("81f0").attributes,$e=Be("d798"),Qe=Be("cb34").overrideAll,et=Be("9092").extendFlat,tt={title:{text:$e.title.text,font:$e.title.font},color:$e.color,tickmode:$e.tickmode,nticks:et({},$e.nticks,{dflt:6,min:1}),tick0:$e.tick0,dtick:$e.dtick,tickvals:$e.tickvals,ticktext:$e.ticktext,ticks:$e.ticks,ticklen:$e.ticklen,tickwidth:$e.tickwidth,tickcolor:$e.tickcolor,showticklabels:$e.showticklabels,showtickprefix:$e.showtickprefix,tickprefix:$e.tickprefix,showticksuffix:$e.showticksuffix,ticksuffix:$e.ticksuffix,showexponent:$e.showexponent,exponentformat:$e.exponentformat,separatethousands:$e.separatethousands,tickfont:$e.tickfont,tickangle:$e.tickangle,tickformat:$e.tickformat,tickformatstops:$e.tickformatstops,hoverformat:$e.hoverformat,showline:et({},$e.showline,{dflt:!0}),linecolor:$e.linecolor,linewidth:$e.linewidth,showgrid:et({},$e.showgrid,{dflt:!0}),gridcolor:$e.gridcolor,gridwidth:$e.gridwidth,layer:$e.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:$e._deprecated.title,titlefont:$e._deprecated.titlefont}},rt=Ee.exports=Qe({domain:We({name:"ternary"}),bgcolor:{valType:"color",dflt:Ue.background},sum:{valType:"number",dflt:1,min:0},aaxis:tt,baxis:tt,caxis:tt},"plot","from-root");rt.uirevision={valType:"any",editType:"none"},rt.aaxis.uirevision=rt.baxis.uirevision=rt.caxis.uirevision={valType:"any",editType:"none"}},"45be":function(Ee,ze,Be){"use strict";var Ue=Be("dfb3"),We=Be("81f0").attributes,$e=Be("0804"),Qe=Be("cb34").overrideAll,et={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:Ue.lightLine},gridwidth:{valType:"number",min:0,dflt:1}};(Ee.exports=Qe({domain:We({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:Object.keys($e.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:Object.keys($e.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:Ue.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:$e.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:$e.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:$e.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:$e.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:Ue.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:Ue.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:Ue.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:Ue.background},lonaxis:et,lataxis:et},"plot","from-root")).uirevision={valType:"any",editType:"none"}},4633:function(Ee,ze,Be){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Ue,We="";Ee.exports=function repeat(Ee,ze){if("string"!=typeof Ee)throw new TypeError("expected a string");if(1===ze)return Ee;if(2===ze)return Ee+Ee;var Be=Ee.length*ze;if(Ue!==Ee||void 0===Ue)Ue=Ee,We="";else if(We.length>=Be)return We.substr(0,Be);for(;Be>We.length&&ze>1;)1&ze&&(We+=Ee),ze>>=1,Ee+=Ee;return We=(We+=Ee).substr(0,Be)}},"464d":function(Ee,ze,Be){"use strict";var Ue=Be("6e58");Ee.exports=function style(Ee){Ue.select(Ee).selectAll(".im image").style("opacity",(function(Ee){return Ee.trace.opacity}))}},4665:function(Ee,ze,Be){"use strict";var Ue=Be("1a94"),We=Be("6858"),$e=Function.prototype.call;Ee.exports=function(Ee,ze){var Be={},Qe=arguments[2];return Ue(ze),We(Ee,(function(Ee,Ue,We,et){Be[Ue]=$e.call(ze,Qe,Ee,Ue,We,et)})),Be}},"469b":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26");function bindingValueHasChanged(Ee,ze,Be){var Ue,$e,Qe,et=!1;if("data"===ze.type)Ue=Ee._fullData[null!==ze.traces?ze.traces[0]:0];else{if("layout"!==ze.type)return!1;Ue=Ee._fullLayout}return $e=We.nestedProperty(Ue,ze.prop).get(),(Qe=Be[ze.type]=Be[ze.type]||{}).hasOwnProperty(ze.prop)&&Qe[ze.prop]!==$e&&(et=!0),Qe[ze.prop]=$e,{changed:et,value:$e}}function computeLayoutBindings(Ee,ze){var Be=[],Ue=ze[0],$e={};if("string"==typeof Ue)$e[Ue]=ze[1];else{if(!We.isPlainObject(Ue))return Be;$e=Ue}return crawl($e,(function(Ee,ze,Ue){Be.push({type:"layout",prop:Ee,value:Ue})}),"",0),Be}function computeDataBindings(Ee,ze){var Be,Ue,$e,Qe,et=[];if(Ue=ze[0],$e=ze[1],Be=ze[2],Qe={},"string"==typeof Ue)Qe[Ue]=$e;else{if(!We.isPlainObject(Ue))return et;Qe=Ue,void 0===Be&&(Be=$e)}return void 0===Be&&(Be=null),crawl(Qe,(function(ze,Ue,We){var $e,Qe;if(Array.isArray(We)){Qe=We.slice();var tt=Math.min(Qe.length,Ee.data.length);Be&&(tt=Math.min(tt,Be.length)),$e=[];for(var rt=0;rt<tt;rt++)$e[rt]=Be?Be[rt]:rt}else Qe=We,$e=Be?Be.slice():null;if(null===$e)Array.isArray(Qe)&&(Qe=Qe[0]);else if(Array.isArray($e)){if(!Array.isArray(Qe)){var nt=Qe;Qe=[];for(var at=0;at<$e.length;at++)Qe[at]=nt}Qe.length=Math.min($e.length,Qe.length)}et.push({type:"data",prop:ze,traces:$e,value:Qe})}),"",0),et}function crawl(Ee,ze,Be,Ue){Object.keys(Ee).forEach((function($e){var Qe=Ee[$e];if("_"!==$e[0]){var et=Be+(Ue>0?".":"")+$e;We.isPlainObject(Qe)?crawl(Qe,ze,et,Ue+1):ze(et,$e,Qe)}}))}ze.manageCommandObserver=function(Ee,Be,Ue,$e){var Qe={},et=!0;Be&&Be._commandObserver&&(Qe=Be._commandObserver),Qe.cache||(Qe.cache={}),Qe.lookupTable={};var tt=ze.hasSimpleAPICommandBindings(Ee,Ue,Qe.lookupTable);if(Be&&Be._commandObserver){if(tt)return Qe;if(Be._commandObserver.remove)return Be._commandObserver.remove(),Be._commandObserver=null,Qe}if(tt){bindingValueHasChanged(Ee,tt,Qe.cache),Qe.check=function check(){if(et){var ze=bindingValueHasChanged(Ee,tt,Qe.cache);return ze.changed&&$e&&void 0!==Qe.lookupTable[ze.value]&&(Qe.disable(),Promise.resolve($e({value:ze.value,type:tt.type,prop:tt.prop,traces:tt.traces,index:Qe.lookupTable[ze.value]})).then(Qe.enable,Qe.enable)),ze.changed}};for(var rt=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],nt=0;nt<rt.length;nt++)Ee._internalOn(rt[nt],Qe.check);Qe.remove=function(){for(var ze=0;ze<rt.length;ze++)Ee._removeInternalListener(rt[ze],Qe.check)}}else We.log("Unable to automatically bind plot updates to API command"),Qe.lookupTable={},Qe.remove=function(){};return Qe.disable=function disable(){et=!1},Qe.enable=function enable(){et=!0},Be&&(Be._commandObserver=Qe),Qe},ze.hasSimpleAPICommandBindings=function(Ee,Be,Ue){var We,$e,Qe=Be.length;for(We=0;We<Qe;We++){var et,tt=Be[We],rt=tt.method,nt=tt.args;if(Array.isArray(nt)||(nt=[]),!rt)return!1;var at=ze.computeAPICommandBindings(Ee,rt,nt);if(1!==at.length)return!1;if($e){if((et=at[0]).type!==$e.type)return!1;if(et.prop!==$e.prop)return!1;if(Array.isArray($e.traces)){if(!Array.isArray(et.traces))return!1;et.traces.sort();for(var it=0;it<$e.traces.length;it++)if($e.traces[it]!==et.traces[it])return!1}else if(et.prop!==$e.prop)return!1}else $e=at[0],Array.isArray($e.traces)&&$e.traces.sort();var ct=(et=at[0]).value;if(Array.isArray(ct)){if(1!==ct.length)return!1;ct=ct[0]}Ue&&(Ue[ct]=We)}return $e},ze.executeAPICommand=function(Ee,ze,Be){if("skip"===ze)return Promise.resolve();var $e=Ue.apiMethodRegistry[ze],Qe=[Ee];Array.isArray(Be)||(Be=[]);for(var et=0;et<Be.length;et++)Qe.push(Be[et]);return $e.apply(null,Qe).catch((function(Ee){return We.warn("API call to Plotly."+ze+" rejected.",Ee),Promise.reject(Ee)}))},ze.computeAPICommandBindings=function(Ee,ze,Be){var Ue;switch(Array.isArray(Be)||(Be=[]),ze){case"restyle":Ue=computeDataBindings(Ee,Be);break;case"relayout":Ue=computeLayoutBindings(Ee,Be);break;case"update":Ue=computeDataBindings(Ee,[Be[0],Be[2]]).concat(computeLayoutBindings(Ee,[Be[1]]));break;case"animate":Ue=function computeAnimateBindings(Ee,ze){return Array.isArray(ze[0])&&1===ze[0].length&&-1!==["string","number"].indexOf(typeof ze[0][0])?[{type:"layout",prop:"_currentFrame",value:ze[0][0].toString()}]:[]}(0,Be);break;default:Ue=[]}return Ue}},"46bc":function(Ee,ze,Be){"use strict";var Ue=Be("0b1d")[4];Be("cc77");function testFlip(Ee,ze,Be,We,$e,Qe){var et=ze.opposite(We,$e);if(!(et<0)){if($e<We){var tt=We;We=$e,$e=tt,tt=Qe,Qe=et,et=tt}ze.isConstraint(We,$e)||Ue(Ee[We],Ee[$e],Ee[Qe],Ee[et])<0&&Be.push(We,$e)}}Ee.exports=function delaunayRefine(Ee,ze){for(var Be=[],We=Ee.length,$e=ze.stars,Qe=0;Qe<We;++Qe)for(var et=$e[Qe],tt=1;tt<et.length;tt+=2){if(!((it=et[tt])<Qe)&&!ze.isConstraint(Qe,it)){for(var rt=et[tt-1],nt=-1,at=1;at<et.length;at+=2)if(et[at-1]===it){nt=et[at];break}nt<0||Ue(Ee[Qe],Ee[it],Ee[rt],Ee[nt])<0&&Be.push(Qe,it)}}for(;Be.length>0;){for(var it=Be.pop(),ct=(Qe=Be.pop(),rt=-1,nt=-1,et=$e[Qe],1);ct<et.length;ct+=2){var ft=et[ct-1],xt=et[ct];ft===it?nt=xt:xt===it&&(rt=ft)}rt<0||nt<0||(Ue(Ee[Qe],Ee[it],Ee[rt],Ee[nt])>=0||(ze.flip(Qe,it),testFlip(Ee,ze,Be,rt,Qe,nt),testFlip(Ee,ze,Be,Qe,nt,rt),testFlip(Ee,ze,Be,nt,it,rt),testFlip(Ee,ze,Be,it,rt,nt)))}}},"46c1":function(Ee,ze,Be){"use strict";Ee.exports=Be("60c5")},4746:function(Ee,ze,Be){"use strict";Ee.exports=Be("48bb")},"47cc":function(Ee,ze,Be){"use strict";Ee.exports=function orientText(Ee,ze,Be,Ue,We,$e){var Qe=We[0]*Ee.dpdx(ze),et=We[1]*Ee.dpdy(Be),tt=1,rt=1;if($e){var nt=Math.sqrt(We[0]*We[0]+We[1]*We[1]),at=Math.sqrt($e[0]*$e[0]+$e[1]*$e[1]),it=(We[0]*$e[0]+We[1]*$e[1])/nt/at;rt=Math.max(0,it)}var ct=180*Math.atan2(et,Qe)/Math.PI;return ct<-90?(ct+=180,tt=-tt):ct>90&&(ct-=180,tt=-tt),{angle:ct,flip:tt,p:Ee.c2p(Ue,ze,Be),offsetMultplier:rt}}},4852:function(Ee,ze,Be){"use strict";var Ue=Be("66cb"),We={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},$e=We.RdBu;function isValidScaleArray(Ee){var ze=0;if(!Array.isArray(Ee)||Ee.length<2)return!1;if(!Ee[0]||!Ee[Ee.length-1])return!1;if(0!=+Ee[0][0]||1!=+Ee[Ee.length-1][0])return!1;for(var Be=0;Be<Ee.length;Be++){var We=Ee[Be];if(2!==We.length||+We[0]<ze||!Ue(We[1]).isValid())return!1;ze=+We[0]}return!0}Ee.exports={scales:We,defaultScale:$e,get:function getScale(Ee,ze){if(ze||(ze=$e),!Ee)return ze;function parseScale(){try{Ee=We[Ee]||JSON.parse(Ee)}catch(Be){Ee=ze}}return"string"==typeof Ee&&(parseScale(),"string"==typeof Ee&&parseScale()),isValidScaleArray(Ee)?Ee:ze},isValid:function isValidScale(Ee){return void 0!==We[Ee]||isValidScaleArray(Ee)}}},"487e":function(Ee,ze,Be){"use strict";Ee.exports=function createLines(Ee,ze,Be){var Qe=[],et=[0,0,0],tt=[0,0,0],rt=[0,0,0],nt=[0,0,0];Qe.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var at=0;at<3;++at){for(var it=Qe.length/3|0,ct=0;ct<Be[at].length;++ct){var ft=+Be[at][ct].x;Qe.push(ft,0,1,ft,1,1,ft,0,-1,ft,0,-1,ft,1,1,ft,1,-1)}var xt=Qe.length/3|0;et[at]=it,tt[at]=xt-it;it=Qe.length/3|0;for(var kt=0;kt<Be[at].length;++kt){ft=+Be[at][kt].x;Qe.push(ft,0,1,ft,1,1,ft,0,-1,ft,0,-1,ft,1,1,ft,1,-1)}xt=Qe.length/3|0;rt[at]=it,nt[at]=xt-it}var Lt=Ue(Ee,new Float32Array(Qe)),Ut=We(Ee,[{buffer:Lt,type:Ee.FLOAT,size:3,stride:0,offset:0}]),er=$e(Ee);return er.attributes.position.location=0,new Lines(Ee,Lt,Ut,er,tt,et,nt,rt)};var Ue=Be("efce"),We=Be("b205"),$e=Be("c185").line,Qe=[0,0,0],et=[0,0,0],tt=[0,0,0],rt=[0,0,0],nt=[1,1];function zeroVec(Ee){return Ee[0]=Ee[1]=Ee[2]=0,Ee}function copyVec(Ee,ze){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee}function Lines(Ee,ze,Be,Ue,We,$e,Qe,et){this.gl=Ee,this.vertBuffer=ze,this.vao=Be,this.shader=Ue,this.tickCount=We,this.tickOffset=$e,this.gridCount=Qe,this.gridOffset=et}var at=Lines.prototype;at.bind=function(Ee,ze,Be){this.shader.bind(),this.shader.uniforms.model=Ee,this.shader.uniforms.view=ze,this.shader.uniforms.projection=Be,nt[0]=this.gl.drawingBufferWidth,nt[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=nt,this.vao.bind()},at.unbind=function(){this.vao.unbind()},at.drawAxisLine=function(Ee,ze,Be,Ue,We){var $e=zeroVec(et);this.shader.uniforms.majorAxis=et,$e[Ee]=ze[1][Ee]-ze[0][Ee],this.shader.uniforms.minorAxis=$e;var Qe,nt=copyVec(rt,Be);nt[Ee]+=ze[0][Ee],this.shader.uniforms.offset=nt,this.shader.uniforms.lineWidth=We,this.shader.uniforms.color=Ue,(Qe=zeroVec(tt))[(Ee+2)%3]=1,this.shader.uniforms.screenAxis=Qe,this.vao.draw(this.gl.TRIANGLES,6),(Qe=zeroVec(tt))[(Ee+1)%3]=1,this.shader.uniforms.screenAxis=Qe,this.vao.draw(this.gl.TRIANGLES,6)},at.drawAxisTicks=function(Ee,ze,Be,Ue,We){if(this.tickCount[Ee]){var $e=zeroVec(Qe);$e[Ee]=1,this.shader.uniforms.majorAxis=$e,this.shader.uniforms.offset=ze,this.shader.uniforms.minorAxis=Be,this.shader.uniforms.color=Ue,this.shader.uniforms.lineWidth=We;var et=zeroVec(tt);et[Ee]=1,this.shader.uniforms.screenAxis=et,this.vao.draw(this.gl.TRIANGLES,this.tickCount[Ee],this.tickOffset[Ee])}},at.drawGrid=function(Ee,ze,Be,Ue,We,$e){if(this.gridCount[Ee]){var nt=zeroVec(et);nt[ze]=Be[1][ze]-Be[0][ze],this.shader.uniforms.minorAxis=nt;var at=copyVec(rt,Ue);at[ze]+=Be[0][ze],this.shader.uniforms.offset=at;var it=zeroVec(Qe);it[Ee]=1,this.shader.uniforms.majorAxis=it;var ct=zeroVec(tt);ct[Ee]=1,this.shader.uniforms.screenAxis=ct,this.shader.uniforms.lineWidth=$e,this.shader.uniforms.color=We,this.vao.draw(this.gl.TRIANGLES,this.gridCount[Ee],this.gridOffset[Ee])}},at.drawZero=function(Ee,ze,Be,Ue,We,$e){var Qe=zeroVec(et);this.shader.uniforms.majorAxis=Qe,Qe[Ee]=Be[1][Ee]-Be[0][Ee],this.shader.uniforms.minorAxis=Qe;var nt=copyVec(rt,Ue);nt[Ee]+=Be[0][Ee],this.shader.uniforms.offset=nt;var at=zeroVec(tt);at[ze]=1,this.shader.uniforms.screenAxis=at,this.shader.uniforms.lineWidth=$e,this.shader.uniforms.color=We,this.vao.draw(this.gl.TRIANGLES,6)},at.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},"489b":function(Ee){Ee.exports=JSON.parse('["normal","italic","oblique"]')},"48bb":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("919e"),supplyDefaults:Be("a9cd").supplyDefaults,supplyLayoutDefaults:Be("56b4"),layoutAttributes:Be("78d8"),calc:Be("86b8").calc,crossTraceCalc:Be("86b8").crossTraceCalc,plot:Be("c0af").plot,style:Be("72e9"),styleOne:Be("a708"),moduleType:"trace",name:"pie",basePlotModule:Be("6b5f"),categories:["pie-like","pie","showLegend"],meta:{}}},"48c2":function(Ee,ze,Be){"use strict";
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var Ue=Be("4633");Ee.exports=function padLeft(Ee,ze,Be){return Ue(Be=void 0!==Be?Be+"":" ",ze)+Ee}},"48f0":function(Ee,ze){Ee.exports=function invert(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=Be*$e-We*Ue;return Qe?(Qe=1/Qe,Ee[0]=$e*Qe,Ee[1]=-Ue*Qe,Ee[2]=-We*Qe,Ee[3]=Be*Qe,Ee):null}},"492e":function(Ee,ze,Be){"use strict";Ee.exports=function createSlabDecomposition(Ee){for(var ze=Ee.length,Be=2*ze,Ue=new Array(Be),$e=0;$e<ze;++$e){var et=Ee[$e],tt=et[0][0]<et[1][0];Ue[2*$e]=new Event(et[0][0],et,tt,$e),Ue[2*$e+1]=new Event(et[1][0],et,!tt,$e)}Ue.sort((function(Ee,ze){var Be=Ee.x-ze.x;return Be||((Be=Ee.create-ze.create)||Math.min(Ee.segment[0][1],Ee.segment[1][1])-Math.min(ze.segment[0][1],ze.segment[1][1]))}));var rt=We(Qe),nt=[],at=[],it=[];for($e=0;$e<Be;){for(var ct=Ue[$e].x,ft=[];$e<Be;){var xt=Ue[$e];if(xt.x!==ct)break;$e+=1,xt.segment[0][0]===xt.x&&xt.segment[1][0]===xt.x?xt.create&&(xt.segment[0][1]<xt.segment[1][1]?(ft.push(new IntervalSegment(xt.segment[0][1],xt.index,!0,!0)),ft.push(new IntervalSegment(xt.segment[1][1],xt.index,!1,!1))):(ft.push(new IntervalSegment(xt.segment[1][1],xt.index,!0,!1)),ft.push(new IntervalSegment(xt.segment[0][1],xt.index,!1,!0)))):rt=xt.create?rt.insert(xt.segment,xt.index):rt.remove(xt.segment)}nt.push(rt.root),at.push(ct),it.push(ft)}return new SlabDecomposition(nt,at,it)};var Ue=Be("2e46"),We=Be("c8ac"),$e=Be("92ba"),Qe=Be("9cfb");function SlabDecomposition(Ee,ze,Be){this.slabs=Ee,this.coordinates=ze,this.horizontal=Be}function compareHorizontal(Ee,ze){return Ee.y-ze}function searchBucket(Ee,ze){for(var Be=null;Ee;){var Ue,We,Qe=Ee.key;Qe[0][0]<Qe[1][0]?(Ue=Qe[0],We=Qe[1]):(Ue=Qe[1],We=Qe[0]);var et=$e(Ue,We,ze);if(et<0)Ee=Ee.left;else if(et>0)if(ze[0]!==Qe[1][0])Be=Ee,Ee=Ee.right;else{if(tt=searchBucket(Ee.right,ze))return tt;Ee=Ee.left}else{if(ze[0]!==Qe[1][0])return Ee;var tt;if(tt=searchBucket(Ee.right,ze))return tt;Ee=Ee.left}}return Be}function IntervalSegment(Ee,ze,Be,Ue){this.y=Ee,this.index=ze,this.start=Be,this.closed=Ue}function Event(Ee,ze,Be,Ue){this.x=Ee,this.segment=ze,this.create=Be,this.index=Ue}SlabDecomposition.prototype.castUp=function(Ee){var ze=Ue.le(this.coordinates,Ee[0]);if(ze<0)return-1;this.slabs[ze];var Be=searchBucket(this.slabs[ze],Ee),We=-1;if(Be&&(We=Be.value),this.coordinates[ze]===Ee[0]){var et=null;if(Be&&(et=Be.key),ze>0){var tt=searchBucket(this.slabs[ze-1],Ee);tt&&(et?Qe(tt.key,et)>0&&(et=tt.key,We=tt.value):(We=tt.value,et=tt.key))}var rt=this.horizontal[ze];if(rt.length>0){var nt=Ue.ge(rt,Ee[1],compareHorizontal);if(nt<rt.length){var at=rt[nt];if(Ee[1]===at.y){if(at.closed)return at.index;for(;nt<rt.length-1&&rt[nt+1].y===Ee[1];)if((at=rt[nt+=1]).closed)return at.index;if(at.y===Ee[1]&&!at.start){if((nt+=1)>=rt.length)return We;at=rt[nt]}}if(at.start)if(et){var it=$e(et[0],et[1],[Ee[0],at.y]);et[0][0]>et[1][0]&&(it=-it),it>0&&(We=at.index)}else We=at.index;else at.y!==Ee[1]&&(We=at.index)}}}return We}},4930:function(Ee,ze,Be){var Ue=Be("d039");Ee.exports=!!Object.getOwnPropertySymbols&&!Ue((function(){return!String(Symbol())}))},4991:function(Ee,ze){Ee.exports=function compareCells(Ee,ze){var Ue=Ee.length,We=Ee.length-ze.length;if(We)return We;switch(Ue){case 0:return 0;case 1:return Ee[0]-ze[0];case 2:return Ee[0]+Ee[1]-ze[0]-ze[1]||Be(Ee[0],Ee[1])-Be(ze[0],ze[1]);case 3:var $e=Ee[0]+Ee[1],Qe=ze[0]+ze[1];if(We=$e+Ee[2]-(Qe+ze[2]))return We;var et=Be(Ee[0],Ee[1]),tt=Be(ze[0],ze[1]);return Be(et,Ee[2])-Be(tt,ze[2])||Be(et+Ee[2],$e)-Be(tt+ze[2],Qe);case 4:var rt=Ee[0],nt=Ee[1],at=Ee[2],it=Ee[3],ct=ze[0],ft=ze[1],xt=ze[2],kt=ze[3];return rt+nt+at+it-(ct+ft+xt+kt)||Be(rt,nt,at,it)-Be(ct,ft,xt,kt,ct)||Be(rt+nt,rt+at,rt+it,nt+at,nt+it,at+it)-Be(ct+ft,ct+xt,ct+kt,ft+xt,ft+kt,xt+kt)||Be(rt+nt+at,rt+nt+it,rt+at+it,nt+at+it)-Be(ct+ft+xt,ct+ft+kt,ct+xt+kt,ft+xt+kt);default:for(var Lt=Ee.slice().sort(compareInt),Ut=ze.slice().sort(compareInt),er=0;er<Ue;++er)if(We=Lt[er]-Ut[er])return We;return 0}};var Be=Math.min;function compareInt(Ee,ze){return Ee-ze}},"49b4":function(Ee,ze,Be){"use strict";Ee.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},"49d8":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("abc9"),Qe=Be("7c39");Ee.exports=function supplyDefaults(Ee,ze,Be,et){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}function coerce2(Be,We){return Ue.coerce2(Ee,ze,Qe,Be,We)}if($e.handleSampleDefaults(Ee,ze,coerce,et),!1!==ze.visible){coerce("bandwidth"),coerce("side"),coerce("width")||(coerce("scalegroup",ze.name),coerce("scalemode"));var tt,rt=coerce("span");Array.isArray(rt)&&(tt="manual"),coerce("spanmode",tt);var nt=coerce("line.color",(Ee.marker||{}).color||Be),at=coerce("line.width"),it=coerce("fillcolor",We.addOpacity(ze.line.color,.5));$e.handlePointsDefaults(Ee,ze,coerce,{prefix:""});var ct=coerce2("box.width"),ft=coerce2("box.fillcolor",it),xt=coerce2("box.line.color",nt),kt=coerce2("box.line.width",at);coerce("box.visible",Boolean(ct||ft||xt||kt))||(ze.box={visible:!1});var Lt=coerce2("meanline.color",nt),Ut=coerce2("meanline.width",at);coerce("meanline.visible",Boolean(Lt||Ut))||(ze.meanline={visible:!1})}}},"4a35":function(Ee,ze){Ee.exports=function exactEquals(Ee,ze){return Ee[0]===ze[0]&&Ee[1]===ze[1]&&Ee[2]===ze[2]}},"4a53":function(Ee,ze,Be){"use strict";var Ue=Be("e440"),We=Be("c2e7"),$e=Be("d678"),Qe=Be("d4b5"),et=Be("f654");Ee.exports=function pathBounds(Ee){Array.isArray(Ee)&&1===Ee.length&&"string"==typeof Ee[0]&&(Ee=Ee[0]);"string"==typeof Ee&&(et(Qe(Ee),"String is not an SVG path."),Ee=Ue(Ee));if(et(Array.isArray(Ee),"Argument should be a string or an array of path segments."),Ee=We(Ee),!(Ee=$e(Ee)).length)return[0,0,0,0];for(var ze=[1/0,1/0,-1/0,-1/0],Be=0,tt=Ee.length;Be<tt;Be++)for(var rt=Ee[Be].slice(1),nt=0;nt<rt.length;nt+=2)rt[nt+0]<ze[0]&&(ze[0]=rt[nt+0]),rt[nt+1]<ze[1]&&(ze[1]=rt[nt+1]),rt[nt+0]>ze[2]&&(ze[2]=rt[nt+0]),rt[nt+1]>ze[3]&&(ze[3]=rt[nt+1]);return ze}},"4aa8":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3e8e");Ee.exports=function supplyLayoutDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}coerce("treemapcolorway",ze.colorway),coerce("extendtreemapcolors")}},"4ae2":function(Ee,ze,Be){Ee.exports=function preprocessPolygon(Ee){for(var ze=Ee.length,Be=[],$e=[],et=0;et<ze;++et)for(var tt=Ee[et],rt=tt.length,nt=rt-1,at=0;at<rt;nt=at++){var it=tt[nt],ct=tt[at];it[0]===ct[0]?$e.push([it,ct]):Be.push([it,ct])}if(0===Be.length)return 0===$e.length?classifyEmpty:function createClassifyVertical(Ee){return function classify(ze){return Ee(ze[0],ze[1])?0:1}}(buildVerticalIndex($e));var ft=We(Be),xt=function buildSlabSearch(Ee,ze){return function(Be){var We=Qe.le(ze,Be[0]);if(We<0)return 1;var $e=Ee[We];if(!$e){if(!(We>0&&ze[We]===Be[0]))return 1;$e=Ee[We-1]}for(var et=1;$e;){var tt=$e.key,rt=Ue(Be,tt[0],tt[1]);if(tt[0][0]<tt[1][0])if(rt<0)$e=$e.left;else{if(!(rt>0))return 0;et=-1,$e=$e.right}else if(rt>0)$e=$e.left;else{if(!(rt<0))return 0;et=1,$e=$e.right}}return et}}(ft.slabs,ft.coordinates);return 0===$e.length?xt:function createClassifyPointDegen(Ee,ze){return function classify(Be){return Ee(Be[0],Be[1])?0:ze(Be)}}(buildVerticalIndex($e),xt)};var Ue=Be("92ba")[3],We=Be("492e"),$e=Be("4393"),Qe=Be("b707");function visitInterval(){return!0}function buildVerticalIndex(Ee){for(var ze={},Be=0;Be<Ee.length;++Be){var Ue=Ee[Be],We=Ue[0][0],Qe=Ue[0][1],et=Ue[1][1],tt=[Math.min(Qe,et),Math.max(Qe,et)];We in ze?ze[We].push(tt):ze[We]=[tt]}var rt={},nt=Object.keys(ze);for(Be=0;Be<nt.length;++Be){var at=ze[nt[Be]];rt[nt[Be]]=$e(at)}return function intervalSearch(Ee){return function(ze,Be){var Ue=Ee[ze];return!!Ue&&!!Ue.queryPoint(Be,visitInterval)}}(rt)}function classifyEmpty(Ee){return 1}},"4b14":function(Ee,ze,Be){"use strict";Ee.exports=Be("bae5")},"4b6a":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("e5ac"),Qe=Be("d72e");function imageDefaults(Ee,ze,Be){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}var $e=coerce("source");if(!coerce("visible",!!$e))return ze;coerce("layer"),coerce("xanchor"),coerce("yanchor"),coerce("sizex"),coerce("sizey"),coerce("sizing"),coerce("opacity");for(var et={_fullLayout:Be},tt=["x","y"],rt=0;rt<2;rt++){var nt=tt[rt],at=We.coerceRef(Ee,ze,et,nt,"paper");if("paper"!==at)We.getFromId(et,at)._imgIndices.push(ze._index);We.coercePosition(ze,et,coerce,at,nt,0)}return ze}Ee.exports=function supplyLayoutDefaults(Ee,ze){$e(Ee,ze,{name:"images",handleItemDefaults:imageDefaults})}},"4b8c":function(Ee,ze,Be){"use strict";Ee.exports=function addProjectionsToD3(Ee){function d3_geo_projectFeature(Ee,ze){return{type:"Feature",id:Ee.id,properties:Ee.properties,geometry:d3_geo_projectGeometry(Ee.geometry,ze)}}function d3_geo_projectGeometry(ze,Be){if(!ze)return null;if("GeometryCollection"===ze.type)return{type:"GeometryCollection",geometries:object.geometries.map((function(Ee){return d3_geo_projectGeometry(Ee,Be)}))};if(!et.hasOwnProperty(ze.type))return null;var Ue=et[ze.type];return Ee.geo.stream(ze,Be(Ue)),Ue.result()}Ee.geo.project=function(Ee,Be){var Ue=Be.stream;if(!Ue)throw new Error("not yet supported");return(Ee&&ze.hasOwnProperty(Ee.type)?ze[Ee.type]:d3_geo_projectGeometry)(Ee,Ue)};var ze={Feature:d3_geo_projectFeature,FeatureCollection:function(Ee,ze){return{type:"FeatureCollection",features:Ee.features.map((function(Ee){return d3_geo_projectFeature(Ee,ze)}))}}},Be=[],Ue=[],We={point:function(Ee,ze){Be.push([Ee,ze])},result:function(){var Ee=Be.length?Be.length<2?{type:"Point",coordinates:Be[0]}:{type:"MultiPoint",coordinates:Be}:null;return Be=[],Ee}},$e={lineStart:d3_geo_projectNoop,point:function(Ee,ze){Be.push([Ee,ze])},lineEnd:function(){Be.length&&(Ue.push(Be),Be=[])},result:function(){var Ee=Ue.length?Ue.length<2?{type:"LineString",coordinates:Ue[0]}:{type:"MultiLineString",coordinates:Ue}:null;return Ue=[],Ee}},Qe={polygonStart:d3_geo_projectNoop,lineStart:d3_geo_projectNoop,point:function(Ee,ze){Be.push([Ee,ze])},lineEnd:function(){var Ee=Be.length;if(Ee){do{Be.push(Be[0].slice())}while(++Ee<4);Ue.push(Be),Be=[]}},polygonEnd:d3_geo_projectNoop,result:function(){if(!Ue.length)return null;var Ee=[],ze=[];return Ue.forEach((function(Be){!function d3_geo_projectClockwise(Ee){if((ze=Ee.length)<4)return!1;var ze,Be=0,Ue=Ee[ze-1][1]*Ee[0][0]-Ee[ze-1][0]*Ee[0][1];for(;++Be<ze;)Ue+=Ee[Be-1][1]*Ee[Be][0]-Ee[Be-1][0]*Ee[Be][1];return Ue<=0}(Be)?ze.push(Be):Ee.push([Be])})),ze.forEach((function(ze){var Be=ze[0];Ee.some((function(Ee){if(function d3_geo_projectContains(Ee,ze){for(var Be=ze[0],Ue=ze[1],We=!1,$e=0,Qe=Ee.length,et=Qe-1;$e<Qe;et=$e++){var tt=Ee[$e],rt=tt[0],nt=tt[1],at=Ee[et],it=at[0],ct=at[1];nt>Ue^ct>Ue&&Be<(it-rt)*(Ue-nt)/(ct-nt)+rt&&(We=!We)}return We}(Ee[0],Be))return Ee.push(ze),!0}))||Ee.push([ze])})),Ue=[],Ee.length?Ee.length>1?{type:"MultiPolygon",coordinates:Ee}:{type:"Polygon",coordinates:Ee[0]}:null}},et={Point:We,MultiPoint:We,LineString:$e,MultiLineString:$e,Polygon:Qe,MultiPolygon:Qe,Sphere:Qe};function d3_geo_projectNoop(){}var tt=1e-6,rt=Math.PI,nt=rt/2,at=(Math.sqrt(rt),rt/180),it=180/rt;function asin(Ee){return Ee>1?nt:Ee<-1?-nt:Math.asin(Ee)}function acos(Ee){return Ee>1?0:Ee<-1?rt:Math.acos(Ee)}var ct=Ee.geo.projection,ft=Ee.geo.projectionMutator;function eckert4(Ee,ze){var Be=(2+nt)*Math.sin(ze);ze/=2;for(var Ue=0,We=1/0;Ue<10&&Math.abs(We)>tt;Ue++){var $e=Math.cos(ze);ze-=We=(ze+Math.sin(ze)*($e+2)-Be)/(2*$e*(1+$e))}return[2/Math.sqrt(rt*(4+rt))*Ee*(1+Math.cos(ze)),2*Math.sqrt(rt/(4+rt))*Math.sin(ze)]}Ee.geo.interrupt=function(ze){var Be,Ue=[[[[-rt,0],[0,nt],[rt,0]]],[[[-rt,0],[0,-nt],[rt,0]]]];function forward(Ee,Be){for(var We=Be<0?-1:1,$e=Ue[+(Be<0)],Qe=0,et=$e.length-1;Qe<et&&Ee>$e[Qe][2][0];++Qe);var tt=ze(Ee-$e[Qe][1][0],Be);return tt[0]+=ze($e[Qe][1][0],We*Be>We*$e[Qe][0][1]?$e[Qe][0][1]:Be)[0],tt}function reset(){Be=Ue.map((function(Ee){return Ee.map((function(Ee){var Be,Ue=ze(Ee[0][0],Ee[0][1])[0],We=ze(Ee[2][0],Ee[2][1])[0],$e=ze(Ee[1][0],Ee[0][1])[1],Qe=ze(Ee[1][0],Ee[1][1])[1];return $e>Qe&&(Be=$e,$e=Qe,Qe=Be),[[Ue,$e],[We,Qe]]}))}))}ze.invert&&(forward.invert=function(Ee,We){for(var $e=Be[+(We<0)],Qe=Ue[+(We<0)],et=0,tt=$e.length;et<tt;++et){var rt=$e[et];if(rt[0][0]<=Ee&&Ee<rt[1][0]&&rt[0][1]<=We&&We<rt[1][1]){var nt=ze.invert(Ee-ze(Qe[et][1][0],0)[0],We);return nt[0]+=Qe[et][1][0],pointEqual(forward(nt[0],nt[1]),[Ee,We])?nt:null}}});var We=Ee.geo.projection(forward),$e=We.stream;function resample(Ee,ze){for(var Be,Ue,We,$e=-1,Qe=Ee.length,et=Ee[0],tt=[];++$e<Qe;){Ue=((Be=Ee[$e])[0]-et[0])/ze,We=(Be[1]-et[1])/ze;for(var rt=0;rt<ze;++rt)tt.push([et[0]+rt*Ue,et[1]+rt*We]);et=Be}return tt.push(Be),tt}function pointEqual(Ee,ze){return Math.abs(Ee[0]-ze[0])<tt&&Math.abs(Ee[1]-ze[1])<tt}return We.stream=function(ze){var Be=We.rotate(),Qe=$e(ze),et=(We.rotate([0,0]),$e(ze));return We.rotate(Be),Qe.sphere=function(){Ee.geo.stream(function sphere(){for(var ze=1e-6,Be=[],We=0,$e=Ue[0].length;We<$e;++We){var Qe=180*(it=Ue[0][We])[0][0]/rt,et=180*it[0][1]/rt,tt=180*it[1][1]/rt,nt=180*it[2][0]/rt,at=180*it[2][1]/rt;Be.push(resample([[Qe+ze,et+ze],[Qe+ze,tt-ze],[nt-ze,tt-ze],[nt-ze,at+ze]],30))}for(We=Ue[1].length-1;We>=0;--We){var it;Qe=180*(it=Ue[1][We])[0][0]/rt,et=180*it[0][1]/rt,tt=180*it[1][1]/rt,nt=180*it[2][0]/rt,at=180*it[2][1]/rt;Be.push(resample([[nt-ze,at-ze],[nt-ze,tt+ze],[Qe+ze,tt+ze],[Qe+ze,et-ze]],30))}return{type:"Polygon",coordinates:[Ee.merge(Be)]}}(),et)},Qe},We.lobes=function(Ee){return arguments.length?(Ue=Ee.map((function(Ee){return Ee.map((function(Ee){return[[Ee[0][0]*rt/180,Ee[0][1]*rt/180],[Ee[1][0]*rt/180,Ee[1][1]*rt/180],[Ee[2][0]*rt/180,Ee[2][1]*rt/180]]}))})),reset(),We):Ue.map((function(Ee){return Ee.map((function(Ee){return[[180*Ee[0][0]/rt,180*Ee[0][1]/rt],[180*Ee[1][0]/rt,180*Ee[1][1]/rt],[180*Ee[2][0]/rt,180*Ee[2][1]/rt]]}))}))},We},eckert4.invert=function(Ee,ze){var Be=.5*ze*Math.sqrt((4+rt)/rt),Ue=asin(Be),We=Math.cos(Ue);return[Ee/(2/Math.sqrt(rt*(4+rt))*(1+We)),asin((Ue+Be*(We+2))/(2+nt))]},(Ee.geo.eckert4=function(){return ct(eckert4)}).raw=eckert4;var xt=Ee.geo.azimuthalEqualArea.raw;function hammer(Ee,ze){if(arguments.length<2&&(ze=Ee),1===ze)return xt;if(ze===1/0)return hammerQuarticAuthalic;function forward(Be,Ue){var We=xt(Be/ze,Ue);return We[0]*=Ee,We}return forward.invert=function(Be,Ue){var We=xt.invert(Be/Ee,Ue);return We[0]*=ze,We},forward}function hammerQuarticAuthalic(Ee,ze){return[Ee*Math.cos(ze)/Math.cos(ze/=2),2*Math.sin(ze)]}function kavrayskiy7(Ee,ze){return[3*Ee/(2*rt)*Math.sqrt(rt*rt/3-ze*ze),ze]}function miller(Ee,ze){return[Ee,1.25*Math.log(Math.tan(rt/4+.4*ze))]}function mollweideBromleyθ(Ee){return function(ze){var Be,Ue=Ee*Math.sin(ze),We=30;do{ze-=Be=(ze+Math.sin(ze)-Ue)/(1+Math.cos(ze))}while(Math.abs(Be)>tt&&--We>0);return ze/2}}hammerQuarticAuthalic.invert=function(Ee,ze){var Be=2*asin(ze/2);return[Ee*Math.cos(Be/2)/Math.cos(Be),Be]},(Ee.geo.hammer=function hammerProjection(){var Ee=2,ze=ft(hammer),Be=ze(Ee);return Be.coefficient=function(Be){return arguments.length?ze(Ee=+Be):Ee},Be}).raw=hammer,kavrayskiy7.invert=function(Ee,ze){return[2/3*rt*Ee/Math.sqrt(rt*rt/3-ze*ze),ze]},(Ee.geo.kavrayskiy7=function(){return ct(kavrayskiy7)}).raw=kavrayskiy7,miller.invert=function(Ee,ze){return[Ee,2.5*Math.atan(Math.exp(.8*ze))-.625*rt]},(Ee.geo.miller=function(){return ct(miller)}).raw=miller,mollweideBromleyθ(rt);var kt=function mollweideBromley(Ee,ze,Be){var Ue=mollweideBromleyθ(Be);function forward(Be,We){return[Ee*Be*Math.cos(We=Ue(We)),ze*Math.sin(We)]}return forward.invert=function(Ue,We){var $e=asin(We/ze);return[Ue/(Ee*Math.cos($e)),asin((2*$e+Math.sin(2*$e))/Be)]},forward}(Math.SQRT2/nt,Math.SQRT2,rt);function naturalEarth(Ee,ze){var Be=ze*ze,Ue=Be*Be;return[Ee*(.8707-.131979*Be+Ue*(Ue*(.003971*Be-.001529*Ue)-.013791)),ze*(1.007226+Be*(.015085+Ue*(.028874*Be-.044475-.005916*Ue)))]}(Ee.geo.mollweide=function(){return ct(kt)}).raw=kt,naturalEarth.invert=function(Ee,ze){var Be,Ue=ze,We=25;do{var $e=Ue*Ue,Qe=$e*$e;Ue-=Be=(Ue*(1.007226+$e*(.015085+Qe*(.028874*$e-.044475-.005916*Qe)))-ze)/(1.007226+$e*(.045255+Qe*(.259866*$e-.311325-.005916*11*Qe)))}while(Math.abs(Be)>tt&&--We>0);return[Ee/(.8707+($e=Ue*Ue)*($e*($e*$e*$e*(.003971-.001529*$e)-.013791)-.131979)),Ue]},(Ee.geo.naturalEarth=function(){return ct(naturalEarth)}).raw=naturalEarth;var Lt=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function robinson(Ee,ze){var Be,Ue=Math.min(18,36*Math.abs(ze)/rt),We=Math.floor(Ue),$e=Ue-We,Qe=(Be=Lt[We])[0],et=Be[1],tt=(Be=Lt[++We])[0],at=Be[1],it=(Be=Lt[Math.min(19,++We)])[0],ct=Be[1];return[Ee*(tt+$e*(it-Qe)/2+$e*$e*(it-2*tt+Qe)/2),(ze>0?nt:-nt)*(at+$e*(ct-et)/2+$e*$e*(ct-2*at+et)/2)]}function sinusoidal(Ee,ze){return[Ee*Math.cos(ze),ze]}function aitoff(Ee,ze){var Be=Math.cos(ze),Ue=function sinci(Ee){return Ee?Ee/Math.sin(Ee):1}(acos(Be*Math.cos(Ee/=2)));return[2*Be*Math.sin(Ee)*Ue,Math.sin(ze)*Ue]}function winkel3(Ee,ze){var Be=aitoff(Ee,ze);return[(Be[0]+Ee/nt)/2,(Be[1]+ze)/2]}Lt.forEach((function(Ee){Ee[1]*=1.0144})),robinson.invert=function(Ee,ze){var Be=ze/nt,Ue=90*Be,We=Math.min(18,Math.abs(Ue/5)),$e=Math.max(0,Math.floor(We));do{var Qe=Lt[$e][1],et=Lt[$e+1][1],tt=Lt[Math.min(19,$e+2)][1],rt=tt-Qe,ct=tt-2*et+Qe,ft=2*(Math.abs(Be)-et)/rt,xt=ct/rt,kt=ft*(1-xt*ft*(1-2*xt*ft));if(kt>=0||1===$e){Ue=(ze>=0?5:-5)*(kt+We);var Ut,er=50;do{kt=(We=Math.min(18,Math.abs(Ue)/5))-($e=Math.floor(We)),Qe=Lt[$e][1],et=Lt[$e+1][1],tt=Lt[Math.min(19,$e+2)][1],Ue-=(Ut=(ze>=0?nt:-nt)*(et+kt*(tt-Qe)/2+kt*kt*(tt-2*et+Qe)/2)-ze)*it}while(Math.abs(Ut)>1e-12&&--er>0);break}}while(--$e>=0);var tr=Lt[$e][0],rr=Lt[$e+1][0],ar=Lt[Math.min(19,$e+2)][0];return[Ee/(rr+kt*(ar-tr)/2+kt*kt*(ar-2*rr+tr)/2),Ue*at]},(Ee.geo.robinson=function(){return ct(robinson)}).raw=robinson,sinusoidal.invert=function(Ee,ze){return[Ee/Math.cos(ze),ze]},(Ee.geo.sinusoidal=function(){return ct(sinusoidal)}).raw=sinusoidal,aitoff.invert=function(Ee,ze){if(!(Ee*Ee+4*ze*ze>rt*rt+tt)){var Be=Ee,Ue=ze,We=25;do{var $e,Qe=Math.sin(Be),et=Math.sin(Be/2),nt=Math.cos(Be/2),at=Math.sin(Ue),it=Math.cos(Ue),ct=Math.sin(2*Ue),ft=at*at,xt=it*it,kt=et*et,Lt=1-xt*nt*nt,Ut=Lt?acos(it*nt)*Math.sqrt($e=1/Lt):$e=0,er=2*Ut*it*et-Ee,tr=Ut*at-ze,rr=$e*(xt*kt+Ut*it*nt*ft),ar=$e*(.5*Qe*ct-2*Ut*at*et),Lr=.25*$e*(ct*et-Ut*at*xt*Qe),Qr=$e*(ft*nt+Ut*kt*it),on=ar*Lr-Qr*rr;if(!on)break;var sn=(tr*ar-er*Qr)/on,ln=(er*Lr-tr*rr)/on;Be-=sn,Ue-=ln}while((Math.abs(sn)>tt||Math.abs(ln)>tt)&&--We>0);return[Be,Ue]}},(Ee.geo.aitoff=function(){return ct(aitoff)}).raw=aitoff,winkel3.invert=function(Ee,ze){var Be=Ee,Ue=ze,We=25;do{var $e,Qe=Math.cos(Ue),et=Math.sin(Ue),rt=Math.sin(2*Ue),at=et*et,it=Qe*Qe,ct=Math.sin(Be),ft=Math.cos(Be/2),xt=Math.sin(Be/2),kt=xt*xt,Lt=1-it*ft*ft,Ut=Lt?acos(Qe*ft)*Math.sqrt($e=1/Lt):$e=0,er=.5*(2*Ut*Qe*xt+Be/nt)-Ee,tr=.5*(Ut*et+Ue)-ze,rr=.5*$e*(it*kt+Ut*Qe*ft*at)+.5/nt,ar=$e*(ct*rt/4-Ut*et*xt),Lr=.125*$e*(rt*xt-Ut*et*it*ct),Qr=.5*$e*(at*ft+Ut*kt*Qe)+.5,on=ar*Lr-Qr*rr,sn=(tr*ar-er*Qr)/on,ln=(er*Lr-tr*rr)/on;Be-=sn,Ue-=ln}while((Math.abs(sn)>tt||Math.abs(ln)>tt)&&--We>0);return[Be,Ue]},(Ee.geo.winkel3=function(){return ct(winkel3)}).raw=winkel3}},"4bba":function(Ee,ze){Ee.exports=function inverse(Ee,ze){return Ee[0]=1/ze[0],Ee[1]=1/ze[1],Ee[2]=1/ze[2],Ee}},"4c18":function(Ee,ze,Be){"use strict";var Ue=Be("175e");function innerFill(Ee,ze,Be){var Ue,We,$e=Ee.length,Qe=ze.arrayArgs.length,et=ze.indexArgs.length>0,tt=[],rt=[],nt=0,at=0;for(Ue=0;Ue<$e;++Ue)rt.push(["i",Ue,"=0"].join(""));for(We=0;We<Qe;++We)for(Ue=0;Ue<$e;++Ue)at=nt,nt=Ee[Ue],0===Ue?rt.push(["d",We,"s",Ue,"=t",We,"p",nt].join("")):rt.push(["d",We,"s",Ue,"=(t",We,"p",nt,"-s",at,"*t",We,"p",at,")"].join(""));for(rt.length>0&&tt.push("var "+rt.join(",")),Ue=$e-1;Ue>=0;--Ue)nt=Ee[Ue],tt.push(["for(i",Ue,"=0;i",Ue,"<s",nt,";++i",Ue,"){"].join(""));for(tt.push(Be),Ue=0;Ue<$e;++Ue){for(at=nt,nt=Ee[Ue],We=0;We<Qe;++We)tt.push(["p",We,"+=d",We,"s",Ue].join(""));et&&(Ue>0&&tt.push(["index[",at,"]-=s",at].join("")),tt.push(["++index[",nt,"]"].join(""))),tt.push("}")}return tt.join("\n")}function processBlock(Ee,ze,Be){for(var Ue=Ee.body,We=[],$e=[],Qe=0;Qe<Ee.args.length;++Qe){var et=Ee.args[Qe];if(!(et.count<=0)){var tt=new RegExp(et.name,"g"),rt="",nt=ze.arrayArgs.indexOf(Qe);switch(ze.argTypes[Qe]){case"offset":var at=ze.offsetArgIndex.indexOf(Qe);nt=ze.offsetArgs[at].array,rt="+q"+at;case"array":rt="p"+nt+rt;var it="l"+Qe,ct="a"+nt;if(0===ze.arrayBlockIndices[nt])1===et.count?"generic"===Be[nt]?et.lvalue?(We.push(["var ",it,"=",ct,".get(",rt,")"].join("")),Ue=Ue.replace(tt,it),$e.push([ct,".set(",rt,",",it,")"].join(""))):Ue=Ue.replace(tt,[ct,".get(",rt,")"].join("")):Ue=Ue.replace(tt,[ct,"[",rt,"]"].join("")):"generic"===Be[nt]?(We.push(["var ",it,"=",ct,".get(",rt,")"].join("")),Ue=Ue.replace(tt,it),et.lvalue&&$e.push([ct,".set(",rt,",",it,")"].join(""))):(We.push(["var ",it,"=",ct,"[",rt,"]"].join("")),Ue=Ue.replace(tt,it),et.lvalue&&$e.push([ct,"[",rt,"]=",it].join("")));else{for(var ft=[et.name],xt=[rt],kt=0;kt<Math.abs(ze.arrayBlockIndices[nt]);kt++)ft.push("\\s*\\[([^\\]]+)\\]"),xt.push("$"+(kt+1)+"*t"+nt+"b"+kt);if(tt=new RegExp(ft.join(""),"g"),rt=xt.join("+"),"generic"===Be[nt])throw new Error("cwise: Generic arrays not supported in combination with blocks!");Ue=Ue.replace(tt,[ct,"[",rt,"]"].join(""))}break;case"scalar":Ue=Ue.replace(tt,"Y"+ze.scalarArgs.indexOf(Qe));break;case"index":Ue=Ue.replace(tt,"index");break;case"shape":Ue=Ue.replace(tt,"shape")}}}return[We.join("\n"),Ue,$e.join("\n")].join("\n").trim()}function typeSummary(Ee){for(var ze=new Array(Ee.length),Be=!0,Ue=0;Ue<Ee.length;++Ue){var We=Ee[Ue],$e=We.match(/\d+/);$e=$e?$e[0]:"",0===We.charAt(0)?ze[Ue]="u"+We.charAt(1)+$e:ze[Ue]=We.charAt(0)+$e,Ue>0&&(Be=Be&&ze[Ue]===ze[Ue-1])}return Be?ze[0]:ze.join("")}Ee.exports=function generateCWiseOp(Ee,ze){for(var Be=ze[1].length-Math.abs(Ee.arrayBlockIndices[0])|0,We=new Array(Ee.arrayArgs.length),$e=new Array(Ee.arrayArgs.length),Qe=0;Qe<Ee.arrayArgs.length;++Qe)$e[Qe]=ze[2*Qe],We[Qe]=ze[2*Qe+1];var et=[],tt=[],rt=[],nt=[],at=[];for(Qe=0;Qe<Ee.arrayArgs.length;++Qe){Ee.arrayBlockIndices[Qe]<0?(rt.push(0),nt.push(Be),et.push(Be),tt.push(Be+Ee.arrayBlockIndices[Qe])):(rt.push(Ee.arrayBlockIndices[Qe]),nt.push(Ee.arrayBlockIndices[Qe]+Be),et.push(0),tt.push(Ee.arrayBlockIndices[Qe]));for(var it=[],ct=0;ct<We[Qe].length;ct++)rt[Qe]<=We[Qe][ct]&&We[Qe][ct]<nt[Qe]&&it.push(We[Qe][ct]-rt[Qe]);at.push(it)}var ft=["SS"],xt=["'use strict'"],kt=[];for(ct=0;ct<Be;++ct)kt.push(["s",ct,"=SS[",ct,"]"].join(""));for(Qe=0;Qe<Ee.arrayArgs.length;++Qe){ft.push("a"+Qe),ft.push("t"+Qe),ft.push("p"+Qe);for(ct=0;ct<Be;++ct)kt.push(["t",Qe,"p",ct,"=t",Qe,"[",rt[Qe]+ct,"]"].join(""));for(ct=0;ct<Math.abs(Ee.arrayBlockIndices[Qe]);++ct)kt.push(["t",Qe,"b",ct,"=t",Qe,"[",et[Qe]+ct,"]"].join(""))}for(Qe=0;Qe<Ee.scalarArgs.length;++Qe)ft.push("Y"+Qe);if(Ee.shapeArgs.length>0&&kt.push("shape=SS.slice(0)"),Ee.indexArgs.length>0){var Lt=new Array(Be);for(Qe=0;Qe<Be;++Qe)Lt[Qe]="0";kt.push(["index=[",Lt.join(","),"]"].join(""))}for(Qe=0;Qe<Ee.offsetArgs.length;++Qe){var Ut=Ee.offsetArgs[Qe],er=[];for(ct=0;ct<Ut.offset.length;++ct)0!==Ut.offset[ct]&&(1===Ut.offset[ct]?er.push(["t",Ut.array,"p",ct].join("")):er.push([Ut.offset[ct],"*t",Ut.array,"p",ct].join("")));0===er.length?kt.push("q"+Qe+"=0"):kt.push(["q",Qe,"=",er.join("+")].join(""))}var tr=Ue([].concat(Ee.pre.thisVars).concat(Ee.body.thisVars).concat(Ee.post.thisVars));for((kt=kt.concat(tr)).length>0&&xt.push("var "+kt.join(",")),Qe=0;Qe<Ee.arrayArgs.length;++Qe)xt.push("p"+Qe+"|=0");Ee.pre.body.length>3&&xt.push(processBlock(Ee.pre,Ee,$e));var rr=processBlock(Ee.body,Ee,$e),ar=function countMatches(Ee){for(var ze=0,Be=Ee[0].length;ze<Be;){for(var Ue=1;Ue<Ee.length;++Ue)if(Ee[Ue][ze]!==Ee[0][ze])return ze;++ze}return ze}(at);ar<Be?xt.push(function outerFill(Ee,ze,Be,Ue){for(var We=ze.length,$e=Be.arrayArgs.length,Qe=Be.blockSize,et=Be.indexArgs.length>0,tt=[],rt=0;rt<$e;++rt)tt.push(["var offset",rt,"=p",rt].join(""));for(rt=Ee;rt<We;++rt)tt.push(["for(var j"+rt+"=SS[",ze[rt],"]|0;j",rt,">0;){"].join("")),tt.push(["if(j",rt,"<",Qe,"){"].join("")),tt.push(["s",ze[rt],"=j",rt].join("")),tt.push(["j",rt,"=0"].join("")),tt.push(["}else{s",ze[rt],"=",Qe].join("")),tt.push(["j",rt,"-=",Qe,"}"].join("")),et&&tt.push(["index[",ze[rt],"]=j",rt].join(""));for(rt=0;rt<$e;++rt){for(var nt=["offset"+rt],at=Ee;at<We;++at)nt.push(["j",at,"*t",rt,"p",ze[at]].join(""));tt.push(["p",rt,"=(",nt.join("+"),")"].join(""))}for(tt.push(innerFill(ze,Be,Ue)),rt=Ee;rt<We;++rt)tt.push("}");return tt.join("\n")}(ar,at[0],Ee,rr)):xt.push(innerFill(at[0],Ee,rr)),Ee.post.body.length>3&&xt.push(processBlock(Ee.post,Ee,$e)),Ee.debug&&console.log("-----Generated cwise routine for ",ze,":\n"+xt.join("\n")+"\n----------");var Lr=[Ee.funcName||"unnamed","_cwise_loop_",We[0].join("s"),"m",ar,typeSummary($e)].join("");return new Function(["function ",Lr,"(",ft.join(","),"){",xt.join("\n"),"} return ",Lr].join(""))()}},"4c66":function(Ee,ze,Be){"use strict";var Ue=Be("3c1c"),We=Be("0379"),$e=Be("22f9"),Qe=Be("63dc").LINE_SPACING,et=$e.name;function isVisible(Ee){var ze=Ee&&Ee[et];return ze&&ze.visible}ze.isVisible=isVisible,ze.makeData=function(Ee){var ze=Ue.list({_fullLayout:Ee},"x",!0),Be=Ee.margin,We=[];if(!Ee._has("gl2d"))for(var $e=0;$e<ze.length;$e++){var Qe=ze[$e];if(isVisible(Qe)){We.push(Qe);var tt=Qe[et];tt._id=et+Qe._id,tt._height=(Ee.height-Be.b-Be.t)*tt.thickness,tt._offsetShift=Math.floor(tt.borderwidth/2)}}Ee._rangeSliderData=We},ze.autoMarginOpts=function(Ee,ze){var Be=Ee._fullLayout,Ue=ze[et],tt=ze._id.charAt(0),rt=0,nt=0;"bottom"===ze.side&&(rt=ze._depth,ze.title.text!==Be._dfltTitle[tt]&&(nt=1.5*ze.title.font.size+10+Ue._offsetShift,nt+=(ze.title.text.match(We.BR_TAG_ALL)||[]).length*ze.title.font.size*Qe));return{x:0,y:ze._counterDomainMin,l:0,r:0,t:0,b:Ue._height+rt+Math.max(Be.margin.b,nt),pad:$e.extraPad+2*Ue._offsetShift}}},"4c69":function(Ee,ze){Ee.exports=function parseUnit(Ee,ze){ze||(ze=[0,""]),Ee=String(Ee);var Be=parseFloat(Ee,10);return ze[0]=Be,ze[1]=Ee.match(/[\d.\-\+]*\s*(.*)/)[1]||"",ze}},"4cd2":function(Ee,ze,Be){"use strict";var Ue=Be("3c1c").list,We=Be("ce56").getAutoRange,$e=Be("22f9");Ee.exports=function calcAutorange(Ee){for(var ze=Ue(Ee,"x",!0),Be=0;Be<ze.length;Be++){var Qe=ze[Be],et=Qe[$e.name];et&&et.visible&&et.autorange&&(et._input.autorange=!0,et._input.range=et.range=We(Ee,Qe))}}},"4cd5":function(Ee,ze,Be){"use strict";Ee.exports={RELATIVE_CULL_TOLERANCE:1e-6}},"4ce7":function(Ee,ze,Be){"use strict";Ee.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},"4d64":function(Ee,ze,Be){var Ue=Be("fc6a"),We=Be("50c4"),$e=Be("23cb"),createMethod=function(Ee){return function(ze,Be,Qe){var et,tt=Ue(ze),rt=We(tt.length),nt=$e(Qe,rt);if(Ee&&Be!=Be){for(;rt>nt;)if((et=tt[nt++])!=et)return!0}else for(;rt>nt;nt++)if((Ee||nt in tt)&&tt[nt]===Be)return Ee||nt||0;return!Ee&&-1}};Ee.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},"4de4":function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("b727").filter,$e=Be("1dde"),Qe=Be("ae40"),et=$e("filter"),tt=Qe("filter");Ue({target:"Array",proto:!0,forced:!et||!tt},{filter:function filter(Ee){return We(this,Ee,arguments.length>1?arguments[1]:void 0)}})},"4e7e":function(Ee,ze,Be){"use strict";Be("399f");Ee.exports=function isBN(Ee){return Ee&&"object"==typeof Ee&&Boolean(Ee.words)}},"4e89":function(Ee,ze){Ee.exports=function length(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2],We=Ee[3];return Math.sqrt(ze*ze+Be*Be+Ue*Ue+We*We)}},"4ebd":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("7e25").EventEmitter,$e=Be("4248");Ee.exports=function svgToImg(Ee){var ze=Ee.emitter||new We,Be=new Promise((function(We,Qe){var et=window.Image,tt=Ee.svg,rt=Ee.format||"png";if(Ue.isIE()&&"svg"!==rt){var nt=new Error($e.MSG_IE_BAD_FORMAT);return Qe(nt),Ee.promise?Be:ze.emit("error",nt)}var at,it,ct=Ee.canvas,ft=Ee.scale||1,xt=Ee.width||300,kt=Ee.height||150,Lt=ft*xt,Ut=ft*kt,er=ct.getContext("2d"),tr=new et;"svg"===rt||Ue.isIE9orBelow()||Ue.isSafari()?it=$e.encodeSVG(tt):(at=$e.createBlob(tt,"svg"),it=$e.createObjectURL(at)),ct.width=Lt,ct.height=Ut,tr.onload=function(){var Be;switch(at=null,$e.revokeObjectURL(it),"svg"!==rt&&er.drawImage(tr,0,0,Lt,Ut),rt){case"jpeg":Be=ct.toDataURL("image/jpeg");break;case"png":Be=ct.toDataURL("image/png");break;case"webp":Be=ct.toDataURL("image/webp");break;case"svg":Be=it;break;default:var Ue="Image format is not jpeg, png, svg or webp.";if(Qe(new Error(Ue)),!Ee.promise)return ze.emit("error",Ue)}We(Be),Ee.promise||ze.emit("success",Be)},tr.onerror=function(Be){if(at=null,$e.revokeObjectURL(it),Qe(Be),!Ee.promise)return ze.emit("error",Be)},tr.src=it}));return Ee.promise?Be:ze}},"4eee":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray;Ee.exports=function(Ee,ze,Be){var We,$e,Qe,et,tt,rt,nt=[],at=Ue(Ee)?Ee.length:Ee,it=Ue(ze)?ze.length:ze,ct=Ue(Ee)?Ee:null,ft=Ue(ze)?ze:null;ct&&(Qe=(ct.length-1)/(ct[ct.length-1]-ct[0])/(at-1)),ft&&(et=(ft.length-1)/(ft[ft.length-1]-ft[0])/(it-1));var xt=1/0,kt=-1/0;for($e=0;$e<it;$e++)for(nt[$e]=[],tt=ft?(ft[$e]-ft[0])*et:$e/(it-1),We=0;We<at;We++)rt=(ct?(ct[We]-ct[0])*Qe:We/(at-1))-tt*Be,xt=Math.min(rt,xt),kt=Math.max(rt,kt),nt[$e][We]=rt;var Lt=1/(kt-xt),Ut=-xt*Lt;for($e=0;$e<it;$e++)for(We=0;We<at;We++)nt[$e][We]=Lt*nt[$e][We]+Ut;return nt}},"4efe":function(Ee,ze,Be){"use strict";var Ue=Be("8b98"),We=Be("2c8d"),$e=Be("1477"),Qe=Be("fc26").removeElement,et=Be("d301"),tt=Ee.exports={};tt.align=Be("296e"),tt.getCursor=Be("13a4");var rt=Be("855b");function coverSlip(){var Ee=document.createElement("div");Ee.className="dragcover";var ze=Ee.style;return ze.position="fixed",ze.left=0,ze.right=0,ze.top=0,ze.bottom=0,ze.zIndex=999999999,ze.background="none",document.body.appendChild(Ee),Ee}function pointerOffset(Ee){return Ue(Ee.changedTouches?Ee.changedTouches[0]:Ee,document.body)}tt.unhover=rt.wrapped,tt.unhoverRaw=rt.raw,tt.init=function init(Ee){var ze,Be,Ue,rt,nt,at,it,ct,ft=Ee.gd,xt=1,kt=ft._context.doubleClickDelay,Lt=Ee.element;ft._mouseDownTime||(ft._mouseDownTime=0),Lt.style.pointerEvents="all",Lt.onmousedown=onStart,$e?(Lt._ontouchstart&&Lt.removeEventListener("touchstart",Lt._ontouchstart),Lt._ontouchstart=onStart,Lt.addEventListener("touchstart",onStart,{passive:!1})):Lt.ontouchstart=onStart;var Ut=Ee.clampFn||function _clampFn(Ee,ze,Be){return Math.abs(Ee)<Be&&(Ee=0),Math.abs(ze)<Be&&(ze=0),[Ee,ze]};function onStart($e){ft._dragged=!1,ft._dragging=!0;var Qe=pointerOffset($e);ze=Qe[0],Be=Qe[1],it=$e.target,at=$e,ct=2===$e.buttons||$e.ctrlKey,void 0===$e.clientX&&void 0===$e.clientY&&($e.clientX=ze,$e.clientY=Be),(Ue=(new Date).getTime())-ft._mouseDownTime<kt?xt+=1:(xt=1,ft._mouseDownTime=Ue),Ee.prepFn&&Ee.prepFn($e,ze,Be),We&&!ct?(nt=coverSlip()).style.cursor=window.getComputedStyle(Lt).cursor:We||(nt=document,rt=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Lt).cursor),document.addEventListener("mouseup",onDone),document.addEventListener("touchend",onDone),!1!==Ee.dragmode&&($e.preventDefault(),document.addEventListener("mousemove",onMove),document.addEventListener("touchmove",onMove,{passive:!1}))}function onMove(Ue){Ue.preventDefault();var We=pointerOffset(Ue),$e=Ee.minDrag||et.MINDRAG,Qe=Ut(We[0]-ze,We[1]-Be,$e),rt=Qe[0],nt=Qe[1];(rt||nt)&&(ft._dragged=!0,tt.unhover(ft)),ft._dragged&&Ee.moveFn&&!ct&&(ft._dragdata={element:Lt,dx:rt,dy:nt},Ee.moveFn(rt,nt))}function onDone(ze){if(delete ft._dragdata,!1!==Ee.dragmode&&(ze.preventDefault(),document.removeEventListener("mousemove",onMove),document.removeEventListener("touchmove",onMove)),document.removeEventListener("mouseup",onDone),document.removeEventListener("touchend",onDone),We?Qe(nt):rt&&(nt.documentElement.style.cursor=rt,rt=null),ft._dragging){if(ft._dragging=!1,(new Date).getTime()-ft._mouseDownTime>kt&&(xt=Math.max(xt-1,1)),ft._dragged)Ee.doneFn&&Ee.doneFn();else if(Ee.clickFn&&Ee.clickFn(xt,at),!ct){var Be;try{Be=new MouseEvent("click",ze)}catch(Ee){var Ue=pointerOffset(ze);(Be=document.createEvent("MouseEvents")).initMouseEvent("click",ze.bubbles,ze.cancelable,ze.view,ze.detail,ze.screenX,ze.screenY,Ue[0],Ue[1],ze.ctrlKey,ze.altKey,ze.shiftKey,ze.metaKey,ze.button,ze.relatedTarget)}it.dispatchEvent(Be)}ft._dragging=!1,ft._dragged=!1}else ft._dragged=!1}},tt.coverSlip=coverSlip},"4f25":function(Ee,ze,Be){"use strict";var Ue=Be("e98f");Ee.exports={fragment:Ue(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},"4f4d":function(Ee,ze,Be){"use strict";Ee.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"4f65":function(Ee,ze){Ee.exports=function rotateY(Ee,ze,Be,Ue){var We=Be[0],$e=Be[2],Qe=ze[0]-We,et=ze[2]-$e,tt=Math.sin(Ue),rt=Math.cos(Ue);return Ee[0]=We+et*tt+Qe*rt,Ee[1]=ze[1],Ee[2]=$e+et*rt-Qe*tt,Ee}},"4f94":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("1ebf"),layoutAttributes:Be("60dc"),supplyDefaults:Be("abc9").supplyDefaults,crossTraceDefaults:Be("abc9").crossTraceDefaults,supplyLayoutDefaults:Be("06ad").supplyLayoutDefaults,calc:Be("6a77"),crossTraceCalc:Be("f4b3").crossTraceCalc,plot:Be("d34f").plot,style:Be("b4c7").style,styleOnSelect:Be("b4c7").styleOnSelect,hoverPoints:Be("fa10").hoverPoints,eventData:Be("5885"),selectPoints:Be("71b1"),moduleType:"trace",name:"box",basePlotModule:Be("91cd"),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},"4fc7":function(Ee,ze,Be){"use strict";Ee.exports=Be("af50")},"4ffa":function(Ee,ze,Be){"use strict";Ee.exports=function extractPlanes(Ee,ze,Be){var Ue=ze||0,We=Be||1;return[[Ee[12]+Ee[0],Ee[13]+Ee[1],Ee[14]+Ee[2],Ee[15]+Ee[3]],[Ee[12]-Ee[0],Ee[13]-Ee[1],Ee[14]-Ee[2],Ee[15]-Ee[3]],[Ee[12]+Ee[4],Ee[13]+Ee[5],Ee[14]+Ee[6],Ee[15]+Ee[7]],[Ee[12]-Ee[4],Ee[13]-Ee[5],Ee[14]-Ee[6],Ee[15]-Ee[7]],[Ue*Ee[12]+Ee[8],Ue*Ee[13]+Ee[9],Ue*Ee[14]+Ee[10],Ue*Ee[15]+Ee[11]],[We*Ee[12]-Ee[8],We*Ee[13]-Ee[9],We*Ee[14]-Ee[10],We*Ee[15]-Ee[11]]]}},5008:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d798"),$e=Be("e5ac");function getShowAttrDflt(Ee){var ze=["showexponent","showtickprefix","showticksuffix"].filter((function(ze){return void 0!==Ee[ze]}));if(ze.every((function(Be){return Ee[Be]===Ee[ze[0]]}))||1===ze.length)return Ee[ze[0]]}function tickformatstopDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We.tickformatstops,Be,$e)}coerce("enabled")&&(coerce("dtickrange"),coerce("value"))}Ee.exports=function handleTickLabelDefaults(Ee,ze,Be,Qe,et,tt){tt&&1!==tt.pass||function handlePrefixSuffix(Ee,ze,Be,Ue,We){var $e=getShowAttrDflt(Ee);Be("tickprefix")&&Be("showtickprefix",$e);Be("ticksuffix",We.tickSuffixDflt)&&Be("showticksuffix",$e)}(Ee,0,Be,0,et),tt&&2!==tt.pass||function handleOtherDefaults(Ee,ze,Be,Qe,et){var tt=getShowAttrDflt(Ee);Be("tickprefix")&&Be("showtickprefix",tt);Be("ticksuffix",et.tickSuffixDflt)&&Be("showticksuffix",tt);if(Be("showticklabels")){var rt=et.font||{},nt=ze.color,at=nt&&nt!==We.color.dflt?nt:rt.color;if(Ue.coerceFont(Be,"tickfont",{family:rt.family,size:rt.size,color:at}),Be("tickangle"),"category"!==Qe){var it=Be("tickformat"),ct=Ee.tickformatstops;Array.isArray(ct)&&ct.length&&$e(Ee,ze,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:tickformatstopDefaults}),it||"date"===Qe||(Be("showexponent",tt),Be("exponentformat"),Be("separatethousands"))}}}(Ee,ze,Be,Qe,et)}},5047:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("215c").hasColorscale,$e=Be("4183"),Qe=Be("de81");Ee.exports=function markerDefaults(Ee,ze,Be,et,tt,rt){var nt=Qe.isBubble(Ee),at=(Ee.line||{}).color;(rt=rt||{},at&&(Be=at),tt("marker.symbol"),tt("marker.opacity",nt?.7:1),tt("marker.size"),tt("marker.color",Be),We(Ee,"marker")&&$e(Ee,ze,et,tt,{prefix:"marker.",cLetter:"c"}),rt.noSelect||(tt("selected.marker.color"),tt("unselected.marker.color"),tt("selected.marker.size"),tt("unselected.marker.size")),rt.noLine||(tt("marker.line.color",at&&!Array.isArray(at)&&ze.marker.color!==at?at:nt?Ue.background:Ue.defaultLine),We(Ee,"marker.line")&&$e(Ee,ze,et,tt,{prefix:"marker.line.",cLetter:"c"}),tt("marker.line.width",nt?1:0)),nt&&(tt("marker.sizeref"),tt("marker.sizemin"),tt("marker.sizemode")),rt.gradient)&&("none"!==tt("marker.gradient.type")&&tt("marker.gradient.color"))}},5053:function(Ee,ze,Be){Ee.exports=Be("8be6")},"50c4":function(Ee,ze,Be){var Ue=Be("a691"),We=Math.min;Ee.exports=function(Ee){return Ee>0?We(Ue(Ee),9007199254740991):0}},"50da":function(Ee,ze,Be){"use strict";var Ue=Be("b326");ze.isOpenSymbol=function(Ee){return"string"==typeof Ee?Ue.OPEN_RE.test(Ee):Ee%200>100},ze.isDotSymbol=function(Ee){return"string"==typeof Ee?Ue.DOT_RE.test(Ee):Ee>200}},"510f":function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("d6fb");Ee.exports=function hoverPoints(Ee,ze,Be,$e,Qe){var et=We(Ee,ze,Be,$e,Qe,!0);return et&&et.forEach((function(Ee){var ze=Ee.trace;"constraint"===ze.contours.type&&(ze.fillcolor&&Ue.opacity(ze.fillcolor)?Ee.color=Ue.addOpacity(ze.fillcolor,1):ze.contours.showlines&&Ue.opacity(ze.line.color)&&(Ee.color=Ue.addOpacity(ze.line.color,1)))})),et}},5135:function(Ee,ze){var Be={}.hasOwnProperty;Ee.exports=function(Ee,ze){return Be.call(Ee,ze)}},5243:function(Ee,ze){Ee.exports=function normalize(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=Be*Be+Ue*Ue+We*We+$e*$e;Qe>0&&(Qe=1/Math.sqrt(Qe),Ee[0]=Be*Qe,Ee[1]=Ue*Qe,Ee[2]=We*Qe,Ee[3]=$e*Qe);return Ee}},"52d8":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("a08c"),supplyDefaults:Be("07dd").supplyDefaults,calc:Be("edf7"),colorbar:{min:"cmin",max:"cmax"},plot:Be("caf7").createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:Be("134c"),categories:["gl3d","showLegend"],meta:{}}},"52e8":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("371e");function stylePoints(Ee,ze,Be){We.pointStyle(Ee.selectAll("path.point"),ze,Be)}function styleText(Ee,ze,Be){We.textPointStyle(Ee.selectAll("text"),ze,Be)}Ee.exports={style:function style(Ee){var ze=Ue.select(Ee).selectAll("g.trace.scatter");ze.style("opacity",(function(Ee){return Ee[0].trace.opacity})),ze.selectAll("g.points").each((function(ze){stylePoints(Ue.select(this),ze.trace||ze[0].trace,Ee)})),ze.selectAll("g.text").each((function(ze){styleText(Ue.select(this),ze.trace||ze[0].trace,Ee)})),ze.selectAll("g.trace path.js-line").call(We.lineGroupStyle),ze.selectAll("g.trace path.js-fill").call(We.fillGroupStyle),$e.getComponentMethod("errorbars","style")(ze)},stylePoints:stylePoints,styleText:styleText,styleOnSelect:function styleOnSelect(Ee,ze,Be){var Ue=ze[0].trace;Ue.selectedpoints?(We.selectedPointStyle(Be.selectAll("path.point"),Ue),We.selectedTextStyle(Be.selectAll("text"),Ue)):(stylePoints(Be,Ue,Ee),styleText(Be,Ue,Ee))}}},5319:function(Ee,ze,Be){"use strict";var Ue=Be("d784"),We=Be("825a"),$e=Be("7b0b"),Qe=Be("50c4"),et=Be("a691"),tt=Be("1d80"),rt=Be("8aa5"),nt=Be("14c3"),at=Math.max,it=Math.min,ct=Math.floor,ft=/\$([$&'`]|\d\d?|<[^>]*>)/g,xt=/\$([$&'`]|\d\d?)/g;Ue("replace",2,(function(Ee,ze,Be,Ue){var kt=Ue.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Lt=Ue.REPLACE_KEEPS_$0,Ut=kt?"$":"$0";return[function replace(Be,Ue){var We=tt(this),$e=null==Be?void 0:Be[Ee];return void 0!==$e?$e.call(Be,We,Ue):ze.call(String(We),Be,Ue)},function(Ee,Ue){if(!kt&&Lt||"string"==typeof Ue&&-1===Ue.indexOf(Ut)){var $e=Be(ze,Ee,this,Ue);if($e.done)return $e.value}var tt=We(Ee),ct=String(this),ft="function"==typeof Ue;ft||(Ue=String(Ue));var xt=tt.global;if(xt){var er=tt.unicode;tt.lastIndex=0}for(var tr=[];;){var rr=nt(tt,ct);if(null===rr)break;if(tr.push(rr),!xt)break;""===String(rr[0])&&(tt.lastIndex=rt(ct,Qe(tt.lastIndex),er))}for(var ar,Lr="",Qr=0,on=0;on<tr.length;on++){rr=tr[on];for(var sn=String(rr[0]),ln=at(it(et(rr.index),ct.length),0),cn=[],un=1;un<rr.length;un++)cn.push(void 0===(ar=rr[un])?ar:String(ar));var hn=rr.groups;if(ft){var dn=[sn].concat(cn,ln,ct);void 0!==hn&&dn.push(hn);var vn=String(Ue.apply(void 0,dn))}else vn=getSubstitution(sn,ct,ln,cn,hn,Ue);ln>=Qr&&(Lr+=ct.slice(Qr,ln)+vn,Qr=ln+sn.length)}return Lr+ct.slice(Qr)}];function getSubstitution(Ee,Be,Ue,We,Qe,et){var tt=Ue+Ee.length,rt=We.length,nt=xt;return void 0!==Qe&&(Qe=$e(Qe),nt=ft),ze.call(et,nt,(function(ze,$e){var et;switch($e.charAt(0)){case"$":return"$";case"&":return Ee;case"`":return Be.slice(0,Ue);case"'":return Be.slice(tt);case"<":et=Qe[$e.slice(1,-1)];break;default:var nt=+$e;if(0===nt)return ze;if(nt>rt){var at=ct(nt/10);return 0===at?ze:at<=rt?void 0===We[at-1]?$e.charAt(1):We[at-1]+$e.charAt(1):ze}et=We[nt-1]}return void 0===et?"":et}))}}))},"531f":function(Ee,ze,Be){"use strict";var Ue=Be("e98f"),We=Be("28dd"),$e=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),Qe=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);Ee.exports=function(Ee){return We(Ee,$e,Qe,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},5348:function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("a08c"),$e=Be("a876"),Qe=Be("9092").extendFlat,et=Be("cb34").overrideAll,tt=Ee.exports=et(Qe({x:We.x,y:We.y,z:We.z,value:We.value,isomin:We.isomin,isomax:We.isomax,surface:We.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:We.slices,caps:We.caps,text:We.text,hovertext:We.hovertext,hovertemplate:We.hovertemplate},Ue("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:We.colorbar,opacity:We.opacity,opacityscale:{valType:"any",editType:"calc"},lightposition:We.lightposition,lighting:We.lighting,flatshading:We.flatshading,contour:We.contour,hoverinfo:Qe({},$e.hoverinfo),showlegend:Qe({},$e.showlegend,{dflt:!1})}),"calc","nested");tt.x.editType=tt.y.editType=tt.z.editType=tt.value.editType="calc+clearAxisTypes",tt.transforms=void 0},"535c":function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("94d5").hovertemplateAttrs,$e=Be("a876"),Qe=Be("74b4"),et=Be("9092").extendFlat;Ee.exports=et({lon:Qe.lon,lat:Qe.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:Qe.text,hovertext:Qe.hovertext,hoverinfo:et({},$e.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:We(),showlegend:et({},$e.showlegend,{dflt:!1})},Ue("",{cLetter:"z",editTypeOverride:"calc"}))},5374:function(Ee,ze){Ee.exports=function min(Ee,ze,Be){return Ee[0]=Math.min(ze[0],Be[0]),Ee[1]=Math.min(ze[1],Be[1]),Ee[2]=Math.min(ze[2],Be[2]),Ee[3]=Math.min(ze[3],Be[3]),Ee}},"538c":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("0919"),Qe=Be("c400").getTopojsonFeatures,et=Be("ce56").findExtremes,tt=Be("e7ab").style;Ee.exports={calcGeoJSON:function calcGeoJSON(Ee,ze){for(var Be=Ee[0].trace,Ue=ze[Be.geo],We=Ue._subplot,tt=Be.locationmode,rt=Be._length,nt="geojson-id"===tt?$e.extractTraceFeature(Ee):Qe(Be,We.topojson),at=[],it=[],ct=0;ct<rt;ct++){var ft=Ee[ct],xt="geojson-id"===tt?ft.fOut:$e.locationToFeature(tt,ft.loc,nt);if(xt){ft.geojson=xt,ft.ct=xt.properties.ct,ft._polygons=$e.feature2polygons(xt);var kt=$e.computeBbox(xt);at.push(kt[0],kt[2]),it.push(kt[1],kt[3])}else ft.geojson=null}if("geojson"===Ue.fitbounds&&"geojson-id"===tt){var Lt=$e.computeBbox($e.getTraceGeojson(Be));at=[Lt[0],Lt[2]],it=[Lt[1],Lt[3]]}var Ut={padded:!0};Be._extremes.lon=et(Ue.lonaxis._ax,at,Ut),Be._extremes.lat=et(Ue.lataxis._ax,it,Ut)},plot:function plot(Ee,ze,Be){var $e=ze.layers.backplot.select(".choroplethlayer");We.makeTraceGroups($e,Be,"trace choropleth").each((function(ze){var Be=Ue.select(this).selectAll("path.choroplethlocation").data(We.identity);Be.enter().append("path").classed("choroplethlocation",!0),Be.exit().remove(),tt(Ee,ze)}))}}},"53a5":function(Ee,ze){Ee.exports=function clamp(Ee,ze,Be){return ze<Be?Ee<ze?ze:Ee>Be?Be:Ee:Ee<Be?Be:Ee>ze?ze:Ee}},"53cc":function(Ee,ze,Be){"use strict";Ee.exports=function stronglyConnectedComponents(Ee){for(var ze=Ee.length,Be=new Array(ze),Ue=new Array(ze),We=new Array(ze),$e=new Array(ze),Qe=new Array(ze),et=new Array(ze),tt=0;tt<ze;++tt)Be[tt]=-1,Ue[tt]=0,We[tt]=!1,$e[tt]=0,Qe[tt]=-1,et[tt]=[];var rt,nt=0,at=[],it=[];function strongConnect(ze){var tt=[ze],rt=[ze];for(Be[ze]=Ue[ze]=nt,We[ze]=!0,nt+=1;rt.length>0;){ze=rt[rt.length-1];var ct=Ee[ze];if($e[ze]<ct.length){for(var ft=$e[ze];ft<ct.length;++ft){var xt=ct[ft];if(Be[xt]<0){Be[xt]=Ue[xt]=nt,We[xt]=!0,nt+=1,tt.push(xt),rt.push(xt);break}We[xt]&&(Ue[ze]=0|Math.min(Ue[ze],Ue[xt])),Qe[xt]>=0&&et[ze].push(Qe[xt])}$e[ze]=ft}else{if(Ue[ze]===Be[ze]){var kt=[],Lt=[],Ut=0;for(ft=tt.length-1;ft>=0;--ft){var er=tt[ft];if(We[er]=!1,kt.push(er),Lt.push(et[er]),Ut+=et[er].length,Qe[er]=at.length,er===ze){tt.length=ft;break}}at.push(kt);var tr=new Array(Ut);for(ft=0;ft<Lt.length;ft++)for(var rr=0;rr<Lt[ft].length;rr++)tr[--Ut]=Lt[ft][rr];it.push(tr)}rt.pop()}}}for(tt=0;tt<ze;++tt)Be[tt]<0&&strongConnect(tt);for(tt=0;tt<it.length;tt++){var ct=it[tt];if(0!==ct.length){ct.sort((function(Ee,ze){return Ee-ze})),rt=[ct[0]];for(var ft=1;ft<ct.length;ft++)ct[ft]!==ct[ft-1]&&rt.push(ct[ft]);it[tt]=rt}}return{components:at,adjacencyList:it}}},"54a9":function(Ee,ze,Be){"use strict";var Ue=Be("551a"),We=Be("2357"),$e=Be("b336"),Qe=Be("1a3f"),et=Be("765f").parseColorScale,tt=Be("f977"),rt=Be("c258").extractOpts,nt=Be("569b");function Mesh3DTrace(Ee,ze,Be){this.scene=Ee,this.uid=Be,this.mesh=ze,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var at=Mesh3DTrace.prototype;function parseColorArray(Ee){for(var ze=[],Be=Ee.length,Ue=0;Ue<Be;Ue++)ze[Ue]=tt(Ee[Ue]);return ze}function toDataCoords(Ee,ze,Be,Ue){for(var We=[],$e=ze.length,Qe=0;Qe<$e;Qe++)We[Qe]=Ee.d2l(ze[Qe],0,Ue)*Be;return We}function toRoundIndex(Ee){for(var ze=[],Be=Ee.length,Ue=0;Ue<Be;Ue++)ze[Ue]=Math.round(Ee[Ue]);return ze}function hasValidIndices(Ee,ze){for(var Be=Ee.length,Ue=0;Ue<Be;Ue++)if(Ee[Ue]<=-.5||Ee[Ue]>=ze-.5)return!1;return!0}at.handlePick=function(Ee){if(Ee.object===this.mesh){var ze=Ee.index=Ee.data.index;Ee.traceCoordinate=[this.data.x[ze],this.data.y[ze],this.data.z[ze]];var Be=this.data.hovertext||this.data.text;return Array.isArray(Be)&&void 0!==Be[ze]?Ee.textLabel=Be[ze]:Be&&(Ee.textLabel=Be),!0}},at.update=function(Ee){var ze=this.scene,Be=ze.fullSceneLayout;this.data=Ee;var Ue,at=Ee.x.length,it=nt(toDataCoords(Be.xaxis,Ee.x,ze.dataScale[0],Ee.xcalendar),toDataCoords(Be.yaxis,Ee.y,ze.dataScale[1],Ee.ycalendar),toDataCoords(Be.zaxis,Ee.z,ze.dataScale[2],Ee.zcalendar));if(Ee.i&&Ee.j&&Ee.k){if(Ee.i.length!==Ee.j.length||Ee.j.length!==Ee.k.length||!hasValidIndices(Ee.i,at)||!hasValidIndices(Ee.j,at)||!hasValidIndices(Ee.k,at))return;Ue=nt(toRoundIndex(Ee.i),toRoundIndex(Ee.j),toRoundIndex(Ee.k))}else Ue=0===Ee.alphahull?Qe(it):Ee.alphahull>0?$e(Ee.alphahull,it):function delaunayCells(Ee,ze){for(var Be=["x","y","z"].indexOf(Ee),Ue=[],$e=ze.length,Qe=0;Qe<$e;Qe++)Ue[Qe]=[ze[Qe][(Be+1)%3],ze[Qe][(Be+2)%3]];return We(Ue)}(Ee.delaunayaxis,it);var ct={positions:it,cells:Ue,lightPosition:[Ee.lightposition.x,Ee.lightposition.y,Ee.lightposition.z],ambient:Ee.lighting.ambient,diffuse:Ee.lighting.diffuse,specular:Ee.lighting.specular,roughness:Ee.lighting.roughness,fresnel:Ee.lighting.fresnel,vertexNormalsEpsilon:Ee.lighting.vertexnormalsepsilon,faceNormalsEpsilon:Ee.lighting.facenormalsepsilon,opacity:Ee.opacity,contourEnable:Ee.contour.show,contourColor:tt(Ee.contour.color).slice(0,3),contourWidth:Ee.contour.width,useFacetNormals:Ee.flatshading};if(Ee.intensity){var ft=rt(Ee);this.color="#fff";var xt=Ee.intensitymode;ct[xt+"Intensity"]=Ee.intensity,ct[xt+"IntensityBounds"]=[ft.min,ft.max],ct.colormap=et(Ee)}else Ee.vertexcolor?(this.color=Ee.vertexcolor[0],ct.vertexColors=parseColorArray(Ee.vertexcolor)):Ee.facecolor?(this.color=Ee.facecolor[0],ct.cellColors=parseColorArray(Ee.facecolor)):(this.color=Ee.color,ct.meshColor=tt(Ee.color));this.mesh.update(ct)},at.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Ee.exports=function createMesh3DTrace(Ee,ze){var Be=Ee.glplot.gl,We=Ue({gl:Be}),$e=new Mesh3DTrace(Ee,We,ze.uid);return We._trace=$e,$e.update(ze),Ee.glplot.add(We),$e}},"54ea":function(Ee,ze,Be){var Ue=Be("320c"),We=Be("0230");Ue(We.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),We.local=We.regionalOptions[""],Ue(We.cdate.prototype,{formatDate:function(Ee,ze){return"string"!=typeof Ee&&(ze=Ee,Ee=""),this._calendar.formatDate(Ee||"",this,ze)}}),Ue(We.baseCalendar.prototype,{UNIX_EPOCH:We.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:We.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(Ee,ze,Be){if("string"!=typeof Ee&&(Be=ze,ze=Ee,Ee=""),!ze)return"";if(ze.calendar()!==this)throw We.local.invalidFormat||We.regionalOptions[""].invalidFormat;Ee=Ee||this.local.dateFormat;for(var Ue,$e,Qe,et,tt=(Be=Be||{}).dayNamesShort||this.local.dayNamesShort,rt=Be.dayNames||this.local.dayNames,nt=Be.monthNumbers||this.local.monthNumbers,at=Be.monthNamesShort||this.local.monthNamesShort,it=Be.monthNames||this.local.monthNames,ct=(Be.calculateWeek||this.local.calculateWeek,function(ze,Be){for(var Ue=1;Ut+Ue<Ee.length&&Ee.charAt(Ut+Ue)===ze;)Ue++;return Ut+=Ue-1,Math.floor(Ue/(Be||1))>1}),formatNumber=function(Ee,ze,Be,Ue){var We=""+ze;if(ct(Ee,Ue))for(;We.length<Be;)We="0"+We;return We},ft=this,formatMonth=function(Ee){return"function"==typeof nt?nt.call(ft,Ee,ct("m")):localiseNumbers(formatNumber("m",Ee.month(),2))},formatMonthName=function(Ee,ze){return ze?"function"==typeof it?it.call(ft,Ee):it[Ee.month()-ft.minMonth]:"function"==typeof at?at.call(ft,Ee):at[Ee.month()-ft.minMonth]},xt=this.local.digits,localiseNumbers=function(Ee){return Be.localNumbers&&xt?xt(Ee):Ee},kt="",Lt=!1,Ut=0;Ut<Ee.length;Ut++)if(Lt)"'"!==Ee.charAt(Ut)||ct("'")?kt+=Ee.charAt(Ut):Lt=!1;else switch(Ee.charAt(Ut)){case"d":kt+=localiseNumbers(formatNumber("d",ze.day(),2));break;case"D":kt+=(Ue="D",$e=ze.dayOfWeek(),Qe=tt,et=rt,ct(Ue)?et[$e]:Qe[$e]);break;case"o":kt+=formatNumber("o",ze.dayOfYear(),3);break;case"w":kt+=formatNumber("w",ze.weekOfYear(),2);break;case"m":kt+=formatMonth(ze);break;case"M":kt+=formatMonthName(ze,ct("M"));break;case"y":kt+=ct("y",2)?ze.year():(ze.year()%100<10?"0":"")+ze.year()%100;break;case"Y":ct("Y",2),kt+=ze.formatYear();break;case"J":kt+=ze.toJD();break;case"@":kt+=(ze.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":kt+=(ze.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":ct("'")?kt+="'":Lt=!0;break;default:kt+=Ee.charAt(Ut)}return kt},parseDate:function(Ee,ze,Be){if(null==ze)throw We.local.invalidArguments||We.regionalOptions[""].invalidArguments;if(""===(ze="object"==typeof ze?ze.toString():ze+""))return null;Ee=Ee||this.local.dateFormat;var Ue=(Be=Be||{}).shortYearCutoff||this.shortYearCutoff;Ue="string"!=typeof Ue?Ue:this.today().year()%100+parseInt(Ue,10);for(var $e=Be.dayNamesShort||this.local.dayNamesShort,Qe=Be.dayNames||this.local.dayNames,et=Be.parseMonth||this.local.parseMonth,tt=Be.monthNumbers||this.local.monthNumbers,rt=Be.monthNamesShort||this.local.monthNamesShort,nt=Be.monthNames||this.local.monthNames,at=-1,it=-1,ct=-1,ft=-1,xt=-1,kt=!1,Lt=!1,doubled=function(ze,Be){for(var Ue=1;tr+Ue<Ee.length&&Ee.charAt(tr+Ue)===ze;)Ue++;return tr+=Ue-1,Math.floor(Ue/(Be||1))>1},getNumber=function(Ee,Be){var Ue=doubled(Ee,Be),$e=[2,3,Ue?4:2,Ue?4:2,10,11,20]["oyYJ@!".indexOf(Ee)+1],Qe=new RegExp("^-?\\d{1,"+$e+"}"),et=ze.substring(er).match(Qe);if(!et)throw(We.local.missingNumberAt||We.regionalOptions[""].missingNumberAt).replace(/\{0\}/,er);return er+=et[0].length,parseInt(et[0],10)},Ut=this,getMonthNumber=function(){if("function"==typeof tt){doubled("m");var Ee=tt.call(Ut,ze.substring(er));return er+=Ee.length,Ee}return getNumber("m")},getName=function(Ee,Be,Ue,$e){for(var Qe=doubled(Ee,$e)?Ue:Be,et=0;et<Qe.length;et++)if(ze.substr(er,Qe[et].length).toLowerCase()===Qe[et].toLowerCase())return er+=Qe[et].length,et+Ut.minMonth;throw(We.local.unknownNameAt||We.regionalOptions[""].unknownNameAt).replace(/\{0\}/,er)},getMonthName=function(){if("function"==typeof nt){var Ee=doubled("M")?nt.call(Ut,ze.substring(er)):rt.call(Ut,ze.substring(er));return er+=Ee.length,Ee}return getName("M",rt,nt)},checkLiteral=function(){if(ze.charAt(er)!==Ee.charAt(tr))throw(We.local.unexpectedLiteralAt||We.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,er);er++},er=0,tr=0;tr<Ee.length;tr++)if(Lt)"'"!==Ee.charAt(tr)||doubled("'")?checkLiteral():Lt=!1;else switch(Ee.charAt(tr)){case"d":ft=getNumber("d");break;case"D":getName("D",$e,Qe);break;case"o":xt=getNumber("o");break;case"w":getNumber("w");break;case"m":ct=getMonthNumber();break;case"M":ct=getMonthName();break;case"y":var rr=tr;kt=!doubled("y",2),tr=rr,it=getNumber("y",2);break;case"Y":it=getNumber("Y",2);break;case"J":at=getNumber("J")+.5,"."===ze.charAt(er)&&(er++,getNumber("J"));break;case"@":at=getNumber("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":at=getNumber("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":er=ze.length;break;case"'":doubled("'")?checkLiteral():Lt=!0;break;default:checkLiteral()}if(er<ze.length)throw We.local.unexpectedText||We.regionalOptions[""].unexpectedText;if(-1===it?it=this.today().year():it<100&&kt&&(it+=-1===Ue?1900:this.today().year()-this.today().year()%100-(it<=Ue?0:100)),"string"==typeof ct&&(ct=et.call(this,it,ct)),xt>-1){ct=1,ft=xt;for(var ar=this.daysInMonth(it,ct);ft>ar;ar=this.daysInMonth(it,ct))ct++,ft-=ar}return at>-1?this.fromJD(at):this.newDate(it,ct,ft)},determineDate:function(Ee,ze,Be,Ue,We){Be&&"object"!=typeof Be&&(We=Ue,Ue=Be,Be=null),"string"!=typeof Ue&&(We=Ue,Ue="");var $e=this;return ze=ze?ze.newDate():null,Ee=null==Ee?ze:"string"==typeof Ee?function(Ee){try{return $e.parseDate(Ue,Ee,We)}catch(Ee){}for(var ze=((Ee=Ee.toLowerCase()).match(/^c/)&&Be?Be.newDate():null)||$e.today(),Qe=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,et=Qe.exec(Ee);et;)ze.add(parseInt(et[1],10),et[2]||"d"),et=Qe.exec(Ee);return ze}(Ee):"number"==typeof Ee?isNaN(Ee)||Ee===1/0||Ee===-1/0?ze:$e.today().add(Ee,"d"):$e.newDate(Ee)}})},5506:function(Ee,ze,Be){"use strict";(Ee.exports=Be("3a99")).manager=Be("2381")},"551a":function(Ee,ze,Be){"use strict";var Ue=Be("28dd"),We=Be("efce"),$e=Be("b205"),Qe=Be("1d5b"),et=Be("075f"),tt=Be("1417"),rt=Be("9343"),nt=Be("b5bb"),at=Be("595c"),it=Be("b7f8"),ct=Be("cea5"),ft=Be("38eb"),xt=Be("b82b"),kt=ft.meshShader,Lt=ft.wireShader,Ut=ft.pointShader,er=ft.pickShader,tr=ft.pointPickShader,rr=ft.contourShader,ar=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function SimplicialMesh(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,Lr,Qr,on,sn,ln){this.gl=Ee,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=ze,this.dirty=!0,this.triShader=Be,this.lineShader=Ue,this.pointShader=We,this.pickShader=$e,this.pointPickShader=Qe,this.contourShader=et,this.trianglePositions=tt,this.triangleColors=nt,this.triangleNormals=it,this.triangleUVs=at,this.triangleIds=rt,this.triangleVAO=ct,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ft,this.edgeColors=kt,this.edgeUVs=Lt,this.edgeIds=xt,this.edgeVAO=Ut,this.edgeCount=0,this.pointPositions=er,this.pointColors=rr,this.pointUVs=Lr,this.pointSizes=Qr,this.pointIds=tr,this.pointVAO=on,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=sn,this.contourVAO=ln,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=ar,this._view=ar,this._projection=ar,this._resolution=[1,1]}var Lr=SimplicialMesh.prototype;function getOpacityFromScale(Ee,ze){if(!ze)return 1;if(!ze.length)return 1;for(var Be=0;Be<ze.length;++Be){if(ze.length<2)return 1;if(ze[Be][0]===Ee)return ze[Be][1];if(ze[Be][0]>Ee&&Be>0){var Ue=(ze[Be][0]-Ee)/(ze[Be][0]-ze[Be-1][0]);return ze[Be][1]*(1-Ue)+Ue*ze[Be-1][1]}}return 1}function createMeshShader(Ee){var ze=Ue(Ee,kt.vertex,kt.fragment);return ze.attributes.position.location=0,ze.attributes.color.location=2,ze.attributes.uv.location=3,ze.attributes.normal.location=4,ze}function createWireShader(Ee){var ze=Ue(Ee,Lt.vertex,Lt.fragment);return ze.attributes.position.location=0,ze.attributes.color.location=2,ze.attributes.uv.location=3,ze}function createPointShader(Ee){var ze=Ue(Ee,Ut.vertex,Ut.fragment);return ze.attributes.position.location=0,ze.attributes.color.location=2,ze.attributes.uv.location=3,ze.attributes.pointSize.location=4,ze}function createPickShader(Ee){var ze=Ue(Ee,er.vertex,er.fragment);return ze.attributes.position.location=0,ze.attributes.id.location=1,ze}function createPointPickShader(Ee){var ze=Ue(Ee,tr.vertex,tr.fragment);return ze.attributes.position.location=0,ze.attributes.id.location=1,ze.attributes.pointSize.location=4,ze}function createContourShader(Ee){var ze=Ue(Ee,rr.vertex,rr.fragment);return ze.attributes.position.location=0,ze}Lr.isOpaque=function(){return!this.hasAlpha},Lr.isTransparent=function(){return this.hasAlpha},Lr.pickSlots=1,Lr.setPickBase=function(Ee){this.pickId=Ee},Lr.highlight=function(Ee){if(Ee&&this.contourEnable){for(var ze=it(this.cells,this.intensity,Ee.intensity),Be=ze.cells,Ue=ze.vertexIds,We=ze.vertexWeights,$e=Be.length,Qe=ct.mallocFloat32(6*$e),et=0,tt=0;tt<$e;++tt)for(var rt=Be[tt],nt=0;nt<2;++nt){var at=rt[0];2===rt.length&&(at=rt[nt]);for(var ft=Ue[at][0],xt=Ue[at][1],kt=We[at],Lt=1-kt,Ut=this.positions[ft],er=this.positions[xt],tr=0;tr<3;++tr)Qe[et++]=kt*Ut[tr]+Lt*er[tr]}this.contourCount=et/3|0,this.contourPositions.update(Qe.subarray(0,et)),ct.free(Qe)}else this.contourCount=0},Lr.update=function(Ee){Ee=Ee||{};var ze=this.gl;this.dirty=!0,"contourEnable"in Ee&&(this.contourEnable=Ee.contourEnable),"contourColor"in Ee&&(this.contourColor=Ee.contourColor),"lineWidth"in Ee&&(this.lineWidth=Ee.lineWidth),"lightPosition"in Ee&&(this.lightPosition=Ee.lightPosition),this.hasAlpha=!1,"opacity"in Ee&&(this.opacity=Ee.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Ee&&(this.opacityscale=Ee.opacityscale,this.hasAlpha=!0),"ambient"in Ee&&(this.ambientLight=Ee.ambient),"diffuse"in Ee&&(this.diffuseLight=Ee.diffuse),"specular"in Ee&&(this.specularLight=Ee.specular),"roughness"in Ee&&(this.roughness=Ee.roughness),"fresnel"in Ee&&(this.fresnel=Ee.fresnel),Ee.texture?(this.texture.dispose(),this.texture=Qe(ze,Ee.texture)):Ee.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=ze.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=ze.LINEAR,this.texture.setPixels(function genColormap(Ee,ze){for(var Be=at({colormap:Ee,nshades:256,format:"rgba"}),Ue=new Uint8Array(1024),We=0;We<256;++We){for(var $e=Be[We],Qe=0;Qe<3;++Qe)Ue[4*We+Qe]=$e[Qe];Ue[4*We+3]=ze?255*getOpacityFromScale(We/255,ze):255*$e[3]}return nt(Ue,[256,256,4],[4,0,1])}(Ee.colormap,this.opacityscale)),this.texture.generateMipmap());var Be=Ee.cells,Ue=Ee.positions;if(Ue&&Be){var We=[],$e=[],tt=[],rt=[],it=[],ct=[],ft=[],xt=[],kt=[],Lt=[],Ut=[],er=[],tr=[],rr=[];this.cells=Be,this.positions=Ue;var ar=Ee.vertexNormals,Lr=Ee.cellNormals,Qr=void 0===Ee.vertexNormalsEpsilon?1e-6:Ee.vertexNormalsEpsilon,on=void 0===Ee.faceNormalsEpsilon?1e-6:Ee.faceNormalsEpsilon;Ee.useFacetNormals&&!Lr&&(Lr=et.faceNormals(Be,Ue,on)),Lr||ar||(ar=et.vertexNormals(Be,Ue,Qr));var sn=Ee.vertexColors,ln=Ee.cellColors,cn=Ee.meshColor||[1,1,1,1],un=Ee.vertexUVs,hn=Ee.vertexIntensity,dn=Ee.cellUVs,vn=Ee.cellIntensity,yn=1/0,_n=-1/0;if(!un&&!dn)if(hn)if(Ee.vertexIntensityBounds)yn=+Ee.vertexIntensityBounds[0],_n=+Ee.vertexIntensityBounds[1];else for(var Mn=0;Mn<hn.length;++Mn){var Cn=hn[Mn];yn=Math.min(yn,Cn),_n=Math.max(_n,Cn)}else if(vn)if(Ee.cellIntensityBounds)yn=+Ee.cellIntensityBounds[0],_n=+Ee.cellIntensityBounds[1];else for(Mn=0;Mn<vn.length;++Mn){Cn=vn[Mn];yn=Math.min(yn,Cn),_n=Math.max(_n,Cn)}else for(Mn=0;Mn<Ue.length;++Mn){Cn=Ue[Mn][2];yn=Math.min(yn,Cn),_n=Math.max(_n,Cn)}this.intensity=hn||(vn?function unpackIntensity(Ee,ze,Be){for(var Ue=new Array(ze),We=0;We<ze;++We)Ue[We]=0;var $e=Ee.length;for(We=0;We<$e;++We)for(var Qe=Ee[We],et=0;et<Qe.length;++et)Ue[Qe[et]]=Be[We];return Ue}(Be,Ue.length,vn):function takeZComponent(Ee){for(var ze=Ee.length,Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=Ee[Ue][2];return Be}(Ue));var En=Ee.pointSizes,Pn=Ee.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(Mn=0;Mn<Ue.length;++Mn)for(var In=Ue[Mn],Bn=0;Bn<3;++Bn)!isNaN(In[Bn])&&isFinite(In[Bn])&&(this.bounds[0][Bn]=Math.min(this.bounds[0][Bn],In[Bn]),this.bounds[1][Bn]=Math.max(this.bounds[1][Bn],In[Bn]));var Hn=0,Kn=0,Jn=0;e:for(Mn=0;Mn<Be.length;++Mn){var Ma=Be[Mn];switch(Ma.length){case 1:for(In=Ue[La=Ma[0]],Bn=0;Bn<3;++Bn)if(isNaN(In[Bn])||!isFinite(In[Bn]))continue e;Lt.push(In[0],In[1],In[2]),Ia=sn?sn[La]:ln?ln[Mn]:cn,this.opacityscale&&hn?$e.push(Ia[0],Ia[1],Ia[2],this.opacity*getOpacityFromScale((hn[La]-yn)/(_n-yn),this.opacityscale)):3===Ia.length?Ut.push(Ia[0],Ia[1],Ia[2],this.opacity):(Ut.push(Ia[0],Ia[1],Ia[2],Ia[3]*this.opacity),Ia[3]<1&&(this.hasAlpha=!0)),Ra=un?un[La]:hn?[(hn[La]-yn)/(_n-yn),0]:dn?dn[Mn]:vn?[(vn[Mn]-yn)/(_n-yn),0]:[(In[2]-yn)/(_n-yn),0],er.push(Ra[0],Ra[1]),En?tr.push(En[La]):tr.push(Pn),rr.push(Mn),Jn+=1;break;case 2:for(Bn=0;Bn<2;++Bn){In=Ue[La=Ma[Bn]];for(var Sa=0;Sa<3;++Sa)if(isNaN(In[Sa])||!isFinite(In[Sa]))continue e}for(Bn=0;Bn<2;++Bn){In=Ue[La=Ma[Bn]];ct.push(In[0],In[1],In[2]),Ia=sn?sn[La]:ln?ln[Mn]:cn,this.opacityscale&&hn?$e.push(Ia[0],Ia[1],Ia[2],this.opacity*getOpacityFromScale((hn[La]-yn)/(_n-yn),this.opacityscale)):3===Ia.length?ft.push(Ia[0],Ia[1],Ia[2],this.opacity):(ft.push(Ia[0],Ia[1],Ia[2],Ia[3]*this.opacity),Ia[3]<1&&(this.hasAlpha=!0)),Ra=un?un[La]:hn?[(hn[La]-yn)/(_n-yn),0]:dn?dn[Mn]:vn?[(vn[Mn]-yn)/(_n-yn),0]:[(In[2]-yn)/(_n-yn),0],xt.push(Ra[0],Ra[1]),kt.push(Mn)}Kn+=1;break;case 3:for(Bn=0;Bn<3;++Bn)for(In=Ue[La=Ma[Bn]],Sa=0;Sa<3;++Sa)if(isNaN(In[Sa])||!isFinite(In[Sa]))continue e;for(Bn=0;Bn<3;++Bn){var La,Ia,Ra,Na;In=Ue[La=Ma[2-Bn]];We.push(In[0],In[1],In[2]),(Ia=sn?sn[La]:ln?ln[Mn]:cn)?this.opacityscale&&hn?$e.push(Ia[0],Ia[1],Ia[2],this.opacity*getOpacityFromScale((hn[La]-yn)/(_n-yn),this.opacityscale)):3===Ia.length?$e.push(Ia[0],Ia[1],Ia[2],this.opacity):($e.push(Ia[0],Ia[1],Ia[2],Ia[3]*this.opacity),Ia[3]<1&&(this.hasAlpha=!0)):$e.push(.5,.5,.5,1),Ra=un?un[La]:hn?[(hn[La]-yn)/(_n-yn),0]:dn?dn[Mn]:vn?[(vn[Mn]-yn)/(_n-yn),0]:[(In[2]-yn)/(_n-yn),0],rt.push(Ra[0],Ra[1]),Na=ar?ar[La]:Lr[Mn],tt.push(Na[0],Na[1],Na[2]),it.push(Mn)}Hn+=1}}this.pointCount=Jn,this.edgeCount=Kn,this.triangleCount=Hn,this.pointPositions.update(Lt),this.pointColors.update(Ut),this.pointUVs.update(er),this.pointSizes.update(tr),this.pointIds.update(new Uint32Array(rr)),this.edgePositions.update(ct),this.edgeColors.update(ft),this.edgeUVs.update(xt),this.edgeIds.update(new Uint32Array(kt)),this.trianglePositions.update(We),this.triangleColors.update($e),this.triangleUVs.update(rt),this.triangleNormals.update(tt),this.triangleIds.update(new Uint32Array(it))}},Lr.drawTransparent=Lr.draw=function(Ee){Ee=Ee||{};for(var ze=this.gl,Be=Ee.model||ar,Ue=Ee.view||ar,We=Ee.projection||ar,$e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Qe=0;Qe<3;++Qe)$e[0][Qe]=Math.max($e[0][Qe],this.clipBounds[0][Qe]),$e[1][Qe]=Math.min($e[1][Qe],this.clipBounds[1][Qe]);var et={model:Be,view:Ue,projection:We,inverseModel:ar.slice(),clipBounds:$e,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};et.inverseModel=rt(et.inverseModel,et.model),ze.disable(ze.CULL_FACE),this.texture.bind(0);var nt=new Array(16);tt(nt,et.view,et.model),tt(nt,et.projection,nt),rt(nt,nt);for(Qe=0;Qe<3;++Qe)et.eyePosition[Qe]=nt[12+Qe]/nt[15];var at,it=nt[15];for(Qe=0;Qe<3;++Qe)it+=this.lightPosition[Qe]*nt[4*Qe+3];for(Qe=0;Qe<3;++Qe){for(var ct=nt[12+Qe],ft=0;ft<3;++ft)ct+=nt[4*ft+Qe]*this.lightPosition[ft];et.lightPosition[Qe]=ct/it}this.triangleCount>0&&((at=this.triShader).bind(),at.uniforms=et,this.triangleVAO.bind(),ze.drawArrays(ze.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());this.edgeCount>0&&this.lineWidth>0&&((at=this.lineShader).bind(),at.uniforms=et,this.edgeVAO.bind(),ze.lineWidth(this.lineWidth*this.pixelRatio),ze.drawArrays(ze.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());this.pointCount>0&&((at=this.pointShader).bind(),at.uniforms=et,this.pointVAO.bind(),ze.drawArrays(ze.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((at=this.contourShader).bind(),at.uniforms=et,this.contourVAO.bind(),ze.drawArrays(ze.LINES,0,this.contourCount),this.contourVAO.unbind())},Lr.drawPick=function(Ee){Ee=Ee||{};for(var ze=this.gl,Be=Ee.model||ar,Ue=Ee.view||ar,We=Ee.projection||ar,$e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Qe=0;Qe<3;++Qe)$e[0][Qe]=Math.max($e[0][Qe],this.clipBounds[0][Qe]),$e[1][Qe]=Math.min($e[1][Qe],this.clipBounds[1][Qe]);this._model=[].slice.call(Be),this._view=[].slice.call(Ue),this._projection=[].slice.call(We),this._resolution=[ze.drawingBufferWidth,ze.drawingBufferHeight];var et,tt={model:Be,view:Ue,projection:We,clipBounds:$e,pickId:this.pickId/255};((et=this.pickShader).bind(),et.uniforms=tt,this.triangleCount>0&&(this.triangleVAO.bind(),ze.drawArrays(ze.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),ze.lineWidth(this.lineWidth*this.pixelRatio),ze.drawArrays(ze.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0)&&((et=this.pointPickShader).bind(),et.uniforms=tt,this.pointVAO.bind(),ze.drawArrays(ze.POINTS,0,this.pointCount),this.pointVAO.unbind())},Lr.pick=function(Ee){if(!Ee)return null;if(Ee.id!==this.pickId)return null;for(var ze=Ee.value[0]+256*Ee.value[1]+65536*Ee.value[2],Be=this.cells[ze],Ue=this.positions,We=new Array(Be.length),$e=0;$e<Be.length;++$e)We[$e]=Ue[Be[$e]];var Qe=xt(We,[Ee.coord[0],this._resolution[1]-Ee.coord[1]],this._model,this._view,this._projection,this._resolution);if(!Qe)return null;var et=Qe[2],tt=0;for($e=0;$e<Be.length;++$e)tt+=et[$e]*this.intensity[Be[$e]];return{position:Qe[1],index:Be[Qe[0]],cell:Be,cellId:ze,intensity:tt,dataCoordinate:this.positions[Be[Qe[0]]]}},Lr.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},Ee.exports=function createSimplicialMesh(Ee,ze){1===arguments.length&&(Ee=(ze=Ee).gl);var Be=Ee.getExtension("OES_standard_derivatives")||Ee.getExtension("MOZ_OES_standard_derivatives")||Ee.getExtension("WEBKIT_OES_standard_derivatives");if(!Be)throw new Error("derivatives not supported");var Ue=createMeshShader(Ee),et=createWireShader(Ee),tt=createPointShader(Ee),rt=createPickShader(Ee),at=createPointPickShader(Ee),it=createContourShader(Ee),ct=Qe(Ee,nt(new Uint8Array([255,255,255,255]),[1,1,4]));ct.generateMipmap(),ct.minFilter=Ee.LINEAR_MIPMAP_LINEAR,ct.magFilter=Ee.LINEAR;var ft=We(Ee),xt=We(Ee),kt=We(Ee),Lt=We(Ee),Ut=We(Ee),er=$e(Ee,[{buffer:ft,type:Ee.FLOAT,size:3},{buffer:Ut,type:Ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xt,type:Ee.FLOAT,size:4},{buffer:kt,type:Ee.FLOAT,size:2},{buffer:Lt,type:Ee.FLOAT,size:3}]),tr=We(Ee),rr=We(Ee),ar=We(Ee),Lr=We(Ee),Qr=$e(Ee,[{buffer:tr,type:Ee.FLOAT,size:3},{buffer:Lr,type:Ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:rr,type:Ee.FLOAT,size:4},{buffer:ar,type:Ee.FLOAT,size:2}]),on=We(Ee),sn=We(Ee),ln=We(Ee),cn=We(Ee),un=We(Ee),hn=$e(Ee,[{buffer:on,type:Ee.FLOAT,size:3},{buffer:un,type:Ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:sn,type:Ee.FLOAT,size:4},{buffer:ln,type:Ee.FLOAT,size:2},{buffer:cn,type:Ee.FLOAT,size:1}]),dn=We(Ee),vn=$e(Ee,[{buffer:dn,type:Ee.FLOAT,size:3}]),yn=new SimplicialMesh(Ee,ct,Ue,et,tt,rt,at,it,ft,Ut,xt,kt,Lt,er,tr,Lr,rr,ar,Qr,on,un,sn,ln,cn,hn,dn,vn);return yn.update(ze),yn}},"553a":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("83d1"),Qe=Be("de81");Ee.exports=function plot(Ee,ze,Be,et){var tt=Be.xaxis,rt=Be.yaxis,nt=et&&et.duration>0;ze.each((function(ze){var at,it=ze[0].trace,ct=it.error_x||{},ft=it.error_y||{};it.ids&&(at=function(Ee){return Ee.id});var xt=Qe.hasMarkers(it)&&it.marker.maxdisplayed>0;ft.visible||ct.visible||(ze=[]);var kt=Ue.select(this).selectAll("g.errorbar").data(ze,at);if(kt.exit().remove(),ze.length){ct.visible||kt.selectAll("path.xerror").remove(),ft.visible||kt.selectAll("path.yerror").remove(),kt.style("opacity",1);var Lt=kt.enter().append("g").classed("errorbar",!0);nt&&Lt.style("opacity",0).transition().duration(et.duration).style("opacity",1),$e.setClipUrl(kt,Be.layerClipId,Ee),kt.each((function(Ee){var ze=Ue.select(this),Be=function errorCoords(Ee,ze,Be){var Ue={x:ze.c2p(Ee.x),y:Be.c2p(Ee.y)};void 0!==Ee.yh&&(Ue.yh=Be.c2p(Ee.yh),Ue.ys=Be.c2p(Ee.ys),We(Ue.ys)||(Ue.noYS=!0,Ue.ys=Be.c2p(Ee.ys,!0)));void 0!==Ee.xh&&(Ue.xh=ze.c2p(Ee.xh),Ue.xs=ze.c2p(Ee.xs),We(Ue.xs)||(Ue.noXS=!0,Ue.xs=ze.c2p(Ee.xs,!0)));return Ue}(Ee,tt,rt);if(!xt||Ee.vis){var $e,Qe=ze.select("path.yerror");if(ft.visible&&We(Be.x)&&We(Be.yh)&&We(Be.ys)){var at=ft.width;$e="M"+(Be.x-at)+","+Be.yh+"h"+2*at+"m-"+at+",0V"+Be.ys,Be.noYS||($e+="m-"+at+",0h"+2*at),!Qe.size()?Qe=ze.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):nt&&(Qe=Qe.transition().duration(et.duration).ease(et.easing)),Qe.attr("d",$e)}else Qe.remove();var it=ze.select("path.xerror");if(ct.visible&&We(Be.y)&&We(Be.xh)&&We(Be.xs)){var kt=(ct.copy_ystyle?ft:ct).width;$e="M"+Be.xh+","+(Be.y-kt)+"v"+2*kt+"m0,-"+kt+"H"+Be.xs,Be.noXS||($e+="m0,-"+kt+"v"+2*kt),!it.size()?it=ze.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):nt&&(it=it.transition().duration(et.duration).ease(et.easing)),it.attr("d",$e)}else it.remove()}}))}}))}},5567:function(Ee,ze,Be){"use strict";Ee.exports=function filterUnique(Ee){for(var ze={},Be=[],Ue=0,We=0;We<Ee.length;We++){var $e=Ee[We];1!==ze[$e]&&(ze[$e]=1,Be[Ue++]=$e)}return Be}},"55eb":function(Ee,ze,Be){"use strict";Ee.exports={eventDataKeys:["initial","delta","final"]}},"55f6":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26").isArrayOrTypedArray,$e=Be("e806").BADNUM,Qe=Be("3aa8"),et=Be("fc26")._;Ee.exports=function calc(Ee,ze){for(var Be=ze._length,tt=new Array(Be),rt=ze.z,nt=We(rt)&&rt.length,at=0;at<Be;at++){var it=tt[at]={},ct=ze.lon[at],ft=ze.lat[at];if(it.lonlat=Ue(ct)&&Ue(ft)?[+ct,+ft]:[$e,$e],nt){var xt=rt[at];it.z=Ue(xt)?xt:$e}}return Qe(Ee,ze,{vals:nt?rt:[0,1],containerStr:"",cLetter:"z"}),Be&&(tt[0].t={labels:{lat:et(Ee,"lat:")+" ",lon:et(Ee,"lon:")+" "}}),tt}},5664:function(Ee,ze,Be){"use strict";function earcut(Ee,ze,Be){Be=Be||2;var Ue,We,$e,Qe,et,tt,rt,nt=ze&&ze.length,at=nt?ze[0]*Be:Ee.length,it=linkedList(Ee,0,at,Be,!0),ct=[];if(!it||it.next===it.prev)return ct;if(nt&&(it=function eliminateHoles(Ee,ze,Be,Ue){var We,$e,Qe,et,tt,rt=[];for(We=0,$e=ze.length;We<$e;We++)Qe=ze[We]*Ue,et=We<$e-1?ze[We+1]*Ue:Ee.length,(tt=linkedList(Ee,Qe,et,Ue,!1))===tt.next&&(tt.steiner=!0),rt.push(getLeftmost(tt));for(rt.sort(compareX),We=0;We<rt.length;We++)eliminateHole(rt[We],Be),Be=filterPoints(Be,Be.next);return Be}(Ee,ze,it,Be)),Ee.length>80*Be){Ue=$e=Ee[0],We=Qe=Ee[1];for(var ft=Be;ft<at;ft+=Be)(et=Ee[ft])<Ue&&(Ue=et),(tt=Ee[ft+1])<We&&(We=tt),et>$e&&($e=et),tt>Qe&&(Qe=tt);rt=0!==(rt=Math.max($e-Ue,Qe-We))?1/rt:0}return earcutLinked(it,ct,Be,Ue,We,rt),ct}function linkedList(Ee,ze,Be,Ue,We){var $e,Qe;if(We===signedArea(Ee,ze,Be,Ue)>0)for($e=ze;$e<Be;$e+=Ue)Qe=insertNode($e,Ee[$e],Ee[$e+1],Qe);else for($e=Be-Ue;$e>=ze;$e-=Ue)Qe=insertNode($e,Ee[$e],Ee[$e+1],Qe);return Qe&&equals(Qe,Qe.next)&&(removeNode(Qe),Qe=Qe.next),Qe}function filterPoints(Ee,ze){if(!Ee)return Ee;ze||(ze=Ee);var Be,Ue=Ee;do{if(Be=!1,Ue.steiner||!equals(Ue,Ue.next)&&0!==area(Ue.prev,Ue,Ue.next))Ue=Ue.next;else{if(removeNode(Ue),(Ue=ze=Ue.prev)===Ue.next)break;Be=!0}}while(Be||Ue!==ze);return ze}function earcutLinked(Ee,ze,Be,Ue,We,$e,Qe){if(Ee){!Qe&&$e&&function indexCurve(Ee,ze,Be,Ue){var We=Ee;do{null===We.z&&(We.z=zOrder(We.x,We.y,ze,Be,Ue)),We.prevZ=We.prev,We.nextZ=We.next,We=We.next}while(We!==Ee);We.prevZ.nextZ=null,We.prevZ=null,function sortLinked(Ee){var ze,Be,Ue,We,$e,Qe,et,tt,rt=1;do{for(Be=Ee,Ee=null,$e=null,Qe=0;Be;){for(Qe++,Ue=Be,et=0,ze=0;ze<rt&&(et++,Ue=Ue.nextZ);ze++);for(tt=rt;et>0||tt>0&&Ue;)0!==et&&(0===tt||!Ue||Be.z<=Ue.z)?(We=Be,Be=Be.nextZ,et--):(We=Ue,Ue=Ue.nextZ,tt--),$e?$e.nextZ=We:Ee=We,We.prevZ=$e,$e=We;Be=Ue}$e.nextZ=null,rt*=2}while(Qe>1);return Ee}(We)}(Ee,Ue,We,$e);for(var et,tt,rt=Ee;Ee.prev!==Ee.next;)if(et=Ee.prev,tt=Ee.next,$e?isEarHashed(Ee,Ue,We,$e):isEar(Ee))ze.push(et.i/Be),ze.push(Ee.i/Be),ze.push(tt.i/Be),removeNode(Ee),Ee=tt.next,rt=tt.next;else if((Ee=tt)===rt){Qe?1===Qe?earcutLinked(Ee=cureLocalIntersections(filterPoints(Ee),ze,Be),ze,Be,Ue,We,$e,2):2===Qe&&splitEarcut(Ee,ze,Be,Ue,We,$e):earcutLinked(filterPoints(Ee),ze,Be,Ue,We,$e,1);break}}}function isEar(Ee){var ze=Ee.prev,Be=Ee,Ue=Ee.next;if(area(ze,Be,Ue)>=0)return!1;for(var We=Ee.next.next;We!==Ee.prev;){if(pointInTriangle(ze.x,ze.y,Be.x,Be.y,Ue.x,Ue.y,We.x,We.y)&&area(We.prev,We,We.next)>=0)return!1;We=We.next}return!0}function isEarHashed(Ee,ze,Be,Ue){var We=Ee.prev,$e=Ee,Qe=Ee.next;if(area(We,$e,Qe)>=0)return!1;for(var et=We.x<$e.x?We.x<Qe.x?We.x:Qe.x:$e.x<Qe.x?$e.x:Qe.x,tt=We.y<$e.y?We.y<Qe.y?We.y:Qe.y:$e.y<Qe.y?$e.y:Qe.y,rt=We.x>$e.x?We.x>Qe.x?We.x:Qe.x:$e.x>Qe.x?$e.x:Qe.x,nt=We.y>$e.y?We.y>Qe.y?We.y:Qe.y:$e.y>Qe.y?$e.y:Qe.y,at=zOrder(et,tt,ze,Be,Ue),it=zOrder(rt,nt,ze,Be,Ue),ct=Ee.prevZ,ft=Ee.nextZ;ct&&ct.z>=at&&ft&&ft.z<=it;){if(ct!==Ee.prev&&ct!==Ee.next&&pointInTriangle(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ct.x,ct.y)&&area(ct.prev,ct,ct.next)>=0)return!1;if(ct=ct.prevZ,ft!==Ee.prev&&ft!==Ee.next&&pointInTriangle(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ft.x,ft.y)&&area(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}for(;ct&&ct.z>=at;){if(ct!==Ee.prev&&ct!==Ee.next&&pointInTriangle(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ct.x,ct.y)&&area(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;ft&&ft.z<=it;){if(ft!==Ee.prev&&ft!==Ee.next&&pointInTriangle(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ft.x,ft.y)&&area(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function cureLocalIntersections(Ee,ze,Be){var Ue=Ee;do{var We=Ue.prev,$e=Ue.next.next;!equals(We,$e)&&intersects(We,Ue,Ue.next,$e)&&locallyInside(We,$e)&&locallyInside($e,We)&&(ze.push(We.i/Be),ze.push(Ue.i/Be),ze.push($e.i/Be),removeNode(Ue),removeNode(Ue.next),Ue=Ee=$e),Ue=Ue.next}while(Ue!==Ee);return filterPoints(Ue)}function splitEarcut(Ee,ze,Be,Ue,We,$e){var Qe=Ee;do{for(var et=Qe.next.next;et!==Qe.prev;){if(Qe.i!==et.i&&isValidDiagonal(Qe,et)){var tt=splitPolygon(Qe,et);return Qe=filterPoints(Qe,Qe.next),tt=filterPoints(tt,tt.next),earcutLinked(Qe,ze,Be,Ue,We,$e),void earcutLinked(tt,ze,Be,Ue,We,$e)}et=et.next}Qe=Qe.next}while(Qe!==Ee)}function compareX(Ee,ze){return Ee.x-ze.x}function eliminateHole(Ee,ze){if(ze=function findHoleBridge(Ee,ze){var Be,Ue=ze,We=Ee.x,$e=Ee.y,Qe=-1/0;do{if($e<=Ue.y&&$e>=Ue.next.y&&Ue.next.y!==Ue.y){var et=Ue.x+($e-Ue.y)*(Ue.next.x-Ue.x)/(Ue.next.y-Ue.y);if(et<=We&&et>Qe){if(Qe=et,et===We){if($e===Ue.y)return Ue;if($e===Ue.next.y)return Ue.next}Be=Ue.x<Ue.next.x?Ue:Ue.next}}Ue=Ue.next}while(Ue!==ze);if(!Be)return null;if(We===Qe)return Be;var tt,rt=Be,nt=Be.x,at=Be.y,it=1/0;Ue=Be;do{We>=Ue.x&&Ue.x>=nt&&We!==Ue.x&&pointInTriangle($e<at?We:Qe,$e,nt,at,$e<at?Qe:We,$e,Ue.x,Ue.y)&&(tt=Math.abs($e-Ue.y)/(We-Ue.x),locallyInside(Ue,Ee)&&(tt<it||tt===it&&(Ue.x>Be.x||Ue.x===Be.x&&sectorContainsSector(Be,Ue)))&&(Be=Ue,it=tt)),Ue=Ue.next}while(Ue!==rt);return Be}(Ee,ze)){var Be=splitPolygon(ze,Ee);filterPoints(Be,Be.next)}}function sectorContainsSector(Ee,ze){return area(Ee.prev,Ee,ze.prev)<0&&area(ze.next,Ee,Ee.next)<0}function zOrder(Ee,ze,Be,Ue,We){return(Ee=1431655765&((Ee=858993459&((Ee=252645135&((Ee=16711935&((Ee=32767*(Ee-Be)*We)|Ee<<8))|Ee<<4))|Ee<<2))|Ee<<1))|(ze=1431655765&((ze=858993459&((ze=252645135&((ze=16711935&((ze=32767*(ze-Ue)*We)|ze<<8))|ze<<4))|ze<<2))|ze<<1))<<1}function getLeftmost(Ee){var ze=Ee,Be=Ee;do{(ze.x<Be.x||ze.x===Be.x&&ze.y<Be.y)&&(Be=ze),ze=ze.next}while(ze!==Ee);return Be}function pointInTriangle(Ee,ze,Be,Ue,We,$e,Qe,et){return(We-Qe)*(ze-et)-(Ee-Qe)*($e-et)>=0&&(Ee-Qe)*(Ue-et)-(Be-Qe)*(ze-et)>=0&&(Be-Qe)*($e-et)-(We-Qe)*(Ue-et)>=0}function isValidDiagonal(Ee,ze){return Ee.next.i!==ze.i&&Ee.prev.i!==ze.i&&!function intersectsPolygon(Ee,ze){var Be=Ee;do{if(Be.i!==Ee.i&&Be.next.i!==Ee.i&&Be.i!==ze.i&&Be.next.i!==ze.i&&intersects(Be,Be.next,Ee,ze))return!0;Be=Be.next}while(Be!==Ee);return!1}(Ee,ze)&&(locallyInside(Ee,ze)&&locallyInside(ze,Ee)&&function middleInside(Ee,ze){var Be=Ee,Ue=!1,We=(Ee.x+ze.x)/2,$e=(Ee.y+ze.y)/2;do{Be.y>$e!=Be.next.y>$e&&Be.next.y!==Be.y&&We<(Be.next.x-Be.x)*($e-Be.y)/(Be.next.y-Be.y)+Be.x&&(Ue=!Ue),Be=Be.next}while(Be!==Ee);return Ue}(Ee,ze)&&(area(Ee.prev,Ee,ze.prev)||area(Ee,ze.prev,ze))||equals(Ee,ze)&&area(Ee.prev,Ee,Ee.next)>0&&area(ze.prev,ze,ze.next)>0)}function area(Ee,ze,Be){return(ze.y-Ee.y)*(Be.x-ze.x)-(ze.x-Ee.x)*(Be.y-ze.y)}function equals(Ee,ze){return Ee.x===ze.x&&Ee.y===ze.y}function intersects(Ee,ze,Be,Ue){var We=sign(area(Ee,ze,Be)),$e=sign(area(Ee,ze,Ue)),Qe=sign(area(Be,Ue,Ee)),et=sign(area(Be,Ue,ze));return We!==$e&&Qe!==et||(!(0!==We||!onSegment(Ee,Be,ze))||(!(0!==$e||!onSegment(Ee,Ue,ze))||(!(0!==Qe||!onSegment(Be,Ee,Ue))||!(0!==et||!onSegment(Be,ze,Ue)))))}function onSegment(Ee,ze,Be){return ze.x<=Math.max(Ee.x,Be.x)&&ze.x>=Math.min(Ee.x,Be.x)&&ze.y<=Math.max(Ee.y,Be.y)&&ze.y>=Math.min(Ee.y,Be.y)}function sign(Ee){return Ee>0?1:Ee<0?-1:0}function locallyInside(Ee,ze){return area(Ee.prev,Ee,Ee.next)<0?area(Ee,ze,Ee.next)>=0&&area(Ee,Ee.prev,ze)>=0:area(Ee,ze,Ee.prev)<0||area(Ee,Ee.next,ze)<0}function splitPolygon(Ee,ze){var Be=new Node(Ee.i,Ee.x,Ee.y),Ue=new Node(ze.i,ze.x,ze.y),We=Ee.next,$e=ze.prev;return Ee.next=ze,ze.prev=Ee,Be.next=We,We.prev=Be,Ue.next=Be,Be.prev=Ue,$e.next=Ue,Ue.prev=$e,Ue}function insertNode(Ee,ze,Be,Ue){var We=new Node(Ee,ze,Be);return Ue?(We.next=Ue.next,We.prev=Ue,Ue.next.prev=We,Ue.next=We):(We.prev=We,We.next=We),We}function removeNode(Ee){Ee.next.prev=Ee.prev,Ee.prev.next=Ee.next,Ee.prevZ&&(Ee.prevZ.nextZ=Ee.nextZ),Ee.nextZ&&(Ee.nextZ.prevZ=Ee.prevZ)}function Node(Ee,ze,Be){this.i=Ee,this.x=ze,this.y=Be,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(Ee,ze,Be,Ue){for(var We=0,$e=ze,Qe=Be-Ue;$e<Be;$e+=Ue)We+=(Ee[Qe]-Ee[$e])*(Ee[$e+1]+Ee[Qe+1]),Qe=$e;return We}Ee.exports=earcut,Ee.exports.default=earcut,earcut.deviation=function(Ee,ze,Be,Ue){var We=ze&&ze.length,$e=We?ze[0]*Be:Ee.length,Qe=Math.abs(signedArea(Ee,0,$e,Be));if(We)for(var et=0,tt=ze.length;et<tt;et++){var rt=ze[et]*Be,nt=et<tt-1?ze[et+1]*Be:Ee.length;Qe-=Math.abs(signedArea(Ee,rt,nt,Be))}var at=0;for(et=0;et<Ue.length;et+=3){var it=Ue[et]*Be,ct=Ue[et+1]*Be,ft=Ue[et+2]*Be;at+=Math.abs((Ee[it]-Ee[ft])*(Ee[ct+1]-Ee[it+1])-(Ee[it]-Ee[ct])*(Ee[ft+1]-Ee[it+1]))}return 0===Qe&&0===at?0:Math.abs((at-Qe)/Qe)},earcut.flatten=function(Ee){for(var ze=Ee[0][0].length,Be={vertices:[],holes:[],dimensions:ze},Ue=0,We=0;We<Ee.length;We++){for(var $e=0;$e<Ee[We].length;$e++)for(var Qe=0;Qe<ze;Qe++)Be.vertices.push(Ee[We][$e][Qe]);We>0&&(Ue+=Ee[We-1].length,Be.holes.push(Ue))}return Be}},"566e":function(Ee,ze,Be){"use strict";Ee.exports=function boundary(Ee){var ze,Be,Ue,We=Ee.length,$e=0;for(ze=0;ze<We;++ze)$e+=Ee[ze].length;var Qe=new Array($e),et=0;for(ze=0;ze<We;++ze){var tt=Ee[ze],rt=tt.length;for(Be=0;Be<rt;++Be){var nt=Qe[et++]=new Array(rt-1),at=0;for(Ue=0;Ue<rt;++Ue)Ue!==Be&&(nt[at++]=tt[Ue]);if(1&Be){var it=nt[1];nt[1]=nt[0],nt[0]=it}}}return Qe}},"567e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("e5ac"),Qe=Be("a5cc"),et=Be("fdc7");function handleShapeDefaults(Ee,ze,Be){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}if(coerce("visible")){coerce("layer"),coerce("opacity"),coerce("fillcolor"),coerce("line.color"),coerce("line.width"),coerce("line.dash");for(var $e=coerce("type",Ee.path?"path":"rect"),tt=coerce("xsizemode"),rt=coerce("ysizemode"),nt=["x","y"],at=0;at<2;at++){var it,ct,ft,xt=nt[at],kt=xt+"anchor",Lt="x"===xt?tt:rt,Ut={_fullLayout:Be},er=We.coerceRef(Ee,ze,Ut,xt,"","paper");if("paper"!==er?((it=We.getFromId(Ut,er))._shapeIndices.push(ze._index),ft=et.rangeToShapePosition(it),ct=et.shapePositionToRange(it)):ct=ft=Ue.identity,"path"!==$e){var tr=xt+"0",rr=xt+"1",ar=Ee[tr],Lr=Ee[rr];Ee[tr]=ct(Ee[tr],!0),Ee[rr]=ct(Ee[rr],!0),"pixel"===Lt?(coerce(tr,0),coerce(rr,10)):(We.coercePosition(ze,Ut,coerce,er,tr,.25),We.coercePosition(ze,Ut,coerce,er,rr,.75)),ze[tr]=ft(ze[tr]),ze[rr]=ft(ze[rr]),Ee[tr]=ar,Ee[rr]=Lr}if("pixel"===Lt){var Qr=Ee[kt];Ee[kt]=ct(Ee[kt],!0),We.coercePosition(ze,Ut,coerce,er,kt,.25),ze[kt]=ft(ze[kt]),Ee[kt]=Qr}}"path"===$e?coerce("path"):Ue.noneOrAll(Ee,ze,["x0","x1","y0","y1"])}}Ee.exports=function supplyLayoutDefaults(Ee,ze){$e(Ee,ze,{name:"shapes",handleItemDefaults:handleShapeDefaults})}},5692:function(Ee,ze,Be){var Ue=Be("c430"),We=Be("c6cd");(Ee.exports=function(Ee,ze){return We[Ee]||(We[Ee]=void 0!==ze?ze:{})})("versions",[]).push({version:"3.6.4",mode:Ue?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"569b":function(Ee,ze,Be){"use strict";Ee.exports=function zip3(Ee,ze,Be,Ue){Ue=Ue||Ee.length;for(var We=new Array(Ue),$e=0;$e<Ue;$e++)We[$e]=[Ee[$e],ze[$e],Be[$e]];return We}},"56b4":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("78d8");Ee.exports=function supplyLayoutDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}coerce("hiddenlabels"),coerce("piecolorway",ze.colorway),coerce("extendpiecolors")}},"56cf":function(Ee,ze){Ee.exports=function subtract(Ee,ze,Be){return Ee[0]=ze[0]-Be[0],Ee[1]=ze[1]-Be[1],Ee[2]=ze[2]-Be[2],Ee[3]=ze[3]-Be[3],Ee}},"56ef":function(Ee,ze,Be){var Ue=Be("d066"),We=Be("241c"),$e=Be("7418"),Qe=Be("825a");Ee.exports=Ue("Reflect","ownKeys")||function ownKeys(Ee){var ze=We.f(Qe(Ee)),Be=$e.f;return Be?ze.concat(Be(Ee)):ze}},"56f3":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("94d5").texttemplateAttrs,$e=Be("107c"),Qe=Be("a876"),et=Be("f4e9"),tt=Be("db54").dash,rt=Be("9092").extendFlat,nt=Be("cb34").overrideAll,at=$e.marker,it=$e.line,ct=at.line;Ee.exports=nt({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:rt({},$e.mode,{dflt:"markers"}),text:rt({},$e.text,{}),texttemplate:We({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:rt({},$e.hovertext,{}),textfont:$e.textfont,textposition:$e.textposition,line:{color:it.color,width:it.width,dash:tt},connectgaps:$e.connectgaps,marker:rt({symbol:at.symbol,opacity:at.opacity,size:at.size,sizeref:at.sizeref,sizemin:at.sizemin,sizemode:at.sizemode,colorbar:at.colorbar,line:rt({width:ct.width},et("marker.line")),gradient:at.gradient},et("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:$e.fillcolor,selected:$e.selected,unselected:$e.unselected,hoverinfo:rt({},Qe.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:Ue()},"calc","nested")},"56fc":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze,Be,Ue,We){var $e=ze-2,Qe=Be-2;return Ue&&We?function(ze,Be,Ue){var We,et,tt,rt,nt,at;ze||(ze=[]);var it=Math.max(0,Math.min(Math.floor(Be),$e)),ct=Math.max(0,Math.min(Math.floor(Ue),Qe)),ft=Math.max(0,Math.min(1,Be-it)),xt=Math.max(0,Math.min(1,Ue-ct));it*=3,ct*=3;var kt=ft*ft,Lt=kt*ft,Ut=1-ft,er=Ut*Ut,tr=er*Ut,rr=xt*xt,ar=rr*xt,Lr=1-xt,Qr=Lr*Lr,on=Qr*Lr;for(at=0;at<Ee.length;at++)We=tr*(nt=Ee[at])[ct][it]+3*(er*ft*nt[ct][it+1]+Ut*kt*nt[ct][it+2])+Lt*nt[ct][it+3],et=tr*nt[ct+1][it]+3*(er*ft*nt[ct+1][it+1]+Ut*kt*nt[ct+1][it+2])+Lt*nt[ct+1][it+3],tt=tr*nt[ct+2][it]+3*(er*ft*nt[ct+2][it+1]+Ut*kt*nt[ct+2][it+2])+Lt*nt[ct+2][it+3],rt=tr*nt[ct+3][it]+3*(er*ft*nt[ct+3][it+1]+Ut*kt*nt[ct+3][it+2])+Lt*nt[ct+3][it+3],ze[at]=on*We+3*(Qr*xt*et+Lr*rr*tt)+ar*rt;return ze}:Ue?function(ze,Be,Ue){ze||(ze=[]);var We,et,tt,rt,nt,at,it=Math.max(0,Math.min(Math.floor(Be),$e)),ct=Math.max(0,Math.min(Math.floor(Ue),Qe)),ft=Math.max(0,Math.min(1,Be-it)),xt=Math.max(0,Math.min(1,Ue-ct));it*=3;var kt=ft*ft,Lt=kt*ft,Ut=1-ft,er=Ut*Ut,tr=er*Ut,rr=1-xt;for(nt=0;nt<Ee.length;nt++)We=rr*(at=Ee[nt])[ct][it]+xt*at[ct+1][it],et=rr*at[ct][it+1]+xt*at[ct+1][it+1],tt=rr*at[ct][it+2]+xt*at[ct+1][it+1],rt=rr*at[ct][it+3]+xt*at[ct+1][it+1],ze[nt]=tr*We+3*(er*ft*et+Ut*kt*tt)+Lt*rt;return ze}:We?function(ze,Be,Ue){ze||(ze=[]);var We,et,tt,rt,nt,at,it=Math.max(0,Math.min(Math.floor(Be),$e)),ct=Math.max(0,Math.min(Math.floor(Ue),Qe)),ft=Math.max(0,Math.min(1,Be-it)),xt=Math.max(0,Math.min(1,Ue-ct));ct*=3;var kt=xt*xt,Lt=kt*xt,Ut=1-xt,er=Ut*Ut,tr=er*Ut,rr=1-ft;for(nt=0;nt<Ee.length;nt++)We=rr*(at=Ee[nt])[ct][it]+ft*at[ct][it+1],et=rr*at[ct+1][it]+ft*at[ct+1][it+1],tt=rr*at[ct+2][it]+ft*at[ct+2][it+1],rt=rr*at[ct+3][it]+ft*at[ct+3][it+1],ze[nt]=tr*We+3*(er*xt*et+Ut*kt*tt)+Lt*rt;return ze}:function(ze,Be,Ue){ze||(ze=[]);var We,et,tt,rt,nt=Math.max(0,Math.min(Math.floor(Be),$e)),at=Math.max(0,Math.min(Math.floor(Ue),Qe)),it=Math.max(0,Math.min(1,Be-nt)),ct=Math.max(0,Math.min(1,Ue-at)),ft=1-ct,xt=1-it;for(tt=0;tt<Ee.length;tt++)We=xt*(rt=Ee[tt])[at][nt]+it*rt[at][nt+1],et=xt*rt[at+1][nt]+it*rt[at+1][nt+1],ze[tt]=ft*We+ct*et;return ze}}},5714:function(Ee,ze){Ee.exports=function ceil(Ee,ze){return Ee[0]=Math.ceil(ze[0]),Ee[1]=Math.ceil(ze[1]),Ee[2]=Math.ceil(ze[2]),Ee}},5752:function(Ee,ze,Be){"use strict";var Ue=Be("399f");Ee.exports=function str2BN(Ee){return new Ue(Ee)}},"578f":function(Ee,ze,Be){"use strict";Ee.exports=function createSelectBuffer(Ee,ze){var Be=Ue(Ee,ze),$e=We.mallocUint8(ze[0]*ze[1]*4);return new SelectBuffer(Ee,Be,$e)};var Ue=Be("44c3"),We=Be("cea5"),$e=Be("b5bb"),Qe=Be("a48a").nextPow2,et=Be("dd8f")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_4_arg0_<255||_inline_4_arg1_<255||_inline_4_arg2_<255||_inline_4_arg3_<255){var _inline_4_l=_inline_4_arg4_-_inline_4_arg6_[0],_inline_4_a=_inline_4_arg5_-_inline_4_arg6_[1],_inline_4_f=_inline_4_l*_inline_4_l+_inline_4_a*_inline_4_a;_inline_4_f<this_closestD2&&(this_closestD2=_inline_4_f,this_closestX=_inline_4_arg6_[0],this_closestY=_inline_4_arg6_[1])}}",args:[{name:"_inline_4_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_4_a","_inline_4_f","_inline_4_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function SelectResult(Ee,ze,Be,Ue,We){this.coord=[Ee,ze],this.id=Be,this.value=Ue,this.distance=We}function SelectBuffer(Ee,ze,Be){this.gl=Ee,this.fbo=ze,this.buffer=Be,this._readTimeout=null;var Ue=this;this._readCallback=function(){Ue.gl&&(ze.bind(),Ee.readPixels(0,0,ze.shape[0],ze.shape[1],Ee.RGBA,Ee.UNSIGNED_BYTE,Ue.buffer),Ue._readTimeout=null)}}var tt=SelectBuffer.prototype;Object.defineProperty(tt,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(Ee){if(this.gl){this.fbo.shape=Ee;var ze=this.fbo.shape[0],Be=this.fbo.shape[1];if(Be*ze*4>this.buffer.length){We.free(this.buffer);for(var Ue=this.buffer=We.mallocUint8(Qe(Be*ze*4)),$e=0;$e<Be*ze*4;++$e)Ue[$e]=255}return Ee}}}),tt.begin=function(){var Ee=this.gl;this.shape;Ee&&(this.fbo.bind(),Ee.clearColor(1,1,1,1),Ee.clear(Ee.COLOR_BUFFER_BIT|Ee.DEPTH_BUFFER_BIT))},tt.end=function(){var Ee=this.gl;Ee&&(Ee.bindFramebuffer(Ee.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},tt.query=function(Ee,ze,Be){if(!this.gl)return null;var Ue=this.fbo.shape.slice();Ee|=0,ze|=0,"number"!=typeof Be&&(Be=1);var We=0|Math.min(Math.max(Ee-Be,0),Ue[0]),Qe=0|Math.min(Math.max(Ee+Be,0),Ue[0]),tt=0|Math.min(Math.max(ze-Be,0),Ue[1]),rt=0|Math.min(Math.max(ze+Be,0),Ue[1]);if(Qe<=We||rt<=tt)return null;var nt=[Qe-We,rt-tt],at=$e(this.buffer,[nt[0],nt[1],4],[4,4*Ue[0],1],4*(We+Ue[0]*tt)),it=et(at.hi(nt[0],nt[1],1),Be,Be),ct=it[0],ft=it[1];return ct<0||Math.pow(this.radius,2)<it[2]?null:new SelectResult(ct+We|0,ft+tt|0,at.get(ct,ft,0),[at.get(ct,ft,1),at.get(ct,ft,2),at.get(ct,ft,3)],Math.sqrt(it[2]))},tt.dispose=function(){this.gl&&(this.fbo.dispose(),We.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},"57da":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fb56"),$e=Be("fc26"),Qe=Be("1a5e").TEXTPAD,et=Be("c791").toMoveInsideBar,tt=Be("93a6"),rt=tt.recordMinTextSize,nt=tt.clearMinTextSize,at=Be("2df3").resizeText,it=Be("23cc"),ct=Be("bfb6"),ft=Be("223c");function getKey(Ee){return We.isHierarchyRoot(Ee)?"":We.getPtId(Ee)}function plotOne(Ee,ze,Be,tt){var nt=Ee._fullLayout,at=ze[0],xt=at.trace,kt=at.hierarchy,Lt=We.findEntryWithLevel(kt,xt.level),Ut=Ue.select(Be),er=Ut.selectAll("g.pathbar"),tr=Ut.selectAll("g.slice");if(!Lt)return er.remove(),void tr.remove();var rr=We.isHierarchyRoot(Lt),ar=!nt.uniformtext.mode&&We.hasTransition(tt),Lr=We.getMaxDepth(xt),Qr=nt._size,on=xt.domain,sn=Qr.w*(on.x[1]-on.x[0]),ln=Qr.h*(on.y[1]-on.y[0]),cn=sn,un=xt.pathbar.thickness,hn=xt.marker.line.width+it.gapWithPathbar,dn=xt.pathbar.visible?xt.pathbar.side.indexOf("bottom")>-1?ln+hn:-(un+hn):0,vn={x0:cn,x1:cn,y0:dn,y1:dn+un},findClosestEdge=function(Ee,ze,Be){var Ue=xt.tiling.pad,isLeftOfRect=function(Ee){return Ee-Ue<=ze.x0},isRightOfRect=function(Ee){return Ee+Ue>=ze.x1},isBottomOfRect=function(Ee){return Ee-Ue<=ze.y0},isTopOfRect=function(Ee){return Ee+Ue>=ze.y1};return{x0:isLeftOfRect(Ee.x0-Ue)?0:isRightOfRect(Ee.x0-Ue)?Be[0]:Ee.x0,x1:isLeftOfRect(Ee.x1+Ue)?0:isRightOfRect(Ee.x1+Ue)?Be[0]:Ee.x1,y0:isBottomOfRect(Ee.y0-Ue)?0:isTopOfRect(Ee.y0-Ue)?Be[1]:Ee.y0,y1:isBottomOfRect(Ee.y1+Ue)?0:isTopOfRect(Ee.y1+Ue)?Be[1]:Ee.y1}},yn=null,_n={},Mn={},Cn=null,getPrev=function(Ee,ze){return ze?_n[getKey(Ee)]:Mn[getKey(Ee)]},getOrigin=function(Ee,ze,Be,Ue){if(ze)return _n[getKey(kt)]||vn;var We=Mn[xt.level]||Be;return function(Ee){return Ee.data.depth-Lt.data.depth<Lr}(Ee)?findClosestEdge(Ee,We,Ue):{}};at.hasMultipleRoots&&rr&&Lr++,xt._maxDepth=Lr,xt._backgroundColor=nt.paper_bgcolor,xt._entryDepth=Lt.data.depth,xt._atRootLevel=rr;var En=-sn/2+Qr.l+Qr.w*(on.x[1]+on.x[0])/2,Pn=-ln/2+Qr.t+Qr.h*(1-(on.y[1]+on.y[0])/2),viewMapX=function(Ee){return En+Ee},viewMapY=function(Ee){return Pn+Ee},In=viewMapY(0),Bn=viewMapX(0),viewBarX=function(Ee){return Bn+Ee},viewBarY=function(Ee){return In+Ee};function pos(Ee,ze){return Ee+","+ze}var Hn=viewBarX(0),limitX0=function(Ee){Ee.x=Math.max(Hn,Ee.x)},Kn=xt.pathbar.edgeshape,toMoveInsideSlice=function(Ee,ze){var Be=Ee.x0,Ue=Ee.x1,We=Ee.y0,$e=Ee.y1,tt=Ee.textBB,hasFlag=function(Ee){return-1!==xt.textposition.indexOf(Ee)},at=hasFlag("bottom"),it=hasFlag("top")||ze.isHeader&&!at?"start":at?"end":"middle",ct=hasFlag("right"),ft=hasFlag("left")||ze.onPathbar?-1:ct?1:0,kt=xt.marker.pad;if(ze.isHeader){if((Be+=kt.l-Qe)>=(Ue-=kt.r-Qe)){var Lt=(Be+Ue)/2;Be=Lt,Ue=Lt}var Ut;at?We<(Ut=$e-kt.b)&&Ut<$e&&(We=Ut):We<(Ut=We+kt.t)&&Ut<$e&&($e=Ut)}var er=et(Be,Ue,We,$e,tt,{isHorizontal:!1,constrained:!0,angle:0,anchor:it,leftToRight:ft});return er.fontSize=ze.fontSize,er.targetX=viewMapX(er.targetX),er.targetY=viewMapY(er.targetY),isNaN(er.targetX)||isNaN(er.targetY)?{}:(Be!==Ue&&We!==$e&&rt(xt.type,er,nt),{scale:er.scale,rotate:er.rotate,textX:er.textX,textY:er.textY,anchorX:er.anchorX,anchorY:er.anchorY,targetX:er.targetX,targetY:er.targetY})},interpFromParent=function(Ee,ze){for(var Be,Ue=0,We=Ee;!Be&&Ue<Lr;)Ue++,(We=We.parent)?Be=getPrev(We,ze):Ue=Lr;return Be||{}},makeUpdateSliceInterpolator=function(Ee,ze,Be,We){var Qe,et=getPrev(Ee,ze);if(et)Qe=et;else if(ze)Qe=vn;else if(yn)if(Ee.parent){var tt=Cn||Be;tt&&!ze?Qe=findClosestEdge(Ee,tt,We):(Qe={},$e.extendFlat(Qe,interpFromParent(Ee,ze)))}else Qe=Ee;else Qe={};return Ue.interpolate(Qe,{x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1})},makeUpdateTextInterpolator=function(Ee,ze,Be,Qe){var et=getPrev(Ee,ze),tt={},at=getOrigin(Ee,ze,Be,Qe);$e.extendFlat(tt,{transform:toMoveInsideSlice({x0:at.x0,x1:at.x1,y0:at.y0,y1:at.y1,textBB:Ee.textBB,_text:Ee._text},{isHeader:We.isHeader(Ee,xt)})}),et?tt=et:Ee.parent&&$e.extendFlat(tt,interpFromParent(Ee,ze));var it=Ee.transform;return Ee.x0!==Ee.x1&&Ee.y0!==Ee.y1&&rt(xt.type,it,nt),Ue.interpolate(tt,{transform:{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY}})},handleSlicesExit=function(Ee,ze,Be,We,$e){var Qe=We[0],et=We[1];ar?Ee.exit().transition().each((function(){var Ee=Ue.select(this);Ee.select("path.surface").transition().attrTween("d",(function(Ee){var Be=function(Ee,ze,Be,We){var $e,Qe=getPrev(Ee,ze);if(ze)$e=vn;else{var et=getPrev(Lt,ze);$e=et?findClosestEdge(Ee,et,We):{}}return Ue.interpolate(Qe,$e)}(Ee,ze,0,[Qe,et]);return function(Ee){return $e(Be(Ee))}})),Ee.select("g.slicetext").attr("opacity",0)})).remove():Ee.exit().remove()},strTransform=function(Ee){var ze=Ee.transform;return Ee.x0!==Ee.x1&&Ee.y0!==Ee.y1&&rt(xt.type,ze,nt),$e.getTextTransform({textX:ze.textX,textY:ze.textY,anchorX:ze.anchorX,anchorY:ze.anchorY,targetX:ze.targetX,targetY:ze.targetY,scale:ze.scale,rotate:ze.rotate})};ar&&(er.each((function(Ee){_n[getKey(Ee)]={x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1},Ee.transform&&(_n[getKey(Ee)].transform={textX:Ee.transform.textX,textY:Ee.transform.textY,anchorX:Ee.transform.anchorX,anchorY:Ee.transform.anchorY,targetX:Ee.transform.targetX,targetY:Ee.transform.targetY,scale:Ee.transform.scale,rotate:Ee.transform.rotate})})),tr.each((function(Ee){Mn[getKey(Ee)]={x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1},Ee.transform&&(Mn[getKey(Ee)].transform={textX:Ee.transform.textX,textY:Ee.transform.textY,anchorX:Ee.transform.anchorX,anchorY:Ee.transform.anchorY,targetX:Ee.transform.targetX,targetY:Ee.transform.targetY,scale:Ee.transform.scale,rotate:Ee.transform.rotate}),!yn&&We.isEntry(Ee)&&(yn=Ee)}))),Cn=ct(Ee,ze,Lt,tr,{width:sn,height:ln,viewX:viewMapX,viewY:viewMapY,pathSlice:function(Ee){var ze=viewMapX(Ee.x0),Be=viewMapX(Ee.x1),Ue=viewMapY(Ee.y0),We=viewMapY(Ee.y1),$e=Be-ze,Qe=We-Ue;if(!$e||!Qe)return"";return"M"+pos(ze,Ue+0)+"L"+pos(Be-0,Ue)+"L"+pos(Be,We-0)+"L"+pos(ze+0,We)+"Z"},toMoveInsideSlice:toMoveInsideSlice,prevEntry:yn,makeUpdateSliceInterpolator:makeUpdateSliceInterpolator,makeUpdateTextInterpolator:makeUpdateTextInterpolator,handleSlicesExit:handleSlicesExit,hasTransition:ar,strTransform:strTransform}),xt.pathbar.visible&&ft(Ee,ze,Lt,er,{barDifY:dn,width:cn,height:un,viewX:viewBarX,viewY:viewBarY,pathSlice:function(Ee){var ze=viewBarX(Math.max(Math.min(Ee.x0,Ee.x0),0)),Be=viewBarX(Math.min(Math.max(Ee.x1,Ee.x1),cn)),Ue=viewBarY(Ee.y0),We=viewBarY(Ee.y1),$e=un/2,Qe={},et={};Qe.x=ze,et.x=Be,Qe.y=et.y=(Ue+We)/2;var tt={x:ze,y:Ue},rt={x:Be,y:Ue},nt={x:Be,y:We},at={x:ze,y:We};return">"===Kn?(tt.x-=$e,rt.x-=$e,nt.x-=$e,at.x-=$e):"/"===Kn?(nt.x-=$e,at.x-=$e,Qe.x-=$e/2,et.x-=$e/2):"\\"===Kn?(tt.x-=$e,rt.x-=$e,Qe.x-=$e/2,et.x-=$e/2):"<"===Kn&&(Qe.x-=$e,et.x-=$e),limitX0(tt),limitX0(at),limitX0(Qe),limitX0(rt),limitX0(nt),limitX0(et),"M"+pos(tt.x,tt.y)+"L"+pos(rt.x,rt.y)+"L"+pos(et.x,et.y)+"L"+pos(nt.x,nt.y)+"L"+pos(at.x,at.y)+"L"+pos(Qe.x,Qe.y)+"Z"},toMoveInsideSlice:toMoveInsideSlice,makeUpdateSliceInterpolator:makeUpdateSliceInterpolator,makeUpdateTextInterpolator:makeUpdateTextInterpolator,handleSlicesExit:handleSlicesExit,hasTransition:ar,strTransform:strTransform})}Ee.exports=function(Ee,ze,Be,$e){var Qe,et,tt=Ee._fullLayout,rt=tt._treemaplayer,it=!Be;(nt("treemap",tt),(Qe=rt.selectAll("g.trace.treemap").data(ze,(function(Ee){return Ee[0].trace.uid}))).enter().append("g").classed("trace",!0).classed("treemap",!0),Qe.order(),!tt.uniformtext.mode&&We.hasTransition(Be))?($e&&(et=$e()),Ue.transition().duration(Be.duration).ease(Be.easing).each("end",(function(){et&&et()})).each("interrupt",(function(){et&&et()})).each((function(){rt.selectAll("g.trace").each((function(ze){plotOne(Ee,ze,this,Be)}))}))):(Qe.each((function(ze){plotOne(Ee,ze,this,Be)})),tt.uniformtext.mode&&at(Ee,tt._treemaplayer.selectAll(".trace"),"treemap"));it&&Qe.exit().remove()}},5844:function(Ee,ze,Be){"use strict";Ee.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},5885:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return ze.hoverOnBox&&(Ee.hoverOnBox=ze.hoverOnBox),"xVal"in ze&&(Ee.x=ze.xVal),"yVal"in ze&&(Ee.y=ze.yVal),ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),Ee}},5913:function(Ee,ze,Be){"use strict";var Ue=Be("e806"),We=Ue.ONEAVGYEAR,$e=Ue.ONEAVGMONTH,Qe=Ue.ONEDAY,et=Ue.ONEHOUR,tt=Ue.ONEMIN,rt=Ue.ONESEC,nt=Be("0642").tickIncrement;function biggestDigitChanged(Ee,ze,Be,Ue){if(Ee*ze<=0)return 1/0;for(var We=Math.abs(ze-Ee),$e="date"===Be.type,Qe=biggestGuaranteedDigitChanged(We,$e),et=0;et<10;et++){var tt=biggestGuaranteedDigitChanged(80*Qe,$e);if(Qe===tt)break;if(!didDigitChange(tt,Ee,ze,$e,Be,Ue))break;Qe=tt}return Qe}function biggestGuaranteedDigitChanged(Ee,ze){return ze&&Ee>rt?Ee>Qe?Ee>1.1*We?We:Ee>1.1*$e?$e:Qe:Ee>et?et:Ee>tt?tt:rt:Math.pow(10,Math.floor(Math.log(Ee)/Math.LN10))}function didDigitChange(Ee,ze,Be,Ue,$e,et){if(Ue&&Ee>Qe){var tt=dateParts(ze,$e,et),rt=dateParts(Be,$e,et),nt=Ee===We?0:1;return tt[nt]!==rt[nt]}return Math.floor(Be/Ee)-Math.floor(ze/Ee)>.1}function dateParts(Ee,ze,Be){var Ue=ze.c2d(Ee,We,Be).split("-");return""===Ue[0]&&(Ue.unshift(),Ue[0]="-"+Ue[0]),Ue}Ee.exports=function getBinSpanLabelRound(Ee,ze,Be,Ue,$e){var et,tt,rt=-1.1*ze,at=-.1*ze,it=Ee-at,ct=Be[0],ft=Be[1],xt=Math.min(biggestDigitChanged(ct+at,ct+it,Ue,$e),biggestDigitChanged(ft+at,ft+it,Ue,$e)),kt=Math.min(biggestDigitChanged(ct+rt,ct+at,Ue,$e),biggestDigitChanged(ft+rt,ft+at,Ue,$e));if(xt>kt&&kt<Math.abs(ft-ct)/4e3?(et=xt,tt=!1):(et=Math.min(xt,kt),tt=!0),"date"===Ue.type&&et>Qe){var Lt=et===We?1:6,Ut=et===We?"M12":"M1";return function(ze,Be){var Qe=Ue.c2d(ze,We,$e),et=Qe.indexOf("-",Lt);et>0&&(Qe=Qe.substr(0,et));var rt=Ue.d2c(Qe,0,$e);if(rt<ze){var at=nt(rt,Ut,!1,$e);(rt+at)/2<ze+Ee&&(rt=at)}return Be&&tt?nt(rt,Ut,!0,$e):rt}}return function(ze,Be){var Ue=et*Math.round(ze/et);return Ue+et/10<ze&&Ue+.9*et<ze+Ee&&(Ue+=et),Be&&tt&&(Ue-=et),Ue}}},5928:function(Ee,ze){Ee.exports=function fromQuat(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=Be+Be,et=Ue+Ue,tt=We+We,rt=Be*Qe,nt=Ue*Qe,at=Ue*et,it=We*Qe,ct=We*et,ft=We*tt,xt=$e*Qe,kt=$e*et,Lt=$e*tt;return Ee[0]=1-at-ft,Ee[1]=nt+Lt,Ee[2]=it-kt,Ee[3]=0,Ee[4]=nt-Lt,Ee[5]=1-rt-ft,Ee[6]=ct+xt,Ee[7]=0,Ee[8]=it+kt,Ee[9]=ct-xt,Ee[10]=1-rt-at,Ee[11]=0,Ee[12]=0,Ee[13]=0,Ee[14]=0,Ee[15]=1,Ee}},"595c":function(Ee,ze,Be){"use strict";var Ue=Be("9a02"),We=Be("9b49");function rgb2float(Ee){return[Ee[0]/255,Ee[1]/255,Ee[2]/255,Ee[3]]}function rgb2hex(Ee){for(var ze,Be="#",Ue=0;Ue<3;++Ue)Be+=("00"+(ze=(ze=Ee[Ue]).toString(16))).substr(ze.length);return Be}function rgbaStr(Ee){return"rgba("+Ee.join(",")+")"}Ee.exports=function createColormap(Ee){var ze,Be,$e,Qe,et,tt,rt,nt,at,it;Ee||(Ee={});nt=(Ee.nshades||72)-1,rt=Ee.format||"hex",(tt=Ee.colormap)||(tt="jet");if("string"==typeof tt){if(tt=tt.toLowerCase(),!Ue[tt])throw Error(tt+" not a supported colorscale");et=Ue[tt]}else{if(!Array.isArray(tt))throw Error("unsupported colormap option",tt);et=tt.slice()}if(et.length>nt+1)throw new Error(tt+" map requires nshades to be at least size "+et.length);at=Array.isArray(Ee.alpha)?2!==Ee.alpha.length?[1,1]:Ee.alpha.slice():"number"==typeof Ee.alpha?[Ee.alpha,Ee.alpha]:[1,1];ze=et.map((function(Ee){return Math.round(Ee.index*nt)})),at[0]=Math.min(Math.max(at[0],0),1),at[1]=Math.min(Math.max(at[1],0),1);var ct=et.map((function(Ee,ze){var Be=et[ze].index,Ue=et[ze].rgb.slice();return 4===Ue.length&&Ue[3]>=0&&Ue[3]<=1||(Ue[3]=at[0]+(at[1]-at[0])*Be),Ue})),ft=[];for(it=0;it<ze.length-1;++it){Qe=ze[it+1]-ze[it],Be=ct[it],$e=ct[it+1];for(var xt=0;xt<Qe;xt++){var kt=xt/Qe;ft.push([Math.round(We(Be[0],$e[0],kt)),Math.round(We(Be[1],$e[1],kt)),Math.round(We(Be[2],$e[2],kt)),We(Be[3],$e[3],kt)])}}ft.push(et[et.length-1].rgb.concat(at[1])),"hex"===rt?ft=ft.map(rgb2hex):"rgbaString"===rt?ft=ft.map(rgbaStr):"float"===rt&&(ft=ft.map(rgb2float));return ft}},"59be":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray,We=Be("215c").hasColorscale,$e=Be("4183");Ee.exports=function lineDefaults(Ee,ze,Be,Qe,et,tt){var rt=(Ee.marker||{}).color;(et("line.color",Be),We(Ee,"line"))?$e(Ee,ze,Qe,et,{prefix:"line.",cLetter:"c"}):et("line.color",!Ue(rt)&&rt||Be);et("line.width"),(tt||{}).noDash||et("line.dash")}},"59ce":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("371e"),Qe=Be("fc26"),et=Be("d115"),tt=Be("83d1"),rt=Be("bb71"),nt=Be("0642"),at=Be("1a40"),it=Be("7a52"),ct=Be("ce56").doAutoRange,ft=Be("9676"),xt=Be("4efe"),kt=Be("a5c4"),Lt=Be("1999"),Ut=Be("1876").prepSelect,er=Be("1876").selectOnClick,tr=Be("1876").clearSelect,rr=Be("0f37"),ar=Be("821b"),Lr=Be("a392").redrawReglTraces,Qr=Be("63dc").MID_SHIFT,on=Be("f510"),sn=Be("a60f"),ln=Qe._,cn=Qe.mod,un=Qe.deg2rad,hn=Qe.rad2deg;function Polar(Ee,ze){this.id=ze,this.gd=Ee,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Be=Ee._fullLayout,Ue="clip"+Be._uid+ze;this.clipIds.forTraces=Ue+"-for-traces",this.clipPaths.forTraces=Be._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Be._polarlayer.append("g").attr("class",ze),this.radialTickLayout=null,this.angularTickLayout=null}var dn=Polar.prototype;function strTickLayout(Ee){var ze=Ee.ticks+String(Ee.ticklen)+String(Ee.showticklabels);return"side"in Ee&&(ze+=Ee.side),ze}function snapToVertexAngle(Ee,ze){return ze[Qe.findIndexOfMin(ze,(function(ze){return Qe.angleDist(Ee,ze)}))]}function updateElement(Ee,ze,Be){return ze?(Ee.attr("display",null),Ee.attr(Be)):Ee&&Ee.attr("display","none"),Ee}function strTranslate(Ee,ze){return"translate("+Ee+","+ze+")"}function strRotate(Ee){return"rotate("+Ee+")"}Ee.exports=function createPolar(Ee,ze){return new Polar(Ee,ze)},dn.plot=function(Ee,ze){var Be=ze[this.id];this._hasClipOnAxisFalse=!1;for(var Ue=0;Ue<Ee.length;Ue++){if(!1===Ee[Ue][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}}this.updateLayers(ze,Be),this.updateLayout(ze,Be),rt.generalUpdatePerTraceModule(this.gd,this,Ee,Be),this.updateFx(ze,Be)},dn.updateLayers=function(Ee,ze){var Be=this.layers,We=ze.radialaxis,$e=ze.angularaxis,Qe=on.layerNames,et=Qe.indexOf("frontplot"),tt=Qe.slice(0,et),rt="below traces"===$e.layer,nt="below traces"===We.layer;rt&&tt.push("angular-line"),nt&&tt.push("radial-line"),rt&&tt.push("angular-axis"),nt&&tt.push("radial-axis"),tt.push("frontplot"),rt||tt.push("angular-line"),nt||tt.push("radial-line"),rt||tt.push("angular-axis"),nt||tt.push("radial-axis");var at=this.framework.selectAll(".polarsublayer").data(tt,String);at.enter().append("g").attr("class",(function(Ee){return"polarsublayer "+Ee})).each((function(Ee){var ze=Be[Ee]=Ue.select(this);switch(Ee){case"frontplot":ze.append("g").classed("barlayer",!0),ze.append("g").classed("scatterlayer",!0);break;case"backplot":ze.append("g").classed("maplayer",!0);break;case"plotbg":Be.bg=ze.append("path");break;case"radial-grid":case"angular-grid":ze.style("fill","none");break;case"radial-line":ze.append("line").style("fill","none");break;case"angular-line":ze.append("path").style("fill","none")}})),at.order()},dn.updateLayout=function(Ee,ze){var Be=this.layers,Ue=Ee._size,We=ze.radialaxis,$e=ze.angularaxis,Qe=ze.domain.x,rt=ze.domain.y;this.xOffset=Ue.l+Ue.w*Qe[0],this.yOffset=Ue.t+Ue.h*(1-rt[1]);var nt=this.xLength=Ue.w*(Qe[1]-Qe[0]),at=this.yLength=Ue.h*(rt[1]-rt[0]),it=ze.sector;this.sectorInRad=it.map(un);var ct,ft,xt,kt,Lt,Ut=this.sectorBBox=function computeSectorBBox(Ee){var ze,Be,Ue,We,$e=Ee[0],Qe=Ee[1]-$e,et=cn($e,360),tt=et+Qe,rt=Math.cos(un(et)),nt=Math.sin(un(et)),at=Math.cos(un(tt)),it=Math.sin(un(tt));We=et<=90&&tt>=90||et>90&&tt>=450?1:nt<=0&&it<=0?0:Math.max(nt,it);ze=et<=180&&tt>=180||et>180&&tt>=540?-1:rt>=0&&at>=0?0:Math.min(rt,at);Be=et<=270&&tt>=270||et>270&&tt>=630?-1:nt>=0&&it>=0?0:Math.min(nt,it);Ue=tt>=360?1:rt<=0&&at<=0?0:Math.max(rt,at);return[ze,Be,Ue,We]}(it),er=Ut[2]-Ut[0],tr=Ut[3]-Ut[1],rr=at/nt,ar=Math.abs(tr/er);rr>ar?(ct=nt,Lt=(at-(ft=nt*ar))/Ue.h/2,xt=[Qe[0],Qe[1]],kt=[rt[0]+Lt,rt[1]-Lt]):(ft=at,Lt=(nt-(ct=at/ar))/Ue.w/2,xt=[Qe[0]+Lt,Qe[1]-Lt],kt=[rt[0],rt[1]]),this.xLength2=ct,this.yLength2=ft,this.xDomain2=xt,this.yDomain2=kt;var Lr=this.xOffset2=Ue.l+Ue.w*xt[0],Qr=this.yOffset2=Ue.t+Ue.h*(1-kt[1]),on=this.radius=ct/er,sn=this.innerRadius=ze.hole*on,ln=this.cx=Lr-on*Ut[0],hn=this.cy=Qr+on*Ut[3],dn=this.cxx=ln-Lr,vn=this.cyy=hn-Qr;this.radialAxis=this.mockAxis(Ee,ze,We,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[We.side],domain:[sn/Ue.w,on/Ue.w]}),this.angularAxis=this.mockAxis(Ee,ze,$e,{side:"right",domain:[0,Math.PI],autorange:!1}),this.doAutoRange(Ee,ze),this.updateAngularAxis(Ee,ze),this.updateRadialAxis(Ee,ze),this.updateRadialAxisTitle(Ee,ze),this.xaxis=this.mockCartesianAxis(Ee,ze,{_id:"x",domain:xt}),this.yaxis=this.mockCartesianAxis(Ee,ze,{_id:"y",domain:kt});var yn=this.pathSubplot();this.clipPaths.forTraces.select("path").attr("d",yn).attr("transform",strTranslate(dn,vn)),Be.frontplot.attr("transform",strTranslate(Lr,Qr)).call(tt.setClipUrl,this._hasClipOnAxisFalse?null:this.clipIds.forTraces,this.gd),Be.bg.attr("d",yn).attr("transform",strTranslate(ln,hn)).call(et.fill,ze.bgcolor)},dn.mockAxis=function(Ee,ze,Be,Ue){var We=Qe.extendFlat({},Be,Ue);return it(We,ze,Ee),We},dn.mockCartesianAxis=function(Ee,ze,Be){var Ue=this,We=Be._id,$e=Qe.extendFlat({type:"linear"},Be);at($e,Ee);var et={x:[0,2],y:[1,3]};return $e.setRange=function(){var Ee=Ue.sectorBBox,Be=et[We],Qe=Ue.radialAxis._rl,tt=(Qe[1]-Qe[0])/(1-ze.hole);$e.range=[Ee[Be[0]]*tt,Ee[Be[1]]*tt]},$e.isPtWithinRange="x"===We?function(Ee){return Ue.isPtInside(Ee)}:function(){return!0},$e.setRange(),$e.setScale(),$e},dn.doAutoRange=function(Ee,ze){var Be=this.gd,Ue=this.radialAxis,We=ze.radialaxis;Ue.setScale(),ct(Be,Ue);var $e=Ue.range;We.range=$e.slice(),We._input.range=$e.slice(),Ue._rl=[Ue.r2l($e[0],null,"gregorian"),Ue.r2l($e[1],null,"gregorian")]},dn.updateRadialAxis=function(Ee,ze){var Be=this,Ue=Be.gd,We=Be.layers,$e=Be.radius,tt=Be.innerRadius,rt=Be.cx,at=Be.cy,it=ze.radialaxis,ct=cn(ze.sector[0],360),ft=Be.radialAxis,xt=tt<$e;Be.fillViewInitialKey("radialaxis.angle",it.angle),Be.fillViewInitialKey("radialaxis.range",ft.range.slice()),ft.setGeometry(),"auto"===ft.tickangle&&ct>90&&ct<=270&&(ft.tickangle=180);var transFn=function(Ee){return"translate("+(ft.l2p(Ee.x)+tt)+",0)"},kt=strTickLayout(it);if(Be.radialTickLayout!==kt&&(We["radial-axis"].selectAll(".xtick").remove(),Be.radialTickLayout=kt),xt){ft.setScale();var Lt=nt.calcTicks(ft),Ut=nt.clipEnds(ft,Lt),er=nt.getTickSigns(ft)[2];nt.drawTicks(Ue,ft,{vals:Lt,layer:We["radial-axis"],path:nt.makeTickPath(ft,0,er),transFn:transFn,crisp:!1}),nt.drawGrid(Ue,ft,{vals:Ut,layer:We["radial-grid"],path:function(Ee){return Be.pathArc(ft.r2p(Ee.x)+tt)},transFn:Qe.noop,crisp:!1}),nt.drawLabels(Ue,ft,{vals:Lt,layer:We["radial-axis"],transFn:transFn,labelFns:nt.makeLabelFns(ft,0)})}var tr=Be.radialAxisAngle=Be.vangles?hn(snapToVertexAngle(un(it.angle),Be.vangles)):it.angle,rr=strTranslate(rt,at),ar=rr+strRotate(-tr);updateElement(We["radial-axis"],xt&&(it.showticklabels||it.ticks),{transform:ar}),updateElement(We["radial-grid"],xt&&it.showgrid,{transform:rr}),updateElement(We["radial-line"].select("line"),xt&&it.showline,{x1:tt,y1:0,x2:$e,y2:0,transform:ar}).attr("stroke-width",it.linewidth).call(et.stroke,it.linecolor)},dn.updateRadialAxisTitle=function(Ee,ze,Be){var Ue=this.gd,We=this.radius,$e=this.cx,Qe=this.cy,et=ze.radialaxis,rt=this.id+"title",nt=void 0!==Be?Be:this.radialAxisAngle,at=un(nt),it=Math.cos(at),ct=Math.sin(at),ft=0;if(et.title){var xt=tt.bBox(this.layers["radial-axis"].node()).height,kt=et.title.font.size;ft="counterclockwise"===et.side?-xt-.4*kt:xt+.8*kt}this.layers["radial-axis-title"]=Lt.draw(Ue,rt,{propContainer:et,propName:this.id+".radialaxis.title",placeholder:ln(Ue,"Click to enter radial axis title"),attributes:{x:$e+We/2*it+ft*ct,y:Qe-We/2*ct+ft*it,"text-anchor":"middle"},transform:{rotate:-nt}})},dn.updateAngularAxis=function(Ee,ze){var Be=this,Ue=Be.gd,We=Be.layers,$e=Be.radius,tt=Be.innerRadius,rt=Be.cx,at=Be.cy,it=ze.angularaxis,ct=Be.angularAxis;Be.fillViewInitialKey("angularaxis.rotation",it.rotation),ct.setGeometry(),ct.setScale();var t2g=function(Ee){return ct.t2g(Ee.x)};"linear"===ct.type&&"radians"===ct.thetaunit&&(ct.tick0=hn(ct.tick0),ct.dtick=hn(ct.dtick));var _transFn=function(Ee){return strTranslate(rt+$e*Math.cos(Ee),at-$e*Math.sin(Ee))},ft=nt.makeLabelFns(ct,0).labelStandoff,xt={xFn:function(Ee){var ze=t2g(Ee);return Math.cos(ze)*ft},yFn:function(Ee){var ze=t2g(Ee),Be=Math.sin(ze)>0?.2:1;return-Math.sin(ze)*(ft+Ee.fontSize*Be)+Math.abs(Math.cos(ze))*(Ee.fontSize*Qr)},anchorFn:function(Ee){var ze=t2g(Ee),Be=Math.cos(ze);return Math.abs(Be)<.1?"middle":Be>0?"start":"end"},heightFn:function(Ee,ze,Be){var Ue=t2g(Ee);return-.5*(1+Math.sin(Ue))*Be}},kt=strTickLayout(it);Be.angularTickLayout!==kt&&(We["angular-axis"].selectAll("."+ct._id+"tick").remove(),Be.angularTickLayout=kt);var Lt,Ut=nt.calcTicks(ct);if("linear"===ze.gridshape?(Lt=Ut.map(t2g),Qe.angleDelta(Lt[0],Lt[1])<0&&(Lt=Lt.slice().reverse())):Lt=null,Be.vangles=Lt,"category"===ct.type&&(Ut=Ut.filter((function(Ee){return Qe.isAngleInsideSector(t2g(Ee),Be.sectorInRad)}))),ct.visible){var er="inside"===ct.ticks?-1:1,tr=(ct.linewidth||1)/2;nt.drawTicks(Ue,ct,{vals:Ut,layer:We["angular-axis"],path:"M"+er*tr+",0h"+er*ct.ticklen,transFn:function(Ee){var ze=t2g(Ee);return _transFn(ze)+strRotate(-hn(ze))},crisp:!1}),nt.drawGrid(Ue,ct,{vals:Ut,layer:We["angular-grid"],path:function(Ee){var ze=t2g(Ee),Be=Math.cos(ze),Ue=Math.sin(ze);return"M"+[rt+tt*Be,at-tt*Ue]+"L"+[rt+$e*Be,at-$e*Ue]},transFn:Qe.noop,crisp:!1}),nt.drawLabels(Ue,ct,{vals:Ut,layer:We["angular-axis"],repositionOnUpdate:!0,transFn:function(Ee){return _transFn(t2g(Ee))},labelFns:xt})}updateElement(We["angular-line"].select("path"),it.showline,{d:Be.pathSubplot(),transform:strTranslate(rt,at)}).attr("stroke-width",it.linewidth).call(et.stroke,it.linecolor)},dn.updateFx=function(Ee,ze){this.gd._context.staticPlot||(this.updateAngularDrag(Ee),this.updateRadialDrag(Ee,ze,0),this.updateRadialDrag(Ee,ze,1),this.updateMainDrag(Ee))},dn.updateMainDrag=function(Ee){var ze=this,Be=ze.gd,Qe=ze.layers,et=Ee._zoomlayer,tt=on.MINZOOM,rt=on.OFFEDGE,nt=ze.radius,at=ze.innerRadius,it=ze.cx,ct=ze.cy,Lt=ze.cxx,rr=ze.cyy,ar=ze.sectorInRad,Lr=ze.vangles,Qr=ze.radialAxis,ln=sn.clampTiny,cn=sn.findXYatLength,un=sn.findEnclosingVertexAngles,hn=on.cornerHalfWidth,dn=on.cornerLen/2,vn=ft.makeDragger(Qe,"path","maindrag","crosshair");Ue.select(vn).attr("d",ze.pathSubplot()).attr("transform",strTranslate(it,ct));var yn,_n,Mn,Cn,En,Pn,In,Bn,Hn,Kn={element:vn,gd:Be,subplot:ze.id,plotinfo:{id:ze.id,xaxis:ze.xaxis,yaxis:ze.yaxis},xaxes:[ze.xaxis],yaxes:[ze.yaxis]};function norm(Ee,ze){return Math.sqrt(Ee*Ee+ze*ze)}function xy2r(Ee,ze){return norm(Ee-Lt,ze-rr)}function xy2a(Ee,ze){return Math.atan2(rr-ze,Ee-Lt)}function ra2xy(Ee,ze){return[Ee*Math.cos(ze),Ee*Math.sin(-ze)]}function pathCorner(Ee,Be){if(0===Ee)return ze.pathSector(2*hn);var Ue=dn/Ee,We=Be-Ue,$e=Be+Ue,Qe=Math.max(0,Math.min(Ee,nt)),et=Qe-hn,tt=Qe+hn;return"M"+ra2xy(et,We)+"A"+[et,et]+" 0,0,0 "+ra2xy(et,$e)+"L"+ra2xy(tt,$e)+"A"+[tt,tt]+" 0,0,1 "+ra2xy(tt,We)+"Z"}function pathCornerForPolygons(Ee,Be,Ue){if(0===Ee)return ze.pathSector(2*hn);var We,$e,Qe=ra2xy(Ee,Be),et=ra2xy(Ee,Ue),tt=ln((Qe[0]+et[0])/2),rt=ln((Qe[1]+et[1])/2);if(tt&&rt){var nt=rt/tt,at=-1/nt,it=cn(hn,nt,tt,rt);We=cn(dn,at,it[0][0],it[0][1]),$e=cn(dn,at,it[1][0],it[1][1])}else{var ct,ft;rt?(ct=dn,ft=hn):(ct=hn,ft=dn),We=[[tt-ct,rt-ft],[tt+ct,rt-ft]],$e=[[tt-ct,rt+ft],[tt+ct,rt+ft]]}return"M"+We.join("L")+"L"+$e.reverse().join("L")+"Z"}function clampAndSetR0R1(Ee,ze){return ze=Math.max(Math.min(ze,nt),at),Ee<rt?Ee=0:nt-Ee<rt?Ee=nt:ze<rt?ze=0:nt-ze<rt&&(ze=nt),Math.abs(ze-Ee)>tt?(Ee<ze?(Mn=Ee,Cn=ze):(Mn=ze,Cn=Ee),!0):(Mn=null,Cn=null,!1)}function applyZoomMove(Ee,ze){Ee=Ee||En,ze=ze||"M0,0Z",Bn.attr("d",Ee),Hn.attr("d",ze),ft.transitionZoombox(Bn,Hn,Pn,In),Pn=!0;var Ue={};computeZoomUpdates(Ue),Be.emit("plotly_relayouting",Ue)}function zoomMove(Ee,Be){var Ue,We,$e=yn+Ee,Qe=_n+Be,et=xy2r(yn,_n),tt=Math.min(xy2r($e,Qe),nt),rt=xy2a(yn,_n);clampAndSetR0R1(et,tt)&&(Ue=En+ze.pathSector(Cn),Mn&&(Ue+=ze.pathSector(Mn)),We=pathCorner(Mn,rt)+pathCorner(Cn,rt)),applyZoomMove(Ue,We)}function findPolygonRadius(Ee,ze,Be,Ue){var We=sn.findIntersectionXY(Be,Ue,Be,[Ee-Lt,rr-ze]);return norm(We[0],We[1])}function zoomMoveForPolygons(Ee,Be){var Ue,We,$e=yn+Ee,Qe=_n+Be,et=xy2a(yn,_n),tt=xy2a($e,Qe),rt=un(et,Lr),at=un(tt,Lr);clampAndSetR0R1(findPolygonRadius(yn,_n,rt[0],rt[1]),Math.min(findPolygonRadius($e,Qe,at[0],at[1]),nt))&&(Ue=En+ze.pathSector(Cn),Mn&&(Ue+=ze.pathSector(Mn)),We=[pathCornerForPolygons(Mn,rt[0],rt[1]),pathCornerForPolygons(Cn,rt[0],rt[1])].join(" ")),applyZoomMove(Ue,We)}function zoomDone(){if(ft.removeZoombox(Be),null!==Mn&&null!==Cn){var Ee={};computeZoomUpdates(Ee),ft.showDoubleClickNotifier(Be),$e.call("_guiRelayout",Be,Ee)}}function computeZoomUpdates(Ee){var Be=Qr._rl,Ue=(Be[1]-Be[0])/(1-at/nt)/nt,We=[Be[0]+(Mn-at)*Ue,Be[0]+(Cn-at)*Ue];Ee[ze.id+".radialaxis.range"]=We}function zoomClick(Ee,Ue){var We=Be._fullLayout.clickmode;if(ft.removeZoombox(Be),2===Ee){var Qe={};for(var et in ze.viewInitial)Qe[ze.id+"."+et]=ze.viewInitial[et];Be.emit("plotly_doubleclick",null),$e.call("_guiRelayout",Be,Qe)}We.indexOf("select")>-1&&1===Ee&&er(Ue,Be,[ze.xaxis],[ze.yaxis],ze.id,Kn),We.indexOf("event")>-1&&kt.click(Be,Ue,ze.id)}Kn.prepFn=function(Ee,Ue,$e){var Qe=Be._fullLayout.dragmode,tt=vn.getBoundingClientRect();if(yn=Ue-tt.left,_n=$e-tt.top,Lr){var rt=sn.findPolygonOffset(nt,ar[0],ar[1],Lr);yn+=Lt+rt[0],_n+=rr+rt[1]}switch(Qe){case"zoom":Kn.moveFn=Lr?zoomMoveForPolygons:zoomMove,Kn.clickFn=zoomClick,Kn.doneFn=zoomDone,function zoomPrep(){Mn=null,Cn=null,En=ze.pathSubplot(),Pn=!1;var Ee=Be._fullLayout[ze.id];In=We(Ee.bgcolor).getLuminance(),(Bn=ft.makeZoombox(et,In,it,ct,En)).attr("fill-rule","evenodd"),Hn=ft.makeCorners(et,it,ct),tr(Be)}();break;case"select":case"lasso":Ut(Ee,Ue,$e,Kn,Qe)}},vn.onmousemove=function(Ee){kt.hover(Be,Ee,ze.id),Be._fullLayout._lasthover=vn,Be._fullLayout._hoversubplot=ze.id},vn.onmouseout=function(Ee){Be._dragging||xt.unhover(Be,Ee)},xt.init(Kn)},dn.updateRadialDrag=function(Ee,ze,Be){var We=this,et=We.gd,tt=We.layers,rt=We.radius,nt=We.innerRadius,at=We.cx,it=We.cy,ct=We.radialAxis,kt=on.radialDragBoxSize,Lt=kt/2;if(ct.visible){var Ut,er,rr,Qr=un(We.radialAxisAngle),sn=ct._rl,ln=sn[0],cn=sn[1],dn=sn[Be],vn=.75*(sn[1]-sn[0])/(1-ze.hole)/rt;Be?(Ut=at+(rt+Lt)*Math.cos(Qr),er=it-(rt+Lt)*Math.sin(Qr),rr="radialdrag"):(Ut=at+(nt-Lt)*Math.cos(Qr),er=it-(nt-Lt)*Math.sin(Qr),rr="radialdrag-inner");var yn,_n,Mn,Cn=ft.makeRectDragger(tt,rr,"crosshair",-Lt,-Lt,kt,kt),En={element:Cn,gd:et};updateElement(Ue.select(Cn),ct.visible&&nt<rt,{transform:strTranslate(Ut,er)}),En.prepFn=function(){yn=null,_n=null,Mn=null,En.moveFn=moveFn,En.doneFn=doneFn,tr(et)},En.clampFn=function(Ee,ze){return Math.sqrt(Ee*Ee+ze*ze)<on.MINDRAG&&(Ee=0,ze=0),[Ee,ze]},xt.init(En)}function moveFn(Ee,ze){if(yn)yn(Ee,ze);else{var Ue=[Ee,-ze],$e=[Math.cos(Qr),Math.sin(Qr)],tt=Math.abs(Qe.dot(Ue,$e)/Math.sqrt(Qe.dot(Ue,Ue)));isNaN(tt)||(yn=tt<.5?rotateMove:rerangeMove)}var rt={};!function computeRadialAxisUpdates(Ee){null!==_n?Ee[We.id+".radialaxis.angle"]=_n:null!==Mn&&(Ee[We.id+".radialaxis.range["+Be+"]"]=Mn)}(rt),et.emit("plotly_relayouting",rt)}function doneFn(){null!==_n?$e.call("_guiRelayout",et,We.id+".radialaxis.angle",_n):null!==Mn&&$e.call("_guiRelayout",et,We.id+".radialaxis.range["+Be+"]",Mn)}function rotateMove(Ee,ze){if(0!==Be){var Ue=Ut+Ee,$e=er+ze;_n=Math.atan2(it-$e,Ue-at),We.vangles&&(_n=snapToVertexAngle(_n,We.vangles)),_n=hn(_n);var Qe=strTranslate(at,it)+strRotate(-_n);tt["radial-axis"].attr("transform",Qe),tt["radial-line"].select("line").attr("transform",Qe);var et=We.gd._fullLayout,rt=et[We.id];We.updateRadialAxisTitle(et,rt,_n)}}function rerangeMove(Ee,ze){var Ue=Qe.dot([Ee,-ze],[Math.cos(Qr),Math.sin(Qr)]);if(Mn=dn-vn*Ue,vn>0==(Be?Mn>ln:Mn<cn)){var tt=et._fullLayout,rt=tt[We.id];ct.range[Be]=Mn,ct._rl[Be]=Mn,We.updateRadialAxis(tt,rt),We.xaxis.setRange(),We.xaxis.setScale(),We.yaxis.setRange(),We.yaxis.setScale();var nt=!1;for(var at in We.traceHash){var it=We.traceHash[at],ft=Qe.filterVisible(it);it[0][0].trace._module.plot(et,We,ft,rt),$e.traceIs(at,"gl")&&ft.length&&(nt=!0)}nt&&(ar(et),Lr(et))}else Mn=null}},dn.updateAngularDrag=function(Ee){var ze=this,Be=ze.gd,We=ze.layers,et=ze.radius,rt=ze.angularAxis,nt=ze.cx,at=ze.cy,it=ze.cxx,ct=ze.cyy,kt=on.angularDragBoxSize,Lt=ft.makeDragger(We,"path","angulardrag","move"),Ut={element:Lt,gd:Be};function xy2a(Ee,ze){return Math.atan2(ct+kt-ze,Ee-it-kt)}Ue.select(Lt).attr("d",ze.pathAnnulus(et,et+kt)).attr("transform",strTranslate(nt,at)).call(rr,"move");var er,Qr,sn,ln,cn,un,dn=We.frontplot.select(".scatterlayer").selectAll(".trace"),vn=dn.selectAll(".point"),yn=dn.selectAll(".textpoint");function moveFn(Ee,et){var ft=ze.gd._fullLayout,xt=ft[ze.id],kt=xy2a(er+Ee,Qr+et),Lt=hn(kt-un);if(ln=sn+Lt,We.frontplot.attr("transform",strTranslate(ze.xOffset2,ze.yOffset2)+strRotate([-Lt,it,ct])),ze.vangles){cn=ze.radialAxisAngle+Lt;var Ut=strTranslate(nt,at)+strRotate(-Lt),tr=strTranslate(nt,at)+strRotate(-cn);We.bg.attr("transform",Ut),We["radial-grid"].attr("transform",Ut),We["radial-axis"].attr("transform",tr),We["radial-line"].select("line").attr("transform",tr),ze.updateRadialAxisTitle(ft,xt,cn)}else ze.clipPaths.forTraces.select("path").attr("transform",strTranslate(it,ct)+strRotate(Lt));vn.each((function(){var Ee=Ue.select(this),ze=tt.getTranslate(Ee);Ee.attr("transform",strTranslate(ze.x,ze.y)+strRotate([Lt]))})),yn.each((function(){var Ee=Ue.select(this),ze=Ee.select("text"),Be=tt.getTranslate(Ee);Ee.attr("transform",strRotate([Lt,ze.attr("x"),ze.attr("y")])+strTranslate(Be.x,Be.y))})),rt.rotation=Qe.modHalf(ln,360),ze.updateAngularAxis(ft,xt),ze._hasClipOnAxisFalse&&!Qe.isFullCircle(ze.sectorInRad)&&dn.call(tt.hideOutsideRangePoints,ze);var rr=!1;for(var on in ze.traceHash)if($e.traceIs(on,"gl")){var _n=ze.traceHash[on],Mn=Qe.filterVisible(_n);_n[0][0].trace._module.plot(Be,ze,Mn,xt),Mn.length&&(rr=!0)}rr&&(ar(Be),Lr(Be));var Cn={};computeRotationUpdates(Cn),Be.emit("plotly_relayouting",Cn)}function computeRotationUpdates(Ee){Ee[ze.id+".angularaxis.rotation"]=ln,ze.vangles&&(Ee[ze.id+".radialaxis.angle"]=cn)}function doneFn(){yn.select("text").attr("transform",null);var Ee={};computeRotationUpdates(Ee),$e.call("_guiRelayout",Be,Ee)}Ut.prepFn=function(Ue,We,$e){var Qe=Ee[ze.id];sn=Qe.angularaxis.rotation;var et=Lt.getBoundingClientRect();er=We-et.left,Qr=$e-et.top,un=xy2a(er,Qr),Ut.moveFn=moveFn,Ut.doneFn=doneFn,tr(Be)},ze.vangles&&!Qe.isFullCircle(ze.sectorInRad)&&(Ut.prepFn=Qe.noop,rr(Ue.select(Lt),null)),xt.init(Ut)},dn.isPtInside=function(Ee){var ze=this.sectorInRad,Be=this.vangles,Ue=this.angularAxis.c2g(Ee.theta),We=this.radialAxis,$e=We.c2l(Ee.r),et=We._rl;return(Be?sn.isPtInsidePolygon:Qe.isPtInsideSector)($e,Ue,et,ze,Be)},dn.pathArc=function(Ee){var ze=this.sectorInRad,Be=this.vangles;return(Be?sn.pathPolygon:Qe.pathArc)(Ee,ze[0],ze[1],Be)},dn.pathSector=function(Ee){var ze=this.sectorInRad,Be=this.vangles;return(Be?sn.pathPolygon:Qe.pathSector)(Ee,ze[0],ze[1],Be)},dn.pathAnnulus=function(Ee,ze){var Be=this.sectorInRad,Ue=this.vangles;return(Ue?sn.pathPolygonAnnulus:Qe.pathAnnulus)(Ee,ze,Be[0],Be[1],Ue)},dn.pathSubplot=function(){var Ee=this.innerRadius,ze=this.radius;return Ee?this.pathAnnulus(Ee,ze):this.pathSector(ze)},dn.fillViewInitialKey=function(Ee,ze){Ee in this.viewInitial||(this.viewInitial[Ee]=ze)}},"59e0":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");ze.formatPiePercent=function formatPiePercent(Ee,ze){var Be=(100*Ee).toPrecision(3);return-1!==Be.lastIndexOf(".")&&(Be=Be.replace(/[.]?0+$/,"")),Ue.numSeparate(Be,ze)+"%"},ze.formatPieValue=function formatPieValue(Ee,ze){var Be=Ee.toPrecision(10);return-1!==Be.lastIndexOf(".")&&(Be=Be.replace(/[.]?0+$/,"")),Ue.numSeparate(Be,ze)},ze.getFirstFilled=function getFirstFilled(Ee,ze){if(Array.isArray(Ee))for(var Be=0;Be<ze.length;Be++){var Ue=Ee[ze[Be]];if(Ue||0===Ue||""===Ue)return Ue}},ze.castOption=function castOption(Ee,Be){return Array.isArray(Ee)?ze.getFirstFilled(Ee,Be):Ee||void 0}},"5a1b":function(Ee,ze,Be){"use strict";Ee.exports=function pushUnique(Ee,ze){if(ze instanceof RegExp){for(var Be=ze.toString(),Ue=0;Ue<Ee.length;Ue++)if(Ee[Ue]instanceof RegExp&&Ee[Ue].toString()===Be)return Ee;Ee.push(ze)}else!ze&&0!==ze||-1!==Ee.indexOf(ze)||Ee.push(ze);return Ee}},"5a1e":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("a935");Ee.exports=function drawArrowHead(Ee,ze,Be){var Qe,et,tt,rt,nt=Ee.node(),at=$e[Be.arrowhead||0],it=$e[Be.startarrowhead||0],ct=(Be.arrowwidth||1)*(Be.arrowsize||1),ft=(Be.arrowwidth||1)*(Be.startarrowsize||1),xt=ze.indexOf("start")>=0,kt=ze.indexOf("end")>=0,Lt=at.backoff*ct+Be.standoff,Ut=it.backoff*ft+Be.startstandoff;if("line"===nt.nodeName){Qe={x:+Ee.attr("x1"),y:+Ee.attr("y1")},et={x:+Ee.attr("x2"),y:+Ee.attr("y2")};var er=Qe.x-et.x,tr=Qe.y-et.y;if(rt=(tt=Math.atan2(tr,er))+Math.PI,Lt&&Ut&&Lt+Ut>Math.sqrt(er*er+tr*tr))return void hideLine();if(Lt){if(Lt*Lt>er*er+tr*tr)return void hideLine();var rr=Lt*Math.cos(tt),ar=Lt*Math.sin(tt);et.x+=rr,et.y+=ar,Ee.attr({x2:et.x,y2:et.y})}if(Ut){if(Ut*Ut>er*er+tr*tr)return void hideLine();var Lr=Ut*Math.cos(tt),Qr=Ut*Math.sin(tt);Qe.x-=Lr,Qe.y-=Qr,Ee.attr({x1:Qe.x,y1:Qe.y})}}else if("path"===nt.nodeName){var on=nt.getTotalLength(),sn="";if(on<Lt+Ut)return void hideLine();var ln=nt.getPointAtLength(0),cn=nt.getPointAtLength(.1);tt=Math.atan2(ln.y-cn.y,ln.x-cn.x),Qe=nt.getPointAtLength(Math.min(Ut,on)),sn="0px,"+Ut+"px,";var un=nt.getPointAtLength(on),hn=nt.getPointAtLength(on-.1);rt=Math.atan2(un.y-hn.y,un.x-hn.x),et=nt.getPointAtLength(Math.max(0,on-Lt)),sn+=on-(sn?Ut+Lt:Lt)+"px,"+on+"px",Ee.style("stroke-dasharray",sn)}function hideLine(){Ee.style("stroke-dasharray","0px,100px")}function drawhead(ze,$e,Qe,et){ze.path&&(ze.noRotate&&(Qe=0),Ue.select(nt.parentNode).append("path").attr({class:Ee.attr("class"),d:ze.path,transform:"translate("+$e.x+","+$e.y+")"+(Qe?"rotate("+180*Qe/Math.PI+")":"")+"scale("+et+")"}).style({fill:We.rgb(Be.arrowcolor),"stroke-width":0}))}xt&&drawhead(it,Qe,tt,ft),kt&&drawhead(at,et,rt,ct)}},"5aa9":function(Ee,ze,Be){"use strict";var Ue=Be("0948"),We=Be("7223");Ee.exports=function roundRat(Ee){var ze=Ee[0],Be=Ee[1];if(0===ze.cmpn(0))return 0;var $e=ze.abs().divmod(Be.abs()),Qe=$e.div,et=Ue(Qe),tt=$e.mod,rt=ze.negative!==Be.negative?-1:1;if(0===tt.cmpn(0))return rt*et;if(et){var nt=We(et)+4,at=Ue(tt.ushln(nt).divRound(Be));return rt*(et+at*Math.pow(2,-nt))}var it=Be.bitLength()-tt.bitLength()+53;at=Ue(tt.ushln(it).divRound(Be));return it<1023?rt*at*Math.pow(2,-it):(at*=Math.pow(2,-1023),rt*at*Math.pow(2,1023-it))}},"5aae":function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("a876"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("94d5").texttemplateAttrs,et=Be("f4e9"),tt=Be("9092").extendFlat,rt=Ue.marker,nt=Ue.line,at=rt.line;Ee.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:tt({},Ue.mode,{dflt:"markers"}),text:tt({},Ue.text,{}),texttemplate:Qe({editType:"plot"},{keys:["a","b","text"]}),hovertext:tt({},Ue.hovertext,{}),line:{color:nt.color,width:nt.width,dash:nt.dash,shape:tt({},nt.shape,{values:["linear","spline"]}),smoothing:nt.smoothing,editType:"calc"},connectgaps:Ue.connectgaps,fill:tt({},Ue.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:Ue.fillcolor,marker:tt({symbol:rt.symbol,opacity:rt.opacity,maxdisplayed:rt.maxdisplayed,size:rt.size,sizeref:rt.sizeref,sizemin:rt.sizemin,sizemode:rt.sizemode,line:tt({width:at.width,editType:"calc"},et("marker.line")),gradient:rt.gradient,editType:"calc"},et("marker")),textfont:Ue.textfont,textposition:Ue.textposition,selected:Ue.selected,unselected:Ue.unselected,hoverinfo:tt({},We.hoverinfo,{flags:["a","b","text","name"]}),hoveron:Ue.hoveron,hovertemplate:$e()}},"5ad1":function(Ee,ze,Be){"use strict";Ee.exports={calc:function calc(Ee,ze){var Be=[],Ue=ze.value;"number"!=typeof ze._lastValue&&(ze._lastValue=ze.value);var We=ze._lastValue,$e=We;return ze._hasDelta&&"number"==typeof ze.delta.reference&&($e=ze.delta.reference),Be[0]={y:Ue,lastY:We,delta:Ue-$e,relativeDelta:(Ue-$e)/$e},Be}}},"5ad3":function(Ee,ze,Be){"use strict";Ee.exports=Be("f6a2")},"5b68":function(Ee,ze,Be){"use strict";Ee.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},"5bec":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return Ee.x="xVal"in ze?ze.xVal:ze.x,Ee.y="yVal"in ze?ze.yVal:ze.y,"initial"in ze&&(Ee.initial=ze.initial),"delta"in ze&&(Ee.delta=ze.delta),"final"in ze&&(Ee.final=ze.final),ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),Ee}},"5c33":function(Ee,ze,Be){"use strict";var Ue=Be("bb4a"),We=Be("9092").extendFlat,$e=Be("cb34").overrideAll,Qe=Be("9845"),et=Be("81f0").attributes;Be("78df").FORMAT_LINK;(Ee.exports=$e({domain:et({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[]},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:We({},Ue.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:We({},Qe({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[]},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:We({},Ue.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:We({},Qe({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},"5c6c":function(Ee,ze){Ee.exports=function(Ee,ze){return{enumerable:!(1&Ee),configurable:!(2&Ee),writable:!(4&Ee),value:ze}}},"5c79":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("371e"),Qe=Be("fc26"),et=Qe._,tt=Be("d115"),rt=Be("83d1"),nt=Be("1a40"),at=Be("9092").extendFlat,it=Be("bb71"),ct=Be("0642"),ft=Be("4efe"),xt=Be("a5c4"),kt=Be("1999"),Lt=Be("1876").prepSelect,Ut=Be("1876").selectOnClick,er=Be("1876").clearSelect,tr=Be("d301");function Ternary(Ee,ze){this.id=Ee.id,this.graphDiv=Ee.graphDiv,this.init(ze),this.makeFramework(ze),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}Ee.exports=Ternary;var rr=Ternary.prototype;rr.init=function(Ee){this.container=Ee._ternarylayer,this.defs=Ee._defs,this.layoutId=Ee._uid,this.traceHash={},this.layers={}},rr.plot=function(Ee,ze){var Be=ze[this.id],Ue=ze._size;this._hasClipOnAxisFalse=!1;for(var We=0;We<Ee.length;We++){if(!1===Ee[We][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}}this.updateLayers(Be),this.adjustLayout(Be,Ue),it.generalUpdatePerTraceModule(this.graphDiv,this,Ee,Be),this.layers.plotbg.select("path").call(tt.fill,Be.bgcolor)},rr.makeFramework=function(Ee){var ze=this.graphDiv,Be=Ee[this.id],Ue=this.clipId="clip"+this.layoutId+this.id,We=this.clipIdRelative="clip-relative"+this.layoutId+this.id;this.clipDef=Qe.ensureSingleById(Ee._clips,"clipPath",Ue,(function(Ee){Ee.append("path").attr("d","M0,0Z")})),this.clipDefRelative=Qe.ensureSingleById(Ee._clips,"clipPath",We,(function(Ee){Ee.append("path").attr("d","M0,0Z")})),this.plotContainer=Qe.ensureSingle(this.container,"g",this.id),this.updateLayers(Be),rt.setClipUrl(this.layers.backplot,Ue,ze),rt.setClipUrl(this.layers.grids,Ue,ze)},rr.updateLayers=function(Ee){var ze=this.layers,Be=["draglayer","plotbg","backplot","grids"];"below traces"===Ee.aaxis.layer&&Be.push("aaxis","aline"),"below traces"===Ee.baxis.layer&&Be.push("baxis","bline"),"below traces"===Ee.caxis.layer&&Be.push("caxis","cline"),Be.push("frontplot"),"above traces"===Ee.aaxis.layer&&Be.push("aaxis","aline"),"above traces"===Ee.baxis.layer&&Be.push("baxis","bline"),"above traces"===Ee.caxis.layer&&Be.push("caxis","cline");var We=this.plotContainer.selectAll("g.toplevel").data(Be,String),$e=["agrid","bgrid","cgrid"];We.enter().append("g").attr("class",(function(Ee){return"toplevel "+Ee})).each((function(Ee){var Be=Ue.select(this);ze[Ee]=Be,"frontplot"===Ee?Be.append("g").classed("scatterlayer",!0):"backplot"===Ee?Be.append("g").classed("maplayer",!0):"plotbg"===Ee?Be.append("path").attr("d","M0,0Z"):"aline"===Ee||"bline"===Ee||"cline"===Ee?Be.append("path"):"grids"===Ee&&$e.forEach((function(Ee){ze[Ee]=Be.append("g").classed("grid "+Ee,!0)}))})),We.order()};var ar=Math.sqrt(4/3);rr.adjustLayout=function(Ee,ze){var Be,Ue,We,$e,Qe,et,it=this,ct=Ee.domain,ft=(ct.x[0]+ct.x[1])/2,xt=(ct.y[0]+ct.y[1])/2,kt=ct.x[1]-ct.x[0],Lt=ct.y[1]-ct.y[0],Ut=kt*ze.w,er=Lt*ze.h,tr=Ee.sum,rr=Ee.aaxis.min,Lr=Ee.baxis.min,Qr=Ee.caxis.min;Ut>ar*er?We=($e=er)*ar:$e=(We=Ut)/ar,Qe=kt*We/Ut,et=Lt*$e/er,Be=ze.l+ze.w*ft-We/2,Ue=ze.t+ze.h*(1-xt)-$e/2,it.x0=Be,it.y0=Ue,it.w=We,it.h=$e,it.sum=tr,it.xaxis={type:"linear",range:[rr+2*Qr-tr,tr-rr-2*Lr],domain:[ft-Qe/2,ft+Qe/2],_id:"x"},nt(it.xaxis,it.graphDiv._fullLayout),it.xaxis.setScale(),it.xaxis.isPtWithinRange=function(Ee){return Ee.a>=it.aaxis.range[0]&&Ee.a<=it.aaxis.range[1]&&Ee.b>=it.baxis.range[1]&&Ee.b<=it.baxis.range[0]&&Ee.c>=it.caxis.range[1]&&Ee.c<=it.caxis.range[0]},it.yaxis={type:"linear",range:[rr,tr-Lr-Qr],domain:[xt-et/2,xt+et/2],_id:"y"},nt(it.yaxis,it.graphDiv._fullLayout),it.yaxis.setScale(),it.yaxis.isPtWithinRange=function(){return!0};var on=it.yaxis.domain[0],sn=it.aaxis=at({},Ee.aaxis,{range:[rr,tr-Lr-Qr],side:"left",tickangle:(+Ee.aaxis.tickangle||0)-30,domain:[on,on+et*ar],anchor:"free",position:0,_id:"y",_length:We});nt(sn,it.graphDiv._fullLayout),sn.setScale();var ln=it.baxis=at({},Ee.baxis,{range:[tr-rr-Qr,Lr],side:"bottom",domain:it.xaxis.domain,anchor:"free",position:0,_id:"x",_length:We});nt(ln,it.graphDiv._fullLayout),ln.setScale();var cn=it.caxis=at({},Ee.caxis,{range:[tr-rr-Lr,Qr],side:"right",tickangle:(+Ee.caxis.tickangle||0)+30,domain:[on,on+et*ar],anchor:"free",position:0,_id:"y",_length:We});nt(cn,it.graphDiv._fullLayout),cn.setScale();var un="M"+Be+","+(Ue+$e)+"h"+We+"l-"+We/2+",-"+$e+"Z";it.clipDef.select("path").attr("d",un),it.layers.plotbg.select("path").attr("d",un);var hn="M0,"+$e+"h"+We+"l-"+We/2+",-"+$e+"Z";it.clipDefRelative.select("path").attr("d",hn);var dn="translate("+Be+","+Ue+")";it.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",dn),it.clipDefRelative.select("path").attr("transform",null);var vn="translate("+(Be-ln._offset)+","+(Ue+$e)+")";it.layers.baxis.attr("transform",vn),it.layers.bgrid.attr("transform",vn);var yn="translate("+(Be+We/2)+","+Ue+")rotate(30)translate(0,"+-sn._offset+")";it.layers.aaxis.attr("transform",yn),it.layers.agrid.attr("transform",yn);var _n="translate("+(Be+We/2)+","+Ue+")rotate(-30)translate(0,"+-cn._offset+")";it.layers.caxis.attr("transform",_n),it.layers.cgrid.attr("transform",_n),it.drawAxes(!0),it.layers.aline.select("path").attr("d",sn.showline?"M"+Be+","+(Ue+$e)+"l"+We/2+",-"+$e:"M0,0").call(tt.stroke,sn.linecolor||"#000").style("stroke-width",(sn.linewidth||0)+"px"),it.layers.bline.select("path").attr("d",ln.showline?"M"+Be+","+(Ue+$e)+"h"+We:"M0,0").call(tt.stroke,ln.linecolor||"#000").style("stroke-width",(ln.linewidth||0)+"px"),it.layers.cline.select("path").attr("d",cn.showline?"M"+(Be+We/2)+","+Ue+"l"+We/2+","+$e:"M0,0").call(tt.stroke,cn.linecolor||"#000").style("stroke-width",(cn.linewidth||0)+"px"),it.graphDiv._context.staticPlot||it.initInteractions(),rt.setClipUrl(it.layers.frontplot,it._hasClipOnAxisFalse?null:it.clipId,it.graphDiv)},rr.drawAxes=function(Ee){var ze=this.graphDiv,Be=this.id.substr(7)+"title",Ue=this.layers,We=this.aaxis,$e=this.baxis,Qe=this.caxis;if(this.drawAx(We),this.drawAx($e),this.drawAx(Qe),Ee){var tt=Math.max(We.showticklabels?We.tickfont.size/2:0,(Qe.showticklabels?.75*Qe.tickfont.size:0)+("outside"===Qe.ticks?.87*Qe.ticklen:0)),rt=($e.showticklabels?$e.tickfont.size:0)+("outside"===$e.ticks?$e.ticklen:0)+3;Ue["a-title"]=kt.draw(ze,"a"+Be,{propContainer:We,propName:this.id+".aaxis.title",placeholder:et(ze,"Click to enter Component A title"),attributes:{x:this.x0+this.w/2,y:this.y0-We.title.font.size/3-tt,"text-anchor":"middle"}}),Ue["b-title"]=kt.draw(ze,"b"+Be,{propContainer:$e,propName:this.id+".baxis.title",placeholder:et(ze,"Click to enter Component B title"),attributes:{x:this.x0-rt,y:this.y0+this.h+.83*$e.title.font.size+rt,"text-anchor":"middle"}}),Ue["c-title"]=kt.draw(ze,"c"+Be,{propContainer:Qe,propName:this.id+".caxis.title",placeholder:et(ze,"Click to enter Component C title"),attributes:{x:this.x0+this.w+rt,y:this.y0+this.h+.83*Qe.title.font.size+rt,"text-anchor":"middle"}})}},rr.drawAx=function(Ee){var ze=this.graphDiv,Be=Ee._name,Ue=Be.charAt(0),We=Ee._id,$e=this.layers[Be],et=Ue+"tickLayout",tt=function strTickLayout(Ee){return Ee.ticks+String(Ee.ticklen)+String(Ee.showticklabels)}(Ee);this[et]!==tt&&($e.selectAll("."+We+"tick").remove(),this[et]=tt),Ee.setScale();var rt=ct.calcTicks(Ee),nt=ct.clipEnds(Ee,rt),at=ct.makeTransFn(Ee),it=ct.getTickSigns(Ee)[2],ft=Qe.deg2rad(30),xt=it*(Ee.linewidth||1)/2,kt=it*Ee.ticklen,Lt=this.w,Ut=this.h,er="b"===Ue?"M0,"+xt+"l"+Math.sin(ft)*kt+","+Math.cos(ft)*kt:"M"+xt+",0l"+Math.cos(ft)*kt+","+-Math.sin(ft)*kt,tr={a:"M0,0l"+Ut+",-"+Lt/2,b:"M0,0l-"+Lt/2+",-"+Ut,c:"M0,0l-"+Ut+","+Lt/2}[Ue];ct.drawTicks(ze,Ee,{vals:"inside"===Ee.ticks?nt:rt,layer:$e,path:er,transFn:at,crisp:!1}),ct.drawGrid(ze,Ee,{vals:nt,layer:this.layers[Ue+"grid"],path:tr,transFn:at,crisp:!1}),ct.drawLabels(ze,Ee,{vals:rt,layer:$e,transFn:at,labelFns:ct.makeLabelFns(Ee,0,30)})};var Lr=tr.MINZOOM/2+.87,Qr="m-0.87,.5h"+Lr+"v3h-"+(Lr+5.2)+"l"+(Lr/2+2.6)+",-"+(.87*Lr+4.5)+"l2.6,1.5l-"+Lr/2+","+.87*Lr+"Z",on="m0.87,.5h-"+Lr+"v3h"+(Lr+5.2)+"l-"+(Lr/2+2.6)+",-"+(.87*Lr+4.5)+"l-2.6,1.5l"+Lr/2+","+.87*Lr+"Z",sn="m0,1l"+Lr/2+","+.87*Lr+"l2.6,-1.5l-"+(Lr/2+2.6)+",-"+(.87*Lr+4.5)+"l-"+(Lr/2+2.6)+","+(.87*Lr+4.5)+"l2.6,1.5l"+Lr/2+",-"+.87*Lr+"Z",ln=!0;function removeZoombox(Ee){Ue.select(Ee).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}rr.initInteractions=function(){var Ee,ze,Be,Ue,nt,at,it,ct,kt,rr,Lr=this,cn=Lr.layers.plotbg.select("path").node(),un=Lr.graphDiv,hn=un._fullLayout._zoomlayer,dn={element:cn,gd:un,plotinfo:{id:Lr.id,xaxis:Lr.xaxis,yaxis:Lr.yaxis},subplot:Lr.id,prepFn:function($e,Qe,et){dn.xaxes=[Lr.xaxis],dn.yaxes=[Lr.yaxis];var rt=un._fullLayout.dragmode;dn.minDrag="lasso"===rt?1:void 0,"zoom"===rt?(dn.moveFn=zoomMove,dn.clickFn=clickZoomPan,dn.doneFn=zoomDone,function zoomPrep($e,Qe,et){var rt=cn.getBoundingClientRect();Ee=Qe-rt.left,ze=et-rt.top,Be={a:Lr.aaxis.range[0],b:Lr.baxis.range[1],c:Lr.caxis.range[1]},nt=Be,Ue=Lr.aaxis.range[1]-Be.a,at=We(Lr.graphDiv._fullLayout[Lr.id].bgcolor).getLuminance(),it="M0,"+Lr.h+"L"+Lr.w/2+", 0L"+Lr.w+","+Lr.h+"Z",ct=!1,kt=hn.append("path").attr("class","zoombox").attr("transform","translate("+Lr.x0+", "+Lr.y0+")").style({fill:at>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",it),rr=hn.append("path").attr("class","zoombox-corners").attr("transform","translate("+Lr.x0+", "+Lr.y0+")").style({fill:tt.background,stroke:tt.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),er(un)}(0,Qe,et)):"pan"===rt?(dn.moveFn=plotDrag,dn.clickFn=clickZoomPan,dn.doneFn=dragDone,function panPrep(){Be={a:Lr.aaxis.range[0],b:Lr.baxis.range[1],c:Lr.caxis.range[1]},nt=Be}(),er(un)):"select"!==rt&&"lasso"!==rt||Lt($e,Qe,et,dn,rt)}};function makeUpdate(Ee){var ze={};return ze[Lr.id+".aaxis.min"]=Ee.a,ze[Lr.id+".baxis.min"]=Ee.b,ze[Lr.id+".caxis.min"]=Ee.c,ze}function clickZoomPan(Ee,ze){var Be=un._fullLayout.clickmode;removeZoombox(un),2===Ee&&(un.emit("plotly_doubleclick",null),$e.call("_guiRelayout",un,makeUpdate({a:0,b:0,c:0}))),Be.indexOf("select")>-1&&1===Ee&&Ut(ze,un,[Lr.xaxis],[Lr.yaxis],Lr.id,dn),Be.indexOf("event")>-1&&xt.click(un,ze,Lr.id)}function getAFrac(Ee,ze){return 1-ze/Lr.h}function getBFrac(Ee,ze){return 1-(Ee+(Lr.h-ze)/Math.sqrt(3))/Lr.w}function getCFrac(Ee,ze){return(Ee-(Lr.h-ze)/Math.sqrt(3))/Lr.w}function zoomMove(We,$e){var Qe=Ee+We,et=ze+$e,tt=Math.max(0,Math.min(1,getAFrac(0,ze),getAFrac(0,et))),rt=Math.max(0,Math.min(1,getBFrac(Ee,ze),getBFrac(Qe,et))),ft=Math.max(0,Math.min(1,getCFrac(Ee,ze),getCFrac(Qe,et))),xt=(tt/2+ft)*Lr.w,Lt=(1-tt/2-rt)*Lr.w,Ut=(xt+Lt)/2,er=Lt-xt,ln=(1-tt)*Lr.h,cn=ln-er/ar;er<tr.MINZOOM?(nt=Be,kt.attr("d",it),rr.attr("d","M0,0Z")):(nt={a:Be.a+tt*Ue,b:Be.b+rt*Ue,c:Be.c+ft*Ue},kt.attr("d",it+"M"+xt+","+ln+"H"+Lt+"L"+Ut+","+cn+"L"+xt+","+ln+"Z"),rr.attr("d","M"+Ee+","+ze+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+xt+","+ln+Qr+"M"+Lt+","+ln+on+"M"+Ut+","+cn+sn)),ct||(kt.transition().style("fill",at>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),rr.transition().style("opacity",1).duration(200),ct=!0),un.emit("plotly_relayouting",makeUpdate(nt))}function zoomDone(){removeZoombox(un),nt!==Be&&($e.call("_guiRelayout",un,makeUpdate(nt)),ln&&un.data&&un._context.showTips&&(Qe.notifier(et(un,"Double-click to zoom back out"),"long"),ln=!1))}function plotDrag(Ee,ze){var Ue=Ee/Lr.xaxis._m,We=ze/Lr.yaxis._m,$e=[(nt={a:Be.a-We,b:Be.b+(Ue+We)/2,c:Be.c-(Ue-We)/2}).a,nt.b,nt.c].sort(),Qe=$e.indexOf(nt.a),et=$e.indexOf(nt.b),tt=$e.indexOf(nt.c);$e[0]<0&&($e[1]+$e[0]/2<0?($e[2]+=$e[0]+$e[1],$e[0]=$e[1]=0):($e[2]+=$e[0]/2,$e[1]+=$e[0]/2,$e[0]=0),nt={a:$e[Qe],b:$e[et],c:$e[tt]},ze=(Be.a-nt.a)*Lr.yaxis._m,Ee=(Be.c-nt.c-Be.b+nt.b)*Lr.xaxis._m);var at="translate("+(Lr.x0+Ee)+","+(Lr.y0+ze)+")";Lr.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",at);var it="translate("+-Ee+","+-ze+")";Lr.clipDefRelative.select("path").attr("transform",it),Lr.aaxis.range=[nt.a,Lr.sum-nt.b-nt.c],Lr.baxis.range=[Lr.sum-nt.a-nt.c,nt.b],Lr.caxis.range=[Lr.sum-nt.a-nt.b,nt.c],Lr.drawAxes(!1),Lr._hasClipOnAxisFalse&&Lr.plotContainer.select(".scatterlayer").selectAll(".trace").call(rt.hideOutsideRangePoints,Lr),un.emit("plotly_relayouting",makeUpdate(nt))}function dragDone(){$e.call("_guiRelayout",un,makeUpdate(nt))}cn.onmousemove=function(Ee){xt.hover(un,Ee,Lr.id),un._fullLayout._lasthover=cn,un._fullLayout._hoversubplot=Lr.id},cn.onmouseout=function(Ee){un._dragging||ft.unhover(un,Ee)},ft.init(dn)}},"5c9a":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("43ef"),supplyDefaults:Be("1a06"),calc:Be("6bd5"),plot:Be("6954").plot,style:Be("ee6b"),colorbar:Be("a5e1"),hoverPoints:Be("510f"),moduleType:"trace",name:"contour",basePlotModule:Be("91cd"),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},"5cc5":function(Ee,ze,Be){"use strict";Ee.exports=Be("5c9a")},"5ccc":function(Ee,ze,Be){var Ue=Be("e98f"),We=Be("28dd"),$e=Ue(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),Qe=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);Ee.exports=function(Ee){return We(Ee,$e,Qe,null,[{name:"position",type:"vec2"}])}},"5cf9":function(Ee,ze,Be){"use strict";function mouseElement(Ee){return Ee.target||Ee.srcElement||window}ze.buttons=function mouseButtons(Ee){if("object"==typeof Ee){if("buttons"in Ee)return Ee.buttons;if("which"in Ee){if(2===(ze=Ee.which))return 4;if(3===ze)return 2;if(ze>0)return 1<<ze-1}else if("button"in Ee){var ze;if(1===(ze=Ee.button))return 4;if(2===ze)return 2;if(ze>=0)return 1<<ze}}return 0},ze.element=mouseElement,ze.x=function mouseRelativeX(Ee){if("object"==typeof Ee){if("offsetX"in Ee)return Ee.offsetX;var ze=mouseElement(Ee).getBoundingClientRect();return Ee.clientX-ze.left}return 0},ze.y=function mouseRelativeY(Ee){if("object"==typeof Ee){if("offsetY"in Ee)return Ee.offsetY;var ze=mouseElement(Ee).getBoundingClientRect();return Ee.clientY-ze.top}return 0}},"5d0a":function(Ee,ze,Be){"use strict";var Ue=Be("0642");Ee.exports=function formatLabels(Ee,ze,Be){var We={},$e=Be[ze.geo]._subplot.mockAxis,Qe=Ee.lonlat;return We.lonLabel=Ue.tickText($e,$e.c2l(Qe[0]),!0).text,We.latLabel=Ue.tickText($e,$e.c2l(Qe[1]),!0).text,We}},"5da2":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("66db").handleRThetaDefaults,$e=Be("9103"),Qe=Be("792f");Ee.exports=function supplyDefaults(Ee,ze,Be,et){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}We(Ee,ze,et,coerce)?(coerce("thetaunit"),coerce("base"),coerce("offset"),coerce("width"),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),$e(Ee,ze,coerce,Be,et),Ue.coerceSelectionMarkerOpacity(ze,coerce)):ze.visible=!1}},"5db0":function(Ee,ze,Be){"use strict";var Ue=Be("dd8f")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_13_arg1_=_inline_13_arg2_.apply(void 0,_inline_13_arg0_)}",args:[{name:"_inline_13_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});Ee.exports=function(Ee,ze){return Ue(Ee,ze),Ee}},"5dc6":function(Ee,ze,Be){"use strict";Ee.exports=function createGLPlot2D(Ee){var ze=Ee.gl,Be=Ue(ze,[ze.drawingBufferWidth,ze.drawingBufferHeight]),tt=new GLPlot2D(ze,Be);return tt.grid=We(tt),tt.text=$e(tt),tt.line=Qe(tt),tt.box=et(tt),tt.update(Ee),tt};var Ue=Be("578f"),We=Be("ed8d"),$e=Be("615a"),Qe=Be("283e"),et=Be("5e2e");function GLPlot2D(Ee,ze){this.gl=Ee,this.pickBuffer=ze,this.screenBox=[0,0,Ee.drawingBufferWidth,Ee.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var tt=GLPlot2D.prototype;function deepClone(Ee){for(var ze=Ee.slice(),Be=0;Be<ze.length;++Be)ze[Be]=ze[Be].slice();return ze}function compareTicks(Ee,ze){return Ee.x-ze.x}tt.setDirty=function(){this.dirty=this.pickDirty=!0},tt.setOverlayDirty=function(){this.dirty=!0},tt.nextDepthValue=function(){return this._depthCounter++/65536},tt.draw=function(){var Ee=this.gl,ze=this.screenBox,Be=this.viewBox,Ue=this.dataBox,We=this.pixelRatio,$e=this.grid,Qe=this.line,et=this.text,tt=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,Ee.bindFramebuffer(Ee.FRAMEBUFFER,null),Ee.enable(Ee.SCISSOR_TEST),Ee.disable(Ee.DEPTH_TEST),Ee.depthFunc(Ee.LESS),Ee.depthMask(!1),Ee.enable(Ee.BLEND),Ee.blendEquation(Ee.FUNC_ADD,Ee.FUNC_ADD),Ee.blendFunc(Ee.ONE,Ee.ONE_MINUS_SRC_ALPHA),this.borderColor){Ee.scissor(ze[0],ze[1],ze[2]-ze[0],ze[3]-ze[1]);var rt=this.borderColor;Ee.clearColor(rt[0]*rt[3],rt[1]*rt[3],rt[2]*rt[3],rt[3]),Ee.clear(Ee.COLOR_BUFFER_BIT|Ee.DEPTH_BUFFER_BIT)}Ee.scissor(Be[0],Be[1],Be[2]-Be[0],Be[3]-Be[1]),Ee.viewport(Be[0],Be[1],Be[2]-Be[0],Be[3]-Be[1]);var nt=this.backgroundColor;Ee.clearColor(nt[0]*nt[3],nt[1]*nt[3],nt[2]*nt[3],nt[3]),Ee.clear(Ee.COLOR_BUFFER_BIT),$e.draw();var at=this.zeroLineEnable,it=this.zeroLineColor,ct=this.zeroLineWidth;if(at[0]||at[1]){Qe.bind();for(var ft=0;ft<2;++ft)if(at[ft]&&Ue[ft]<=0&&Ue[ft+2]>=0){var xt=ze[ft]-Ue[ft]*(ze[ft+2]-ze[ft])/(Ue[ft+2]-Ue[ft]);0===ft?Qe.drawLine(xt,ze[1],xt,ze[3],ct[ft],it[ft]):Qe.drawLine(ze[0],xt,ze[2],xt,ct[ft],it[ft])}}for(ft=0;ft<tt.length;++ft)tt[ft].draw();Ee.viewport(ze[0],ze[1],ze[2]-ze[0],ze[3]-ze[1]),Ee.scissor(ze[0],ze[1],ze[2]-ze[0],ze[3]-ze[1]),this.grid.drawTickMarks(),Qe.bind();var kt=this.borderLineEnable,Lt=this.borderLineWidth,Ut=this.borderLineColor;for(kt[1]&&Qe.drawLine(Be[0],Be[1]-.5*Lt[1]*We,Be[0],Be[3]+.5*Lt[3]*We,Lt[1],Ut[1]),kt[0]&&Qe.drawLine(Be[0]-.5*Lt[0]*We,Be[1],Be[2]+.5*Lt[2]*We,Be[1],Lt[0],Ut[0]),kt[3]&&Qe.drawLine(Be[2],Be[1]-.5*Lt[1]*We,Be[2],Be[3]+.5*Lt[3]*We,Lt[3],Ut[3]),kt[2]&&Qe.drawLine(Be[0]-.5*Lt[0]*We,Be[3],Be[2]+.5*Lt[2]*We,Be[3],Lt[2],Ut[2]),et.bind(),ft=0;ft<2;++ft)et.drawTicks(ft);this.titleEnable&&et.drawTitle();var er=this.overlays;for(ft=0;ft<er.length;++ft)er[ft].draw();Ee.disable(Ee.SCISSOR_TEST),Ee.disable(Ee.BLEND),Ee.depthMask(!0)}},tt.drawPick=function(){if(!this.static){var Ee=this.pickBuffer;this.gl,this._pickTimeout=null,Ee.begin();for(var ze=1,Be=this.objects,Ue=0;Ue<Be.length;++Ue)ze=Be[Ue].drawPick(ze);Ee.end()}},tt.pick=function(Ee,ze){if(!this.static){var Be=this.pixelRatio,Ue=this.pickPixelRatio,We=this.viewBox,$e=0|Math.round((Ee-We[0]/Be)*Ue),Qe=0|Math.round((ze-We[1]/Be)*Ue),et=this.pickBuffer.query($e,Qe,this.pickRadius);if(!et)return null;for(var tt=et.id+(et.value[0]<<8)+(et.value[1]<<16)+(et.value[2]<<24),rt=this.objects,nt=0;nt<rt.length;++nt){var at=rt[nt].pick($e,Qe,tt);if(at)return at}return null}},tt.setScreenBox=function(Ee){var ze=this.screenBox,Be=this.pixelRatio;ze[0]=0|Math.round(Ee[0]*Be),ze[1]=0|Math.round(Ee[1]*Be),ze[2]=0|Math.round(Ee[2]*Be),ze[3]=0|Math.round(Ee[3]*Be),this.setDirty()},tt.setDataBox=function(Ee){var ze=this.dataBox;(ze[0]!==Ee[0]||ze[1]!==Ee[1]||ze[2]!==Ee[2]||ze[3]!==Ee[3])&&(ze[0]=Ee[0],ze[1]=Ee[1],ze[2]=Ee[2],ze[3]=Ee[3],this.setDirty())},tt.setViewBox=function(Ee){var ze=this.pixelRatio,Be=this.viewBox;Be[0]=0|Math.round(Ee[0]*ze),Be[1]=0|Math.round(Ee[1]*ze),Be[2]=0|Math.round(Ee[2]*ze),Be[3]=0|Math.round(Ee[3]*ze);var Ue=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((Ee[2]-Ee[0])*Ue),0|Math.round((Ee[3]-Ee[1])*Ue)],this.setDirty()},tt.update=function(Ee){Ee=Ee||{};var ze=this.gl;this.pixelRatio=Ee.pixelRatio||1;var Be=this.pixelRatio;this.pickPixelRatio=Math.max(Be,1),this.setScreenBox(Ee.screenBox||[0,0,ze.drawingBufferWidth/Be,ze.drawingBufferHeight/Be]);this.screenBox;this.setViewBox(Ee.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/Be,.125*(this.screenBox[3]-this.screenBox[1])/Be,.875*(this.screenBox[2]-this.screenBox[0])/Be,.875*(this.screenBox[3]-this.screenBox[1])/Be]);var Ue=this.viewBox,We=(Ue[2]-Ue[0])/(Ue[3]-Ue[1]);this.setDataBox(Ee.dataBox||[-10,-10/We,10,10/We]),this.borderColor=!1!==Ee.borderColor&&(Ee.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(Ee.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(Ee.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(Ee.gridLineWidth||[1,1]).slice(),this.gridLineColor=deepClone(Ee.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(Ee.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(Ee.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=deepClone(Ee.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(Ee.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(Ee.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=deepClone(Ee.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(Ee.titleCenter||[.5*(Ue[0]+Ue[2])/Be,(Ue[3]+120)/Be]).slice(),this.titleEnable=!("titleEnable"in Ee)||!!Ee.titleEnable,this.titleAngle=Ee.titleAngle||0,this.titleColor=(Ee.titleColor||[0,0,0,1]).slice(),this.labelPad=(Ee.labelPad||[15,15,15,15]).slice(),this.labelAngle=(Ee.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(Ee.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=deepClone(Ee.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(Ee.tickPad||[15,15,15,15]).slice(),this.tickAngle=(Ee.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(Ee.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=deepClone(Ee.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(Ee.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(Ee.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=deepClone(Ee.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var $e=Ee.ticks||[[],[]],Qe=this._tickBounds;Qe[0]=Qe[1]=1/0,Qe[2]=Qe[3]=-1/0;for(var et=0;et<2;++et){var tt=$e[et].slice(0);0!==tt.length&&(tt.sort(compareTicks),Qe[et]=Math.min(Qe[et],tt[0].x),Qe[et+2]=Math.max(Qe[et+2],tt[tt.length-1].x))}this.grid.update({bounds:Qe,ticks:$e}),this.text.update({bounds:Qe,ticks:$e,labels:Ee.labels||["x","y"],labelSize:Ee.labelSize||[12,12],labelFont:Ee.labelFont||["sans-serif","sans-serif"],title:Ee.title||"",titleSize:Ee.titleSize||18,titleFont:Ee.titleFont||"sans-serif"}),this.static=!!Ee.static,this.setDirty()},tt.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var Ee=this.objects.length-1;Ee>=0;--Ee)this.objects[Ee].dispose();this.objects.length=0;for(Ee=this.overlays.length-1;Ee>=0;--Ee)this.overlays[Ee].dispose();this.overlays.length=0,this.gl=null},tt.addObject=function(Ee){this.objects.indexOf(Ee)<0&&(this.objects.push(Ee),this.setDirty())},tt.removeObject=function(Ee){for(var ze=this.objects,Be=0;Be<ze.length;++Be)if(ze[Be]===Ee){ze.splice(Be,1),this.setDirty();break}},tt.addOverlay=function(Ee){this.overlays.indexOf(Ee)<0&&(this.overlays.push(Ee),this.setOverlayDirty())},tt.removeOverlay=function(Ee){for(var ze=this.overlays,Be=0;Be<ze.length;++Be)if(ze[Be]===Ee){ze.splice(Be,1),this.setOverlayDirty();break}}},"5def":function(Ee,ze,Be){"use strict";var Ue=Be("74d6"),We=/^\w*$/;Ee.exports=function keyedContainer(Ee,ze,Be,$e){var Qe,et,tt;Be=Be||"name",$e=$e||"value";var rt={};ze&&ze.length?(tt=Ue(Ee,ze),et=tt.get()):et=Ee,ze=ze||"";var nt={};if(et)for(Qe=0;Qe<et.length;Qe++)nt[et[Qe][Be]]=Qe;var at=We.test($e),it={set:function(Ee,ze){var We=null===ze?4:0;if(!et){if(!tt||4===We)return;et=[],tt.set(et)}var Qe=nt[Ee];if(void 0===Qe){if(4===We)return;We|=3,Qe=et.length,nt[Ee]=Qe}else ze!==(at?et[Qe][$e]:Ue(et[Qe],$e).get())&&(We|=2);var ct=et[Qe]=et[Qe]||{};return ct[Be]=Ee,at?ct[$e]=ze:Ue(ct,$e).set(ze),null!==ze&&(We&=-5),rt[Qe]=rt[Qe]|We,it},get:function(Ee){if(et){var ze=nt[Ee];return void 0===ze?void 0:at?et[ze][$e]:Ue(et[ze],$e).get()}},rename:function(Ee,ze){var Ue=nt[Ee];return void 0===Ue||(rt[Ue]=1|rt[Ue],nt[ze]=Ue,delete nt[Ee],et[Ue][Be]=ze),it},remove:function(Ee){var ze=nt[Ee];if(void 0===ze)return it;var We=et[ze];if(Object.keys(We).length>2)return rt[ze]=2|rt[ze],it.set(Ee,null);if(at){for(Qe=ze;Qe<et.length;Qe++)rt[Qe]=3|rt[Qe];for(Qe=ze;Qe<et.length;Qe++)nt[et[Qe][Be]]--;et.splice(ze,1),delete nt[Ee]}else Ue(We,$e).set(null),rt[ze]=6|rt[ze];return it},constructUpdate:function(){for(var Ee,We,Qe={},tt=Object.keys(rt),nt=0;nt<tt.length;nt++)We=tt[nt],Ee=ze+"["+We+"]",et[We]?(1&rt[We]&&(Qe[Ee+"."+Be]=et[We][Be]),2&rt[We]&&(Qe[Ee+"."+$e]=at?4&rt[We]?null:et[We][$e]:4&rt[We]?null:Ue(et[We],$e).get())):Qe[Ee]=null;return Qe}};return it}},"5e2e":function(Ee,ze,Be){"use strict";Ee.exports=function createBoxes(Ee){var ze=Ee.gl,Be=Ue(ze,[0,0,0,1,1,0,1,1]),Qe=We(ze,$e.boxVert,$e.lineFrag);return new Boxes(Ee,Be,Qe)};var Ue=Be("efce"),We=Be("28dd"),$e=Be("b44d");function Boxes(Ee,ze,Be){this.plot=Ee,this.vbo=ze,this.shader=Be}var Qe,et,tt=Boxes.prototype;tt.bind=function(){var Ee=this.shader;this.vbo.bind(),this.shader.bind(),Ee.attributes.coord.pointer(),Ee.uniforms.screenBox=this.plot.screenBox},tt.drawBox=(Qe=[0,0],et=[0,0],function(Ee,ze,Be,Ue,We){var $e=this.plot,tt=this.shader,rt=$e.gl;Qe[0]=Ee,Qe[1]=ze,et[0]=Be,et[1]=Ue,tt.uniforms.lo=Qe,tt.uniforms.hi=et,tt.uniforms.color=We,rt.drawArrays(rt.TRIANGLE_STRIP,0,4)}),tt.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},"5e46":function(Ee,ze,Be){"use strict";var Ue=Be("98e74");Ee.exports=function formatLabels(Ee,ze,Be){var We=Ee.i;return"r"in Ee||(Ee.r=ze._r[We]),"theta"in Ee||(Ee.theta=ze._theta[We]),Ue(Ee,ze,Be)}},"5e8f":function(Ee,ze,Be){"use strict";var Ue=Be("de81");Ee.exports={hasLines:Ue.hasLines,hasMarkers:Ue.hasMarkers,hasText:Ue.hasText,isBubble:Ue.isBubble,attributes:Be("107c"),supplyDefaults:Be("0eb7"),crossTraceDefaults:Be("0324"),calc:Be("70b4").calc,crossTraceCalc:Be("4324"),arraysToCalcdata:Be("106b"),plot:Be("f118"),colorbar:Be("f3cf"),formatLabels:Be("7e96"),style:Be("52e8").style,styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("391b"),selectPoints:Be("214c"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Be("91cd"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},"5ecd":function(Ee,ze){Ee.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},"5edd":function(Ee,ze,Be){"use strict";var Ue=Be("936a"),We={object:!0,function:!0,undefined:!0};Ee.exports=function(Ee){return!!Ue(Ee)&&hasOwnProperty.call(We,typeof Ee)}},"5f0d":function(Ee,ze,Be){"use strict";var Ue=Be("53cc"),We=Be("fc26"),$e=Be("0a3e").wrap,Qe=We.isArrayOrTypedArray,et=We.isIndex,tt=Be("c258");function convertToD3Sankey(Ee){var ze,Be=Ee.node,$e=Ee.link,rt=[],nt=Qe($e.color),at={},it={},ct=$e.colorscales.length;for(ze=0;ze<ct;ze++){var ft=$e.colorscales[ze],xt=tt.extractScale(ft,{cLetter:"c"}),kt=tt.makeColorScaleFunc(xt);it[ft.label]=kt}var Lt=0;for(ze=0;ze<$e.value.length;ze++)$e.source[ze]>Lt&&(Lt=$e.source[ze]),$e.target[ze]>Lt&&(Lt=$e.target[ze]);var Ut,er=Lt+1;Ee.node._count=er;var tr=Ee.node.groups,rr={};for(ze=0;ze<tr.length;ze++){var ar=tr[ze];for(Ut=0;Ut<ar.length;Ut++){var Lr=ar[Ut],Qr=er+ze;rr.hasOwnProperty(Lr)?We.warn("Node "+Lr+" is already part of a group."):rr[Lr]=Qr}}var on={source:[],target:[]};for(ze=0;ze<$e.value.length;ze++){var sn=$e.value[ze],ln=$e.source[ze],cn=$e.target[ze];if(sn>0&&et(ln,er)&&et(cn,er)&&(!rr.hasOwnProperty(ln)||!rr.hasOwnProperty(cn)||rr[ln]!==rr[cn])){rr.hasOwnProperty(cn)&&(cn=rr[cn]),rr.hasOwnProperty(ln)&&(ln=rr[ln]),cn=+cn,at[ln=+ln]=at[cn]=!0;var un="";$e.label&&$e.label[ze]&&(un=$e.label[ze]);var hn=null;un&&it.hasOwnProperty(un)&&(hn=it[un]),rt.push({pointNumber:ze,label:un,color:nt?$e.color[ze]:$e.color,concentrationscale:hn,source:ln,target:cn,value:+sn}),on.source.push(ln),on.target.push(cn)}}var dn=er+tr.length,vn=Qe(Be.color),yn=[];for(ze=0;ze<dn;ze++)if(at[ze]){var _n=Be.label[ze];yn.push({group:ze>er-1,childrenNodes:[],pointNumber:ze,label:_n,color:vn?Be.color[ze]:Be.color})}var Mn=!1;return function circularityPresent(Ee,ze,Be){for(var $e=We.init2dArray(Ee,0),Qe=0;Qe<Math.min(ze.length,Be.length);Qe++)if(We.isIndex(ze[Qe],Ee)&&We.isIndex(Be[Qe],Ee)){if(ze[Qe]===Be[Qe])return!0;$e[ze[Qe]].push(Be[Qe])}return Ue($e).components.some((function(Ee){return Ee.length>1}))}(dn,on.source,on.target)&&(Mn=!0),{circular:Mn,links:rt,nodes:yn,groups:tr,groupLookup:rr}}Ee.exports=function calc(Ee,ze){var Be=convertToD3Sankey(ze);return $e({circular:Be.circular,_nodes:Be.nodes,_links:Be.links,_groups:Be.groups,_groupLookup:Be.groupLookup})}},"5f5f":function(Ee,ze,Be){"use strict";function GLSpikes2D(Ee){this.plot=Ee,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}Ee.exports=function createSpikes2D(Ee,ze){var Be=new GLSpikes2D(Ee);return Be.update(ze),Ee.addOverlay(Be),Be};var Ue=GLSpikes2D.prototype;Ue.update=function(Ee){Ee=Ee||{},this.enable=(Ee.enable||[!0,!0,!1,!1]).slice(),this.width=(Ee.width||[1,1,1,1]).slice(),this.color=(Ee.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map((function(Ee){return Ee.slice()})),this.center=(Ee.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},Ue.draw=function(){var Ee=this.enable,ze=this.width,Be=this.color,Ue=this.center,We=this.plot,$e=We.line,Qe=We.dataBox,et=We.viewBox;if($e.bind(),Qe[0]<=Ue[0]&&Ue[0]<=Qe[2]&&Qe[1]<=Ue[1]&&Ue[1]<=Qe[3]){var tt=et[0]+(Ue[0]-Qe[0])/(Qe[2]-Qe[0])*(et[2]-et[0]),rt=et[1]+(Ue[1]-Qe[1])/(Qe[3]-Qe[1])*(et[3]-et[1]);Ee[0]&&$e.drawLine(tt,rt,et[0],rt,ze[0],Be[0]),Ee[1]&&$e.drawLine(tt,rt,tt,et[1],ze[1],Be[1]),Ee[2]&&$e.drawLine(tt,rt,et[2],rt,ze[2],Be[2]),Ee[3]&&$e.drawLine(tt,rt,tt,et[3],ze[3],Be[3])}},Ue.dispose=function(){this.plot.removeOverlay(this)}},6024:function(Ee,ze,Be){"use strict";var Ue,We=Be("e0f6"),$e=Be("f973"),Qe=Be("f508"),et=Be("1c4a"),tt=Be("06a2"),rt=Object.defineProperty;Ue=Ee.exports=function(Ee,ze){if(!(this instanceof Ue))throw new TypeError("Constructor requires 'new'");tt.call(this,Ee),ze=ze?$e.call(ze,"key+value")?"key+value":$e.call(ze,"key")?"key":"value":"value",rt(this,"__kind__",Qe("",ze))},We&&We(Ue,tt),delete Ue.prototype.constructor,Ue.prototype=Object.create(tt.prototype,{_resolve:Qe((function(Ee){return"value"===this.__kind__?this.__list__[Ee]:"key+value"===this.__kind__?[Ee,this.__list__[Ee]]:Ee}))}),rt(Ue.prototype,et.toStringTag,Qe("c","Array Iterator"))},"605a":function(Ee,ze,Be){"use strict";function prettyPrint(Ee,ze){var Be=Ee+"",Ue=Be.indexOf("."),We=0;Ue>=0&&(We=Be.length-Ue-1);var $e=Math.pow(10,We),Qe=Math.round(Ee*ze*$e),et=Qe+"";if(et.indexOf("e")>=0)return et;var tt=Qe/$e,rt=Qe%$e;Qe<0?(tt=0|-Math.ceil(tt),rt=0|-rt):(tt=0|Math.floor(tt),rt|=0);var nt=""+tt;if(Qe<0&&(nt="-"+nt),We){for(var at=""+rt;at.length<We;)at="0"+at;return nt+"."+at}return nt}ze.create=function defaultTicks(Ee,ze){for(var Be=[],Ue=0;Ue<3;++Ue){for(var We=[],$e=(Ee[0][Ue],Ee[1][Ue],0);$e*ze[Ue]<=Ee[1][Ue];++$e)We.push({x:$e*ze[Ue],text:prettyPrint(ze[Ue],$e)});for($e=-1;$e*ze[Ue]>=Ee[0][Ue];--$e)We.push({x:$e*ze[Ue],text:prettyPrint(ze[Ue],$e)});Be.push(We)}return Be},ze.equal=function ticksEqual(Ee,ze){for(var Be=0;Be<3;++Be){if(Ee[Be].length!==ze[Be].length)return!1;for(var Ue=0;Ue<Ee[Be].length;++Ue){var We=Ee[Be][Ue],$e=ze[Be][Ue];if(We.x!==$e.x||We.text!==$e.text||We.font!==$e.font||We.fontColor!==$e.fontColor||We.fontSize!==$e.fontSize||We.dx!==$e.dx||We.dy!==$e.dy)return!1}}return!0}},"609c":function(Ee,ze,Be){"use strict";var Ue=Be("d115"),noop=function(){};Ee.exports=function showNoWebGlMsg(Ee){for(var ze in Ee)"function"==typeof Ee[ze]&&(Ee[ze]=noop);Ee.destroy=function(){Ee.container.parentNode.removeChild(Ee.container)};var Be=document.createElement("div");Be.className="no-webgl",Be.style.cursor="pointer",Be.style.fontSize="24px",Be.style.color=Ue.defaults[0],Be.style.position="absolute",Be.style.left=Be.style.top="0px",Be.style.width=Be.style.height="100%",Be.style["background-color"]=Ue.lightLine,Be.style["z-index"]=30;var We=document.createElement("p");return We.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",We.style.position="relative",We.style.top="50%",We.style.left="50%",We.style.height="30%",We.style.width="50%",We.style.margin="-15% 0 0 -25%",Be.appendChild(We),Ee.container.appendChild(Be),Ee.container.style.background="#FFFFFF",Ee.container.onclick=function(){window.open("https://get.webgl.org")},!1}},"60c5":function(Ee,ze,Be){"use strict";var Ue=Be("98e7");Ee.exports={moduleType:"trace",name:"scattergl",basePlotModule:Be("91cd"),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:Be("c20e"),supplyDefaults:Be("27c6"),crossTraceDefaults:Be("0324"),colorbar:Be("f3cf"),formatLabels:Be("3cf3"),calc:Be("9597"),plot:Be("299d"),hoverPoints:Ue.hoverPoints,selectPoints:Be("f177"),meta:{}}},"60d4":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("66db").handleRThetaDefaults,Qe=Be("5047"),et=Be("59be"),tt=Be("e9f7"),rt=Be("3802"),nt=Be("de69").PTS_LINESONLY,at=Be("bd9b");Ee.exports=function supplyDefaults(Ee,ze,Be,it){function coerce(Be,We){return Ue.coerce(Ee,ze,at,Be,We)}var ct=$e(Ee,ze,it,coerce);ct?(coerce("thetaunit"),coerce("mode",ct<nt?"lines+markers":"lines"),coerce("text"),coerce("hovertext"),"fills"!==ze.hoveron&&coerce("hovertemplate"),We.hasLines(ze)&&(et(Ee,ze,Be,it,coerce),coerce("connectgaps")),We.hasMarkers(ze)&&Qe(Ee,ze,Be,it,coerce),We.hasText(ze)&&(coerce("texttemplate"),tt(Ee,ze,it,coerce)),coerce("fill"),"none"!==ze.fill&&rt(Ee,ze,Be,coerce),Ue.coerceSelectionMarkerOpacity(ze,coerce)):ze.visible=!1}},"60da":function(Ee,ze,Be){"use strict";var Ue=Be("83ab"),We=Be("d039"),$e=Be("df75"),Qe=Be("7418"),et=Be("d1e7"),tt=Be("7b0b"),rt=Be("44ad"),nt=Object.assign,at=Object.defineProperty;Ee.exports=!nt||We((function(){if(Ue&&1!==nt({b:1},nt(at({},"a",{enumerable:!0,get:function(){at(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var Ee={},ze={},Be=Symbol();return Ee[Be]=7,"abcdefghijklmnopqrst".split("").forEach((function(Ee){ze[Ee]=Ee})),7!=nt({},Ee)[Be]||"abcdefghijklmnopqrst"!=$e(nt({},ze)).join("")}))?function assign(Ee,ze){for(var Be=tt(Ee),We=arguments.length,nt=1,at=Qe.f,it=et.f;We>nt;)for(var ct,ft=rt(arguments[nt++]),xt=at?$e(ft).concat(at(ft)):$e(ft),kt=xt.length,Lt=0;kt>Lt;)ct=xt[Lt++],Ue&&!it.call(ft,ct)||(Be[ct]=ft[ct]);return Be}:nt},"60dc":function(Ee,ze,Be){"use strict";Ee.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},"615a":function(Ee,ze,Be){"use strict";Ee.exports=function createTextElements(Ee){var ze=Ee.gl,Be=Ue(ze),$e=We(ze,et.textVert,et.textFrag);return new TextElements(Ee,Be,$e)};var Ue=Be("efce"),We=Be("28dd"),$e=Be("9662"),Qe=Be("cc77"),et=Be("b44d");function TextElements(Ee,ze,Be){this.plot=Ee,this.vbo=ze,this.shader=Be,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var tt,rt,nt,at,it,ct,ft=TextElements.prototype;ft.drawTicks=(tt=[0,0],rt=[0,0],nt=[0,0],function(Ee){var ze=this.plot,Be=this.shader,Ue=this.tickX[Ee],We=this.tickOffset[Ee],$e=ze.gl,et=ze.viewBox,at=ze.dataBox,it=ze.screenBox,ct=ze.pixelRatio,ft=ze.tickEnable,xt=ze.tickPad,kt=ze.tickColor,Lt=ze.tickAngle,Ut=ze.labelEnable,er=ze.labelPad,tr=ze.labelColor,rr=ze.labelAngle,ar=this.labelOffset[Ee],Lr=this.labelCount[Ee],Qr=Qe.lt(Ue,at[Ee]),on=Qe.le(Ue,at[Ee+2]);tt[0]=tt[1]=0,tt[Ee]=1,rt[Ee]=(et[2+Ee]+et[Ee])/(it[2+Ee]-it[Ee])-1;var sn=2/it[2+(1^Ee)]-it[1^Ee];rt[1^Ee]=sn*et[1^Ee]-1,ft[Ee]&&(rt[1^Ee]-=sn*ct*xt[Ee],Qr<on&&We[on]>We[Qr]&&(Be.uniforms.dataAxis=tt,Be.uniforms.screenOffset=rt,Be.uniforms.color=kt[Ee],Be.uniforms.angle=Lt[Ee],$e.drawArrays($e.TRIANGLES,We[Qr],We[on]-We[Qr]))),Ut[Ee]&&Lr&&(rt[1^Ee]-=sn*ct*er[Ee],Be.uniforms.dataAxis=nt,Be.uniforms.screenOffset=rt,Be.uniforms.color=tr[Ee],Be.uniforms.angle=rr[Ee],$e.drawArrays($e.TRIANGLES,ar,Lr)),rt[1^Ee]=sn*et[2+(1^Ee)]-1,ft[Ee+2]&&(rt[1^Ee]+=sn*ct*xt[Ee+2],Qr<on&&We[on]>We[Qr]&&(Be.uniforms.dataAxis=tt,Be.uniforms.screenOffset=rt,Be.uniforms.color=kt[Ee+2],Be.uniforms.angle=Lt[Ee+2],$e.drawArrays($e.TRIANGLES,We[Qr],We[on]-We[Qr]))),Ut[Ee+2]&&Lr&&(rt[1^Ee]+=sn*ct*er[Ee+2],Be.uniforms.dataAxis=nt,Be.uniforms.screenOffset=rt,Be.uniforms.color=tr[Ee+2],Be.uniforms.angle=rr[Ee+2],$e.drawArrays($e.TRIANGLES,ar,Lr))}),ft.drawTitle=function(){var Ee=[0,0],ze=[0,0];return function(){var Be=this.plot,Ue=this.shader,We=Be.gl,$e=Be.screenBox,Qe=Be.titleCenter,et=Be.titleAngle,tt=Be.titleColor,rt=Be.pixelRatio;if(this.titleCount){for(var nt=0;nt<2;++nt)ze[nt]=2*(Qe[nt]*rt-$e[nt])/($e[2+nt]-$e[nt])-1;Ue.bind(),Ue.uniforms.dataAxis=Ee,Ue.uniforms.screenOffset=ze,Ue.uniforms.angle=et,Ue.uniforms.color=tt,We.drawArrays(We.TRIANGLES,this.titleOffset,this.titleCount)}}}(),ft.bind=(at=[0,0],it=[0,0],ct=[0,0],function(){var Ee=this.plot,ze=this.shader,Be=Ee._tickBounds,Ue=Ee.dataBox,We=Ee.screenBox,$e=Ee.viewBox;ze.bind();for(var Qe=0;Qe<2;++Qe){var et=Be[Qe],tt=Be[Qe+2]-et,rt=.5*(Ue[Qe+2]+Ue[Qe]),nt=Ue[Qe+2]-Ue[Qe],ft=$e[Qe],xt=$e[Qe+2]-ft,kt=We[Qe],Lt=We[Qe+2]-kt;it[Qe]=2*tt/nt*xt/Lt,at[Qe]=2*(et-rt)/nt*xt/Lt}ct[1]=2*Ee.pixelRatio/(We[3]-We[1]),ct[0]=ct[1]*(We[3]-We[1])/(We[2]-We[0]),ze.uniforms.dataScale=it,ze.uniforms.dataShift=at,ze.uniforms.textScale=ct,this.vbo.bind(),ze.attributes.textCoordinate.pointer()}),ft.update=function(Ee){var ze,Be,Ue,We,Qe,et=[],tt=Ee.ticks,rt=Ee.bounds;for(Qe=0;Qe<2;++Qe){var nt=[Math.floor(et.length/3)],at=[-1/0],it=tt[Qe];for(ze=0;ze<it.length;++ze){var ct=it[ze],ft=ct.x,xt=ct.text,kt=ct.font||"sans-serif";We=ct.fontSize||12;for(var Lt=1/(rt[Qe+2]-rt[Qe]),Ut=rt[Qe],er=xt.split("\n"),tr=0;tr<er.length;tr++)for(Ue=$e(kt,er[tr]).data,Be=0;Be<Ue.length;Be+=2)et.push(Ue[Be]*We,-Ue[Be+1]*We-tr*We*1.2,(ft-Ut)*Lt);nt.push(Math.floor(et.length/3)),at.push(ft)}this.tickOffset[Qe]=nt,this.tickX[Qe]=at}for(Qe=0;Qe<2;++Qe){for(this.labelOffset[Qe]=Math.floor(et.length/3),Ue=$e(Ee.labelFont[Qe],Ee.labels[Qe],{textAlign:"center"}).data,We=Ee.labelSize[Qe],ze=0;ze<Ue.length;ze+=2)et.push(Ue[ze]*We,-Ue[ze+1]*We,0);this.labelCount[Qe]=Math.floor(et.length/3)-this.labelOffset[Qe]}for(this.titleOffset=Math.floor(et.length/3),Ue=$e(Ee.titleFont,Ee.title).data,We=Ee.titleSize,ze=0;ze<Ue.length;ze+=2)et.push(Ue[ze]*We,-Ue[ze+1]*We,0);this.titleCount=Math.floor(et.length/3)-this.titleOffset,this.vbo.update(et)},ft.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},"615d":function(Ee,ze){Ee.exports=function divide(Ee,ze,Be){return Ee[0]=ze[0]/Be[0],Ee[1]=ze[1]/Be[1],Ee[2]=ze[2]/Be[2],Ee}},6174:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("f6b0");Ee.exports=function convertCoords(Ee,ze,Be,$e){ze=ze||{};var Qe="log"===Be&&"linear"===ze.type,et="linear"===Be&&"log"===ze.type;if(Qe||et)for(var tt,rt,nt=Ee._fullLayout.images,at=ze._id.charAt(0),it=0;it<nt.length;it++)if(rt="images["+it+"].",(tt=nt[it])[at+"ref"]===ze._id){var ct=tt[at],ft=tt["size"+at],xt=null,kt=null;if(Qe){xt=We(ct,ze.range);var Lt=ft/Math.pow(10,xt)/2;kt=2*Math.log(Lt+Math.sqrt(1+Lt*Lt))/Math.LN10}else kt=(xt=Math.pow(10,ct))*(Math.pow(10,ft/2)-Math.pow(10,-ft/2));Ue(xt)?Ue(kt)||(kt=null):(xt=null,kt=null),$e(rt+at,xt),$e(rt+"size"+at,kt)}}},"61e6":function(Ee,ze,Be){"use strict";Ee.exports=function createOrbitController(Ee){var ze=(Ee=Ee||{}).center||[0,0,0],Be=Ee.rotation||[0,0,0,1],Ue=Ee.radius||1;ze=[].slice.call(ze,0,3),normalize4(Be=[].slice.call(Be,0,4),Be);var We=new OrbitCameraController(Be,ze,Math.log(Ue));We.setDistanceLimits(Ee.zoomMin,Ee.zoomMax),("eye"in Ee||"up"in Ee)&&We.lookAt(0,Ee.eye,Ee.center,Ee.up);return We};var Ue=Be("8f9c"),We=Be("e581"),$e=Be("5928"),Qe=Be("9343"),et=Be("a39a");function len3(Ee,ze,Be){return Math.sqrt(Math.pow(Ee,2)+Math.pow(ze,2)+Math.pow(Be,2))}function len4(Ee,ze,Be,Ue){return Math.sqrt(Math.pow(Ee,2)+Math.pow(ze,2)+Math.pow(Be,2)+Math.pow(Ue,2))}function normalize4(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=len4(Be,Ue,We,$e);Qe>1e-6?(Ee[0]=Be/Qe,Ee[1]=Ue/Qe,Ee[2]=We/Qe,Ee[3]=$e/Qe):(Ee[0]=Ee[1]=Ee[2]=0,Ee[3]=1)}function OrbitCameraController(Ee,ze,Be){this.radius=Ue([Be]),this.center=Ue(ze),this.rotation=Ue(Ee),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var tt=OrbitCameraController.prototype;tt.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},tt.recalcMatrix=function(Ee){this.radius.curve(Ee),this.center.curve(Ee),this.rotation.curve(Ee);var ze=this.computedRotation;normalize4(ze,ze);var Be=this.computedMatrix;$e(Be,ze);var Ue=this.computedCenter,We=this.computedEye,Qe=this.computedUp,et=Math.exp(this.computedRadius[0]);We[0]=Ue[0]+et*Be[2],We[1]=Ue[1]+et*Be[6],We[2]=Ue[2]+et*Be[10],Qe[0]=Be[1],Qe[1]=Be[5],Qe[2]=Be[9];for(var tt=0;tt<3;++tt){for(var rt=0,nt=0;nt<3;++nt)rt+=Be[tt+4*nt]*We[nt];Be[12+tt]=-rt}},tt.getMatrix=function(Ee,ze){this.recalcMatrix(Ee);var Be=this.computedMatrix;if(ze){for(var Ue=0;Ue<16;++Ue)ze[Ue]=Be[Ue];return ze}return Be},tt.idle=function(Ee){this.center.idle(Ee),this.radius.idle(Ee),this.rotation.idle(Ee)},tt.flush=function(Ee){this.center.flush(Ee),this.radius.flush(Ee),this.rotation.flush(Ee)},tt.pan=function(Ee,ze,Be,Ue){ze=ze||0,Be=Be||0,Ue=Ue||0,this.recalcMatrix(Ee);var We=this.computedMatrix,$e=We[1],Qe=We[5],et=We[9],tt=len3($e,Qe,et);$e/=tt,Qe/=tt,et/=tt;var rt=We[0],nt=We[4],at=We[8],it=rt*$e+nt*Qe+at*et,ct=len3(rt-=$e*it,nt-=Qe*it,at-=et*it);rt/=ct,nt/=ct,at/=ct;var ft=We[2],xt=We[6],kt=We[10],Lt=ft*$e+xt*Qe+kt*et,Ut=ft*rt+xt*nt+kt*at,er=len3(ft-=Lt*$e+Ut*rt,xt-=Lt*Qe+Ut*nt,kt-=Lt*et+Ut*at);ft/=er,xt/=er,kt/=er;var tr=rt*ze+$e*Be,rr=nt*ze+Qe*Be,ar=at*ze+et*Be;this.center.move(Ee,tr,rr,ar);var Lr=Math.exp(this.computedRadius[0]);Lr=Math.max(1e-4,Lr+Ue),this.radius.set(Ee,Math.log(Lr))},tt.rotate=function(Ee,ze,Be,Ue){this.recalcMatrix(Ee),ze=ze||0,Be=Be||0;var We=this.computedMatrix,$e=We[0],Qe=We[4],et=We[8],tt=We[1],rt=We[5],nt=We[9],at=We[2],it=We[6],ct=We[10],ft=ze*$e+Be*tt,xt=ze*Qe+Be*rt,kt=ze*et+Be*nt,Lt=-(it*kt-ct*xt),Ut=-(ct*ft-at*kt),er=-(at*xt-it*ft),tr=Math.sqrt(Math.max(0,1-Math.pow(Lt,2)-Math.pow(Ut,2)-Math.pow(er,2))),rr=len4(Lt,Ut,er,tr);rr>1e-6?(Lt/=rr,Ut/=rr,er/=rr,tr/=rr):(Lt=Ut=er=0,tr=1);var ar=this.computedRotation,Lr=ar[0],Qr=ar[1],on=ar[2],sn=ar[3],ln=Lr*tr+sn*Lt+Qr*er-on*Ut,cn=Qr*tr+sn*Ut+on*Lt-Lr*er,un=on*tr+sn*er+Lr*Ut-Qr*Lt,hn=sn*tr-Lr*Lt-Qr*Ut-on*er;if(Ue){Lt=at,Ut=it,er=ct;var dn=Math.sin(Ue)/len3(Lt,Ut,er);Lt*=dn,Ut*=dn,er*=dn,hn=hn*(tr=Math.cos(ze))-(ln=ln*tr+hn*Lt+cn*er-un*Ut)*Lt-(cn=cn*tr+hn*Ut+un*Lt-ln*er)*Ut-(un=un*tr+hn*er+ln*Ut-cn*Lt)*er}var vn=len4(ln,cn,un,hn);vn>1e-6?(ln/=vn,cn/=vn,un/=vn,hn/=vn):(ln=cn=un=0,hn=1),this.rotation.set(Ee,ln,cn,un,hn)},tt.lookAt=function(Ee,ze,Be,Ue){this.recalcMatrix(Ee),Be=Be||this.computedCenter,ze=ze||this.computedEye,Ue=Ue||this.computedUp;var $e=this.computedMatrix;We($e,ze,Be,Ue);var Qe=this.computedRotation;et(Qe,$e[0],$e[1],$e[2],$e[4],$e[5],$e[6],$e[8],$e[9],$e[10]),normalize4(Qe,Qe),this.rotation.set(Ee,Qe[0],Qe[1],Qe[2],Qe[3]);for(var tt=0,rt=0;rt<3;++rt)tt+=Math.pow(Be[rt]-ze[rt],2);this.radius.set(Ee,.5*Math.log(Math.max(tt,1e-6))),this.center.set(Ee,Be[0],Be[1],Be[2])},tt.translate=function(Ee,ze,Be,Ue){this.center.move(Ee,ze||0,Be||0,Ue||0)},tt.setMatrix=function(Ee,ze){var Be=this.computedRotation;et(Be,ze[0],ze[1],ze[2],ze[4],ze[5],ze[6],ze[8],ze[9],ze[10]),normalize4(Be,Be),this.rotation.set(Ee,Be[0],Be[1],Be[2],Be[3]);var Ue=this.computedMatrix;Qe(Ue,ze);var We=Ue[15];if(Math.abs(We)>1e-6){var $e=Ue[12]/We,tt=Ue[13]/We,rt=Ue[14]/We;this.recalcMatrix(Ee);var nt=Math.exp(this.computedRadius[0]);this.center.set(Ee,$e-Ue[2]*nt,tt-Ue[6]*nt,rt-Ue[10]*nt),this.radius.idle(Ee)}else this.center.idle(Ee),this.radius.idle(Ee)},tt.setDistance=function(Ee,ze){ze>0&&this.radius.set(Ee,Math.log(ze))},tt.setDistanceLimits=function(Ee,ze){Ee=Ee>0?Math.log(Ee):-1/0,ze=ze>0?Math.log(ze):1/0,ze=Math.max(ze,Ee),this.radius.bounds[0][0]=Ee,this.radius.bounds[1][0]=ze},tt.getDistanceLimits=function(Ee){var ze=this.radius.bounds;return Ee?(Ee[0]=Math.exp(ze[0][0]),Ee[1]=Math.exp(ze[1][0]),Ee):[Math.exp(ze[0][0]),Math.exp(ze[1][0])]},tt.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},tt.fromJSON=function(Ee){var ze=this.lastT(),Be=Ee.center;Be&&this.center.set(ze,Be[0],Be[1],Be[2]);var Ue=Ee.rotation;Ue&&this.rotation.set(ze,Ue[0],Ue[1],Ue[2],Ue[3]);var We=Ee.distance;We&&We>0&&this.radius.set(ze,Math.log(We)),this.setDistanceLimits(Ee.zoomMin,Ee.zoomMax)}},6259:function(Ee,ze){Ee.exports=function transformMat4(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3];return Ee[0]=Be[0]*Ue+Be[4]*We+Be[8]*$e+Be[12]*Qe,Ee[1]=Be[1]*Ue+Be[5]*We+Be[9]*$e+Be[13]*Qe,Ee[2]=Be[2]*Ue+Be[6]*We+Be[10]*$e+Be[14]*Qe,Ee[3]=Be[3]*Ue+Be[7]*We+Be[11]*$e+Be[15]*Qe,Ee}},6295:function(Ee,ze,Be){var Ue=Be("28dd"),We=Be("e98f"),$e=We(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),Qe=We(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color — in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),et=We(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),tt=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);ze.createShader=function(Ee){var ze=Ue(Ee,$e,Qe,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return ze.attributes.uv.location=0,ze.attributes.f.location=1,ze.attributes.normal.location=2,ze},ze.createPickShader=function(Ee){var ze=Ue(Ee,$e,tt,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return ze.attributes.uv.location=0,ze.attributes.f.location=1,ze.attributes.normal.location=2,ze},ze.createContourShader=function(Ee){var ze=Ue(Ee,et,Qe,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return ze.attributes.uv.location=0,ze.attributes.f.location=1,ze},ze.createPickContourShader=function(Ee){var ze=Ue(Ee,et,tt,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return ze.attributes.uv.location=0,ze.attributes.f.location=1,ze}},"62c4":function(Ee,ze,Be){"use strict";var Ue=Be("e76c")();Ee.exports=function(Ee){return Ee!==Ue&&null!==Ee}},"62d6":function(Ee,ze,Be){"use strict";var Ue=Be("40ce"),We={body:"",args:[],thisVars:[],localVars:[]};function fixup(Ee){if(!Ee)return We;for(var ze=0;ze<Ee.args.length;++ze){var Be=Ee.args[ze];Ee.args[ze]=0===ze?{name:Be,lvalue:!0,rvalue:!!Ee.rvalue,count:Ee.count||1}:{name:Be,lvalue:!1,rvalue:!0,count:1}}return Ee.thisVars||(Ee.thisVars=[]),Ee.localVars||(Ee.localVars=[]),Ee}function makeOp(Ee){for(var ze=[],Be=0;Be<Ee.args.length;++Be)ze.push("a"+Be);return new Function("P",["return function ",Ee.funcName,"_ndarrayops(",ze.join(","),") {P(",ze.join(","),");return a0}"].join(""))(function pcompile(Ee){return Ue({args:Ee.args,pre:fixup(Ee.pre),body:fixup(Ee.body),post:fixup(Ee.proc),funcName:Ee.funcName})}(Ee))}var $e={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var Ee in $e){var Be=$e[Ee];ze[Ee]=makeOp({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+Be+"c"},funcName:Ee}),ze[Ee+"eq"]=makeOp({args:["array","array"],body:{args:["a","b"],body:"a"+Be+"=b"},rvalue:!0,funcName:Ee+"eq"}),ze[Ee+"s"]=makeOp({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+Be+"s"},funcName:Ee+"s"}),ze[Ee+"seq"]=makeOp({args:["array","scalar"],body:{args:["a","s"],body:"a"+Be+"=s"},rvalue:!0,funcName:Ee+"seq"})}}();var Qe={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var Ee in Qe){var Be=Qe[Ee];ze[Ee]=makeOp({args:["array","array"],body:{args:["a","b"],body:"a="+Be+"b"},funcName:Ee}),ze[Ee+"eq"]=makeOp({args:["array"],body:{args:["a"],body:"a="+Be+"a"},rvalue:!0,count:2,funcName:Ee+"eq"})}}();var et={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var Ee in et){var Be=et[Ee];ze[Ee]=makeOp({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+Be+"c"},funcName:Ee}),ze[Ee+"s"]=makeOp({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+Be+"s"},funcName:Ee+"s"}),ze[Ee+"eq"]=makeOp({args:["array","array"],body:{args:["a","b"],body:"a=a"+Be+"b"},rvalue:!0,count:2,funcName:Ee+"eq"}),ze[Ee+"seq"]=makeOp({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+Be+"s"},rvalue:!0,count:2,funcName:Ee+"seq"})}}();var tt=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var Ee=0;Ee<tt.length;++Ee){var Be=tt[Ee];ze[Be]=makeOp({args:["array","array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:Be}),ze[Be+"eq"]=makeOp({args:["array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:Be+"eq"})}}();var rt=["max","min","atan2","pow"];!function(){for(var Ee=0;Ee<rt.length;++Ee){var Be=rt[Ee];ze[Be]=makeOp({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:Be}),ze[Be+"s"]=makeOp({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:Be+"s"}),ze[Be+"eq"]=makeOp({args:["array","array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:Be+"eq"}),ze[Be+"seq"]=makeOp({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:Be+"seq"})}}();var nt=["atan2","pow"];!function(){for(var Ee=0;Ee<nt.length;++Ee){var Be=nt[Ee];ze[Be+"op"]=makeOp({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:Be+"op"}),ze[Be+"ops"]=makeOp({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:Be+"ops"}),ze[Be+"opeq"]=makeOp({args:["array","array"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:Be+"opeq"}),ze[Be+"opseq"]=makeOp({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+Be,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:Be+"opseq"})}}(),ze.any=Ue({args:["array"],pre:We,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),ze.all=Ue({args:["array"],pre:We,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),ze.sum=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),ze.prod=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),ze.norm2squared=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),ze.norm2=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),ze.norminf=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),ze.norm1=Ue({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),ze.sup=Ue({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),ze.inf=Ue({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),ze.argmin=Ue({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),ze.argmax=Ue({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),ze.random=makeOp({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),ze.assign=makeOp({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),ze.assigns=makeOp({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),ze.equals=Ue({args:["array","array"],pre:We,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},"62e4":function(Ee,ze){Ee.exports=function(Ee){return Ee.webpackPolyfill||(Ee.deprecate=function(){},Ee.paths=[],Ee.children||(Ee.children=[]),Object.defineProperty(Ee,"loaded",{enumerable:!0,get:function(){return Ee.l}}),Object.defineProperty(Ee,"id",{enumerable:!0,get:function(){return Ee.i}}),Ee.webpackPolyfill=1),Ee}},6321:function(Ee,ze,Be){"use strict";var Ue=Be("9013");Ee.exports=function(Ee){if("function"!=typeof Ee)return!1;if(!hasOwnProperty.call(Ee,"length"))return!1;try{if("number"!=typeof Ee.length)return!1;if("function"!=typeof Ee.call)return!1;if("function"!=typeof Ee.apply)return!1}catch(Ee){return!1}return!Ue(Ee)}},6386:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:Be("c07c"),categories:["polar","symbols","showLegend","scatter-like"],attributes:Be("8a6e"),supplyDefaults:Be("66db").supplyDefaults,colorbar:Be("f3cf"),formatLabels:Be("98e74"),calc:Be("8a43"),plot:Be("8260"),style:Be("52e8").style,styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("efcd").hoverPoints,selectPoints:Be("214c"),meta:{}}},"63dc":function(Ee,ze,Be){"use strict";Ee.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},"643c":function(Ee,ze,Be){"use strict";var Ue=Be("bb71");ze.name="indicator",ze.plot=function(Ee,Be,We,$e){Ue.plotBasePlot(ze.name,Ee,Be,We,$e)},ze.clean=function(Ee,Be,We,$e){Ue.cleanBasePlot(ze.name,Ee,Be,We,$e)}},"644a":function(Ee,ze){Ee.exports=function squaredLength(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2],We=Ee[3];return ze*ze+Be*Be+Ue*Ue+We*We}},"64c3":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").extendFlat,We=Be("6657"),$e=Be("1ebf");function directionAttrs(Ee){return{line:{color:Ue({},$e.line.color,{dflt:Ee}),width:$e.line.width,editType:"style"},fillcolor:$e.fillcolor,editType:"style"}}Ee.exports={x:We.x,open:We.open,high:We.high,low:We.low,close:We.close,line:{width:Ue({},$e.line.width,{}),editType:"style"},increasing:directionAttrs(We.increasing.line.color.dflt),decreasing:directionAttrs(We.decreasing.line.color.dflt),text:We.text,hovertext:We.hovertext,whiskerwidth:Ue({},$e.whiskerwidth,{dflt:0}),hoverlabel:We.hoverlabel}},6533:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function handleLabelDefaults(Ee,ze,Be,We){if(We||(We={}),Ee("contours.showlabels")){var $e=ze.font;Ue.coerceFont(Ee,"contours.labelfont",{family:$e.family,size:$e.size,color:Be}),Ee("contours.labelformat")}!1!==We.hasHover&&Ee("zhoverformat")}},6547:function(Ee,ze,Be){var Ue=Be("a691"),We=Be("1d80"),createMethod=function(Ee){return function(ze,Be){var $e,Qe,et=String(We(ze)),tt=Ue(Be),rt=et.length;return tt<0||tt>=rt?Ee?"":void 0:($e=et.charCodeAt(tt))<55296||$e>56319||tt+1===rt||(Qe=et.charCodeAt(tt+1))<56320||Qe>57343?Ee?et.charAt(tt):$e:Ee?et.slice(tt,tt+2):Qe-56320+($e-55296<<10)+65536}};Ee.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},"654e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4183"),$e=Be("535c");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var et=coerce("lon")||[],tt=coerce("lat")||[],rt=Math.min(et.length,tt.length);rt?(ze._length=rt,coerce("z"),coerce("radius"),coerce("below"),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),We(Ee,ze,Qe,coerce,{prefix:"",cLetter:"z"})):ze.visible=!1}},6578:function(Ee,ze,Be){"use strict";Ee.exports=Be("16ef")},6599:function(Ee,ze,Be){"use strict";var Ue=Object.create(null),We=Math.random;Ee.exports=function(){var Ee;do{Ee=We().toString(36).slice(2)}while(Ue[Ee]);return Ee}},"65f0":function(Ee,ze,Be){var Ue=Be("861d"),We=Be("e8b5"),$e=Be("b622")("species");Ee.exports=function(Ee,ze){var Be;return We(Ee)&&("function"!=typeof(Be=Ee.constructor)||Be!==Array&&!We(Be.prototype)?Ue(Be)&&null===(Be=Be[$e])&&(Be=void 0):Be=void 0),new(void 0===Be?Array:Be)(0===ze?0:ze)}},"661c":function(Ee,ze,Be){"use strict";var Ue,We,$e=Be("6e58"),Qe=Be("19b2"),et=Be("ae13"),tt=Be("d3dc").mod,rt=Be("e806"),nt=rt.BADNUM,at=rt.ONEDAY,it=rt.ONEHOUR,ct=rt.ONEMIN,ft=rt.ONESEC,xt=rt.EPOCHJD,kt=Be("371e"),Lt=$e.time.format.utc,Ut=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,er=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,tr=(new Date).getFullYear()-70;function isWorldCalendar(Ee){return Ee&&kt.componentsRegistry.calendars&&"string"==typeof Ee&&"gregorian"!==Ee}function lpad(Ee,ze){return String(Ee+Math.pow(10,ze)).substr(1)}ze.dateTick0=function(Ee,ze){return isWorldCalendar(Ee)?ze?kt.getComponentMethod("calendars","CANONICAL_SUNDAY")[Ee]:kt.getComponentMethod("calendars","CANONICAL_TICK")[Ee]:ze?"2000-01-02":"2000-01-01"},ze.dfltRange=function(Ee){return isWorldCalendar(Ee)?kt.getComponentMethod("calendars","DFLTRANGE")[Ee]:["2000-01-01","2001-01-01"]},ze.isJSDate=function(Ee){return"object"==typeof Ee&&null!==Ee&&"function"==typeof Ee.getTime},ze.dateTime2ms=function(Ee,Be){if(ze.isJSDate(Ee)){var $e=Ee.getTimezoneOffset()*ct,Qe=(Ee.getUTCMinutes()-Ee.getMinutes())*ct+(Ee.getUTCSeconds()-Ee.getSeconds())*ft+(Ee.getUTCMilliseconds()-Ee.getMilliseconds());if(Qe){var et=3*ct;$e=$e-et/2+tt(Qe-$e+et/2,et)}return(Ee=Number(Ee)-$e)>=Ue&&Ee<=We?Ee:nt}if("string"!=typeof Ee&&"number"!=typeof Ee)return nt;Ee=String(Ee);var rt=isWorldCalendar(Be),Lt=Ee.charAt(0);!rt||"G"!==Lt&&"g"!==Lt||(Ee=Ee.substr(1),Be="");var rr=rt&&"chinese"===Be.substr(0,7),ar=Ee.match(rr?er:Ut);if(!ar)return nt;var Lr=ar[1],Qr=ar[3]||"1",on=Number(ar[5]||1),sn=Number(ar[7]||0),ln=Number(ar[9]||0),cn=Number(ar[11]||0);if(rt){if(2===Lr.length)return nt;var un;Lr=Number(Lr);try{var hn=kt.getComponentMethod("calendars","getCal")(Be);if(rr){var dn="i"===Qr.charAt(Qr.length-1);Qr=parseInt(Qr,10),un=hn.newDate(Lr,hn.toMonthIndex(Lr,Qr,dn),on)}else un=hn.newDate(Lr,Number(Qr),on)}catch(Ee){return nt}return un?(un.toJD()-xt)*at+sn*it+ln*ct+cn*ft:nt}Lr=2===Lr.length?(Number(Lr)+2e3-tr)%100+tr:Number(Lr),Qr-=1;var vn=new Date(Date.UTC(2e3,Qr,on,sn,ln));return vn.setUTCFullYear(Lr),vn.getUTCMonth()!==Qr||vn.getUTCDate()!==on?nt:vn.getTime()+cn*ft},Ue=ze.MIN_MS=ze.dateTime2ms("-9999"),We=ze.MAX_MS=ze.dateTime2ms("9999-12-31 23:59:59.9999"),ze.isDateTime=function(Ee,Be){return ze.dateTime2ms(Ee,Be)!==nt};var rr=90*at,ar=3*it,Lr=5*ct;function includeTime(Ee,ze,Be,Ue,We){if((ze||Be||Ue||We)&&(Ee+=" "+lpad(ze,2)+":"+lpad(Be,2),(Ue||We)&&(Ee+=":"+lpad(Ue,2),We))){for(var $e=4;We%10==0;)$e-=1,We/=10;Ee+="."+lpad(We,$e)}return Ee}ze.ms2DateTime=function(Ee,ze,Be){if("number"!=typeof Ee||!(Ee>=Ue&&Ee<=We))return nt;ze||(ze=0);var $e,Qe,et,rt,Ut,er,tr=Math.floor(10*tt(Ee+.05,1)),Qr=Math.round(Ee-tr/10);if(isWorldCalendar(Be)){var on=Math.floor(Qr/at)+xt,sn=Math.floor(tt(Ee,at));try{$e=kt.getComponentMethod("calendars","getCal")(Be).fromJD(on).formatDate("yyyy-mm-dd")}catch(Ee){$e=Lt("G%Y-%m-%d")(new Date(Qr))}if("-"===$e.charAt(0))for(;$e.length<11;)$e="-0"+$e.substr(1);else for(;$e.length<10;)$e="0"+$e;Qe=ze<rr?Math.floor(sn/it):0,et=ze<rr?Math.floor(sn%it/ct):0,rt=ze<ar?Math.floor(sn%ct/ft):0,Ut=ze<Lr?sn%ft*10+tr:0}else er=new Date(Qr),$e=Lt("%Y-%m-%d")(er),Qe=ze<rr?er.getUTCHours():0,et=ze<rr?er.getUTCMinutes():0,rt=ze<ar?er.getUTCSeconds():0,Ut=ze<Lr?10*er.getUTCMilliseconds()+tr:0;return includeTime($e,Qe,et,rt,Ut)},ze.ms2DateTimeLocal=function(Ee){if(!(Ee>=Ue+at&&Ee<=We-at))return nt;var ze=Math.floor(10*tt(Ee+.05,1)),Be=new Date(Math.round(Ee-ze/10));return includeTime($e.time.format("%Y-%m-%d")(Be),Be.getHours(),Be.getMinutes(),Be.getSeconds(),10*Be.getUTCMilliseconds()+ze)},ze.cleanDate=function(Ee,Be,Ue){if(Ee===nt)return Be;if(ze.isJSDate(Ee)||"number"==typeof Ee&&isFinite(Ee)){if(isWorldCalendar(Ue))return et.error("JS Dates and milliseconds are incompatible with world calendars",Ee),Be;if(!(Ee=ze.ms2DateTimeLocal(+Ee))&&void 0!==Be)return Be}else if(!ze.isDateTime(Ee,Ue))return et.error("unrecognized date",Ee),Be;return Ee};var Qr=/%\d?f/g;function modDateFormat(Ee,ze,Be,Ue){Ee=Ee.replace(Qr,(function(Ee){var Be=Math.min(+Ee.charAt(1)||6,6);return(ze/1e3%1+2).toFixed(Be).substr(2).replace(/0+$/,"")||"0"}));var We=new Date(Math.floor(ze+.05));if(isWorldCalendar(Ue))try{Ee=kt.getComponentMethod("calendars","worldCalFmt")(Ee,ze,Ue)}catch(Ee){return"Invalid"}return Be(Ee)(We)}var on=[59,59.9,59.99,59.999,59.9999];ze.formatDate=function(Ee,ze,Be,Ue,We,$e){if(We=isWorldCalendar(We)&&We,!ze)if("y"===Be)ze=$e.year;else if("m"===Be)ze=$e.month;else{if("d"!==Be)return function formatTime(Ee,ze){var Be=tt(Ee+.05,at),Ue=lpad(Math.floor(Be/it),2)+":"+lpad(tt(Math.floor(Be/ct),60),2);if("M"!==ze){Qe(ze)||(ze=0);var We=(100+Math.min(tt(Ee/ft,60),on[ze])).toFixed(ze).substr(1);ze>0&&(We=We.replace(/0+$/,"").replace(/[\.]$/,"")),Ue+=":"+We}return Ue}(Ee,Be)+"\n"+modDateFormat($e.dayMonthYear,Ee,Ue,We);ze=$e.dayMonth+"\n"+$e.year}return modDateFormat(ze,Ee,Ue,We)};var sn=3*at;ze.incrementMonth=function(Ee,ze,Be){Be=isWorldCalendar(Be)&&Be;var Ue=tt(Ee,at);if(Ee=Math.round(Ee-Ue),Be)try{var We=Math.round(Ee/at)+xt,$e=kt.getComponentMethod("calendars","getCal")(Be),Qe=$e.fromJD(We);return ze%12?$e.add(Qe,ze,"m"):$e.add(Qe,ze/12,"y"),(Qe.toJD()-xt)*at+Ue}catch(ze){et.error("invalid ms "+Ee+" in calendar "+Be)}var rt=new Date(Ee+sn);return rt.setUTCMonth(rt.getUTCMonth()+ze)+Ue-sn},ze.findExactDates=function(Ee,ze){for(var Be,Ue,We=0,$e=0,et=0,tt=0,rt=isWorldCalendar(ze)&&kt.getComponentMethod("calendars","getCal")(ze),nt=0;nt<Ee.length;nt++)if(Ue=Ee[nt],Qe(Ue)){if(!(Ue%at))if(rt)try{1===(Be=rt.fromJD(Ue/at+xt)).day()?1===Be.month()?We++:$e++:et++}catch(Ee){}else 1===(Be=new Date(Ue)).getUTCDate()?0===Be.getUTCMonth()?We++:$e++:et++}else tt++;et+=$e+=We;var it=Ee.length-tt;return{exactYears:We/it,exactMonths:$e/it,exactDays:et/it}}},6626:function(Ee,ze,Be){"use strict";Ee.exports=Be("0b4f")},6649:function(Ee,ze,Be){var Ue=Be("b332");Ee.exports=function createStore(){var Ee={};return function(ze){if(("object"!=typeof ze||null===ze)&&"function"!=typeof ze)throw new Error("Weakmap-shim: Key must be object");var Be=ze.valueOf(Ee);return Be&&Be.identity===Ee?Be:Ue(ze,Ee)}}},"664d":function(Ee,ze,Be){"use strict";Ee.exports=Be("9509")},6657:function(Ee,ze,Be){"use strict";var Ue=Be("fc26").extendFlat,We=Be("107c"),$e=Be("db54").dash,Qe=Be("a462"),et=Be("b8ce"),tt=et.INCREASING.COLOR,rt=et.DECREASING.COLOR,nt=We.line;function directionAttrs(Ee){return{line:{color:Ue({},nt.color,{dflt:Ee}),width:nt.width,dash:$e,editType:"style"},editType:"style"}}Ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:Ue({},nt.width,{}),dash:Ue({},$e,{}),editType:"style"},increasing:directionAttrs(tt),decreasing:directionAttrs(rt),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:Ue({},Qe.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},6672:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("66cb"),$e=Be("a876"),Qe=Be("4852"),et=Be("72a4").DESELECTDIM,tt=Be("74d6"),rt=Be("055a").counter,nt=Be("d3dc").modHalf,at=Be("6af8").isArrayOrTypedArray;function validate(Ee,Be){var Ue=ze.valObjectMeta[Be.valType];if(Be.arrayOk&&at(Ee))return!0;if(Ue.validateFunction)return Ue.validateFunction(Ee,Be);var We={},$e=We,Qe={set:function(Ee){$e=Ee}};return Ue.coerceFunction(Ee,Qe,We,Be),$e!==We}ze.valObjectMeta={data_array:{coerceFunction:function(Ee,ze,Be){at(Ee)?ze.set(Ee):void 0!==Be&&ze.set(Be)}},enumerated:{coerceFunction:function(Ee,ze,Be,Ue){Ue.coerceNumber&&(Ee=+Ee),-1===Ue.values.indexOf(Ee)?ze.set(Be):ze.set(Ee)},validateFunction:function(Ee,ze){ze.coerceNumber&&(Ee=+Ee);for(var Be=ze.values,Ue=0;Ue<Be.length;Ue++){var We=String(Be[Ue]);if("/"===We.charAt(0)&&"/"===We.charAt(We.length-1)){if(new RegExp(We.substr(1,We.length-2)).test(Ee))return!0}else if(Ee===Be[Ue])return!0}return!1}},boolean:{coerceFunction:function(Ee,ze,Be){!0===Ee||!1===Ee?ze.set(Ee):ze.set(Be)}},number:{coerceFunction:function(Ee,ze,Be,We){!Ue(Ee)||void 0!==We.min&&Ee<We.min||void 0!==We.max&&Ee>We.max?ze.set(Be):ze.set(+Ee)}},integer:{coerceFunction:function(Ee,ze,Be,We){Ee%1||!Ue(Ee)||void 0!==We.min&&Ee<We.min||void 0!==We.max&&Ee>We.max?ze.set(Be):ze.set(+Ee)}},string:{coerceFunction:function(Ee,ze,Be,Ue){if("string"!=typeof Ee){var We="number"==typeof Ee;!0!==Ue.strict&&We?ze.set(String(Ee)):ze.set(Be)}else Ue.noBlank&&!Ee?ze.set(Be):ze.set(Ee)}},color:{coerceFunction:function(Ee,ze,Be){We(Ee).isValid()?ze.set(Ee):ze.set(Be)}},colorlist:{coerceFunction:function(Ee,ze,Be){Array.isArray(Ee)&&Ee.length&&Ee.every((function isColor(Ee){return We(Ee).isValid()}))?ze.set(Ee):ze.set(Be)}},colorscale:{coerceFunction:function(Ee,ze,Be){ze.set(Qe.get(Ee,Be))}},angle:{coerceFunction:function(Ee,ze,Be){"auto"===Ee?ze.set("auto"):Ue(Ee)?ze.set(nt(+Ee,360)):ze.set(Be)}},subplotid:{coerceFunction:function(Ee,ze,Be,Ue){var We=Ue.regex||rt(Be);"string"==typeof Ee&&We.test(Ee)?ze.set(Ee):ze.set(Be)},validateFunction:function(Ee,ze){var Be=ze.dflt;return Ee===Be||"string"==typeof Ee&&!!rt(Be).test(Ee)}},flaglist:{coerceFunction:function(Ee,ze,Be,Ue){if("string"==typeof Ee)if(-1===(Ue.extras||[]).indexOf(Ee)){for(var We=Ee.split("+"),$e=0;$e<We.length;){var Qe=We[$e];-1===Ue.flags.indexOf(Qe)||We.indexOf(Qe)<$e?We.splice($e,1):$e++}We.length?ze.set(We.join("+")):ze.set(Be)}else ze.set(Ee);else ze.set(Be)}},any:{coerceFunction:function(Ee,ze,Be){void 0===Ee?ze.set(Be):ze.set(Ee)}},info_array:{coerceFunction:function(Ee,Be,Ue,We){function coercePart(Ee,Be,Ue){var We,$e={set:function(Ee){We=Ee}};return void 0===Ue&&(Ue=Be.dflt),ze.valObjectMeta[Be.valType].coerceFunction(Ee,$e,Ue,Be),We}var $e=2===We.dimensions||"1-2"===We.dimensions&&Array.isArray(Ee)&&Array.isArray(Ee[0]);if(Array.isArray(Ee)){var Qe,et,tt,rt,nt,at,it=We.items,ct=[],ft=Array.isArray(it),xt=ft&&$e&&Array.isArray(it[0]),kt=$e&&ft&&!xt,Lt=ft&&!kt?it.length:Ee.length;if(Ue=Array.isArray(Ue)?Ue:[],$e)for(Qe=0;Qe<Lt;Qe++)for(ct[Qe]=[],tt=Array.isArray(Ee[Qe])?Ee[Qe]:[],nt=kt?it.length:ft?it[Qe].length:tt.length,et=0;et<nt;et++)rt=kt?it[et]:ft?it[Qe][et]:it,void 0!==(at=coercePart(tt[et],rt,(Ue[Qe]||[])[et]))&&(ct[Qe][et]=at);else for(Qe=0;Qe<Lt;Qe++)void 0!==(at=coercePart(Ee[Qe],ft?it[Qe]:it,Ue[Qe]))&&(ct[Qe]=at);Be.set(ct)}else Be.set(Ue)},validateFunction:function(Ee,ze){if(!Array.isArray(Ee))return!1;var Be=ze.items,Ue=Array.isArray(Be),We=2===ze.dimensions;if(!ze.freeLength&&Ee.length!==Be.length)return!1;for(var $e=0;$e<Ee.length;$e++)if(We){if(!Array.isArray(Ee[$e])||!ze.freeLength&&Ee[$e].length!==Be[$e].length)return!1;for(var Qe=0;Qe<Ee[$e].length;Qe++)if(!validate(Ee[$e][Qe],Ue?Be[$e][Qe]:Be))return!1}else if(!validate(Ee[$e],Ue?Be[$e]:Be))return!1;return!0}}},ze.coerce=function(Ee,Be,Ue,We,$e){var Qe=tt(Ue,We).get(),et=tt(Ee,We),rt=tt(Be,We),nt=et.get(),it=Be._template;if(void 0===nt&&it&&(nt=tt(it,We).get(),it=0),void 0===$e&&($e=Qe.dflt),Qe.arrayOk&&at(nt))return rt.set(nt),nt;var ct=ze.valObjectMeta[Qe.valType].coerceFunction;ct(nt,rt,$e,Qe);var ft=rt.get();return it&&ft===$e&&!validate(nt,Qe)&&(ct(nt=tt(it,We).get(),rt,$e,Qe),ft=rt.get()),ft},ze.coerce2=function(Ee,Be,Ue,We,$e){var Qe=tt(Ee,We),et=ze.coerce(Ee,Be,Ue,We,$e),rt=Qe.get();return null!=rt&&et},ze.coerceFont=function(Ee,ze,Be){var Ue={};return Be=Be||{},Ue.family=Ee(ze+".family",Be.family),Ue.size=Ee(ze+".size",Be.size),Ue.color=Ee(ze+".color",Be.color),Ue},ze.coerceHoverinfo=function(Ee,Be,Ue){var We,Qe=Be._module.attributes,et=Qe.hoverinfo?Qe:$e,tt=et.hoverinfo;if(1===Ue._dataLength){var rt="all"===tt.dflt?tt.flags.slice():tt.dflt.split("+");rt.splice(rt.indexOf("name"),1),We=rt.join("+")}return ze.coerce(Ee,Be,et,"hoverinfo",We)},ze.coerceSelectionMarkerOpacity=function(Ee,ze){if(Ee.marker){var Be,Ue,We=Ee.marker.opacity;if(void 0!==We)at(We)||Ee.selected||Ee.unselected||(Be=We,Ue=et*We),ze("selected.marker.opacity",Be),ze("unselected.marker.opacity",Ue)}},ze.validate=validate},"66ac":function(Ee,ze,Be){"use strict";var Ue=Be("9c7c");Ee.exports=function sub(Ee,ze){for(var Be=Ee.length,We=new Array(Be),$e=0;$e<Be;++$e)We[$e]=Ue(Ee[$e],ze[$e]);return We}},"66cb":function(Ee,ze,Be){var Ue;!function(We){var $e=/^\s+/,Qe=/\s+$/,et=0,tt=We.round,rt=We.min,nt=We.max,at=We.random;function tinycolor(Ee,ze){if(ze=ze||{},(Ee=Ee||"")instanceof tinycolor)return Ee;if(!(this instanceof tinycolor))return new tinycolor(Ee,ze);var Be=function inputToRGB(Ee){var ze={r:0,g:0,b:0},Be=1,Ue=null,et=null,tt=null,at=!1,ct=!1;"string"==typeof Ee&&(Ee=function stringInputToObject(Ee){Ee=Ee.replace($e,"").replace(Qe,"").toLowerCase();var ze,Be=!1;if(it[Ee])Ee=it[Ee],Be=!0;else if("transparent"==Ee)return{r:0,g:0,b:0,a:0,format:"name"};if(ze=Lt.rgb.exec(Ee))return{r:ze[1],g:ze[2],b:ze[3]};if(ze=Lt.rgba.exec(Ee))return{r:ze[1],g:ze[2],b:ze[3],a:ze[4]};if(ze=Lt.hsl.exec(Ee))return{h:ze[1],s:ze[2],l:ze[3]};if(ze=Lt.hsla.exec(Ee))return{h:ze[1],s:ze[2],l:ze[3],a:ze[4]};if(ze=Lt.hsv.exec(Ee))return{h:ze[1],s:ze[2],v:ze[3]};if(ze=Lt.hsva.exec(Ee))return{h:ze[1],s:ze[2],v:ze[3],a:ze[4]};if(ze=Lt.hex8.exec(Ee))return{r:parseIntFromHex(ze[1]),g:parseIntFromHex(ze[2]),b:parseIntFromHex(ze[3]),a:convertHexToDecimal(ze[4]),format:Be?"name":"hex8"};if(ze=Lt.hex6.exec(Ee))return{r:parseIntFromHex(ze[1]),g:parseIntFromHex(ze[2]),b:parseIntFromHex(ze[3]),format:Be?"name":"hex"};if(ze=Lt.hex4.exec(Ee))return{r:parseIntFromHex(ze[1]+""+ze[1]),g:parseIntFromHex(ze[2]+""+ze[2]),b:parseIntFromHex(ze[3]+""+ze[3]),a:convertHexToDecimal(ze[4]+""+ze[4]),format:Be?"name":"hex8"};if(ze=Lt.hex3.exec(Ee))return{r:parseIntFromHex(ze[1]+""+ze[1]),g:parseIntFromHex(ze[2]+""+ze[2]),b:parseIntFromHex(ze[3]+""+ze[3]),format:Be?"name":"hex"};return!1}(Ee));"object"==typeof Ee&&(isValidCSSUnit(Ee.r)&&isValidCSSUnit(Ee.g)&&isValidCSSUnit(Ee.b)?(ze=function rgbToRgb(Ee,ze,Be){return{r:255*bound01(Ee,255),g:255*bound01(ze,255),b:255*bound01(Be,255)}}(Ee.r,Ee.g,Ee.b),at=!0,ct="%"===String(Ee.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(Ee.h)&&isValidCSSUnit(Ee.s)&&isValidCSSUnit(Ee.v)?(Ue=convertToPercentage(Ee.s),et=convertToPercentage(Ee.v),ze=function hsvToRgb(Ee,ze,Be){Ee=6*bound01(Ee,360),ze=bound01(ze,100),Be=bound01(Be,100);var Ue=We.floor(Ee),$e=Ee-Ue,Qe=Be*(1-ze),et=Be*(1-$e*ze),tt=Be*(1-(1-$e)*ze),rt=Ue%6;return{r:255*[Be,et,Qe,Qe,tt,Be][rt],g:255*[tt,Be,Be,et,Qe,Qe][rt],b:255*[Qe,Qe,tt,Be,Be,et][rt]}}(Ee.h,Ue,et),at=!0,ct="hsv"):isValidCSSUnit(Ee.h)&&isValidCSSUnit(Ee.s)&&isValidCSSUnit(Ee.l)&&(Ue=convertToPercentage(Ee.s),tt=convertToPercentage(Ee.l),ze=function hslToRgb(Ee,ze,Be){var Ue,We,$e;function hue2rgb(Ee,ze,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Ee+6*(ze-Ee)*Be:Be<.5?ze:Be<2/3?Ee+(ze-Ee)*(2/3-Be)*6:Ee}if(Ee=bound01(Ee,360),ze=bound01(ze,100),Be=bound01(Be,100),0===ze)Ue=We=$e=Be;else{var Qe=Be<.5?Be*(1+ze):Be+ze-Be*ze,et=2*Be-Qe;Ue=hue2rgb(et,Qe,Ee+1/3),We=hue2rgb(et,Qe,Ee),$e=hue2rgb(et,Qe,Ee-1/3)}return{r:255*Ue,g:255*We,b:255*$e}}(Ee.h,Ue,tt),at=!0,ct="hsl"),Ee.hasOwnProperty("a")&&(Be=Ee.a));return Be=boundAlpha(Be),{ok:at,format:Ee.format||ct,r:rt(255,nt(ze.r,0)),g:rt(255,nt(ze.g,0)),b:rt(255,nt(ze.b,0)),a:Be}}(Ee);this._originalInput=Ee,this._r=Be.r,this._g=Be.g,this._b=Be.b,this._a=Be.a,this._roundA=tt(100*this._a)/100,this._format=ze.format||Be.format,this._gradientType=ze.gradientType,this._r<1&&(this._r=tt(this._r)),this._g<1&&(this._g=tt(this._g)),this._b<1&&(this._b=tt(this._b)),this._ok=Be.ok,this._tc_id=et++}function rgbToHsl(Ee,ze,Be){Ee=bound01(Ee,255),ze=bound01(ze,255),Be=bound01(Be,255);var Ue,We,$e=nt(Ee,ze,Be),Qe=rt(Ee,ze,Be),et=($e+Qe)/2;if($e==Qe)Ue=We=0;else{var tt=$e-Qe;switch(We=et>.5?tt/(2-$e-Qe):tt/($e+Qe),$e){case Ee:Ue=(ze-Be)/tt+(ze<Be?6:0);break;case ze:Ue=(Be-Ee)/tt+2;break;case Be:Ue=(Ee-ze)/tt+4}Ue/=6}return{h:Ue,s:We,l:et}}function rgbToHsv(Ee,ze,Be){Ee=bound01(Ee,255),ze=bound01(ze,255),Be=bound01(Be,255);var Ue,We,$e=nt(Ee,ze,Be),Qe=rt(Ee,ze,Be),et=$e,tt=$e-Qe;if(We=0===$e?0:tt/$e,$e==Qe)Ue=0;else{switch($e){case Ee:Ue=(ze-Be)/tt+(ze<Be?6:0);break;case ze:Ue=(Be-Ee)/tt+2;break;case Be:Ue=(Ee-ze)/tt+4}Ue/=6}return{h:Ue,s:We,v:et}}function rgbToHex(Ee,ze,Be,Ue){var We=[pad2(tt(Ee).toString(16)),pad2(tt(ze).toString(16)),pad2(tt(Be).toString(16))];return Ue&&We[0].charAt(0)==We[0].charAt(1)&&We[1].charAt(0)==We[1].charAt(1)&&We[2].charAt(0)==We[2].charAt(1)?We[0].charAt(0)+We[1].charAt(0)+We[2].charAt(0):We.join("")}function rgbaToArgbHex(Ee,ze,Be,Ue){return[pad2(convertDecimalToHex(Ue)),pad2(tt(Ee).toString(16)),pad2(tt(ze).toString(16)),pad2(tt(Be).toString(16))].join("")}function desaturate(Ee,ze){ze=0===ze?0:ze||10;var Be=tinycolor(Ee).toHsl();return Be.s-=ze/100,Be.s=clamp01(Be.s),tinycolor(Be)}function saturate(Ee,ze){ze=0===ze?0:ze||10;var Be=tinycolor(Ee).toHsl();return Be.s+=ze/100,Be.s=clamp01(Be.s),tinycolor(Be)}function greyscale(Ee){return tinycolor(Ee).desaturate(100)}function lighten(Ee,ze){ze=0===ze?0:ze||10;var Be=tinycolor(Ee).toHsl();return Be.l+=ze/100,Be.l=clamp01(Be.l),tinycolor(Be)}function brighten(Ee,ze){ze=0===ze?0:ze||10;var Be=tinycolor(Ee).toRgb();return Be.r=nt(0,rt(255,Be.r-tt(-ze/100*255))),Be.g=nt(0,rt(255,Be.g-tt(-ze/100*255))),Be.b=nt(0,rt(255,Be.b-tt(-ze/100*255))),tinycolor(Be)}function darken(Ee,ze){ze=0===ze?0:ze||10;var Be=tinycolor(Ee).toHsl();return Be.l-=ze/100,Be.l=clamp01(Be.l),tinycolor(Be)}function spin(Ee,ze){var Be=tinycolor(Ee).toHsl(),Ue=(Be.h+ze)%360;return Be.h=Ue<0?360+Ue:Ue,tinycolor(Be)}function complement(Ee){var ze=tinycolor(Ee).toHsl();return ze.h=(ze.h+180)%360,tinycolor(ze)}function triad(Ee){var ze=tinycolor(Ee).toHsl(),Be=ze.h;return[tinycolor(Ee),tinycolor({h:(Be+120)%360,s:ze.s,l:ze.l}),tinycolor({h:(Be+240)%360,s:ze.s,l:ze.l})]}function tetrad(Ee){var ze=tinycolor(Ee).toHsl(),Be=ze.h;return[tinycolor(Ee),tinycolor({h:(Be+90)%360,s:ze.s,l:ze.l}),tinycolor({h:(Be+180)%360,s:ze.s,l:ze.l}),tinycolor({h:(Be+270)%360,s:ze.s,l:ze.l})]}function splitcomplement(Ee){var ze=tinycolor(Ee).toHsl(),Be=ze.h;return[tinycolor(Ee),tinycolor({h:(Be+72)%360,s:ze.s,l:ze.l}),tinycolor({h:(Be+216)%360,s:ze.s,l:ze.l})]}function analogous(Ee,ze,Be){ze=ze||6,Be=Be||30;var Ue=tinycolor(Ee).toHsl(),We=360/Be,$e=[tinycolor(Ee)];for(Ue.h=(Ue.h-(We*ze>>1)+720)%360;--ze;)Ue.h=(Ue.h+We)%360,$e.push(tinycolor(Ue));return $e}function monochromatic(Ee,ze){ze=ze||6;for(var Be=tinycolor(Ee).toHsv(),Ue=Be.h,We=Be.s,$e=Be.v,Qe=[],et=1/ze;ze--;)Qe.push(tinycolor({h:Ue,s:We,v:$e})),$e=($e+et)%1;return Qe}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ee=this.toRgb();return(299*Ee.r+587*Ee.g+114*Ee.b)/1e3},getLuminance:function(){var Ee,ze,Be,Ue=this.toRgb();return Ee=Ue.r/255,ze=Ue.g/255,Be=Ue.b/255,.2126*(Ee<=.03928?Ee/12.92:We.pow((Ee+.055)/1.055,2.4))+.7152*(ze<=.03928?ze/12.92:We.pow((ze+.055)/1.055,2.4))+.0722*(Be<=.03928?Be/12.92:We.pow((Be+.055)/1.055,2.4))},setAlpha:function(Ee){return this._a=boundAlpha(Ee),this._roundA=tt(100*this._a)/100,this},toHsv:function(){var Ee=rgbToHsv(this._r,this._g,this._b);return{h:360*Ee.h,s:Ee.s,v:Ee.v,a:this._a}},toHsvString:function(){var Ee=rgbToHsv(this._r,this._g,this._b),ze=tt(360*Ee.h),Be=tt(100*Ee.s),Ue=tt(100*Ee.v);return 1==this._a?"hsv("+ze+", "+Be+"%, "+Ue+"%)":"hsva("+ze+", "+Be+"%, "+Ue+"%, "+this._roundA+")"},toHsl:function(){var Ee=rgbToHsl(this._r,this._g,this._b);return{h:360*Ee.h,s:Ee.s,l:Ee.l,a:this._a}},toHslString:function(){var Ee=rgbToHsl(this._r,this._g,this._b),ze=tt(360*Ee.h),Be=tt(100*Ee.s),Ue=tt(100*Ee.l);return 1==this._a?"hsl("+ze+", "+Be+"%, "+Ue+"%)":"hsla("+ze+", "+Be+"%, "+Ue+"%, "+this._roundA+")"},toHex:function(Ee){return rgbToHex(this._r,this._g,this._b,Ee)},toHexString:function(Ee){return"#"+this.toHex(Ee)},toHex8:function(Ee){return function rgbaToHex(Ee,ze,Be,Ue,We){var $e=[pad2(tt(Ee).toString(16)),pad2(tt(ze).toString(16)),pad2(tt(Be).toString(16)),pad2(convertDecimalToHex(Ue))];if(We&&$e[0].charAt(0)==$e[0].charAt(1)&&$e[1].charAt(0)==$e[1].charAt(1)&&$e[2].charAt(0)==$e[2].charAt(1)&&$e[3].charAt(0)==$e[3].charAt(1))return $e[0].charAt(0)+$e[1].charAt(0)+$e[2].charAt(0)+$e[3].charAt(0);return $e.join("")}(this._r,this._g,this._b,this._a,Ee)},toHex8String:function(Ee){return"#"+this.toHex8(Ee)},toRgb:function(){return{r:tt(this._r),g:tt(this._g),b:tt(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+tt(this._r)+", "+tt(this._g)+", "+tt(this._b)+")":"rgba("+tt(this._r)+", "+tt(this._g)+", "+tt(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:tt(100*bound01(this._r,255))+"%",g:tt(100*bound01(this._g,255))+"%",b:tt(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+tt(100*bound01(this._r,255))+"%, "+tt(100*bound01(this._g,255))+"%, "+tt(100*bound01(this._b,255))+"%)":"rgba("+tt(100*bound01(this._r,255))+"%, "+tt(100*bound01(this._g,255))+"%, "+tt(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(ct[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Ee){var ze="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),Be=ze,Ue=this._gradientType?"GradientType = 1, ":"";if(Ee){var We=tinycolor(Ee);Be="#"+rgbaToArgbHex(We._r,We._g,We._b,We._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ue+"startColorstr="+ze+",endColorstr="+Be+")"},toString:function(Ee){var ze=!!Ee;Ee=Ee||this._format;var Be=!1,Ue=this._a<1&&this._a>=0;return ze||!Ue||"hex"!==Ee&&"hex6"!==Ee&&"hex3"!==Ee&&"hex4"!==Ee&&"hex8"!==Ee&&"name"!==Ee?("rgb"===Ee&&(Be=this.toRgbString()),"prgb"===Ee&&(Be=this.toPercentageRgbString()),"hex"!==Ee&&"hex6"!==Ee||(Be=this.toHexString()),"hex3"===Ee&&(Be=this.toHexString(!0)),"hex4"===Ee&&(Be=this.toHex8String(!0)),"hex8"===Ee&&(Be=this.toHex8String()),"name"===Ee&&(Be=this.toName()),"hsl"===Ee&&(Be=this.toHslString()),"hsv"===Ee&&(Be=this.toHsvString()),Be||this.toHexString()):"name"===Ee&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(Ee,ze){var Be=Ee.apply(null,[this].concat([].slice.call(ze)));return this._r=Be._r,this._g=Be._g,this._b=Be._b,this.setAlpha(Be._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(Ee,ze){return Ee.apply(null,[this].concat([].slice.call(ze)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(Ee,ze){if("object"==typeof Ee){var Be={};for(var Ue in Ee)Ee.hasOwnProperty(Ue)&&(Be[Ue]="a"===Ue?Ee[Ue]:convertToPercentage(Ee[Ue]));Ee=Be}return tinycolor(Ee,ze)},tinycolor.equals=function(Ee,ze){return!(!Ee||!ze)&&tinycolor(Ee).toRgbString()==tinycolor(ze).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:at(),g:at(),b:at()})},tinycolor.mix=function(Ee,ze,Be){Be=0===Be?0:Be||50;var Ue=tinycolor(Ee).toRgb(),We=tinycolor(ze).toRgb(),$e=Be/100;return tinycolor({r:(We.r-Ue.r)*$e+Ue.r,g:(We.g-Ue.g)*$e+Ue.g,b:(We.b-Ue.b)*$e+Ue.b,a:(We.a-Ue.a)*$e+Ue.a})},tinycolor.readability=function(Ee,ze){var Be=tinycolor(Ee),Ue=tinycolor(ze);return(We.max(Be.getLuminance(),Ue.getLuminance())+.05)/(We.min(Be.getLuminance(),Ue.getLuminance())+.05)},tinycolor.isReadable=function(Ee,ze,Be){var Ue,We,$e=tinycolor.readability(Ee,ze);switch(We=!1,(Ue=function validateWCAG2Parms(Ee){var ze,Be;ze=((Ee=Ee||{level:"AA",size:"small"}).level||"AA").toUpperCase(),Be=(Ee.size||"small").toLowerCase(),"AA"!==ze&&"AAA"!==ze&&(ze="AA");"small"!==Be&&"large"!==Be&&(Be="small");return{level:ze,size:Be}}(Be)).level+Ue.size){case"AAsmall":case"AAAlarge":We=$e>=4.5;break;case"AAlarge":We=$e>=3;break;case"AAAsmall":We=$e>=7}return We},tinycolor.mostReadable=function(Ee,ze,Be){var Ue,We,$e,Qe,et=null,tt=0;We=(Be=Be||{}).includeFallbackColors,$e=Be.level,Qe=Be.size;for(var rt=0;rt<ze.length;rt++)(Ue=tinycolor.readability(Ee,ze[rt]))>tt&&(tt=Ue,et=tinycolor(ze[rt]));return tinycolor.isReadable(Ee,et,{level:$e,size:Qe})||!We?et:(Be.includeFallbackColors=!1,tinycolor.mostReadable(Ee,["#fff","#000"],Be))};var it=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ct=tinycolor.hexNames=function flip(Ee){var ze={};for(var Be in Ee)Ee.hasOwnProperty(Be)&&(ze[Ee[Be]]=Be);return ze}(it);function boundAlpha(Ee){return Ee=parseFloat(Ee),(isNaN(Ee)||Ee<0||Ee>1)&&(Ee=1),Ee}function bound01(Ee,ze){(function isOnePointZero(Ee){return"string"==typeof Ee&&-1!=Ee.indexOf(".")&&1===parseFloat(Ee)})(Ee)&&(Ee="100%");var Be=function isPercentage(Ee){return"string"==typeof Ee&&-1!=Ee.indexOf("%")}(Ee);return Ee=rt(ze,nt(0,parseFloat(Ee))),Be&&(Ee=parseInt(Ee*ze,10)/100),We.abs(Ee-ze)<1e-6?1:Ee%ze/parseFloat(ze)}function clamp01(Ee){return rt(1,nt(0,Ee))}function parseIntFromHex(Ee){return parseInt(Ee,16)}function pad2(Ee){return 1==Ee.length?"0"+Ee:""+Ee}function convertToPercentage(Ee){return Ee<=1&&(Ee=100*Ee+"%"),Ee}function convertDecimalToHex(Ee){return We.round(255*parseFloat(Ee)).toString(16)}function convertHexToDecimal(Ee){return parseIntFromHex(Ee)/255}var ft,xt,kt,Lt=(xt="[\\s|\\(]+("+(ft="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")\\s*\\)?",kt="[\\s|\\(]+("+ft+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")\\s*\\)?",{CSS_UNIT:new RegExp(ft),rgb:new RegExp("rgb"+xt),rgba:new RegExp("rgba"+kt),hsl:new RegExp("hsl"+xt),hsla:new RegExp("hsla"+kt),hsv:new RegExp("hsv"+xt),hsva:new RegExp("hsva"+kt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function isValidCSSUnit(Ee){return!!Lt.CSS_UNIT.exec(Ee)}Ee.exports?Ee.exports=tinycolor:void 0===(Ue=function(){return tinycolor}.call(ze,Be,ze,Ee))||(Ee.exports=Ue)}(Math)},"66db":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("5047"),Qe=Be("59be"),et=Be("eb07"),tt=Be("e9f7"),rt=Be("3802"),nt=Be("de69").PTS_LINESONLY,at=Be("8a6e");function handleRThetaDefaults(Ee,ze,Be,Ue){var We,$e=Ue("r"),Qe=Ue("theta");if($e)Qe?We=Math.min($e.length,Qe.length):(We=$e.length,Ue("theta0"),Ue("dtheta"));else{if(!Qe)return 0;We=ze.theta.length,Ue("r0"),Ue("dr")}return ze._length=We,We}Ee.exports={handleRThetaDefaults:handleRThetaDefaults,supplyDefaults:function supplyDefaults(Ee,ze,Be,it){function coerce(Be,We){return Ue.coerce(Ee,ze,at,Be,We)}var ct=handleRThetaDefaults(Ee,ze,it,coerce);if(ct){coerce("thetaunit"),coerce("mode",ct<nt?"lines+markers":"lines"),coerce("text"),coerce("hovertext"),"fills"!==ze.hoveron&&coerce("hovertemplate"),We.hasLines(ze)&&(Qe(Ee,ze,Be,it,coerce),et(Ee,ze,coerce),coerce("connectgaps")),We.hasMarkers(ze)&&$e(Ee,ze,Be,it,coerce,{gradient:!0}),We.hasText(ze)&&(coerce("texttemplate"),tt(Ee,ze,it,coerce));var ft=[];(We.hasMarkers(ze)||We.hasText(ze))&&(coerce("cliponaxis"),coerce("marker.maxdisplayed"),ft.push("points")),coerce("fill"),"none"!==ze.fill&&(rt(Ee,ze,Be,coerce),We.hasLines(ze)||et(Ee,ze,coerce)),"tonext"!==ze.fill&&"toself"!==ze.fill||ft.push("fills"),coerce("hoveron",ft.join("+")||"points"),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}}},6726:function(Ee,ze,Be){"use strict";function parse(Ee,ze){if("string"!=typeof Ee)return[Ee];var Be=[Ee];"string"==typeof ze||Array.isArray(ze)?ze={brackets:ze}:ze||(ze={});var Ue=ze.brackets?Array.isArray(ze.brackets)?ze.brackets:[ze.brackets]:["{}","[]","()"],We=ze.escape||"___",$e=!!ze.flat;Ue.forEach((function(Ee){var ze=new RegExp(["\\",Ee[0],"[^\\",Ee[0],"\\",Ee[1],"]*\\",Ee[1]].join("")),Ue=[];function replaceToken(ze,$e,Qe){var et=Be.push(ze.slice(Ee[0].length,-Ee[1].length))-1;return Ue.push(et),We+et+We}Be.forEach((function(Ee,Ue){for(var We,$e=0;Ee!=We;)if(We=Ee,Ee=Ee.replace(ze,replaceToken),$e++>1e4)throw Error("References have circular dependency. Please, check them.");Be[Ue]=Ee})),Ue=Ue.reverse(),Be=Be.map((function(ze){return Ue.forEach((function(Be){ze=ze.replace(new RegExp("(\\"+We+Be+"\\"+We+")","g"),Ee[0]+"$1"+Ee[1])})),ze}))}));var Qe=new RegExp("\\"+We+"([0-9]+)\\"+We);return $e?Be:function nest(Ee,ze,Be){for(var Ue,We=[],$e=0;Ue=Qe.exec(Ee);){if($e++>1e4)throw Error("Circular references in parenthesis");We.push(Ee.slice(0,Ue.index)),We.push(nest(ze[Ue[1]],ze)),Ee=Ee.slice(Ue.index+Ue[0].length)}return We.push(Ee),We}(Be[0],Be)}function stringify(Ee,ze){if(ze&&ze.flat){var Be,Ue=ze&&ze.escape||"___",We=Ee[0];if(!We)return"";for(var $e=new RegExp("\\"+Ue+"([0-9]+)\\"+Ue),Qe=0;We!=Be;){if(Qe++>1e4)throw Error("Circular references in "+Ee);Be=We,We=We.replace($e,replaceRef)}return We}return Ee.reduce((function f(Ee,ze){return Array.isArray(ze)&&(ze=ze.reduce(f,"")),Ee+ze}),"");function replaceRef(ze,Be){if(null==Ee[Be])throw Error("Reference "+Be+"is undefined");return Ee[Be]}}function parenthesis(Ee,ze){return Array.isArray(Ee)?stringify(Ee,ze):parse(Ee,ze)}parenthesis.parse=parse,parenthesis.stringify=stringify,Ee.exports=parenthesis},"67c4":function(Ee,ze,Be){"use strict";var Ue=Be("d798"),We=Be("9845"),$e=Be("9092").extendFlat,Qe=Be("cb34").overrideAll;Ee.exports=Qe({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:Ue.linecolor,outlinewidth:Ue.linewidth,bordercolor:Ue.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:Ue.tickmode,nticks:Ue.nticks,tick0:Ue.tick0,dtick:Ue.dtick,tickvals:Ue.tickvals,ticktext:Ue.ticktext,ticks:$e({},Ue.ticks,{dflt:""}),ticklen:Ue.ticklen,tickwidth:Ue.tickwidth,tickcolor:Ue.tickcolor,showticklabels:Ue.showticklabels,tickfont:We({}),tickangle:Ue.tickangle,tickformat:Ue.tickformat,tickformatstops:Ue.tickformatstops,tickprefix:Ue.tickprefix,showtickprefix:Ue.showtickprefix,ticksuffix:Ue.ticksuffix,showticksuffix:Ue.showticksuffix,separatethousands:Ue.separatethousands,exponentformat:Ue.exponentformat,showexponent:Ue.showexponent,title:{text:{valType:"string"},font:We({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:We({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},"67f2":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("5047"),Qe=Be("59be"),et=Be("e9f7"),tt=Be("3802"),rt=Be("74b4");Ee.exports=function supplyDefaults(Ee,ze,Be,nt){function coerce(Be,We){return Ue.coerce(Ee,ze,rt,Be,We)}if(function handleLonLatDefaults(Ee,ze,Be){var Ue=Be("lon")||[],We=Be("lat")||[],$e=Math.min(Ue.length,We.length);return ze._length=$e,$e}(0,ze,coerce)){if(coerce("text"),coerce("texttemplate"),coerce("hovertext"),coerce("hovertemplate"),coerce("mode"),coerce("below"),We.hasLines(ze)&&(Qe(Ee,ze,Be,nt,coerce,{noDash:!0}),coerce("connectgaps")),We.hasMarkers(ze)){$e(Ee,ze,Be,nt,coerce,{noLine:!0});var at=ze.marker;"circle"!==at.symbol&&(Ue.isArrayOrTypedArray(at.size)&&(at.size=at.size[0]),Ue.isArrayOrTypedArray(at.color)&&(at.color=at.color[0]))}We.hasText(ze)&&et(Ee,ze,nt,coerce,{noSelect:!0}),coerce("fill"),"none"!==ze.fill&&tt(Ee,ze,Be,coerce),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},6833:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("66cb"),$e=Be("fc26").isArrayOrTypedArray;ze.coerceString=function(Ee,ze,Be){if("string"==typeof ze){if(ze||!Ee.noBlank)return ze}else if(("number"==typeof ze||!0===ze)&&!Ee.strict)return String(ze);return void 0!==Be?Be:Ee.dflt},ze.coerceNumber=function(Ee,ze,Be){if(Ue(ze)){ze=+ze;var We=Ee.min,$e=Ee.max;if(!(void 0!==We&&ze<We||void 0!==$e&&ze>$e))return ze}return void 0!==Be?Be:Ee.dflt},ze.coerceColor=function(Ee,ze,Be){return We(ze).isValid()?ze:void 0!==Be?Be:Ee.dflt},ze.coerceEnumerated=function(Ee,ze,Be){return Ee.coerceNumber&&(ze=+ze),-1!==Ee.values.indexOf(ze)?ze:void 0!==Be?Be:Ee.dflt},ze.getValue=function(Ee,ze){var Be;return Array.isArray(Ee)?ze<Ee.length&&(Be=Ee[ze]):Be=Ee,Be},ze.getLineWidth=function(Ee,ze){return 0<ze.mlw?ze.mlw:$e(Ee.marker.line.width)?0:Ee.marker.line.width}},6858:function(Ee,ze,Be){"use strict";Ee.exports=Be("cecf")("forEach")},"68e6":function(Ee,ze,Be){"use strict";var Ue=Be("2160");Ee.exports=function(Ee){if(!Ue(Ee))throw new TypeError(Ee+" is not an Object");return Ee}},6921:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("a876"),Qe=Be("a685"),et=Be("a9cb"),tt=Be("5b68"),rt=Be("3ff5").configAttributes,nt=Be("fa06"),at=Be("b7b8"),it=Be("cb34"),ct=We.extendFlat,ft=We.extendDeepAll,xt=We.isPlainObject,kt=We.isArrayOrTypedArray,Lt=We.nestedProperty,Ut=We.valObjectMeta,er=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function recurseIntoValObject(Ee,ze,Be){if(!Ee)return!1;if(Ee._isLinkedToArray)if(isIndex(ze[Be]))Be++;else if(Be<ze.length)return!1;for(;Be<ze.length;Be++){var Ue=Ee[ze[Be]];if(!xt(Ue))break;if(Ee=Ue,Be===ze.length-1)break;if(Ee._isLinkedToArray){if(!isIndex(ze[++Be]))return!1}else if("info_array"===Ee.valType){var We=ze[++Be];if(!isIndex(We))return!1;var $e=Ee.items;if(Array.isArray($e)){if(We>=$e.length)return!1;if(2===Ee.dimensions){if(Be++,ze.length===Be)return Ee;var Qe=ze[Be];if(!isIndex(Qe))return!1;Ee=$e[We][Qe]}else Ee=$e[We]}else Ee=$e}}return Ee}function isIndex(Ee){return Ee===Math.round(Ee)&&Ee>=0}function getLayoutAttributes(){var Ee,ze,Be={};for(Ee in ft(Be,Qe),Ue.subplotsRegistry){if((ze=Ue.subplotsRegistry[Ee]).layoutAttributes)if(Array.isArray(ze.attr))for(var We=0;We<ze.attr.length;We++)handleBasePlotModule(Be,ze,ze.attr[We]);else handleBasePlotModule(Be,ze,"subplot"===ze.attr?ze.name:ze.attr)}for(Ee in Be=function assignPolarLayoutAttrs(Ee){return ct(Ee,{radialaxis:at.radialaxis,angularaxis:at.angularaxis}),ct(Ee,at.layout),Ee}(Be),Ue.componentsRegistry){var $e=(ze=Ue.componentsRegistry[Ee]).schema;if($e&&($e.subplots||$e.layout)){var et=$e.subplots;if(et&&et.xaxis&&!et.yaxis)for(var tt in et.xaxis)delete Be.yaxis[tt]}else"colorscale"===ze.name?ft(Be,ze.layoutAttributes):ze.layoutAttributes&&insertAttrs(Be,ze.layoutAttributes,ze.name)}return{layoutAttributes:formatAttributes(Be)}}function getFramesAttributes(){var Ee={frames:ft({},et)};return formatAttributes(Ee),Ee.frames}function formatAttributes(Ee){return function mergeValTypeAndRole(Ee){ze.crawl(Ee,(function callback(Ee,Be,Ue){ze.isValObject(Ee)?"data_array"===Ee.valType?(Ee.role="data",Ue[Be+"src"]={valType:"string",editType:"none"}):!0===Ee.arrayOk&&(Ue[Be+"src"]={valType:"string",editType:"none"}):xt(Ee)&&(Ee.role="object")}))}(Ee),function formatArrayContainers(Ee){ze.crawl(Ee,(function callback(Ee,ze,Be){if(Ee){var Ue=Ee._isLinkedToArray;Ue&&(delete Ee._isLinkedToArray,Be[ze]={items:{}},Be[ze].items[Ue]=Ee,Be[ze].role="object")}}))}(Ee),function stringify(Ee){!function walk(Ee){for(var ze in Ee)if(xt(Ee[ze]))walk(Ee[ze]);else if(Array.isArray(Ee[ze]))for(var Be=0;Be<Ee[ze].length;Be++)walk(Ee[ze][Be]);else Ee[ze]instanceof RegExp&&(Ee[ze]=Ee[ze].toString())}(Ee)}(Ee),Ee}function handleBasePlotModule(Ee,ze,Be){var Ue=Lt(Ee,Be),We=ft({},ze.layoutAttributes);We._isSubplotObj=!0,Ue.set(We)}function insertAttrs(Ee,ze,Be){var Ue=Lt(Ee,Be);Ue.set(ft(Ue.get()||{},ze))}ze.IS_SUBPLOT_OBJ="_isSubplotObj",ze.IS_LINKED_TO_ARRAY="_isLinkedToArray",ze.DEPRECATED="_deprecated",ze.UNDERSCORE_ATTRS=er,ze.get=function(){var Ee={};Ue.allTypes.concat("area").forEach((function(Be){Ee[Be]=function getTraceAttributes(Ee){var Be,We;"area"===Ee?(Be={attributes:nt},We={}):(Be=Ue.modules[Ee]._module,We=Be.basePlotModule);var Qe={type:null},et=ft({},$e),tt=ft({},Be.attributes);ze.crawl(tt,(function(Ee,ze,Be,Ue,We){Lt(et,We).set(void 0),void 0===Ee&&Lt(tt,We).set(void 0)})),ft(Qe,et),Ue.traceIs(Ee,"noOpacity")&&delete Qe.opacity;Ue.traceIs(Ee,"showLegend")||(delete Qe.showlegend,delete Qe.legendgroup);Ue.traceIs(Ee,"noHover")&&(delete Qe.hoverinfo,delete Qe.hoverlabel);Be.selectPoints||delete Qe.selectedpoints;ft(Qe,tt),We.attributes&&ft(Qe,We.attributes);Qe.type=Ee;var rt={meta:Be.meta||{},categories:Be.categories||{},animatable:Boolean(Be.animatable),type:Ee,attributes:formatAttributes(Qe)};if(Be.layoutAttributes){var at={};ft(at,Be.layoutAttributes),rt.layoutAttributes=formatAttributes(at)}Be.animatable||ze.crawl(rt,(function(Ee){ze.isValObject(Ee)&&"anim"in Ee&&delete Ee.anim}));return rt}(Be)}));var Be={};return Object.keys(Ue.transformsRegistry).forEach((function(Ee){Be[Ee]=function getTransformAttributes(Ee){var ze=Ue.transformsRegistry[Ee],Be=ft({},ze.attributes);return Object.keys(Ue.componentsRegistry).forEach((function(ze){var We=Ue.componentsRegistry[ze];We.schema&&We.schema.transforms&&We.schema.transforms[Ee]&&Object.keys(We.schema.transforms[Ee]).forEach((function(ze){insertAttrs(Be,We.schema.transforms[Ee][ze],ze)}))})),{attributes:formatAttributes(Be)}}(Ee)})),{defs:{valObjects:Ut,metaKeys:er.concat(["description","role","editType","impliedEdits"]),editType:{traces:it.traces,layout:it.layout},impliedEdits:{}},traces:Ee,layout:getLayoutAttributes(),transforms:Be,frames:getFramesAttributes(),animation:formatAttributes(tt),config:formatAttributes(rt)}},ze.crawl=function(Ee,Be,Ue,We){var $e=Ue||0;We=We||"",Object.keys(Ee).forEach((function(Ue){var Qe=Ee[Ue];if(-1===er.indexOf(Ue)){var et=(We?We+".":"")+Ue;Be(Qe,Ue,Ee,$e,et),ze.isValObject(Qe)||xt(Qe)&&"impliedEdits"!==Ue&&ze.crawl(Qe,Be,$e+1,et)}}))},ze.isValObject=function(Ee){return Ee&&void 0!==Ee.valType},ze.findArrayAttributes=function(Ee){var Be,Ue,We=[],Qe=[],et=[];function callback(Ee,ze,$e,tt){Qe=Qe.slice(0,tt).concat([ze]),et=et.slice(0,tt).concat([Ee&&Ee._isLinkedToArray]),Ee&&("data_array"===Ee.valType||!0===Ee.arrayOk)&&!("colorbar"===Qe[tt-1]&&("ticktext"===ze||"tickvals"===ze))&&function crawlIntoTrace(Ee,ze,Be){var $e=Ee[Qe[ze]],tt=Be+Qe[ze];if(ze===Qe.length-1)kt($e)&&We.push(Ue+tt);else if(et[ze]){if(Array.isArray($e))for(var rt=0;rt<$e.length;rt++)xt($e[rt])&&crawlIntoTrace($e[rt],ze+1,tt+"["+rt+"].")}else xt($e)&&crawlIntoTrace($e,ze+1,tt+".")}(Be,0,"")}Be=Ee,Ue="",ze.crawl($e,callback),Ee._module&&Ee._module.attributes&&ze.crawl(Ee._module.attributes,callback);var tt=Ee.transforms;if(tt)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],at=nt._module;at&&(Ue="transforms["+rt+"].",Be=nt,ze.crawl(at.attributes,callback))}return We},ze.getTraceValObject=function(Ee,ze){var Be,We,Qe=ze[0],et=1;if("transforms"===Qe){if(1===ze.length)return $e.transforms;var tt=Ee.transforms;if(!Array.isArray(tt)||!tt.length)return!1;var rt=ze[1];if(!isIndex(rt)||rt>=tt.length)return!1;We=(Be=(Ue.transformsRegistry[tt[rt].type]||{}).attributes)&&Be[ze[2]],et=3}else if("area"===Ee.type)We=nt[Qe];else{var at=Ee._module;if(at||(at=(Ue.modules[Ee.type||$e.type.dflt]||{})._module),!at)return!1;if(!(We=(Be=at.attributes)&&Be[Qe])){var it=at.basePlotModule;it&&it.attributes&&(We=it.attributes[Qe])}We||(We=$e[Qe])}return recurseIntoValObject(We,ze,et)},ze.getLayoutValObject=function(Ee,ze){return recurseIntoValObject(function layoutHeadAttr(Ee,ze){var Be,We,$e,et,tt=Ee._basePlotModules;if(tt){var rt;for(Be=0;Be<tt.length;Be++){if(($e=tt[Be]).attrRegex&&$e.attrRegex.test(ze)){if($e.layoutAttrOverrides)return $e.layoutAttrOverrides;!rt&&$e.layoutAttributes&&(rt=$e.layoutAttributes)}var nt=$e.baseLayoutAttrOverrides;if(nt&&ze in nt)return nt[ze]}if(rt)return rt}var it=Ee._modules;if(it)for(Be=0;Be<it.length;Be++)if((et=it[Be].layoutAttributes)&&ze in et)return et[ze];for(We in Ue.componentsRegistry){if("colorscale"===($e=Ue.componentsRegistry[We]).name&&0===ze.indexOf("coloraxis"))return $e.layoutAttributes[ze];if(!$e.schema&&ze===$e.name)return $e.layoutAttributes}if(ze in Qe)return Qe[ze];if("radialaxis"===ze||"angularaxis"===ze)return at[ze];return at.layout[ze]||!1}(Ee,ze[0]),ze,1)}},"692b":function(Ee,ze,Be){"use strict";var Ue=Object.prototype.toString,We=Ue.call("");Ee.exports=function(Ee){return"string"==typeof Ee||Ee&&"object"==typeof Ee&&(Ee instanceof String||Ue.call(Ee)===We)||!1}},6954:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("c258"),et=Be("0379"),tt=Be("0642"),rt=Be("1a40"),nt=Be("fa8a"),at=Be("da89"),it=Be("f50a"),ct=Be("3511"),ft=Be("849d"),xt=Be("c997"),kt=Be("8e43"),Lt=kt.LABELOPTIMIZER;function joinAllPaths(Ee,ze){var Be,Ue,Qe,et,tt,rt,nt,at="",it=0,ct=Ee.edgepaths.map((function(Ee,ze){return ze})),ft=!0;function isbottom(Ee){return Math.abs(Ee[1]-ze[2][1])<.01}function isleft(Ee){return Math.abs(Ee[0]-ze[0][0])<.01}function isright(Ee){return Math.abs(Ee[0]-ze[2][0])<.01}for(;ct.length;){for(rt=$e.smoothopen(Ee.edgepaths[it],Ee.smoothing),at+=ft?rt:rt.replace(/^M/,"L"),ct.splice(ct.indexOf(it),1),Be=Ee.edgepaths[it][Ee.edgepaths[it].length-1],et=-1,Qe=0;Qe<4;Qe++){if(!Be){We.log("Missing end?",it,Ee);break}for(nt=Be,Math.abs(nt[1]-ze[0][1])<.01&&!isright(Be)?Ue=ze[1]:isleft(Be)?Ue=ze[0]:isbottom(Be)?Ue=ze[3]:isright(Be)&&(Ue=ze[2]),tt=0;tt<Ee.edgepaths.length;tt++){var xt=Ee.edgepaths[tt][0];Math.abs(Be[0]-Ue[0])<.01?Math.abs(Be[0]-xt[0])<.01&&(xt[1]-Be[1])*(Ue[1]-xt[1])>=0&&(Ue=xt,et=tt):Math.abs(Be[1]-Ue[1])<.01?Math.abs(Be[1]-xt[1])<.01&&(xt[0]-Be[0])*(Ue[0]-xt[0])>=0&&(Ue=xt,et=tt):We.log("endpt to newendpt is not vert. or horz.",Be,Ue,xt)}if(Be=Ue,et>=0)break;at+="L"+Ue}if(et===Ee.edgepaths.length){We.log("unclosed perimeter path");break}it=et,(ft=-1===ct.indexOf(it))&&(it=ct[0],at+="Z")}for(it=0;it<Ee.paths.length;it++)at+=$e.smoothclosed(Ee.paths[it],Ee.smoothing);return at}function locationCost(Ee,ze,Be,Ue){var $e=ze.width/2,Qe=ze.height/2,et=Ee.x,tt=Ee.y,rt=Ee.theta,nt=Math.cos(rt)*$e,at=Math.sin(rt)*$e,it=(et>Ue.center?Ue.right-et:et-Ue.left)/(nt+Math.abs(Math.sin(rt)*Qe)),ct=(tt>Ue.middle?Ue.bottom-tt:tt-Ue.top)/(Math.abs(at)+Math.cos(rt)*Qe);if(it<1||ct<1)return 1/0;var ft=Lt.EDGECOST*(1/(it-1)+1/(ct-1));ft+=Lt.ANGLECOST*rt*rt;for(var xt=et-nt,kt=tt-at,Ut=et+nt,er=tt+at,tr=0;tr<Be.length;tr++){var rr=Be[tr],ar=Math.cos(rr.theta)*rr.width/2,Lr=Math.sin(rr.theta)*rr.width/2,Qr=2*We.segmentDistance(xt,kt,Ut,er,rr.x-ar,rr.y-Lr,rr.x+ar,rr.y+Lr)/(ze.height+rr.height),on=rr.level===ze.level,sn=on?Lt.SAMELEVELDISTANCE:1;if(Qr<=sn)return 1/0;ft+=Lt.NEIGHBORCOST*(on?Lt.SAMELEVELFACTOR:1)/(Qr-sn)}return ft}function makeClipMask(Ee){var ze,Be,Ue=Ee.trace._emptypoints,We=[],$e=Ee.z.length,Qe=Ee.z[0].length,et=[];for(ze=0;ze<Qe;ze++)et.push(1);for(ze=0;ze<$e;ze++)We.push(et.slice());for(ze=0;ze<Ue.length;ze++)We[(Be=Ue[ze])[0]][Be[1]]=0;return Ee.zmask=We,We}ze.plot=function plot(Ee,Be,Qe,et){var tt=Be.xaxis,rt=Be.yaxis;We.makeTraceGroups(et,Qe,"contour").each((function(Qe){var et=Ue.select(this),Lt=Qe[0],Ut=Lt.trace,er=Lt.x,tr=Lt.y,rr=Ut.contours,ar=ct(rr,Be,Lt),Lr=We.ensureSingle(et,"g","heatmapcoloring"),Qr=[];"heatmap"===rr.coloring&&(Qr=[Qe]),nt(Ee,Be,Qr,Lr),at(ar),it(ar);var on=tt.c2p(er[0],!0),sn=tt.c2p(er[er.length-1],!0),ln=rt.c2p(tr[0],!0),cn=rt.c2p(tr[tr.length-1],!0),un=[[on,cn],[sn,cn],[sn,ln],[on,ln]],hn=ar;"constraint"===rr.type&&(hn=ft(ar,rr._operation)),function makeBackground(Ee,ze,Be){var Ue=We.ensureSingle(Ee,"g","contourbg").selectAll("path").data("fill"===Be.coloring?[0]:[]);Ue.enter().append("path"),Ue.exit().remove(),Ue.attr("d","M"+ze.join("L")+"Z").style("stroke","none")}(et,un,rr),function makeFills(Ee,ze,Be,$e){var Qe="fill"===$e.coloring||"constraint"===$e.type&&"="!==$e._operation,et="M"+Be.join("L")+"Z";Qe&&xt(ze,$e);var tt=We.ensureSingle(Ee,"g","contourfill").selectAll("path").data(Qe?ze:[]);tt.enter().append("path"),tt.exit().remove(),tt.each((function(Ee){var ze=(Ee.prefixBoundary?et:"")+joinAllPaths(Ee,Be);ze?Ue.select(this).attr("d",ze).style("stroke","none"):Ue.select(this).remove()}))}(et,hn,un,rr),function makeLinesAndLabels(Ee,Be,Qe,et,tt){var rt=We.ensureSingle(Ee,"g","contourlines"),nt=!1!==tt.showlines,at=tt.showlabels,it=nt&&at,ct=ze.createLines(rt,nt||at,Be),ft=ze.createLineClip(rt,it,Qe,et.trace.uid),xt=Ee.selectAll("g.contourlabels").data(at?[0]:[]);if(xt.exit().remove(),xt.enter().append("g").classed("contourlabels",!0),at){var Lt=[],Ut=[];We.clearLocationCache();var er=ze.labelFormatter(Qe,et),tr=$e.tester.append("text").attr("data-notex",1).call($e.font,tt.labelfont),rr=Be[0].xaxis,ar=Be[0].yaxis,Lr=rr._length,Qr=ar._length,on=rr.range,sn=ar.range,ln=We.aggNums(Math.min,null,et.x),cn=We.aggNums(Math.max,null,et.x),un=We.aggNums(Math.min,null,et.y),hn=We.aggNums(Math.max,null,et.y),dn=Math.max(rr.c2p(ln,!0),0),vn=Math.min(rr.c2p(cn,!0),Lr),yn=Math.max(ar.c2p(hn,!0),0),_n=Math.min(ar.c2p(un,!0),Qr),Mn={};on[0]<on[1]?(Mn.left=dn,Mn.right=vn):(Mn.left=vn,Mn.right=dn),sn[0]<sn[1]?(Mn.top=yn,Mn.bottom=_n):(Mn.top=_n,Mn.bottom=yn),Mn.middle=(Mn.top+Mn.bottom)/2,Mn.center=(Mn.left+Mn.right)/2,Lt.push([[Mn.left,Mn.top],[Mn.right,Mn.top],[Mn.right,Mn.bottom],[Mn.left,Mn.bottom]]);var Cn=Math.sqrt(Lr*Lr+Qr*Qr),En=kt.LABELDISTANCE*Cn/Math.max(1,Be.length/kt.LABELINCREASE);ct.each((function(Ee){var Be=ze.calcTextOpts(Ee.level,er,tr,Qe);Ue.select(this).selectAll("path").each((function(){var Ee=We.getVisibleSegment(this,Mn,Be.height/2);if(Ee&&!(Ee.len<(Be.width+Be.height)*kt.LABELMIN))for(var Ue=Math.min(Math.ceil(Ee.len/En),kt.LABELMAX),$e=0;$e<Ue;$e++){var Qe=ze.findBestTextLocation(this,Ee,Be,Ut,Mn);if(!Qe)break;ze.addLabelData(Qe,Be,Ut,Lt)}}))})),tr.remove(),ze.drawLabels(xt,Ut,Qe,ft,it?Lt:null)}at&&!nt&&ct.remove()}(et,ar,Ee,Lt,rr),function clipGaps(Ee,ze,Be,Ue,Qe){var et=Ue.trace,tt=Be._fullLayout._clips,rt="clip"+et.uid,nt=tt.selectAll("#"+rt).data(et.connectgaps?[]:[0]);if(nt.enter().append("clipPath").classed("contourclip",!0).attr("id",rt),nt.exit().remove(),!1===et.connectgaps){var ct={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:ze.xaxis,yaxis:ze.yaxis,x:Ue.x,y:Ue.y,z:makeClipMask(Ue),smoothing:0};at([ct]),it([ct]),xt([ct],{type:"levels"}),We.ensureSingle(nt,"path","").attr("d",(ct.prefixBoundary?"M"+Qe.join("L")+"Z":"")+joinAllPaths(ct,Qe))}else rt=null;$e.setClipUrl(Ee,rt,Be)}(et,Be,Ee,Lt,un)}))},ze.createLines=function(Ee,ze,Be){var Ue=Be[0].smoothing,We=Ee.selectAll("g.contourlevel").data(ze?Be:[]);if(We.exit().remove(),We.enter().append("g").classed("contourlevel",!0),ze){var Qe=We.selectAll("path.openline").data((function(Ee){return Ee.pedgepaths||Ee.edgepaths}));Qe.exit().remove(),Qe.enter().append("path").classed("openline",!0),Qe.attr("d",(function(Ee){return $e.smoothopen(Ee,Ue)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var et=We.selectAll("path.closedline").data((function(Ee){return Ee.ppaths||Ee.paths}));et.exit().remove(),et.enter().append("path").classed("closedline",!0),et.attr("d",(function(Ee){return $e.smoothclosed(Ee,Ue)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}return We},ze.createLineClip=function(Ee,ze,Be,Ue){var We=ze?"clipline"+Ue:null,Qe=Be._fullLayout._clips.selectAll("#"+We).data(ze?[0]:[]);return Qe.exit().remove(),Qe.enter().append("clipPath").classed("contourlineclip",!0).attr("id",We),$e.setClipUrl(Ee,We,Be),Qe},ze.labelFormatter=function(Ee,ze){var Be=Ee._fullLayout,Ue=ze.trace,We=Ue.contours;if(We.labelformat)return Be._d3locale.numberFormat(We.labelformat);var $e,et=Qe.extractOpts(Ue);if(et&&et.colorbar&&et.colorbar._axis)$e=et.colorbar._axis;else{if($e={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"},"constraint"===We.type){var nt=We.value;Array.isArray(nt)?$e.range=[nt[0],nt[nt.length-1]]:$e.range=[nt,nt]}else $e.range=[We.start,We.end],$e.nticks=(We.end-We.start)/We.size;$e.range[0]===$e.range[1]&&($e.range[1]+=$e.range[0]||1),$e.nticks||($e.nticks=1e3),rt($e,Be),tt.prepTicks($e),$e._tmin=null,$e._tmax=null}return function(Ee){return tt.tickText($e,Ee).text}},ze.calcTextOpts=function(Ee,ze,Be,Ue){var We=ze(Ee);Be.text(We).call(et.convertToTspans,Ue);var Qe=$e.bBox(Be.node(),!0);return{text:We,width:Qe.width,height:Qe.height,level:Ee,dy:(Qe.top+Qe.bottom)/2}},ze.findBestTextLocation=function(Ee,ze,Be,Ue,$e){var Qe,et,tt,rt,nt,at=Be.width;ze.isClosed?(et=ze.len/Lt.INITIALSEARCHPOINTS,Qe=ze.min+et/2,tt=ze.max):(et=(ze.len-at)/(Lt.INITIALSEARCHPOINTS+1),Qe=ze.min+et+at/2,tt=ze.max-(et+at)/2);for(var it=1/0,ct=0;ct<Lt.ITERATIONS;ct++){for(var ft=Qe;ft<tt;ft+=et){var xt=We.getTextLocation(Ee,ze.total,ft,at),kt=locationCost(xt,Be,Ue,$e);kt<it&&(it=kt,nt=xt,rt=ft)}if(it>2*Lt.MAXCOST)break;ct&&(et/=2),tt=(Qe=rt-et/2)+1.5*et}if(it<=Lt.MAXCOST)return nt},ze.addLabelData=function(Ee,ze,Be,Ue){var We=ze.width/2,$e=ze.height/2,Qe=Ee.x,et=Ee.y,tt=Ee.theta,rt=Math.sin(tt),nt=Math.cos(tt),at=We*nt,it=$e*rt,ct=We*rt,ft=-$e*nt,xt=[[Qe-at-it,et-ct-ft],[Qe+at-it,et+ct-ft],[Qe+at+it,et+ct+ft],[Qe-at+it,et-ct+ft]];Be.push({text:ze.text,x:Qe,y:et,dy:ze.dy,theta:tt,level:ze.level,width:ze.width,height:ze.height}),Ue.push(xt)},ze.drawLabels=function(Ee,ze,Be,$e,Qe){var tt=Ee.selectAll("text").data(ze,(function(Ee){return Ee.text+","+Ee.x+","+Ee.y+","+Ee.theta}));if(tt.exit().remove(),tt.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each((function(Ee){var ze=Ee.x+Math.sin(Ee.theta)*Ee.dy,We=Ee.y-Math.cos(Ee.theta)*Ee.dy;Ue.select(this).text(Ee.text).attr({x:ze,y:We,transform:"rotate("+180*Ee.theta/Math.PI+" "+ze+" "+We+")"}).call(et.convertToTspans,Be)})),Qe){for(var rt="",nt=0;nt<Qe.length;nt++)rt+="M"+Qe[nt].join("L")+"Z";We.ensureSingle($e,"path","").attr("d",rt)}}},6962:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("c4c7").appendArrayPointValue,Qe=Be("a5c4"),et=Be("fc26"),tt=Be("8741"),rt=Be("fb56"),nt=Be("59e0").formatPieValue;function makeEventData(Ee,ze,Be){for(var Ue=Ee.data.data,We={curveNumber:ze.index,pointNumber:Ue.i,data:ze._input,fullData:ze},Qe=0;Qe<Be.length;Qe++){var et=Be[Qe];et in Ee&&(We[et]=Ee[et])}return"parentString"in Ee&&!rt.isHierarchyRoot(Ee)&&(We.parent=Ee.parentString),$e(We,ze,Ue.i),We}Ee.exports=function attachFxHandlers(Ee,ze,Be,$e,at){var it=$e[0],ct=it.trace,ft=it.hierarchy,xt="sunburst"===ct.type,kt="treemap"===ct.type;"_hasHoverLabel"in ct||(ct._hasHoverLabel=!1),"_hasHoverEvent"in ct||(ct._hasHoverEvent=!1);Ee.on("mouseover",(function(We){var $e=Be._fullLayout;if(!Be._dragging&&!1!==$e.hovermode){var tt=Be._fullData[ct.index],Lt=We.data.data,Ut=Lt.i,er=rt.isHierarchyRoot(We),tr=rt.getParent(ft,We),rr=rt.getValue(We),_cast=function(Ee){return et.castOption(tt,Ut,Ee)},ar=_cast("hovertemplate"),Lr=Qe.castHoverinfo(tt,$e,Ut),Qr=$e.separators;if(ar||Lr&&"none"!==Lr&&"skip"!==Lr){var on,sn;xt&&(on=it.cx+We.pxmid[0]*(1-We.rInscribed),sn=it.cy+We.pxmid[1]*(1-We.rInscribed)),kt&&(on=We._hoverX,sn=We._hoverY);var ln,cn={},un=[],hn=[],hasFlag=function(Ee){return-1!==un.indexOf(Ee)};Lr&&(un="all"===Lr?tt._module.attributes.hoverinfo.flags:Lr.split("+")),cn.label=Lt.label,hasFlag("label")&&cn.label&&hn.push(cn.label),Lt.hasOwnProperty("v")&&(cn.value=Lt.v,cn.valueLabel=nt(cn.value,Qr),hasFlag("value")&&hn.push(cn.valueLabel)),cn.currentPath=We.currentPath=rt.getPath(We.data),hasFlag("current path")&&!er&&hn.push(cn.currentPath);var dn=[],insertPercent=function(){-1===dn.indexOf(ln)&&(hn.push(ln),dn.push(ln))};cn.percentParent=We.percentParent=rr/rt.getValue(tr),cn.parent=We.parentString=rt.getPtLabel(tr),hasFlag("percent parent")&&(ln=rt.formatPercent(cn.percentParent,Qr)+" of "+cn.parent,insertPercent()),cn.percentEntry=We.percentEntry=rr/rt.getValue(ze),cn.entry=We.entry=rt.getPtLabel(ze),!hasFlag("percent entry")||er||We.onPathbar||(ln=rt.formatPercent(cn.percentEntry,Qr)+" of "+cn.entry,insertPercent()),cn.percentRoot=We.percentRoot=rr/rt.getValue(ft),cn.root=We.root=rt.getPtLabel(ft),hasFlag("percent root")&&!er&&(ln=rt.formatPercent(cn.percentRoot,Qr)+" of "+cn.root,insertPercent()),cn.text=_cast("hovertext")||_cast("text"),hasFlag("text")&&(ln=cn.text,et.isValidTextValue(ln)&&hn.push(ln));var vn={trace:tt,y:sn,text:hn.join("<br>"),name:ar||hasFlag("name")?tt.name:void 0,color:_cast("hoverlabel.bgcolor")||Lt.color,borderColor:_cast("hoverlabel.bordercolor"),fontFamily:_cast("hoverlabel.font.family"),fontSize:_cast("hoverlabel.font.size"),fontColor:_cast("hoverlabel.font.color"),nameLength:_cast("hoverlabel.namelength"),textAlign:_cast("hoverlabel.align"),hovertemplate:ar,hovertemplateLabels:cn,eventData:[makeEventData(We,tt,at.eventDataKeys)]};xt&&(vn.x0=on-We.rInscribed*We.rpx1,vn.x1=on+We.rInscribed*We.rpx1,vn.idealAlign=We.pxmid[0]<0?"left":"right"),kt&&(vn.x=on,vn.idealAlign=on<0?"left":"right"),Qe.loneHover(vn,{container:$e._hoverlayer.node(),outerContainer:$e._paper.node(),gd:Be}),ct._hasHoverLabel=!0}if(kt){var yn=Ee.select("path.surface");at.styleOne(yn,We,tt,{hovered:!0})}ct._hasHoverEvent=!0,Be.emit("plotly_hover",{points:[makeEventData(We,tt,at.eventDataKeys)],event:Ue.event})}})),Ee.on("mouseout",(function(ze){var We=Be._fullLayout,$e=Be._fullData[ct.index],et=Ue.select(this).datum();if(ct._hasHoverEvent&&(ze.originalEvent=Ue.event,Be.emit("plotly_unhover",{points:[makeEventData(et,$e,at.eventDataKeys)],event:Ue.event}),ct._hasHoverEvent=!1),ct._hasHoverLabel&&(Qe.loneUnhover(We._hoverlayer.node()),ct._hasHoverLabel=!1),kt){var tt=Ee.select("path.surface");at.styleOne(tt,et,$e,{hovered:!1})}})),Ee.on("click",(function(Ee){var ze=Be._fullLayout,$e=Be._fullData[ct.index],et=xt&&(rt.isHierarchyRoot(Ee)||rt.isLeaf(Ee)),nt=rt.getPtId(Ee),it=rt.isEntry(Ee)?rt.findEntryWithChild(ft,nt):rt.findEntryWithLevel(ft,nt),kt=rt.getPtId(it),Lt={points:[makeEventData(Ee,$e,at.eventDataKeys)],event:Ue.event};et||(Lt.nextLevel=kt);var Ut=tt.triggerHandler(Be,"plotly_"+ct.type+"click",Lt);if(!1!==Ut&&ze.hovermode&&(Be._hoverdata=[makeEventData(Ee,$e,at.eventDataKeys)],Qe.click(Be,Ue.event)),!et&&!1!==Ut&&!Be._dragging&&!Be._transitioning){We.call("_storeDirectGUIEdit",$e,ze._tracePreGUI[$e.uid],{level:$e.level});var er={data:[{level:kt}],traces:[ct.index]},tr={frame:{redraw:!1,duration:at.transitionTime},transition:{duration:at.transitionTime,easing:at.transitionEasing},mode:"immediate",fromcurrent:!0};Qe.loneUnhover(ze._hoverlayer.node()),We.call("animate",Be,er,tr)}}))}},"69f1":function(Ee,ze){var Be=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],Ue=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function lngamma(Ee){if(Ee<0)return Number("0/0");for(var ze=Ue[0],Be=Ue.length-1;Be>0;--Be)ze+=Ue[Be]/(Ee+Be);var We=Ee+607/128+.5;return.5*Math.log(2*Math.PI)+(Ee+.5)*Math.log(We)-We+Math.log(ze)-Math.log(Ee)}Ee.exports=function gamma(Ee){if(Ee<.5)return Math.PI/(Math.sin(Math.PI*Ee)*gamma(1-Ee));if(Ee>100)return Math.exp(lngamma(Ee));Ee-=1;for(var ze=Be[0],Ue=1;Ue<9;Ue++)ze+=Be[Ue]/(Ee+Ue);var We=Ee+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(We,Ee+.5)*Math.exp(-We)*ze},Ee.exports.log=lngamma},"69f3":function(Ee,ze,Be){var Ue,We,$e,Qe=Be("7f9a"),et=Be("da84"),tt=Be("861d"),rt=Be("9112"),nt=Be("5135"),at=Be("f772"),it=Be("d012"),ct=et.WeakMap;if(Qe){var ft=new ct,xt=ft.get,kt=ft.has,Lt=ft.set;Ue=function(Ee,ze){return Lt.call(ft,Ee,ze),ze},We=function(Ee){return xt.call(ft,Ee)||{}},$e=function(Ee){return kt.call(ft,Ee)}}else{var Ut=at("state");it[Ut]=!0,Ue=function(Ee,ze){return rt(Ee,Ut,ze),ze},We=function(Ee){return nt(Ee,Ut)?Ee[Ut]:{}},$e=function(Ee){return nt(Ee,Ut)}}Ee.exports={set:Ue,get:We,has:$e,enforce:function(Ee){return $e(Ee)?We(Ee):Ue(Ee,{})},getterFor:function(Ee){return function(ze){var Be;if(!tt(ze)||(Be=We(ze)).type!==Ee)throw TypeError("Incompatible receiver, "+Ee+" required");return Be}}}},"6a08":function(Ee,ze,Be){"use strict";var Ue=Be("0a3e").wrap,We=Be("215c").hasColorscale,$e=Be("3aa8"),Qe=Be("5567"),et=Be("83d1"),tt=Be("fc26");function updateCategoryModel(Ee,ze,Be){Ee.valueInds.push(ze),Ee.count+=Be}function createPathModel(Ee,ze,Be){return{categoryInds:Ee,color:ze,rawColor:Be,valueInds:[],count:0}}function updatePathModel(Ee,ze,Be){Ee.valueInds.push(ze),Ee.count+=Be}Ee.exports=function calc(Ee,ze){var Be=tt.filterVisible(ze.dimensions);if(0===Be.length)return[];var rt,nt,at,it=Be.map((function(Ee){var ze;return"trace"===Ee.categoryorder?ze=null:"array"===Ee.categoryorder?ze=Ee.categoryarray:(ze=Qe(Ee.values).sort(),"category descending"===Ee.categoryorder&&(ze=ze.reverse())),function getUniqueInfo(Ee,ze){ze=null==ze?[]:ze.map((function(Ee){return Ee}));var Be={},Ue={},We=[];ze.forEach((function(Ee,ze){Be[Ee]=0,Ue[Ee]=ze}));for(var $e=0;$e<Ee.length;$e++){var Qe,et=Ee[$e];void 0===Be[et]?(Be[et]=1,Qe=ze.push(et)-1,Ue[et]=Qe):(Be[et]++,Qe=Ue[et]),We.push(Qe)}var tt=ze.map((function(Ee){return Be[Ee]}));return{uniqueValues:ze,uniqueCounts:tt,inds:We}}(Ee.values,ze)}));rt=tt.isArrayOrTypedArray(ze.counts)?ze.counts:[ze.counts],function validateDimensionDisplayInds(Ee){var ze;if(function isRangePermutation(Ee){for(var ze=new Array(Ee.length),Be=0;Be<Ee.length;Be++){if(Ee[Be]<0||Ee[Be]>=Ee.length)return!1;if(void 0!==ze[Ee[Be]])return!1;ze[Ee[Be]]=!0}return!0}(Ee.map((function(Ee){return Ee.displayindex}))))for(ze=0;ze<Ee.length;ze++)Ee[ze]._displayindex=Ee[ze].displayindex;else for(ze=0;ze<Ee.length;ze++)Ee[ze]._displayindex=ze}(Be),Be.forEach((function(Ee,ze){!function validateCategoryProperties(Ee,ze){Ee._categoryarray=ze.uniqueValues,null===Ee.ticktext||void 0===Ee.ticktext?Ee._ticktext=[]:Ee._ticktext=Ee.ticktext.slice();for(var Be=Ee._ticktext.length;Be<ze.uniqueValues.length;Be++)Ee._ticktext.push(ze.uniqueValues[Be])}(Ee,it[ze])}));var ct,ft=ze.line;ft?(We(ze,"line")&&$e(Ee,ze,{vals:ze.line.color,containerStr:"line",cLetter:"c"}),ct=et.tryColorscale(ft)):ct=tt.identity;var xt,kt,Lt,Ut,er,tr=Be[0].values.length,rr={},ar=it.map((function(Ee){return Ee.inds}));for(at=0,xt=0;xt<tr;xt++){var Lr=[];for(kt=0;kt<ar.length;kt++)Lr.push(ar[kt][xt]);nt=rt[xt%rt.length],at+=nt;var Qr=(Lt=xt,Ut=void 0,er=void 0,tt.isArrayOrTypedArray(ft.color)?er=Ut=ft.color[Lt%ft.color.length]:Ut=ft.color,{color:ct(Ut),rawColor:er}),on=Lr+"-"+Qr.rawColor;void 0===rr[on]&&(rr[on]=createPathModel(Lr,Qr.color,Qr.rawColor)),updatePathModel(rr[on],xt,nt)}var sn,ln=Be.map((function(Ee,ze){return function createDimensionModel(Ee,ze,Be,Ue,We){return{dimensionInd:Ee,containerInd:ze,displayInd:Be,dimensionLabel:Ue,count:We,categories:[],dragX:null}}(ze,Ee._index,Ee._displayindex,Ee.label,at)}));for(xt=0;xt<tr;xt++)for(nt=rt[xt%rt.length],kt=0;kt<ln.length;kt++){var cn=ln[kt].containerInd,un=it[kt].inds[xt],hn=ln[kt].categories;if(void 0===hn[un]){var dn=ze.dimensions[cn]._categoryarray[un],vn=ze.dimensions[cn]._ticktext[un];hn[un]={dimensionInd:kt,categoryInd:sn=un,categoryValue:dn,displayInd:sn,categoryLabel:vn,valueInds:[],count:0,dragY:null}}updateCategoryModel(hn[un],xt,nt)}return Ue(function createParcatsModel(Ee,ze,Be){var Ue=Ee.map((function(Ee){return Ee.categories.length})).reduce((function(Ee,ze){return Math.max(Ee,ze)}));return{dimensions:Ee,paths:ze,trace:void 0,maxCats:Ue,count:Be}}(ln,rr,at))}},"6a25":function(Ee,ze){Ee.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},"6a77":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("0642"),$e=Be("fc26"),Qe=Be("e806").BADNUM,et=$e._;Ee.exports=function calc(Ee,ze){var Be,tt,rt,nt,at,it,ct=Ee._fullLayout,ft=We.getFromId(Ee,ze.xaxis||"x"),xt=We.getFromId(Ee,ze.yaxis||"y"),kt=[],Lt="violin"===ze.type?"_numViolins":"_numBoxes";"h"===ze.orientation?(rt=ft,nt="x",at=xt,it="y"):(rt=xt,nt="y",at=ft,it="x");var Ut,er,tr,rr,ar,Lr,Qr=function getPos(Ee,ze,Be,We){var Qe,et=ze+"0"in Ee,tt="d"+ze in Ee;if(ze in Ee||et&&tt)return Be.makeCalcdata(Ee,ze);Qe=et?Ee[ze+"0"]:"name"in Ee&&("category"===Be.type||Ue(Ee.name)&&-1!==["linear","log"].indexOf(Be.type)||$e.isDateTime(Ee.name)&&"date"===Be.type)?Ee.name:We;for(var rt="multicategory"===Be.type?Be.r2c_just_indices(Qe):Be.d2c(Qe,0,Ee[ze+"calendar"]),nt=Ee._length,at=new Array(nt),it=0;it<nt;it++)at[it]=rt;return at}(ze,it,at,ct[Lt]),on=$e.distinctVals(Qr),sn=on.vals,ln=on.minDiff/2,cn="all"===(ze.boxpoints||ze.points)?$e.identity:function(Ee){return Ee.v<Ut.lf||Ee.v>Ut.uf};if(ze._hasPreCompStats){var un=ze[nt],d2c=function(Ee){return rt.d2c((ze[Ee]||[])[Be])},hn=1/0,dn=-1/0;for(Be=0;Be<ze._length;Be++){var vn=Qr[Be];if(Ue(vn)){if((Ut={}).pos=Ut[it]=vn,Ut.q1=d2c("q1"),Ut.med=d2c("median"),Ut.q3=d2c("q3"),er=[],un&&$e.isArrayOrTypedArray(un[Be]))for(tt=0;tt<un[Be].length;tt++)(Lr=rt.d2c(un[Be][tt]))!==Qe&&(arraysToCalcdata(ar={v:Lr,i:[Be,tt]},ze,[Be,tt]),er.push(ar));if(Ut.pts=er.sort(sortByVal),rr=(tr=Ut[nt]=er.map(extractVal)).length,Ut.med!==Qe&&Ut.q1!==Qe&&Ut.q3!==Qe&&Ut.med>=Ut.q1&&Ut.q3>=Ut.med){var yn=d2c("lowerfence");Ut.lf=yn!==Qe&&yn<=Ut.q1?yn:computeLowerFence(Ut,tr,rr);var _n=d2c("upperfence");Ut.uf=_n!==Qe&&_n>=Ut.q3?_n:computeUpperFence(Ut,tr,rr);var Mn=d2c("mean");Ut.mean=Mn!==Qe?Mn:rr?$e.mean(tr,rr):(Ut.q1+Ut.q3)/2;var Cn=d2c("sd");Ut.sd=Mn!==Qe&&Cn>=0?Cn:rr?$e.stdev(tr,rr,Ut.mean):Ut.q3-Ut.q1,Ut.lo=computeLowerOutlierBound(Ut),Ut.uo=computeUpperOutlierBound(Ut);var En=d2c("notchspan");En=En!==Qe&&En>0?En:computeNotchSpan(Ut,rr),Ut.ln=Ut.med-En,Ut.un=Ut.med+En;var Pn=Ut.lf,In=Ut.uf;ze.boxpoints&&tr.length&&(Pn=Math.min(Pn,tr[0]),In=Math.max(In,tr[rr-1])),ze.notched&&(Pn=Math.min(Pn,Ut.ln),In=Math.max(In,Ut.un)),Ut.min=Pn,Ut.max=In}else{var Bn;$e.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+Ut.q1,"median = "+Ut.med,"q3 = "+Ut.q3].join("\n")),Bn=Ut.med!==Qe?Ut.med:Ut.q1!==Qe?Ut.q3!==Qe?(Ut.q1+Ut.q3)/2:Ut.q1:Ut.q3!==Qe?Ut.q3:0,Ut.med=Bn,Ut.q1=Ut.q3=Bn,Ut.lf=Ut.uf=Bn,Ut.mean=Ut.sd=Bn,Ut.ln=Ut.un=Bn,Ut.min=Ut.max=Bn}hn=Math.min(hn,Ut.min),dn=Math.max(dn,Ut.max),Ut.pts2=er.filter(cn),kt.push(Ut)}}ze._extremes[rt._id]=We.findExtremes(rt,[hn,dn],{padded:!0})}else{var Hn=rt.makeCalcdata(ze,nt),Kn=function makeBins(Ee,ze){for(var Be=Ee.length,Ue=new Array(Be+1),We=0;We<Be;We++)Ue[We]=Ee[We]-ze;return Ue[Be]=Ee[Be-1]+ze,Ue}(sn,ln),Jn=sn.length,Ma=function initNestedArray(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;Be++)ze[Be]=[];return ze}(Jn);for(Be=0;Be<ze._length;Be++)if(Lr=Hn[Be],Ue(Lr)){var Sa=$e.findBin(Qr[Be],Kn);Sa>=0&&Sa<Jn&&(arraysToCalcdata(ar={v:Lr,i:Be},ze,Be),Ma[Sa].push(ar))}var La=1/0,Ia=-1/0,Ra=ze.quartilemethod,Na="exclusive"===Ra,Ua="inclusive"===Ra;for(Be=0;Be<Jn;Be++)if(Ma[Be].length>0){var qa,Ka;if((Ut={}).pos=Ut[it]=sn[Be],er=Ut.pts=Ma[Be].sort(sortByVal),rr=(tr=Ut[nt]=er.map(extractVal)).length,Ut.min=tr[0],Ut.max=tr[rr-1],Ut.mean=$e.mean(tr,rr),Ut.sd=$e.stdev(tr,rr,Ut.mean),Ut.med=$e.interp(tr,.5),rr%2&&(Na||Ua))Na?(qa=tr.slice(0,rr/2),Ka=tr.slice(rr/2+1)):Ua&&(qa=tr.slice(0,rr/2+1),Ka=tr.slice(rr/2)),Ut.q1=$e.interp(qa,.5),Ut.q3=$e.interp(Ka,.5);else Ut.q1=$e.interp(tr,.25),Ut.q3=$e.interp(tr,.75);Ut.lf=computeLowerFence(Ut,tr,rr),Ut.uf=computeUpperFence(Ut,tr,rr),Ut.lo=computeLowerOutlierBound(Ut),Ut.uo=computeUpperOutlierBound(Ut);var ei=computeNotchSpan(Ut,rr);Ut.ln=Ut.med-ei,Ut.un=Ut.med+ei,La=Math.min(La,Ut.ln),Ia=Math.max(Ia,Ut.un),Ut.pts2=er.filter(cn),kt.push(Ut)}ze._extremes[rt._id]=We.findExtremes(rt,ze.notched?Hn.concat([La,Ia]):Hn,{padded:!0})}return function calcSelection(Ee,ze){if($e.isArrayOrTypedArray(ze.selectedpoints))for(var Be=0;Be<Ee.length;Be++){for(var Ue=Ee[Be].pts||[],We={},Qe=0;Qe<Ue.length;Qe++)We[Ue[Qe].i]=Qe;$e.tagSelected(Ue,ze,We)}}(kt,ze),kt.length>0?(kt[0].t={num:ct[Lt],dPos:ln,posLetter:it,valLetter:nt,labels:{med:et(Ee,"median:"),min:et(Ee,"min:"),q1:et(Ee,"q1:"),q3:et(Ee,"q3:"),max:et(Ee,"max:"),mean:"sd"===ze.boxmean?et(Ee,"mean ± σ:"):et(Ee,"mean:"),lf:et(Ee,"lower fence:"),uf:et(Ee,"upper fence:")}},ct[Lt]++,kt):[{t:{empty:!0}}]};var tt={text:"tx",hovertext:"htx"};function arraysToCalcdata(Ee,ze,Be){for(var Ue in tt)$e.isArrayOrTypedArray(ze[Ue])&&(Array.isArray(Be)?$e.isArrayOrTypedArray(ze[Ue][Be[0]])&&(Ee[tt[Ue]]=ze[Ue][Be[0]][Be[1]]):Ee[tt[Ue]]=ze[Ue][Be])}function sortByVal(Ee,ze){return Ee.v-ze.v}function extractVal(Ee){return Ee.v}function computeLowerFence(Ee,ze,Be){return 0===Be?Ee.q1:Math.min(Ee.q1,ze[Math.min($e.findBin(2.5*Ee.q1-1.5*Ee.q3,ze,!0)+1,Be-1)])}function computeUpperFence(Ee,ze,Be){return 0===Be?Ee.q3:Math.max(Ee.q3,ze[Math.max($e.findBin(2.5*Ee.q3-1.5*Ee.q1,ze),0)])}function computeLowerOutlierBound(Ee){return 4*Ee.q1-3*Ee.q3}function computeUpperOutlierBound(Ee){return 4*Ee.q3-3*Ee.q1}function computeNotchSpan(Ee,ze){return 0===ze?0:1.57*(Ee.q3-Ee.q1)/Math.sqrt(ze)}},"6aa3":function(Ee,ze,Be){"use strict";var Ue=Be("0a3e").wrap;Ee.exports=function calc(){return Ue({})}},"6add":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3c1c").id2name,$e=Be("9759"),Qe=Be("ce56").makePadFn,et=Be("ce56").concatExtremes,tt=Be("e806").ALMOST_EQUAL,rt=Be("63dc").FROM_BL;function getConstraintOpts(Ee,ze,Be,Ue,$e){var Qe,et,tt,rt,nt="range"!==$e,at=Ue[We(ze)].type,it=[];for(et=0;et<Be.length;et++)if((tt=Be[et])!==ze&&(rt=Ue[We(tt)]).type===at)if(rt.fixedrange){if(nt&&rt.anchor){Ue[We(rt.anchor)].fixedrange&&it.push(tt)}}else it.push(tt);for(Qe=0;Qe<Ee.length;Qe++)if(Ee[Qe][ze]){var ct=Ee[Qe],ft=[];for(et=0;et<it.length;et++)ct[tt=it[et]]||ft.push(tt);return{linkableAxes:ft,thisGroup:ct}}return{linkableAxes:it,thisGroup:null}}function updateConstraintGroups(Ee,ze,Be,Ue,We){var $e,Qe,et,tt,rt;null===ze?((ze={})[Be]=1,rt=Ee.length,Ee.push(ze)):rt=Ee.indexOf(ze);var nt=Object.keys(ze);for($e=0;$e<Ee.length;$e++)if(et=Ee[$e],$e!==rt&&et[Ue]){var at=et[Ue];for(Qe=0;Qe<nt.length;Qe++)et[tt=nt[Qe]]=at*We*ze[tt];return void Ee.splice(rt,1)}if(1!==We)for(Qe=0;Qe<nt.length;Qe++)ze[nt[Qe]]*=We;ze[Ue]=1}function updateDomain(Ee,ze){var Be=Ee._inputDomain,Ue=rt[Ee.constraintoward],We=Be[0]+(Be[1]-Be[0])*Ue;Ee.domain=Ee._input.domain=[We+(Be[0]-We)/ze,We+(Be[1]-We)/ze],Ee.setScale()}ze.handleConstraintDefaults=function(Ee,ze,Be,We){var $e,Qe,et,tt,rt=We.allAxisIds,nt=We.layoutOut,at=We.scaleanchorDflt,it=We.constrainDflt,ct=nt._axisConstraintGroups,ft=nt._axisMatchGroups,xt=ze._id,kt=xt.charAt(0),Lt=((nt._splomAxes||{})[kt]||{})[xt]||{},Ut=ze._id,er=Ut.charAt(0),tr=Be("constrain",it);if(Ue.coerce(Ee,ze,{constraintoward:{valType:"enumerated",values:"x"===er?["left","center","right"]:["bottom","middle","top"],dflt:"x"===er?"center":"middle"}},"constraintoward"),!Ee.matches&&!Lt.matches||ze.fixedrange||(Qe=getConstraintOpts(ft,Ut,rt,nt),$e=Ue.coerce(Ee,ze,{matches:{valType:"enumerated",values:Qe.linkableAxes||[],dflt:Lt.matches}},"matches")),$e||ze.fixedrange&&"domain"!==tr||!Ee.scaleanchor&&!at||(tt=getConstraintOpts(ct,Ut,rt,nt,tr),et=Ue.coerce(Ee,ze,{scaleanchor:{valType:"enumerated",values:tt.linkableAxes||[]}},"scaleanchor",at)),$e?(delete ze.constrain,updateConstraintGroups(ft,Qe.thisGroup,Ut,$e,1)):-1!==rt.indexOf(Ee.matches)&&Ue.warn("ignored "+ze._name+'.matches: "'+Ee.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),et){var rr=Be("scaleratio");rr||(rr=ze.scaleratio=1),updateConstraintGroups(ct,tt.thisGroup,Ut,et,rr)}else-1!==rt.indexOf(Ee.scaleanchor)&&Ue.warn("ignored "+ze._name+'.scaleanchor: "'+Ee.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},ze.enforce=function enforce(Ee){var ze,Be,Ue,rt,nt,at,it,ct=Ee._fullLayout,ft=ct._axisConstraintGroups||[];for(ze=0;ze<ft.length;ze++){var xt=ft[ze],kt=Object.keys(xt),Lt=1/0,Ut=0,er=1/0,tr={},rr={},ar=!1;for(Be=0;Be<kt.length;Be++)rr[Ue=kt[Be]]=rt=ct[We(Ue)],rt._inputDomain?rt.domain=rt._inputDomain.slice():rt._inputDomain=rt.domain.slice(),rt._inputRange||(rt._inputRange=rt.range.slice()),rt.setScale(),tr[Ue]=nt=Math.abs(rt._m)/xt[Ue],Lt=Math.min(Lt,nt),"domain"!==rt.constrain&&rt._constraintShrinkable||(er=Math.min(er,nt)),delete rt._constraintShrinkable,Ut=Math.max(Ut,nt),"domain"===rt.constrain&&(ar=!0);if(!(Lt>tt*Ut)||ar)for(Be=0;Be<kt.length;Be++)if(nt=tr[Ue=kt[Be]],at=(rt=rr[Ue]).constrain,nt!==er||"domain"===at)if(it=nt/er,"range"===at)$e(rt,it);else{var Lr=rt._inputDomain,Qr=(rt.domain[1]-rt.domain[0])/(Lr[1]-Lr[0]),on=(rt.r2l(rt.range[1])-rt.r2l(rt.range[0]))/(rt.r2l(rt._inputRange[1])-rt.r2l(rt._inputRange[0]));if((it/=Qr)*on<1){rt.domain=rt._input.domain=Lr.slice(),$e(rt,it);continue}if(on<1&&(rt.range=rt._input.range=rt._inputRange.slice(),it*=on),rt.autorange){var sn=rt.r2l(rt.range[0]),ln=rt.r2l(rt.range[1]),cn=(sn+ln)/2,un=cn,hn=cn,dn=Math.abs(ln-cn),vn=cn-dn*it*1.0001,yn=cn+dn*it*1.0001,_n=Qe(rt);updateDomain(rt,it);var Mn,Cn,En=Math.abs(rt._m),Pn=et(Ee,rt),In=Pn.min,Bn=Pn.max;for(Cn=0;Cn<In.length;Cn++)(Mn=In[Cn].val-_n(In[Cn])/En)>vn&&Mn<un&&(un=Mn);for(Cn=0;Cn<Bn.length;Cn++)(Mn=Bn[Cn].val+_n(Bn[Cn])/En)<yn&&Mn>hn&&(hn=Mn);it/=(hn-un)/(2*dn),un=rt.l2r(un),hn=rt.l2r(hn),rt.range=rt._input.range=sn<ln?[un,hn]:[hn,un]}updateDomain(rt,it)}}},ze.clean=function clean(Ee,ze){if(ze._inputDomain){for(var Be=!1,Ue=ze._id,We=Ee._fullLayout._axisConstraintGroups,$e=0;$e<We.length;$e++)if(We[$e][Ue]){Be=!0;break}Be&&"domain"===ze.constrain||(ze._input.domain=ze.domain=ze._inputDomain,delete ze._inputDomain)}}},"6af8":function(Ee,ze,Be){"use strict";var Ue=Array.isArray,We="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},$e="undefined"==typeof DataView?function(){}:DataView;function isTypedArray(Ee){return We.isView(Ee)&&!(Ee instanceof $e)}function isArrayOrTypedArray(Ee){return Ue(Ee)||isTypedArray(Ee)}function _rowLength(Ee,ze,Be){if(isArrayOrTypedArray(Ee)){if(isArrayOrTypedArray(Ee[0])){for(var Ue=Be,We=0;We<Ee.length;We++)Ue=ze(Ue,Ee[We].length);return Ue}return Ee.length}return 0}ze.isTypedArray=isTypedArray,ze.isArrayOrTypedArray=isArrayOrTypedArray,ze.isArray1D=function isArray1D(Ee){return!isArrayOrTypedArray(Ee[0])},ze.ensureArray=function(Ee,ze){return Ue(Ee)||(Ee=[]),Ee.length=ze,Ee},ze.concat=function(){var Ee,ze,Be,We,$e,Qe,et,tt,rt=[],nt=!0,at=0;for(Be=0;Be<arguments.length;Be++)(Qe=(We=arguments[Be]).length)&&(ze?rt.push(We):(ze=We,$e=Qe),Ue(We)?Ee=!1:(nt=!1,at?Ee!==We.constructor&&(Ee=!1):Ee=We.constructor),at+=Qe);if(!at)return[];if(!rt.length)return ze;if(nt)return ze.concat.apply(ze,rt);if(Ee){for((et=new Ee(at)).set(ze),Be=0;Be<rt.length;Be++)We=rt[Be],et.set(We,$e),$e+=We.length;return et}for(et=new Array(at),tt=0;tt<ze.length;tt++)et[tt]=ze[tt];for(Be=0;Be<rt.length;Be++){for(We=rt[Be],tt=0;tt<We.length;tt++)et[$e+tt]=We[tt];$e+=tt}return et},ze.maxRowLength=function(Ee){return _rowLength(Ee,Math.max,0)},ze.minRowLength=function(Ee){return _rowLength(Ee,Math.min,1/0)}},"6b10":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a651"),$e=Be("3c1c"),Qe=Be("8f38"),et=Be("5844");Ee.exports=function handleDefaults(Ee,ze,Be){var tt=Ee[Be],rt=ze[Be];if(tt.rangeslider||ze._requestRangeslider[rt._id]){Ue.isPlainObject(tt.rangeslider)||(tt.rangeslider={});var nt,at,it=tt.rangeslider,ct=We.newContainer(rt,"rangeslider");if(coerce("visible")){coerce("bgcolor",ze.plot_bgcolor),coerce("bordercolor"),coerce("borderwidth"),coerce("thickness"),coerce("autorange",!rt.isValidRange(it.range)),coerce("range");var ft=ze._subplots;if(ft)for(var xt=ft.cartesian.filter((function(Ee){return Ee.substr(0,Ee.indexOf("y"))===$e.name2id(Be)})).map((function(Ee){return Ee.substr(Ee.indexOf("y"),Ee.length)})),kt=Ue.simpleMap(xt,$e.id2name),Lt=0;Lt<kt.length;Lt++){var Ut=kt[Lt];nt=it[Ut]||{},at=We.newContainer(ct,Ut,"yaxis");var er,tr=ze[Ut];nt.range&&tr.isValidRange(nt.range)&&(er="fixed"),"match"!==coerceRange("rangemode",er)&&coerceRange("range",tr.range.slice())}ct._input=it}}function coerce(Ee,ze){return Ue.coerce(it,ct,Qe,Ee,ze)}function coerceRange(Ee,ze){return Ue.coerce(nt,at,et,Ee,ze)}}},"6b38":function(Ee,ze,Be){"use strict";(function(ze){var Ue=Be("b7d1");function resize(Ee){if(Ee.container)if(Ee.container==document.body)document.body.style.width||(Ee.canvas.width=Ee.width||Ee.pixelRatio*ze.innerWidth),document.body.style.height||(Ee.canvas.height=Ee.height||Ee.pixelRatio*ze.innerHeight);else{var Be=Ee.container.getBoundingClientRect();Ee.canvas.width=Ee.width||Be.right-Be.left,Ee.canvas.height=Ee.height||Be.bottom-Be.top}}function isCanvas(Ee){return"function"==typeof Ee.getContext&&"width"in Ee&&"height"in Ee}function createCanvas(){var Ee=document.createElement("canvas");return Ee.style.position="absolute",Ee.style.top=0,Ee.style.left=0,Ee}Ee.exports=function setContext(Ee){if(Ee?"string"==typeof Ee&&(Ee={container:Ee}):Ee={},(Ee=isCanvas(Ee)||function isElement(Ee){return"string"==typeof Ee.nodeName&&"function"==typeof Ee.appendChild&&"function"==typeof Ee.getBoundingClientRect}(Ee)?{container:Ee}:function isContext(Ee){return"function"==typeof Ee.drawArrays||"function"==typeof Ee.drawElements}(Ee)?{gl:Ee}:Ue(Ee,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(Ee.pixelRatio=ze.pixelRatio||1),Ee.gl)return Ee.gl;if(Ee.canvas&&(Ee.container=Ee.canvas.parentNode),Ee.container){if("string"==typeof Ee.container){var Be=document.querySelector(Ee.container);if(!Be)throw Error("Element "+Ee.container+" is not found");Ee.container=Be}isCanvas(Ee.container)?(Ee.canvas=Ee.container,Ee.container=Ee.canvas.parentNode):Ee.canvas||(Ee.canvas=createCanvas(),Ee.container.appendChild(Ee.canvas),resize(Ee))}else if(!Ee.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");Ee.container=document.body||document.documentElement,Ee.canvas=createCanvas(),Ee.container.appendChild(Ee.canvas),resize(Ee)}if(!Ee.gl)try{Ee.gl=Ee.canvas.getContext("webgl",Ee.attrs)}catch(ze){try{Ee.gl=Ee.canvas.getContext("experimental-webgl",Ee.attrs)}catch(ze){Ee.gl=Ee.canvas.getContext("webgl-experimental",Ee.attrs)}}return Ee.gl}}).call(this,Be("c8ba"))},"6b3c":function(Ee,ze,Be){"use strict";var Ue=Be("28dd"),We=Be("efce"),$e=Be("b205"),Qe=Be("1d5b"),et=Be("1417"),tt=Be("9343"),rt=Be("b5bb"),nt=Be("595c"),at=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function VectorMesh(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){this.gl=Ee,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=ze,this.dirty=!0,this.triShader=Be,this.pickShader=Ue,this.trianglePositions=We,this.triangleVectors=$e,this.triangleColors=et,this.triangleUVs=tt,this.triangleIds=Qe,this.triangleVAO=rt,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=nt,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=at,this._view=at,this._projection=at,this._resolution=[1,1]}var it=VectorMesh.prototype;function createMeshShader(Ee,ze){var Be=Ue(Ee,ze.meshShader.vertex,ze.meshShader.fragment,null,ze.meshShader.attributes);return Be.attributes.position.location=0,Be.attributes.color.location=2,Be.attributes.uv.location=3,Be.attributes.vector.location=4,Be}function createPickShader(Ee,ze){var Be=Ue(Ee,ze.pickShader.vertex,ze.pickShader.fragment,null,ze.pickShader.attributes);return Be.attributes.position.location=0,Be.attributes.id.location=1,Be.attributes.vector.location=4,Be}it.isOpaque=function(){return this.opacity>=1},it.isTransparent=function(){return this.opacity<1},it.pickSlots=1,it.setPickBase=function(Ee){this.pickId=Ee},it.update=function(Ee){Ee=Ee||{};var ze=this.gl;this.dirty=!0,"lightPosition"in Ee&&(this.lightPosition=Ee.lightPosition),"opacity"in Ee&&(this.opacity=Ee.opacity),"ambient"in Ee&&(this.ambientLight=Ee.ambient),"diffuse"in Ee&&(this.diffuseLight=Ee.diffuse),"specular"in Ee&&(this.specularLight=Ee.specular),"roughness"in Ee&&(this.roughness=Ee.roughness),"fresnel"in Ee&&(this.fresnel=Ee.fresnel),void 0!==Ee.tubeScale&&(this.tubeScale=Ee.tubeScale),void 0!==Ee.vectorScale&&(this.vectorScale=Ee.vectorScale),void 0!==Ee.coneScale&&(this.coneScale=Ee.coneScale),void 0!==Ee.coneOffset&&(this.coneOffset=Ee.coneOffset),Ee.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=ze.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=ze.LINEAR,this.texture.setPixels(function genColormap(Ee){for(var ze=nt({colormap:Ee,nshades:256,format:"rgba"}),Be=new Uint8Array(1024),Ue=0;Ue<256;++Ue){for(var We=ze[Ue],$e=0;$e<3;++$e)Be[4*Ue+$e]=We[$e];Be[4*Ue+3]=255*We[3]}return rt(Be,[256,256,4],[4,0,1])}(Ee.colormap)),this.texture.generateMipmap());var Be=Ee.cells,Ue=Ee.positions,We=Ee.vectors;if(Ue&&Be&&We){var $e=[],Qe=[],et=[],tt=[],at=[];this.cells=Be,this.positions=Ue,this.vectors=We;var it=Ee.meshColor||[1,1,1,1],ct=Ee.vertexIntensity,ft=1/0,xt=-1/0;if(ct)if(Ee.vertexIntensityBounds)ft=+Ee.vertexIntensityBounds[0],xt=+Ee.vertexIntensityBounds[1];else for(var kt=0;kt<ct.length;++kt){var Lt=ct[kt];ft=Math.min(ft,Lt),xt=Math.max(xt,Lt)}else for(kt=0;kt<Ue.length;++kt){Lt=Ue[kt][2];ft=Math.min(ft,Lt),xt=Math.max(xt,Lt)}this.intensity=ct||function takeZComponent(Ee){for(var ze=Ee.length,Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=Ee[Ue][2];return Be}(Ue),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(kt=0;kt<Ue.length;++kt)for(var Ut=Ue[kt],er=0;er<3;++er)!isNaN(Ut[er])&&isFinite(Ut[er])&&(this.bounds[0][er]=Math.min(this.bounds[0][er],Ut[er]),this.bounds[1][er]=Math.max(this.bounds[1][er],Ut[er]));var tr=0;e:for(kt=0;kt<Be.length;++kt){var rr=Be[kt];switch(rr.length){case 3:for(er=0;er<3;++er){Ut=Ue[Lr=rr[er]];for(var ar=0;ar<3;++ar)if(isNaN(Ut[ar])||!isFinite(Ut[ar]))continue e}for(er=0;er<3;++er){var Lr;Ut=Ue[Lr=rr[2-er]];$e.push(Ut[0],Ut[1],Ut[2],Ut[3]);var Qr=We[Lr];Qe.push(Qr[0],Qr[1],Qr[2],Qr[3]||0);var on,sn=it;3===sn.length?et.push(sn[0],sn[1],sn[2],1):et.push(sn[0],sn[1],sn[2],sn[3]),on=ct?[(ct[Lr]-ft)/(xt-ft),0]:[(Ut[2]-ft)/(xt-ft),0],tt.push(on[0],on[1]),at.push(kt)}tr+=1}}this.triangleCount=tr,this.trianglePositions.update($e),this.triangleVectors.update(Qe),this.triangleColors.update(et),this.triangleUVs.update(tt),this.triangleIds.update(new Uint32Array(at))}},it.drawTransparent=it.draw=function(Ee){Ee=Ee||{};for(var ze=this.gl,Be=Ee.model||at,Ue=Ee.view||at,We=Ee.projection||at,$e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Qe=0;Qe<3;++Qe)$e[0][Qe]=Math.max($e[0][Qe],this.clipBounds[0][Qe]),$e[1][Qe]=Math.min($e[1][Qe],this.clipBounds[1][Qe]);var rt={model:Be,view:Ue,projection:We,inverseModel:at.slice(),clipBounds:$e,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};rt.inverseModel=tt(rt.inverseModel,rt.model),ze.disable(ze.CULL_FACE),this.texture.bind(0);var nt=new Array(16);et(nt,rt.view,rt.model),et(nt,rt.projection,nt),tt(nt,nt);for(Qe=0;Qe<3;++Qe)rt.eyePosition[Qe]=nt[12+Qe]/nt[15];var it=nt[15];for(Qe=0;Qe<3;++Qe)it+=this.lightPosition[Qe]*nt[4*Qe+3];for(Qe=0;Qe<3;++Qe){for(var ct=nt[12+Qe],ft=0;ft<3;++ft)ct+=nt[4*ft+Qe]*this.lightPosition[ft];rt.lightPosition[Qe]=ct/it}if(this.triangleCount>0){var xt=this.triShader;xt.bind(),xt.uniforms=rt,this.triangleVAO.bind(),ze.drawArrays(ze.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},it.drawPick=function(Ee){Ee=Ee||{};for(var ze=this.gl,Be=Ee.model||at,Ue=Ee.view||at,We=Ee.projection||at,$e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Qe=0;Qe<3;++Qe)$e[0][Qe]=Math.max($e[0][Qe],this.clipBounds[0][Qe]),$e[1][Qe]=Math.min($e[1][Qe],this.clipBounds[1][Qe]);this._model=[].slice.call(Be),this._view=[].slice.call(Ue),this._projection=[].slice.call(We),this._resolution=[ze.drawingBufferWidth,ze.drawingBufferHeight];var et={model:Be,view:Ue,projection:We,clipBounds:$e,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},tt=this.pickShader;tt.bind(),tt.uniforms=et,this.triangleCount>0&&(this.triangleVAO.bind(),ze.drawArrays(ze.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},it.pick=function(Ee){if(!Ee)return null;if(Ee.id!==this.pickId)return null;var ze=Ee.value[0]+256*Ee.value[1]+65536*Ee.value[2],Be=this.cells[ze],Ue=this.positions[Be[1]].slice(0,3),We={position:Ue,dataCoordinate:Ue,index:Math.floor(Be[1]/48)};return"cone"===this.traceType?We.index=Math.floor(Be[1]/48):"streamtube"===this.traceType&&(We.intensity=this.intensity[Be[1]],We.velocity=this.vectors[Be[1]].slice(0,3),We.divergence=this.vectors[Be[1]][3],We.index=ze),We},it.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},Ee.exports=function createVectorMesh(Ee,ze,Be){var Ue=Be.shaders;1===arguments.length&&(Ee=(ze=Ee).gl);var et=createMeshShader(Ee,Ue),tt=createPickShader(Ee,Ue),nt=Qe(Ee,rt(new Uint8Array([255,255,255,255]),[1,1,4]));nt.generateMipmap(),nt.minFilter=Ee.LINEAR_MIPMAP_LINEAR,nt.magFilter=Ee.LINEAR;var at=We(Ee),it=We(Ee),ct=We(Ee),ft=We(Ee),xt=We(Ee),kt=$e(Ee,[{buffer:at,type:Ee.FLOAT,size:4},{buffer:xt,type:Ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ct,type:Ee.FLOAT,size:4},{buffer:ft,type:Ee.FLOAT,size:2},{buffer:it,type:Ee.FLOAT,size:4}]),Lt=new VectorMesh(Ee,nt,et,tt,at,it,xt,ct,ft,kt,Be.traceType||"cone");return Lt.update(ze),Lt}},"6b50":function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("94d5").hovertemplateAttrs,$e=Be("02ea"),Qe=Be("a876"),et=Be("9092").extendFlat;Ee.exports=et({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:We({editType:"calc"}),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},Ue("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:$e.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:et({},$e.contours.x.show,{}),color:$e.contours.x.color,width:$e.contours.x.width,editType:"calc"},lightposition:{x:et({},$e.lightposition.x,{dflt:1e5}),y:et({},$e.lightposition.y,{dflt:1e5}),z:et({},$e.lightposition.z,{dflt:0}),editType:"calc"},lighting:et({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},$e.lighting),hoverinfo:et({},Qe.hoverinfo,{editType:"calc"}),showlegend:et({},Qe.showlegend,{dflt:!1})})},"6b5f":function(Ee,ze,Be){"use strict";var Ue=Be("bb71");ze.name="pie",ze.plot=function(Ee,Be,We,$e){Ue.plotBasePlot(ze.name,Ee,Be,We,$e)},ze.clean=function(Ee,Be,We,$e){Ue.cleanBasePlot(ze.name,Ee,Be,We,$e)}},"6b78":function(Ee,ze,Be){"use strict";var Ue=["orientation","groupnorm","stackgaps"];Ee.exports=function handleStackDefaults(Ee,ze,Be,We){var $e=Be._scatterStackOpts,Qe=We("stackgroup");if(Qe){var et=ze.xaxis+ze.yaxis,tt=$e[et];tt||(tt=$e[et]={});var rt=tt[Qe],nt=!1;rt?rt.traces.push(ze):(rt=tt[Qe]={traceIndices:[],traces:[ze]},nt=!0);for(var at={orientation:ze.x&&!ze.y?"h":"v"},it=0;it<Ue.length;it++){var ct=Ue[it],ft=ct+"Found";if(!rt[ft]){var xt=void 0!==Ee[ct],kt="orientation"===ct;if((xt||nt)&&(rt[ct]=We(ct,at[ct]),kt&&(rt.fillDflt="h"===rt[ct]?"tonextx":"tonexty"),xt&&(rt[ft]=!0,!nt&&(delete rt.traces[0][ct],kt))))for(var Lt=0;Lt<rt.traces.length-1;Lt++){var Ut=rt.traces[Lt];Ut._input.fill!==Ut.fill&&(Ut.fill=rt.fillDflt)}}}return rt}}},"6bd5":function(Ee,ze,Be){"use strict";var Ue=Be("c258"),We=Be("0625"),$e=Be("8a7d"),Qe=Be("bc6b");Ee.exports=function calc(Ee,ze){var Be=We(Ee,ze),et=Be[0].z;$e(ze,et);var tt,rt=ze.contours,nt=Ue.extractOpts(ze);if("heatmap"===rt.coloring&&nt.auto&&!1===ze.autocontour){var at=rt.start,it=Qe(rt),ct=rt.size||1,ft=Math.floor((it-at)/ct)+1;isFinite(ct)||(ct=1,ft=1);var xt=at-ct/2;tt=[xt,xt+ft*ct]}else tt=et;return Ue.calc(Ee,ze,{vals:tt,cLetter:"z"}),Be}},"6c5a":function(Ee,ze,Be){"use strict";ze.isLeftAnchor=function isLeftAnchor(Ee){return"left"===Ee.xanchor||"auto"===Ee.xanchor&&Ee.x<=1/3},ze.isCenterAnchor=function isCenterAnchor(Ee){return"center"===Ee.xanchor||"auto"===Ee.xanchor&&Ee.x>1/3&&Ee.x<2/3},ze.isRightAnchor=function isRightAnchor(Ee){return"right"===Ee.xanchor||"auto"===Ee.xanchor&&Ee.x>=2/3},ze.isTopAnchor=function isTopAnchor(Ee){return"top"===Ee.yanchor||"auto"===Ee.yanchor&&Ee.y>=2/3},ze.isMiddleAnchor=function isMiddleAnchor(Ee){return"middle"===Ee.yanchor||"auto"===Ee.yanchor&&Ee.y>1/3&&Ee.y<2/3},ze.isBottomAnchor=function isBottomAnchor(Ee){return"bottom"===Ee.yanchor||"auto"===Ee.yanchor&&Ee.y<=1/3}},"6c77":function(Ee,ze,Be){"use strict";Ee.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},"6ca5":function(Ee,ze,Be){"use strict";Ee.exports=Be("89ab")},"6ceb":function(Ee,ze,Be){var Ue=Be("fda9");Ee.exports=function getWebGLContext(Ee){return Ue("webgl",Ee)}},"6d08":function(Ee,ze,Be){(function(ze){(function(){var Be,Ue,We,$e,Qe,et;"undefined"!=typeof performance&&null!==performance&&performance.now?Ee.exports=function(){return performance.now()}:null!=ze&&ze.hrtime?(Ee.exports=function(){return(Be()-Qe)/1e6},Ue=ze.hrtime,$e=(Be=function(){var Ee;return 1e9*(Ee=Ue())[0]+Ee[1]})(),et=1e9*ze.uptime(),Qe=$e-et):Date.now?(Ee.exports=function(){return Date.now()-We},We=Date.now()):(Ee.exports=function(){return(new Date).getTime()-We},We=(new Date).getTime())}).call(this)}).call(this,Be("4362"))},"6d0a":function(Ee,ze,Be){"use strict";Ee.exports=Be("c7c2")},"6dcc":function(Ee,ze,Be){"use strict";var Ue=Be("19b2");Ee.exports={count:function(Ee,ze,Be){return Be[Ee]++,1},sum:function(Ee,ze,Be,We){var $e=We[ze];return Ue($e)?($e=Number($e),Be[Ee]+=$e,$e):0},avg:function(Ee,ze,Be,We,$e){var Qe=We[ze];return Ue(Qe)&&(Qe=Number(Qe),Be[Ee]+=Qe,$e[Ee]++),0},min:function(Ee,ze,Be,We){var $e=We[ze];if(Ue($e)){if($e=Number($e),!Ue(Be[Ee]))return Be[Ee]=$e,$e;if(Be[Ee]>$e){var Qe=$e-Be[Ee];return Be[Ee]=$e,Qe}}return 0},max:function(Ee,ze,Be,We){var $e=We[ze];if(Ue($e)){if($e=Number($e),!Ue(Be[Ee]))return Be[Ee]=$e,$e;if(Be[Ee]<$e){var Qe=$e-Be[Ee];return Be[Ee]=$e,Qe}}return 0}}},"6dd0":function(Ee){Ee.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')},"6dea":function(Ee,ze,Be){"use strict";var Ue=Be("3aa8");Ee.exports=function calc(Ee,ze){ze.intensity&&Ue(Ee,ze,{vals:ze.intensity,containerStr:"",cLetter:"c"})}},"6e1f":function(Ee,ze,Be){"use strict";Ee.exports=function segmentsIntersect(Ee,ze,Be,We){var $e=Ue(Ee,Be,We),Qe=Ue(ze,Be,We);if($e>0&&Qe>0||$e<0&&Qe<0)return!1;var et=Ue(Be,Ee,ze),tt=Ue(We,Ee,ze);if(et>0&&tt>0||et<0&&tt<0)return!1;if(0===$e&&0===Qe&&0===et&&0===tt)return function checkCollinear(Ee,ze,Be,Ue){for(var We=0;We<2;++We){var $e=Ee[We],Qe=ze[We],et=Math.min($e,Qe),tt=Math.max($e,Qe),rt=Be[We],nt=Ue[We],at=Math.min(rt,nt);if(Math.max(rt,nt)<et||tt<at)return!1}return!0}(Ee,ze,Be,We);return!0};var Ue=Be("92ba")[3]},"6e40":function(Ee,ze,Be){"use strict";var Ue=Be("d3dc"),We=Ue.mod,$e=Ue.modHalf,Qe=Math.PI,et=2*Qe;function isFullCircle(Ee){return Math.abs(Ee[1]-Ee[0])>et-1e-14}function angleDelta(Ee,ze){return $e(ze-Ee,et)}function isAngleInsideSector(Ee,ze){if(isFullCircle(ze))return!0;var Be,Ue;ze[0]<ze[1]?(Be=ze[0],Ue=ze[1]):(Be=ze[1],Ue=ze[0]),(Be=We(Be,et))>(Ue=We(Ue,et))&&(Ue+=et);var $e=We(Ee,et),Qe=$e+et;return $e>=Be&&$e<=Ue||Qe>=Be&&Qe<=Ue}function _path(Ee,ze,Be,Ue,We,$e,tt){We=We||0,$e=$e||0;var rt,nt,at,it,ct,ft=isFullCircle([Be,Ue]);function pt(Ee,ze){return[Ee*Math.cos(ze)+We,$e-Ee*Math.sin(ze)]}ft?(rt=0,nt=Qe,at=et):Be<Ue?(rt=Be,at=Ue):(rt=Ue,at=Be),Ee<ze?(it=Ee,ct=ze):(it=ze,ct=Ee);var xt,kt=Math.abs(at-rt)<=Qe?0:1;function arc(Ee,ze,Be){return"A"+[Ee,Ee]+" "+[0,kt,Be]+" "+pt(Ee,ze)}return ft?xt=null===it?"M"+pt(ct,rt)+arc(ct,nt,0)+arc(ct,at,0)+"Z":"M"+pt(it,rt)+arc(it,nt,0)+arc(it,at,0)+"ZM"+pt(ct,rt)+arc(ct,nt,1)+arc(ct,at,1)+"Z":null===it?(xt="M"+pt(ct,rt)+arc(ct,at,0),tt&&(xt+="L0,0Z")):xt="M"+pt(it,rt)+"L"+pt(ct,rt)+arc(ct,at,0)+"L"+pt(it,at)+arc(it,rt,1)+"Z",xt}Ee.exports={deg2rad:function deg2rad(Ee){return Ee/180*Qe},rad2deg:function rad2deg(Ee){return Ee/Qe*180},angleDelta:angleDelta,angleDist:function angleDist(Ee,ze){return Math.abs(angleDelta(Ee,ze))},isFullCircle:isFullCircle,isAngleInsideSector:isAngleInsideSector,isPtInsideSector:function isPtInsideSector(Ee,ze,Be,Ue){return!!isAngleInsideSector(ze,Ue)&&(Be[0]<Be[1]?(We=Be[0],$e=Be[1]):(We=Be[1],$e=Be[0]),Ee>=We&&Ee<=$e);var We,$e},pathArc:function pathArc(Ee,ze,Be,Ue,We){return _path(null,Ee,ze,Be,Ue,We,0)},pathSector:function pathSector(Ee,ze,Be,Ue,We){return _path(null,Ee,ze,Be,Ue,We,1)},pathAnnulus:function pathAnnulus(Ee,ze,Be,Ue,We,$e){return _path(Ee,ze,Be,Ue,We,$e,1)}}},"6e58":function(Ee,ze,Be){var Ue,We;!function(){var $e={version:"3.5.17"},Qe=[].slice,d3_array=function(Ee){return Qe.call(Ee)},et=this.document;function d3_documentElement(Ee){return Ee&&(Ee.ownerDocument||Ee.document||Ee).documentElement}function d3_window(Ee){return Ee&&(Ee.ownerDocument&&Ee.ownerDocument.defaultView||Ee.document&&Ee||Ee.defaultView)}if(et)try{d3_array(et.documentElement.childNodes)[0].nodeType}catch(Ee){d3_array=function(Ee){for(var ze=Ee.length,Be=new Array(ze);ze--;)Be[ze]=Ee[ze];return Be}}if(Date.now||(Date.now=function(){return+new Date}),et)try{et.createElement("DIV").style.setProperty("opacity",0,"")}catch(Ee){var tt=this.Element.prototype,rt=tt.setAttribute,nt=tt.setAttributeNS,at=this.CSSStyleDeclaration.prototype,it=at.setProperty;tt.setAttribute=function(Ee,ze){rt.call(this,Ee,ze+"")},tt.setAttributeNS=function(Ee,ze,Be){nt.call(this,Ee,ze,Be+"")},at.setProperty=function(Ee,ze,Be){it.call(this,Ee,ze+"",Be)}}function d3_ascending(Ee,ze){return Ee<ze?-1:Ee>ze?1:Ee>=ze?0:NaN}function d3_number(Ee){return null===Ee?NaN:+Ee}function d3_numeric(Ee){return!isNaN(Ee)}function d3_bisector(Ee){return{left:function(ze,Be,Ue,We){for(arguments.length<3&&(Ue=0),arguments.length<4&&(We=ze.length);Ue<We;){var $e=Ue+We>>>1;Ee(ze[$e],Be)<0?Ue=$e+1:We=$e}return Ue},right:function(ze,Be,Ue,We){for(arguments.length<3&&(Ue=0),arguments.length<4&&(We=ze.length);Ue<We;){var $e=Ue+We>>>1;Ee(ze[$e],Be)>0?We=$e:Ue=$e+1}return Ue}}}$e.ascending=d3_ascending,$e.descending=function(Ee,ze){return ze<Ee?-1:ze>Ee?1:ze>=Ee?0:NaN},$e.min=function(Ee,ze){var Be,Ue,We=-1,$e=Ee.length;if(1===arguments.length){for(;++We<$e;)if(null!=(Ue=Ee[We])&&Ue>=Ue){Be=Ue;break}for(;++We<$e;)null!=(Ue=Ee[We])&&Be>Ue&&(Be=Ue)}else{for(;++We<$e;)if(null!=(Ue=ze.call(Ee,Ee[We],We))&&Ue>=Ue){Be=Ue;break}for(;++We<$e;)null!=(Ue=ze.call(Ee,Ee[We],We))&&Be>Ue&&(Be=Ue)}return Be},$e.max=function(Ee,ze){var Be,Ue,We=-1,$e=Ee.length;if(1===arguments.length){for(;++We<$e;)if(null!=(Ue=Ee[We])&&Ue>=Ue){Be=Ue;break}for(;++We<$e;)null!=(Ue=Ee[We])&&Ue>Be&&(Be=Ue)}else{for(;++We<$e;)if(null!=(Ue=ze.call(Ee,Ee[We],We))&&Ue>=Ue){Be=Ue;break}for(;++We<$e;)null!=(Ue=ze.call(Ee,Ee[We],We))&&Ue>Be&&(Be=Ue)}return Be},$e.extent=function(Ee,ze){var Be,Ue,We,$e=-1,Qe=Ee.length;if(1===arguments.length){for(;++$e<Qe;)if(null!=(Ue=Ee[$e])&&Ue>=Ue){Be=We=Ue;break}for(;++$e<Qe;)null!=(Ue=Ee[$e])&&(Be>Ue&&(Be=Ue),We<Ue&&(We=Ue))}else{for(;++$e<Qe;)if(null!=(Ue=ze.call(Ee,Ee[$e],$e))&&Ue>=Ue){Be=We=Ue;break}for(;++$e<Qe;)null!=(Ue=ze.call(Ee,Ee[$e],$e))&&(Be>Ue&&(Be=Ue),We<Ue&&(We=Ue))}return[Be,We]},$e.sum=function(Ee,ze){var Be,Ue=0,We=Ee.length,$e=-1;if(1===arguments.length)for(;++$e<We;)d3_numeric(Be=+Ee[$e])&&(Ue+=Be);else for(;++$e<We;)d3_numeric(Be=+ze.call(Ee,Ee[$e],$e))&&(Ue+=Be);return Ue},$e.mean=function(Ee,ze){var Be,Ue=0,We=Ee.length,$e=-1,Qe=We;if(1===arguments.length)for(;++$e<We;)d3_numeric(Be=d3_number(Ee[$e]))?Ue+=Be:--Qe;else for(;++$e<We;)d3_numeric(Be=d3_number(ze.call(Ee,Ee[$e],$e)))?Ue+=Be:--Qe;if(Qe)return Ue/Qe},$e.quantile=function(Ee,ze){var Be=(Ee.length-1)*ze+1,Ue=Math.floor(Be),We=+Ee[Ue-1],$e=Be-Ue;return $e?We+$e*(Ee[Ue]-We):We},$e.median=function(Ee,ze){var Be,Ue=[],We=Ee.length,Qe=-1;if(1===arguments.length)for(;++Qe<We;)d3_numeric(Be=d3_number(Ee[Qe]))&&Ue.push(Be);else for(;++Qe<We;)d3_numeric(Be=d3_number(ze.call(Ee,Ee[Qe],Qe)))&&Ue.push(Be);if(Ue.length)return $e.quantile(Ue.sort(d3_ascending),.5)},$e.variance=function(Ee,ze){var Be,Ue,We=Ee.length,$e=0,Qe=0,et=-1,tt=0;if(1===arguments.length)for(;++et<We;)d3_numeric(Be=d3_number(Ee[et]))&&(Qe+=(Ue=Be-$e)*(Be-($e+=Ue/++tt)));else for(;++et<We;)d3_numeric(Be=d3_number(ze.call(Ee,Ee[et],et)))&&(Qe+=(Ue=Be-$e)*(Be-($e+=Ue/++tt)));if(tt>1)return Qe/(tt-1)},$e.deviation=function(){var Ee=$e.variance.apply(this,arguments);return Ee?Math.sqrt(Ee):Ee};var ct=d3_bisector(d3_ascending);function d3_transposeLength(Ee){return Ee.length}$e.bisectLeft=ct.left,$e.bisect=$e.bisectRight=ct.right,$e.bisector=function(Ee){return d3_bisector(1===Ee.length?function(ze,Be){return d3_ascending(Ee(ze),Be)}:Ee)},$e.shuffle=function(Ee,ze,Be){($e=arguments.length)<3&&(Be=Ee.length,$e<2&&(ze=0));for(var Ue,We,$e=Be-ze;$e;)We=Math.random()*$e--|0,Ue=Ee[$e+ze],Ee[$e+ze]=Ee[We+ze],Ee[We+ze]=Ue;return Ee},$e.permute=function(Ee,ze){for(var Be=ze.length,Ue=new Array(Be);Be--;)Ue[Be]=Ee[ze[Be]];return Ue},$e.pairs=function(Ee){for(var ze=0,Be=Ee.length-1,Ue=Ee[0],We=new Array(Be<0?0:Be);ze<Be;)We[ze]=[Ue,Ue=Ee[++ze]];return We},$e.transpose=function(Ee){if(!(We=Ee.length))return[];for(var ze=-1,Be=$e.min(Ee,d3_transposeLength),Ue=new Array(Be);++ze<Be;)for(var We,Qe=-1,et=Ue[ze]=new Array(We);++Qe<We;)et[Qe]=Ee[Qe][ze];return Ue},$e.zip=function(){return $e.transpose(arguments)},$e.keys=function(Ee){var ze=[];for(var Be in Ee)ze.push(Be);return ze},$e.values=function(Ee){var ze=[];for(var Be in Ee)ze.push(Ee[Be]);return ze},$e.entries=function(Ee){var ze=[];for(var Be in Ee)ze.push({key:Be,value:Ee[Be]});return ze},$e.merge=function(Ee){for(var ze,Be,Ue,We=Ee.length,$e=-1,Qe=0;++$e<We;)Qe+=Ee[$e].length;for(Be=new Array(Qe);--We>=0;)for(ze=(Ue=Ee[We]).length;--ze>=0;)Be[--Qe]=Ue[ze];return Be};var ft=Math.abs;function d3_range_integerScale(Ee){for(var ze=1;Ee*ze%1;)ze*=10;return ze}function d3_class(Ee,ze){for(var Be in ze)Object.defineProperty(Ee.prototype,Be,{value:ze[Be],enumerable:!1})}function d3_Map(){this._=Object.create(null)}$e.range=function(Ee,ze,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(ze=Ee,Ee=0)),(ze-Ee)/Be==1/0)throw new Error("infinite range");var Ue,We=[],$e=d3_range_integerScale(ft(Be)),Qe=-1;if(Ee*=$e,ze*=$e,(Be*=$e)<0)for(;(Ue=Ee+Be*++Qe)>ze;)We.push(Ue/$e);else for(;(Ue=Ee+Be*++Qe)<ze;)We.push(Ue/$e);return We},$e.map=function(Ee,ze){var Be=new d3_Map;if(Ee instanceof d3_Map)Ee.forEach((function(Ee,ze){Be.set(Ee,ze)}));else if(Array.isArray(Ee)){var Ue,We=-1,$e=Ee.length;if(1===arguments.length)for(;++We<$e;)Be.set(We,Ee[We]);else for(;++We<$e;)Be.set(ze.call(Ee,Ue=Ee[We],We),Ue)}else for(var Qe in Ee)Be.set(Qe,Ee[Qe]);return Be};function d3_map_escape(Ee){return"__proto__"==(Ee+="")||"\0"===Ee[0]?"\0"+Ee:Ee}function d3_map_unescape(Ee){return"\0"===(Ee+="")[0]?Ee.slice(1):Ee}function d3_map_has(Ee){return d3_map_escape(Ee)in this._}function d3_map_remove(Ee){return(Ee=d3_map_escape(Ee))in this._&&delete this._[Ee]}function d3_map_keys(){var Ee=[];for(var ze in this._)Ee.push(d3_map_unescape(ze));return Ee}function d3_map_size(){var Ee=0;for(var ze in this._)++Ee;return Ee}function d3_map_empty(){for(var Ee in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(Ee){return Ee}function d3_rebind(Ee,ze,Be){return function(){var Ue=Be.apply(ze,arguments);return Ue===ze?Ee:Ue}}function d3_vendorSymbol(Ee,ze){if(ze in Ee)return ze;ze=ze.charAt(0).toUpperCase()+ze.slice(1);for(var Be=0,Ue=xt.length;Be<Ue;++Be){var We=xt[Be]+ze;if(We in Ee)return We}}d3_class(d3_Map,{has:d3_map_has,get:function(Ee){return this._[d3_map_escape(Ee)]},set:function(Ee,ze){return this._[d3_map_escape(Ee)]=ze},remove:d3_map_remove,keys:d3_map_keys,values:function(){var Ee=[];for(var ze in this._)Ee.push(this._[ze]);return Ee},entries:function(){var Ee=[];for(var ze in this._)Ee.push({key:d3_map_unescape(ze),value:this._[ze]});return Ee},size:d3_map_size,empty:d3_map_empty,forEach:function(Ee){for(var ze in this._)Ee.call(this,d3_map_unescape(ze),this._[ze])}}),$e.nest=function(){var Ee,ze,Be={},Ue=[],We=[];function map(We,$e,Qe){if(Qe>=Ue.length)return ze?ze.call(Be,$e):Ee?$e.sort(Ee):$e;for(var et,tt,rt,nt,at=-1,it=$e.length,ct=Ue[Qe++],ft=new d3_Map;++at<it;)(nt=ft.get(et=ct(tt=$e[at])))?nt.push(tt):ft.set(et,[tt]);return We?(tt=We(),rt=function(Ee,ze){tt.set(Ee,map(We,ze,Qe))}):(tt={},rt=function(Ee,ze){tt[Ee]=map(We,ze,Qe)}),ft.forEach(rt),tt}return Be.map=function(Ee,ze){return map(ze,Ee,0)},Be.entries=function(Ee){return function entries(Ee,ze){if(ze>=Ue.length)return Ee;var Be=[],$e=We[ze++];return Ee.forEach((function(Ee,Ue){Be.push({key:Ee,values:entries(Ue,ze)})})),$e?Be.sort((function(Ee,ze){return $e(Ee.key,ze.key)})):Be}(map($e.map,Ee,0),0)},Be.key=function(Ee){return Ue.push(Ee),Be},Be.sortKeys=function(Ee){return We[Ue.length-1]=Ee,Be},Be.sortValues=function(ze){return Ee=ze,Be},Be.rollup=function(Ee){return ze=Ee,Be},Be},$e.set=function(Ee){var ze=new d3_Set;if(Ee)for(var Be=0,Ue=Ee.length;Be<Ue;++Be)ze.add(Ee[Be]);return ze},d3_class(d3_Set,{has:d3_map_has,add:function(Ee){return this._[d3_map_escape(Ee+="")]=!0,Ee},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(Ee){for(var ze in this._)Ee.call(this,d3_map_unescape(ze))}}),$e.behavior={},$e.rebind=function(Ee,ze){for(var Be,Ue=1,We=arguments.length;++Ue<We;)Ee[Be=arguments[Ue]]=d3_rebind(Ee,ze,ze[Be]);return Ee};var xt=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(Ee){var ze=[],Be=new d3_Map;function event(){for(var Be,Ue=ze,We=-1,$e=Ue.length;++We<$e;)(Be=Ue[We].on)&&Be.apply(this,arguments);return Ee}return event.on=function(Ue,We){var $e,Qe=Be.get(Ue);return arguments.length<2?Qe&&Qe.on:(Qe&&(Qe.on=null,ze=ze.slice(0,$e=ze.indexOf(Qe)).concat(ze.slice($e+1)),Be.remove(Ue)),We&&ze.push(Be.set(Ue,{on:We})),Ee)},event}function d3_eventPreventDefault(){$e.event.preventDefault()}function d3_eventSource(){for(var Ee,ze=$e.event;Ee=ze.sourceEvent;)ze=Ee;return ze}function d3_eventDispatch(Ee){for(var ze=new d3_dispatch,Be=0,Ue=arguments.length;++Be<Ue;)ze[arguments[Be]]=d3_dispatch_event(ze);return ze.of=function(Be,Ue){return function(We){try{var Qe=We.sourceEvent=$e.event;We.target=Ee,$e.event=We,ze[We.type].apply(Be,Ue)}finally{$e.event=Qe}}},ze}$e.dispatch=function(){for(var Ee=new d3_dispatch,ze=-1,Be=arguments.length;++ze<Be;)Ee[arguments[ze]]=d3_dispatch_event(Ee);return Ee},d3_dispatch.prototype.on=function(Ee,ze){var Be=Ee.indexOf("."),Ue="";if(Be>=0&&(Ue=Ee.slice(Be+1),Ee=Ee.slice(0,Be)),Ee)return arguments.length<2?this[Ee].on(Ue):this[Ee].on(Ue,ze);if(2===arguments.length){if(null==ze)for(Ee in this)this.hasOwnProperty(Ee)&&this[Ee].on(Ue,null);return this}},$e.event=null,$e.requote=function(Ee){return Ee.replace(kt,"\\$&")};var kt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Lt={}.__proto__?function(Ee,ze){Ee.__proto__=ze}:function(Ee,ze){for(var Be in ze)Ee[Be]=ze[Be]};function d3_selection(Ee){return Lt(Ee,Ut),Ee}var d3_select=function(Ee,ze){return ze.querySelector(Ee)},d3_selectAll=function(Ee,ze){return ze.querySelectorAll(Ee)},d3_selectMatches=function(Ee,ze){var Be=Ee.matches||Ee[d3_vendorSymbol(Ee,"matchesSelector")];return(d3_selectMatches=function(Ee,ze){return Be.call(Ee,ze)})(Ee,ze)};"function"==typeof Sizzle&&(d3_select=function(Ee,ze){return Sizzle(Ee,ze)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),$e.selection=function(){return $e.select(et.documentElement)};var Ut=$e.selection.prototype=[];function d3_selection_selector(Ee){return"function"==typeof Ee?Ee:function(){return d3_select(Ee,this)}}function d3_selection_selectorAll(Ee){return"function"==typeof Ee?Ee:function(){return d3_selectAll(Ee,this)}}Ut.select=function(Ee){var ze,Be,Ue,We,$e=[];Ee=d3_selection_selector(Ee);for(var Qe=-1,et=this.length;++Qe<et;){$e.push(ze=[]),ze.parentNode=(Ue=this[Qe]).parentNode;for(var tt=-1,rt=Ue.length;++tt<rt;)(We=Ue[tt])?(ze.push(Be=Ee.call(We,We.__data__,tt,Qe)),Be&&"__data__"in We&&(Be.__data__=We.__data__)):ze.push(null)}return d3_selection($e)},Ut.selectAll=function(Ee){var ze,Be,Ue=[];Ee=d3_selection_selectorAll(Ee);for(var We=-1,$e=this.length;++We<$e;)for(var Qe=this[We],et=-1,tt=Qe.length;++et<tt;)(Be=Qe[et])&&(Ue.push(ze=d3_array(Ee.call(Be,Be.__data__,et,We))),ze.parentNode=Be);return d3_selection(Ue)};var er="http://www.w3.org/1999/xhtml",tr={svg:"http://www.w3.org/2000/svg",xhtml:er,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d3_selection_attr(Ee,ze){return Ee=$e.ns.qualify(Ee),null==ze?Ee.local?function attrNullNS(){this.removeAttributeNS(Ee.space,Ee.local)}:function attrNull(){this.removeAttribute(Ee)}:"function"==typeof ze?Ee.local?function attrFunctionNS(){var Be=ze.apply(this,arguments);null==Be?this.removeAttributeNS(Ee.space,Ee.local):this.setAttributeNS(Ee.space,Ee.local,Be)}:function attrFunction(){var Be=ze.apply(this,arguments);null==Be?this.removeAttribute(Ee):this.setAttribute(Ee,Be)}:Ee.local?function attrConstantNS(){this.setAttributeNS(Ee.space,Ee.local,ze)}:function attrConstant(){this.setAttribute(Ee,ze)}}function d3_collapse(Ee){return Ee.trim().replace(/\s+/g," ")}function d3_selection_classedRe(Ee){return new RegExp("(?:^|\\s+)"+$e.requote(Ee)+"(?:\\s+|$)","g")}function d3_selection_classes(Ee){return(Ee+"").trim().split(/^|\s+/)}function d3_selection_classed(Ee,ze){var Be=(Ee=d3_selection_classes(Ee).map(d3_selection_classedName)).length;return"function"==typeof ze?function classedFunction(){for(var Ue=-1,We=ze.apply(this,arguments);++Ue<Be;)Ee[Ue](this,We)}:function classedConstant(){for(var Ue=-1;++Ue<Be;)Ee[Ue](this,ze)}}function d3_selection_classedName(Ee){var ze=d3_selection_classedRe(Ee);return function(Be,Ue){if(We=Be.classList)return Ue?We.add(Ee):We.remove(Ee);var We=Be.getAttribute("class")||"";Ue?(ze.lastIndex=0,ze.test(We)||Be.setAttribute("class",d3_collapse(We+" "+Ee))):Be.setAttribute("class",d3_collapse(We.replace(ze," ")))}}function d3_selection_style(Ee,ze,Be){return null==ze?function styleNull(){this.style.removeProperty(Ee)}:"function"==typeof ze?function styleFunction(){var Ue=ze.apply(this,arguments);null==Ue?this.style.removeProperty(Ee):this.style.setProperty(Ee,Ue,Be)}:function styleConstant(){this.style.setProperty(Ee,ze,Be)}}function d3_selection_property(Ee,ze){return null==ze?function propertyNull(){delete this[Ee]}:"function"==typeof ze?function propertyFunction(){var Be=ze.apply(this,arguments);null==Be?delete this[Ee]:this[Ee]=Be}:function propertyConstant(){this[Ee]=ze}}function d3_selection_creator(Ee){return"function"==typeof Ee?Ee:(Ee=$e.ns.qualify(Ee)).local?function createNS(){return this.ownerDocument.createElementNS(Ee.space,Ee.local)}:function create(){var ze=this.ownerDocument,Be=this.namespaceURI;return Be===er&&ze.documentElement.namespaceURI===er?ze.createElement(Ee):ze.createElementNS(Be,Ee)}}function d3_selectionRemove(){var Ee=this.parentNode;Ee&&Ee.removeChild(this)}function d3_selection_dataNode(Ee){return{__data__:Ee}}function d3_selection_filter(Ee){return function(){return d3_selectMatches(this,Ee)}}function d3_selection_sortComparator(Ee){return arguments.length||(Ee=d3_ascending),function(ze,Be){return ze&&Be?Ee(ze.__data__,Be.__data__):!ze-!Be}}function d3_selection_each(Ee,ze){for(var Be=0,Ue=Ee.length;Be<Ue;Be++)for(var We,$e=Ee[Be],Qe=0,et=$e.length;Qe<et;Qe++)(We=$e[Qe])&&ze(We,Qe,Be);return Ee}function d3_selection_enter(Ee){return Lt(Ee,rr),Ee}$e.ns={prefix:tr,qualify:function(Ee){var ze=Ee.indexOf(":"),Be=Ee;return ze>=0&&"xmlns"!==(Be=Ee.slice(0,ze))&&(Ee=Ee.slice(ze+1)),tr.hasOwnProperty(Be)?{space:tr[Be],local:Ee}:Ee}},Ut.attr=function(Ee,ze){if(arguments.length<2){if("string"==typeof Ee){var Be=this.node();return(Ee=$e.ns.qualify(Ee)).local?Be.getAttributeNS(Ee.space,Ee.local):Be.getAttribute(Ee)}for(ze in Ee)this.each(d3_selection_attr(ze,Ee[ze]));return this}return this.each(d3_selection_attr(Ee,ze))},Ut.classed=function(Ee,ze){if(arguments.length<2){if("string"==typeof Ee){var Be=this.node(),Ue=(Ee=d3_selection_classes(Ee)).length,We=-1;if(ze=Be.classList){for(;++We<Ue;)if(!ze.contains(Ee[We]))return!1}else for(ze=Be.getAttribute("class");++We<Ue;)if(!d3_selection_classedRe(Ee[We]).test(ze))return!1;return!0}for(ze in Ee)this.each(d3_selection_classed(ze,Ee[ze]));return this}return this.each(d3_selection_classed(Ee,ze))},Ut.style=function(Ee,ze,Be){var Ue=arguments.length;if(Ue<3){if("string"!=typeof Ee){for(Be in Ue<2&&(ze=""),Ee)this.each(d3_selection_style(Be,Ee[Be],ze));return this}if(Ue<2){var We=this.node();return d3_window(We).getComputedStyle(We,null).getPropertyValue(Ee)}Be=""}return this.each(d3_selection_style(Ee,ze,Be))},Ut.property=function(Ee,ze){if(arguments.length<2){if("string"==typeof Ee)return this.node()[Ee];for(ze in Ee)this.each(d3_selection_property(ze,Ee[ze]));return this}return this.each(d3_selection_property(Ee,ze))},Ut.text=function(Ee){return arguments.length?this.each("function"==typeof Ee?function(){var ze=Ee.apply(this,arguments);this.textContent=null==ze?"":ze}:null==Ee?function(){this.textContent=""}:function(){this.textContent=Ee}):this.node().textContent},Ut.html=function(Ee){return arguments.length?this.each("function"==typeof Ee?function(){var ze=Ee.apply(this,arguments);this.innerHTML=null==ze?"":ze}:null==Ee?function(){this.innerHTML=""}:function(){this.innerHTML=Ee}):this.node().innerHTML},Ut.append=function(Ee){return Ee=d3_selection_creator(Ee),this.select((function(){return this.appendChild(Ee.apply(this,arguments))}))},Ut.insert=function(Ee,ze){return Ee=d3_selection_creator(Ee),ze=d3_selection_selector(ze),this.select((function(){return this.insertBefore(Ee.apply(this,arguments),ze.apply(this,arguments)||null)}))},Ut.remove=function(){return this.each(d3_selectionRemove)},Ut.data=function(Ee,ze){var Be,Ue,We=-1,$e=this.length;if(!arguments.length){for(Ee=new Array($e=(Be=this[0]).length);++We<$e;)(Ue=Be[We])&&(Ee[We]=Ue.__data__);return Ee}function bind(Ee,Be){var Ue,We,$e,rt=Ee.length,nt=Be.length,at=Math.min(rt,nt),it=new Array(nt),ct=new Array(nt),ft=new Array(rt);if(ze){var xt,kt=new d3_Map,Lt=new Array(rt);for(Ue=-1;++Ue<rt;)(We=Ee[Ue])&&(kt.has(xt=ze.call(We,We.__data__,Ue))?ft[Ue]=We:kt.set(xt,We),Lt[Ue]=xt);for(Ue=-1;++Ue<nt;)(We=kt.get(xt=ze.call(Be,$e=Be[Ue],Ue)))?!0!==We&&(it[Ue]=We,We.__data__=$e):ct[Ue]=d3_selection_dataNode($e),kt.set(xt,!0);for(Ue=-1;++Ue<rt;)Ue in Lt&&!0!==kt.get(Lt[Ue])&&(ft[Ue]=Ee[Ue])}else{for(Ue=-1;++Ue<at;)We=Ee[Ue],$e=Be[Ue],We?(We.__data__=$e,it[Ue]=We):ct[Ue]=d3_selection_dataNode($e);for(;Ue<nt;++Ue)ct[Ue]=d3_selection_dataNode(Be[Ue]);for(;Ue<rt;++Ue)ft[Ue]=Ee[Ue]}ct.update=it,ct.parentNode=it.parentNode=ft.parentNode=Ee.parentNode,Qe.push(ct),et.push(it),tt.push(ft)}var Qe=d3_selection_enter([]),et=d3_selection([]),tt=d3_selection([]);if("function"==typeof Ee)for(;++We<$e;)bind(Be=this[We],Ee.call(Be,Be.parentNode.__data__,We));else for(;++We<$e;)bind(Be=this[We],Ee);return et.enter=function(){return Qe},et.exit=function(){return tt},et},Ut.datum=function(Ee){return arguments.length?this.property("__data__",Ee):this.property("__data__")},Ut.filter=function(Ee){var ze,Be,Ue,We=[];"function"!=typeof Ee&&(Ee=d3_selection_filter(Ee));for(var $e=0,Qe=this.length;$e<Qe;$e++){We.push(ze=[]),ze.parentNode=(Be=this[$e]).parentNode;for(var et=0,tt=Be.length;et<tt;et++)(Ue=Be[et])&&Ee.call(Ue,Ue.__data__,et,$e)&&ze.push(Ue)}return d3_selection(We)},Ut.order=function(){for(var Ee=-1,ze=this.length;++Ee<ze;)for(var Be,Ue=this[Ee],We=Ue.length-1,$e=Ue[We];--We>=0;)(Be=Ue[We])&&($e&&$e!==Be.nextSibling&&$e.parentNode.insertBefore(Be,$e),$e=Be);return this},Ut.sort=function(Ee){Ee=d3_selection_sortComparator.apply(this,arguments);for(var ze=-1,Be=this.length;++ze<Be;)this[ze].sort(Ee);return this.order()},Ut.each=function(Ee){return d3_selection_each(this,(function(ze,Be,Ue){Ee.call(ze,ze.__data__,Be,Ue)}))},Ut.call=function(Ee){var ze=d3_array(arguments);return Ee.apply(ze[0]=this,ze),this},Ut.empty=function(){return!this.node()},Ut.node=function(){for(var Ee=0,ze=this.length;Ee<ze;Ee++)for(var Be=this[Ee],Ue=0,We=Be.length;Ue<We;Ue++){var $e=Be[Ue];if($e)return $e}return null},Ut.size=function(){var Ee=0;return d3_selection_each(this,(function(){++Ee})),Ee};var rr=[];function d3_selection_enterInsertBefore(Ee){var ze,Be;return function(Ue,We,$e){var Qe,et=Ee[$e].update,tt=et.length;for($e!=Be&&(Be=$e,ze=0),We>=ze&&(ze=We+1);!(Qe=et[ze])&&++ze<tt;);return Qe}}function d3_selection_on(Ee,ze,Be){var Ue="__on"+Ee,We=Ee.indexOf("."),Qe=d3_selection_onListener;We>0&&(Ee=Ee.slice(0,We));var et=ar.get(Ee);function onRemove(){var ze=this[Ue];ze&&(this.removeEventListener(Ee,ze,ze.$),delete this[Ue])}return et&&(Ee=et,Qe=d3_selection_onFilter),We?ze?function onAdd(){var We=Qe(ze,d3_array(arguments));onRemove.call(this),this.addEventListener(Ee,this[Ue]=We,We.$=Be),We._=ze}:onRemove:ze?d3_noop:function removeAll(){var ze,Be=new RegExp("^__on([^.]+)"+$e.requote(Ee)+"$");for(var Ue in this)if(ze=Ue.match(Be)){var We=this[Ue];this.removeEventListener(ze[1],We,We.$),delete this[Ue]}}}$e.selection.enter=d3_selection_enter,$e.selection.enter.prototype=rr,rr.append=Ut.append,rr.empty=Ut.empty,rr.node=Ut.node,rr.call=Ut.call,rr.size=Ut.size,rr.select=function(Ee){for(var ze,Be,Ue,We,$e,Qe=[],et=-1,tt=this.length;++et<tt;){Ue=(We=this[et]).update,Qe.push(ze=[]),ze.parentNode=We.parentNode;for(var rt=-1,nt=We.length;++rt<nt;)($e=We[rt])?(ze.push(Ue[rt]=Be=Ee.call(We.parentNode,$e.__data__,rt,et)),Be.__data__=$e.__data__):ze.push(null)}return d3_selection(Qe)},rr.insert=function(Ee,ze){return arguments.length<2&&(ze=d3_selection_enterInsertBefore(this)),Ut.insert.call(this,Ee,ze)},$e.select=function(Ee){var ze;return"string"==typeof Ee?(ze=[d3_select(Ee,et)]).parentNode=et.documentElement:(ze=[Ee]).parentNode=d3_documentElement(Ee),d3_selection([ze])},$e.selectAll=function(Ee){var ze;return"string"==typeof Ee?(ze=d3_array(d3_selectAll(Ee,et))).parentNode=et.documentElement:(ze=d3_array(Ee)).parentNode=null,d3_selection([ze])},Ut.on=function(Ee,ze,Be){var Ue=arguments.length;if(Ue<3){if("string"!=typeof Ee){for(Be in Ue<2&&(ze=!1),Ee)this.each(d3_selection_on(Be,Ee[Be],ze));return this}if(Ue<2)return(Ue=this.node()["__on"+Ee])&&Ue._;Be=!1}return this.each(d3_selection_on(Ee,ze,Be))};var ar=$e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function d3_selection_onListener(Ee,ze){return function(Be){var Ue=$e.event;$e.event=Be,ze[0]=this.__data__;try{Ee.apply(this,ze)}finally{$e.event=Ue}}}function d3_selection_onFilter(Ee,ze){var Be=d3_selection_onListener(Ee,ze);return function(Ee){var ze=Ee.relatedTarget;ze&&(ze===this||8&ze.compareDocumentPosition(this))||Be.call(this,Ee)}}et&&ar.forEach((function(Ee){"on"+Ee in et&&ar.remove(Ee)}));var Lr,Qr=0;function d3_event_dragSuppress(Ee){var ze=".dragsuppress-"+ ++Qr,Be="click"+ze,Ue=$e.select(d3_window(Ee)).on("touchmove"+ze,d3_eventPreventDefault).on("dragstart"+ze,d3_eventPreventDefault).on("selectstart"+ze,d3_eventPreventDefault);if(null==Lr&&(Lr=!("onselectstart"in Ee)&&d3_vendorSymbol(Ee.style,"userSelect")),Lr){var We=d3_documentElement(Ee).style,Qe=We[Lr];We[Lr]="none"}return function(Ee){if(Ue.on(ze,null),Lr&&(We[Lr]=Qe),Ee){var off=function(){Ue.on(Be,null)};Ue.on(Be,(function(){d3_eventPreventDefault(),off()}),!0),setTimeout(off,0)}}}$e.mouse=function(Ee){return d3_mousePoint(Ee,d3_eventSource())};var on=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function d3_mousePoint(Ee,ze){ze.changedTouches&&(ze=ze.changedTouches[0]);var Be=Ee.ownerSVGElement||Ee;if(Be.createSVGPoint){var Ue=Be.createSVGPoint();if(on<0){var We=d3_window(Ee);if(We.scrollX||We.scrollY){var Qe=(Be=$e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();on=!(Qe.f||Qe.e),Be.remove()}}return on?(Ue.x=ze.pageX,Ue.y=ze.pageY):(Ue.x=ze.clientX,Ue.y=ze.clientY),[(Ue=Ue.matrixTransform(Ee.getScreenCTM().inverse())).x,Ue.y]}var et=Ee.getBoundingClientRect();return[ze.clientX-et.left-Ee.clientLeft,ze.clientY-et.top-Ee.clientTop]}function d3_behavior_dragTouchId(){return $e.event.changedTouches[0].identifier}$e.touch=function(Ee,ze,Be){if(arguments.length<3&&(Be=ze,ze=d3_eventSource().changedTouches),ze)for(var Ue,We=0,$e=ze.length;We<$e;++We)if((Ue=ze[We]).identifier===Be)return d3_mousePoint(Ee,Ue)},$e.behavior.drag=function(){var Ee=d3_eventDispatch(drag,"drag","dragstart","dragend"),ze=null,Be=dragstart(d3_noop,$e.mouse,d3_window,"mousemove","mouseup"),Ue=dragstart(d3_behavior_dragTouchId,$e.touch,d3_identity,"touchmove","touchend");function drag(){this.on("mousedown.drag",Be).on("touchstart.drag",Ue)}function dragstart(Be,Ue,We,Qe,et){return function(){var tt,rt=this,nt=$e.event.target.correspondingElement||$e.event.target,at=rt.parentNode,it=Ee.of(rt,arguments),ct=0,ft=Be(),xt=".drag"+(null==ft?"":"-"+ft),kt=$e.select(We(nt)).on(Qe+xt,moved).on(et+xt,ended),Lt=d3_event_dragSuppress(nt),Ut=Ue(at,ft);function moved(){var Ee,ze,Be=Ue(at,ft);Be&&(Ee=Be[0]-Ut[0],ze=Be[1]-Ut[1],ct|=Ee|ze,Ut=Be,it({type:"drag",x:Be[0]+tt[0],y:Be[1]+tt[1],dx:Ee,dy:ze}))}function ended(){Ue(at,ft)&&(kt.on(Qe+xt,null).on(et+xt,null),Lt(ct),it({type:"dragend"}))}tt=ze?[(tt=ze.apply(rt,arguments)).x-Ut[0],tt.y-Ut[1]]:[0,0],it({type:"dragstart"})}}return drag.origin=function(Ee){return arguments.length?(ze=Ee,drag):ze},$e.rebind(drag,Ee,"on")},$e.touches=function(Ee,ze){return arguments.length<2&&(ze=d3_eventSource().touches),ze?d3_array(ze).map((function(ze){var Be=d3_mousePoint(Ee,ze);return Be.identifier=ze.identifier,Be})):[]};var sn=1e-6,ln=1e-12,cn=Math.PI,un=2*cn,hn=un-sn,dn=cn/2,vn=cn/180,yn=180/cn;function d3_sgn(Ee){return Ee>0?1:Ee<0?-1:0}function d3_cross2d(Ee,ze,Be){return(ze[0]-Ee[0])*(Be[1]-Ee[1])-(ze[1]-Ee[1])*(Be[0]-Ee[0])}function d3_acos(Ee){return Ee>1?0:Ee<-1?cn:Math.acos(Ee)}function d3_asin(Ee){return Ee>1?dn:Ee<-1?-dn:Math.asin(Ee)}function d3_cosh(Ee){return((Ee=Math.exp(Ee))+1/Ee)/2}function d3_haversin(Ee){return(Ee=Math.sin(Ee/2))*Ee}var _n=Math.SQRT2;$e.interpolateZoom=function(Ee,ze){var Be,Ue,We=Ee[0],$e=Ee[1],Qe=Ee[2],et=ze[0],tt=ze[1],rt=ze[2],nt=et-We,at=tt-$e,it=nt*nt+at*at;if(it<ln)Ue=Math.log(rt/Qe)/_n,Be=function(Ee){return[We+Ee*nt,$e+Ee*at,Qe*Math.exp(_n*Ee*Ue)]};else{var ct=Math.sqrt(it),ft=(rt*rt-Qe*Qe+4*it)/(2*Qe*2*ct),xt=(rt*rt-Qe*Qe-4*it)/(2*rt*2*ct),kt=Math.log(Math.sqrt(ft*ft+1)-ft),Lt=Math.log(Math.sqrt(xt*xt+1)-xt);Ue=(Lt-kt)/_n,Be=function(Ee){var ze=Ee*Ue,Be=d3_cosh(kt),et=Qe/(2*ct)*(Be*function d3_tanh(Ee){return((Ee=Math.exp(2*Ee))-1)/(Ee+1)}(_n*ze+kt)-function d3_sinh(Ee){return((Ee=Math.exp(Ee))-1/Ee)/2}(kt));return[We+et*nt,$e+et*at,Qe*Be/d3_cosh(_n*ze+kt)]}}return Be.duration=1e3*Ue,Be},$e.behavior.zoom=function(){var Ee,ze,Be,Ue,We,Qe,tt,rt,nt,at={x:0,y:0,k:1},it=[960,500],ct=En,ft=250,xt=0,kt="mousedown.zoom",Lt="mousemove.zoom",Ut="mouseup.zoom",er="touchstart.zoom",tr=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");function zoom(Ee){Ee.on(kt,mousedowned).on(Cn+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(er,touchstarted)}function location(Ee){return[(Ee[0]-at.x)/at.k,(Ee[1]-at.y)/at.k]}function scaleTo(Ee){at.k=Math.max(ct[0],Math.min(ct[1],Ee))}function translateTo(Ee,ze){ze=function point(Ee){return[Ee[0]*at.k+at.x,Ee[1]*at.k+at.y]}(ze),at.x+=Ee[0]-ze[0],at.y+=Ee[1]-ze[1]}function zoomTo(Ee,Be,Ue,We){Ee.__chart__={x:at.x,y:at.y,k:at.k},scaleTo(Math.pow(2,We)),translateTo(ze=Be,Ue),Ee=$e.select(Ee),ft>0&&(Ee=Ee.transition().duration(ft)),Ee.call(zoom.event)}function rescale(){tt&&tt.domain(Qe.range().map((function(Ee){return(Ee-at.x)/at.k})).map(Qe.invert)),nt&&nt.domain(rt.range().map((function(Ee){return(Ee-at.y)/at.k})).map(rt.invert))}function zoomstarted(Ee){xt++||Ee({type:"zoomstart"})}function zoomed(Ee){rescale(),Ee({type:"zoom",scale:at.k,translate:[at.x,at.y]})}function zoomended(Ee){--xt||(Ee({type:"zoomend"}),ze=null)}function mousedowned(){var Ee=this,ze=tr.of(Ee,arguments),Be=0,Ue=$e.select(d3_window(Ee)).on(Lt,moved).on(Ut,ended),We=location($e.mouse(Ee)),Qe=d3_event_dragSuppress(Ee);function moved(){Be=1,translateTo($e.mouse(Ee),We),zoomed(ze)}function ended(){Ue.on(Lt,null).on(Ut,null),Qe(Be),zoomended(ze)}zl.call(Ee),zoomstarted(ze)}function touchstarted(){var Ee,ze=this,Be=tr.of(ze,arguments),Ue={},Qe=0,et=".zoom-"+$e.event.changedTouches[0].identifier,tt="touchmove"+et,rt="touchend"+et,nt=[],it=$e.select(ze),ct=d3_event_dragSuppress(ze);function relocate(){var Be=$e.touches(ze);return Ee=at.k,Be.forEach((function(Ee){Ee.identifier in Ue&&(Ue[Ee.identifier]=location(Ee))})),Be}function started(){var Ee=$e.event.target;$e.select(Ee).on(tt,moved).on(rt,ended),nt.push(Ee);for(var Be=$e.event.changedTouches,et=0,it=Be.length;et<it;++et)Ue[Be[et].identifier]=null;var ct=relocate(),ft=Date.now();if(1===ct.length){if(ft-We<500){var xt=ct[0];zoomTo(ze,xt,Ue[xt.identifier],Math.floor(Math.log(at.k)/Math.LN2)+1),d3_eventPreventDefault()}We=ft}else if(ct.length>1){xt=ct[0];var kt=ct[1],Lt=xt[0]-kt[0],Ut=xt[1]-kt[1];Qe=Lt*Lt+Ut*Ut}}function moved(){var et,tt,rt,nt,at=$e.touches(ze);zl.call(ze);for(var it=0,ct=at.length;it<ct;++it,nt=null)if(rt=at[it],nt=Ue[rt.identifier]){if(tt)break;et=rt,tt=nt}if(nt){var ft=(ft=rt[0]-et[0])*ft+(ft=rt[1]-et[1])*ft,xt=Qe&&Math.sqrt(ft/Qe);et=[(et[0]+rt[0])/2,(et[1]+rt[1])/2],tt=[(tt[0]+nt[0])/2,(tt[1]+nt[1])/2],scaleTo(xt*Ee)}We=null,translateTo(et,tt),zoomed(Be)}function ended(){if($e.event.touches.length){for(var Ee=$e.event.changedTouches,ze=0,We=Ee.length;ze<We;++ze)delete Ue[Ee[ze].identifier];for(var Qe in Ue)return void relocate()}$e.selectAll(nt).on(et,null),it.on(kt,mousedowned).on(er,touchstarted),ct(),zoomended(Be)}started(),zoomstarted(Be),it.on(kt,null).on(er,started)}function mousewheeled(){var We=tr.of(this,arguments);Ue?clearTimeout(Ue):(zl.call(this),Ee=location(ze=Be||$e.mouse(this)),zoomstarted(We)),Ue=setTimeout((function(){Ue=null,zoomended(We)}),50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*Mn())*at.k),translateTo(ze,Ee),zoomed(We)}function dblclicked(){var Ee=$e.mouse(this),ze=Math.log(at.k)/Math.LN2;zoomTo(this,Ee,location(Ee),$e.event.shiftKey?Math.ceil(ze)-1:Math.floor(ze)+1)}return Cn||(Cn="onwheel"in et?(Mn=function(){return-$e.event.deltaY*($e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in et?(Mn=function(){return $e.event.wheelDelta},"mousewheel"):(Mn=function(){return-$e.event.detail},"MozMousePixelScroll")),zoom.event=function(Ee){Ee.each((function(){var Ee=tr.of(this,arguments),Be=at;Rl?$e.select(this).transition().each("start.zoom",(function(){at=this.__chart__||{x:0,y:0,k:1},zoomstarted(Ee)})).tween("zoom:zoom",(function(){var Ue=it[0],We=it[1],Qe=ze?ze[0]:Ue/2,et=ze?ze[1]:We/2,tt=$e.interpolateZoom([(Qe-at.x)/at.k,(et-at.y)/at.k,Ue/at.k],[(Qe-Be.x)/Be.k,(et-Be.y)/Be.k,Ue/Be.k]);return function(ze){var Be=tt(ze),We=Ue/Be[2];this.__chart__=at={x:Qe-Be[0]*We,y:et-Be[1]*We,k:We},zoomed(Ee)}})).each("interrupt.zoom",(function(){zoomended(Ee)})).each("end.zoom",(function(){zoomended(Ee)})):(this.__chart__=at,zoomstarted(Ee),zoomed(Ee),zoomended(Ee))}))},zoom.translate=function(Ee){return arguments.length?(at={x:+Ee[0],y:+Ee[1],k:at.k},rescale(),zoom):[at.x,at.y]},zoom.scale=function(Ee){return arguments.length?(at={x:at.x,y:at.y,k:null},scaleTo(+Ee),rescale(),zoom):at.k},zoom.scaleExtent=function(Ee){return arguments.length?(ct=null==Ee?En:[+Ee[0],+Ee[1]],zoom):ct},zoom.center=function(Ee){return arguments.length?(Be=Ee&&[+Ee[0],+Ee[1]],zoom):Be},zoom.size=function(Ee){return arguments.length?(it=Ee&&[+Ee[0],+Ee[1]],zoom):it},zoom.duration=function(Ee){return arguments.length?(ft=+Ee,zoom):ft},zoom.x=function(Ee){return arguments.length?(tt=Ee,Qe=Ee.copy(),at={x:0,y:0,k:1},zoom):tt},zoom.y=function(Ee){return arguments.length?(nt=Ee,rt=Ee.copy(),at={x:0,y:0,k:1},zoom):nt},$e.rebind(zoom,tr,"on")};var Mn,Cn,En=[0,1/0];function d3_color(){}function d3_hsl(Ee,ze,Be){return this instanceof d3_hsl?(this.h=+Ee,this.s=+ze,void(this.l=+Be)):arguments.length<2?Ee instanceof d3_hsl?new d3_hsl(Ee.h,Ee.s,Ee.l):d3_rgb_parse(""+Ee,d3_rgb_hsl,d3_hsl):new d3_hsl(Ee,ze,Be)}$e.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},$e.hsl=d3_hsl;var Pn=d3_hsl.prototype=new d3_color;function d3_hsl_rgb(Ee,ze,Be){var Ue,We;function vv(Ee){return Math.round(255*function v(Ee){return Ee>360?Ee-=360:Ee<0&&(Ee+=360),Ee<60?Ue+(We-Ue)*Ee/60:Ee<180?We:Ee<240?Ue+(We-Ue)*(240-Ee)/60:Ue}(Ee))}return Ee=isNaN(Ee)?0:(Ee%=360)<0?Ee+360:Ee,ze=isNaN(ze)||ze<0?0:ze>1?1:ze,Ue=2*(Be=Be<0?0:Be>1?1:Be)-(We=Be<=.5?Be*(1+ze):Be+ze-Be*ze),new d3_rgb(vv(Ee+120),vv(Ee),vv(Ee-120))}function d3_hcl(Ee,ze,Be){return this instanceof d3_hcl?(this.h=+Ee,this.c=+ze,void(this.l=+Be)):arguments.length<2?Ee instanceof d3_hcl?new d3_hcl(Ee.h,Ee.c,Ee.l):d3_lab_hcl(Ee instanceof d3_lab?Ee.l:(Ee=d3_rgb_lab((Ee=$e.rgb(Ee)).r,Ee.g,Ee.b)).l,Ee.a,Ee.b):new d3_hcl(Ee,ze,Be)}Pn.brighter=function(Ee){return Ee=Math.pow(.7,arguments.length?Ee:1),new d3_hsl(this.h,this.s,this.l/Ee)},Pn.darker=function(Ee){return Ee=Math.pow(.7,arguments.length?Ee:1),new d3_hsl(this.h,this.s,Ee*this.l)},Pn.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},$e.hcl=d3_hcl;var In=d3_hcl.prototype=new d3_color;function d3_hcl_lab(Ee,ze,Be){return isNaN(Ee)&&(Ee=0),isNaN(ze)&&(ze=0),new d3_lab(Be,Math.cos(Ee*=vn)*ze,Math.sin(Ee)*ze)}function d3_lab(Ee,ze,Be){return this instanceof d3_lab?(this.l=+Ee,this.a=+ze,void(this.b=+Be)):arguments.length<2?Ee instanceof d3_lab?new d3_lab(Ee.l,Ee.a,Ee.b):Ee instanceof d3_hcl?d3_hcl_lab(Ee.h,Ee.c,Ee.l):d3_rgb_lab((Ee=d3_rgb(Ee)).r,Ee.g,Ee.b):new d3_lab(Ee,ze,Be)}In.brighter=function(Ee){return new d3_hcl(this.h,this.c,Math.min(100,this.l+Bn*(arguments.length?Ee:1)))},In.darker=function(Ee){return new d3_hcl(this.h,this.c,Math.max(0,this.l-Bn*(arguments.length?Ee:1)))},In.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},$e.lab=d3_lab;var Bn=18,Hn=d3_lab.prototype=new d3_color;function d3_lab_rgb(Ee,ze,Be){var Ue=(Ee+16)/116,We=Ue+ze/500,$e=Ue-Be/200;return new d3_rgb(d3_xyz_rgb(3.2404542*(We=.95047*d3_lab_xyz(We))-1.5371385*(Ue=1*d3_lab_xyz(Ue))-.4985314*($e=1.08883*d3_lab_xyz($e))),d3_xyz_rgb(-.969266*We+1.8760108*Ue+.041556*$e),d3_xyz_rgb(.0556434*We-.2040259*Ue+1.0572252*$e))}function d3_lab_hcl(Ee,ze,Be){return Ee>0?new d3_hcl(Math.atan2(Be,ze)*yn,Math.sqrt(ze*ze+Be*Be),Ee):new d3_hcl(NaN,NaN,Ee)}function d3_lab_xyz(Ee){return Ee>.206893034?Ee*Ee*Ee:(Ee-4/29)/7.787037}function d3_xyz_lab(Ee){return Ee>.008856?Math.pow(Ee,1/3):7.787037*Ee+4/29}function d3_xyz_rgb(Ee){return Math.round(255*(Ee<=.00304?12.92*Ee:1.055*Math.pow(Ee,1/2.4)-.055))}function d3_rgb(Ee,ze,Be){return this instanceof d3_rgb?(this.r=~~Ee,this.g=~~ze,void(this.b=~~Be)):arguments.length<2?Ee instanceof d3_rgb?new d3_rgb(Ee.r,Ee.g,Ee.b):d3_rgb_parse(""+Ee,d3_rgb,d3_hsl_rgb):new d3_rgb(Ee,ze,Be)}function d3_rgbNumber(Ee){return new d3_rgb(Ee>>16,Ee>>8&255,255&Ee)}function d3_rgbString(Ee){return d3_rgbNumber(Ee)+""}Hn.brighter=function(Ee){return new d3_lab(Math.min(100,this.l+Bn*(arguments.length?Ee:1)),this.a,this.b)},Hn.darker=function(Ee){return new d3_lab(Math.max(0,this.l-Bn*(arguments.length?Ee:1)),this.a,this.b)},Hn.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},$e.rgb=d3_rgb;var Kn=d3_rgb.prototype=new d3_color;function d3_rgb_hex(Ee){return Ee<16?"0"+Math.max(0,Ee).toString(16):Math.min(255,Ee).toString(16)}function d3_rgb_parse(Ee,ze,Be){var Ue,We,$e,Qe=0,et=0,tt=0;if(Ue=/([a-z]+)\((.*)\)/.exec(Ee=Ee.toLowerCase()))switch(We=Ue[2].split(","),Ue[1]){case"hsl":return Be(parseFloat(We[0]),parseFloat(We[1])/100,parseFloat(We[2])/100);case"rgb":return ze(d3_rgb_parseNumber(We[0]),d3_rgb_parseNumber(We[1]),d3_rgb_parseNumber(We[2]))}return($e=Jn.get(Ee))?ze($e.r,$e.g,$e.b):(null==Ee||"#"!==Ee.charAt(0)||isNaN($e=parseInt(Ee.slice(1),16))||(4===Ee.length?(Qe=(3840&$e)>>4,Qe|=Qe>>4,et=240&$e,et|=et>>4,tt=15&$e,tt|=tt<<4):7===Ee.length&&(Qe=(16711680&$e)>>16,et=(65280&$e)>>8,tt=255&$e)),ze(Qe,et,tt))}function d3_rgb_hsl(Ee,ze,Be){var Ue,We,$e=Math.min(Ee/=255,ze/=255,Be/=255),Qe=Math.max(Ee,ze,Be),et=Qe-$e,tt=(Qe+$e)/2;return et?(We=tt<.5?et/(Qe+$e):et/(2-Qe-$e),Ue=Ee==Qe?(ze-Be)/et+(ze<Be?6:0):ze==Qe?(Be-Ee)/et+2:(Ee-ze)/et+4,Ue*=60):(Ue=NaN,We=tt>0&&tt<1?0:Ue),new d3_hsl(Ue,We,tt)}function d3_rgb_lab(Ee,ze,Be){var Ue=d3_xyz_lab((.4124564*(Ee=d3_rgb_xyz(Ee))+.3575761*(ze=d3_rgb_xyz(ze))+.1804375*(Be=d3_rgb_xyz(Be)))/.95047),We=d3_xyz_lab((.2126729*Ee+.7151522*ze+.072175*Be)/1);return d3_lab(116*We-16,500*(Ue-We),200*(We-d3_xyz_lab((.0193339*Ee+.119192*ze+.9503041*Be)/1.08883)))}function d3_rgb_xyz(Ee){return(Ee/=255)<=.04045?Ee/12.92:Math.pow((Ee+.055)/1.055,2.4)}function d3_rgb_parseNumber(Ee){var ze=parseFloat(Ee);return"%"===Ee.charAt(Ee.length-1)?Math.round(2.55*ze):ze}Kn.brighter=function(Ee){Ee=Math.pow(.7,arguments.length?Ee:1);var ze=this.r,Be=this.g,Ue=this.b,We=30;return ze||Be||Ue?(ze&&ze<We&&(ze=We),Be&&Be<We&&(Be=We),Ue&&Ue<We&&(Ue=We),new d3_rgb(Math.min(255,ze/Ee),Math.min(255,Be/Ee),Math.min(255,Ue/Ee))):new d3_rgb(We,We,We)},Kn.darker=function(Ee){return new d3_rgb((Ee=Math.pow(.7,arguments.length?Ee:1))*this.r,Ee*this.g,Ee*this.b)},Kn.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},Kn.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var Jn=$e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function d3_functor(Ee){return"function"==typeof Ee?Ee:function(){return Ee}}function d3_xhrType(Ee){return function(ze,Be,Ue){return 2===arguments.length&&"function"==typeof Be&&(Ue=Be,Be=null),d3_xhr(ze,Be,Ee,Ue)}}function d3_xhr(Ee,ze,Be,Ue){var We={},Qe=$e.dispatch("beforesend","progress","load","error"),et={},tt=new XMLHttpRequest,rt=null;function respond(){var Ee,ze=tt.status;if(!ze&&function d3_xhrHasResponse(Ee){var ze=Ee.responseType;return ze&&"text"!==ze?Ee.response:Ee.responseText}(tt)||ze>=200&&ze<300||304===ze){try{Ee=Be.call(We,tt)}catch(Ee){return void Qe.error.call(We,Ee)}Qe.load.call(We,Ee)}else Qe.error.call(We,tt)}return this.XDomainRequest&&!("withCredentials"in tt)&&/^(http(s)?:)?\/\//.test(Ee)&&(tt=new XDomainRequest),"onload"in tt?tt.onload=tt.onerror=respond:tt.onreadystatechange=function(){tt.readyState>3&&respond()},tt.onprogress=function(Ee){var ze=$e.event;$e.event=Ee;try{Qe.progress.call(We,tt)}finally{$e.event=ze}},We.header=function(Ee,ze){return Ee=(Ee+"").toLowerCase(),arguments.length<2?et[Ee]:(null==ze?delete et[Ee]:et[Ee]=ze+"",We)},We.mimeType=function(Ee){return arguments.length?(ze=null==Ee?null:Ee+"",We):ze},We.responseType=function(Ee){return arguments.length?(rt=Ee,We):rt},We.response=function(Ee){return Be=Ee,We},["get","post"].forEach((function(Ee){We[Ee]=function(){return We.send.apply(We,[Ee].concat(d3_array(arguments)))}})),We.send=function(Be,Ue,$e){if(2===arguments.length&&"function"==typeof Ue&&($e=Ue,Ue=null),tt.open(Be,Ee,!0),null==ze||"accept"in et||(et.accept=ze+",*/*"),tt.setRequestHeader)for(var nt in et)tt.setRequestHeader(nt,et[nt]);return null!=ze&&tt.overrideMimeType&&tt.overrideMimeType(ze),null!=rt&&(tt.responseType=rt),null!=$e&&We.on("error",$e).on("load",(function(Ee){$e(null,Ee)})),Qe.beforesend.call(We,tt),tt.send(null==Ue?null:Ue),We},We.abort=function(){return tt.abort(),We},$e.rebind(We,Qe,"on"),null==Ue?We:We.get(function d3_xhr_fixCallback(Ee){return 1===Ee.length?function(ze,Be){Ee(null==ze?Be:null)}:Ee}(Ue))}Jn.forEach((function(Ee,ze){Jn.set(Ee,d3_rgbNumber(ze))})),$e.functor=d3_functor,$e.xhr=d3_xhrType(d3_identity),$e.dsv=function(Ee,ze){var Be=new RegExp('["'+Ee+"\n]"),Ue=Ee.charCodeAt(0);function dsv(Ee,Be,Ue){arguments.length<3&&(Ue=Be,Be=null);var We=d3_xhr(Ee,ze,null==Be?response:typedResponse(Be),Ue);return We.row=function(Ee){return arguments.length?We.response(null==(Be=Ee)?response:typedResponse(Ee)):Be},We}function response(Ee){return dsv.parse(Ee.responseText)}function typedResponse(Ee){return function(ze){return dsv.parse(ze.responseText,Ee)}}function formatRow(ze){return ze.map(formatValue).join(Ee)}function formatValue(Ee){return Be.test(Ee)?'"'+Ee.replace(/\"/g,'""')+'"':Ee}return dsv.parse=function(Ee,ze){var Be;return dsv.parseRows(Ee,(function(Ee,Ue){if(Be)return Be(Ee,Ue-1);var We=new Function("d","return {"+Ee.map((function(Ee,ze){return JSON.stringify(Ee)+": d["+ze+"]"})).join(",")+"}");Be=ze?function(Ee,Be){return ze(We(Ee),Be)}:We}))},dsv.parseRows=function(Ee,ze){var Be,We,$e={},Qe={},et=[],tt=Ee.length,rt=0,nt=0;function token(){if(rt>=tt)return Qe;if(We)return We=!1,$e;var ze=rt;if(34===Ee.charCodeAt(ze)){for(var Be=ze;Be++<tt;)if(34===Ee.charCodeAt(Be)){if(34!==Ee.charCodeAt(Be+1))break;++Be}return rt=Be+2,13===(et=Ee.charCodeAt(Be+1))?(We=!0,10===Ee.charCodeAt(Be+2)&&++rt):10===et&&(We=!0),Ee.slice(ze+1,Be).replace(/""/g,'"')}for(;rt<tt;){var et,nt=1;if(10===(et=Ee.charCodeAt(rt++)))We=!0;else if(13===et)We=!0,10===Ee.charCodeAt(rt)&&(++rt,++nt);else if(et!==Ue)continue;return Ee.slice(ze,rt-nt)}return Ee.slice(ze)}for(;(Be=token())!==Qe;){for(var at=[];Be!==$e&&Be!==Qe;)at.push(Be),Be=token();ze&&null==(at=ze(at,nt++))||et.push(at)}return et},dsv.format=function(ze){if(Array.isArray(ze[0]))return dsv.formatRows(ze);var Be=new d3_Set,Ue=[];return ze.forEach((function(Ee){for(var ze in Ee)Be.has(ze)||Ue.push(Be.add(ze))})),[Ue.map(formatValue).join(Ee)].concat(ze.map((function(ze){return Ue.map((function(Ee){return formatValue(ze[Ee])})).join(Ee)}))).join("\n")},dsv.formatRows=function(Ee){return Ee.map(formatRow).join("\n")},dsv},$e.csv=$e.dsv(",","text/csv"),$e.tsv=$e.dsv("\t","text/tab-separated-values");var Ma,Sa,La,Ia,Ra=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(Ee){setTimeout(Ee,17)};function d3_timer(Ee,ze,Be){var Ue=arguments.length;Ue<2&&(ze=0),Ue<3&&(Be=Date.now());var We=Be+ze,$e={c:Ee,t:We,n:null};return Sa?Sa.n=$e:Ma=$e,Sa=$e,La||(Ia=clearTimeout(Ia),La=1,Ra(d3_timer_step)),$e}function d3_timer_step(){var Ee=d3_timer_mark(),ze=d3_timer_sweep()-Ee;ze>24?(isFinite(ze)&&(clearTimeout(Ia),Ia=setTimeout(d3_timer_step,ze)),La=0):(La=1,Ra(d3_timer_step))}function d3_timer_mark(){for(var Ee=Date.now(),ze=Ma;ze;)Ee>=ze.t&&ze.c(Ee-ze.t)&&(ze.c=null),ze=ze.n;return Ee}function d3_timer_sweep(){for(var Ee,ze=Ma,Be=1/0;ze;)ze.c?(ze.t<Be&&(Be=ze.t),ze=(Ee=ze).n):ze=Ee?Ee.n=ze.n:Ma=ze.n;return Sa=Ee,Be}function d3_format_precision(Ee,ze){return ze-(Ee?Math.ceil(Math.log(Ee)/Math.LN10):1)}$e.timer=function(){d3_timer.apply(this,arguments)},$e.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},$e.round=function(Ee,ze){return ze?Math.round(Ee*(ze=Math.pow(10,ze)))/ze:Math.round(Ee)};var Na=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function d3_formatPrefix(Ee,ze){var Be=Math.pow(10,3*ft(8-ze));return{scale:ze>8?function(Ee){return Ee/Be}:function(Ee){return Ee*Be},symbol:Ee}}));function d3_locale_numberFormat(Ee){var ze=Ee.decimal,Be=Ee.thousands,Ue=Ee.grouping,We=Ee.currency,Qe=Ue&&Be?function(Ee,ze){for(var We=Ee.length,$e=[],Qe=0,et=Ue[0],tt=0;We>0&&et>0&&(tt+et+1>ze&&(et=Math.max(1,ze-tt)),$e.push(Ee.substring(We-=et,We+et)),!((tt+=et+1)>ze));)et=Ue[Qe=(Qe+1)%Ue.length];return $e.reverse().join(Be)}:d3_identity;return function(Ee){var Be=Ua.exec(Ee),Ue=Be[1]||" ",et=Be[2]||">",tt=Be[3]||"-",rt=Be[4]||"",nt=Be[5],at=+Be[6],it=Be[7],ct=Be[8],ft=Be[9],xt=1,kt="",Lt="",Ut=!1,er=!0;switch(ct&&(ct=+ct.substring(1)),(nt||"0"===Ue&&"="===et)&&(nt=Ue="0",et="="),ft){case"n":it=!0,ft="g";break;case"%":xt=100,Lt="%",ft="f";break;case"p":xt=100,Lt="%",ft="r";break;case"b":case"o":case"x":case"X":"#"===rt&&(kt="0"+ft.toLowerCase());case"c":er=!1;case"d":Ut=!0,ct=0;break;case"s":xt=-1,ft="r"}"$"===rt&&(kt=We[0],Lt=We[1]),"r"!=ft||ct||(ft="g"),null!=ct&&("g"==ft?ct=Math.max(1,Math.min(21,ct)):"e"!=ft&&"f"!=ft||(ct=Math.max(0,Math.min(20,ct)))),ft=qa.get(ft)||d3_format_typeDefault;var tr=nt&&it;return function(Ee){var Be=Lt;if(Ut&&Ee%1)return"";var We=Ee<0||0===Ee&&1/Ee<0?(Ee=-Ee,"-"):"-"===tt?"":tt;if(xt<0){var rt=$e.formatPrefix(Ee,ct);Ee=rt.scale(Ee),Be=rt.symbol+Lt}else Ee*=xt;var rr,ar,Lr=(Ee=ft(Ee,ct)).lastIndexOf(".");if(Lr<0){var Qr=er?Ee.lastIndexOf("e"):-1;Qr<0?(rr=Ee,ar=""):(rr=Ee.substring(0,Qr),ar=Ee.substring(Qr))}else rr=Ee.substring(0,Lr),ar=ze+Ee.substring(Lr+1);!nt&&it&&(rr=Qe(rr,1/0));var on=kt.length+rr.length+ar.length+(tr?0:We.length),sn=on<at?new Array(on=at-on+1).join(Ue):"";return tr&&(rr=Qe(sn+rr,sn.length?at-ar.length:1/0)),We+=kt,Ee=rr+ar,("<"===et?We+Ee+sn:">"===et?sn+We+Ee:"^"===et?sn.substring(0,on>>=1)+We+Ee+sn.substring(on):We+(tr?Ee:sn+Ee))+Be}}}$e.formatPrefix=function(Ee,ze){var Be=0;return(Ee=+Ee)&&(Ee<0&&(Ee*=-1),ze&&(Ee=$e.round(Ee,d3_format_precision(Ee,ze))),Be=1+Math.floor(1e-12+Math.log(Ee)/Math.LN10),Be=Math.max(-24,Math.min(24,3*Math.floor((Be-1)/3)))),Na[8+Be/3]};var Ua=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,qa=$e.map({b:function(Ee){return Ee.toString(2)},c:function(Ee){return String.fromCharCode(Ee)},o:function(Ee){return Ee.toString(8)},x:function(Ee){return Ee.toString(16)},X:function(Ee){return Ee.toString(16).toUpperCase()},g:function(Ee,ze){return Ee.toPrecision(ze)},e:function(Ee,ze){return Ee.toExponential(ze)},f:function(Ee,ze){return Ee.toFixed(ze)},r:function(Ee,ze){return(Ee=$e.round(Ee,d3_format_precision(Ee,ze))).toFixed(Math.max(0,Math.min(20,d3_format_precision(Ee*(1+1e-15),ze))))}});function d3_format_typeDefault(Ee){return Ee+""}var Ka=$e.time={},ei=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ti.setUTCDate.apply(this._,arguments)},setDay:function(){ti.setUTCDay.apply(this._,arguments)},setFullYear:function(){ti.setUTCFullYear.apply(this._,arguments)},setHours:function(){ti.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ti.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ti.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ti.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ti.setUTCSeconds.apply(this._,arguments)},setTime:function(){ti.setTime.apply(this._,arguments)}};var ti=Date.prototype;function d3_time_interval(Ee,ze,Be){function round(ze){var Be=Ee(ze),Ue=offset(Be,1);return ze-Be<Ue-ze?Be:Ue}function ceil(Be){return ze(Be=Ee(new ei(Be-1)),1),Be}function offset(Ee,Be){return ze(Ee=new ei(+Ee),Be),Ee}function range(Ee,Ue,We){var $e=ceil(Ee),Qe=[];if(We>1)for(;$e<Ue;)Be($e)%We||Qe.push(new Date(+$e)),ze($e,1);else for(;$e<Ue;)Qe.push(new Date(+$e)),ze($e,1);return Qe}Ee.floor=Ee,Ee.round=round,Ee.ceil=ceil,Ee.offset=offset,Ee.range=range;var Ue=Ee.utc=d3_time_interval_utc(Ee);return Ue.floor=Ue,Ue.round=d3_time_interval_utc(round),Ue.ceil=d3_time_interval_utc(ceil),Ue.offset=d3_time_interval_utc(offset),Ue.range=function range_utc(Ee,ze,Be){try{ei=d3_date_utc;var Ue=new d3_date_utc;return Ue._=Ee,range(Ue,ze,Be)}finally{ei=Date}},Ee}function d3_time_interval_utc(Ee){return function(ze,Be){try{ei=d3_date_utc;var Ue=new d3_date_utc;return Ue._=ze,Ee(Ue,Be)._}finally{ei=Date}}}function d3_locale_timeFormat(Ee){var ze=Ee.dateTime,Be=Ee.date,Ue=Ee.time,We=Ee.periods,Qe=Ee.days,et=Ee.shortDays,tt=Ee.months,rt=Ee.shortMonths;function d3_time_format(Ee){var ze=Ee.length;function format(Be){for(var Ue,We,$e,Qe=[],et=-1,tt=0;++et<ze;)37===Ee.charCodeAt(et)&&(Qe.push(Ee.slice(tt,et)),null!=(We=ri[Ue=Ee.charAt(++et)])&&(Ue=Ee.charAt(++et)),($e=er[Ue])&&(Ue=$e(Be,null==We?"e"===Ue?" ":"0":We)),Qe.push(Ue),tt=et+1);return Qe.push(Ee.slice(tt,et)),Qe.join("")}return format.parse=function(ze){var Be={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(Be,Ee,ze,0)!=ze.length)return null;"p"in Be&&(Be.H=Be.H%12+12*Be.p);var Ue=null!=Be.Z&&ei!==d3_date_utc,We=new(Ue?d3_date_utc:ei);return"j"in Be?We.setFullYear(Be.y,0,Be.j):"W"in Be||"U"in Be?("w"in Be||(Be.w="W"in Be?1:0),We.setFullYear(Be.y,0,1),We.setFullYear(Be.y,0,"W"in Be?(Be.w+6)%7+7*Be.W-(We.getDay()+5)%7:Be.w+7*Be.U-(We.getDay()+6)%7)):We.setFullYear(Be.y,Be.m,Be.d),We.setHours(Be.H+(Be.Z/100|0),Be.M+Be.Z%100,Be.S,Be.L),Ue?We._:We},format.toString=function(){return Ee},format}function d3_time_parse(Ee,ze,Be,Ue){for(var We,$e,Qe,et=0,tt=ze.length,rt=Be.length;et<tt;){if(Ue>=rt)return-1;if(37===(We=ze.charCodeAt(et++))){if(Qe=ze.charAt(et++),!($e=tr[Qe in ri?ze.charAt(et++):Qe])||(Ue=$e(Ee,Be,Ue))<0)return-1}else if(We!=Be.charCodeAt(Ue++))return-1}return Ue}d3_time_format.utc=function(Ee){var ze=d3_time_format(Ee);function format(Ee){try{var Be=new(ei=d3_date_utc);return Be._=Ee,ze(Be)}finally{ei=Date}}return format.parse=function(Ee){try{ei=d3_date_utc;var Be=ze.parse(Ee);return Be&&Be._}finally{ei=Date}},format.toString=ze.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var nt=$e.map(),at=d3_time_formatRe(Qe),it=d3_time_formatLookup(Qe),ct=d3_time_formatRe(et),ft=d3_time_formatLookup(et),xt=d3_time_formatRe(tt),kt=d3_time_formatLookup(tt),Lt=d3_time_formatRe(rt),Ut=d3_time_formatLookup(rt);We.forEach((function(Ee,ze){nt.set(Ee.toLowerCase(),ze)}));var er={a:function(Ee){return et[Ee.getDay()]},A:function(Ee){return Qe[Ee.getDay()]},b:function(Ee){return rt[Ee.getMonth()]},B:function(Ee){return tt[Ee.getMonth()]},c:d3_time_format(ze),d:function(Ee,ze){return d3_time_formatPad(Ee.getDate(),ze,2)},e:function(Ee,ze){return d3_time_formatPad(Ee.getDate(),ze,2)},H:function(Ee,ze){return d3_time_formatPad(Ee.getHours(),ze,2)},I:function(Ee,ze){return d3_time_formatPad(Ee.getHours()%12||12,ze,2)},j:function(Ee,ze){return d3_time_formatPad(1+Ka.dayOfYear(Ee),ze,3)},L:function(Ee,ze){return d3_time_formatPad(Ee.getMilliseconds(),ze,3)},m:function(Ee,ze){return d3_time_formatPad(Ee.getMonth()+1,ze,2)},M:function(Ee,ze){return d3_time_formatPad(Ee.getMinutes(),ze,2)},p:function(Ee){return We[+(Ee.getHours()>=12)]},S:function(Ee,ze){return d3_time_formatPad(Ee.getSeconds(),ze,2)},U:function(Ee,ze){return d3_time_formatPad(Ka.sundayOfYear(Ee),ze,2)},w:function(Ee){return Ee.getDay()},W:function(Ee,ze){return d3_time_formatPad(Ka.mondayOfYear(Ee),ze,2)},x:d3_time_format(Be),X:d3_time_format(Ue),y:function(Ee,ze){return d3_time_formatPad(Ee.getFullYear()%100,ze,2)},Y:function(Ee,ze){return d3_time_formatPad(Ee.getFullYear()%1e4,ze,4)},Z:d3_time_zone,"%":function(){return"%"}},tr={a:function d3_time_parseWeekdayAbbrev(Ee,ze,Be){ct.lastIndex=0;var Ue=ct.exec(ze.slice(Be));return Ue?(Ee.w=ft.get(Ue[0].toLowerCase()),Be+Ue[0].length):-1},A:function d3_time_parseWeekday(Ee,ze,Be){at.lastIndex=0;var Ue=at.exec(ze.slice(Be));return Ue?(Ee.w=it.get(Ue[0].toLowerCase()),Be+Ue[0].length):-1},b:function d3_time_parseMonthAbbrev(Ee,ze,Be){Lt.lastIndex=0;var Ue=Lt.exec(ze.slice(Be));return Ue?(Ee.m=Ut.get(Ue[0].toLowerCase()),Be+Ue[0].length):-1},B:function d3_time_parseMonth(Ee,ze,Be){xt.lastIndex=0;var Ue=xt.exec(ze.slice(Be));return Ue?(Ee.m=kt.get(Ue[0].toLowerCase()),Be+Ue[0].length):-1},c:function d3_time_parseLocaleFull(Ee,ze,Be){return d3_time_parse(Ee,er.c.toString(),ze,Be)},d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:function d3_time_parseAmPm(Ee,ze,Be){var Ue=nt.get(ze.slice(Be,Be+=2).toLowerCase());return null==Ue?-1:(Ee.p=Ue,Be)},S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:function d3_time_parseLocaleDate(Ee,ze,Be){return d3_time_parse(Ee,er.x.toString(),ze,Be)},X:function d3_time_parseLocaleTime(Ee,ze,Be){return d3_time_parse(Ee,er.X.toString(),ze,Be)},y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}Ka.year=d3_time_interval((function(Ee){return(Ee=Ka.day(Ee)).setMonth(0,1),Ee}),(function(Ee,ze){Ee.setFullYear(Ee.getFullYear()+ze)}),(function(Ee){return Ee.getFullYear()})),Ka.years=Ka.year.range,Ka.years.utc=Ka.year.utc.range,Ka.day=d3_time_interval((function(Ee){var ze=new ei(2e3,0);return ze.setFullYear(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()),ze}),(function(Ee,ze){Ee.setDate(Ee.getDate()+ze)}),(function(Ee){return Ee.getDate()-1})),Ka.days=Ka.day.range,Ka.days.utc=Ka.day.utc.range,Ka.dayOfYear=function(Ee){var ze=Ka.year(Ee);return Math.floor((Ee-ze-6e4*(Ee.getTimezoneOffset()-ze.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(Ee,ze){ze=7-ze;var Be=Ka[Ee]=d3_time_interval((function(Ee){return(Ee=Ka.day(Ee)).setDate(Ee.getDate()-(Ee.getDay()+ze)%7),Ee}),(function(Ee,ze){Ee.setDate(Ee.getDate()+7*Math.floor(ze))}),(function(Ee){var Be=Ka.year(Ee).getDay();return Math.floor((Ka.dayOfYear(Ee)+(Be+ze)%7)/7)-(Be!==ze)}));Ka[Ee+"s"]=Be.range,Ka[Ee+"s"].utc=Be.utc.range,Ka[Ee+"OfYear"]=function(Ee){var Be=Ka.year(Ee).getDay();return Math.floor((Ka.dayOfYear(Ee)+(Be+ze)%7)/7)}})),Ka.week=Ka.sunday,Ka.weeks=Ka.sunday.range,Ka.weeks.utc=Ka.sunday.utc.range,Ka.weekOfYear=Ka.sundayOfYear;var ri={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,ai=/^%/;function d3_time_formatPad(Ee,ze,Be){var Ue=Ee<0?"-":"",We=(Ue?-Ee:Ee)+"",$e=We.length;return Ue+($e<Be?new Array(Be-$e+1).join(ze)+We:We)}function d3_time_formatRe(Ee){return new RegExp("^(?:"+Ee.map($e.requote).join("|")+")","i")}function d3_time_formatLookup(Ee){for(var ze=new d3_Map,Be=-1,Ue=Ee.length;++Be<Ue;)ze.set(Ee[Be].toLowerCase(),Be);return ze}function d3_time_parseWeekdayNumber(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+1));return Ue?(Ee.w=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseWeekNumberSunday(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be));return Ue?(Ee.U=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseWeekNumberMonday(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be));return Ue?(Ee.W=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseFullYear(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+4));return Ue?(Ee.y=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseYear(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.y=function d3_time_expandYear(Ee){return Ee+(Ee>68?1900:2e3)}(+Ue[0]),Be+Ue[0].length):-1}function d3_time_parseZone(Ee,ze,Be){return/^[+-]\d{4}$/.test(ze=ze.slice(Be,Be+5))?(Ee.Z=-ze,Be+5):-1}function d3_time_parseMonthNumber(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.m=Ue[0]-1,Be+Ue[0].length):-1}function d3_time_parseDay(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.d=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseDayOfYear(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+3));return Ue?(Ee.j=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseHour24(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.H=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseMinutes(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.M=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseSeconds(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+2));return Ue?(Ee.S=+Ue[0],Be+Ue[0].length):-1}function d3_time_parseMilliseconds(Ee,ze,Be){ni.lastIndex=0;var Ue=ni.exec(ze.slice(Be,Be+3));return Ue?(Ee.L=+Ue[0],Be+Ue[0].length):-1}function d3_time_zone(Ee){var ze=Ee.getTimezoneOffset(),Be=ze>0?"-":"+",Ue=ft(ze)/60|0,We=ft(ze)%60;return Be+d3_time_formatPad(Ue,"0",2)+d3_time_formatPad(We,"0",2)}function d3_time_parseLiteralPercent(Ee,ze,Be){ai.lastIndex=0;var Ue=ai.exec(ze.slice(Be,Be+1));return Ue?Be+Ue[0].length:-1}function d3_time_formatMulti(Ee){for(var ze=Ee.length,Be=-1;++Be<ze;)Ee[Be][0]=this(Ee[Be][0]);return function(ze){for(var Be=0,Ue=Ee[Be];!Ue[1](ze);)Ue=Ee[++Be];return Ue[0](ze)}}$e.locale=function(Ee){return{numberFormat:d3_locale_numberFormat(Ee),timeFormat:d3_locale_timeFormat(Ee)}};var ii=$e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d3_adder(){}$e.format=ii.numberFormat,$e.geo={},d3_adder.prototype={s:0,t:0,add:function(Ee){d3_adderSum(Ee,this.t,oi),d3_adderSum(oi.s,this.s,this),this.s?this.t+=oi.t:this.s=oi.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var oi=new d3_adder;function d3_adderSum(Ee,ze,Be){var Ue=Be.s=Ee+ze,We=Ue-Ee,$e=Ue-We;Be.t=Ee-$e+(ze-We)}function d3_geo_streamGeometry(Ee,ze){Ee&&li.hasOwnProperty(Ee.type)&&li[Ee.type](Ee,ze)}$e.geo.stream=function(Ee,ze){Ee&&si.hasOwnProperty(Ee.type)?si[Ee.type](Ee,ze):d3_geo_streamGeometry(Ee,ze)};var si={Feature:function(Ee,ze){d3_geo_streamGeometry(Ee.geometry,ze)},FeatureCollection:function(Ee,ze){for(var Be=Ee.features,Ue=-1,We=Be.length;++Ue<We;)d3_geo_streamGeometry(Be[Ue].geometry,ze)}},li={Sphere:function(Ee,ze){ze.sphere()},Point:function(Ee,ze){Ee=Ee.coordinates,ze.point(Ee[0],Ee[1],Ee[2])},MultiPoint:function(Ee,ze){for(var Be=Ee.coordinates,Ue=-1,We=Be.length;++Ue<We;)Ee=Be[Ue],ze.point(Ee[0],Ee[1],Ee[2])},LineString:function(Ee,ze){d3_geo_streamLine(Ee.coordinates,ze,0)},MultiLineString:function(Ee,ze){for(var Be=Ee.coordinates,Ue=-1,We=Be.length;++Ue<We;)d3_geo_streamLine(Be[Ue],ze,0)},Polygon:function(Ee,ze){d3_geo_streamPolygon(Ee.coordinates,ze)},MultiPolygon:function(Ee,ze){for(var Be=Ee.coordinates,Ue=-1,We=Be.length;++Ue<We;)d3_geo_streamPolygon(Be[Ue],ze)},GeometryCollection:function(Ee,ze){for(var Be=Ee.geometries,Ue=-1,We=Be.length;++Ue<We;)d3_geo_streamGeometry(Be[Ue],ze)}};function d3_geo_streamLine(Ee,ze,Be){var Ue,We=-1,$e=Ee.length-Be;for(ze.lineStart();++We<$e;)Ue=Ee[We],ze.point(Ue[0],Ue[1],Ue[2]);ze.lineEnd()}function d3_geo_streamPolygon(Ee,ze){var Be=-1,Ue=Ee.length;for(ze.polygonStart();++Be<Ue;)d3_geo_streamLine(Ee[Be],ze,1);ze.polygonEnd()}$e.geo.area=function(Ee){return ci=0,$e.geo.stream(Ee,Wo),ci};var ci,hi,Ci,Pi,zi,ji,Xi,Co,zo,Bo,Vo,Uo,Ho=new d3_adder,Wo={sphere:function(){ci+=4*cn},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Ho.reset(),Wo.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var Ee=2*Ho;ci+=Ee<0?4*cn+Ee:Ee,Wo.lineStart=Wo.lineEnd=Wo.point=d3_noop}};function d3_geo_areaRingStart(){var Ee,ze,Be,Ue,We;function nextPoint(Ee,ze){ze=ze*vn/2+cn/4;var $e=(Ee*=vn)-Be,Qe=$e>=0?1:-1,et=Qe*$e,tt=Math.cos(ze),rt=Math.sin(ze),nt=We*rt,at=Ue*tt+nt*Math.cos(et),it=nt*Qe*Math.sin(et);Ho.add(Math.atan2(it,at)),Be=Ee,Ue=tt,We=rt}Wo.point=function($e,Qe){Wo.point=nextPoint,Be=(Ee=$e)*vn,Ue=Math.cos(Qe=(ze=Qe)*vn/2+cn/4),We=Math.sin(Qe)},Wo.lineEnd=function(){nextPoint(Ee,ze)}}function d3_geo_cartesian(Ee){var ze=Ee[0],Be=Ee[1],Ue=Math.cos(Be);return[Ue*Math.cos(ze),Ue*Math.sin(ze),Math.sin(Be)]}function d3_geo_cartesianDot(Ee,ze){return Ee[0]*ze[0]+Ee[1]*ze[1]+Ee[2]*ze[2]}function d3_geo_cartesianCross(Ee,ze){return[Ee[1]*ze[2]-Ee[2]*ze[1],Ee[2]*ze[0]-Ee[0]*ze[2],Ee[0]*ze[1]-Ee[1]*ze[0]]}function d3_geo_cartesianAdd(Ee,ze){Ee[0]+=ze[0],Ee[1]+=ze[1],Ee[2]+=ze[2]}function d3_geo_cartesianScale(Ee,ze){return[Ee[0]*ze,Ee[1]*ze,Ee[2]*ze]}function d3_geo_cartesianNormalize(Ee){var ze=Math.sqrt(Ee[0]*Ee[0]+Ee[1]*Ee[1]+Ee[2]*Ee[2]);Ee[0]/=ze,Ee[1]/=ze,Ee[2]/=ze}function d3_geo_spherical(Ee){return[Math.atan2(Ee[1],Ee[0]),d3_asin(Ee[2])]}function d3_geo_sphericalEqual(Ee,ze){return ft(Ee[0]-ze[0])<sn&&ft(Ee[1]-ze[1])<sn}$e.geo.bounds=function(){var Ee,ze,Be,Ue,We,Qe,et,tt,rt,nt,at,it={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){it.point=ringPoint,it.lineStart=ringStart,it.lineEnd=ringEnd,rt=0,Wo.polygonStart()},polygonEnd:function(){Wo.polygonEnd(),it.point=point,it.lineStart=lineStart,it.lineEnd=lineEnd,Ho<0?(Ee=-(Be=180),ze=-(Ue=90)):rt>sn?Ue=90:rt<-sn&&(ze=-90),at[0]=Ee,at[1]=Be}};function point(We,$e){nt.push(at=[Ee=We,Be=We]),$e<ze&&(ze=$e),$e>Ue&&(Ue=$e)}function linePoint($e,Qe){var et=d3_geo_cartesian([$e*vn,Qe*vn]);if(tt){var rt=d3_geo_cartesianCross(tt,et),nt=d3_geo_cartesianCross([rt[1],-rt[0],0],rt);d3_geo_cartesianNormalize(nt),nt=d3_geo_spherical(nt);var at=$e-We,it=at>0?1:-1,ct=nt[0]*yn*it,xt=ft(at)>180;if(xt^(it*We<ct&&ct<it*$e))(kt=nt[1]*yn)>Ue&&(Ue=kt);else if(xt^(it*We<(ct=(ct+360)%360-180)&&ct<it*$e)){var kt;(kt=-nt[1]*yn)<ze&&(ze=kt)}else Qe<ze&&(ze=Qe),Qe>Ue&&(Ue=Qe);xt?$e<We?angle(Ee,$e)>angle(Ee,Be)&&(Be=$e):angle($e,Be)>angle(Ee,Be)&&(Ee=$e):Be>=Ee?($e<Ee&&(Ee=$e),$e>Be&&(Be=$e)):$e>We?angle(Ee,$e)>angle(Ee,Be)&&(Be=$e):angle($e,Be)>angle(Ee,Be)&&(Ee=$e)}else point($e,Qe);tt=et,We=$e}function lineStart(){it.point=linePoint}function lineEnd(){at[0]=Ee,at[1]=Be,it.point=point,tt=null}function ringPoint(Ee,ze){if(tt){var Be=Ee-We;rt+=ft(Be)>180?Be+(Be>0?360:-360):Be}else Qe=Ee,et=ze;Wo.point(Ee,ze),linePoint(Ee,ze)}function ringStart(){Wo.lineStart()}function ringEnd(){ringPoint(Qe,et),Wo.lineEnd(),ft(rt)>sn&&(Ee=-(Be=180)),at[0]=Ee,at[1]=Be,tt=null}function angle(Ee,ze){return(ze-=Ee)<0?ze+360:ze}function compareRanges(Ee,ze){return Ee[0]-ze[0]}function withinRange(Ee,ze){return ze[0]<=ze[1]?ze[0]<=Ee&&Ee<=ze[1]:Ee<ze[0]||ze[1]<Ee}return function(We){if(Ue=Be=-(Ee=ze=1/0),nt=[],$e.geo.stream(We,it),rt=nt.length){nt.sort(compareRanges);for(var Qe=1,et=[xt=nt[0]];Qe<rt;++Qe)withinRange((ct=nt[Qe])[0],xt)||withinRange(ct[1],xt)?(angle(xt[0],ct[1])>angle(xt[0],xt[1])&&(xt[1]=ct[1]),angle(ct[0],xt[1])>angle(xt[0],xt[1])&&(xt[0]=ct[0])):et.push(xt=ct);for(var tt,rt,ct,ft=-1/0,xt=(Qe=0,et[rt=et.length-1]);Qe<=rt;xt=ct,++Qe)ct=et[Qe],(tt=angle(xt[1],ct[0]))>ft&&(ft=tt,Ee=ct[0],Be=xt[1])}return nt=at=null,Ee===1/0||ze===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ee,ze],[Be,Ue]]}}(),$e.geo.centroid=function(Ee){hi=Ci=Pi=zi=ji=Xi=Co=zo=Bo=Vo=Uo=0,$e.geo.stream(Ee,Xo);var ze=Bo,Be=Vo,Ue=Uo,We=ze*ze+Be*Be+Ue*Ue;return We<ln&&(ze=Xi,Be=Co,Ue=zo,Ci<sn&&(ze=Pi,Be=zi,Ue=ji),(We=ze*ze+Be*Be+Ue*Ue)<ln)?[NaN,NaN]:[Math.atan2(Be,ze)*yn,d3_asin(Ue/Math.sqrt(We))*yn]};var Xo={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Xo.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Xo.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(Ee,ze){Ee*=vn;var Be=Math.cos(ze*=vn);d3_geo_centroidPointXYZ(Be*Math.cos(Ee),Be*Math.sin(Ee),Math.sin(ze))}function d3_geo_centroidPointXYZ(Ee,ze,Be){++hi,Pi+=(Ee-Pi)/hi,zi+=(ze-zi)/hi,ji+=(Be-ji)/hi}function d3_geo_centroidLineStart(){var Ee,ze,Be;function nextPoint(Ue,We){Ue*=vn;var $e=Math.cos(We*=vn),Qe=$e*Math.cos(Ue),et=$e*Math.sin(Ue),tt=Math.sin(We),rt=Math.atan2(Math.sqrt((rt=ze*tt-Be*et)*rt+(rt=Be*Qe-Ee*tt)*rt+(rt=Ee*et-ze*Qe)*rt),Ee*Qe+ze*et+Be*tt);Ci+=rt,Xi+=rt*(Ee+(Ee=Qe)),Co+=rt*(ze+(ze=et)),zo+=rt*(Be+(Be=tt)),d3_geo_centroidPointXYZ(Ee,ze,Be)}Xo.point=function(Ue,We){Ue*=vn;var $e=Math.cos(We*=vn);Ee=$e*Math.cos(Ue),ze=$e*Math.sin(Ue),Be=Math.sin(We),Xo.point=nextPoint,d3_geo_centroidPointXYZ(Ee,ze,Be)}}function d3_geo_centroidLineEnd(){Xo.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var Ee,ze,Be,Ue,We;function nextPoint(Ee,ze){Ee*=vn;var $e=Math.cos(ze*=vn),Qe=$e*Math.cos(Ee),et=$e*Math.sin(Ee),tt=Math.sin(ze),rt=Ue*tt-We*et,nt=We*Qe-Be*tt,at=Be*et-Ue*Qe,it=Math.sqrt(rt*rt+nt*nt+at*at),ct=Be*Qe+Ue*et+We*tt,ft=it&&-d3_acos(ct)/it,xt=Math.atan2(it,ct);Bo+=ft*rt,Vo+=ft*nt,Uo+=ft*at,Ci+=xt,Xi+=xt*(Be+(Be=Qe)),Co+=xt*(Ue+(Ue=et)),zo+=xt*(We+(We=tt)),d3_geo_centroidPointXYZ(Be,Ue,We)}Xo.point=function($e,Qe){Ee=$e,ze=Qe,Xo.point=nextPoint,$e*=vn;var et=Math.cos(Qe*=vn);Be=et*Math.cos($e),Ue=et*Math.sin($e),We=Math.sin(Qe),d3_geo_centroidPointXYZ(Be,Ue,We)},Xo.lineEnd=function(){nextPoint(Ee,ze),Xo.lineEnd=d3_geo_centroidLineEnd,Xo.point=d3_geo_centroidPoint}}function d3_geo_compose(Ee,ze){function compose(Be,Ue){return Be=Ee(Be,Ue),ze(Be[0],Be[1])}return Ee.invert&&ze.invert&&(compose.invert=function(Be,Ue){return(Be=ze.invert(Be,Ue))&&Ee.invert(Be[0],Be[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(Ee,ze,Be,Ue,We){var $e=[],Qe=[];if(Ee.forEach((function(Ee){if(!((ze=Ee.length-1)<=0)){var ze,Be=Ee[0],Ue=Ee[ze];if(d3_geo_sphericalEqual(Be,Ue)){We.lineStart();for(var et=0;et<ze;++et)We.point((Be=Ee[et])[0],Be[1]);We.lineEnd()}else{var tt=new d3_geo_clipPolygonIntersection(Be,Ee,null,!0),rt=new d3_geo_clipPolygonIntersection(Be,null,tt,!1);tt.o=rt,$e.push(tt),Qe.push(rt),tt=new d3_geo_clipPolygonIntersection(Ue,Ee,null,!1),rt=new d3_geo_clipPolygonIntersection(Ue,null,tt,!0),tt.o=rt,$e.push(tt),Qe.push(rt)}}})),Qe.sort(ze),d3_geo_clipPolygonLinkCircular($e),d3_geo_clipPolygonLinkCircular(Qe),$e.length){for(var et=0,tt=Be,rt=Qe.length;et<rt;++et)Qe[et].e=tt=!tt;for(var nt,at,it=$e[0];;){for(var ct=it,ft=!0;ct.v;)if((ct=ct.n)===it)return;nt=ct.z,We.lineStart();do{if(ct.v=ct.o.v=!0,ct.e){if(ft)for(et=0,rt=nt.length;et<rt;++et)We.point((at=nt[et])[0],at[1]);else Ue(ct.x,ct.n.x,1,We);ct=ct.n}else{if(ft)for(et=(nt=ct.p.z).length-1;et>=0;--et)We.point((at=nt[et])[0],at[1]);else Ue(ct.x,ct.p.x,-1,We);ct=ct.p}nt=(ct=ct.o).z,ft=!ft}while(!ct.v);We.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(Ee){if(ze=Ee.length){for(var ze,Be,Ue=0,We=Ee[0];++Ue<ze;)We.n=Be=Ee[Ue],Be.p=We,We=Be;We.n=Be=Ee[0],Be.p=We}}function d3_geo_clipPolygonIntersection(Ee,ze,Be,Ue){this.x=Ee,this.z=ze,this.o=Be,this.e=Ue,this.v=!1,this.n=this.p=null}function d3_geo_clip(Ee,ze,Be,Ue){return function(We,Qe){var et,tt=ze(Qe),rt=We.invert(Ue[0],Ue[1]),nt={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){nt.point=pointRing,nt.lineStart=ringStart,nt.lineEnd=ringEnd,et=[],at=[]},polygonEnd:function(){nt.point=point,nt.lineStart=lineStart,nt.lineEnd=lineEnd,et=$e.merge(et);var Ee=function d3_geo_pointInPolygon(Ee,ze){var Be=Ee[0],Ue=Ee[1],We=[Math.sin(Be),-Math.cos(Be),0],$e=0,Qe=0;Ho.reset();for(var et=0,tt=ze.length;et<tt;++et){var rt=ze[et],nt=rt.length;if(nt)for(var at=rt[0],it=at[0],ct=at[1]/2+cn/4,ft=Math.sin(ct),xt=Math.cos(ct),kt=1;;){kt===nt&&(kt=0);var Lt=(Ee=rt[kt])[0],Ut=Ee[1]/2+cn/4,er=Math.sin(Ut),tr=Math.cos(Ut),rr=Lt-it,ar=rr>=0?1:-1,Lr=ar*rr,Qr=Lr>cn,on=ft*er;if(Ho.add(Math.atan2(on*ar*Math.sin(Lr),xt*tr+on*Math.cos(Lr))),$e+=Qr?rr+ar*un:rr,Qr^it>=Be^Lt>=Be){var ln=d3_geo_cartesianCross(d3_geo_cartesian(at),d3_geo_cartesian(Ee));d3_geo_cartesianNormalize(ln);var hn=d3_geo_cartesianCross(We,ln);d3_geo_cartesianNormalize(hn);var dn=(Qr^rr>=0?-1:1)*d3_asin(hn[2]);(Ue>dn||Ue===dn&&(ln[0]||ln[1]))&&(Qe+=Qr^rr>=0?1:-1)}if(!kt++)break;it=Lt,ft=er,xt=tr,at=Ee}}return($e<-sn||$e<sn&&Ho<-sn)^1&Qe}(rt,at);et.length?(xt||(Qe.polygonStart(),xt=!0),d3_geo_clipPolygon(et,d3_geo_clipSort,Ee,Be,Qe)):Ee&&(xt||(Qe.polygonStart(),xt=!0),Qe.lineStart(),Be(null,null,1,Qe),Qe.lineEnd()),xt&&(Qe.polygonEnd(),xt=!1),et=at=null},sphere:function(){Qe.polygonStart(),Qe.lineStart(),Be(null,null,1,Qe),Qe.lineEnd(),Qe.polygonEnd()}};function point(ze,Be){var Ue=We(ze,Be);Ee(ze=Ue[0],Be=Ue[1])&&Qe.point(ze,Be)}function pointLine(Ee,ze){var Be=We(Ee,ze);tt.point(Be[0],Be[1])}function lineStart(){nt.point=pointLine,tt.lineStart()}function lineEnd(){nt.point=point,tt.lineEnd()}var at,it,ct=d3_geo_clipBufferListener(),ft=ze(ct),xt=!1;function pointRing(Ee,ze){it.push([Ee,ze]);var Be=We(Ee,ze);ft.point(Be[0],Be[1])}function ringStart(){ft.lineStart(),it=[]}function ringEnd(){pointRing(it[0][0],it[0][1]),ft.lineEnd();var Ee,ze=ft.clean(),Be=ct.buffer(),Ue=Be.length;if(it.pop(),at.push(it),it=null,Ue)if(1&ze){var We,$e=-1;if((Ue=(Ee=Be[0]).length-1)>0){for(xt||(Qe.polygonStart(),xt=!0),Qe.lineStart();++$e<Ue;)Qe.point((We=Ee[$e])[0],We[1]);Qe.lineEnd()}}else Ue>1&&2&ze&&Be.push(Be.pop().concat(Be.shift())),et.push(Be.filter(d3_geo_clipSegmentLength1))}return nt}}function d3_geo_clipSegmentLength1(Ee){return Ee.length>1}function d3_geo_clipBufferListener(){var Ee,ze=[];return{lineStart:function(){ze.push(Ee=[])},point:function(ze,Be){Ee.push([ze,Be])},lineEnd:d3_noop,buffer:function(){var Be=ze;return ze=[],Ee=null,Be},rejoin:function(){ze.length>1&&ze.push(ze.pop().concat(ze.shift()))}}}function d3_geo_clipSort(Ee,ze){return((Ee=Ee.x)[0]<0?Ee[1]-dn-sn:dn-Ee[1])-((ze=ze.x)[0]<0?ze[1]-dn-sn:dn-ze[1])}var $o=d3_geo_clip(d3_true,(function d3_geo_clipAntimeridianLine(Ee){var ze,Be=NaN,Ue=NaN,We=NaN;return{lineStart:function(){Ee.lineStart(),ze=1},point:function($e,Qe){var et=$e>0?cn:-cn,tt=ft($e-Be);ft(tt-cn)<sn?(Ee.point(Be,Ue=(Ue+Qe)/2>0?dn:-dn),Ee.point(We,Ue),Ee.lineEnd(),Ee.lineStart(),Ee.point(et,Ue),Ee.point($e,Ue),ze=0):We!==et&&tt>=cn&&(ft(Be-We)<sn&&(Be-=We*sn),ft($e-et)<sn&&($e-=et*sn),Ue=function d3_geo_clipAntimeridianIntersect(Ee,ze,Be,Ue){var We,$e,Qe=Math.sin(Ee-Be);return ft(Qe)>sn?Math.atan((Math.sin(ze)*($e=Math.cos(Ue))*Math.sin(Be)-Math.sin(Ue)*(We=Math.cos(ze))*Math.sin(Ee))/(We*$e*Qe)):(ze+Ue)/2}(Be,Ue,$e,Qe),Ee.point(We,Ue),Ee.lineEnd(),Ee.lineStart(),Ee.point(et,Ue),ze=0),Ee.point(Be=$e,Ue=Qe),We=et},lineEnd:function(){Ee.lineEnd(),Be=Ue=NaN},clean:function(){return 2-ze}}}),(function d3_geo_clipAntimeridianInterpolate(Ee,ze,Be,Ue){var We;if(null==Ee)We=Be*dn,Ue.point(-cn,We),Ue.point(0,We),Ue.point(cn,We),Ue.point(cn,0),Ue.point(cn,-We),Ue.point(0,-We),Ue.point(-cn,-We),Ue.point(-cn,0),Ue.point(-cn,We);else if(ft(Ee[0]-ze[0])>sn){var $e=Ee[0]<ze[0]?cn:-cn;We=Be*$e/2,Ue.point(-$e,We),Ue.point(0,We),Ue.point($e,We)}else Ue.point(ze[0],ze[1])}),[-cn,-cn/2]);function d3_geo_clipCircle(Ee){var ze=Math.cos(Ee),Be=ze>0,Ue=ft(ze)>sn;return d3_geo_clip(visible,(function clipLine(Ee){var ze,We,$e,Qe,et;return{lineStart:function(){Qe=$e=!1,et=1},point:function(tt,rt){var nt,at=[tt,rt],it=visible(tt,rt),ct=Be?it?0:code(tt,rt):it?code(tt+(tt<0?cn:-cn),rt):0;if(!ze&&(Qe=$e=it)&&Ee.lineStart(),it!==$e&&(nt=intersect(ze,at),(d3_geo_sphericalEqual(ze,nt)||d3_geo_sphericalEqual(at,nt))&&(at[0]+=sn,at[1]+=sn,it=visible(at[0],at[1]))),it!==$e)et=0,it?(Ee.lineStart(),nt=intersect(at,ze),Ee.point(nt[0],nt[1])):(nt=intersect(ze,at),Ee.point(nt[0],nt[1]),Ee.lineEnd()),ze=nt;else if(Ue&&ze&&Be^it){var ft;ct&We||!(ft=intersect(at,ze,!0))||(et=0,Be?(Ee.lineStart(),Ee.point(ft[0][0],ft[0][1]),Ee.point(ft[1][0],ft[1][1]),Ee.lineEnd()):(Ee.point(ft[1][0],ft[1][1]),Ee.lineEnd(),Ee.lineStart(),Ee.point(ft[0][0],ft[0][1])))}!it||ze&&d3_geo_sphericalEqual(ze,at)||Ee.point(at[0],at[1]),ze=at,$e=it,We=ct},lineEnd:function(){$e&&Ee.lineEnd(),ze=null},clean:function(){return et|(Qe&&$e)<<1}}}),d3_geo_circleInterpolate(Ee,6*vn),Be?[0,-Ee]:[-cn,Ee-cn]);function visible(Ee,Be){return Math.cos(Ee)*Math.cos(Be)>ze}function intersect(Ee,Be,Ue){var We=[1,0,0],$e=d3_geo_cartesianCross(d3_geo_cartesian(Ee),d3_geo_cartesian(Be)),Qe=d3_geo_cartesianDot($e,$e),et=$e[0],tt=Qe-et*et;if(!tt)return!Ue&&Ee;var rt=ze*Qe/tt,nt=-ze*et/tt,at=d3_geo_cartesianCross(We,$e),it=d3_geo_cartesianScale(We,rt);d3_geo_cartesianAdd(it,d3_geo_cartesianScale($e,nt));var ct=at,xt=d3_geo_cartesianDot(it,ct),kt=d3_geo_cartesianDot(ct,ct),Lt=xt*xt-kt*(d3_geo_cartesianDot(it,it)-1);if(!(Lt<0)){var Ut=Math.sqrt(Lt),er=d3_geo_cartesianScale(ct,(-xt-Ut)/kt);if(d3_geo_cartesianAdd(er,it),er=d3_geo_spherical(er),!Ue)return er;var tr,rr=Ee[0],ar=Be[0],Lr=Ee[1],Qr=Be[1];ar<rr&&(tr=rr,rr=ar,ar=tr);var on=ar-rr,ln=ft(on-cn)<sn;if(!ln&&Qr<Lr&&(tr=Lr,Lr=Qr,Qr=tr),ln||on<sn?ln?Lr+Qr>0^er[1]<(ft(er[0]-rr)<sn?Lr:Qr):Lr<=er[1]&&er[1]<=Qr:on>cn^(rr<=er[0]&&er[0]<=ar)){var un=d3_geo_cartesianScale(ct,(-xt+Ut)/kt);return d3_geo_cartesianAdd(un,it),[er,d3_geo_spherical(un)]}}}function code(ze,Ue){var We=Be?Ee:cn-Ee,$e=0;return ze<-We?$e|=1:ze>We&&($e|=2),Ue<-We?$e|=4:Ue>We&&($e|=8),$e}}function d3_geom_clipLine(Ee,ze,Be,Ue){return function(We){var $e,Qe=We.a,et=We.b,tt=Qe.x,rt=Qe.y,nt=0,at=1,it=et.x-tt,ct=et.y-rt;if($e=Ee-tt,it||!($e>0)){if($e/=it,it<0){if($e<nt)return;$e<at&&(at=$e)}else if(it>0){if($e>at)return;$e>nt&&(nt=$e)}if($e=Be-tt,it||!($e<0)){if($e/=it,it<0){if($e>at)return;$e>nt&&(nt=$e)}else if(it>0){if($e<nt)return;$e<at&&(at=$e)}if($e=ze-rt,ct||!($e>0)){if($e/=ct,ct<0){if($e<nt)return;$e<at&&(at=$e)}else if(ct>0){if($e>at)return;$e>nt&&(nt=$e)}if($e=Ue-rt,ct||!($e<0)){if($e/=ct,ct<0){if($e>at)return;$e>nt&&(nt=$e)}else if(ct>0){if($e<nt)return;$e<at&&(at=$e)}return nt>0&&(We.a={x:tt+nt*it,y:rt+nt*ct}),at<1&&(We.b={x:tt+at*it,y:rt+at*ct}),We}}}}}}function d3_geo_clipExtent(Ee,ze,Be,Ue){return function(We){var Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt=We,Ut=d3_geo_clipBufferListener(),er=d3_geom_clipLine(Ee,ze,Be,Ue),tr={point:point,lineStart:function lineStart(){tr.point=linePoint,et&&et.push(tt=[]);xt=!0,ft=!1,it=ct=NaN},lineEnd:function lineEnd(){Qe&&(linePoint(rt,nt),at&&ft&&Ut.rejoin(),Qe.push(Ut.buffer()));tr.point=point,ft&&We.lineEnd()},polygonStart:function(){We=Ut,Qe=[],et=[],kt=!0},polygonEnd:function(){We=Lt,Qe=$e.merge(Qe);var ze=function insidePolygon(Ee){for(var ze=0,Be=et.length,Ue=Ee[1],We=0;We<Be;++We)for(var $e,Qe=1,tt=et[We],rt=tt.length,nt=tt[0];Qe<rt;++Qe)$e=tt[Qe],nt[1]<=Ue?$e[1]>Ue&&d3_cross2d(nt,$e,Ee)>0&&++ze:$e[1]<=Ue&&d3_cross2d(nt,$e,Ee)<0&&--ze,nt=$e;return 0!==ze}([Ee,Ue]),Be=kt&&ze,rt=Qe.length;(Be||rt)&&(We.polygonStart(),Be&&(We.lineStart(),interpolate(null,null,1,We),We.lineEnd()),rt&&d3_geo_clipPolygon(Qe,compare,ze,interpolate,We),We.polygonEnd()),Qe=et=tt=null}};function interpolate(We,$e,Qe,et){var tt=0,rt=0;if(null==We||(tt=corner(We,Qe))!==(rt=corner($e,Qe))||comparePoints(We,$e)<0^Qe>0)do{et.point(0===tt||3===tt?Ee:Be,tt>1?Ue:ze)}while((tt=(tt+Qe+4)%4)!==rt);else et.point($e[0],$e[1])}function pointVisible(We,$e){return Ee<=We&&We<=Be&&ze<=$e&&$e<=Ue}function point(Ee,ze){pointVisible(Ee,ze)&&We.point(Ee,ze)}function linePoint(Ee,ze){var Be=pointVisible(Ee=Math.max(-1e9,Math.min(1e9,Ee)),ze=Math.max(-1e9,Math.min(1e9,ze)));if(et&&tt.push([Ee,ze]),xt)rt=Ee,nt=ze,at=Be,xt=!1,Be&&(We.lineStart(),We.point(Ee,ze));else if(Be&&ft)We.point(Ee,ze);else{var Ue={a:{x:it,y:ct},b:{x:Ee,y:ze}};er(Ue)?(ft||(We.lineStart(),We.point(Ue.a.x,Ue.a.y)),We.point(Ue.b.x,Ue.b.y),Be||We.lineEnd(),kt=!1):Be&&(We.lineStart(),We.point(Ee,ze),kt=!1)}it=Ee,ct=ze,ft=Be}return tr};function corner(Ue,We){return ft(Ue[0]-Ee)<sn?We>0?0:3:ft(Ue[0]-Be)<sn?We>0?2:1:ft(Ue[1]-ze)<sn?We>0?1:0:We>0?3:2}function compare(Ee,ze){return comparePoints(Ee.x,ze.x)}function comparePoints(Ee,ze){var Be=corner(Ee,1),Ue=corner(ze,1);return Be!==Ue?Be-Ue:0===Be?ze[1]-Ee[1]:1===Be?Ee[0]-ze[0]:2===Be?Ee[1]-ze[1]:ze[0]-Ee[0]}}function d3_geo_conic(Ee){var ze=0,Be=cn/3,Ue=d3_geo_projectionMutator(Ee),We=Ue(ze,Be);return We.parallels=function(Ee){return arguments.length?Ue(ze=Ee[0]*cn/180,Be=Ee[1]*cn/180):[ze/cn*180,Be/cn*180]},We}function d3_geo_conicEqualArea(Ee,ze){var Be=Math.sin(Ee),Ue=(Be+Math.sin(ze))/2,We=1+Be*(2*Ue-Be),$e=Math.sqrt(We)/Ue;function forward(Ee,ze){var Be=Math.sqrt(We-2*Ue*Math.sin(ze))/Ue;return[Be*Math.sin(Ee*=Ue),$e-Be*Math.cos(Ee)]}return forward.invert=function(Ee,ze){var Be=$e-ze;return[Math.atan2(Ee,Be)/Ue,d3_asin((We-(Ee*Ee+Be*Be)*Ue*Ue)/(2*Ue))]},forward}$e.geo.clipExtent=function(){var Ee,ze,Be,Ue,We,$e,Qe={stream:function(Ee){return We&&(We.valid=!1),(We=$e(Ee)).valid=!0,We},extent:function(et){return arguments.length?($e=d3_geo_clipExtent(Ee=+et[0][0],ze=+et[0][1],Be=+et[1][0],Ue=+et[1][1]),We&&(We.valid=!1,We=null),Qe):[[Ee,ze],[Be,Ue]]}};return Qe.extent([[0,0],[960,500]])},($e.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,$e.geo.albers=function(){return $e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},$e.geo.albersUsa=function(){var Ee,ze,Be,Ue,We=$e.geo.albers(),Qe=$e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),et=$e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),tt={point:function(ze,Be){Ee=[ze,Be]}};function albersUsa(We){var $e=We[0],Qe=We[1];return Ee=null,ze($e,Qe),Ee||(Be($e,Qe),Ee)||Ue($e,Qe),Ee}return albersUsa.invert=function(Ee){var ze=We.scale(),Be=We.translate(),Ue=(Ee[0]-Be[0])/ze,$e=(Ee[1]-Be[1])/ze;return($e>=.12&&$e<.234&&Ue>=-.425&&Ue<-.214?Qe:$e>=.166&&$e<.234&&Ue>=-.214&&Ue<-.115?et:We).invert(Ee)},albersUsa.stream=function(Ee){var ze=We.stream(Ee),Be=Qe.stream(Ee),Ue=et.stream(Ee);return{point:function(Ee,We){ze.point(Ee,We),Be.point(Ee,We),Ue.point(Ee,We)},sphere:function(){ze.sphere(),Be.sphere(),Ue.sphere()},lineStart:function(){ze.lineStart(),Be.lineStart(),Ue.lineStart()},lineEnd:function(){ze.lineEnd(),Be.lineEnd(),Ue.lineEnd()},polygonStart:function(){ze.polygonStart(),Be.polygonStart(),Ue.polygonStart()},polygonEnd:function(){ze.polygonEnd(),Be.polygonEnd(),Ue.polygonEnd()}}},albersUsa.precision=function(Ee){return arguments.length?(We.precision(Ee),Qe.precision(Ee),et.precision(Ee),albersUsa):We.precision()},albersUsa.scale=function(Ee){return arguments.length?(We.scale(Ee),Qe.scale(.35*Ee),et.scale(Ee),albersUsa.translate(We.translate())):We.scale()},albersUsa.translate=function(Ee){if(!arguments.length)return We.translate();var $e=We.scale(),rt=+Ee[0],nt=+Ee[1];return ze=We.translate(Ee).clipExtent([[rt-.455*$e,nt-.238*$e],[rt+.455*$e,nt+.238*$e]]).stream(tt).point,Be=Qe.translate([rt-.307*$e,nt+.201*$e]).clipExtent([[rt-.425*$e+sn,nt+.12*$e+sn],[rt-.214*$e-sn,nt+.234*$e-sn]]).stream(tt).point,Ue=et.translate([rt-.205*$e,nt+.212*$e]).clipExtent([[rt-.214*$e+sn,nt+.166*$e+sn],[rt-.115*$e-sn,nt+.234*$e-sn]]).stream(tt).point,albersUsa},albersUsa.scale(1070)};var es,ts,rs,ns,as,os,ss={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){ts=0,ss.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){ss.lineStart=ss.lineEnd=ss.point=d3_noop,es+=ft(ts/2)}};function d3_geo_pathAreaRingStart(){var Ee,ze,Be,Ue;function nextPoint(Ee,ze){ts+=Ue*Ee-Be*ze,Be=Ee,Ue=ze}ss.point=function(We,$e){ss.point=nextPoint,Ee=Be=We,ze=Ue=$e},ss.lineEnd=function(){nextPoint(Ee,ze)}}var ls={point:function d3_geo_pathBoundsPoint(Ee,ze){Ee<rs&&(rs=Ee);Ee>as&&(as=Ee);ze<ns&&(ns=ze);ze>os&&(os=ze)},lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBuffer(){var Ee=d3_geo_pathBufferCircle(4.5),ze=[],Be={point:point,lineStart:function(){Be.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){Be.lineEnd=lineEndPolygon},polygonEnd:function(){Be.lineEnd=lineEnd,Be.point=point},pointRadius:function(ze){return Ee=d3_geo_pathBufferCircle(ze),Be},result:function(){if(ze.length){var Ee=ze.join("");return ze=[],Ee}}};function point(Be,Ue){ze.push("M",Be,",",Ue,Ee)}function pointLineStart(Ee,Ue){ze.push("M",Ee,",",Ue),Be.point=pointLine}function pointLine(Ee,Be){ze.push("L",Ee,",",Be)}function lineEnd(){Be.point=point}function lineEndPolygon(){ze.push("Z")}return Be}function d3_geo_pathBufferCircle(Ee){return"m0,"+Ee+"a"+Ee+","+Ee+" 0 1,1 0,"+-2*Ee+"a"+Ee+","+Ee+" 0 1,1 0,"+2*Ee+"z"}var cs,us={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){us.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){us.point=d3_geo_pathCentroidPoint,us.lineStart=d3_geo_pathCentroidLineStart,us.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(Ee,ze){Pi+=Ee,zi+=ze,++ji}function d3_geo_pathCentroidLineStart(){var Ee,ze;function nextPoint(Be,Ue){var We=Be-Ee,$e=Ue-ze,Qe=Math.sqrt(We*We+$e*$e);Xi+=Qe*(Ee+Be)/2,Co+=Qe*(ze+Ue)/2,zo+=Qe,d3_geo_pathCentroidPoint(Ee=Be,ze=Ue)}us.point=function(Be,Ue){us.point=nextPoint,d3_geo_pathCentroidPoint(Ee=Be,ze=Ue)}}function d3_geo_pathCentroidLineEnd(){us.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var Ee,ze,Be,Ue;function nextPoint(Ee,ze){var We=Ee-Be,$e=ze-Ue,Qe=Math.sqrt(We*We+$e*$e);Xi+=Qe*(Be+Ee)/2,Co+=Qe*(Ue+ze)/2,zo+=Qe,Bo+=(Qe=Ue*Ee-Be*ze)*(Be+Ee),Vo+=Qe*(Ue+ze),Uo+=3*Qe,d3_geo_pathCentroidPoint(Be=Ee,Ue=ze)}us.point=function(We,$e){us.point=nextPoint,d3_geo_pathCentroidPoint(Ee=Be=We,ze=Ue=$e)},us.lineEnd=function(){nextPoint(Ee,ze)}}function d3_geo_pathContext(Ee){var ze=4.5,Be={point:point,lineStart:function(){Be.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){Be.lineEnd=lineEndPolygon},polygonEnd:function(){Be.lineEnd=lineEnd,Be.point=point},pointRadius:function(Ee){return ze=Ee,Be},result:d3_noop};function point(Be,Ue){Ee.moveTo(Be+ze,Ue),Ee.arc(Be,Ue,ze,0,un)}function pointLineStart(ze,Ue){Ee.moveTo(ze,Ue),Be.point=pointLine}function pointLine(ze,Be){Ee.lineTo(ze,Be)}function lineEnd(){Be.point=point}function lineEndPolygon(){Ee.closePath()}return Be}function d3_geo_resample(Ee){var ze=.5,Be=Math.cos(30*vn),Ue=16;function resample(Ee){return(Ue?resampleRecursive:resampleNone)(Ee)}function resampleNone(ze){return d3_geo_transformPoint(ze,(function(Be,Ue){Be=Ee(Be,Ue),ze.point(Be[0],Be[1])}))}function resampleRecursive(ze){var Be,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){ze.polygonStart(),xt.lineStart=ringStart},polygonEnd:function(){ze.polygonEnd(),xt.lineStart=lineStart}};function point(Be,Ue){Be=Ee(Be,Ue),ze.point(Be[0],Be[1])}function lineStart(){nt=NaN,xt.point=linePoint,ze.lineStart()}function linePoint(Be,We){var $e=d3_geo_cartesian([Be,We]),Qe=Ee(Be,We);resampleLineTo(nt,at,rt,it,ct,ft,nt=Qe[0],at=Qe[1],rt=Be,it=$e[0],ct=$e[1],ft=$e[2],Ue,ze),ze.point(nt,at)}function lineEnd(){xt.point=point,ze.lineEnd()}function ringStart(){lineStart(),xt.point=ringPoint,xt.lineEnd=ringEnd}function ringPoint(Ee,ze){linePoint(Be=Ee,ze),We=nt,$e=at,Qe=it,et=ct,tt=ft,xt.point=linePoint}function ringEnd(){resampleLineTo(nt,at,rt,it,ct,ft,We,$e,Be,Qe,et,tt,Ue,ze),xt.lineEnd=lineEnd,lineEnd()}return xt}function resampleLineTo(Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,xt,kt,Lt){var Ut=rt-Ue,er=nt-We,tr=Ut*Ut+er*er;if(tr>4*ze&&kt--){var rr=Qe+it,ar=et+ct,Lr=tt+xt,Qr=Math.sqrt(rr*rr+ar*ar+Lr*Lr),on=Math.asin(Lr/=Qr),ln=ft(ft(Lr)-1)<sn||ft($e-at)<sn?($e+at)/2:Math.atan2(ar,rr),cn=Ee(ln,on),un=cn[0],hn=cn[1],dn=un-Ue,vn=hn-We,yn=er*dn-Ut*vn;(yn*yn/tr>ze||ft((Ut*dn+er*vn)/tr-.5)>.3||Qe*it+et*ct+tt*xt<Be)&&(resampleLineTo(Ue,We,$e,Qe,et,tt,un,hn,ln,rr/=Qr,ar/=Qr,Lr,kt,Lt),Lt.point(un,hn),resampleLineTo(un,hn,ln,rr,ar,Lr,rt,nt,at,it,ct,xt,kt,Lt))}}return resample.precision=function(Ee){return arguments.length?(Ue=(ze=Ee*Ee)>0&&16,resample):Math.sqrt(ze)},resample}function d3_geo_pathProjectStream(Ee){var ze=d3_geo_resample((function(ze,Be){return Ee([ze*yn,Be*yn])}));return function(Ee){return d3_geo_projectionRadians(ze(Ee))}}function d3_geo_transform(Ee){this.stream=Ee}function d3_geo_transformPoint(Ee,ze){return{point:ze,sphere:function(){Ee.sphere()},lineStart:function(){Ee.lineStart()},lineEnd:function(){Ee.lineEnd()},polygonStart:function(){Ee.polygonStart()},polygonEnd:function(){Ee.polygonEnd()}}}function d3_geo_projection(Ee){return d3_geo_projectionMutator((function(){return Ee}))()}function d3_geo_projectionMutator(Ee){var ze,Be,Ue,We,Qe,et,tt=d3_geo_resample((function(Ee,Be){return[(Ee=ze(Ee,Be))[0]*rt+We,Qe-Ee[1]*rt]})),rt=150,nt=480,at=250,it=0,ct=0,ft=0,xt=0,kt=0,Lt=$o,Ut=d3_identity,er=null,tr=null;function projection(Ee){return[(Ee=Ue(Ee[0]*vn,Ee[1]*vn))[0]*rt+We,Qe-Ee[1]*rt]}function invert(Ee){return(Ee=Ue.invert((Ee[0]-We)/rt,(Qe-Ee[1])/rt))&&[Ee[0]*yn,Ee[1]*yn]}function reset(){Ue=d3_geo_compose(Be=d3_geo_rotation(ft,xt,kt),ze);var Ee=ze(it,ct);return We=nt-Ee[0]*rt,Qe=at+Ee[1]*rt,invalidate()}function invalidate(){return et&&(et.valid=!1,et=null),projection}return projection.stream=function(Ee){return et&&(et.valid=!1),(et=d3_geo_projectionRadians(Lt(Be,tt(Ut(Ee))))).valid=!0,et},projection.clipAngle=function(Ee){return arguments.length?(Lt=null==Ee?(er=Ee,$o):d3_geo_clipCircle((er=+Ee)*vn),invalidate()):er},projection.clipExtent=function(Ee){return arguments.length?(tr=Ee,Ut=Ee?d3_geo_clipExtent(Ee[0][0],Ee[0][1],Ee[1][0],Ee[1][1]):d3_identity,invalidate()):tr},projection.scale=function(Ee){return arguments.length?(rt=+Ee,reset()):rt},projection.translate=function(Ee){return arguments.length?(nt=+Ee[0],at=+Ee[1],reset()):[nt,at]},projection.center=function(Ee){return arguments.length?(it=Ee[0]%360*vn,ct=Ee[1]%360*vn,reset()):[it*yn,ct*yn]},projection.rotate=function(Ee){return arguments.length?(ft=Ee[0]%360*vn,xt=Ee[1]%360*vn,kt=Ee.length>2?Ee[2]%360*vn:0,reset()):[ft*yn,xt*yn,kt*yn]},$e.rebind(projection,tt,"precision"),function(){return ze=Ee.apply(this,arguments),projection.invert=ze.invert&&invert,reset()}}function d3_geo_projectionRadians(Ee){return d3_geo_transformPoint(Ee,(function(ze,Be){Ee.point(ze*vn,Be*vn)}))}function d3_geo_equirectangular(Ee,ze){return[Ee,ze]}function d3_geo_identityRotation(Ee,ze){return[Ee>cn?Ee-un:Ee<-cn?Ee+un:Ee,ze]}function d3_geo_rotation(Ee,ze,Be){return Ee?ze||Be?d3_geo_compose(d3_geo_rotationλ(Ee),d3_geo_rotationφγ(ze,Be)):d3_geo_rotationλ(Ee):ze||Be?d3_geo_rotationφγ(ze,Be):d3_geo_identityRotation}function d3_geo_forwardRotationλ(Ee){return function(ze,Be){return[(ze+=Ee)>cn?ze-un:ze<-cn?ze+un:ze,Be]}}function d3_geo_rotationλ(Ee){var ze=d3_geo_forwardRotationλ(Ee);return ze.invert=d3_geo_forwardRotationλ(-Ee),ze}function d3_geo_rotationφγ(Ee,ze){var Be=Math.cos(Ee),Ue=Math.sin(Ee),We=Math.cos(ze),$e=Math.sin(ze);function rotation(Ee,ze){var Qe=Math.cos(ze),et=Math.cos(Ee)*Qe,tt=Math.sin(Ee)*Qe,rt=Math.sin(ze),nt=rt*Be+et*Ue;return[Math.atan2(tt*We-nt*$e,et*Be-rt*Ue),d3_asin(nt*We+tt*$e)]}return rotation.invert=function(Ee,ze){var Qe=Math.cos(ze),et=Math.cos(Ee)*Qe,tt=Math.sin(Ee)*Qe,rt=Math.sin(ze),nt=rt*We-tt*$e;return[Math.atan2(tt*We+rt*$e,et*Be+nt*Ue),d3_asin(nt*Be-et*Ue)]},rotation}function d3_geo_circleInterpolate(Ee,ze){var Be=Math.cos(Ee),Ue=Math.sin(Ee);return function(We,$e,Qe,et){var tt=Qe*ze;null!=We?(We=d3_geo_circleAngle(Be,We),$e=d3_geo_circleAngle(Be,$e),(Qe>0?We<$e:We>$e)&&(We+=Qe*un)):(We=Ee+Qe*un,$e=Ee-.5*tt);for(var rt,nt=We;Qe>0?nt>$e:nt<$e;nt-=tt)et.point((rt=d3_geo_spherical([Be,-Ue*Math.cos(nt),-Ue*Math.sin(nt)]))[0],rt[1])}}function d3_geo_circleAngle(Ee,ze){var Be=d3_geo_cartesian(ze);Be[0]-=Ee,d3_geo_cartesianNormalize(Be);var Ue=d3_acos(-Be[1]);return((-Be[2]<0?-Ue:Ue)+2*Math.PI-sn)%(2*Math.PI)}function d3_geo_graticuleX(Ee,ze,Be){var Ue=$e.range(Ee,ze-sn,Be).concat(ze);return function(Ee){return Ue.map((function(ze){return[Ee,ze]}))}}function d3_geo_graticuleY(Ee,ze,Be){var Ue=$e.range(Ee,ze-sn,Be).concat(ze);return function(Ee){return Ue.map((function(ze){return[ze,Ee]}))}}function d3_source(Ee){return Ee.source}function d3_target(Ee){return Ee.target}$e.geo.path=function(){var Ee,ze,Be,Ue,We,Qe=4.5;function path(Ee){return Ee&&("function"==typeof Qe&&Ue.pointRadius(+Qe.apply(this,arguments)),We&&We.valid||(We=Be(Ue)),$e.geo.stream(Ee,We)),Ue.result()}function reset(){return We=null,path}return path.area=function(Ee){return es=0,$e.geo.stream(Ee,Be(ss)),es},path.centroid=function(Ee){return Pi=zi=ji=Xi=Co=zo=Bo=Vo=Uo=0,$e.geo.stream(Ee,Be(us)),Uo?[Bo/Uo,Vo/Uo]:zo?[Xi/zo,Co/zo]:ji?[Pi/ji,zi/ji]:[NaN,NaN]},path.bounds=function(Ee){return as=os=-(rs=ns=1/0),$e.geo.stream(Ee,Be(ls)),[[rs,ns],[as,os]]},path.projection=function(ze){return arguments.length?(Be=(Ee=ze)?ze.stream||d3_geo_pathProjectStream(ze):d3_identity,reset()):Ee},path.context=function(Ee){return arguments.length?(Ue=null==(ze=Ee)?new d3_geo_pathBuffer:new d3_geo_pathContext(Ee),"function"!=typeof Qe&&Ue.pointRadius(Qe),reset()):ze},path.pointRadius=function(Ee){return arguments.length?(Qe="function"==typeof Ee?Ee:(Ue.pointRadius(+Ee),+Ee),path):Qe},path.projection($e.geo.albersUsa()).context(null)},$e.geo.transform=function(Ee){return{stream:function(ze){var Be=new d3_geo_transform(ze);for(var Ue in Ee)Be[Ue]=Ee[Ue];return Be}}},d3_geo_transform.prototype={point:function(Ee,ze){this.stream.point(Ee,ze)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},$e.geo.projection=d3_geo_projection,$e.geo.projectionMutator=d3_geo_projectionMutator,($e.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,$e.geo.rotation=function(Ee){function forward(ze){return(ze=Ee(ze[0]*vn,ze[1]*vn))[0]*=yn,ze[1]*=yn,ze}return Ee=d3_geo_rotation(Ee[0]%360*vn,Ee[1]*vn,Ee.length>2?Ee[2]*vn:0),forward.invert=function(ze){return(ze=Ee.invert(ze[0]*vn,ze[1]*vn))[0]*=yn,ze[1]*=yn,ze},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,$e.geo.circle=function(){var Ee,ze,Be=[0,0],Ue=6;function circle(){var Ee="function"==typeof Be?Be.apply(this,arguments):Be,Ue=d3_geo_rotation(-Ee[0]*vn,-Ee[1]*vn,0).invert,We=[];return ze(null,null,1,{point:function(Ee,ze){We.push(Ee=Ue(Ee,ze)),Ee[0]*=yn,Ee[1]*=yn}}),{type:"Polygon",coordinates:[We]}}return circle.origin=function(Ee){return arguments.length?(Be=Ee,circle):Be},circle.angle=function(Be){return arguments.length?(ze=d3_geo_circleInterpolate((Ee=+Be)*vn,Ue*vn),circle):Ee},circle.precision=function(Be){return arguments.length?(ze=d3_geo_circleInterpolate(Ee*vn,(Ue=+Be)*vn),circle):Ue},circle.angle(90)},$e.geo.distance=function(Ee,ze){var Be,Ue=(ze[0]-Ee[0])*vn,We=Ee[1]*vn,$e=ze[1]*vn,Qe=Math.sin(Ue),et=Math.cos(Ue),tt=Math.sin(We),rt=Math.cos(We),nt=Math.sin($e),at=Math.cos($e);return Math.atan2(Math.sqrt((Be=at*Qe)*Be+(Be=rt*nt-tt*at*et)*Be),tt*nt+rt*at*et)},$e.geo.graticule=function(){var Ee,ze,Be,Ue,We,Qe,et,tt,rt,nt,at,it,ct=10,xt=ct,kt=90,Lt=360,Ut=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return $e.range(Math.ceil(Ue/kt)*kt,Be,kt).map(at).concat($e.range(Math.ceil(tt/Lt)*Lt,et,Lt).map(it)).concat($e.range(Math.ceil(ze/ct)*ct,Ee,ct).filter((function(Ee){return ft(Ee%kt)>sn})).map(rt)).concat($e.range(Math.ceil(Qe/xt)*xt,We,xt).filter((function(Ee){return ft(Ee%Lt)>sn})).map(nt))}return graticule.lines=function(){return lines().map((function(Ee){return{type:"LineString",coordinates:Ee}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[at(Ue).concat(it(et).slice(1),at(Be).reverse().slice(1),it(tt).reverse().slice(1))]}},graticule.extent=function(Ee){return arguments.length?graticule.majorExtent(Ee).minorExtent(Ee):graticule.minorExtent()},graticule.majorExtent=function(Ee){return arguments.length?(Ue=+Ee[0][0],Be=+Ee[1][0],tt=+Ee[0][1],et=+Ee[1][1],Ue>Be&&(Ee=Ue,Ue=Be,Be=Ee),tt>et&&(Ee=tt,tt=et,et=Ee),graticule.precision(Ut)):[[Ue,tt],[Be,et]]},graticule.minorExtent=function(Be){return arguments.length?(ze=+Be[0][0],Ee=+Be[1][0],Qe=+Be[0][1],We=+Be[1][1],ze>Ee&&(Be=ze,ze=Ee,Ee=Be),Qe>We&&(Be=Qe,Qe=We,We=Be),graticule.precision(Ut)):[[ze,Qe],[Ee,We]]},graticule.step=function(Ee){return arguments.length?graticule.majorStep(Ee).minorStep(Ee):graticule.minorStep()},graticule.majorStep=function(Ee){return arguments.length?(kt=+Ee[0],Lt=+Ee[1],graticule):[kt,Lt]},graticule.minorStep=function(Ee){return arguments.length?(ct=+Ee[0],xt=+Ee[1],graticule):[ct,xt]},graticule.precision=function($e){return arguments.length?(Ut=+$e,rt=d3_geo_graticuleX(Qe,We,90),nt=d3_geo_graticuleY(ze,Ee,Ut),at=d3_geo_graticuleX(tt,et,90),it=d3_geo_graticuleY(Ue,Be,Ut),graticule):Ut},graticule.majorExtent([[-180,-90+sn],[180,90-sn]]).minorExtent([[-180,-80-sn],[180,80+sn]])},$e.geo.greatArc=function(){var Ee,ze,Be=d3_source,Ue=d3_target;function greatArc(){return{type:"LineString",coordinates:[Ee||Be.apply(this,arguments),ze||Ue.apply(this,arguments)]}}return greatArc.distance=function(){return $e.geo.distance(Ee||Be.apply(this,arguments),ze||Ue.apply(this,arguments))},greatArc.source=function(ze){return arguments.length?(Be=ze,Ee="function"==typeof ze?null:ze,greatArc):Be},greatArc.target=function(Ee){return arguments.length?(Ue=Ee,ze="function"==typeof Ee?null:Ee,greatArc):Ue},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},$e.geo.interpolate=function(Ee,ze){return function d3_geo_interpolate(Ee,ze,Be,Ue){var We=Math.cos(ze),$e=Math.sin(ze),Qe=Math.cos(Ue),et=Math.sin(Ue),tt=We*Math.cos(Ee),rt=We*Math.sin(Ee),nt=Qe*Math.cos(Be),at=Qe*Math.sin(Be),it=2*Math.asin(Math.sqrt(d3_haversin(Ue-ze)+We*Qe*d3_haversin(Be-Ee))),ct=1/Math.sin(it),ft=it?function(Ee){var ze=Math.sin(Ee*=it)*ct,Be=Math.sin(it-Ee)*ct,Ue=Be*tt+ze*nt,We=Be*rt+ze*at,Qe=Be*$e+ze*et;return[Math.atan2(We,Ue)*yn,Math.atan2(Qe,Math.sqrt(Ue*Ue+We*We))*yn]}:function(){return[Ee*yn,ze*yn]};return ft.distance=it,ft}(Ee[0]*vn,Ee[1]*vn,ze[0]*vn,ze[1]*vn)},$e.geo.length=function(Ee){return cs=0,$e.geo.stream(Ee,fs),cs};var fs={sphere:d3_noop,point:d3_noop,lineStart:function d3_geo_lengthLineStart(){var Ee,ze,Be;function nextPoint(Ue,We){var $e=Math.sin(We*=vn),Qe=Math.cos(We),et=ft((Ue*=vn)-Ee),tt=Math.cos(et);cs+=Math.atan2(Math.sqrt((et=Qe*Math.sin(et))*et+(et=Be*$e-ze*Qe*tt)*et),ze*$e+Be*Qe*tt),Ee=Ue,ze=$e,Be=Qe}fs.point=function(Ue,We){Ee=Ue*vn,ze=Math.sin(We*=vn),Be=Math.cos(We),fs.point=nextPoint},fs.lineEnd=function(){fs.point=fs.lineEnd=d3_noop}},lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_azimuthal(Ee,ze){function azimuthal(ze,Be){var Ue=Math.cos(ze),We=Math.cos(Be),$e=Ee(Ue*We);return[$e*We*Math.sin(ze),$e*Math.sin(Be)]}return azimuthal.invert=function(Ee,Be){var Ue=Math.sqrt(Ee*Ee+Be*Be),We=ze(Ue),$e=Math.sin(We),Qe=Math.cos(We);return[Math.atan2(Ee*$e,Ue*Qe),Math.asin(Ue&&Be*$e/Ue)]},azimuthal}var hs=d3_geo_azimuthal((function(Ee){return Math.sqrt(2/(1+Ee))}),(function(Ee){return 2*Math.asin(Ee/2)}));($e.geo.azimuthalEqualArea=function(){return d3_geo_projection(hs)}).raw=hs;var ms=d3_geo_azimuthal((function(Ee){var ze=Math.acos(Ee);return ze&&ze/Math.sin(ze)}),d3_identity);function d3_geo_conicConformal(Ee,ze){var Be=Math.cos(Ee),t=function(Ee){return Math.tan(cn/4+Ee/2)},Ue=Ee===ze?Math.sin(Ee):Math.log(Be/Math.cos(ze))/Math.log(t(ze)/t(Ee)),We=Be*Math.pow(t(Ee),Ue)/Ue;if(!Ue)return d3_geo_mercator;function forward(Ee,ze){We>0?ze<-dn+sn&&(ze=-dn+sn):ze>dn-sn&&(ze=dn-sn);var Be=We/Math.pow(t(ze),Ue);return[Be*Math.sin(Ue*Ee),We-Be*Math.cos(Ue*Ee)]}return forward.invert=function(Ee,ze){var Be=We-ze,$e=d3_sgn(Ue)*Math.sqrt(Ee*Ee+Be*Be);return[Math.atan2(Ee,Be)/Ue,2*Math.atan(Math.pow(We/$e,1/Ue))-dn]},forward}function d3_geo_conicEquidistant(Ee,ze){var Be=Math.cos(Ee),Ue=Ee===ze?Math.sin(Ee):(Be-Math.cos(ze))/(ze-Ee),We=Be/Ue+Ee;if(ft(Ue)<sn)return d3_geo_equirectangular;function forward(Ee,ze){var Be=We-ze;return[Be*Math.sin(Ue*Ee),We-Be*Math.cos(Ue*Ee)]}return forward.invert=function(Ee,ze){var Be=We-ze;return[Math.atan2(Ee,Be)/Ue,We-d3_sgn(Ue)*Math.sqrt(Ee*Ee+Be*Be)]},forward}($e.geo.azimuthalEquidistant=function(){return d3_geo_projection(ms)}).raw=ms,($e.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,($e.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var vs=d3_geo_azimuthal((function(Ee){return 1/Ee}),Math.atan);function d3_geo_mercator(Ee,ze){return[Ee,Math.log(Math.tan(cn/4+ze/2))]}function d3_geo_mercatorProjection(Ee){var ze,Be=d3_geo_projection(Ee),Ue=Be.scale,We=Be.translate,$e=Be.clipExtent;return Be.scale=function(){var Ee=Ue.apply(Be,arguments);return Ee===Be?ze?Be.clipExtent(null):Be:Ee},Be.translate=function(){var Ee=We.apply(Be,arguments);return Ee===Be?ze?Be.clipExtent(null):Be:Ee},Be.clipExtent=function(Ee){var Qe=$e.apply(Be,arguments);if(Qe===Be){if(ze=null==Ee){var et=cn*Ue(),tt=We();$e([[tt[0]-et,tt[1]-et],[tt[0]+et,tt[1]+et]])}}else ze&&(Qe=null);return Qe},Be.clipExtent(null)}($e.geo.gnomonic=function(){return d3_geo_projection(vs)}).raw=vs,d3_geo_mercator.invert=function(Ee,ze){return[Ee,2*Math.atan(Math.exp(ze))-dn]},($e.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var ks=d3_geo_azimuthal((function(){return 1}),Math.asin);($e.geo.orthographic=function(){return d3_geo_projection(ks)}).raw=ks;var Ms=d3_geo_azimuthal((function(Ee){return 1/(1+Ee)}),(function(Ee){return 2*Math.atan(Ee)}));function d3_geo_transverseMercator(Ee,ze){return[Math.log(Math.tan(cn/4+ze/2)),-Ee]}function d3_geom_pointX(Ee){return Ee[0]}function d3_geom_pointY(Ee){return Ee[1]}function d3_geom_hullUpper(Ee){for(var ze=Ee.length,Be=[0,1],Ue=2,We=2;We<ze;We++){for(;Ue>1&&d3_cross2d(Ee[Be[Ue-2]],Ee[Be[Ue-1]],Ee[We])<=0;)--Ue;Be[Ue++]=We}return Be.slice(0,Ue)}function d3_geom_hullOrder(Ee,ze){return Ee[0]-ze[0]||Ee[1]-ze[1]}($e.geo.stereographic=function(){return d3_geo_projection(Ms)}).raw=Ms,d3_geo_transverseMercator.invert=function(Ee,ze){return[-ze,2*Math.atan(Math.exp(Ee))-dn]},($e.geo.transverseMercator=function(){var Ee=d3_geo_mercatorProjection(d3_geo_transverseMercator),ze=Ee.center,Be=Ee.rotate;return Ee.center=function(Ee){return Ee?ze([-Ee[1],Ee[0]]):[(Ee=ze())[1],-Ee[0]]},Ee.rotate=function(Ee){return Ee?Be([Ee[0],Ee[1],Ee.length>2?Ee[2]+90:90]):[(Ee=Be())[0],Ee[1],Ee[2]-90]},Be([0,0,90])}).raw=d3_geo_transverseMercator,$e.geom={},$e.geom.hull=function(Ee){var ze=d3_geom_pointX,Be=d3_geom_pointY;if(arguments.length)return hull(Ee);function hull(Ee){if(Ee.length<3)return[];var Ue,We=d3_functor(ze),$e=d3_functor(Be),Qe=Ee.length,et=[],tt=[];for(Ue=0;Ue<Qe;Ue++)et.push([+We.call(this,Ee[Ue],Ue),+$e.call(this,Ee[Ue],Ue),Ue]);for(et.sort(d3_geom_hullOrder),Ue=0;Ue<Qe;Ue++)tt.push([et[Ue][0],-et[Ue][1]]);var rt=d3_geom_hullUpper(et),nt=d3_geom_hullUpper(tt),at=nt[0]===rt[0],it=nt[nt.length-1]===rt[rt.length-1],ct=[];for(Ue=rt.length-1;Ue>=0;--Ue)ct.push(Ee[et[rt[Ue]][2]]);for(Ue=+at;Ue<nt.length-it;++Ue)ct.push(Ee[et[nt[Ue]][2]]);return ct}return hull.x=function(Ee){return arguments.length?(ze=Ee,hull):ze},hull.y=function(Ee){return arguments.length?(Be=Ee,hull):Be},hull},$e.geom.polygon=function(Ee){return Lt(Ee,Ss),Ee};var Ss=$e.geom.polygon.prototype=[];function d3_geom_polygonInside(Ee,ze,Be){return(Be[0]-ze[0])*(Ee[1]-ze[1])<(Be[1]-ze[1])*(Ee[0]-ze[0])}function d3_geom_polygonIntersect(Ee,ze,Be,Ue){var We=Ee[0],$e=Be[0],Qe=ze[0]-We,et=Ue[0]-$e,tt=Ee[1],rt=Be[1],nt=ze[1]-tt,at=Ue[1]-rt,it=(et*(tt-rt)-at*(We-$e))/(at*Qe-et*nt);return[We+it*Qe,tt+it*nt]}function d3_geom_polygonClosed(Ee){var ze=Ee[0],Be=Ee[Ee.length-1];return!(ze[0]-Be[0]||ze[1]-Be[1])}Ss.area=function(){for(var Ee,ze=-1,Be=this.length,Ue=this[Be-1],We=0;++ze<Be;)Ee=Ue,Ue=this[ze],We+=Ee[1]*Ue[0]-Ee[0]*Ue[1];return.5*We},Ss.centroid=function(Ee){var ze,Be,Ue=-1,We=this.length,$e=0,Qe=0,et=this[We-1];for(arguments.length||(Ee=-1/(6*this.area()));++Ue<We;)ze=et,et=this[Ue],Be=ze[0]*et[1]-et[0]*ze[1],$e+=(ze[0]+et[0])*Be,Qe+=(ze[1]+et[1])*Be;return[$e*Ee,Qe*Ee]},Ss.clip=function(Ee){for(var ze,Be,Ue,We,$e,Qe,et=d3_geom_polygonClosed(Ee),tt=-1,rt=this.length-d3_geom_polygonClosed(this),nt=this[rt-1];++tt<rt;){for(ze=Ee.slice(),Ee.length=0,We=this[tt],$e=ze[(Ue=ze.length-et)-1],Be=-1;++Be<Ue;)d3_geom_polygonInside(Qe=ze[Be],nt,We)?(d3_geom_polygonInside($e,nt,We)||Ee.push(d3_geom_polygonIntersect($e,Qe,nt,We)),Ee.push(Qe)):d3_geom_polygonInside($e,nt,We)&&Ee.push(d3_geom_polygonIntersect($e,Qe,nt,We)),$e=Qe;et&&Ee.push(Ee[0]),nt=We}return Ee};var Es,Ls,Ds,Rs,Bs,Ns=[],js=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(Ee){var ze=Ns.pop()||new d3_geom_voronoiBeach;return ze.site=Ee,ze}function d3_geom_voronoiDetachBeach(Ee){d3_geom_voronoiDetachCircle(Ee),Ds.remove(Ee),Ns.push(Ee),d3_geom_voronoiRedBlackNode(Ee)}function d3_geom_voronoiRemoveBeach(Ee){var ze=Ee.circle,Be=ze.x,Ue=ze.cy,We={x:Be,y:Ue},$e=Ee.P,Qe=Ee.N,et=[Ee];d3_geom_voronoiDetachBeach(Ee);for(var tt=$e;tt.circle&&ft(Be-tt.circle.x)<sn&&ft(Ue-tt.circle.cy)<sn;)$e=tt.P,et.unshift(tt),d3_geom_voronoiDetachBeach(tt),tt=$e;et.unshift(tt),d3_geom_voronoiDetachCircle(tt);for(var rt=Qe;rt.circle&&ft(Be-rt.circle.x)<sn&&ft(Ue-rt.circle.cy)<sn;)Qe=rt.N,et.push(rt),d3_geom_voronoiDetachBeach(rt),rt=Qe;et.push(rt),d3_geom_voronoiDetachCircle(rt);var nt,at=et.length;for(nt=1;nt<at;++nt)rt=et[nt],tt=et[nt-1],d3_geom_voronoiSetEdgeEnd(rt.edge,tt.site,rt.site,We);tt=et[0],(rt=et[at-1]).edge=d3_geom_voronoiCreateEdge(tt.site,rt.site,null,We),d3_geom_voronoiAttachCircle(tt),d3_geom_voronoiAttachCircle(rt)}function d3_geom_voronoiAddBeach(Ee){for(var ze,Be,Ue,We,$e=Ee.x,Qe=Ee.y,et=Ds._;et;)if((Ue=d3_geom_voronoiLeftBreakPoint(et,Qe)-$e)>sn)et=et.L;else{if(!((We=$e-d3_geom_voronoiRightBreakPoint(et,Qe))>sn)){Ue>-sn?(ze=et.P,Be=et):We>-sn?(ze=et,Be=et.N):ze=Be=et;break}if(!et.R){ze=et;break}et=et.R}var tt=d3_geom_voronoiCreateBeach(Ee);if(Ds.insert(ze,tt),ze||Be){if(ze===Be)return d3_geom_voronoiDetachCircle(ze),Be=d3_geom_voronoiCreateBeach(ze.site),Ds.insert(tt,Be),tt.edge=Be.edge=d3_geom_voronoiCreateEdge(ze.site,tt.site),d3_geom_voronoiAttachCircle(ze),void d3_geom_voronoiAttachCircle(Be);if(Be){d3_geom_voronoiDetachCircle(ze),d3_geom_voronoiDetachCircle(Be);var rt=ze.site,nt=rt.x,at=rt.y,it=Ee.x-nt,ct=Ee.y-at,ft=Be.site,xt=ft.x-nt,kt=ft.y-at,Lt=2*(it*kt-ct*xt),Ut=it*it+ct*ct,er=xt*xt+kt*kt,tr={x:(kt*Ut-ct*er)/Lt+nt,y:(it*er-xt*Ut)/Lt+at};d3_geom_voronoiSetEdgeEnd(Be.edge,rt,ft,tr),tt.edge=d3_geom_voronoiCreateEdge(rt,Ee,null,tr),Be.edge=d3_geom_voronoiCreateEdge(Ee,ft,null,tr),d3_geom_voronoiAttachCircle(ze),d3_geom_voronoiAttachCircle(Be)}else tt.edge=d3_geom_voronoiCreateEdge(ze.site,tt.site)}}function d3_geom_voronoiLeftBreakPoint(Ee,ze){var Be=Ee.site,Ue=Be.x,We=Be.y,$e=We-ze;if(!$e)return Ue;var Qe=Ee.P;if(!Qe)return-1/0;var et=(Be=Qe.site).x,tt=Be.y,rt=tt-ze;if(!rt)return et;var nt=et-Ue,at=1/$e-1/rt,it=nt/rt;return at?(-it+Math.sqrt(it*it-2*at*(nt*nt/(-2*rt)-tt+rt/2+We-$e/2)))/at+Ue:(Ue+et)/2}function d3_geom_voronoiRightBreakPoint(Ee,ze){var Be=Ee.N;if(Be)return d3_geom_voronoiLeftBreakPoint(Be,ze);var Ue=Ee.site;return Ue.y===ze?Ue.x:1/0}function d3_geom_voronoiCell(Ee){this.site=Ee,this.edges=[]}function d3_geom_voronoiHalfEdgeOrder(Ee,ze){return ze.angle-Ee.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(Ee){var ze=Ee.P,Be=Ee.N;if(ze&&Be){var Ue=ze.site,We=Ee.site,$e=Be.site;if(Ue!==$e){var Qe=We.x,et=We.y,tt=Ue.x-Qe,rt=Ue.y-et,nt=$e.x-Qe,at=2*(tt*(kt=$e.y-et)-rt*nt);if(!(at>=-ln)){var it=tt*tt+rt*rt,ct=nt*nt+kt*kt,ft=(kt*it-rt*ct)/at,xt=(tt*ct-nt*it)/at,kt=xt+et,Lt=js.pop()||new d3_geom_voronoiCircle;Lt.arc=Ee,Lt.site=We,Lt.x=ft+Qe,Lt.y=kt+Math.sqrt(ft*ft+xt*xt),Lt.cy=kt,Ee.circle=Lt;for(var Ut=null,er=Bs._;er;)if(Lt.y<er.y||Lt.y===er.y&&Lt.x<=er.x){if(!er.L){Ut=er.P;break}er=er.L}else{if(!er.R){Ut=er;break}er=er.R}Bs.insert(Ut,Lt),Ut||(Rs=Lt)}}}}function d3_geom_voronoiDetachCircle(Ee){var ze=Ee.circle;ze&&(ze.P||(Rs=ze.N),Bs.remove(ze),js.push(ze),d3_geom_voronoiRedBlackNode(ze),Ee.circle=null)}function d3_geom_voronoiConnectEdge(Ee,ze){var Be=Ee.b;if(Be)return!0;var Ue,We,$e=Ee.a,Qe=ze[0][0],et=ze[1][0],tt=ze[0][1],rt=ze[1][1],nt=Ee.l,at=Ee.r,it=nt.x,ct=nt.y,ft=at.x,xt=at.y,kt=(it+ft)/2,Lt=(ct+xt)/2;if(xt===ct){if(kt<Qe||kt>=et)return;if(it>ft){if($e){if($e.y>=rt)return}else $e={x:kt,y:tt};Be={x:kt,y:rt}}else{if($e){if($e.y<tt)return}else $e={x:kt,y:rt};Be={x:kt,y:tt}}}else if(We=Lt-(Ue=(it-ft)/(xt-ct))*kt,Ue<-1||Ue>1)if(it>ft){if($e){if($e.y>=rt)return}else $e={x:(tt-We)/Ue,y:tt};Be={x:(rt-We)/Ue,y:rt}}else{if($e){if($e.y<tt)return}else $e={x:(rt-We)/Ue,y:rt};Be={x:(tt-We)/Ue,y:tt}}else if(ct<xt){if($e){if($e.x>=et)return}else $e={x:Qe,y:Ue*Qe+We};Be={x:et,y:Ue*et+We}}else{if($e){if($e.x<Qe)return}else $e={x:et,y:Ue*et+We};Be={x:Qe,y:Ue*Qe+We}}return Ee.a=$e,Ee.b=Be,!0}function d3_geom_voronoiEdge(Ee,ze){this.l=Ee,this.r=ze,this.a=this.b=null}function d3_geom_voronoiCreateEdge(Ee,ze,Be,Ue){var We=new d3_geom_voronoiEdge(Ee,ze);return Es.push(We),Be&&d3_geom_voronoiSetEdgeEnd(We,Ee,ze,Be),Ue&&d3_geom_voronoiSetEdgeEnd(We,ze,Ee,Ue),Ls[Ee.i].edges.push(new d3_geom_voronoiHalfEdge(We,Ee,ze)),Ls[ze.i].edges.push(new d3_geom_voronoiHalfEdge(We,ze,Ee)),We}function d3_geom_voronoiCreateBorderEdge(Ee,ze,Be){var Ue=new d3_geom_voronoiEdge(Ee,null);return Ue.a=ze,Ue.b=Be,Es.push(Ue),Ue}function d3_geom_voronoiSetEdgeEnd(Ee,ze,Be,Ue){Ee.a||Ee.b?Ee.l===Be?Ee.b=Ue:Ee.a=Ue:(Ee.a=Ue,Ee.l=ze,Ee.r=Be)}function d3_geom_voronoiHalfEdge(Ee,ze,Be){var Ue=Ee.a,We=Ee.b;this.edge=Ee,this.site=ze,this.angle=Be?Math.atan2(Be.y-ze.y,Be.x-ze.x):Ee.l===ze?Math.atan2(We.x-Ue.x,Ue.y-We.y):Math.atan2(Ue.x-We.x,We.y-Ue.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(Ee){Ee.U=Ee.C=Ee.L=Ee.R=Ee.P=Ee.N=null}function d3_geom_voronoiRedBlackRotateLeft(Ee,ze){var Be=ze,Ue=ze.R,We=Be.U;We?We.L===Be?We.L=Ue:We.R=Ue:Ee._=Ue,Ue.U=We,Be.U=Ue,Be.R=Ue.L,Be.R&&(Be.R.U=Be),Ue.L=Be}function d3_geom_voronoiRedBlackRotateRight(Ee,ze){var Be=ze,Ue=ze.L,We=Be.U;We?We.L===Be?We.L=Ue:We.R=Ue:Ee._=Ue,Ue.U=We,Be.U=Ue,Be.L=Ue.R,Be.L&&(Be.L.U=Be),Ue.R=Be}function d3_geom_voronoiRedBlackFirst(Ee){for(;Ee.L;)Ee=Ee.L;return Ee}function d3_geom_voronoi(Ee,ze){var Be,Ue,We,$e=Ee.sort(d3_geom_voronoiVertexOrder).pop();for(Es=[],Ls=new Array(Ee.length),Ds=new d3_geom_voronoiRedBlackTree,Bs=new d3_geom_voronoiRedBlackTree;;)if(We=Rs,$e&&(!We||$e.y<We.y||$e.y===We.y&&$e.x<We.x))$e.x===Be&&$e.y===Ue||(Ls[$e.i]=new d3_geom_voronoiCell($e),d3_geom_voronoiAddBeach($e),Be=$e.x,Ue=$e.y),$e=Ee.pop();else{if(!We)break;d3_geom_voronoiRemoveBeach(We.arc)}ze&&(function d3_geom_voronoiClipEdges(Ee){for(var ze,Be=Es,Ue=d3_geom_clipLine(Ee[0][0],Ee[0][1],Ee[1][0],Ee[1][1]),We=Be.length;We--;)(!d3_geom_voronoiConnectEdge(ze=Be[We],Ee)||!Ue(ze)||ft(ze.a.x-ze.b.x)<sn&&ft(ze.a.y-ze.b.y)<sn)&&(ze.a=ze.b=null,Be.splice(We,1))}(ze),function d3_geom_voronoiCloseCells(Ee){for(var ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at=Ee[0][0],it=Ee[1][0],ct=Ee[0][1],xt=Ee[1][1],kt=Ls,Lt=kt.length;Lt--;)if(($e=kt[Lt])&&$e.prepare())for(tt=(et=$e.edges).length,Qe=0;Qe<tt;)Ue=(nt=et[Qe].end()).x,We=nt.y,ze=(rt=et[++Qe%tt].start()).x,Be=rt.y,(ft(Ue-ze)>sn||ft(We-Be)>sn)&&(et.splice(Qe,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge($e.site,nt,ft(Ue-at)<sn&&xt-We>sn?{x:at,y:ft(ze-at)<sn?Be:xt}:ft(We-xt)<sn&&it-Ue>sn?{x:ft(Be-xt)<sn?ze:it,y:xt}:ft(Ue-it)<sn&&We-ct>sn?{x:it,y:ft(ze-it)<sn?Be:ct}:ft(We-ct)<sn&&Ue-at>sn?{x:ft(Be-ct)<sn?ze:at,y:ct}:null),$e.site,null)),++tt)}(ze));var Qe={cells:Ls,edges:Es};return Ds=Bs=Es=Ls=null,Qe}function d3_geom_voronoiVertexOrder(Ee,ze){return ze.y-Ee.y||ze.x-Ee.x}d3_geom_voronoiCell.prototype.prepare=function(){for(var Ee,ze=this.edges,Be=ze.length;Be--;)(Ee=ze[Be].edge).b&&Ee.a||ze.splice(Be,1);return ze.sort(d3_geom_voronoiHalfEdgeOrder),ze.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(Ee,ze){var Be,Ue,We;if(Ee){if(ze.P=Ee,ze.N=Ee.N,Ee.N&&(Ee.N.P=ze),Ee.N=ze,Ee.R){for(Ee=Ee.R;Ee.L;)Ee=Ee.L;Ee.L=ze}else Ee.R=ze;Be=Ee}else this._?(Ee=d3_geom_voronoiRedBlackFirst(this._),ze.P=null,ze.N=Ee,Ee.P=Ee.L=ze,Be=Ee):(ze.P=ze.N=null,this._=ze,Be=null);for(ze.L=ze.R=null,ze.U=Be,ze.C=!0,Ee=ze;Be&&Be.C;)Be===(Ue=Be.U).L?(We=Ue.R)&&We.C?(Be.C=We.C=!1,Ue.C=!0,Ee=Ue):(Ee===Be.R&&(d3_geom_voronoiRedBlackRotateLeft(this,Be),Be=(Ee=Be).U),Be.C=!1,Ue.C=!0,d3_geom_voronoiRedBlackRotateRight(this,Ue)):(We=Ue.L)&&We.C?(Be.C=We.C=!1,Ue.C=!0,Ee=Ue):(Ee===Be.L&&(d3_geom_voronoiRedBlackRotateRight(this,Be),Be=(Ee=Be).U),Be.C=!1,Ue.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,Ue)),Be=Ee.U;this._.C=!1},remove:function(Ee){Ee.N&&(Ee.N.P=Ee.P),Ee.P&&(Ee.P.N=Ee.N),Ee.N=Ee.P=null;var ze,Be,Ue,We=Ee.U,$e=Ee.L,Qe=Ee.R;if(Be=$e?Qe?d3_geom_voronoiRedBlackFirst(Qe):$e:Qe,We?We.L===Ee?We.L=Be:We.R=Be:this._=Be,$e&&Qe?(Ue=Be.C,Be.C=Ee.C,Be.L=$e,$e.U=Be,Be!==Qe?(We=Be.U,Be.U=Ee.U,Ee=Be.R,We.L=Ee,Be.R=Qe,Qe.U=Be):(Be.U=We,We=Be,Ee=Be.R)):(Ue=Ee.C,Ee=Be),Ee&&(Ee.U=We),!Ue)if(Ee&&Ee.C)Ee.C=!1;else{do{if(Ee===this._)break;if(Ee===We.L){if((ze=We.R).C&&(ze.C=!1,We.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,We),ze=We.R),ze.L&&ze.L.C||ze.R&&ze.R.C){ze.R&&ze.R.C||(ze.L.C=!1,ze.C=!0,d3_geom_voronoiRedBlackRotateRight(this,ze),ze=We.R),ze.C=We.C,We.C=ze.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,We),Ee=this._;break}}else if((ze=We.L).C&&(ze.C=!1,We.C=!0,d3_geom_voronoiRedBlackRotateRight(this,We),ze=We.L),ze.L&&ze.L.C||ze.R&&ze.R.C){ze.L&&ze.L.C||(ze.R.C=!1,ze.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,ze),ze=We.L),ze.C=We.C,We.C=ze.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,We),Ee=this._;break}ze.C=!0,Ee=We,We=We.U}while(!Ee.C);Ee&&(Ee.C=!1)}}},$e.geom.voronoi=function(Ee){var ze=d3_geom_pointX,Be=d3_geom_pointY,Ue=ze,We=Be,$e=Hs;if(Ee)return voronoi(Ee);function voronoi(Ee){var ze=new Array(Ee.length),Be=$e[0][0],Ue=$e[0][1],We=$e[1][0],Qe=$e[1][1];return d3_geom_voronoi(sites(Ee),$e).cells.forEach((function($e,et){var tt=$e.edges,rt=$e.site;(ze[et]=tt.length?tt.map((function(Ee){var ze=Ee.start();return[ze.x,ze.y]})):rt.x>=Be&&rt.x<=We&&rt.y>=Ue&&rt.y<=Qe?[[Be,Qe],[We,Qe],[We,Ue],[Be,Ue]]:[]).point=Ee[et]})),ze}function sites(Ee){return Ee.map((function(Ee,ze){return{x:Math.round(Ue(Ee,ze)/sn)*sn,y:Math.round(We(Ee,ze)/sn)*sn,i:ze}}))}return voronoi.links=function(Ee){return d3_geom_voronoi(sites(Ee)).edges.filter((function(Ee){return Ee.l&&Ee.r})).map((function(ze){return{source:Ee[ze.l.i],target:Ee[ze.r.i]}}))},voronoi.triangles=function(Ee){var ze=[];return d3_geom_voronoi(sites(Ee)).cells.forEach((function(Be,Ue){for(var We,$e,Qe,et,tt=Be.site,rt=Be.edges.sort(d3_geom_voronoiHalfEdgeOrder),nt=-1,at=rt.length,it=rt[at-1].edge,ct=it.l===tt?it.r:it.l;++nt<at;)it,We=ct,ct=(it=rt[nt].edge).l===tt?it.r:it.l,Ue<We.i&&Ue<ct.i&&(Qe=We,et=ct,(($e=tt).x-et.x)*(Qe.y-$e.y)-($e.x-Qe.x)*(et.y-$e.y)<0)&&ze.push([Ee[Ue],Ee[We.i],Ee[ct.i]])})),ze},voronoi.x=function(Ee){return arguments.length?(Ue=d3_functor(ze=Ee),voronoi):ze},voronoi.y=function(Ee){return arguments.length?(We=d3_functor(Be=Ee),voronoi):Be},voronoi.clipExtent=function(Ee){return arguments.length?($e=null==Ee?Hs:Ee,voronoi):$e===Hs?null:$e},voronoi.size=function(Ee){return arguments.length?voronoi.clipExtent(Ee&&[[0,0],Ee]):$e===Hs?null:$e&&$e[1]},voronoi};var Hs=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_quadtreeCompatX(Ee){return Ee.x}function d3_geom_quadtreeCompatY(Ee){return Ee.y}function d3_geom_quadtreeVisit(Ee,ze,Be,Ue,We,$e){if(!Ee(ze,Be,Ue,We,$e)){var Qe=.5*(Be+We),et=.5*(Ue+$e),tt=ze.nodes;tt[0]&&d3_geom_quadtreeVisit(Ee,tt[0],Be,Ue,Qe,et),tt[1]&&d3_geom_quadtreeVisit(Ee,tt[1],Qe,Ue,We,et),tt[2]&&d3_geom_quadtreeVisit(Ee,tt[2],Be,et,Qe,$e),tt[3]&&d3_geom_quadtreeVisit(Ee,tt[3],Qe,et,We,$e)}}function d3_geom_quadtreeFind(Ee,ze,Be,Ue,We,$e,Qe){var et,tt=1/0;return function find(Ee,rt,nt,at,it){if(!(rt>$e||nt>Qe||at<Ue||it<We)){if(ct=Ee.point){var ct,ft=ze-Ee.x,xt=Be-Ee.y,kt=ft*ft+xt*xt;if(kt<tt){var Lt=Math.sqrt(tt=kt);Ue=ze-Lt,We=Be-Lt,$e=ze+Lt,Qe=Be+Lt,et=ct}}for(var Ut=Ee.nodes,er=.5*(rt+at),tr=.5*(nt+it),rr=(Be>=tr)<<1|ze>=er,ar=rr+4;rr<ar;++rr)if(Ee=Ut[3&rr])switch(3&rr){case 0:find(Ee,rt,nt,er,tr);break;case 1:find(Ee,er,nt,at,tr);break;case 2:find(Ee,rt,tr,er,it);break;case 3:find(Ee,er,tr,at,it)}}}(Ee,Ue,We,$e,Qe),et}function d3_interpolateRgb(Ee,ze){Ee=$e.rgb(Ee),ze=$e.rgb(ze);var Be=Ee.r,Ue=Ee.g,We=Ee.b,Qe=ze.r-Be,et=ze.g-Ue,tt=ze.b-We;return function(Ee){return"#"+d3_rgb_hex(Math.round(Be+Qe*Ee))+d3_rgb_hex(Math.round(Ue+et*Ee))+d3_rgb_hex(Math.round(We+tt*Ee))}}function d3_interpolateObject(Ee,ze){var Be,Ue={},We={};for(Be in Ee)Be in ze?Ue[Be]=d3_interpolate(Ee[Be],ze[Be]):We[Be]=Ee[Be];for(Be in ze)Be in Ee||(We[Be]=ze[Be]);return function(Ee){for(Be in Ue)We[Be]=Ue[Be](Ee);return We}}function d3_interpolateNumber(Ee,ze){return Ee=+Ee,ze=+ze,function(Be){return Ee*(1-Be)+ze*Be}}function d3_interpolateString(Ee,ze){var Be,Ue,We,$e=qs.lastIndex=Ws.lastIndex=0,Qe=-1,et=[],tt=[];for(Ee+="",ze+="";(Be=qs.exec(Ee))&&(Ue=Ws.exec(ze));)(We=Ue.index)>$e&&(We=ze.slice($e,We),et[Qe]?et[Qe]+=We:et[++Qe]=We),(Be=Be[0])===(Ue=Ue[0])?et[Qe]?et[Qe]+=Ue:et[++Qe]=Ue:(et[++Qe]=null,tt.push({i:Qe,x:d3_interpolateNumber(Be,Ue)})),$e=Ws.lastIndex;return $e<ze.length&&(We=ze.slice($e),et[Qe]?et[Qe]+=We:et[++Qe]=We),et.length<2?tt[0]?(ze=tt[0].x,function(Ee){return ze(Ee)+""}):function(){return ze}:(ze=tt.length,function(Ee){for(var Be,Ue=0;Ue<ze;++Ue)et[(Be=tt[Ue]).i]=Be.x(Ee);return et.join("")})}$e.geom.delaunay=function(Ee){return $e.geom.voronoi().triangles(Ee)},$e.geom.quadtree=function(Ee,ze,Be,Ue,We){var $e,Qe=d3_geom_pointX,et=d3_geom_pointY;if($e=arguments.length)return Qe=d3_geom_quadtreeCompatX,et=d3_geom_quadtreeCompatY,3===$e&&(We=Be,Ue=ze,Be=ze=0),quadtree(Ee);function quadtree(Ee){var tt,rt,nt,at,it,ct,xt,kt,Lt,Ut=d3_functor(Qe),er=d3_functor(et);if(null!=ze)ct=ze,xt=Be,kt=Ue,Lt=We;else if(kt=Lt=-(ct=xt=1/0),rt=[],nt=[],it=Ee.length,$e)for(at=0;at<it;++at)(tt=Ee[at]).x<ct&&(ct=tt.x),tt.y<xt&&(xt=tt.y),tt.x>kt&&(kt=tt.x),tt.y>Lt&&(Lt=tt.y),rt.push(tt.x),nt.push(tt.y);else for(at=0;at<it;++at){var tr=+Ut(tt=Ee[at],at),rr=+er(tt,at);tr<ct&&(ct=tr),rr<xt&&(xt=rr),tr>kt&&(kt=tr),rr>Lt&&(Lt=rr),rt.push(tr),nt.push(rr)}var ar=kt-ct,Lr=Lt-xt;function insert(Ee,ze,Be,Ue,We,$e,Qe,et){if(!isNaN(Be)&&!isNaN(Ue))if(Ee.leaf){var tt=Ee.x,rt=Ee.y;if(null!=tt)if(ft(tt-Be)+ft(rt-Ue)<.01)insertChild(Ee,ze,Be,Ue,We,$e,Qe,et);else{var nt=Ee.point;Ee.x=Ee.y=Ee.point=null,insertChild(Ee,nt,tt,rt,We,$e,Qe,et),insertChild(Ee,ze,Be,Ue,We,$e,Qe,et)}else Ee.x=Be,Ee.y=Ue,Ee.point=ze}else insertChild(Ee,ze,Be,Ue,We,$e,Qe,et)}function insertChild(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=.5*(We+Qe),rt=.5*($e+et),nt=Be>=tt,at=Ue>=rt,it=at<<1|nt;Ee.leaf=!1,nt?We=tt:Qe=tt,at?$e=rt:et=rt,insert(Ee=Ee.nodes[it]||(Ee.nodes[it]={leaf:!0,nodes:[],point:null,x:null,y:null}),ze,Be,Ue,We,$e,Qe,et)}ar>Lr?Lt=xt+ar:kt=ct+Lr;var Qr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Ee){insert(Qr,Ee,+Ut(Ee,++at),+er(Ee,at),ct,xt,kt,Lt)},visit:function(Ee){d3_geom_quadtreeVisit(Ee,Qr,ct,xt,kt,Lt)},find:function(Ee){return d3_geom_quadtreeFind(Qr,Ee[0],Ee[1],ct,xt,kt,Lt)}};if(at=-1,null==ze){for(;++at<it;)insert(Qr,Ee[at],rt[at],nt[at],ct,xt,kt,Lt);--at}else Ee.forEach(Qr.add);return rt=nt=Ee=tt=null,Qr}return quadtree.x=function(Ee){return arguments.length?(Qe=Ee,quadtree):Qe},quadtree.y=function(Ee){return arguments.length?(et=Ee,quadtree):et},quadtree.extent=function(Ee){return arguments.length?(null==Ee?ze=Be=Ue=We=null:(ze=+Ee[0][0],Be=+Ee[0][1],Ue=+Ee[1][0],We=+Ee[1][1]),quadtree):null==ze?null:[[ze,Be],[Ue,We]]},quadtree.size=function(Ee){return arguments.length?(null==Ee?ze=Be=Ue=We=null:(ze=Be=0,Ue=+Ee[0],We=+Ee[1]),quadtree):null==ze?null:[Ue-ze,We-Be]},quadtree},$e.interpolateRgb=d3_interpolateRgb,$e.interpolateObject=d3_interpolateObject,$e.interpolateNumber=d3_interpolateNumber,$e.interpolateString=d3_interpolateString;var qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ws=new RegExp(qs.source,"g");function d3_interpolate(Ee,ze){for(var Be,Ue=$e.interpolators.length;--Ue>=0&&!(Be=$e.interpolators[Ue](Ee,ze)););return Be}function d3_interpolateArray(Ee,ze){var Be,Ue=[],We=[],$e=Ee.length,Qe=ze.length,et=Math.min(Ee.length,ze.length);for(Be=0;Be<et;++Be)Ue.push(d3_interpolate(Ee[Be],ze[Be]));for(;Be<$e;++Be)We[Be]=Ee[Be];for(;Be<Qe;++Be)We[Be]=ze[Be];return function(Ee){for(Be=0;Be<et;++Be)We[Be]=Ue[Be](Ee);return We}}$e.interpolate=d3_interpolate,$e.interpolators=[function(Ee,ze){var Be=typeof ze;return("string"===Be?Jn.has(ze.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ze)?d3_interpolateRgb:d3_interpolateString:ze instanceof d3_color?d3_interpolateRgb:Array.isArray(ze)?d3_interpolateArray:"object"===Be&&isNaN(ze)?d3_interpolateObject:d3_interpolateNumber)(Ee,ze)}],$e.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},Xs=$e.map({linear:d3_ease_default,poly:function d3_ease_poly(Ee){return function(ze){return Math.pow(ze,Ee)}},quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:function d3_ease_elastic(Ee,ze){var Be;arguments.length<2&&(ze=.45);arguments.length?Be=ze/un*Math.asin(1/Ee):(Ee=1,Be=ze/4);return function(Ue){return 1+Ee*Math.pow(2,-10*Ue)*Math.sin((Ue-Be)*un/ze)}},back:function d3_ease_back(Ee){Ee||(Ee=1.70158);return function(ze){return ze*ze*((Ee+1)*ze-Ee)}},bounce:function(){return d3_ease_bounce}}),Zs=$e.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(Ee){return d3_ease_reflect(d3_ease_reverse(Ee))}});function d3_ease_clamp(Ee){return function(ze){return ze<=0?0:ze>=1?1:Ee(ze)}}function d3_ease_reverse(Ee){return function(ze){return 1-Ee(1-ze)}}function d3_ease_reflect(Ee){return function(ze){return.5*(ze<.5?Ee(2*ze):2-Ee(2-2*ze))}}function d3_ease_quad(Ee){return Ee*Ee}function d3_ease_cubic(Ee){return Ee*Ee*Ee}function d3_ease_cubicInOut(Ee){if(Ee<=0)return 0;if(Ee>=1)return 1;var ze=Ee*Ee,Be=ze*Ee;return 4*(Ee<.5?Be:3*(Ee-ze)+Be-.75)}function d3_ease_sin(Ee){return 1-Math.cos(Ee*dn)}function d3_ease_exp(Ee){return Math.pow(2,10*(Ee-1))}function d3_ease_circle(Ee){return 1-Math.sqrt(1-Ee*Ee)}function d3_ease_bounce(Ee){return Ee<1/2.75?7.5625*Ee*Ee:Ee<2/2.75?7.5625*(Ee-=1.5/2.75)*Ee+.75:Ee<2.5/2.75?7.5625*(Ee-=2.25/2.75)*Ee+.9375:7.5625*(Ee-=2.625/2.75)*Ee+.984375}function d3_interpolateRound(Ee,ze){return ze-=Ee,function(Be){return Math.round(Ee+ze*Be)}}function d3_transform(Ee){var ze=[Ee.a,Ee.b],Be=[Ee.c,Ee.d],Ue=d3_transformNormalize(ze),We=d3_transformDot(ze,Be),$e=d3_transformNormalize(function d3_transformCombine(Ee,ze,Be){return Ee[0]+=Be*ze[0],Ee[1]+=Be*ze[1],Ee}(Be,ze,-We))||0;ze[0]*Be[1]<Be[0]*ze[1]&&(ze[0]*=-1,ze[1]*=-1,Ue*=-1,We*=-1),this.rotate=(Ue?Math.atan2(ze[1],ze[0]):Math.atan2(-Be[0],Be[1]))*yn,this.translate=[Ee.e,Ee.f],this.scale=[Ue,$e],this.skew=$e?Math.atan2(We,$e)*yn:0}function d3_transformDot(Ee,ze){return Ee[0]*ze[0]+Ee[1]*ze[1]}function d3_transformNormalize(Ee){var ze=Math.sqrt(d3_transformDot(Ee,Ee));return ze&&(Ee[0]/=ze,Ee[1]/=ze),ze}$e.ease=function(Ee){var ze=Ee.indexOf("-"),Be=ze>=0?Ee.slice(0,ze):Ee,Ue=ze>=0?Ee.slice(ze+1):"in";return Be=Xs.get(Be)||d3_ease_default,d3_ease_clamp((Ue=Zs.get(Ue)||d3_identity)(Be.apply(null,Qe.call(arguments,1))))},$e.interpolateHcl=function d3_interpolateHcl(Ee,ze){Ee=$e.hcl(Ee),ze=$e.hcl(ze);var Be=Ee.h,Ue=Ee.c,We=Ee.l,Qe=ze.h-Be,et=ze.c-Ue,tt=ze.l-We;isNaN(et)&&(et=0,Ue=isNaN(Ue)?ze.c:Ue);isNaN(Qe)?(Qe=0,Be=isNaN(Be)?ze.h:Be):Qe>180?Qe-=360:Qe<-180&&(Qe+=360);return function(Ee){return d3_hcl_lab(Be+Qe*Ee,Ue+et*Ee,We+tt*Ee)+""}},$e.interpolateHsl=function d3_interpolateHsl(Ee,ze){Ee=$e.hsl(Ee),ze=$e.hsl(ze);var Be=Ee.h,Ue=Ee.s,We=Ee.l,Qe=ze.h-Be,et=ze.s-Ue,tt=ze.l-We;isNaN(et)&&(et=0,Ue=isNaN(Ue)?ze.s:Ue);isNaN(Qe)?(Qe=0,Be=isNaN(Be)?ze.h:Be):Qe>180?Qe-=360:Qe<-180&&(Qe+=360);return function(Ee){return d3_hsl_rgb(Be+Qe*Ee,Ue+et*Ee,We+tt*Ee)+""}},$e.interpolateLab=function d3_interpolateLab(Ee,ze){Ee=$e.lab(Ee),ze=$e.lab(ze);var Be=Ee.l,Ue=Ee.a,We=Ee.b,Qe=ze.l-Be,et=ze.a-Ue,tt=ze.b-We;return function(Ee){return d3_lab_rgb(Be+Qe*Ee,Ue+et*Ee,We+tt*Ee)+""}},$e.interpolateRound=d3_interpolateRound,$e.transform=function(Ee){var ze=et.createElementNS($e.ns.prefix.svg,"g");return($e.transform=function(Ee){if(null!=Ee){ze.setAttribute("transform",Ee);var Be=ze.transform.baseVal.consolidate()}return new d3_transform(Be?Be.matrix:Ks)})(Ee)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ks={a:1,b:0,c:0,d:1,e:0,f:0};function d3_interpolateTransformPop(Ee){return Ee.length?Ee.pop()+",":""}function d3_interpolateTransform(Ee,ze){var Be=[],Ue=[];return Ee=$e.transform(Ee),ze=$e.transform(ze),function d3_interpolateTranslate(Ee,ze,Be,Ue){if(Ee[0]!==ze[0]||Ee[1]!==ze[1]){var We=Be.push("translate(",null,",",null,")");Ue.push({i:We-4,x:d3_interpolateNumber(Ee[0],ze[0])},{i:We-2,x:d3_interpolateNumber(Ee[1],ze[1])})}else(ze[0]||ze[1])&&Be.push("translate("+ze+")")}(Ee.translate,ze.translate,Be,Ue),function d3_interpolateRotate(Ee,ze,Be,Ue){Ee!==ze?(Ee-ze>180?ze+=360:ze-Ee>180&&(Ee+=360),Ue.push({i:Be.push(d3_interpolateTransformPop(Be)+"rotate(",null,")")-2,x:d3_interpolateNumber(Ee,ze)})):ze&&Be.push(d3_interpolateTransformPop(Be)+"rotate("+ze+")")}(Ee.rotate,ze.rotate,Be,Ue),function d3_interpolateSkew(Ee,ze,Be,Ue){Ee!==ze?Ue.push({i:Be.push(d3_interpolateTransformPop(Be)+"skewX(",null,")")-2,x:d3_interpolateNumber(Ee,ze)}):ze&&Be.push(d3_interpolateTransformPop(Be)+"skewX("+ze+")")}(Ee.skew,ze.skew,Be,Ue),function d3_interpolateScale(Ee,ze,Be,Ue){if(Ee[0]!==ze[0]||Ee[1]!==ze[1]){var We=Be.push(d3_interpolateTransformPop(Be)+"scale(",null,",",null,")");Ue.push({i:We-4,x:d3_interpolateNumber(Ee[0],ze[0])},{i:We-2,x:d3_interpolateNumber(Ee[1],ze[1])})}else 1===ze[0]&&1===ze[1]||Be.push(d3_interpolateTransformPop(Be)+"scale("+ze+")")}(Ee.scale,ze.scale,Be,Ue),Ee=ze=null,function(Ee){for(var ze,We=-1,$e=Ue.length;++We<$e;)Be[(ze=Ue[We]).i]=ze.x(Ee);return Be.join("")}}function d3_uninterpolateNumber(Ee,ze){return ze=(ze-=Ee=+Ee)||1/ze,function(Be){return(Be-Ee)/ze}}function d3_uninterpolateClamp(Ee,ze){return ze=(ze-=Ee=+Ee)||1/ze,function(Be){return Math.max(0,Math.min(1,(Be-Ee)/ze))}}function d3_layout_bundlePath(Ee){for(var ze=Ee.source,Be=Ee.target,Ue=function d3_layout_bundleLeastCommonAncestor(Ee,ze){if(Ee===ze)return Ee;var Be=d3_layout_bundleAncestors(Ee),Ue=d3_layout_bundleAncestors(ze),We=Be.pop(),$e=Ue.pop(),Qe=null;for(;We===$e;)Qe=We,We=Be.pop(),$e=Ue.pop();return Qe}(ze,Be),We=[ze];ze!==Ue;)ze=ze.parent,We.push(ze);for(var $e=We.length;Be!==Ue;)We.splice($e,0,Be),Be=Be.parent;return We}function d3_layout_bundleAncestors(Ee){for(var ze=[],Be=Ee.parent;null!=Be;)ze.push(Ee),Ee=Be,Be=Be.parent;return ze.push(Ee),ze}function d3_layout_forceDragstart(Ee){Ee.fixed|=2}function d3_layout_forceDragend(Ee){Ee.fixed&=-7}function d3_layout_forceMouseover(Ee){Ee.fixed|=4,Ee.px=Ee.x,Ee.py=Ee.y}function d3_layout_forceMouseout(Ee){Ee.fixed&=-5}$e.interpolateTransform=d3_interpolateTransform,$e.layout={},$e.layout.bundle=function(){return function(Ee){for(var ze=[],Be=-1,Ue=Ee.length;++Be<Ue;)ze.push(d3_layout_bundlePath(Ee[Be]));return ze}},$e.layout.chord=function(){var Ee,ze,Be,Ue,We,Qe,et,tt={},rt=0;function relayout(){var tt,nt,at,it,ct,ft={},xt=[],kt=$e.range(Ue),Lt=[];for(Ee=[],ze=[],tt=0,it=-1;++it<Ue;){for(nt=0,ct=-1;++ct<Ue;)nt+=Be[it][ct];xt.push(nt),Lt.push($e.range(Ue)),tt+=nt}for(We&&kt.sort((function(Ee,ze){return We(xt[Ee],xt[ze])})),Qe&&Lt.forEach((function(Ee,ze){Ee.sort((function(Ee,Ue){return Qe(Be[ze][Ee],Be[ze][Ue])}))})),tt=(un-rt*Ue)/tt,nt=0,it=-1;++it<Ue;){for(at=nt,ct=-1;++ct<Ue;){var Ut=kt[it],er=Lt[Ut][ct],tr=Be[Ut][er],rr=nt,ar=nt+=tr*tt;ft[Ut+"-"+er]={index:Ut,subindex:er,startAngle:rr,endAngle:ar,value:tr}}ze[Ut]={index:Ut,startAngle:at,endAngle:nt,value:xt[Ut]},nt+=rt}for(it=-1;++it<Ue;)for(ct=it-1;++ct<Ue;){var Lr=ft[it+"-"+ct],Qr=ft[ct+"-"+it];(Lr.value||Qr.value)&&Ee.push(Lr.value<Qr.value?{source:Qr,target:Lr}:{source:Lr,target:Qr})}et&&resort()}function resort(){Ee.sort((function(Ee,ze){return et((Ee.source.value+Ee.target.value)/2,(ze.source.value+ze.target.value)/2)}))}return tt.matrix=function(We){return arguments.length?(Ue=(Be=We)&&Be.length,Ee=ze=null,tt):Be},tt.padding=function(Be){return arguments.length?(rt=Be,Ee=ze=null,tt):rt},tt.sortGroups=function(Be){return arguments.length?(We=Be,Ee=ze=null,tt):We},tt.sortSubgroups=function(ze){return arguments.length?(Qe=ze,Ee=null,tt):Qe},tt.sortChords=function(ze){return arguments.length?(et=ze,Ee&&resort(),tt):et},tt.chords=function(){return Ee||relayout(),Ee},tt.groups=function(){return ze||relayout(),ze},tt},$e.layout.force=function(){var Ee,ze,Be,Ue,We,Qe,et={},tt=$e.dispatch("start","tick","end"),rt=[1,1],nt=.9,at=$s,it=Qs,ct=-30,ft=cl,xt=.1,kt=.64,Lt=[],Ut=[];function repulse(Ee){return function(ze,Be,Ue,We){if(ze.point!==Ee){var $e=ze.cx-Ee.x,Qe=ze.cy-Ee.y,et=We-Be,tt=$e*$e+Qe*Qe;if(et*et/kt<tt){if(tt<ft){var rt=ze.charge/tt;Ee.px-=$e*rt,Ee.py-=Qe*rt}return!0}if(ze.point&&tt&&tt<ft){rt=ze.pointCharge/tt;Ee.px-=$e*rt,Ee.py-=Qe*rt}}return!ze.charge}}function dragmove(Ee){Ee.px=$e.event.x,Ee.py=$e.event.y,et.resume()}return et.tick=function(){if((Be*=.99)<.005)return Ee=null,tt.end({type:"end",alpha:Be=0}),!0;var ze,et,at,it,ft,kt,er,tr,rr,ar=Lt.length,Lr=Ut.length;for(et=0;et<Lr;++et)it=(at=Ut[et]).source,(kt=(tr=(ft=at.target).x-it.x)*tr+(rr=ft.y-it.y)*rr)&&(tr*=kt=Be*We[et]*((kt=Math.sqrt(kt))-Ue[et])/kt,rr*=kt,ft.x-=tr*(er=it.weight+ft.weight?it.weight/(it.weight+ft.weight):.5),ft.y-=rr*er,it.x+=tr*(er=1-er),it.y+=rr*er);if((er=Be*xt)&&(tr=rt[0]/2,rr=rt[1]/2,et=-1,er))for(;++et<ar;)(at=Lt[et]).x+=(tr-at.x)*er,at.y+=(rr-at.y)*er;if(ct)for(!function d3_layout_forceAccumulate(Ee,ze,Be){var Ue=0,We=0;if(Ee.charge=0,!Ee.leaf)for(var $e,Qe=Ee.nodes,et=Qe.length,tt=-1;++tt<et;)null!=($e=Qe[tt])&&(d3_layout_forceAccumulate($e,ze,Be),Ee.charge+=$e.charge,Ue+=$e.charge*$e.cx,We+=$e.charge*$e.cy);if(Ee.point){Ee.leaf||(Ee.point.x+=Math.random()-.5,Ee.point.y+=Math.random()-.5);var rt=ze*Be[Ee.point.index];Ee.charge+=Ee.pointCharge=rt,Ue+=rt*Ee.point.x,We+=rt*Ee.point.y}Ee.cx=Ue/Ee.charge,Ee.cy=We/Ee.charge}(ze=$e.geom.quadtree(Lt),Be,Qe),et=-1;++et<ar;)(at=Lt[et]).fixed||ze.visit(repulse(at));for(et=-1;++et<ar;)(at=Lt[et]).fixed?(at.x=at.px,at.y=at.py):(at.x-=(at.px-(at.px=at.x))*nt,at.y-=(at.py-(at.py=at.y))*nt);tt.tick({type:"tick",alpha:Be})},et.nodes=function(Ee){return arguments.length?(Lt=Ee,et):Lt},et.links=function(Ee){return arguments.length?(Ut=Ee,et):Ut},et.size=function(Ee){return arguments.length?(rt=Ee,et):rt},et.linkDistance=function(Ee){return arguments.length?(at="function"==typeof Ee?Ee:+Ee,et):at},et.distance=et.linkDistance,et.linkStrength=function(Ee){return arguments.length?(it="function"==typeof Ee?Ee:+Ee,et):it},et.friction=function(Ee){return arguments.length?(nt=+Ee,et):nt},et.charge=function(Ee){return arguments.length?(ct="function"==typeof Ee?Ee:+Ee,et):ct},et.chargeDistance=function(Ee){return arguments.length?(ft=Ee*Ee,et):Math.sqrt(ft)},et.gravity=function(Ee){return arguments.length?(xt=+Ee,et):xt},et.theta=function(Ee){return arguments.length?(kt=Ee*Ee,et):Math.sqrt(kt)},et.alpha=function(ze){return arguments.length?(ze=+ze,Be?ze>0?Be=ze:(Ee.c=null,Ee.t=NaN,Ee=null,tt.end({type:"end",alpha:Be=0})):ze>0&&(tt.start({type:"start",alpha:Be=ze}),Ee=d3_timer(et.tick)),et):Be},et.start=function(){var Ee,ze,Be,$e=Lt.length,tt=Ut.length,nt=rt[0],ft=rt[1];for(Ee=0;Ee<$e;++Ee)(Be=Lt[Ee]).index=Ee,Be.weight=0;for(Ee=0;Ee<tt;++Ee)"number"==typeof(Be=Ut[Ee]).source&&(Be.source=Lt[Be.source]),"number"==typeof Be.target&&(Be.target=Lt[Be.target]),++Be.source.weight,++Be.target.weight;for(Ee=0;Ee<$e;++Ee)Be=Lt[Ee],isNaN(Be.x)&&(Be.x=position("x",nt)),isNaN(Be.y)&&(Be.y=position("y",ft)),isNaN(Be.px)&&(Be.px=Be.x),isNaN(Be.py)&&(Be.py=Be.y);if(Ue=[],"function"==typeof at)for(Ee=0;Ee<tt;++Ee)Ue[Ee]=+at.call(this,Ut[Ee],Ee);else for(Ee=0;Ee<tt;++Ee)Ue[Ee]=at;if(We=[],"function"==typeof it)for(Ee=0;Ee<tt;++Ee)We[Ee]=+it.call(this,Ut[Ee],Ee);else for(Ee=0;Ee<tt;++Ee)We[Ee]=it;if(Qe=[],"function"==typeof ct)for(Ee=0;Ee<$e;++Ee)Qe[Ee]=+ct.call(this,Lt[Ee],Ee);else for(Ee=0;Ee<$e;++Ee)Qe[Ee]=ct;function position(Be,Ue){if(!ze){for(ze=new Array($e),rt=0;rt<$e;++rt)ze[rt]=[];for(rt=0;rt<tt;++rt){var We=Ut[rt];ze[We.source.index].push(We.target),ze[We.target.index].push(We.source)}}for(var Qe,et=ze[Ee],rt=-1,nt=et.length;++rt<nt;)if(!isNaN(Qe=et[rt][Be]))return Qe;return Math.random()*Ue}return et.resume()},et.resume=function(){return et.alpha(.1)},et.stop=function(){return et.alpha(0)},et.drag=function(){if(ze||(ze=$e.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return ze;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(ze)},$e.rebind(et,tt,"on")};var $s=20,Qs=1,cl=1/0;function d3_layout_hierarchyRebind(Ee,ze){return $e.rebind(Ee,ze,"sort","children","value"),Ee.nodes=Ee,Ee.links=d3_layout_hierarchyLinks,Ee}function d3_layout_hierarchyVisitBefore(Ee,ze){for(var Be=[Ee];null!=(Ee=Be.pop());)if(ze(Ee),(We=Ee.children)&&(Ue=We.length))for(var Ue,We;--Ue>=0;)Be.push(We[Ue])}function d3_layout_hierarchyVisitAfter(Ee,ze){for(var Be=[Ee],Ue=[];null!=(Ee=Be.pop());)if(Ue.push(Ee),($e=Ee.children)&&(We=$e.length))for(var We,$e,Qe=-1;++Qe<We;)Be.push($e[Qe]);for(;null!=(Ee=Ue.pop());)ze(Ee)}function d3_layout_hierarchyChildren(Ee){return Ee.children}function d3_layout_hierarchyValue(Ee){return Ee.value}function d3_layout_hierarchySort(Ee,ze){return ze.value-Ee.value}function d3_layout_hierarchyLinks(Ee){return $e.merge(Ee.map((function(Ee){return(Ee.children||[]).map((function(ze){return{source:Ee,target:ze}}))})))}$e.layout.hierarchy=function(){var Ee=d3_layout_hierarchySort,ze=d3_layout_hierarchyChildren,Be=d3_layout_hierarchyValue;function hierarchy(Ue){var We,$e=[Ue],Qe=[];for(Ue.depth=0;null!=(We=$e.pop());)if(Qe.push(We),(tt=ze.call(hierarchy,We,We.depth))&&(et=tt.length)){for(var et,tt,rt;--et>=0;)$e.push(rt=tt[et]),rt.parent=We,rt.depth=We.depth+1;Be&&(We.value=0),We.children=tt}else Be&&(We.value=+Be.call(hierarchy,We,We.depth)||0),delete We.children;return d3_layout_hierarchyVisitAfter(Ue,(function(ze){var Ue,We;Ee&&(Ue=ze.children)&&Ue.sort(Ee),Be&&(We=ze.parent)&&(We.value+=ze.value)})),Qe}return hierarchy.sort=function(ze){return arguments.length?(Ee=ze,hierarchy):Ee},hierarchy.children=function(Ee){return arguments.length?(ze=Ee,hierarchy):ze},hierarchy.value=function(Ee){return arguments.length?(Be=Ee,hierarchy):Be},hierarchy.revalue=function(Ee){return Be&&(d3_layout_hierarchyVisitBefore(Ee,(function(Ee){Ee.children&&(Ee.value=0)})),d3_layout_hierarchyVisitAfter(Ee,(function(Ee){var ze;Ee.children||(Ee.value=+Be.call(hierarchy,Ee,Ee.depth)||0),(ze=Ee.parent)&&(ze.value+=Ee.value)}))),Ee},hierarchy},$e.layout.partition=function(){var Ee=$e.layout.hierarchy(),ze=[1,1];function partition(Be,Ue){var We=Ee.call(this,Be,Ue);return function position(Ee,ze,Be,Ue){var We=Ee.children;if(Ee.x=ze,Ee.y=Ee.depth*Ue,Ee.dx=Be,Ee.dy=Ue,We&&($e=We.length)){var $e,Qe,et,tt=-1;for(Be=Ee.value?Be/Ee.value:0;++tt<$e;)position(Qe=We[tt],ze,et=Qe.value*Be,Ue),ze+=et}}(We[0],0,ze[0],ze[1]/function depth(Ee){var ze=Ee.children,Be=0;if(ze&&(Ue=ze.length))for(var Ue,We=-1;++We<Ue;)Be=Math.max(Be,depth(ze[We]));return 1+Be}(We[0])),We}return partition.size=function(Ee){return arguments.length?(ze=Ee,partition):ze},d3_layout_hierarchyRebind(partition,Ee)},$e.layout.pie=function(){var Ee=Number,ze=fl,Be=0,Ue=un,We=0;function pie(Qe){var et,tt=Qe.length,rt=Qe.map((function(ze,Be){return+Ee.call(pie,ze,Be)})),nt=+("function"==typeof Be?Be.apply(this,arguments):Be),at=("function"==typeof Ue?Ue.apply(this,arguments):Ue)-nt,it=Math.min(Math.abs(at)/tt,+("function"==typeof We?We.apply(this,arguments):We)),ct=it*(at<0?-1:1),ft=$e.sum(rt),xt=ft?(at-tt*ct)/ft:0,kt=$e.range(tt),Lt=[];return null!=ze&&kt.sort(ze===fl?function(Ee,ze){return rt[ze]-rt[Ee]}:function(Ee,Be){return ze(Qe[Ee],Qe[Be])}),kt.forEach((function(Ee){Lt[Ee]={data:Qe[Ee],value:et=rt[Ee],startAngle:nt,endAngle:nt+=et*xt+ct,padAngle:it}})),Lt}return pie.value=function(ze){return arguments.length?(Ee=ze,pie):Ee},pie.sort=function(Ee){return arguments.length?(ze=Ee,pie):ze},pie.startAngle=function(Ee){return arguments.length?(Be=Ee,pie):Be},pie.endAngle=function(Ee){return arguments.length?(Ue=Ee,pie):Ue},pie.padAngle=function(Ee){return arguments.length?(We=Ee,pie):We},pie};var fl={};function d3_layout_stackX(Ee){return Ee.x}function d3_layout_stackY(Ee){return Ee.y}function d3_layout_stackOut(Ee,ze,Be){Ee.y0=ze,Ee.y=Be}$e.layout.stack=function(){var Ee=d3_identity,ze=d3_layout_stackOrderDefault,Be=d3_layout_stackOffsetZero,Ue=d3_layout_stackOut,We=d3_layout_stackX,Qe=d3_layout_stackY;function stack(et,tt){if(!(it=et.length))return et;var rt=et.map((function(ze,Be){return Ee.call(stack,ze,Be)})),nt=rt.map((function(Ee){return Ee.map((function(Ee,ze){return[We.call(stack,Ee,ze),Qe.call(stack,Ee,ze)]}))})),at=ze.call(stack,nt,tt);rt=$e.permute(rt,at),nt=$e.permute(nt,at);var it,ct,ft,xt,kt=Be.call(stack,nt,tt),Lt=rt[0].length;for(ft=0;ft<Lt;++ft)for(Ue.call(stack,rt[0][ft],xt=kt[ft],nt[0][ft][1]),ct=1;ct<it;++ct)Ue.call(stack,rt[ct][ft],xt+=nt[ct-1][ft][1],nt[ct][ft][1]);return et}return stack.values=function(ze){return arguments.length?(Ee=ze,stack):Ee},stack.order=function(Ee){return arguments.length?(ze="function"==typeof Ee?Ee:hl.get(Ee)||d3_layout_stackOrderDefault,stack):ze},stack.offset=function(Ee){return arguments.length?(Be="function"==typeof Ee?Ee:dl.get(Ee)||d3_layout_stackOffsetZero,stack):Be},stack.x=function(Ee){return arguments.length?(We=Ee,stack):We},stack.y=function(Ee){return arguments.length?(Qe=Ee,stack):Qe},stack.out=function(Ee){return arguments.length?(Ue=Ee,stack):Ue},stack};var hl=$e.map({"inside-out":function(Ee){var ze,Be,Ue=Ee.length,We=Ee.map(d3_layout_stackMaxIndex),Qe=Ee.map(d3_layout_stackReduceSum),et=$e.range(Ue).sort((function(Ee,ze){return We[Ee]-We[ze]})),tt=0,rt=0,nt=[],at=[];for(ze=0;ze<Ue;++ze)Be=et[ze],tt<rt?(tt+=Qe[Be],nt.push(Be)):(rt+=Qe[Be],at.push(Be));return at.reverse().concat(nt)},reverse:function(Ee){return $e.range(Ee.length).reverse()},default:d3_layout_stackOrderDefault}),dl=$e.map({silhouette:function(Ee){var ze,Be,Ue,We=Ee.length,$e=Ee[0].length,Qe=[],et=0,tt=[];for(Be=0;Be<$e;++Be){for(ze=0,Ue=0;ze<We;ze++)Ue+=Ee[ze][Be][1];Ue>et&&(et=Ue),Qe.push(Ue)}for(Be=0;Be<$e;++Be)tt[Be]=(et-Qe[Be])/2;return tt},wiggle:function(Ee){var ze,Be,Ue,We,$e,Qe,et,tt,rt,nt=Ee.length,at=Ee[0],it=at.length,ct=[];for(ct[0]=tt=rt=0,Be=1;Be<it;++Be){for(ze=0,We=0;ze<nt;++ze)We+=Ee[ze][Be][1];for(ze=0,$e=0,et=at[Be][0]-at[Be-1][0];ze<nt;++ze){for(Ue=0,Qe=(Ee[ze][Be][1]-Ee[ze][Be-1][1])/(2*et);Ue<ze;++Ue)Qe+=(Ee[Ue][Be][1]-Ee[Ue][Be-1][1])/et;$e+=Qe*Ee[ze][Be][1]}ct[Be]=tt-=We?$e/We*et:0,tt<rt&&(rt=tt)}for(Be=0;Be<it;++Be)ct[Be]-=rt;return ct},expand:function(Ee){var ze,Be,Ue,We=Ee.length,$e=Ee[0].length,Qe=1/We,et=[];for(Be=0;Be<$e;++Be){for(ze=0,Ue=0;ze<We;ze++)Ue+=Ee[ze][Be][1];if(Ue)for(ze=0;ze<We;ze++)Ee[ze][Be][1]/=Ue;else for(ze=0;ze<We;ze++)Ee[ze][Be][1]=Qe}for(Be=0;Be<$e;++Be)et[Be]=0;return et},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(Ee){return $e.range(Ee.length)}function d3_layout_stackOffsetZero(Ee){for(var ze=-1,Be=Ee[0].length,Ue=[];++ze<Be;)Ue[ze]=0;return Ue}function d3_layout_stackMaxIndex(Ee){for(var ze,Be=1,Ue=0,We=Ee[0][1],$e=Ee.length;Be<$e;++Be)(ze=Ee[Be][1])>We&&(Ue=Be,We=ze);return Ue}function d3_layout_stackReduceSum(Ee){return Ee.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(Ee,ze){return Ee+ze[1]}function d3_layout_histogramBinSturges(Ee,ze){return d3_layout_histogramBinFixed(Ee,Math.ceil(Math.log(ze.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(Ee,ze){for(var Be=-1,Ue=+Ee[0],We=(Ee[1]-Ue)/ze,$e=[];++Be<=ze;)$e[Be]=We*Be+Ue;return $e}function d3_layout_histogramRange(Ee){return[$e.min(Ee),$e.max(Ee)]}function d3_layout_packSort(Ee,ze){return Ee.value-ze.value}function d3_layout_packInsert(Ee,ze){var Be=Ee._pack_next;Ee._pack_next=ze,ze._pack_prev=Ee,ze._pack_next=Be,Be._pack_prev=ze}function d3_layout_packSplice(Ee,ze){Ee._pack_next=ze,ze._pack_prev=Ee}function d3_layout_packIntersects(Ee,ze){var Be=ze.x-Ee.x,Ue=ze.y-Ee.y,We=Ee.r+ze.r;return.999*We*We>Be*Be+Ue*Ue}function d3_layout_packSiblings(Ee){if((ze=Ee.children)&&(tt=ze.length)){var ze,Be,Ue,We,$e,Qe,et,tt,rt=1/0,nt=-1/0,at=1/0,it=-1/0;if(ze.forEach(d3_layout_packLink),(Be=ze[0]).x=-Be.r,Be.y=0,bound(Be),tt>1&&((Ue=ze[1]).x=Ue.r,Ue.y=0,bound(Ue),tt>2))for(d3_layout_packPlace(Be,Ue,We=ze[2]),bound(We),d3_layout_packInsert(Be,We),Be._pack_prev=We,d3_layout_packInsert(We,Ue),Ue=Be._pack_next,$e=3;$e<tt;$e++){d3_layout_packPlace(Be,Ue,We=ze[$e]);var ct=0,ft=1,xt=1;for(Qe=Ue._pack_next;Qe!==Ue;Qe=Qe._pack_next,ft++)if(d3_layout_packIntersects(Qe,We)){ct=1;break}if(1==ct)for(et=Be._pack_prev;et!==Qe._pack_prev&&!d3_layout_packIntersects(et,We);et=et._pack_prev,xt++);ct?(ft<xt||ft==xt&&Ue.r<Be.r?d3_layout_packSplice(Be,Ue=Qe):d3_layout_packSplice(Be=et,Ue),$e--):(d3_layout_packInsert(Be,We),Ue=We,bound(We))}var kt=(rt+nt)/2,Lt=(at+it)/2,Ut=0;for($e=0;$e<tt;$e++)(We=ze[$e]).x-=kt,We.y-=Lt,Ut=Math.max(Ut,We.r+Math.sqrt(We.x*We.x+We.y*We.y));Ee.r=Ut,ze.forEach(d3_layout_packUnlink)}function bound(Ee){rt=Math.min(Ee.x-Ee.r,rt),nt=Math.max(Ee.x+Ee.r,nt),at=Math.min(Ee.y-Ee.r,at),it=Math.max(Ee.y+Ee.r,it)}}function d3_layout_packLink(Ee){Ee._pack_next=Ee._pack_prev=Ee}function d3_layout_packUnlink(Ee){delete Ee._pack_next,delete Ee._pack_prev}function d3_layout_packPlace(Ee,ze,Be){var Ue=Ee.r+Be.r,We=ze.x-Ee.x,$e=ze.y-Ee.y;if(Ue&&(We||$e)){var Qe=ze.r+Be.r,et=We*We+$e*$e,tt=.5+((Ue*=Ue)-(Qe*=Qe))/(2*et),rt=Math.sqrt(Math.max(0,2*Qe*(Ue+et)-(Ue-=et)*Ue-Qe*Qe))/(2*et);Be.x=Ee.x+tt*We+rt*$e,Be.y=Ee.y+tt*$e-rt*We}else Be.x=Ee.x+Ue,Be.y=Ee.y}function d3_layout_treeSeparation(Ee,ze){return Ee.parent==ze.parent?1:2}function d3_layout_treeLeft(Ee){var ze=Ee.children;return ze.length?ze[0]:Ee.t}function d3_layout_treeRight(Ee){var ze,Be=Ee.children;return(ze=Be.length)?Be[ze-1]:Ee.t}function d3_layout_treeMove(Ee,ze,Be){var Ue=Be/(ze.i-Ee.i);ze.c-=Ue,ze.s+=Be,Ee.c+=Ue,ze.z+=Be,ze.m+=Be}function d3_layout_treeAncestor(Ee,ze,Be){return Ee.a.parent===ze.parent?Ee.a:Be}function d3_layout_treemapPadNull(Ee){return{x:Ee.x,y:Ee.y,dx:Ee.dx,dy:Ee.dy}}function d3_layout_treemapPad(Ee,ze){var Be=Ee.x+ze[3],Ue=Ee.y+ze[0],We=Ee.dx-ze[1]-ze[3],$e=Ee.dy-ze[0]-ze[2];return We<0&&(Be+=We/2,We=0),$e<0&&(Ue+=$e/2,$e=0),{x:Be,y:Ue,dx:We,dy:$e}}function d3_scaleExtent(Ee){var ze=Ee[0],Be=Ee[Ee.length-1];return ze<Be?[ze,Be]:[Be,ze]}function d3_scaleRange(Ee){return Ee.rangeExtent?Ee.rangeExtent():d3_scaleExtent(Ee.range())}function d3_scale_bilinear(Ee,ze,Be,Ue){var We=Be(Ee[0],Ee[1]),$e=Ue(ze[0],ze[1]);return function(Ee){return $e(We(Ee))}}function d3_scale_nice(Ee,ze){var Be,Ue=0,We=Ee.length-1,$e=Ee[Ue],Qe=Ee[We];return Qe<$e&&(Be=Ue,Ue=We,We=Be,Be=$e,$e=Qe,Qe=Be),Ee[Ue]=ze.floor($e),Ee[We]=ze.ceil(Qe),Ee}function d3_scale_niceStep(Ee){return Ee?{floor:function(ze){return Math.floor(ze/Ee)*Ee},ceil:function(ze){return Math.ceil(ze/Ee)*Ee}}:pl}$e.layout.histogram=function(){var Ee=!0,ze=Number,Be=d3_layout_histogramRange,Ue=d3_layout_histogramBinSturges;function histogram(We,Qe){for(var et,tt,rt=[],nt=We.map(ze,this),at=Be.call(this,nt,Qe),it=Ue.call(this,at,nt,Qe),ct=(Qe=-1,nt.length),ft=it.length-1,xt=Ee?1:1/ct;++Qe<ft;)(et=rt[Qe]=[]).dx=it[Qe+1]-(et.x=it[Qe]),et.y=0;if(ft>0)for(Qe=-1;++Qe<ct;)(tt=nt[Qe])>=at[0]&&tt<=at[1]&&((et=rt[$e.bisect(it,tt,1,ft)-1]).y+=xt,et.push(We[Qe]));return rt}return histogram.value=function(Ee){return arguments.length?(ze=Ee,histogram):ze},histogram.range=function(Ee){return arguments.length?(Be=d3_functor(Ee),histogram):Be},histogram.bins=function(Ee){return arguments.length?(Ue="number"==typeof Ee?function(ze){return d3_layout_histogramBinFixed(ze,Ee)}:d3_functor(Ee),histogram):Ue},histogram.frequency=function(ze){return arguments.length?(Ee=!!ze,histogram):Ee},histogram},$e.layout.pack=function(){var Ee,ze=$e.layout.hierarchy().sort(d3_layout_packSort),Be=0,Ue=[1,1];function pack(We,$e){var Qe=ze.call(this,We,$e),et=Qe[0],tt=Ue[0],rt=Ue[1],nt=null==Ee?Math.sqrt:"function"==typeof Ee?Ee:function(){return Ee};if(et.x=et.y=0,d3_layout_hierarchyVisitAfter(et,(function(Ee){Ee.r=+nt(Ee.value)})),d3_layout_hierarchyVisitAfter(et,d3_layout_packSiblings),Be){var at=Be*(Ee?1:Math.max(2*et.r/tt,2*et.r/rt))/2;d3_layout_hierarchyVisitAfter(et,(function(Ee){Ee.r+=at})),d3_layout_hierarchyVisitAfter(et,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(et,(function(Ee){Ee.r-=at}))}return function d3_layout_packTransform(Ee,ze,Be,Ue){var We=Ee.children;if(Ee.x=ze+=Ue*Ee.x,Ee.y=Be+=Ue*Ee.y,Ee.r*=Ue,We)for(var $e=-1,Qe=We.length;++$e<Qe;)d3_layout_packTransform(We[$e],ze,Be,Ue)}(et,tt/2,rt/2,Ee?1:1/Math.max(2*et.r/tt,2*et.r/rt)),Qe}return pack.size=function(Ee){return arguments.length?(Ue=Ee,pack):Ue},pack.radius=function(ze){return arguments.length?(Ee=null==ze||"function"==typeof ze?ze:+ze,pack):Ee},pack.padding=function(Ee){return arguments.length?(Be=+Ee,pack):Be},d3_layout_hierarchyRebind(pack,ze)},$e.layout.tree=function(){var Ee=$e.layout.hierarchy().sort(null).value(null),ze=d3_layout_treeSeparation,Be=[1,1],Ue=null;function tree(We,$e){var Qe=Ee.call(this,We,$e),et=Qe[0],tt=function wrapTree(Ee){var ze,Be={A:null,children:[Ee]},Ue=[Be];for(;null!=(ze=Ue.pop());)for(var We,$e=ze.children,Qe=0,et=$e.length;Qe<et;++Qe)Ue.push(($e[Qe]=We={_:$e[Qe],parent:ze,children:(We=$e[Qe].children)&&We.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Qe}).a=We);return Be.children[0]}(et);if(d3_layout_hierarchyVisitAfter(tt,firstWalk),tt.parent.m=-tt.z,d3_layout_hierarchyVisitBefore(tt,secondWalk),Ue)d3_layout_hierarchyVisitBefore(et,sizeNode);else{var rt=et,nt=et,at=et;d3_layout_hierarchyVisitBefore(et,(function(Ee){Ee.x<rt.x&&(rt=Ee),Ee.x>nt.x&&(nt=Ee),Ee.depth>at.depth&&(at=Ee)}));var it=ze(rt,nt)/2-rt.x,ct=Be[0]/(nt.x+ze(nt,rt)/2+it),ft=Be[1]/(at.depth||1);d3_layout_hierarchyVisitBefore(et,(function(Ee){Ee.x=(Ee.x+it)*ct,Ee.y=Ee.depth*ft}))}return Qe}function firstWalk(Ee){var Be=Ee.children,Ue=Ee.parent.children,We=Ee.i?Ue[Ee.i-1]:null;if(Be.length){!function d3_layout_treeShift(Ee){var ze,Be=0,Ue=0,We=Ee.children,$e=We.length;for(;--$e>=0;)(ze=We[$e]).z+=Be,ze.m+=Be,Be+=ze.s+(Ue+=ze.c)}(Ee);var $e=(Be[0].z+Be[Be.length-1].z)/2;We?(Ee.z=We.z+ze(Ee._,We._),Ee.m=Ee.z-$e):Ee.z=$e}else We&&(Ee.z=We.z+ze(Ee._,We._));Ee.parent.A=function apportion(Ee,Be,Ue){if(Be){for(var We,$e=Ee,Qe=Ee,et=Be,tt=$e.parent.children[0],rt=$e.m,nt=Qe.m,at=et.m,it=tt.m;et=d3_layout_treeRight(et),$e=d3_layout_treeLeft($e),et&&$e;)tt=d3_layout_treeLeft(tt),(Qe=d3_layout_treeRight(Qe)).a=Ee,(We=et.z+at-$e.z-rt+ze(et._,$e._))>0&&(d3_layout_treeMove(d3_layout_treeAncestor(et,Ee,Ue),Ee,We),rt+=We,nt+=We),at+=et.m,rt+=$e.m,it+=tt.m,nt+=Qe.m;et&&!d3_layout_treeRight(Qe)&&(Qe.t=et,Qe.m+=at-nt),$e&&!d3_layout_treeLeft(tt)&&(tt.t=$e,tt.m+=rt-it,Ue=Ee)}return Ue}(Ee,We,Ee.parent.A||Ue[0])}function secondWalk(Ee){Ee._.x=Ee.z+Ee.parent.m,Ee.m+=Ee.parent.m}function sizeNode(Ee){Ee.x*=Be[0],Ee.y=Ee.depth*Be[1]}return tree.separation=function(Ee){return arguments.length?(ze=Ee,tree):ze},tree.size=function(Ee){return arguments.length?(Ue=null==(Be=Ee)?sizeNode:null,tree):Ue?null:Be},tree.nodeSize=function(Ee){return arguments.length?(Ue=null==(Be=Ee)?null:sizeNode,tree):Ue?Be:null},d3_layout_hierarchyRebind(tree,Ee)},$e.layout.cluster=function(){var Ee=$e.layout.hierarchy().sort(null).value(null),ze=d3_layout_treeSeparation,Be=[1,1],Ue=!1;function cluster(We,Qe){var et,tt=Ee.call(this,We,Qe),rt=tt[0],nt=0;d3_layout_hierarchyVisitAfter(rt,(function(Ee){var Be=Ee.children;Be&&Be.length?(Ee.x=function d3_layout_clusterX(Ee){return Ee.reduce((function(Ee,ze){return Ee+ze.x}),0)/Ee.length}(Be),Ee.y=function d3_layout_clusterY(Ee){return 1+$e.max(Ee,(function(Ee){return Ee.y}))}(Be)):(Ee.x=et?nt+=ze(Ee,et):0,Ee.y=0,et=Ee)}));var at=function d3_layout_clusterLeft(Ee){var ze=Ee.children;return ze&&ze.length?d3_layout_clusterLeft(ze[0]):Ee}(rt),it=function d3_layout_clusterRight(Ee){var ze,Be=Ee.children;return Be&&(ze=Be.length)?d3_layout_clusterRight(Be[ze-1]):Ee}(rt),ct=at.x-ze(at,it)/2,ft=it.x+ze(it,at)/2;return d3_layout_hierarchyVisitAfter(rt,Ue?function(Ee){Ee.x=(Ee.x-rt.x)*Be[0],Ee.y=(rt.y-Ee.y)*Be[1]}:function(Ee){Ee.x=(Ee.x-ct)/(ft-ct)*Be[0],Ee.y=(1-(rt.y?Ee.y/rt.y:1))*Be[1]}),tt}return cluster.separation=function(Ee){return arguments.length?(ze=Ee,cluster):ze},cluster.size=function(Ee){return arguments.length?(Ue=null==(Be=Ee),cluster):Ue?null:Be},cluster.nodeSize=function(Ee){return arguments.length?(Ue=null!=(Be=Ee),cluster):Ue?Be:null},d3_layout_hierarchyRebind(cluster,Ee)},$e.layout.treemap=function(){var Ee,ze=$e.layout.hierarchy(),Be=Math.round,Ue=[1,1],We=null,Qe=d3_layout_treemapPadNull,et=!1,tt="squarify",rt=.5*(1+Math.sqrt(5));function scale(Ee,ze){for(var Be,Ue,We=-1,$e=Ee.length;++We<$e;)Ue=(Be=Ee[We]).value*(ze<0?0:ze),Be.area=isNaN(Ue)||Ue<=0?0:Ue}function squarify(Ee){var ze=Ee.children;if(ze&&ze.length){var Be,Ue,We,$e=Qe(Ee),et=[],rt=ze.slice(),nt=1/0,at="slice"===tt?$e.dx:"dice"===tt?$e.dy:"slice-dice"===tt?1&Ee.depth?$e.dy:$e.dx:Math.min($e.dx,$e.dy);for(scale(rt,$e.dx*$e.dy/Ee.value),et.area=0;(We=rt.length)>0;)et.push(Be=rt[We-1]),et.area+=Be.area,"squarify"!==tt||(Ue=worst(et,at))<=nt?(rt.pop(),nt=Ue):(et.area-=et.pop().area,position(et,at,$e,!1),at=Math.min($e.dx,$e.dy),et.length=et.area=0,nt=1/0);et.length&&(position(et,at,$e,!0),et.length=et.area=0),ze.forEach(squarify)}}function stickify(Ee){var ze=Ee.children;if(ze&&ze.length){var Be,Ue=Qe(Ee),We=ze.slice(),$e=[];for(scale(We,Ue.dx*Ue.dy/Ee.value),$e.area=0;Be=We.pop();)$e.push(Be),$e.area+=Be.area,null!=Be.z&&(position($e,Be.z?Ue.dx:Ue.dy,Ue,!We.length),$e.length=$e.area=0);ze.forEach(stickify)}}function worst(Ee,ze){for(var Be,Ue=Ee.area,We=0,$e=1/0,Qe=-1,et=Ee.length;++Qe<et;)(Be=Ee[Qe].area)&&(Be<$e&&($e=Be),Be>We&&(We=Be));return ze*=ze,(Ue*=Ue)?Math.max(ze*We*rt/Ue,Ue/(ze*$e*rt)):1/0}function position(Ee,ze,Ue,We){var $e,Qe=-1,et=Ee.length,tt=Ue.x,rt=Ue.y,nt=ze?Be(Ee.area/ze):0;if(ze==Ue.dx){for((We||nt>Ue.dy)&&(nt=Ue.dy);++Qe<et;)($e=Ee[Qe]).x=tt,$e.y=rt,$e.dy=nt,tt+=$e.dx=Math.min(Ue.x+Ue.dx-tt,nt?Be($e.area/nt):0);$e.z=!0,$e.dx+=Ue.x+Ue.dx-tt,Ue.y+=nt,Ue.dy-=nt}else{for((We||nt>Ue.dx)&&(nt=Ue.dx);++Qe<et;)($e=Ee[Qe]).x=tt,$e.y=rt,$e.dx=nt,rt+=$e.dy=Math.min(Ue.y+Ue.dy-rt,nt?Be($e.area/nt):0);$e.z=!1,$e.dy+=Ue.y+Ue.dy-rt,Ue.x+=nt,Ue.dx-=nt}}function treemap(Be){var We=Ee||ze(Be),$e=We[0];return $e.x=$e.y=0,$e.value?($e.dx=Ue[0],$e.dy=Ue[1]):$e.dx=$e.dy=0,Ee&&ze.revalue($e),scale([$e],$e.dx*$e.dy/$e.value),(Ee?stickify:squarify)($e),et&&(Ee=We),We}return treemap.size=function(Ee){return arguments.length?(Ue=Ee,treemap):Ue},treemap.padding=function(Ee){if(!arguments.length)return We;function padFunction(ze){var Be=Ee.call(treemap,ze,ze.depth);return null==Be?d3_layout_treemapPadNull(ze):d3_layout_treemapPad(ze,"number"==typeof Be?[Be,Be,Be,Be]:Be)}function padConstant(ze){return d3_layout_treemapPad(ze,Ee)}var ze;return Qe=null==(We=Ee)?d3_layout_treemapPadNull:"function"==(ze=typeof Ee)?padFunction:"number"===ze?(Ee=[Ee,Ee,Ee,Ee],padConstant):padConstant,treemap},treemap.round=function(Ee){return arguments.length?(Be=Ee?Math.round:Number,treemap):Be!=Number},treemap.sticky=function(ze){return arguments.length?(et=ze,Ee=null,treemap):et},treemap.ratio=function(Ee){return arguments.length?(rt=Ee,treemap):rt},treemap.mode=function(Ee){return arguments.length?(tt=Ee+"",treemap):tt},d3_layout_hierarchyRebind(treemap,ze)},$e.random={normal:function(Ee,ze){var Be=arguments.length;return Be<2&&(ze=1),Be<1&&(Ee=0),function(){var Be,Ue,We;do{We=(Be=2*Math.random()-1)*Be+(Ue=2*Math.random()-1)*Ue}while(!We||We>1);return Ee+ze*Be*Math.sqrt(-2*Math.log(We)/We)}},logNormal:function(){var Ee=$e.random.normal.apply($e,arguments);return function(){return Math.exp(Ee())}},bates:function(Ee){var ze=$e.random.irwinHall(Ee);return function(){return ze()/Ee}},irwinHall:function(Ee){return function(){for(var ze=0,Be=0;Be<Ee;Be++)ze+=Math.random();return ze}}},$e.scale={};var pl={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(Ee,ze,Be,Ue){var We=[],Qe=[],et=0,tt=Math.min(Ee.length,ze.length)-1;for(Ee[tt]<Ee[0]&&(Ee=Ee.slice().reverse(),ze=ze.slice().reverse());++et<=tt;)We.push(Be(Ee[et-1],Ee[et])),Qe.push(Ue(ze[et-1],ze[et]));return function(ze){var Be=$e.bisect(Ee,ze,1,tt)-1;return Qe[Be](We[Be](ze))}}function d3_scale_linearRebind(Ee,ze){return $e.rebind(Ee,ze,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(Ee,ze){return d3_scale_nice(Ee,d3_scale_niceStep(d3_scale_linearTickRange(Ee,ze)[2])),d3_scale_nice(Ee,d3_scale_niceStep(d3_scale_linearTickRange(Ee,ze)[2])),Ee}function d3_scale_linearTickRange(Ee,ze){null==ze&&(ze=10);var Be=d3_scaleExtent(Ee),Ue=Be[1]-Be[0],We=Math.pow(10,Math.floor(Math.log(Ue/ze)/Math.LN10)),$e=ze/Ue*We;return $e<=.15?We*=10:$e<=.35?We*=5:$e<=.75&&(We*=2),Be[0]=Math.ceil(Be[0]/We)*We,Be[1]=Math.floor(Be[1]/We)*We+.5*We,Be[2]=We,Be}function d3_scale_linearTicks(Ee,ze){return $e.range.apply($e,d3_scale_linearTickRange(Ee,ze))}function d3_scale_linearTickFormat(Ee,ze,Be){var Ue=d3_scale_linearTickRange(Ee,ze);if(Be){var We=Ua.exec(Be);if(We.shift(),"s"===We[8]){var Qe=$e.formatPrefix(Math.max(ft(Ue[0]),ft(Ue[1])));return We[7]||(We[7]="."+d3_scale_linearPrecision(Qe.scale(Ue[2]))),We[8]="f",Be=$e.format(We.join("")),function(Ee){return Be(Qe.scale(Ee))+Qe.symbol}}We[7]||(We[7]="."+function d3_scale_linearFormatPrecision(Ee,ze){var Be=d3_scale_linearPrecision(ze[2]);return Ee in gl?Math.abs(Be-d3_scale_linearPrecision(Math.max(ft(ze[0]),ft(ze[1]))))+ +("e"!==Ee):Be-2*("%"===Ee)}(We[8],Ue)),Be=We.join("")}else Be=",."+d3_scale_linearPrecision(Ue[2])+"f";return $e.format(Be)}$e.scale.linear=function(){return function d3_scale_linear(Ee,ze,Be,Ue){var We,$e;function rescale(){var Qe=Math.min(Ee.length,ze.length)>2?d3_scale_polylinear:d3_scale_bilinear,et=Ue?d3_uninterpolateClamp:d3_uninterpolateNumber;return We=Qe(Ee,ze,et,Be),$e=Qe(ze,Ee,et,d3_interpolate),scale}function scale(Ee){return We(Ee)}return scale.invert=function(Ee){return $e(Ee)},scale.domain=function(ze){return arguments.length?(Ee=ze.map(Number),rescale()):Ee},scale.range=function(Ee){return arguments.length?(ze=Ee,rescale()):ze},scale.rangeRound=function(Ee){return scale.range(Ee).interpolate(d3_interpolateRound)},scale.clamp=function(Ee){return arguments.length?(Ue=Ee,rescale()):Ue},scale.interpolate=function(Ee){return arguments.length?(Be=Ee,rescale()):Be},scale.ticks=function(ze){return d3_scale_linearTicks(Ee,ze)},scale.tickFormat=function(ze,Be){return d3_scale_linearTickFormat(Ee,ze,Be)},scale.nice=function(ze){return d3_scale_linearNice(Ee,ze),rescale()},scale.copy=function(){return d3_scale_linear(Ee,ze,Be,Ue)},rescale()}([0,1],[0,1],d3_interpolate,!1)};var gl={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(Ee){return-Math.floor(Math.log(Ee)/Math.LN10+.01)}$e.scale.log=function(){return function d3_scale_log(Ee,ze,Be,Ue){function log(Ee){return(Be?Math.log(Ee<0?0:Ee):-Math.log(Ee>0?0:-Ee))/Math.log(ze)}function pow(Ee){return Be?Math.pow(ze,Ee):-Math.pow(ze,-Ee)}function scale(ze){return Ee(log(ze))}return scale.invert=function(ze){return pow(Ee.invert(ze))},scale.domain=function(ze){return arguments.length?(Be=ze[0]>=0,Ee.domain((Ue=ze.map(Number)).map(log)),scale):Ue},scale.base=function(Be){return arguments.length?(ze=+Be,Ee.domain(Ue.map(log)),scale):ze},scale.nice=function(){var ze=d3_scale_nice(Ue.map(log),Be?Math:wl);return Ee.domain(ze),Ue=ze.map(pow),scale},scale.ticks=function(){var Ee=d3_scaleExtent(Ue),We=[],$e=Ee[0],Qe=Ee[1],et=Math.floor(log($e)),tt=Math.ceil(log(Qe)),rt=ze%1?2:ze;if(isFinite(tt-et)){if(Be){for(;et<tt;et++)for(var nt=1;nt<rt;nt++)We.push(pow(et)*nt);We.push(pow(et))}else for(We.push(pow(et));et++<tt;)for(nt=rt-1;nt>0;nt--)We.push(pow(et)*nt);for(et=0;We[et]<$e;et++);for(tt=We.length;We[tt-1]>Qe;tt--);We=We.slice(et,tt)}return We},scale.tickFormat=function(Ee,Be){if(!arguments.length)return yl;arguments.length<2?Be=yl:"function"!=typeof Be&&(Be=$e.format(Be));var Ue=Math.max(1,ze*Ee/scale.ticks().length);return function(Ee){var We=Ee/pow(Math.round(log(Ee)));return We*ze<ze-.5&&(We*=ze),We<=Ue?Be(Ee):""}},scale.copy=function(){return d3_scale_log(Ee.copy(),ze,Be,Ue)},d3_scale_linearRebind(scale,Ee)}($e.scale.linear().domain([0,1]),10,!0,[1,10])};var yl=$e.format(".0e"),wl={floor:function(Ee){return-Math.ceil(-Ee)},ceil:function(Ee){return-Math.floor(-Ee)}};function d3_scale_powPow(Ee){return function(ze){return ze<0?-Math.pow(-ze,Ee):Math.pow(ze,Ee)}}$e.scale.pow=function(){return function d3_scale_pow(Ee,ze,Be){var Ue=d3_scale_powPow(ze),We=d3_scale_powPow(1/ze);function scale(ze){return Ee(Ue(ze))}return scale.invert=function(ze){return We(Ee.invert(ze))},scale.domain=function(ze){return arguments.length?(Ee.domain((Be=ze.map(Number)).map(Ue)),scale):Be},scale.ticks=function(Ee){return d3_scale_linearTicks(Be,Ee)},scale.tickFormat=function(Ee,ze){return d3_scale_linearTickFormat(Be,Ee,ze)},scale.nice=function(Ee){return scale.domain(d3_scale_linearNice(Be,Ee))},scale.exponent=function($e){return arguments.length?(Ue=d3_scale_powPow(ze=$e),We=d3_scale_powPow(1/ze),Ee.domain(Be.map(Ue)),scale):ze},scale.copy=function(){return d3_scale_pow(Ee.copy(),ze,Be)},d3_scale_linearRebind(scale,Ee)}($e.scale.linear(),1,[0,1])},$e.scale.sqrt=function(){return $e.scale.pow().exponent(.5)},$e.scale.ordinal=function(){return function d3_scale_ordinal(Ee,ze){var Be,Ue,We;function scale(We){return Ue[((Be.get(We)||("range"===ze.t?Be.set(We,Ee.push(We)):NaN))-1)%Ue.length]}function steps(ze,Be){return $e.range(Ee.length).map((function(Ee){return ze+Be*Ee}))}return scale.domain=function(Ue){if(!arguments.length)return Ee;Ee=[],Be=new d3_Map;for(var We,$e=-1,Qe=Ue.length;++$e<Qe;)Be.has(We=Ue[$e])||Be.set(We,Ee.push(We));return scale[ze.t].apply(scale,ze.a)},scale.range=function(Ee){return arguments.length?(Ue=Ee,We=0,ze={t:"range",a:arguments},scale):Ue},scale.rangePoints=function(Be,$e){arguments.length<2&&($e=0);var Qe=Be[0],et=Be[1],tt=Ee.length<2?(Qe=(Qe+et)/2,0):(et-Qe)/(Ee.length-1+$e);return Ue=steps(Qe+tt*$e/2,tt),We=0,ze={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(Be,$e){arguments.length<2&&($e=0);var Qe=Be[0],et=Be[1],tt=Ee.length<2?(Qe=et=Math.round((Qe+et)/2),0):(et-Qe)/(Ee.length-1+$e)|0;return Ue=steps(Qe+Math.round(tt*$e/2+(et-Qe-(Ee.length-1+$e)*tt)/2),tt),We=0,ze={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(Be,$e,Qe){arguments.length<2&&($e=0),arguments.length<3&&(Qe=$e);var et=Be[1]<Be[0],tt=Be[et-0],rt=Be[1-et],nt=(rt-tt)/(Ee.length-$e+2*Qe);return Ue=steps(tt+nt*Qe,nt),et&&Ue.reverse(),We=nt*(1-$e),ze={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(Be,$e,Qe){arguments.length<2&&($e=0),arguments.length<3&&(Qe=$e);var et=Be[1]<Be[0],tt=Be[et-0],rt=Be[1-et],nt=Math.floor((rt-tt)/(Ee.length-$e+2*Qe));return Ue=steps(tt+Math.round((rt-tt-(Ee.length-$e)*nt)/2),nt),et&&Ue.reverse(),We=Math.round(nt*(1-$e)),ze={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return We},scale.rangeExtent=function(){return d3_scaleExtent(ze.a[0])},scale.copy=function(){return d3_scale_ordinal(Ee,ze)},scale.domain(Ee)}([],{t:"range",a:[[]]})},$e.scale.category10=function(){return $e.scale.ordinal().range(Tl)},$e.scale.category20=function(){return $e.scale.ordinal().range(kl)},$e.scale.category20b=function(){return $e.scale.ordinal().range(Al)},$e.scale.category20c=function(){return $e.scale.ordinal().range(Ml)};var Tl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Ml=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);function d3_zero(){return 0}$e.scale.quantile=function(){return function d3_scale_quantile(Ee,ze){var Be;function rescale(){var Ue=0,We=ze.length;for(Be=[];++Ue<We;)Be[Ue-1]=$e.quantile(Ee,Ue/We);return scale}function scale(Ee){if(!isNaN(Ee=+Ee))return ze[$e.bisect(Be,Ee)]}return scale.domain=function(ze){return arguments.length?(Ee=ze.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):Ee},scale.range=function(Ee){return arguments.length?(ze=Ee,rescale()):ze},scale.quantiles=function(){return Be},scale.invertExtent=function(Ue){return(Ue=ze.indexOf(Ue))<0?[NaN,NaN]:[Ue>0?Be[Ue-1]:Ee[0],Ue<Be.length?Be[Ue]:Ee[Ee.length-1]]},scale.copy=function(){return d3_scale_quantile(Ee,ze)},rescale()}([],[])},$e.scale.quantize=function(){return function d3_scale_quantize(Ee,ze,Be){var Ue,We;function scale(ze){return Be[Math.max(0,Math.min(We,Math.floor(Ue*(ze-Ee))))]}function rescale(){return Ue=Be.length/(ze-Ee),We=Be.length-1,scale}return scale.domain=function(Be){return arguments.length?(Ee=+Be[0],ze=+Be[Be.length-1],rescale()):[Ee,ze]},scale.range=function(Ee){return arguments.length?(Be=Ee,rescale()):Be},scale.invertExtent=function(ze){return[ze=(ze=Be.indexOf(ze))<0?NaN:ze/Ue+Ee,ze+1/Ue]},scale.copy=function(){return d3_scale_quantize(Ee,ze,Be)},rescale()}(0,1,[0,1])},$e.scale.threshold=function(){return function d3_scale_threshold(Ee,ze){function scale(Be){if(Be<=Be)return ze[$e.bisect(Ee,Be)]}return scale.domain=function(ze){return arguments.length?(Ee=ze,scale):Ee},scale.range=function(Ee){return arguments.length?(ze=Ee,scale):ze},scale.invertExtent=function(Be){return Be=ze.indexOf(Be),[Ee[Be-1],Ee[Be]]},scale.copy=function(){return d3_scale_threshold(Ee,ze)},scale}([.5],[0,1])},$e.scale.identity=function(){return function d3_scale_identity(Ee){function identity(Ee){return+Ee}return identity.invert=identity,identity.domain=identity.range=function(ze){return arguments.length?(Ee=ze.map(identity),identity):Ee},identity.ticks=function(ze){return d3_scale_linearTicks(Ee,ze)},identity.tickFormat=function(ze,Be){return d3_scale_linearTickFormat(Ee,ze,Be)},identity.copy=function(){return d3_scale_identity(Ee)},identity}([0,1])},$e.svg={},$e.svg.arc=function(){var Ee=d3_svg_arcInnerRadius,ze=d3_svg_arcOuterRadius,Be=d3_zero,Ue=Sl,We=d3_svg_arcStartAngle,$e=d3_svg_arcEndAngle,Qe=d3_svg_arcPadAngle;function arc(){var et=Math.max(0,+Ee.apply(this,arguments)),tt=Math.max(0,+ze.apply(this,arguments)),rt=We.apply(this,arguments)-dn,nt=$e.apply(this,arguments)-dn,at=Math.abs(nt-rt),it=rt>nt?0:1;if(tt<et&&(ct=tt,tt=et,et=ct),at>=hn)return circleSegment(tt,it)+(et?circleSegment(et,1-it):"")+"Z";var ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar,Lr,Qr,on=0,ln=0,un=[];if((kt=(+Qe.apply(this,arguments)||0)/2)&&(xt=Ue===Sl?Math.sqrt(et*et+tt*tt):+Ue.apply(this,arguments),it||(ln*=-1),tt&&(ln=d3_asin(xt/tt*Math.sin(kt))),et&&(on=d3_asin(xt/et*Math.sin(kt)))),tt){Lt=tt*Math.cos(rt+ln),Ut=tt*Math.sin(rt+ln),er=tt*Math.cos(nt-ln),tr=tt*Math.sin(nt-ln);var vn=Math.abs(nt-rt-2*ln)<=cn?0:1;if(ln&&d3_svg_arcSweep(Lt,Ut,er,tr)===it^vn){var yn=(rt+nt)/2;Lt=tt*Math.cos(yn),Ut=tt*Math.sin(yn),er=tr=null}}else Lt=Ut=0;if(et){rr=et*Math.cos(nt-on),ar=et*Math.sin(nt-on),Lr=et*Math.cos(rt+on),Qr=et*Math.sin(rt+on);var _n=Math.abs(rt-nt+2*on)<=cn?0:1;if(on&&d3_svg_arcSweep(rr,ar,Lr,Qr)===1-it^_n){var Mn=(rt+nt)/2;rr=et*Math.cos(Mn),ar=et*Math.sin(Mn),Lr=Qr=null}}else rr=ar=0;if(at>sn&&(ct=Math.min(Math.abs(tt-et)/2,+Be.apply(this,arguments)))>.001){ft=et<tt^it?0:1;var Cn=ct,En=ct;if(at<cn){var Pn=null==Lr?[rr,ar]:null==er?[Lt,Ut]:d3_geom_polygonIntersect([Lt,Ut],[Lr,Qr],[er,tr],[rr,ar]),In=Lt-Pn[0],Bn=Ut-Pn[1],Hn=er-Pn[0],Kn=tr-Pn[1],Jn=1/Math.sin(Math.acos((In*Hn+Bn*Kn)/(Math.sqrt(In*In+Bn*Bn)*Math.sqrt(Hn*Hn+Kn*Kn)))/2),Ma=Math.sqrt(Pn[0]*Pn[0]+Pn[1]*Pn[1]);En=Math.min(ct,(et-Ma)/(Jn-1)),Cn=Math.min(ct,(tt-Ma)/(Jn+1))}if(null!=er){var Sa=d3_svg_arcCornerTangents(null==Lr?[rr,ar]:[Lr,Qr],[Lt,Ut],tt,Cn,it),La=d3_svg_arcCornerTangents([er,tr],[rr,ar],tt,Cn,it);ct===Cn?un.push("M",Sa[0],"A",Cn,",",Cn," 0 0,",ft," ",Sa[1],"A",tt,",",tt," 0 ",1-it^d3_svg_arcSweep(Sa[1][0],Sa[1][1],La[1][0],La[1][1]),",",it," ",La[1],"A",Cn,",",Cn," 0 0,",ft," ",La[0]):un.push("M",Sa[0],"A",Cn,",",Cn," 0 1,",ft," ",La[0])}else un.push("M",Lt,",",Ut);if(null!=Lr){var Ia=d3_svg_arcCornerTangents([Lt,Ut],[Lr,Qr],et,-En,it),Ra=d3_svg_arcCornerTangents([rr,ar],null==er?[Lt,Ut]:[er,tr],et,-En,it);ct===En?un.push("L",Ra[0],"A",En,",",En," 0 0,",ft," ",Ra[1],"A",et,",",et," 0 ",it^d3_svg_arcSweep(Ra[1][0],Ra[1][1],Ia[1][0],Ia[1][1]),",",1-it," ",Ia[1],"A",En,",",En," 0 0,",ft," ",Ia[0]):un.push("L",Ra[0],"A",En,",",En," 0 0,",ft," ",Ia[0])}else un.push("L",rr,",",ar)}else un.push("M",Lt,",",Ut),null!=er&&un.push("A",tt,",",tt," 0 ",vn,",",it," ",er,",",tr),un.push("L",rr,",",ar),null!=Lr&&un.push("A",et,",",et," 0 ",_n,",",1-it," ",Lr,",",Qr);return un.push("Z"),un.join("")}function circleSegment(Ee,ze){return"M0,"+Ee+"A"+Ee+","+Ee+" 0 1,"+ze+" 0,"+-Ee+"A"+Ee+","+Ee+" 0 1,"+ze+" 0,"+Ee}return arc.innerRadius=function(ze){return arguments.length?(Ee=d3_functor(ze),arc):Ee},arc.outerRadius=function(Ee){return arguments.length?(ze=d3_functor(Ee),arc):ze},arc.cornerRadius=function(Ee){return arguments.length?(Be=d3_functor(Ee),arc):Be},arc.padRadius=function(Ee){return arguments.length?(Ue=Ee==Sl?Sl:d3_functor(Ee),arc):Ue},arc.startAngle=function(Ee){return arguments.length?(We=d3_functor(Ee),arc):We},arc.endAngle=function(Ee){return arguments.length?($e=d3_functor(Ee),arc):$e},arc.padAngle=function(Ee){return arguments.length?(Qe=d3_functor(Ee),arc):Qe},arc.centroid=function(){var Be=(+Ee.apply(this,arguments)+ +ze.apply(this,arguments))/2,Ue=(+We.apply(this,arguments)+ +$e.apply(this,arguments))/2-dn;return[Math.cos(Ue)*Be,Math.sin(Ue)*Be]},arc};var Sl="auto";function d3_svg_arcInnerRadius(Ee){return Ee.innerRadius}function d3_svg_arcOuterRadius(Ee){return Ee.outerRadius}function d3_svg_arcStartAngle(Ee){return Ee.startAngle}function d3_svg_arcEndAngle(Ee){return Ee.endAngle}function d3_svg_arcPadAngle(Ee){return Ee&&Ee.padAngle}function d3_svg_arcSweep(Ee,ze,Be,Ue){return(Ee-Be)*ze-(ze-Ue)*Ee>0?0:1}function d3_svg_arcCornerTangents(Ee,ze,Be,Ue,We){var $e=Ee[0]-ze[0],Qe=Ee[1]-ze[1],et=(We?Ue:-Ue)/Math.sqrt($e*$e+Qe*Qe),tt=et*Qe,rt=-et*$e,nt=Ee[0]+tt,at=Ee[1]+rt,it=ze[0]+tt,ct=ze[1]+rt,ft=(nt+it)/2,xt=(at+ct)/2,kt=it-nt,Lt=ct-at,Ut=kt*kt+Lt*Lt,er=Be-Ue,tr=nt*ct-it*at,rr=(Lt<0?-1:1)*Math.sqrt(Math.max(0,er*er*Ut-tr*tr)),ar=(tr*Lt-kt*rr)/Ut,Lr=(-tr*kt-Lt*rr)/Ut,Qr=(tr*Lt+kt*rr)/Ut,on=(-tr*kt+Lt*rr)/Ut,sn=ar-ft,ln=Lr-xt,cn=Qr-ft,un=on-xt;return sn*sn+ln*ln>cn*cn+un*un&&(ar=Qr,Lr=on),[[ar-tt,Lr-rt],[ar*Be/er,Lr*Be/er]]}function d3_svg_line(Ee){var ze=d3_geom_pointX,Be=d3_geom_pointY,Ue=d3_true,We=d3_svg_lineLinear,$e=We.key,Qe=.7;function line($e){var et,tt=[],rt=[],nt=-1,at=$e.length,it=d3_functor(ze),ct=d3_functor(Be);function segment(){tt.push("M",We(Ee(rt),Qe))}for(;++nt<at;)Ue.call(this,et=$e[nt],nt)?rt.push([+it.call(this,et,nt),+ct.call(this,et,nt)]):rt.length&&(segment(),rt=[]);return rt.length&&segment(),tt.length?tt.join(""):null}return line.x=function(Ee){return arguments.length?(ze=Ee,line):ze},line.y=function(Ee){return arguments.length?(Be=Ee,line):Be},line.defined=function(Ee){return arguments.length?(Ue=Ee,line):Ue},line.interpolate=function(Ee){return arguments.length?($e="function"==typeof Ee?We=Ee:(We=Cl.get(Ee)||d3_svg_lineLinear).key,line):$e},line.tension=function(Ee){return arguments.length?(Qe=Ee,line):Qe},line}$e.svg.line=function(){return d3_svg_line(d3_identity)};var Cl=$e.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:function d3_svg_lineStep(Ee){var ze=0,Be=Ee.length,Ue=Ee[0],We=[Ue[0],",",Ue[1]];for(;++ze<Be;)We.push("H",(Ue[0]+(Ue=Ee[ze])[0])/2,"V",Ue[1]);Be>1&&We.push("H",Ue[0]);return We.join("")},"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":function d3_svg_lineBasisOpen(Ee){if(Ee.length<4)return d3_svg_lineLinear(Ee);var ze,Be=[],Ue=-1,We=Ee.length,$e=[0],Qe=[0];for(;++Ue<3;)ze=Ee[Ue],$e.push(ze[0]),Qe.push(ze[1]);Be.push(d3_svg_lineDot4(Ll,$e)+","+d3_svg_lineDot4(Ll,Qe)),--Ue;for(;++Ue<We;)ze=Ee[Ue],$e.shift(),$e.push(ze[0]),Qe.shift(),Qe.push(ze[1]),d3_svg_lineBasisBezier(Be,$e,Qe);return Be.join("")},"basis-closed":function d3_svg_lineBasisClosed(Ee){var ze,Be,Ue=-1,We=Ee.length,$e=We+4,Qe=[],et=[];for(;++Ue<4;)Be=Ee[Ue%We],Qe.push(Be[0]),et.push(Be[1]);ze=[d3_svg_lineDot4(Ll,Qe),",",d3_svg_lineDot4(Ll,et)],--Ue;for(;++Ue<$e;)Be=Ee[Ue%We],Qe.shift(),Qe.push(Be[0]),et.shift(),et.push(Be[1]),d3_svg_lineBasisBezier(ze,Qe,et);return ze.join("")},bundle:function d3_svg_lineBundle(Ee,ze){var Be=Ee.length-1;if(Be)for(var Ue,We,$e=Ee[0][0],Qe=Ee[0][1],et=Ee[Be][0]-$e,tt=Ee[Be][1]-Qe,rt=-1;++rt<=Be;)Ue=Ee[rt],We=rt/Be,Ue[0]=ze*Ue[0]+(1-ze)*($e+We*et),Ue[1]=ze*Ue[1]+(1-ze)*(Qe+We*tt);return d3_svg_lineBasis(Ee)},cardinal:function d3_svg_lineCardinal(Ee,ze){return Ee.length<3?d3_svg_lineLinear(Ee):Ee[0]+d3_svg_lineHermite(Ee,d3_svg_lineCardinalTangents(Ee,ze))},"cardinal-open":function d3_svg_lineCardinalOpen(Ee,ze){return Ee.length<4?d3_svg_lineLinear(Ee):Ee[1]+d3_svg_lineHermite(Ee.slice(1,-1),d3_svg_lineCardinalTangents(Ee,ze))},"cardinal-closed":function d3_svg_lineCardinalClosed(Ee,ze){return Ee.length<3?d3_svg_lineLinearClosed(Ee):Ee[0]+d3_svg_lineHermite((Ee.push(Ee[0]),Ee),d3_svg_lineCardinalTangents([Ee[Ee.length-2]].concat(Ee,[Ee[1]]),ze))},monotone:function d3_svg_lineMonotone(Ee){return Ee.length<3?d3_svg_lineLinear(Ee):Ee[0]+d3_svg_lineHermite(Ee,function d3_svg_lineMonotoneTangents(Ee){var ze,Be,Ue,We,$e=[],Qe=function d3_svg_lineFiniteDifferences(Ee){var ze=0,Be=Ee.length-1,Ue=[],We=Ee[0],$e=Ee[1],Qe=Ue[0]=d3_svg_lineSlope(We,$e);for(;++ze<Be;)Ue[ze]=(Qe+(Qe=d3_svg_lineSlope(We=$e,$e=Ee[ze+1])))/2;return Ue[ze]=Qe,Ue}(Ee),et=-1,tt=Ee.length-1;for(;++et<tt;)ze=d3_svg_lineSlope(Ee[et],Ee[et+1]),ft(ze)<sn?Qe[et]=Qe[et+1]=0:(Be=Qe[et]/ze,Ue=Qe[et+1]/ze,(We=Be*Be+Ue*Ue)>9&&(We=3*ze/Math.sqrt(We),Qe[et]=We*Be,Qe[et+1]=We*Ue));et=-1;for(;++et<=tt;)We=(Ee[Math.min(tt,et+1)][0]-Ee[Math.max(0,et-1)][0])/(6*(1+Qe[et]*Qe[et])),$e.push([We||0,Qe[et]*We||0]);return $e}(Ee))}});function d3_svg_lineLinear(Ee){return Ee.length>1?Ee.join("L"):Ee+"Z"}function d3_svg_lineLinearClosed(Ee){return Ee.join("L")+"Z"}function d3_svg_lineStepBefore(Ee){for(var ze=0,Be=Ee.length,Ue=Ee[0],We=[Ue[0],",",Ue[1]];++ze<Be;)We.push("V",(Ue=Ee[ze])[1],"H",Ue[0]);return We.join("")}function d3_svg_lineStepAfter(Ee){for(var ze=0,Be=Ee.length,Ue=Ee[0],We=[Ue[0],",",Ue[1]];++ze<Be;)We.push("H",(Ue=Ee[ze])[0],"V",Ue[1]);return We.join("")}function d3_svg_lineHermite(Ee,ze){if(ze.length<1||Ee.length!=ze.length&&Ee.length!=ze.length+2)return d3_svg_lineLinear(Ee);var Be=Ee.length!=ze.length,Ue="",We=Ee[0],$e=Ee[1],Qe=ze[0],et=Qe,tt=1;if(Be&&(Ue+="Q"+($e[0]-2*Qe[0]/3)+","+($e[1]-2*Qe[1]/3)+","+$e[0]+","+$e[1],We=Ee[1],tt=2),ze.length>1){et=ze[1],$e=Ee[tt],tt++,Ue+="C"+(We[0]+Qe[0])+","+(We[1]+Qe[1])+","+($e[0]-et[0])+","+($e[1]-et[1])+","+$e[0]+","+$e[1];for(var rt=2;rt<ze.length;rt++,tt++)$e=Ee[tt],et=ze[rt],Ue+="S"+($e[0]-et[0])+","+($e[1]-et[1])+","+$e[0]+","+$e[1]}if(Be){var nt=Ee[tt];Ue+="Q"+($e[0]+2*et[0]/3)+","+($e[1]+2*et[1]/3)+","+nt[0]+","+nt[1]}return Ue}function d3_svg_lineCardinalTangents(Ee,ze){for(var Be,Ue=[],We=(1-ze)/2,$e=Ee[0],Qe=Ee[1],et=1,tt=Ee.length;++et<tt;)Be=$e,$e=Qe,Qe=Ee[et],Ue.push([We*(Qe[0]-Be[0]),We*(Qe[1]-Be[1])]);return Ue}function d3_svg_lineBasis(Ee){if(Ee.length<3)return d3_svg_lineLinear(Ee);var ze=1,Be=Ee.length,Ue=Ee[0],We=Ue[0],$e=Ue[1],Qe=[We,We,We,(Ue=Ee[1])[0]],et=[$e,$e,$e,Ue[1]],tt=[We,",",$e,"L",d3_svg_lineDot4(Ll,Qe),",",d3_svg_lineDot4(Ll,et)];for(Ee.push(Ee[Be-1]);++ze<=Be;)Ue=Ee[ze],Qe.shift(),Qe.push(Ue[0]),et.shift(),et.push(Ue[1]),d3_svg_lineBasisBezier(tt,Qe,et);return Ee.pop(),tt.push("L",Ue),tt.join("")}function d3_svg_lineDot4(Ee,ze){return Ee[0]*ze[0]+Ee[1]*ze[1]+Ee[2]*ze[2]+Ee[3]*ze[3]}Cl.forEach((function(Ee,ze){ze.key=Ee,ze.closed=/-closed$/.test(Ee)}));var El=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(Ee,ze,Be){Ee.push("C",d3_svg_lineDot4(El,ze),",",d3_svg_lineDot4(El,Be),",",d3_svg_lineDot4(Pl,ze),",",d3_svg_lineDot4(Pl,Be),",",d3_svg_lineDot4(Ll,ze),",",d3_svg_lineDot4(Ll,Be))}function d3_svg_lineSlope(Ee,ze){return(ze[1]-Ee[1])/(ze[0]-Ee[0])}function d3_svg_lineRadial(Ee){for(var ze,Be,Ue,We=-1,$e=Ee.length;++We<$e;)Be=(ze=Ee[We])[0],Ue=ze[1]-dn,ze[0]=Be*Math.cos(Ue),ze[1]=Be*Math.sin(Ue);return Ee}function d3_svg_area(Ee){var ze=d3_geom_pointX,Be=d3_geom_pointX,Ue=0,We=d3_geom_pointY,$e=d3_true,Qe=d3_svg_lineLinear,et=Qe.key,tt=Qe,rt="L",nt=.7;function area(et){var at,it,ct,ft=[],xt=[],kt=[],Lt=-1,Ut=et.length,er=d3_functor(ze),tr=d3_functor(Ue),rr=ze===Be?function(){return it}:d3_functor(Be),ar=Ue===We?function(){return ct}:d3_functor(We);function segment(){ft.push("M",Qe(Ee(kt),nt),rt,tt(Ee(xt.reverse()),nt),"Z")}for(;++Lt<Ut;)$e.call(this,at=et[Lt],Lt)?(xt.push([it=+er.call(this,at,Lt),ct=+tr.call(this,at,Lt)]),kt.push([+rr.call(this,at,Lt),+ar.call(this,at,Lt)])):xt.length&&(segment(),xt=[],kt=[]);return xt.length&&segment(),ft.length?ft.join(""):null}return area.x=function(Ee){return arguments.length?(ze=Be=Ee,area):Be},area.x0=function(Ee){return arguments.length?(ze=Ee,area):ze},area.x1=function(Ee){return arguments.length?(Be=Ee,area):Be},area.y=function(Ee){return arguments.length?(Ue=We=Ee,area):We},area.y0=function(Ee){return arguments.length?(Ue=Ee,area):Ue},area.y1=function(Ee){return arguments.length?(We=Ee,area):We},area.defined=function(Ee){return arguments.length?($e=Ee,area):$e},area.interpolate=function(Ee){return arguments.length?(et="function"==typeof Ee?Qe=Ee:(Qe=Cl.get(Ee)||d3_svg_lineLinear).key,tt=Qe.reverse||Qe,rt=Qe.closed?"M":"L",area):et},area.tension=function(Ee){return arguments.length?(nt=Ee,area):nt},area}function d3_svg_chordRadius(Ee){return Ee.radius}function d3_svg_diagonalProjection(Ee){return[Ee.x,Ee.y]}function d3_svg_diagonalRadialProjection(Ee){return function(){var ze=Ee.apply(this,arguments),Be=ze[0],Ue=ze[1]-dn;return[Be*Math.cos(Ue),Be*Math.sin(Ue)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(Ee){var ze=Math.sqrt(Ee/cn);return"M0,"+ze+"A"+ze+","+ze+" 0 1,1 0,"+-ze+"A"+ze+","+ze+" 0 1,1 0,"+ze+"Z"}$e.svg.line.radial=function(){var Ee=d3_svg_line(d3_svg_lineRadial);return Ee.radius=Ee.x,delete Ee.x,Ee.angle=Ee.y,delete Ee.y,Ee},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,$e.svg.area=function(){return d3_svg_area(d3_identity)},$e.svg.area.radial=function(){var Ee=d3_svg_area(d3_svg_lineRadial);return Ee.radius=Ee.x,delete Ee.x,Ee.innerRadius=Ee.x0,delete Ee.x0,Ee.outerRadius=Ee.x1,delete Ee.x1,Ee.angle=Ee.y,delete Ee.y,Ee.startAngle=Ee.y0,delete Ee.y0,Ee.endAngle=Ee.y1,delete Ee.y1,Ee},$e.svg.chord=function(){var Ee=d3_source,ze=d3_target,Be=d3_svg_chordRadius,Ue=d3_svg_arcStartAngle,We=d3_svg_arcEndAngle;function chord(Be,Ue){var We=subgroup(this,Ee,Be,Ue),$e=subgroup(this,ze,Be,Ue);return"M"+We.p0+arc(We.r,We.p1,We.a1-We.a0)+(function equals(Ee,ze){return Ee.a0==ze.a0&&Ee.a1==ze.a1}(We,$e)?curve(We.r,We.p1,We.r,We.p0):curve(We.r,We.p1,$e.r,$e.p0)+arc($e.r,$e.p1,$e.a1-$e.a0)+curve($e.r,$e.p1,We.r,We.p0))+"Z"}function subgroup(Ee,ze,$e,Qe){var et=ze.call(Ee,$e,Qe),tt=Be.call(Ee,et,Qe),rt=Ue.call(Ee,et,Qe)-dn,nt=We.call(Ee,et,Qe)-dn;return{r:tt,a0:rt,a1:nt,p0:[tt*Math.cos(rt),tt*Math.sin(rt)],p1:[tt*Math.cos(nt),tt*Math.sin(nt)]}}function arc(Ee,ze,Be){return"A"+Ee+","+Ee+" 0 "+ +(Be>cn)+",1 "+ze}function curve(Ee,ze,Be,Ue){return"Q 0,0 "+Ue}return chord.radius=function(Ee){return arguments.length?(Be=d3_functor(Ee),chord):Be},chord.source=function(ze){return arguments.length?(Ee=d3_functor(ze),chord):Ee},chord.target=function(Ee){return arguments.length?(ze=d3_functor(Ee),chord):ze},chord.startAngle=function(Ee){return arguments.length?(Ue=d3_functor(Ee),chord):Ue},chord.endAngle=function(Ee){return arguments.length?(We=d3_functor(Ee),chord):We},chord},$e.svg.diagonal=function(){var Ee=d3_source,ze=d3_target,Be=d3_svg_diagonalProjection;function diagonal(Ue,We){var $e=Ee.call(this,Ue,We),Qe=ze.call(this,Ue,We),et=($e.y+Qe.y)/2,tt=[$e,{x:$e.x,y:et},{x:Qe.x,y:et},Qe];return"M"+(tt=tt.map(Be))[0]+"C"+tt[1]+" "+tt[2]+" "+tt[3]}return diagonal.source=function(ze){return arguments.length?(Ee=d3_functor(ze),diagonal):Ee},diagonal.target=function(Ee){return arguments.length?(ze=d3_functor(Ee),diagonal):ze},diagonal.projection=function(Ee){return arguments.length?(Be=Ee,diagonal):Be},diagonal},$e.svg.diagonal.radial=function(){var Ee=$e.svg.diagonal(),ze=d3_svg_diagonalProjection,Be=Ee.projection;return Ee.projection=function(Ee){return arguments.length?Be(d3_svg_diagonalRadialProjection(ze=Ee)):ze},Ee},$e.svg.symbol=function(){var Ee=d3_svg_symbolType,ze=d3_svg_symbolSize;function symbol(Be,Ue){return(Ol.get(Ee.call(this,Be,Ue))||d3_svg_symbolCircle)(ze.call(this,Be,Ue))}return symbol.type=function(ze){return arguments.length?(Ee=d3_functor(ze),symbol):Ee},symbol.size=function(Ee){return arguments.length?(ze=d3_functor(Ee),symbol):ze},symbol};var Ol=$e.map({circle:d3_svg_symbolCircle,cross:function(Ee){var ze=Math.sqrt(Ee/5)/2;return"M"+-3*ze+","+-ze+"H"+-ze+"V"+-3*ze+"H"+ze+"V"+-ze+"H"+3*ze+"V"+ze+"H"+ze+"V"+3*ze+"H"+-ze+"V"+ze+"H"+-3*ze+"Z"},diamond:function(Ee){var ze=Math.sqrt(Ee/(2*Il)),Be=ze*Il;return"M0,"+-ze+"L"+Be+",0 0,"+ze+" "+-Be+",0Z"},square:function(Ee){var ze=Math.sqrt(Ee)/2;return"M"+-ze+","+-ze+"L"+ze+","+-ze+" "+ze+","+ze+" "+-ze+","+ze+"Z"},"triangle-down":function(Ee){var ze=Math.sqrt(Ee/Dl),Be=ze*Dl/2;return"M0,"+Be+"L"+ze+","+-Be+" "+-ze+","+-Be+"Z"},"triangle-up":function(Ee){var ze=Math.sqrt(Ee/Dl),Be=ze*Dl/2;return"M0,"+-Be+"L"+ze+","+Be+" "+-ze+","+Be+"Z"}});$e.svg.symbolTypes=Ol.keys();var Dl=Math.sqrt(3),Il=Math.tan(30*vn);Ut.transition=function(Ee){for(var ze,Be,Ue=Rl||++Nl,We=d3_transitionNamespace(Ee),$e=[],Qe=Bl||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},et=-1,tt=this.length;++et<tt;){$e.push(ze=[]);for(var rt=this[et],nt=-1,at=rt.length;++nt<at;)(Be=rt[nt])&&d3_transitionNode(Be,nt,We,Ue,Qe),ze.push(Be)}return d3_transition($e,We,Ue)},Ut.interrupt=function(Ee){return this.each(null==Ee?zl:d3_selection_interruptNS(d3_transitionNamespace(Ee)))};var zl=d3_selection_interruptNS(d3_transitionNamespace());function d3_selection_interruptNS(Ee){return function(){var ze,Be,Ue;(ze=this[Ee])&&(Ue=ze[Be=ze.active])&&(Ue.timer.c=null,Ue.timer.t=NaN,--ze.count?delete ze[Be]:delete this[Ee],ze.active+=.5,Ue.event&&Ue.event.interrupt.call(this,this.__data__,Ue.index))}}function d3_transition(Ee,ze,Be){return Lt(Ee,Fl),Ee.namespace=ze,Ee.id=Be,Ee}var Rl,Bl,Fl=[],Nl=0;function d3_transition_tween(Ee,ze,Be,Ue){var We=Ee.id,$e=Ee.namespace;return d3_selection_each(Ee,"function"==typeof Be?function(Ee,Qe,et){Ee[$e][We].tween.set(ze,Ue(Be.call(Ee,Ee.__data__,Qe,et)))}:(Be=Ue(Be),function(Ee){Ee[$e][We].tween.set(ze,Be)}))}function d3_transition_text(Ee){return null==Ee&&(Ee=""),function(){this.textContent=Ee}}function d3_transitionNamespace(Ee){return null==Ee?"__transition__":"__transition_"+Ee+"__"}function d3_transitionNode(Ee,ze,Be,Ue,We){var $e,Qe,et,tt,rt,nt=Ee[Be]||(Ee[Be]={active:0,count:0}),at=nt[Ue];function start(Be){var We=nt.active,it=nt[We];for(var ct in it&&(it.timer.c=null,it.timer.t=NaN,--nt.count,delete nt[We],it.event&&it.event.interrupt.call(Ee,Ee.__data__,it.index)),nt)if(+ct<Ue){var ft=nt[ct];ft.timer.c=null,ft.timer.t=NaN,--nt.count,delete nt[ct]}Qe.c=tick,d3_timer((function(){return Qe.c&&tick(Be||1)&&(Qe.c=null,Qe.t=NaN),1}),0,$e),nt.active=Ue,at.event&&at.event.start.call(Ee,Ee.__data__,ze),rt=[],at.tween.forEach((function(Be,Ue){(Ue=Ue.call(Ee,Ee.__data__,ze))&&rt.push(Ue)})),tt=at.ease,et=at.duration}function tick(We){for(var $e=We/et,Qe=tt($e),it=rt.length;it>0;)rt[--it].call(Ee,Qe);if($e>=1)return at.event&&at.event.end.call(Ee,Ee.__data__,ze),--nt.count?delete nt[Ue]:delete Ee[Be],1}at||($e=We.time,Qe=d3_timer((function schedule(Ee){var ze=at.delay;if(Qe.t=ze+$e,ze<=Ee)return start(Ee-ze);Qe.c=start}),0,$e),at=nt[Ue]={tween:new d3_Map,time:$e,timer:Qe,delay:We.delay,duration:We.duration,ease:We.ease,index:ze},We=null,++nt.count)}Fl.call=Ut.call,Fl.empty=Ut.empty,Fl.node=Ut.node,Fl.size=Ut.size,$e.transition=function(Ee,ze){return Ee&&Ee.transition?Rl?Ee.transition(ze):Ee:$e.selection().transition(Ee)},$e.transition.prototype=Fl,Fl.select=function(Ee){var ze,Be,Ue,We=this.id,$e=this.namespace,Qe=[];Ee=d3_selection_selector(Ee);for(var et=-1,tt=this.length;++et<tt;){Qe.push(ze=[]);for(var rt=this[et],nt=-1,at=rt.length;++nt<at;)(Ue=rt[nt])&&(Be=Ee.call(Ue,Ue.__data__,nt,et))?("__data__"in Ue&&(Be.__data__=Ue.__data__),d3_transitionNode(Be,nt,$e,We,Ue[$e][We]),ze.push(Be)):ze.push(null)}return d3_transition(Qe,$e,We)},Fl.selectAll=function(Ee){var ze,Be,Ue,We,$e,Qe=this.id,et=this.namespace,tt=[];Ee=d3_selection_selectorAll(Ee);for(var rt=-1,nt=this.length;++rt<nt;)for(var at=this[rt],it=-1,ct=at.length;++it<ct;)if(Ue=at[it]){$e=Ue[et][Qe],Be=Ee.call(Ue,Ue.__data__,it,rt),tt.push(ze=[]);for(var ft=-1,xt=Be.length;++ft<xt;)(We=Be[ft])&&d3_transitionNode(We,ft,et,Qe,$e),ze.push(We)}return d3_transition(tt,et,Qe)},Fl.filter=function(Ee){var ze,Be,Ue=[];"function"!=typeof Ee&&(Ee=d3_selection_filter(Ee));for(var We=0,$e=this.length;We<$e;We++){Ue.push(ze=[]);for(var Qe,et=0,tt=(Qe=this[We]).length;et<tt;et++)(Be=Qe[et])&&Ee.call(Be,Be.__data__,et,We)&&ze.push(Be)}return d3_transition(Ue,this.namespace,this.id)},Fl.tween=function(Ee,ze){var Be=this.id,Ue=this.namespace;return arguments.length<2?this.node()[Ue][Be].tween.get(Ee):d3_selection_each(this,null==ze?function(ze){ze[Ue][Be].tween.remove(Ee)}:function(We){We[Ue][Be].tween.set(Ee,ze)})},Fl.attr=function(Ee,ze){if(arguments.length<2){for(ze in Ee)this.attr(ze,Ee[ze]);return this}var Be="transform"==Ee?d3_interpolateTransform:d3_interpolate,Ue=$e.ns.qualify(Ee);function attrNull(){this.removeAttribute(Ue)}function attrNullNS(){this.removeAttributeNS(Ue.space,Ue.local)}function attrTween(Ee){return null==Ee?attrNull:(Ee+="",function(){var ze,We=this.getAttribute(Ue);return We!==Ee&&(ze=Be(We,Ee),function(Ee){this.setAttribute(Ue,ze(Ee))})})}function attrTweenNS(Ee){return null==Ee?attrNullNS:(Ee+="",function(){var ze,We=this.getAttributeNS(Ue.space,Ue.local);return We!==Ee&&(ze=Be(We,Ee),function(Ee){this.setAttributeNS(Ue.space,Ue.local,ze(Ee))})})}return d3_transition_tween(this,"attr."+Ee,ze,Ue.local?attrTweenNS:attrTween)},Fl.attrTween=function(Ee,ze){var Be=$e.ns.qualify(Ee);return this.tween("attr."+Ee,Be.local?function attrTweenNS(Ee,Ue){var We=ze.call(this,Ee,Ue,this.getAttributeNS(Be.space,Be.local));return We&&function(Ee){this.setAttributeNS(Be.space,Be.local,We(Ee))}}:function attrTween(Ee,Ue){var We=ze.call(this,Ee,Ue,this.getAttribute(Be));return We&&function(Ee){this.setAttribute(Be,We(Ee))}})},Fl.style=function(Ee,ze,Be){var Ue=arguments.length;if(Ue<3){if("string"!=typeof Ee){for(Be in Ue<2&&(ze=""),Ee)this.style(Be,Ee[Be],ze);return this}Be=""}function styleNull(){this.style.removeProperty(Ee)}function styleString(ze){return null==ze?styleNull:(ze+="",function(){var Ue,We=d3_window(this).getComputedStyle(this,null).getPropertyValue(Ee);return We!==ze&&(Ue=d3_interpolate(We,ze),function(ze){this.style.setProperty(Ee,Ue(ze),Be)})})}return d3_transition_tween(this,"style."+Ee,ze,styleString)},Fl.styleTween=function(Ee,ze,Be){function styleTween(Ue,We){var $e=ze.call(this,Ue,We,d3_window(this).getComputedStyle(this,null).getPropertyValue(Ee));return $e&&function(ze){this.style.setProperty(Ee,$e(ze),Be)}}return arguments.length<3&&(Be=""),this.tween("style."+Ee,styleTween)},Fl.text=function(Ee){return d3_transition_tween(this,"text",Ee,d3_transition_text)},Fl.remove=function(){var Ee=this.namespace;return this.each("end.transition",(function(){var ze;this[Ee].count<2&&(ze=this.parentNode)&&ze.removeChild(this)}))},Fl.ease=function(Ee){var ze=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][ze].ease:("function"!=typeof Ee&&(Ee=$e.ease.apply($e,arguments)),d3_selection_each(this,(function(Ue){Ue[Be][ze].ease=Ee})))},Fl.delay=function(Ee){var ze=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][ze].delay:d3_selection_each(this,"function"==typeof Ee?function(Ue,We,$e){Ue[Be][ze].delay=+Ee.call(Ue,Ue.__data__,We,$e)}:(Ee=+Ee,function(Ue){Ue[Be][ze].delay=Ee}))},Fl.duration=function(Ee){var ze=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][ze].duration:d3_selection_each(this,"function"==typeof Ee?function(Ue,We,$e){Ue[Be][ze].duration=Math.max(1,Ee.call(Ue,Ue.__data__,We,$e))}:(Ee=Math.max(1,Ee),function(Ue){Ue[Be][ze].duration=Ee}))},Fl.each=function(Ee,ze){var Be=this.id,Ue=this.namespace;if(arguments.length<2){var We=Bl,Qe=Rl;try{Rl=Be,d3_selection_each(this,(function(ze,We,$e){Bl=ze[Ue][Be],Ee.call(ze,ze.__data__,We,$e)}))}finally{Bl=We,Rl=Qe}}else d3_selection_each(this,(function(We){var Qe=We[Ue][Be];(Qe.event||(Qe.event=$e.dispatch("start","end","interrupt"))).on(Ee,ze)}));return this},Fl.transition=function(){for(var Ee,ze,Be,Ue=this.id,We=++Nl,$e=this.namespace,Qe=[],et=0,tt=this.length;et<tt;et++){Qe.push(Ee=[]);for(var rt,nt=0,at=(rt=this[et]).length;nt<at;nt++)(ze=rt[nt])&&d3_transitionNode(ze,nt,$e,We,{time:(Be=ze[$e][Ue]).time,ease:Be.ease,delay:Be.delay+Be.duration,duration:Be.duration}),Ee.push(ze)}return d3_transition(Qe,$e,We)},$e.svg.axis=function(){var Ee,ze=$e.scale.linear(),Be=jl,Ue=6,We=6,Qe=3,et=[10],tt=null;function axis(rt){rt.each((function(){var rt,nt=$e.select(this),at=this.__chart__||ze,it=this.__chart__=ze.copy(),ct=null==tt?it.ticks?it.ticks.apply(it,et):it.domain():tt,ft=null==Ee?it.tickFormat?it.tickFormat.apply(it,et):d3_identity:Ee,xt=nt.selectAll(".tick").data(ct,it),kt=xt.enter().insert("g",".domain").attr("class","tick").style("opacity",sn),Lt=$e.transition(xt.exit()).style("opacity",sn).remove(),Ut=$e.transition(xt.order()).style("opacity",1),er=Math.max(Ue,0)+Qe,tr=d3_scaleRange(it),rr=nt.selectAll(".domain").data([0]),ar=(rr.enter().append("path").attr("class","domain"),$e.transition(rr));kt.append("line"),kt.append("text");var Lr,Qr,on,ln,cn=kt.select("line"),un=Ut.select("line"),hn=xt.select("text").text(ft),dn=kt.select("text"),vn=Ut.select("text"),yn="top"===Be||"left"===Be?-1:1;if("bottom"===Be||"top"===Be?(rt=d3_svg_axisX,Lr="x",on="y",Qr="x2",ln="y2",hn.attr("dy",yn<0?"0em":".71em").style("text-anchor","middle"),ar.attr("d","M"+tr[0]+","+yn*We+"V0H"+tr[1]+"V"+yn*We)):(rt=d3_svg_axisY,Lr="y",on="x",Qr="y2",ln="x2",hn.attr("dy",".32em").style("text-anchor",yn<0?"end":"start"),ar.attr("d","M"+yn*We+","+tr[0]+"H0V"+tr[1]+"H"+yn*We)),cn.attr(ln,yn*Ue),dn.attr(on,yn*er),un.attr(Qr,0).attr(ln,yn*Ue),vn.attr(Lr,0).attr(on,yn*er),it.rangeBand){var _n=it,Mn=_n.rangeBand()/2;at=it=function(Ee){return _n(Ee)+Mn}}else at.rangeBand?at=it:Lt.call(rt,it,at);kt.call(rt,at,it),Ut.call(rt,it,it)}))}return axis.scale=function(Ee){return arguments.length?(ze=Ee,axis):ze},axis.orient=function(Ee){return arguments.length?(Be=Ee in Vl?Ee+"":jl,axis):Be},axis.ticks=function(){return arguments.length?(et=d3_array(arguments),axis):et},axis.tickValues=function(Ee){return arguments.length?(tt=Ee,axis):tt},axis.tickFormat=function(ze){return arguments.length?(Ee=ze,axis):Ee},axis.tickSize=function(Ee){var ze=arguments.length;return ze?(Ue=+Ee,We=+arguments[ze-1],axis):Ue},axis.innerTickSize=function(Ee){return arguments.length?(Ue=+Ee,axis):Ue},axis.outerTickSize=function(Ee){return arguments.length?(We=+Ee,axis):We},axis.tickPadding=function(Ee){return arguments.length?(Qe=+Ee,axis):Qe},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var jl="bottom",Vl={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(Ee,ze,Be){Ee.attr("transform",(function(Ee){var Ue=ze(Ee);return"translate("+(isFinite(Ue)?Ue:Be(Ee))+",0)"}))}function d3_svg_axisY(Ee,ze,Be){Ee.attr("transform",(function(Ee){var Ue=ze(Ee);return"translate(0,"+(isFinite(Ue)?Ue:Be(Ee))+")"}))}$e.svg.brush=function(){var Ee,ze,Be=d3_eventDispatch(brush,"brushstart","brush","brushend"),Ue=null,We=null,Qe=[0,0],et=[0,0],tt=!0,rt=!0,nt=Hl[0];function brush(Ee){Ee.each((function(){var Ee=$e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),ze=Ee.selectAll(".background").data([0]);ze.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ee.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Be=Ee.selectAll(".resize").data(nt,d3_identity);Be.exit().remove(),Be.enter().append("g").attr("class",(function(Ee){return"resize "+Ee})).style("cursor",(function(Ee){return Ul[Ee]})).append("rect").attr("x",(function(Ee){return/[ew]$/.test(Ee)?-3:null})).attr("y",(function(Ee){return/^[ns]/.test(Ee)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),Be.style("display",brush.empty()?"none":null);var Qe,et=$e.transition(Ee),tt=$e.transition(ze);Ue&&(Qe=d3_scaleRange(Ue),tt.attr("x",Qe[0]).attr("width",Qe[1]-Qe[0]),redrawX(et)),We&&(Qe=d3_scaleRange(We),tt.attr("y",Qe[0]).attr("height",Qe[1]-Qe[0]),redrawY(et)),redraw(et)}))}function redraw(Ee){Ee.selectAll(".resize").attr("transform",(function(Ee){return"translate("+Qe[+/e$/.test(Ee)]+","+et[+/^s/.test(Ee)]+")"}))}function redrawX(Ee){Ee.select(".extent").attr("x",Qe[0]),Ee.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function redrawY(Ee){Ee.select(".extent").attr("y",et[0]),Ee.selectAll(".extent,.e>rect,.w>rect").attr("height",et[1]-et[0])}function brushstart(){var nt,at,it=this,ct=$e.select($e.event.target),ft=Be.of(it,arguments),xt=$e.select(it),kt=ct.datum(),Lt=!/^(n|s)$/.test(kt)&&Ue,Ut=!/^(e|w)$/.test(kt)&&We,er=ct.classed("extent"),tr=d3_event_dragSuppress(it),rr=$e.mouse(it),ar=$e.select(d3_window(it)).on("keydown.brush",keydown).on("keyup.brush",keyup);if($e.event.changedTouches?ar.on("touchmove.brush",brushmove).on("touchend.brush",brushend):ar.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),xt.interrupt().selectAll("*").interrupt(),er)rr[0]=Qe[0]-rr[0],rr[1]=et[0]-rr[1];else if(kt){var Lr=+/w$/.test(kt),Qr=+/^n/.test(kt);at=[Qe[1-Lr]-rr[0],et[1-Qr]-rr[1]],rr[0]=Qe[Lr],rr[1]=et[Qr]}else $e.event.altKey&&(nt=rr.slice());function keydown(){32==$e.event.keyCode&&(er||(nt=null,rr[0]-=Qe[1],rr[1]-=et[1],er=2),d3_eventPreventDefault())}function keyup(){32==$e.event.keyCode&&2==er&&(rr[0]+=Qe[1],rr[1]+=et[1],er=0,d3_eventPreventDefault())}function brushmove(){var Ee=$e.mouse(it),ze=!1;at&&(Ee[0]+=at[0],Ee[1]+=at[1]),er||($e.event.altKey?(nt||(nt=[(Qe[0]+Qe[1])/2,(et[0]+et[1])/2]),rr[0]=Qe[+(Ee[0]<nt[0])],rr[1]=et[+(Ee[1]<nt[1])]):nt=null),Lt&&move1(Ee,Ue,0)&&(redrawX(xt),ze=!0),Ut&&move1(Ee,We,1)&&(redrawY(xt),ze=!0),ze&&(redraw(xt),ft({type:"brush",mode:er?"move":"resize"}))}function move1(Be,Ue,We){var $e,at,it=d3_scaleRange(Ue),ct=it[0],ft=it[1],xt=rr[We],kt=We?et:Qe,Lt=kt[1]-kt[0];if(er&&(ct-=xt,ft-=Lt+xt),$e=(We?rt:tt)?Math.max(ct,Math.min(ft,Be[We])):Be[We],er?at=($e+=xt)+Lt:(nt&&(xt=Math.max(ct,Math.min(ft,2*nt[We]-$e))),xt<$e?(at=$e,$e=xt):at=xt),kt[0]!=$e||kt[1]!=at)return We?ze=null:Ee=null,kt[0]=$e,kt[1]=at,!0}function brushend(){brushmove(),xt.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),$e.select("body").style("cursor",null),ar.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),tr(),ft({type:"brushend"})}xt.style("pointer-events","none").selectAll(".resize").style("display",null),$e.select("body").style("cursor",ct.style("cursor")),ft({type:"brushstart"}),brushmove()}return brush.event=function(Ue){Ue.each((function(){var Ue=Be.of(this,arguments),We={x:Qe,y:et,i:Ee,j:ze},tt=this.__chart__||We;this.__chart__=We,Rl?$e.select(this).transition().each("start.brush",(function(){Ee=tt.i,ze=tt.j,Qe=tt.x,et=tt.y,Ue({type:"brushstart"})})).tween("brush:brush",(function(){var Be=d3_interpolateArray(Qe,We.x),$e=d3_interpolateArray(et,We.y);return Ee=ze=null,function(Ee){Qe=We.x=Be(Ee),et=We.y=$e(Ee),Ue({type:"brush",mode:"resize"})}})).each("end.brush",(function(){Ee=We.i,ze=We.j,Ue({type:"brush",mode:"resize"}),Ue({type:"brushend"})})):(Ue({type:"brushstart"}),Ue({type:"brush",mode:"resize"}),Ue({type:"brushend"}))}))},brush.x=function(Ee){return arguments.length?(nt=Hl[!(Ue=Ee)<<1|!We],brush):Ue},brush.y=function(Ee){return arguments.length?(nt=Hl[!Ue<<1|!(We=Ee)],brush):We},brush.clamp=function(Ee){return arguments.length?(Ue&&We?(tt=!!Ee[0],rt=!!Ee[1]):Ue?tt=!!Ee:We&&(rt=!!Ee),brush):Ue&&We?[tt,rt]:Ue?tt:We?rt:null},brush.extent=function(Be){var $e,tt,rt,nt,at;return arguments.length?(Ue&&($e=Be[0],tt=Be[1],We&&($e=$e[0],tt=tt[0]),Ee=[$e,tt],Ue.invert&&($e=Ue($e),tt=Ue(tt)),tt<$e&&(at=$e,$e=tt,tt=at),$e==Qe[0]&&tt==Qe[1]||(Qe=[$e,tt])),We&&(rt=Be[0],nt=Be[1],Ue&&(rt=rt[1],nt=nt[1]),ze=[rt,nt],We.invert&&(rt=We(rt),nt=We(nt)),nt<rt&&(at=rt,rt=nt,nt=at),rt==et[0]&&nt==et[1]||(et=[rt,nt])),brush):(Ue&&(Ee?($e=Ee[0],tt=Ee[1]):($e=Qe[0],tt=Qe[1],Ue.invert&&($e=Ue.invert($e),tt=Ue.invert(tt)),tt<$e&&(at=$e,$e=tt,tt=at))),We&&(ze?(rt=ze[0],nt=ze[1]):(rt=et[0],nt=et[1],We.invert&&(rt=We.invert(rt),nt=We.invert(nt)),nt<rt&&(at=rt,rt=nt,nt=at))),Ue&&We?[[$e,rt],[tt,nt]]:Ue?[$e,tt]:We&&[rt,nt])},brush.clear=function(){return brush.empty()||(Qe=[0,0],et=[0,0],Ee=ze=null),brush},brush.empty=function(){return!!Ue&&Qe[0]==Qe[1]||!!We&&et[0]==et[1]},$e.rebind(brush,Be,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ql=Ka.format=ii.timeFormat,Gl=ql.utc,Yl=Gl("%Y-%m-%dT%H:%M:%S.%LZ");function d3_time_formatIsoNative(Ee){return Ee.toISOString()}function d3_time_scale(Ee,ze,Be){function scale(ze){return Ee(ze)}function tickMethod(Ee,Be){var Ue=(Ee[1]-Ee[0])/Be,We=$e.bisect(Wl,Ue);return We==Wl.length?[ze.year,d3_scale_linearTickRange(Ee.map((function(Ee){return Ee/31536e6})),Be)[2]]:We?ze[Ue/Wl[We-1]<Wl[We]/Ue?We-1:We]:[Kl,d3_scale_linearTickRange(Ee,Be)[2]]}return scale.invert=function(ze){return d3_time_scaleDate(Ee.invert(ze))},scale.domain=function(ze){return arguments.length?(Ee.domain(ze),scale):Ee.domain().map(d3_time_scaleDate)},scale.nice=function(Ee,ze){var Be=scale.domain(),Ue=d3_scaleExtent(Be),We=null==Ee?tickMethod(Ue,10):"number"==typeof Ee&&tickMethod(Ue,Ee);function skipped(Be){return!isNaN(Be)&&!Ee.range(Be,d3_time_scaleDate(+Be+1),ze).length}return We&&(Ee=We[0],ze=We[1]),scale.domain(d3_scale_nice(Be,ze>1?{floor:function(ze){for(;skipped(ze=Ee.floor(ze));)ze=d3_time_scaleDate(ze-1);return ze},ceil:function(ze){for(;skipped(ze=Ee.ceil(ze));)ze=d3_time_scaleDate(+ze+1);return ze}}:Ee))},scale.ticks=function(Ee,ze){var Be=d3_scaleExtent(scale.domain()),Ue=null==Ee?tickMethod(Be,10):"number"==typeof Ee?tickMethod(Be,Ee):!Ee.range&&[{range:Ee},ze];return Ue&&(Ee=Ue[0],ze=Ue[1]),Ee.range(Be[0],d3_time_scaleDate(+Be[1]+1),ze<1?1:ze)},scale.tickFormat=function(){return Be},scale.copy=function(){return d3_time_scale(Ee.copy(),ze,Be)},d3_scale_linearRebind(scale,Ee)}function d3_time_scaleDate(Ee){return new Date(Ee)}ql.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Yl,d3_time_formatIsoNative.parse=function(Ee){var ze=new Date(Ee);return isNaN(ze)?null:ze},d3_time_formatIsoNative.toString=Yl.toString,Ka.second=d3_time_interval((function(Ee){return new ei(1e3*Math.floor(Ee/1e3))}),(function(Ee,ze){Ee.setTime(Ee.getTime()+1e3*Math.floor(ze))}),(function(Ee){return Ee.getSeconds()})),Ka.seconds=Ka.second.range,Ka.seconds.utc=Ka.second.utc.range,Ka.minute=d3_time_interval((function(Ee){return new ei(6e4*Math.floor(Ee/6e4))}),(function(Ee,ze){Ee.setTime(Ee.getTime()+6e4*Math.floor(ze))}),(function(Ee){return Ee.getMinutes()})),Ka.minutes=Ka.minute.range,Ka.minutes.utc=Ka.minute.utc.range,Ka.hour=d3_time_interval((function(Ee){var ze=Ee.getTimezoneOffset()/60;return new ei(36e5*(Math.floor(Ee/36e5-ze)+ze))}),(function(Ee,ze){Ee.setTime(Ee.getTime()+36e5*Math.floor(ze))}),(function(Ee){return Ee.getHours()})),Ka.hours=Ka.hour.range,Ka.hours.utc=Ka.hour.utc.range,Ka.month=d3_time_interval((function(Ee){return(Ee=Ka.day(Ee)).setDate(1),Ee}),(function(Ee,ze){Ee.setMonth(Ee.getMonth()+ze)}),(function(Ee){return Ee.getMonth()})),Ka.months=Ka.month.range,Ka.months.utc=Ka.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[Ka.second,1],[Ka.second,5],[Ka.second,15],[Ka.second,30],[Ka.minute,1],[Ka.minute,5],[Ka.minute,15],[Ka.minute,30],[Ka.hour,1],[Ka.hour,3],[Ka.hour,6],[Ka.hour,12],[Ka.day,1],[Ka.day,2],[Ka.week,1],[Ka.month,1],[Ka.month,3],[Ka.year,1]],Zl=ql.multi([[".%L",function(Ee){return Ee.getMilliseconds()}],[":%S",function(Ee){return Ee.getSeconds()}],["%I:%M",function(Ee){return Ee.getMinutes()}],["%I %p",function(Ee){return Ee.getHours()}],["%a %d",function(Ee){return Ee.getDay()&&1!=Ee.getDate()}],["%b %d",function(Ee){return 1!=Ee.getDate()}],["%B",function(Ee){return Ee.getMonth()}],["%Y",d3_true]]),Kl={range:function(Ee,ze,Be){return $e.range(Math.ceil(Ee/Be)*Be,+ze,Be).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Xl.year=Ka.year,Ka.scale=function(){return d3_time_scale($e.scale.linear(),Xl,Zl)};var Jl=Xl.map((function(Ee){return[Ee[0].utc,Ee[1]]})),$l=Gl.multi([[".%L",function(Ee){return Ee.getUTCMilliseconds()}],[":%S",function(Ee){return Ee.getUTCSeconds()}],["%I:%M",function(Ee){return Ee.getUTCMinutes()}],["%I %p",function(Ee){return Ee.getUTCHours()}],["%a %d",function(Ee){return Ee.getUTCDay()&&1!=Ee.getUTCDate()}],["%b %d",function(Ee){return 1!=Ee.getUTCDate()}],["%B",function(Ee){return Ee.getUTCMonth()}],["%Y",d3_true]]);function d3_json(Ee){return JSON.parse(Ee.responseText)}function d3_html(Ee){var ze=et.createRange();return ze.selectNode(et.body),ze.createContextualFragment(Ee.responseText)}Jl.year=Ka.year.utc,Ka.scale.utc=function(){return d3_time_scale($e.scale.linear(),Jl,$l)},$e.text=d3_xhrType((function(Ee){return Ee.responseText})),$e.json=function(Ee,ze){return d3_xhr(Ee,"application/json",d3_json,ze)},$e.html=function(Ee,ze){return d3_xhr(Ee,"text/html",d3_html,ze)},$e.xml=d3_xhrType((function(Ee){return Ee.responseXML})),this.d3=$e,void 0===(We="function"==typeof(Ue=$e)?Ue.call(ze,Be,ze,Ee):Ue)||(Ee.exports=We)}()},"6eeb":function(Ee,ze,Be){var Ue=Be("da84"),We=Be("9112"),$e=Be("5135"),Qe=Be("ce4e"),et=Be("8925"),tt=Be("69f3"),rt=tt.get,nt=tt.enforce,at=String(String).split("String");(Ee.exports=function(Ee,ze,Be,et){var tt=!!et&&!!et.unsafe,rt=!!et&&!!et.enumerable,it=!!et&&!!et.noTargetGet;"function"==typeof Be&&("string"!=typeof ze||$e(Be,"name")||We(Be,"name",ze),nt(Be).source=at.join("string"==typeof ze?ze:"")),Ee!==Ue?(tt?!it&&Ee[ze]&&(rt=!0):delete Ee[ze],rt?Ee[ze]=Be:We(Ee,ze,Be)):rt?Ee[ze]=Be:Qe(ze,Be)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&rt(this).source||et(this)}))},"6f04":function(Ee,ze,Be){"use strict";function Map(){}function map(Ee,ze){var Be=new Map;if(Ee instanceof Map)Ee.each((function(Ee,ze){Be.set(ze,Ee)}));else if(Array.isArray(Ee)){var Ue,We=-1,$e=Ee.length;if(null==ze)for(;++We<$e;)Be.set(We,Ee[We]);else for(;++We<$e;)Be.set(ze(Ue=Ee[We],We,Ee),Ue)}else if(Ee)for(var Qe in Ee)Be.set(Qe,Ee[Qe]);return Be}Map.prototype=map.prototype={constructor:Map,has:function(Ee){return"$"+Ee in this},get:function(Ee){return this["$"+Ee]},set:function(Ee,ze){return this["$"+Ee]=ze,this},remove:function(Ee){var ze="$"+Ee;return ze in this&&delete this[ze]},clear:function(){for(var Ee in this)"$"===Ee[0]&&delete this[Ee]},keys:function(){var Ee=[];for(var ze in this)"$"===ze[0]&&Ee.push(ze.slice(1));return Ee},values:function(){var Ee=[];for(var ze in this)"$"===ze[0]&&Ee.push(this[ze]);return Ee},entries:function(){var Ee=[];for(var ze in this)"$"===ze[0]&&Ee.push({key:ze.slice(1),value:this[ze]});return Ee},size:function(){var Ee=0;for(var ze in this)"$"===ze[0]&&++Ee;return Ee},empty:function(){for(var Ee in this)if("$"===Ee[0])return!1;return!0},each:function(Ee){for(var ze in this)"$"===ze[0]&&Ee(this[ze],ze.slice(1),this)}};var Ue=map,src_nest=function(){var Ee,ze,Be,We=[],$e=[];function apply(Be,$e,Qe,et){if($e>=We.length)return null!=Ee&&Be.sort(Ee),null!=ze?ze(Be):Be;for(var tt,rt,nt,at=-1,it=Be.length,ct=We[$e++],ft=Ue(),xt=Qe();++at<it;)(nt=ft.get(tt=ct(rt=Be[at])+""))?nt.push(rt):ft.set(tt,[rt]);return ft.each((function(Ee,ze){et(xt,ze,apply(Ee,$e,Qe,et))})),xt}return Be={object:function(Ee){return apply(Ee,0,createObject,setObject)},map:function(Ee){return apply(Ee,0,createMap,setMap)},entries:function(Ee){return function entries(Ee,Be){if(++Be>We.length)return Ee;var Ue,Qe=$e[Be-1];return null!=ze&&Be>=We.length?Ue=Ee.entries():(Ue=[],Ee.each((function(Ee,ze){Ue.push({key:ze,values:entries(Ee,Be)})}))),null!=Qe?Ue.sort((function(Ee,ze){return Qe(Ee.key,ze.key)})):Ue}(apply(Ee,0,createMap,setMap),0)},key:function(Ee){return We.push(Ee),Be},sortKeys:function(Ee){return $e[We.length-1]=Ee,Be},sortValues:function(ze){return Ee=ze,Be},rollup:function(Ee){return ze=Ee,Be}}};function createObject(){return{}}function setObject(Ee,ze,Be){Ee[ze]=Be}function createMap(){return Ue()}function setMap(Ee,ze,Be){Ee.set(ze,Be)}function Set(){}var We=Ue.prototype;function set(Ee,ze){var Be=new Set;if(Ee instanceof Set)Ee.each((function(Ee){Be.add(Ee)}));else if(Ee){var Ue=-1,We=Ee.length;if(null==ze)for(;++Ue<We;)Be.add(Ee[Ue]);else for(;++Ue<We;)Be.add(ze(Ee[Ue],Ue,Ee))}return Be}Set.prototype=set.prototype={constructor:Set,has:We.has,add:function(Ee){return this["$"+(Ee+="")]=Ee,this},remove:We.remove,clear:We.clear,values:We.keys,size:We.size,empty:We.empty,each:We.each};Be.d(ze,"b",(function(){return src_nest})),Be.d(ze,"a",(function(){return Ue}))},"6f09":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be,Ue,We){if(Ee.x="xVal"in ze?ze.xVal:ze.x,Ee.y="yVal"in ze?ze.yVal:ze.y,"zLabelVal"in ze&&(Ee.z=ze.zLabelVal),ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),!(Be.cumulative||{}).enabled){var $e,Qe=Array.isArray(We)?Ue[0].pts[We[0]][We[1]]:Ue[We].pts;if(Ee.pointNumbers=Qe,Ee.binNumber=Ee.pointNumber,delete Ee.pointNumber,delete Ee.pointIndex,Be._indexToPoints){$e=[];for(var et=0;et<Qe.length;et++)$e=$e.concat(Be._indexToPoints[Qe[et]])}else $e=Qe;Ee.pointIndices=$e}return Ee}},"6f51":function(Ee,ze){Ee.exports=function translate(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt=Be[0],kt=Be[1],Lt=Be[2];ze===Ee?(Ee[12]=ze[0]*xt+ze[4]*kt+ze[8]*Lt+ze[12],Ee[13]=ze[1]*xt+ze[5]*kt+ze[9]*Lt+ze[13],Ee[14]=ze[2]*xt+ze[6]*kt+ze[10]*Lt+ze[14],Ee[15]=ze[3]*xt+ze[7]*kt+ze[11]*Lt+ze[15]):(Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=ze[4],tt=ze[5],rt=ze[6],nt=ze[7],at=ze[8],it=ze[9],ct=ze[10],ft=ze[11],Ee[0]=Ue,Ee[1]=We,Ee[2]=$e,Ee[3]=Qe,Ee[4]=et,Ee[5]=tt,Ee[6]=rt,Ee[7]=nt,Ee[8]=at,Ee[9]=it,Ee[10]=ct,Ee[11]=ft,Ee[12]=Ue*xt+et*kt+at*Lt+ze[12],Ee[13]=We*xt+tt*kt+it*Lt+ze[13],Ee[14]=$e*xt+rt*kt+ct*Lt+ze[14],Ee[15]=Qe*xt+nt*kt+ft*Lt+ze[15]);return Ee}},"6f96":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return Ee.x="xVal"in ze?ze.xVal:ze.x,Ee.y="yVal"in ze?ze.yVal:ze.y,"percentInitial"in ze&&(Ee.percentInitial=ze.percentInitial),"percentPrevious"in ze&&(Ee.percentPrevious=ze.percentPrevious),"percentTotal"in ze&&(Ee.percentTotal=ze.percentTotal),ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),Ee}},"6fa6":function(Ee,ze,Be){"use strict";var Ue=Be("551a"),We=Be("765f").parseColorScale,$e=Be("f977"),Qe=Be("c258").extractOpts,et=Be("569b"),tt=Be("caf7").findNearestOnAxis,rt=Be("caf7").generateIsoMeshes;function VolumeTrace(Ee,ze,Be){this.scene=Ee,this.uid=Be,this.mesh=ze,this.name="",this.data=null,this.showContour=!1}var nt=VolumeTrace.prototype;nt.handlePick=function(Ee){if(Ee.object===this.mesh){var ze=Ee.data.index,Be=this.data._meshX[ze],Ue=this.data._meshY[ze],We=this.data._meshZ[ze],$e=this.data._Ys.length,Qe=this.data._Zs.length,et=tt(Be,this.data._Xs).id,rt=tt(Ue,this.data._Ys).id,nt=tt(We,this.data._Zs).id,at=Ee.index=nt+Qe*rt+Qe*$e*et;Ee.traceCoordinate=[this.data._meshX[at],this.data._meshY[at],this.data._meshZ[at],this.data._value[at]];var it=this.data.hovertext||this.data.text;return Array.isArray(it)&&void 0!==it[at]?Ee.textLabel=it[at]:it&&(Ee.textLabel=it),!0}},nt.update=function(Ee){var ze=this.scene,Be=ze.fullSceneLayout;function toDataCoords(Ee,ze,Be,Ue){return ze.map((function(ze){return Ee.d2l(ze,0,Ue)*Be}))}this.data=rt(Ee);var Ue={positions:et(toDataCoords(Be.xaxis,Ee._meshX,ze.dataScale[0],Ee.xcalendar),toDataCoords(Be.yaxis,Ee._meshY,ze.dataScale[1],Ee.ycalendar),toDataCoords(Be.zaxis,Ee._meshZ,ze.dataScale[2],Ee.zcalendar)),cells:et(Ee._meshI,Ee._meshJ,Ee._meshK),lightPosition:[Ee.lightposition.x,Ee.lightposition.y,Ee.lightposition.z],ambient:Ee.lighting.ambient,diffuse:Ee.lighting.diffuse,specular:Ee.lighting.specular,roughness:Ee.lighting.roughness,fresnel:Ee.lighting.fresnel,vertexNormalsEpsilon:Ee.lighting.vertexnormalsepsilon,faceNormalsEpsilon:Ee.lighting.facenormalsepsilon,opacity:Ee.opacity,opacityscale:Ee.opacityscale,contourEnable:Ee.contour.show,contourColor:$e(Ee.contour.color).slice(0,3),contourWidth:Ee.contour.width,useFacetNormals:Ee.flatshading},tt=Qe(Ee);Ue.vertexIntensity=Ee._meshIntensity,Ue.vertexIntensityBounds=[tt.min,tt.max],Ue.colormap=We(Ee),this.mesh.update(Ue)},nt.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Ee.exports=function createVolumeTrace(Ee,ze){var Be=Ee.glplot.gl,We=Ue({gl:Be}),$e=new VolumeTrace(Ee,We,ze.uid);return We._trace=$e,$e.update(ze),Ee.glplot.add(We),$e}},"6fc3":function(Ee,ze,Be){"use strict";function baseFilter(Ee){return!0===Ee.visible}function calcDataFilter(Ee){var ze=Ee[0].trace;return!0===ze.visible&&0!==ze._length}Ee.exports=function filterVisible(Ee){for(var ze=function isCalcData(Ee){return Array.isArray(Ee)&&Array.isArray(Ee[0])&&Ee[0][0]&&Ee[0][0].trace}(Ee)?calcDataFilter:baseFilter,Be=[],Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue];ze(We)&&Be.push(We)}return Be}},7e3:function(Ee,ze,Be){"use strict";function getCentroid(Ee,ze,Be,Ue,We){var $e=ze.c2p(Ue?Ee.s0:Ee.p0,!0),Qe=ze.c2p(Ue?Ee.s1:Ee.p1,!0),et=Be.c2p(Ue?Ee.p0:Ee.s0,!0),tt=Be.c2p(Ue?Ee.p1:Ee.s1,!0);return We?[($e+Qe)/2,(et+tt)/2]:Ue?[Qe,(et+tt)/2]:[($e+Qe)/2,tt]}Ee.exports=function selectPoints(Ee,ze){var Be,Ue=Ee.cd,We=Ee.xaxis,$e=Ee.yaxis,Qe=Ue[0].trace,et="funnel"===Qe.type,tt="h"===Qe.orientation,rt=[];if(!1===ze)for(Be=0;Be<Ue.length;Be++)Ue[Be].selected=0;else for(Be=0;Be<Ue.length;Be++){var nt=Ue[Be],at="ct"in nt?nt.ct:getCentroid(nt,We,$e,tt,et);ze.contains(at,!1,Be,Ee)?(rt.push({pointNumber:Be,x:We.c2d(nt.x),y:$e.c2d(nt.y)}),nt.selected=1):nt.selected=0}return rt}},7016:function(Ee,ze,Be){"use strict";Ee.exports=Be("89e1")},7045:function(Ee,ze,Be){"use strict";var Ue=Object.prototype.toString,We=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);Ee.exports=function(Ee){return"function"==typeof Ee&&We(Ue.call(Ee))}},7089:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function hasColorbar(Ee){return Ue.isPlainObject(Ee.colorbar)}},"70b4":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("0642"),Qe=Be("e806").BADNUM,et=Be("de81"),tt=Be("09bd"),rt=Be("106b"),nt=Be("4136");function calcAxisExpansion(Ee,ze,Be,Ue,We,Qe,tt){var rt=ze._length,nt=Ee._fullLayout,at=Be._id,it=Ue._id,ct=nt._firstScatter[firstScatterGroup(ze)]===ze.uid,ft=(getStackOpts(ze,nt,Be,Ue)||{}).orientation,xt=ze.fill;Be._minDtick=0,Ue._minDtick=0;var kt={padded:!0},Lt={padded:!0};tt&&(kt.ppad=Lt.ppad=tt);var Ut=rt<2||We[0]!==We[rt-1]||Qe[0]!==Qe[rt-1];Ut&&("tozerox"===xt||"tonextx"===xt&&(ct||"h"===ft))?kt.tozero=!0:(ze.error_y||{}).visible||"tonexty"!==xt&&"tozeroy"!==xt&&(et.hasMarkers(ze)||et.hasText(ze))||(kt.padded=!1,kt.ppad=0),Ut&&("tozeroy"===xt||"tonexty"===xt&&(ct||"v"===ft))?Lt.tozero=!0:"tonextx"!==xt&&"tozerox"!==xt||(Lt.padded=!1),at&&(ze._extremes[at]=$e.findExtremes(Be,We,kt)),it&&(ze._extremes[it]=$e.findExtremes(Ue,Qe,Lt))}function calcMarkerSize(Ee,ze){if(et.hasMarkers(Ee)){var Be,Ue=Ee.marker,Qe=1.6*(Ee.marker.sizeref||1);if(Be="area"===Ee.marker.sizemode?function(Ee){return Math.max(Math.sqrt((Ee||0)/Qe),3)}:function(Ee){return Math.max((Ee||0)/Qe,3)},We.isArrayOrTypedArray(Ue.size)){var tt={type:"linear"};$e.setConvert(tt);for(var rt=tt.makeCalcdata(Ee.marker,"size"),nt=new Array(ze),at=0;at<ze;at++)nt[at]=Be(rt[at]);return nt}return Be(Ue.size)}}function setFirstScatter(Ee,ze){var Be=firstScatterGroup(ze),Ue=Ee._firstScatter;Ue[Be]||(Ue[Be]=ze.uid)}function firstScatterGroup(Ee){var ze=Ee.stackgroup;return Ee.xaxis+Ee.yaxis+Ee.type+(ze?"-"+ze:"")}function getStackOpts(Ee,ze,Be,Ue){var We=Ee.stackgroup;if(We){var $e=ze._scatterStackOpts[Be._id+Ue._id][We],Qe="v"===$e.orientation?Ue:Be;return"linear"===Qe.type||"log"===Qe.type?$e:void 0}}Ee.exports={calc:function calc(Ee,ze){var Be,et,at,it,ct,ft,xt=Ee._fullLayout,kt=$e.getFromId(Ee,ze.xaxis||"x"),Lt=$e.getFromId(Ee,ze.yaxis||"y"),Ut=kt.makeCalcdata(ze,"x"),er=Lt.makeCalcdata(ze,"y"),tr=ze._length,rr=new Array(tr),ar=ze.ids,Lr=getStackOpts(ze,xt,kt,Lt),Qr=!1;setFirstScatter(xt,ze);var on,sn="x",ln="y";for(Lr?(We.pushUnique(Lr.traceIndices,ze._expandedIndex),(Be="v"===Lr.orientation)?(ln="s",on="x"):(sn="s",on="y"),ct="interpolate"===Lr.stackgaps):calcAxisExpansion(Ee,ze,kt,Lt,Ut,er,calcMarkerSize(ze,tr)),et=0;et<tr;et++){var cn=rr[et]={},un=Ue(Ut[et]),hn=Ue(er[et]);un&&hn?(cn[sn]=Ut[et],cn[ln]=er[et]):Lr&&(Be?un:hn)?(cn[on]=Be?Ut[et]:er[et],cn.gap=!0,ct?(cn.s=Qe,Qr=!0):cn.s=0):cn[sn]=cn[ln]=Qe,ar&&(cn.id=String(ar[et]))}if(rt(rr,ze),tt(Ee,ze),nt(rr,ze),Lr){for(et=0;et<rr.length;)rr[et][on]===Qe?rr.splice(et,1):et++;if(We.sort(rr,(function(Ee,ze){return Ee[on]-ze[on]||Ee.i-ze.i})),Qr){for(et=0;et<rr.length-1&&rr[et].gap;)et++;for((ft=rr[et].s)||(ft=rr[et].s=0),at=0;at<et;at++)rr[at].s=ft;for(it=rr.length-1;it>et&&rr[it].gap;)it--;for(ft=rr[it].s,at=rr.length-1;at>it;at--)rr[at].s=ft;for(;et<it;)if(rr[++et].gap){for(at=et+1;rr[at].gap;)at++;for(var dn=rr[et-1][on],vn=rr[et-1].s,yn=(rr[at].s-vn)/(rr[at][on]-dn);et<at;)rr[et].s=vn+(rr[et][on]-dn)*yn,et++}}}return rr},calcMarkerSize:calcMarkerSize,calcAxisExpansion:calcAxisExpansion,setFirstScatter:setFirstScatter,getStackOpts:getStackOpts}},"70f9":function(Ee,ze,Be){"use strict";var Ue=Be("2595"),We=Be("34f9");Ee.exports={moduleType:"component",name:"annotations",layoutAttributes:Be("bb4a"),supplyLayoutDefaults:Be("bb5b"),includeBasePlot:Be("37d1")("annotations"),calcAutorange:Be("cd84"),draw:Ue.draw,drawOne:Ue.drawOne,drawRaw:Ue.drawRaw,hasClickToShow:We.hasClickToShow,onClick:We.onClick,convertCoords:Be("351b")}},7118:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("d798"),Qe=Be("d92f"),et=Be("27e3"),tt=Be("5008"),rt=Be("d18b"),nt=Be("743b"),at=Be("1a40");Ee.exports=function handleAxisDefaults(Ee,ze,Be,it,ct){var ft=it.letter,xt=it.font||{},kt=it.splomStash||{},Lt=Be("visible",!it.visibleDflt),Ut=ze.type;"date"===Ut&&Ue.getComponentMethod("calendars","handleDefaults")(Ee,ze,"calendar",it.calendar);at(ze,ct);var er=!ze.isValidRange(Ee.range);er&&it.reverseDflt&&(er="reversed"),!Be("autorange",er)||"linear"!==Ut&&"-"!==Ut||Be("rangemode"),Be("range"),ze.cleanRange(),rt(Ee,ze,Be,it),"category"===Ut||it.noHover||Be("hoverformat");var tr=Be("color"),rr=tr!==$e.color.dflt?tr:xt.color,ar=kt.label||ct._dfltTitle[ft];if(tt(Ee,ze,Be,Ut,it,{pass:1}),!Lt)return ze;Be("title.text",ar),We.coerceFont(Be,"title.font",{family:xt.family,size:Math.round(1.2*xt.size),color:rr}),Qe(Ee,ze,Be,Ut),tt(Ee,ze,Be,Ut,it,{pass:2}),et(Ee,ze,Be,it),nt(Ee,ze,Be,{dfltColor:tr,bgColor:it.bgColor,showGrid:it.showGrid,attributes:$e}),(ze.showline||ze.ticks)&&Be("mirror"),it.automargin&&Be("automargin");var Lr,Qr="multicategory"===ze.type;it.noTickson||"category"!==ze.type&&!Qr||!ze.ticks&&!ze.showgrid||(Qr&&(Lr="boundaries"),Be("tickson",Lr));Qr&&(Be("showdividers")&&(Be("dividercolor"),Be("dividerwidth")));return ze}},"714f":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function arraysToCalcdata(Ee,ze){for(var Be=0;Be<Ee.length;Be++)Ee[Be].i=Be;Ue.mergeArray(ze.text,Ee,"tx"),Ue.mergeArray(ze.hovertext,Ee,"htx");var We=ze.marker;if(We){Ue.mergeArray(We.opacity,Ee,"mo"),Ue.mergeArray(We.color,Ee,"mc");var $e=We.line;$e&&(Ue.mergeArray($e.color,Ee,"mlc"),Ue.mergeArrayCastPositive($e.width,Ee,"mlw"))}}},"716c":function(Ee,ze,Be){"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var Ue=Be("feb7");function coordEach(Ee,ze,Be){if(null!==Ee)for(var Ue,We,$e,Qe,et,tt,rt,nt,at=0,it=0,ct=Ee.type,ft="FeatureCollection"===ct,xt="Feature"===ct,kt=ft?Ee.features.length:1,Lt=0;Lt<kt;Lt++){et=(nt=!!(rt=ft?Ee.features[Lt].geometry:xt?Ee.geometry:Ee)&&"GeometryCollection"===rt.type)?rt.geometries.length:1;for(var Ut=0;Ut<et;Ut++){var er=0,tr=0;if(null!==(Qe=nt?rt.geometries[Ut]:rt)){tt=Qe.coordinates;var rr=Qe.type;switch(at=!Be||"Polygon"!==rr&&"MultiPolygon"!==rr?0:1,rr){case null:break;case"Point":if(!1===ze(tt,it,Lt,er,tr))return!1;it++,er++;break;case"LineString":case"MultiPoint":for(Ue=0;Ue<tt.length;Ue++){if(!1===ze(tt[Ue],it,Lt,er,tr))return!1;it++,"MultiPoint"===rr&&er++}"LineString"===rr&&er++;break;case"Polygon":case"MultiLineString":for(Ue=0;Ue<tt.length;Ue++){for(We=0;We<tt[Ue].length-at;We++){if(!1===ze(tt[Ue][We],it,Lt,er,tr))return!1;it++}"MultiLineString"===rr&&er++,"Polygon"===rr&&tr++}"Polygon"===rr&&er++;break;case"MultiPolygon":for(Ue=0;Ue<tt.length;Ue++){for(tr=0,We=0;We<tt[Ue].length;We++){for($e=0;$e<tt[Ue][We].length-at;$e++){if(!1===ze(tt[Ue][We][$e],it,Lt,er,tr))return!1;it++}tr++}er++}break;case"GeometryCollection":for(Ue=0;Ue<Qe.geometries.length;Ue++)if(!1===coordEach(Qe.geometries[Ue],ze,Be))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function propEach(Ee,ze){var Be;switch(Ee.type){case"FeatureCollection":for(Be=0;Be<Ee.features.length&&!1!==ze(Ee.features[Be].properties,Be);Be++);break;case"Feature":ze(Ee.properties,0)}}function featureEach(Ee,ze){if("Feature"===Ee.type)ze(Ee,0);else if("FeatureCollection"===Ee.type)for(var Be=0;Be<Ee.features.length&&!1!==ze(Ee.features[Be],Be);Be++);}function geomEach(Ee,ze){var Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it=0,ct="FeatureCollection"===Ee.type,ft="Feature"===Ee.type,xt=ct?Ee.features.length:1;for(Be=0;Be<xt;Be++){for(et=ct?Ee.features[Be].geometry:ft?Ee.geometry:Ee,rt=ct?Ee.features[Be].properties:ft?Ee.properties:{},nt=ct?Ee.features[Be].bbox:ft?Ee.bbox:void 0,at=ct?Ee.features[Be].id:ft?Ee.id:void 0,Qe=(tt=!!et&&"GeometryCollection"===et.type)?et.geometries.length:1,We=0;We<Qe;We++)if(null!==($e=tt?et.geometries[We]:et))switch($e.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===ze($e,it,rt,nt,at))return!1;break;case"GeometryCollection":for(Ue=0;Ue<$e.geometries.length;Ue++)if(!1===ze($e.geometries[Ue],it,rt,nt,at))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===ze(null,it,rt,nt,at))return!1;it++}}function flattenEach(Ee,ze){geomEach(Ee,(function(Ee,Be,We,$e,Qe){var et,tt=null===Ee?null:Ee.type;switch(tt){case null:case"Point":case"LineString":case"Polygon":return!1!==ze(Ue.feature(Ee,We,{bbox:$e,id:Qe}),Be,0)&&void 0}switch(tt){case"MultiPoint":et="Point";break;case"MultiLineString":et="LineString";break;case"MultiPolygon":et="Polygon"}for(var rt=0;rt<Ee.coordinates.length;rt++){var nt={type:et,coordinates:Ee.coordinates[rt]};if(!1===ze(Ue.feature(nt,We),Be,rt))return!1}}))}function segmentEach(Ee,ze){flattenEach(Ee,(function(Ee,Be,We){var $e=0;if(Ee.geometry){var Qe=Ee.geometry.type;if("Point"!==Qe&&"MultiPoint"!==Qe){var et,tt=0,rt=0,nt=0;return!1!==coordEach(Ee,(function(Qe,at,it,ct,ft){if(void 0===et||Be>tt||ct>rt||ft>nt)return et=Qe,tt=Be,rt=ct,nt=ft,void($e=0);var xt=Ue.lineString([et,Qe],Ee.properties);if(!1===ze(xt,Be,We,ft,$e))return!1;$e++,et=Qe}))&&void 0}}}))}function lineEach(Ee,ze){if(!Ee)throw new Error("geojson is required");flattenEach(Ee,(function(Ee,Be,We){if(null!==Ee.geometry){var $e=Ee.geometry.type,Qe=Ee.geometry.coordinates;switch($e){case"LineString":if(!1===ze(Ee,Be,We,0,0))return!1;break;case"Polygon":for(var et=0;et<Qe.length;et++)if(!1===ze(Ue.lineString(Qe[et],Ee.properties),Be,We,et))return!1}}}))}ze.coordEach=coordEach,ze.coordReduce=function coordReduce(Ee,ze,Be,Ue){var We=Be;return coordEach(Ee,(function(Ee,Ue,$e,Qe,et){We=0===Ue&&void 0===Be?Ee:ze(We,Ee,Ue,$e,Qe,et)}),Ue),We},ze.propEach=propEach,ze.propReduce=function propReduce(Ee,ze,Be){var Ue=Be;return propEach(Ee,(function(Ee,We){Ue=0===We&&void 0===Be?Ee:ze(Ue,Ee,We)})),Ue},ze.featureEach=featureEach,ze.featureReduce=function featureReduce(Ee,ze,Be){var Ue=Be;return featureEach(Ee,(function(Ee,We){Ue=0===We&&void 0===Be?Ee:ze(Ue,Ee,We)})),Ue},ze.coordAll=function coordAll(Ee){var ze=[];return coordEach(Ee,(function(Ee){ze.push(Ee)})),ze},ze.geomEach=geomEach,ze.geomReduce=function geomReduce(Ee,ze,Be){var Ue=Be;return geomEach(Ee,(function(Ee,We,$e,Qe,et){Ue=0===We&&void 0===Be?Ee:ze(Ue,Ee,We,$e,Qe,et)})),Ue},ze.flattenEach=flattenEach,ze.flattenReduce=function flattenReduce(Ee,ze,Be){var Ue=Be;return flattenEach(Ee,(function(Ee,We,$e){Ue=0===We&&0===$e&&void 0===Be?Ee:ze(Ue,Ee,We,$e)})),Ue},ze.segmentEach=segmentEach,ze.segmentReduce=function segmentReduce(Ee,ze,Be){var Ue=Be,We=!1;return segmentEach(Ee,(function(Ee,$e,Qe,et,tt){Ue=!1===We&&void 0===Be?Ee:ze(Ue,Ee,$e,Qe,et,tt),We=!0})),Ue},ze.lineEach=lineEach,ze.lineReduce=function lineReduce(Ee,ze,Be){var Ue=Be;return lineEach(Ee,(function(Ee,We,$e,Qe){Ue=0===We&&void 0===Be?Ee:ze(Ue,Ee,We,$e,Qe)})),Ue},ze.findSegment=function findSegment(Ee,ze){if(ze=ze||{},!Ue.isObject(ze))throw new Error("options is invalid");var Be,We=ze.featureIndex||0,$e=ze.multiFeatureIndex||0,Qe=ze.geometryIndex||0,et=ze.segmentIndex||0,tt=ze.properties;switch(Ee.type){case"FeatureCollection":We<0&&(We=Ee.features.length+We),tt=tt||Ee.features[We].properties,Be=Ee.features[We].geometry;break;case"Feature":tt=tt||Ee.properties,Be=Ee.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Be=Ee;break;default:throw new Error("geojson is invalid")}if(null===Be)return null;var rt=Be.coordinates;switch(Be.type){case"Point":case"MultiPoint":return null;case"LineString":return et<0&&(et=rt.length+et-1),Ue.lineString([rt[et],rt[et+1]],tt,ze);case"Polygon":return Qe<0&&(Qe=rt.length+Qe),et<0&&(et=rt[Qe].length+et-1),Ue.lineString([rt[Qe][et],rt[Qe][et+1]],tt,ze);case"MultiLineString":return $e<0&&($e=rt.length+$e),et<0&&(et=rt[$e].length+et-1),Ue.lineString([rt[$e][et],rt[$e][et+1]],tt,ze);case"MultiPolygon":return $e<0&&($e=rt.length+$e),Qe<0&&(Qe=rt[$e].length+Qe),et<0&&(et=rt[$e][Qe].length-et-1),Ue.lineString([rt[$e][Qe][et],rt[$e][Qe][et+1]],tt,ze)}throw new Error("geojson is invalid")},ze.findPoint=function findPoint(Ee,ze){if(ze=ze||{},!Ue.isObject(ze))throw new Error("options is invalid");var Be,We=ze.featureIndex||0,$e=ze.multiFeatureIndex||0,Qe=ze.geometryIndex||0,et=ze.coordIndex||0,tt=ze.properties;switch(Ee.type){case"FeatureCollection":We<0&&(We=Ee.features.length+We),tt=tt||Ee.features[We].properties,Be=Ee.features[We].geometry;break;case"Feature":tt=tt||Ee.properties,Be=Ee.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Be=Ee;break;default:throw new Error("geojson is invalid")}if(null===Be)return null;var rt=Be.coordinates;switch(Be.type){case"Point":return Ue.point(rt,tt,ze);case"MultiPoint":return $e<0&&($e=rt.length+$e),Ue.point(rt[$e],tt,ze);case"LineString":return et<0&&(et=rt.length+et),Ue.point(rt[et],tt,ze);case"Polygon":return Qe<0&&(Qe=rt.length+Qe),et<0&&(et=rt[Qe].length+et),Ue.point(rt[Qe][et],tt,ze);case"MultiLineString":return $e<0&&($e=rt.length+$e),et<0&&(et=rt[$e].length+et),Ue.point(rt[$e][et],tt,ze);case"MultiPolygon":return $e<0&&($e=rt.length+$e),Qe<0&&(Qe=rt[$e].length+Qe),et<0&&(et=rt[$e][Qe].length-et),Ue.point(rt[$e][Qe][et],tt,ze)}throw new Error("geojson is invalid")}},"71b1":function(Ee,ze,Be){"use strict";Ee.exports=function selectPoints(Ee,ze){var Be,Ue,We=Ee.cd,$e=Ee.xaxis,Qe=Ee.yaxis,et=[];if(!1===ze)for(Be=0;Be<We.length;Be++)for(Ue=0;Ue<(We[Be].pts||[]).length;Ue++)We[Be].pts[Ue].selected=0;else for(Be=0;Be<We.length;Be++)for(Ue=0;Ue<(We[Be].pts||[]).length;Ue++){var tt=We[Be].pts[Ue],rt=$e.c2p(tt.x),nt=Qe.c2p(tt.y);ze.contains([rt,nt],null,tt.i,Ee)?(et.push({pointNumber:tt.i,x:$e.c2d(tt.x),y:Qe.c2d(tt.y)}),tt.selected=1):tt.selected=0}return et}},7210:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("e5ac"),$e=Be("9c5f"),Qe=Be("e639").name,et=$e.steps;function sliderDefaults(Ee,ze,Be){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}for(var Qe=We(Ee,ze,{name:"steps",handleItemDefaults:stepDefaults}),et=0,tt=0;tt<Qe.length;tt++)Qe[tt].visible&&et++;if(et<2?ze.visible=!1:coerce("visible")){ze._stepCount=et;var rt=ze._visibleSteps=Ue.filterVisible(Qe);(Qe[coerce("active")]||{}).visible||(ze.active=rt[0]._index),coerce("x"),coerce("y"),Ue.noneOrAll(Ee,ze,["x","y"]),coerce("xanchor"),coerce("yanchor"),coerce("len"),coerce("lenmode"),coerce("pad.t"),coerce("pad.r"),coerce("pad.b"),coerce("pad.l"),Ue.coerceFont(coerce,"font",Be.font),coerce("currentvalue.visible")&&(coerce("currentvalue.xanchor"),coerce("currentvalue.prefix"),coerce("currentvalue.suffix"),coerce("currentvalue.offset"),Ue.coerceFont(coerce,"currentvalue.font",ze.font)),coerce("transition.duration"),coerce("transition.easing"),coerce("bgcolor"),coerce("activebgcolor"),coerce("bordercolor"),coerce("borderwidth"),coerce("ticklen"),coerce("tickwidth"),coerce("tickcolor"),coerce("minorticklen")}}function stepDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}if("skip"===Ee.method||Array.isArray(Ee.args)?coerce("visible"):ze.visible=!1){coerce("method"),coerce("args");var Be=coerce("label","step-"+ze._index);coerce("value",Be),coerce("execute")}}Ee.exports=function slidersDefaults(Ee,ze){We(Ee,ze,{name:Qe,handleItemDefaults:sliderDefaults})}},7223:function(Ee,ze,Be){"use strict";var Ue=Be("abc0"),We=Be("a48a").countTrailingZeros;Ee.exports=function ctzNumber(Ee){var ze=We(Ue.lo(Ee));if(ze<32)return ze;var Be=We(Ue.hi(Ee));if(Be>20)return 52;return Be+32}},"722f":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3c1c"),$e=Be("371e").traceIs,Qe=Be("1c1c").handleGroupingDefaults,et=Ue.nestedProperty,tt=We.getAxisGroup,rt=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],nt=["x","y"];Ee.exports=function crossTraceDefaults(Ee,ze){var Be,at,it,ct,ft,xt,kt,Lt=ze._histogramBinOpts={},Ut=[],er={},tr=[];function coerce(Ee,ze){return Ue.coerce(Be._input,Be,Be._module.attributes,Ee,ze)}function orientation2binDir(Ee){return"v"===Ee.orientation?"x":"y"}function fillBinOpts(Ee,Be,$e){var Qe=Ee.uid+"__"+$e;Be||(Be=Qe);var et=function getAxisType(Ee,Be){return We.getFromTrace({_fullLayout:ze},Ee,Be).type}(Ee,$e),tt=Ee[$e+"calendar"]||"",rt=Lt[Be],nt=!0;rt&&(et===rt.axType&&tt===rt.calendar?(nt=!1,rt.traces.push(Ee),rt.dirs.push($e)):(Be=Qe,et!==rt.axType&&Ue.warn(["Attempted to group the bins of trace",Ee.index,"set on a","type:"+et,"axis","with bins on","type:"+rt.axType,"axis."].join(" ")),tt!==rt.calendar&&Ue.warn(["Attempted to group the bins of trace",Ee.index,"set with a",tt,"calendar","with bins",rt.calendar?"on a "+rt.calendar+" calendar":"w/o a set calendar"].join(" ")))),nt&&(Lt[Be]={traces:[Ee],dirs:[$e],axType:et,calendar:Ee[$e+"calendar"]||""}),Ee["_"+$e+"bingroup"]=Be}for(ft=0;ft<Ee.length;ft++)Be=Ee[ft],$e(Be,"histogram")&&(Ut.push(Be),delete Be._xautoBinFinished,delete Be._yautoBinFinished,$e(Be,"2dMap")||Qe(Be._input,Be,ze,coerce));var rr=ze._alignmentOpts||{};for(ft=0;ft<Ut.length;ft++){if(Be=Ut[ft],it="",!$e(Be,"2dMap")){if(ct=orientation2binDir(Be),"group"===ze.barmode&&Be.alignmentgroup){var ar=Be[ct+"axis"],Lr=tt(ze,ar)+Be.orientation;(rr[Lr]||{})[Be.alignmentgroup]&&(it=Lr)}it||"overlay"===ze.barmode||(it=tt(ze,Be.xaxis)+tt(ze,Be.yaxis)+orientation2binDir(Be))}it?(er[it]||(er[it]=[]),er[it].push(Be)):tr.push(Be)}for(it in er)if(1!==(at=er[it]).length){var Qr=!1;for(ft=0;ft<at.length;ft++){Be=at[ft],Qr=coerce("bingroup");break}for(it=Qr||it,ft=0;ft<at.length;ft++){var on=(Be=at[ft])._input.bingroup;on&&on!==it&&Ue.warn(["Trace",Be.index,"must match","within bingroup",it+".","Ignoring its bingroup:",on,"setting."].join(" ")),Be.bingroup=it,fillBinOpts(Be,it,orientation2binDir(Be))}}else tr.push(at[0]);for(ft=0;ft<tr.length;ft++){Be=tr[ft];var sn=coerce("bingroup");if($e(Be,"2dMap"))for(kt=0;kt<2;kt++){var ln=coerce((ct=nt[kt])+"bingroup",sn?sn+"__"+ct:null);fillBinOpts(Be,ln,ct)}else fillBinOpts(Be,sn,orientation2binDir(Be))}for(it in Lt){var cn=Lt[it];for(at=cn.traces,xt=0;xt<rt.length;xt++){var un,hn,dn=rt[xt],vn=dn.name;if("nbins"!==vn||!cn.sizeFound){for(ft=0;ft<at.length;ft++){if(Be=at[ft],ct=cn.dirs[ft],un=dn.aStr[ct],void 0!==et(Be._input,un).get()){cn[vn]=coerce(un),cn[vn+"Found"]=!0;break}(hn=(Be._autoBin||{})[ct]||{})[vn]&&et(Be,un).set(hn[vn])}if("start"===vn||"end"===vn)for(;ft<at.length;ft++)(Be=at[ft])["_"+ct+"bingroup"]&&coerce(un,(hn=(Be._autoBin||{})[ct]||{})[vn]);"nbins"!==vn||cn.sizeFound||cn.nbinsFound||(Be=at[0],cn[vn]=coerce(un))}}}}},"72a4":function(Ee,ze,Be){"use strict";Ee.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},"72e9":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("a708"),$e=Be("93a6").resizeText;Ee.exports=function style(Ee){var ze=Ee._fullLayout._pielayer.selectAll(".trace");$e(Ee,ze,"pie"),ze.each((function(Ee){var ze=Ee[0].trace,Be=Ue.select(this);Be.style({opacity:ze.opacity}),Be.selectAll("path.surface").each((function(Ee){Ue.select(this).call(We,Ee,ze)}))}))}},7327:function(Ee,ze,Be){"use strict";var Ue=Be("4e7e");Ee.exports=function isRat(Ee){return Array.isArray(Ee)&&2===Ee.length&&Ue(Ee[0])&&Ue(Ee[1])}},7373:function(Ee,ze,Be){"use strict";var Ue=Be("62c4"),We=Object.keys;Ee.exports=function(Ee){return We(Ue(Ee)?Object(Ee):Ee)}},7388:function(Ee,ze,Be){Ee.exports={create:Be("2638"),clone:Be("3c41"),fromValues:Be("f9f9"),copy:Be("265e"),set:Be("204d"),add:Be("c3a9"),subtract:Be("56cf"),multiply:Be("dd86"),divide:Be("73cf"),min:Be("5374"),max:Be("dd05"),scale:Be("d9c2"),scaleAndAdd:Be("0970"),distance:Be("fa11"),squaredDistance:Be("bf66"),length:Be("4e89"),squaredLength:Be("644a"),negate:Be("b1ca"),inverse:Be("95c9"),normalize:Be("5243"),dot:Be("7bb3"),lerp:Be("7ae4"),random:Be("aff3"),transformMat4:Be("6259"),transformQuat:Be("d26e")}},"738f":function(Ee,ze){Ee.exports=function scaleAndAdd(Ee,ze,Be,Ue){return Ee[0]=ze[0]+Be[0]*Ue,Ee[1]=ze[1]+Be[1]*Ue,Ee[2]=ze[2]+Be[2]*Ue,Ee}},"739b":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a651"),$e=Be("0dd7"),Qe=Be("4183");Ee.exports=function supplyLayoutDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}coerce("colorscale.sequential"),coerce("colorscale.sequentialminus"),coerce("colorscale.diverging");var Be,et,tt=ze._colorAxes;function coerceAx(Ee,ze){return Ue.coerce(Be,et,$e.coloraxis,Ee,ze)}for(var rt in tt){var nt=tt[rt];if(nt[0])Be=Ee[rt]||{},(et=We.newContainer(ze,rt,"coloraxis"))._name=rt,Qe(Be,et,ze,coerceAx,{prefix:"",cLetter:"c"});else{for(var at=0;at<nt[2].length;at++)nt[2][at]();delete ze._colorAxes[rt]}}}},"73c9":function(Ee,ze,Be){"use strict";ze.xmlns="http://www.w3.org/2000/xmlns/",ze.svg="http://www.w3.org/2000/svg",ze.xlink="http://www.w3.org/1999/xlink",ze.svgAttrs={xmlns:ze.svg,"xmlns:xlink":ze.xlink}},"73cf":function(Ee,ze){Ee.exports=function divide(Ee,ze,Be){return Ee[0]=ze[0]/Be[0],Ee[1]=ze[1]/Be[1],Ee[2]=ze[2]/Be[2],Ee[3]=ze[3]/Be[3],Ee}},7418:function(Ee,ze){ze.f=Object.getOwnPropertySymbols},"743b":function(Ee,ze,Be){"use strict";var Ue=Be("66cb").mix,We=Be("dfb3").lightFraction,$e=Be("fc26");Ee.exports=function handleLineGridDefaults(Ee,ze,Be,Qe){var et=(Qe=Qe||{}).dfltColor;function coerce2(Be,Ue){return $e.coerce2(Ee,ze,Qe.attributes,Be,Ue)}var tt=coerce2("linecolor",et),rt=coerce2("linewidth");Be("showline",Qe.showLine||!!tt||!!rt)||(delete ze.linecolor,delete ze.linewidth);var nt=coerce2("gridcolor",Ue(et,Qe.bgColor,Qe.blend||We).toRgbString()),at=coerce2("gridwidth");if(Be("showgrid",Qe.showGrid||!!nt||!!at)||(delete ze.gridcolor,delete ze.gridwidth),!Qe.noZeroLine){var it=coerce2("zerolinecolor",et),ct=coerce2("zerolinewidth");Be("zeroline",Qe.showGrid||!!it||!!ct)||(delete ze.zerolinecolor,delete ze.zerolinewidth)}}},"746f":function(Ee,ze,Be){var Ue=Be("428f"),We=Be("5135"),$e=Be("e538"),Qe=Be("9bf2").f;Ee.exports=function(Ee){var ze=Ue.Symbol||(Ue.Symbol={});We(ze,Ee)||Qe(ze,Ee,{value:$e.f(Ee)})}},"74b4":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("94d5").texttemplateAttrs,$e=Be("56f3"),Qe=Be("107c"),et=Be("f7e9"),tt=Be("a876"),rt=Be("f4e9"),nt=Be("9092").extendFlat,at=Be("cb34").overrideAll,it=$e.line,ct=$e.marker;Ee.exports=at({lon:$e.lon,lat:$e.lat,mode:nt({},Qe.mode,{dflt:"markers"}),text:nt({},Qe.text,{}),texttemplate:We({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:nt({},Qe.hovertext,{}),line:{color:it.color,width:it.width},connectgaps:Qe.connectgaps,marker:nt({symbol:{valType:"string",dflt:"circle",arrayOk:!0},opacity:ct.opacity,size:ct.size,sizeref:ct.sizeref,sizemin:ct.sizemin,sizemode:ct.sizemode},rt("marker")),fill:$e.fill,fillcolor:Qe.fillcolor,textfont:et.layers.symbol.textfont,textposition:et.layers.symbol.textposition,below:{valType:"string"},selected:{marker:Qe.selected.marker},unselected:{marker:Qe.unselected.marker},hoverinfo:nt({},tt.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:Ue()},"calc","nested")},"74d6":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("6af8").isArrayOrTypedArray;function npGet(Ee,ze){return function(){var Be,Ue,$e,Qe,et,tt=Ee;for(Qe=0;Qe<ze.length-1;Qe++){if(-1===(Be=ze[Qe])){for(Ue=!0,$e=[],et=0;et<tt.length;et++)$e[et]=npGet(tt[et],ze.slice(Qe+1))(),$e[et]!==$e[0]&&(Ue=!1);return Ue?$e[0]:$e}if("number"==typeof Be&&!We(tt))return;if("object"!=typeof(tt=tt[Be])||null===tt)return}if("object"==typeof tt&&null!==tt&&null!==($e=tt[ze[Qe]]))return $e}}Ee.exports=function nestedProperty(Ee,ze){if(Ue(ze))ze=String(ze);else if("string"!=typeof ze||"[-1]"===ze.substr(ze.length-4))throw"bad property string";for(var Be,We,$e,Qe=0,et=ze.split(".");Qe<et.length;){if(Be=String(et[Qe]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(Be[1])et[Qe]=Be[1];else{if(0!==Qe)throw"bad property string";et.splice(0,1)}for(We=Be[2].substr(1,Be[2].length-2).split("]["),$e=0;$e<We.length;$e++)Qe++,et.splice(Qe,0,Number(We[$e]))}Qe++}return"object"!=typeof Ee?function badContainer(Ee,ze,Be){return{set:function(){throw"bad container"},get:function(){},astr:ze,parts:Be,obj:Ee}}(Ee,ze,et):{set:npSet(Ee,et,ze),get:npGet(Ee,et),astr:ze,parts:et,obj:Ee}};var $e=/(^|\.)args\[/;function isDeletable(Ee,ze){return void 0===Ee||null===Ee&&!ze.match($e)}function npSet(Ee,ze,Be){return function(Ue){var $e,Qe,et=Ee,tt="",rt=[[Ee,tt]],nt=isDeletable(Ue,Be);for(Qe=0;Qe<ze.length-1;Qe++){if("number"==typeof($e=ze[Qe])&&!We(et))throw"array index but container is not an array";if(-1===$e){if(nt=!setArrayAll(et,ze.slice(Qe+1),Ue,Be))break;return}if(!checkNewContainer(et,$e,ze[Qe+1],nt))break;if("object"!=typeof(et=et[$e])||null===et)throw"container is not an object";tt=joinPropStr(tt,$e),rt.push([et,tt])}if(nt){if(Qe===ze.length-1&&(delete et[ze[Qe]],Array.isArray(et)&&+ze[Qe]==et.length-1))for(;et.length&&void 0===et[et.length-1];)et.pop()}else et[ze[Qe]]=Ue}}function joinPropStr(Ee,ze){var Be=ze;return Ue(ze)?Be="["+ze+"]":Ee&&(Be="."+ze),Ee+Be}function setArrayAll(Ee,ze,Be,Ue){var $e,Qe=We(Be),et=!0,tt=Be,rt=Ue.replace("-1",0),nt=!Qe&&isDeletable(Be,rt),at=ze[0];for($e=0;$e<Ee.length;$e++)rt=Ue.replace("-1",$e),Qe&&(nt=isDeletable(tt=Be[$e%Be.length],rt)),nt&&(et=!1),checkNewContainer(Ee,$e,at,nt)&&npSet(Ee[$e],ze,Ue.replace("-1",$e))(tt);return et}function checkNewContainer(Ee,ze,Be,Ue){if(void 0===Ee[ze]){if(Ue)return!1;Ee[ze]="number"==typeof Be?[]:{}}return!0}},7559:function(Ee,ze,Be){"use strict";Ee.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #119dff;} .cls-2 {fill: #25fefd;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},7594:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("fc26"),Qe=Be("93a6").resizeText;function styleOne(Ee,ze,Be){var Ue=ze.data.data,Qe=!ze.children,et=Ue.i,tt=$e.castOption(Be,et,"marker.line.color")||We.defaultLine,rt=$e.castOption(Be,et,"marker.line.width")||0;Ee.style("stroke-width",rt).call(We.fill,Ue.color).call(We.stroke,tt).style("opacity",Qe?Be.leaf.opacity:null)}Ee.exports={style:function style(Ee){var ze=Ee._fullLayout._sunburstlayer.selectAll(".trace");Qe(Ee,ze,"sunburst"),ze.each((function(Ee){var ze=Ue.select(this),Be=Ee[0].trace;ze.style("opacity",Be.opacity),ze.selectAll("path.surface").each((function(Ee){Ue.select(this).call(styleOne,Ee,Be)}))}))},styleOne:styleOne}},"75ac":function(Ee,ze,Be){"use strict";Ee.exports=Be("8761")},"765f":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("66cb"),$e=Be("0103"),Qe=Be("c258"),et=Be("dfb3").defaultLine,tt=Be("6af8").isArrayOrTypedArray,rt=$e(et);function calculateColor(Ee,ze){var Be=Ee;return Be[3]*=ze,Be}function validateColor(Ee){if(Ue(Ee))return rt;var ze=$e(Ee);return ze.length?ze:rt}function validateOpacity(Ee){return Ue(Ee)?Ee:1}Ee.exports={formatColor:function formatColor(Ee,ze,Be){var Ue,We,et,nt,at,it=Ee.color,ct=tt(it),ft=tt(ze),xt=Qe.extractOpts(Ee),kt=[];if(Ue=void 0!==xt.colorscale?Qe.makeColorScaleFuncFromTrace(Ee):validateColor,We=ct?function(Ee,ze){return void 0===Ee[ze]?rt:$e(Ue(Ee[ze]))}:validateColor,et=ft?function(Ee,ze){return void 0===Ee[ze]?1:validateOpacity(Ee[ze])}:validateOpacity,ct||ft)for(var Lt=0;Lt<Be;Lt++)nt=We(it,Lt),at=et(ze,Lt),kt[Lt]=calculateColor(nt,at);else kt=calculateColor($e(it),ze);return kt},parseColorScale:function parseColorScale(Ee,ze){void 0===ze&&(ze=1);var Be=Qe.extractOpts(Ee);return(Be.reversescale?Qe.flipScale(Be.colorscale):Be.colorscale).map((function(Ee){var Be=Ee[0],Ue=We(Ee[1]).toRgb();return{index:Be,rgb:[Ue.r,Ue.g,Ue.b,ze]}}))}}},7678:function(Ee,ze,Be){"use strict";Ee.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},"76b2":function(Ee,ze,Be){"use strict";Ee.exports=function(){"undefined"!=typeof MathJax&&("local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()))}},"76fe":function(Ee,ze,Be){"use strict";var Ue=Be("f977"),We=Be("fc26"),$e=["xaxis","yaxis","zaxis"];function AxesOptions(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}AxesOptions.prototype.merge=function(Ee,ze){for(var Be=0;Be<3;++Be){var Qe=ze[$e[Be]];Qe.visible?(this.labels[Be]=Ee._meta?We.templateString(Qe.title.text,Ee._meta):Qe.title.text,"font"in Qe.title&&(Qe.title.font.color&&(this.labelColor[Be]=Ue(Qe.title.font.color)),Qe.title.font.family&&(this.labelFont[Be]=Qe.title.font.family),Qe.title.font.size&&(this.labelSize[Be]=Qe.title.font.size)),"showline"in Qe&&(this.lineEnable[Be]=Qe.showline),"linecolor"in Qe&&(this.lineColor[Be]=Ue(Qe.linecolor)),"linewidth"in Qe&&(this.lineWidth[Be]=Qe.linewidth),"showgrid"in Qe&&(this.gridEnable[Be]=Qe.showgrid),"gridcolor"in Qe&&(this.gridColor[Be]=Ue(Qe.gridcolor)),"gridwidth"in Qe&&(this.gridWidth[Be]=Qe.gridwidth),"log"===Qe.type?this.zeroEnable[Be]=!1:"zeroline"in Qe&&(this.zeroEnable[Be]=Qe.zeroline),"zerolinecolor"in Qe&&(this.zeroLineColor[Be]=Ue(Qe.zerolinecolor)),"zerolinewidth"in Qe&&(this.zeroLineWidth[Be]=Qe.zerolinewidth),"ticks"in Qe&&Qe.ticks?this.lineTickEnable[Be]=!0:this.lineTickEnable[Be]=!1,"ticklen"in Qe&&(this.lineTickLength[Be]=this._defaultLineTickLength[Be]=Qe.ticklen),"tickcolor"in Qe&&(this.lineTickColor[Be]=Ue(Qe.tickcolor)),"tickwidth"in Qe&&(this.lineTickWidth[Be]=Qe.tickwidth),"tickangle"in Qe&&(this.tickAngle[Be]="auto"===Qe.tickangle?-3600:Math.PI*-Qe.tickangle/180),"showticklabels"in Qe&&(this.tickEnable[Be]=Qe.showticklabels),"tickfont"in Qe&&(Qe.tickfont.color&&(this.tickColor[Be]=Ue(Qe.tickfont.color)),Qe.tickfont.family&&(this.tickFont[Be]=Qe.tickfont.family),Qe.tickfont.size&&(this.tickSize[Be]=Qe.tickfont.size)),"mirror"in Qe?-1!==["ticks","all","allticks"].indexOf(Qe.mirror)?(this.lineTickMirror[Be]=!0,this.lineMirror[Be]=!0):!0===Qe.mirror?(this.lineTickMirror[Be]=!1,this.lineMirror[Be]=!0):(this.lineTickMirror[Be]=!1,this.lineMirror[Be]=!1):this.lineMirror[Be]=!1,"showbackground"in Qe&&!1!==Qe.showbackground?(this.backgroundEnable[Be]=!0,this.backgroundColor[Be]=Ue(Qe.backgroundcolor)):this.backgroundEnable[Be]=!1):(this.tickEnable[Be]=!1,this.labelEnable[Be]=!1,this.lineEnable[Be]=!1,this.lineTickEnable[Be]=!1,this.gridEnable[Be]=!1,this.zeroEnable[Be]=!1,this.backgroundEnable[Be]=!1)}},Ee.exports=function createAxesOptions(Ee,ze){var Be=new AxesOptions;return Be.merge(Ee,ze),Be}},7797:function(Ee,ze,Be){"use strict";function UnionFind(Ee){this.roots=new Array(Ee),this.ranks=new Array(Ee);for(var ze=0;ze<Ee;++ze)this.roots[ze]=ze,this.ranks[ze]=0}Ee.exports=UnionFind,UnionFind.prototype.length=function(){return this.roots.length},UnionFind.prototype.makeSet=function(){var Ee=this.roots.length;return this.roots.push(Ee),this.ranks.push(0),Ee},UnionFind.prototype.find=function(Ee){for(var ze=this.roots;ze[Ee]!==Ee;){var Be=ze[Ee];ze[Ee]=ze[Be],Ee=Be}return Ee},UnionFind.prototype.link=function(Ee,ze){var Be=this.find(Ee),Ue=this.find(ze);if(Be!==Ue){var We=this.ranks,$e=this.roots,Qe=We[Be],et=We[Ue];Qe<et?$e[Be]=Ue:et<Qe?$e[Ue]=Be:($e[Ue]=Be,++We[Be])}}},"77ae":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("0435"),supplyDefaults:Be("87e2"),calc:Be("0625"),plot:Be("fa8a"),colorbar:Be("fcb3"),style:Be("c437"),hoverPoints:Be("d6fb"),moduleType:"trace",name:"heatmap",basePlotModule:Be("91cd"),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},"77bc":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("82d7"),supplyDefaults:Be("e2f3"),calc:Be("5f0d"),plot:Be("c9ce"),moduleType:"trace",name:"sankey",basePlotModule:Be("865d"),selectPoints:Be("2aa9"),categories:["noOpacity"],meta:{}}},7815:function(Ee,ze,Be){"use strict";var Ue=Be("9092").extendFlat;ze.splitToPanels=function(Ee){var ze=[0,0],Be=Ue({},Ee,{key:"header",type:"header",page:0,prevPages:ze,currentRepaint:[null,null],dragHandle:!0,values:Ee.calcdata.headerCells.values[Ee.specIndex],rowBlocks:Ee.calcdata.headerRowBlocks,calcdata:Ue({},Ee.calcdata,{cells:Ee.calcdata.headerCells})});return[Ue({},Ee,{key:"cells1",type:"cells",page:0,prevPages:ze,currentRepaint:[null,null],dragHandle:!1,values:Ee.calcdata.cells.values[Ee.specIndex],rowBlocks:Ee.calcdata.rowBlocks}),Ue({},Ee,{key:"cells2",type:"cells",page:1,prevPages:ze,currentRepaint:[null,null],dragHandle:!1,values:Ee.calcdata.cells.values[Ee.specIndex],rowBlocks:Ee.calcdata.rowBlocks}),Be]},ze.splitToCells=function(Ee){var ze=function rowFromTo(Ee){var ze=Ee.rowBlocks[Ee.page],Be=ze?ze.rows[0].rowIndex:0,Ue=ze?Be+ze.rows.length:0;return[Be,Ue]}(Ee);return(Ee.values||[]).slice(ze[0],ze[1]).map((function(Be,Ue){return{keyWithinBlock:Ue+("string"==typeof Be&&Be.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:ze[0]+Ue,column:Ee,calcdata:Ee.calcdata,page:Ee.page,rowBlocks:Ee.rowBlocks,value:Be}}))}},7831:function(Ee,ze){Ee.exports=function(Ee){switch(Ee){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},7839:function(Ee,ze){Ee.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7899:function(Ee,ze,Be){"use strict";Ee.exports=function affineHull(Ee){var ze=Ee.length;if(0===ze)return[];if(1===ze)return[0];for(var Be=Ee[0].length,Ue=[Ee[0]],We=[0],$e=1;$e<ze;++$e)if(Ue.push(Ee[$e]),linearlyIndependent(Ue,Be)){if(We.push($e),We.length===Be+1)return We}else Ue.pop();return We};var Ue=Be("92ba");function linearlyIndependent(Ee,ze){for(var Be=new Array(ze+1),We=0;We<Ee.length;++We)Be[We]=Ee[We];for(We=0;We<=Ee.length;++We){for(var $e=Ee.length;$e<=ze;++$e){for(var Qe=new Array(ze),et=0;et<ze;++et)Qe[et]=Math.pow($e+1-We,et);Be[$e]=Qe}if(Ue.apply(void 0,Be))return!0}return!1}},"78d8":function(Ee,ze,Be){"use strict";Ee.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},"78df":function(Ee,ze,Be){"use strict";Ee.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Time-Formatting.md#format"}},"78ee":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=We.rad2deg,Qe=Be("63dc").MID_SHIFT,et=Be("83d1"),tt=Be("49b4"),rt=Be("0379"),nt=Be("0642"),at=Be("7118"),it=Be("f3a2"),ct=Be("d798"),ft=Be("d115"),xt={left:"start",center:"middle",right:"end"},kt={left:0,center:.5,right:1},Lt=/[yzafpnµmkMGTPEZY]/;function hasTransition(Ee){return Ee&&Ee.duration>0}function styleShape(Ee){Ee.each((function(Ee){ft.stroke(Ue.select(this),Ee.line.color)})).each((function(Ee){ft.fill(Ue.select(this),Ee.color)})).style("stroke-width",(function(Ee){return Ee.line.width}))}function mockAxis(Ee,ze,Be){var Ue=Ee._fullLayout,$e=We.extendFlat({type:"linear",ticks:"outside",range:Be,showline:!0},ze),Qe={type:"linear",_id:"x"+ze._id},et={letter:"x",font:Ue.font,noHover:!0,noTickson:!0};function coerce(Ee,ze){return We.coerce($e,Qe,ct,Ee,ze)}return at($e,Qe,coerce,et,Ue),it($e,Qe,coerce,et),Qe}function strTranslate(Ee,ze){return"translate("+Ee+","+ze+")"}function fitTextInsideBox(Ee,ze,Be){return[Math.min(ze/Ee.width,Be/Ee.height),Ee,ze+"x"+Be]}function measureText(Ee,ze,Be,We){var $e=document.createElementNS("http://www.w3.org/2000/svg","text"),Qe=Ue.select($e);return Qe.text(Ee).attr("x",0).attr("y",0).attr("text-anchor",Be).attr("data-unformatted",Ee).call(rt.convertToTspans,We).call(et.font,ze),et.bBox(Qe.node())}function cache(Ee,ze,Be,Ue,$e,Qe){var et="_cache"+ze;Ee[et]&&Ee[et].key===$e||(Ee[et]={key:$e,value:Be});var tt=We.aggNums(Qe,null,[Ee[et].value,Ue],2);return Ee[et].value=tt,tt}Ee.exports=function plot(Ee,ze,Be,at){var it,ct=Ee._fullLayout;hasTransition(Be)&&at&&(it=at()),We.makeTraceGroups(ct._indicatorlayer,ze,"trace").each((function(ze){var at,Ut,er,tr,rr,ar=ze[0].trace,Lr=Ue.select(this),Qr=ar._hasGauge,on=ar._isAngular,sn=ar._isBullet,ln=ar.domain,cn={w:ct._size.w*(ln.x[1]-ln.x[0]),h:ct._size.h*(ln.y[1]-ln.y[0]),l:ct._size.l+ct._size.w*ln.x[0],r:ct._size.r+ct._size.w*(1-ln.x[1]),t:ct._size.t+ct._size.h*(1-ln.y[1]),b:ct._size.b+ct._size.h*ln.y[0]},un=cn.l+cn.w/2,hn=cn.t+cn.h/2,dn=Math.min(cn.w/2,cn.h),vn=tt.innerRadius*dn,yn=ar.align||"center";if(Ut=hn,Qr){if(on&&(at=un,Ut=hn+dn/2,er=function(Ee){return function fitTextInsideCircle(Ee,ze){var Be=Math.sqrt(Ee.width/2*(Ee.width/2)+Ee.height*Ee.height);return[ze/Be,Ee,ze]}(Ee,.9*vn)}),sn){var _n=tt.bulletPadding,Mn=1-tt.bulletNumberDomainSize+_n;at=cn.l+(Mn+(1-Mn)*kt[yn])*cn.w,er=function(Ee){return fitTextInsideBox(Ee,(tt.bulletNumberDomainSize-_n)*cn.w,cn.h)}}}else at=cn.l+kt[yn]*cn.w,er=function(Ee){return fitTextInsideBox(Ee,cn.w,cn.h)};!function drawNumbers(Ee,ze,Be,$e){var Qe,tt,at,it=Be[0].trace,ct=$e.numbersX,Ut=$e.numbersY,er=it.align||"center",tr=xt[er],rr=$e.transitionOpts,ar=$e.onComplete,Lr=We.ensureSingle(ze,"g","numbers"),Qr=[];it._hasNumber&&Qr.push("number");it._hasDelta&&(Qr.push("delta"),"left"===it.delta.position&&Qr.reverse());var on=Lr.selectAll("text").data(Qr);function transitionFormat(ze,Be,Ue,We){if(!ze.match("s")||Ue>=0==We>=0||Be(Ue).slice(-1).match(Lt)||Be(We).slice(-1).match(Lt))return Be;var $e=ze.slice().replace("s","f").replace(/\d+/,(function(Ee){return parseInt(Ee)-1})),Qe=mockAxis(Ee,{tickformat:$e});return function(Ee){return Math.abs(Ee)<1?nt.tickText(Qe,Ee).text:Be(Ee)}}on.enter().append("text"),on.attr("text-anchor",(function(){return tr})).attr("class",(function(Ee){return Ee})).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),on.exit().remove();var sn,ln=it.mode+it.align;it._hasDelta&&(sn=function drawDelta(){var ze=mockAxis(Ee,{tickformat:it.delta.valueformat},it._range);ze.setScale(),nt.prepTicks(ze);var deltaFmt=function(Ee){return nt.tickText(ze,Ee).text},deltaValue=function(Ee){return it.delta.relative?Ee.relativeDelta:Ee.delta},deltaFormatText=function(Ee,ze){return 0===Ee||"number"!=typeof Ee||isNaN(Ee)?"-":(Ee>0?it.delta.increasing.symbol:it.delta.decreasing.symbol)+ze(Ee)},deltaFill=function(Ee){return Ee.delta>=0?it.delta.increasing.color:it.delta.decreasing.color};void 0===it._deltaLastValue&&(it._deltaLastValue=deltaValue(Be[0]));var We=Lr.select("text.delta");function writeDelta(){We.text(deltaFormatText(deltaValue(Be[0]),deltaFmt)).call(ft.fill,deltaFill(Be[0])).call(rt.convertToTspans,Ee)}return We.call(et.font,it.delta.font).call(ft.fill,deltaFill({delta:it._deltaLastValue})),hasTransition(rr)?We.transition().duration(rr.duration).ease(rr.easing).tween("text",(function(){var Ee=Ue.select(this),ze=deltaValue(Be[0]),We=it._deltaLastValue,$e=transitionFormat(it.delta.valueformat,deltaFmt,We,ze),Qe=Ue.interpolateNumber(We,ze);return it._deltaLastValue=ze,function(ze){Ee.text(deltaFormatText(Qe(ze),$e)),Ee.call(ft.fill,deltaFill({delta:Qe(ze)}))}})).each("end",(function(){writeDelta(),ar&&ar()})).each("interrupt",(function(){writeDelta(),ar&&ar()})):writeDelta(),tt=measureText(deltaFormatText(deltaValue(Be[0]),deltaFmt),it.delta.font,tr,Ee),We}(),ln+=it.delta.position+it.delta.font.size+it.delta.font.family+it.delta.valueformat,ln+=it.delta.increasing.symbol+it.delta.decreasing.symbol,at=tt);it._hasNumber&&(!function drawBignumber(){var ze=mockAxis(Ee,{tickformat:it.number.valueformat},it._range);ze.setScale(),nt.prepTicks(ze);var fmt=function(Ee){return nt.tickText(ze,Ee).text},We=it.number.suffix,$e=it.number.prefix,tt=Lr.select("text.number");function writeNumber(){var ze="number"==typeof Be[0].y?$e+fmt(Be[0].y)+We:"-";tt.text(ze).call(et.font,it.number.font).call(rt.convertToTspans,Ee)}return hasTransition(rr)?tt.transition().duration(rr.duration).ease(rr.easing).each("end",(function(){writeNumber(),ar&&ar()})).each("interrupt",(function(){writeNumber(),ar&&ar()})).attrTween("text",(function(){var Ee=Ue.select(this),ze=Ue.interpolateNumber(Be[0].lastY,Be[0].y);it._lastValue=Be[0].y;var Qe=transitionFormat(it.number.valueformat,fmt,Be[0].lastY,Be[0].y);return function(Be){Ee.text($e+Qe(ze(Be))+We)}})):writeNumber(),Qe=measureText($e+fmt(Be[0].y)+We,it.number.font,tr,Ee),tt}(),ln+=it.number.font.size+it.number.font.family+it.number.valueformat+it.number.suffix+it.number.prefix,at=Qe);if(it._hasDelta&&it._hasNumber){var cn,un,hn=[(Qe.left+Qe.right)/2,(Qe.top+Qe.bottom)/2],dn=[(tt.left+tt.right)/2,(tt.top+tt.bottom)/2],vn=.75*it.delta.font.size;"left"===it.delta.position&&(cn=cache(it,"deltaPos",0,-1*(Qe.width*kt[it.align]+tt.width*(1-kt[it.align])+vn),ln,Math.min),un=hn[1]-dn[1],at={width:Qe.width+tt.width+vn,height:Math.max(Qe.height,tt.height),left:tt.left+cn,right:Qe.right,top:Math.min(Qe.top,tt.top+un),bottom:Math.max(Qe.bottom,tt.bottom+un)}),"right"===it.delta.position&&(cn=cache(it,"deltaPos",0,Qe.width*(1-kt[it.align])+tt.width*kt[it.align]+vn,ln,Math.max),un=hn[1]-dn[1],at={width:Qe.width+tt.width+vn,height:Math.max(Qe.height,tt.height),left:Qe.left,right:tt.right+cn,top:Math.min(Qe.top,tt.top+un),bottom:Math.max(Qe.bottom,tt.bottom+un)}),"bottom"===it.delta.position&&(cn=null,un=tt.height,at={width:Math.max(Qe.width,tt.width),height:Qe.height+tt.height,left:Math.min(Qe.left,tt.left),right:Math.max(Qe.right,tt.right),top:Qe.bottom-Qe.height,bottom:Qe.bottom+tt.height}),"top"===it.delta.position&&(cn=null,un=Qe.top,at={width:Math.max(Qe.width,tt.width),height:Qe.height+tt.height,left:Math.min(Qe.left,tt.left),right:Math.max(Qe.right,tt.right),top:Qe.bottom-Qe.height-tt.height,bottom:Qe.bottom}),sn.attr({dx:cn,dy:un})}(it._hasNumber||it._hasDelta)&&Lr.attr("transform",(function(){var Ee=$e.numbersScaler(at);ln+=Ee[2];var ze,Be=cache(it,"numbersScale",1,Ee[0],ln,Math.min);it._scaleNumbers||(Be=1),ze=it._isAngular?Ut-Be*at.bottom:Ut-Be*(at.top+at.bottom)/2,it._numbersTop=Be*at.top+ze;var Ue=at[er];"center"===er&&(Ue=(at.left+at.right)/2);var We=ct-Be*Ue;return strTranslate(We=cache(it,"numbersTranslate",0,We,ln,Math.max),ze)+" scale("+Be+")"}))}(Ee,Lr,ze,{numbersX:at,numbersY:Ut,numbersScaler:er,transitionOpts:Be,onComplete:it}),Qr&&(tr={range:ar.gauge.axis.range,color:ar.gauge.bgcolor,line:{color:ar.gauge.bordercolor,width:0},thickness:1},rr={range:ar.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ar.gauge.bordercolor,width:ar.gauge.borderwidth},thickness:1});var Cn=Lr.selectAll("g.angular").data(on?ze:[]);Cn.exit().remove();var En=Lr.selectAll("g.angularaxis").data(on?ze:[]);En.exit().remove(),on&&function drawAngularGauge(Ee,ze,Be,We){var et,tt,rt,at,it=Be[0].trace,ct=We.size,ft=We.radius,xt=We.innerRadius,kt=We.gaugeBg,Lt=We.gaugeOutline,Ut=[ct.l+ct.w/2,ct.t+ct.h/2+ft/2],er=We.gauge,tr=We.layer,rr=We.transitionOpts,ar=We.onComplete,Lr=Math.PI/2;function valueToAngle(Ee){var ze=it.gauge.axis.range[0],Be=(Ee-ze)/(it.gauge.axis.range[1]-ze)*Math.PI-Lr;return Be<-Lr?-Lr:Be>Lr?Lr:Be}function arcPathGenerator(Ee){return Ue.svg.arc().innerRadius((xt+ft)/2-Ee/2*(ft-xt)).outerRadius((xt+ft)/2+Ee/2*(ft-xt)).startAngle(-Lr)}function drawArc(Ee){Ee.attr("d",(function(Ee){return arcPathGenerator(Ee.thickness).startAngle(valueToAngle(Ee.range[0])).endAngle(valueToAngle(Ee.range[1]))()}))}er.enter().append("g").classed("angular",!0),er.attr("transform",strTranslate(Ut[0],Ut[1])),tr.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),tr.selectAll("g.xangularaxistick,path,text").remove(),(et=mockAxis(Ee,it.gauge.axis)).type="linear",et.range=it.gauge.axis.range,et._id="xangularaxis",et.setScale();var t2g=function(Ee){return(et.range[0]-Ee.x)/(et.range[1]-et.range[0])*Math.PI+Math.PI},Qr={},on=nt.makeLabelFns(et,0).labelStandoff;Qr.xFn=function(Ee){var ze=t2g(Ee);return Math.cos(ze)*on},Qr.yFn=function(Ee){var ze=t2g(Ee),Be=Math.sin(ze)>0?.2:1;return-Math.sin(ze)*(on+Ee.fontSize*Be)+Math.abs(Math.cos(ze))*(Ee.fontSize*Qe)},Qr.anchorFn=function(Ee){var ze=t2g(Ee),Be=Math.cos(ze);return Math.abs(Be)<.1?"middle":Be>0?"start":"end"},Qr.heightFn=function(Ee,ze,Be){var Ue=t2g(Ee);return-.5*(1+Math.sin(Ue))*Be};var _transFn=function(Ee){return strTranslate(Ut[0]+ft*Math.cos(Ee),Ut[1]-ft*Math.sin(Ee))};rt=function(Ee){return _transFn(t2g(Ee))};if(tt=nt.calcTicks(et),at=nt.getTickSigns(et)[2],et.visible){at="inside"===et.ticks?-1:1;var sn=(et.linewidth||1)/2;nt.drawTicks(Ee,et,{vals:tt,layer:tr,path:"M"+at*sn+",0h"+at*et.ticklen,transFn:function(Ee){var ze=t2g(Ee);return _transFn(ze)+"rotate("+-$e(ze)+")"}}),nt.drawLabels(Ee,et,{vals:tt,layer:tr,transFn:rt,labelFns:Qr})}var ln=[kt].concat(it.gauge.steps),cn=er.selectAll("g.bg-arc").data(ln);cn.enter().append("g").classed("bg-arc",!0).append("path"),cn.select("path").call(drawArc).call(styleShape),cn.exit().remove();var un=arcPathGenerator(it.gauge.bar.thickness),hn=er.selectAll("g.value-arc").data([it.gauge.bar]);hn.enter().append("g").classed("value-arc",!0).append("path");var dn=hn.select("path");hasTransition(rr)?(dn.transition().duration(rr.duration).ease(rr.easing).each("end",(function(){ar&&ar()})).each("interrupt",(function(){ar&&ar()})).attrTween("d",function arcTween(Ee,ze,Be){return function(){var We=Ue.interpolate(ze,Be);return function(ze){return Ee.endAngle(We(ze))()}}}(un,valueToAngle(Be[0].lastY),valueToAngle(Be[0].y))),it._lastValue=Be[0].y):dn.attr("d","number"==typeof Be[0].y?un.endAngle(valueToAngle(Be[0].y)):"M0,0Z");dn.call(styleShape),hn.exit().remove(),ln=[];var vn=it.gauge.threshold.value;vn&&ln.push({range:[vn,vn],color:it.gauge.threshold.color,line:{color:it.gauge.threshold.line.color,width:it.gauge.threshold.line.width},thickness:it.gauge.threshold.thickness});var yn=er.selectAll("g.threshold-arc").data(ln);yn.enter().append("g").classed("threshold-arc",!0).append("path"),yn.select("path").call(drawArc).call(styleShape),yn.exit().remove();var _n=er.selectAll("g.gauge-outline").data([Lt]);_n.enter().append("g").classed("gauge-outline",!0).append("path"),_n.select("path").call(drawArc).call(styleShape),_n.exit().remove()}(Ee,0,ze,{radius:dn,innerRadius:vn,gauge:Cn,layer:En,size:cn,gaugeBg:tr,gaugeOutline:rr,transitionOpts:Be,onComplete:it});var Pn=Lr.selectAll("g.bullet").data(sn?ze:[]);Pn.exit().remove();var In=Lr.selectAll("g.bulletaxis").data(sn?ze:[]);In.exit().remove(),sn&&function drawBulletGauge(Ee,ze,Be,Ue){var We,$e,Qe,et,rt,at=Be[0].trace,it=Ue.gauge,ct=Ue.layer,xt=Ue.gaugeBg,kt=Ue.gaugeOutline,Lt=Ue.size,Ut=at.domain,er=Ue.transitionOpts,tr=Ue.onComplete;it.enter().append("g").classed("bullet",!0),it.attr("transform","translate("+Lt.l+", "+Lt.t+")"),ct.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),ct.selectAll("g.xbulletaxistick,path,text").remove();var rr=Lt.h,ar=at.gauge.bar.thickness*rr,Lr=Ut.x[0],Qr=Ut.x[0]+(Ut.x[1]-Ut.x[0])*(at._hasNumber||at._hasDelta?1-tt.bulletNumberDomainSize:1);(We=mockAxis(Ee,at.gauge.axis))._id="xbulletaxis",We.domain=[Lr,Qr],We.setScale(),$e=nt.calcTicks(We),Qe=nt.makeTransFn(We),et=nt.getTickSigns(We)[2],rt=Lt.t+Lt.h,We.visible&&(nt.drawTicks(Ee,We,{vals:"inside"===We.ticks?nt.clipEnds(We,$e):$e,layer:ct,path:nt.makeTickPath(We,rt,et),transFn:Qe}),nt.drawLabels(Ee,We,{vals:$e,layer:ct,transFn:Qe,labelFns:nt.makeLabelFns(We,rt)}));function drawRect(Ee){Ee.attr("width",(function(Ee){return Math.max(0,We.c2p(Ee.range[1])-We.c2p(Ee.range[0]))})).attr("x",(function(Ee){return We.c2p(Ee.range[0])})).attr("y",(function(Ee){return.5*(1-Ee.thickness)*rr})).attr("height",(function(Ee){return Ee.thickness*rr}))}var on=[xt].concat(at.gauge.steps),sn=it.selectAll("g.bg-bullet").data(on);sn.enter().append("g").classed("bg-bullet",!0).append("rect"),sn.select("rect").call(drawRect).call(styleShape),sn.exit().remove();var ln=it.selectAll("g.value-bullet").data([at.gauge.bar]);ln.enter().append("g").classed("value-bullet",!0).append("rect"),ln.select("rect").attr("height",ar).attr("y",(rr-ar)/2).call(styleShape),hasTransition(er)?ln.select("rect").transition().duration(er.duration).ease(er.easing).each("end",(function(){tr&&tr()})).each("interrupt",(function(){tr&&tr()})).attr("width",Math.max(0,We.c2p(Math.min(at.gauge.axis.range[1],Be[0].y)))):ln.select("rect").attr("width","number"==typeof Be[0].y?Math.max(0,We.c2p(Math.min(at.gauge.axis.range[1],Be[0].y))):0);ln.exit().remove();var cn=Be.filter((function(){return at.gauge.threshold.value})),un=it.selectAll("g.threshold-bullet").data(cn);un.enter().append("g").classed("threshold-bullet",!0).append("line"),un.select("line").attr("x1",We.c2p(at.gauge.threshold.value)).attr("x2",We.c2p(at.gauge.threshold.value)).attr("y1",(1-at.gauge.threshold.thickness)/2*rr).attr("y2",(1-(1-at.gauge.threshold.thickness)/2)*rr).call(ft.stroke,at.gauge.threshold.line.color).style("stroke-width",at.gauge.threshold.line.width),un.exit().remove();var hn=it.selectAll("g.gauge-outline").data([kt]);hn.enter().append("g").classed("gauge-outline",!0).append("rect"),hn.select("rect").call(drawRect).call(styleShape),hn.exit().remove()}(Ee,0,ze,{gauge:Pn,layer:In,size:cn,gaugeBg:tr,gaugeOutline:rr,transitionOpts:Be,onComplete:it});var Bn=Lr.selectAll("text.title").data(ze);Bn.exit().remove(),Bn.enter().append("text").classed("title",!0),Bn.attr("text-anchor",(function(){return sn?xt.right:xt[ar.title.align]})).text(ar.title.text).call(et.font,ar.title.font).call(rt.convertToTspans,Ee),Bn.attr("transform",(function(){var Ee,ze=cn.l+cn.w*kt[ar.title.align],Be=tt.titlePadding,Ue=et.bBox(Bn.node());if(Qr){if(on)if(ar.gauge.axis.visible)Ee=et.bBox(En.node()).top-Be-Ue.bottom;else Ee=cn.t+cn.h/2-dn/2-Ue.bottom-Be;sn&&(Ee=Ut-(Ue.top+Ue.bottom)/2,ze=cn.l-tt.bulletPadding*cn.w)}else Ee=ar._numbersTop-Be-Ue.bottom;return strTranslate(ze,Ee)}))}))}},"792f":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("9092").extendFlat,$e=Be("8a6e"),Qe=Be("fb5a");Ee.exports={r:$e.r,theta:$e.theta,r0:$e.r0,dr:$e.dr,theta0:$e.theta0,dtheta:$e.dtheta,thetaunit:$e.thetaunit,base:We({},Qe.base,{}),offset:We({},Qe.offset,{}),width:We({},Qe.width,{}),text:We({},Qe.text,{}),hovertext:We({},Qe.hovertext,{}),marker:Qe.marker,hoverinfo:$e.hoverinfo,hovertemplate:Ue(),selected:Qe.selected,unselected:Qe.unselected}},"794e":function(Ee,ze,Be){"use strict";var Ue=Be("efce"),We=Be("b205"),$e=Be("e4eb");Ee.exports=function createSpikes(Ee,ze){var Be=[];function line(Ee,ze,Ue,We,$e,Qe){var et=[Ee,ze,Ue,0,0,0,1];et[We+3]=1,et[We]=$e,Be.push.apply(Be,et),et[6]=-1,Be.push.apply(Be,et),et[We]=Qe,Be.push.apply(Be,et),Be.push.apply(Be,et),et[6]=1,Be.push.apply(Be,et),et[We]=$e,Be.push.apply(Be,et)}line(0,0,0,0,0,1),line(0,0,0,1,0,1),line(0,0,0,2,0,1),line(1,0,0,1,-1,1),line(1,0,0,2,-1,1),line(0,1,0,0,-1,1),line(0,1,0,2,-1,1),line(0,0,1,0,-1,1),line(0,0,1,1,-1,1);var Qe=Ue(Ee,Be),et=We(Ee,[{type:Ee.FLOAT,buffer:Qe,size:3,offset:0,stride:28},{type:Ee.FLOAT,buffer:Qe,size:3,offset:12,stride:28},{type:Ee.FLOAT,buffer:Qe,size:1,offset:24,stride:28}]),tt=$e(Ee);tt.attributes.position.location=0,tt.attributes.color.location=1,tt.attributes.weight.location=2;var rt=new AxisSpikes(Ee,Qe,et,tt);return rt.update(ze),rt};var Qe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function AxisSpikes(Ee,ze,Be,Ue){this.gl=Ee,this.buffer=ze,this.vao=Be,this.shader=Ue,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var et=AxisSpikes.prototype,tt=[0,0,0],rt=[0,0,0],nt=[0,0];et.isTransparent=function(){return!1},et.drawTransparent=function(Ee){},et.draw=function(Ee){var ze=this.gl,Be=this.vao,Ue=this.shader;Be.bind(),Ue.bind();var We,$e=Ee.model||Qe,et=Ee.view||Qe,at=Ee.projection||Qe;this.axes&&(We=this.axes.lastCubeProps.axis);for(var it=tt,ct=rt,ft=0;ft<3;++ft)We&&We[ft]<0?(it[ft]=this.bounds[0][ft],ct[ft]=this.bounds[1][ft]):(it[ft]=this.bounds[1][ft],ct[ft]=this.bounds[0][ft]);nt[0]=ze.drawingBufferWidth,nt[1]=ze.drawingBufferHeight,Ue.uniforms.model=$e,Ue.uniforms.view=et,Ue.uniforms.projection=at,Ue.uniforms.coordinates=[this.position,it,ct],Ue.uniforms.colors=this.colors,Ue.uniforms.screenShape=nt;for(ft=0;ft<3;++ft)Ue.uniforms.lineWidth=this.lineWidth[ft]*this.pixelRatio,this.enabled[ft]&&(Be.draw(ze.TRIANGLES,6,6*ft),this.drawSides[ft]&&Be.draw(ze.TRIANGLES,12,18+12*ft));Be.unbind()},et.update=function(Ee){Ee&&("bounds"in Ee&&(this.bounds=Ee.bounds),"position"in Ee&&(this.position=Ee.position),"lineWidth"in Ee&&(this.lineWidth=Ee.lineWidth),"colors"in Ee&&(this.colors=Ee.colors),"enabled"in Ee&&(this.enabled=Ee.enabled),"drawSides"in Ee&&(this.drawSides=Ee.drawSides))},et.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},7974:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("055a").counter,$e=Be("81f0").attributes,Qe=Be("d301").idRegex,et=Be("a651"),tt={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[We("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Qe.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Qe.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:$e({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function getAxes(Ee,ze,Be){var Ue=ze[Be+"axes"],We=Object.keys((Ee._splomAxes||{})[Be]||{});return Array.isArray(Ue)?Ue:We.length?We:void 0}function fillGridPositions(Ee,ze,Be,Ue,We,$e){var Qe=ze(Ee+"gap",Be),et=ze("domain."+Ee);ze(Ee+"side",Ue);for(var tt=new Array(We),rt=et[0],nt=(et[1]-rt)/(We-Qe),at=nt*(1-Qe),it=0;it<We;it++){var ct=rt+nt*it;tt[$e?We-1-it:it]=[ct,ct+at]}return tt}function fillGridAxes(Ee,ze,Be,Ue,We){var $e,Qe=new Array(Be);function fillOneAxis(Ee,Be){-1!==ze.indexOf(Be)&&void 0===Ue[Be]?(Qe[Ee]=Be,Ue[Be]=Ee):Qe[Ee]=""}if(Array.isArray(Ee))for($e=0;$e<Be;$e++)fillOneAxis($e,Ee[$e]);else for(fillOneAxis(0,We),$e=1;$e<Be;$e++)fillOneAxis($e,We+($e+1));return Qe}Ee.exports={moduleType:"component",name:"grid",schema:{layout:{grid:tt}},layoutAttributes:tt,sizeDefaults:function sizeDefaults(Ee,ze){var Be=Ee.grid||{},We=getAxes(ze,Be,"x"),$e=getAxes(ze,Be,"y");if(Ee.grid||We||$e){var Qe,rt,nt=Array.isArray(Be.subplots)&&Array.isArray(Be.subplots[0]),at=Array.isArray(We),it=Array.isArray($e),ct=at&&We!==Be.xaxes&&it&&$e!==Be.yaxes;nt?(Qe=Be.subplots.length,rt=Be.subplots[0].length):(it&&(Qe=$e.length),at&&(rt=We.length));var ft=et.newContainer(ze,"grid"),xt=coerce("rows",Qe),kt=coerce("columns",rt);if(xt*kt>1){if(!nt&&!at&&!it)"independent"===coerce("pattern")&&(nt=!0);ft._hasSubplotGrid=nt;var Lt,Ut,er="top to bottom"===coerce("roworder"),tr=nt?.2:.1,rr=nt?.3:.1;ct&&ze._splomGridDflt&&(Lt=ze._splomGridDflt.xside,Ut=ze._splomGridDflt.yside),ft._domains={x:fillGridPositions("x",coerce,tr,Lt,kt),y:fillGridPositions("y",coerce,rr,Ut,xt,er)}}else delete ze.grid}function coerce(Ee,ze){return Ue.coerce(Be,ft,tt,Ee,ze)}},contentDefaults:function contentDefaults(Ee,ze){var Be=ze.grid;if(Be&&Be._domains){var Ue,We,$e,Qe,et,tt,rt,nt=Ee.grid||{},at=ze._subplots,it=Be._hasSubplotGrid,ct=Be.rows,ft=Be.columns,xt="independent"===Be.pattern,kt=Be._axisMap={};if(it){var Lt=nt.subplots||[];tt=Be.subplots=new Array(ct);var Ut=1;for(Ue=0;Ue<ct;Ue++){var er=tt[Ue]=new Array(ft),tr=Lt[Ue]||[];for(We=0;We<ft;We++)if(xt?(et=1===Ut?"xy":"x"+Ut+"y"+Ut,Ut++):et=tr[We],er[We]="",-1!==at.cartesian.indexOf(et)){if(rt=et.indexOf("y"),$e=et.slice(0,rt),Qe=et.slice(rt),void 0!==kt[$e]&&kt[$e]!==We||void 0!==kt[Qe]&&kt[Qe]!==Ue)continue;er[We]=et,kt[$e]=We,kt[Qe]=Ue}}}else{var rr=getAxes(ze,nt,"x"),ar=getAxes(ze,nt,"y");Be.xaxes=fillGridAxes(rr,at.xaxis,ft,kt,"x"),Be.yaxes=fillGridAxes(ar,at.yaxis,ct,kt,"y")}var Lr=Be._anchors={},Qr="top to bottom"===Be.roworder;for(var on in kt){var sn,ln,cn,un=on.charAt(0),hn=Be[un+"side"];if(hn.length<8)Lr[on]="free";else if("x"===un){if("t"===hn.charAt(0)===Qr?(sn=0,ln=1,cn=ct):(sn=ct-1,ln=-1,cn=-1),it){var dn=kt[on];for(Ue=sn;Ue!==cn;Ue+=ln)if((et=tt[Ue][dn])&&(rt=et.indexOf("y"),et.slice(0,rt)===on)){Lr[on]=et.slice(rt);break}}else for(Ue=sn;Ue!==cn;Ue+=ln)if(Qe=Be.yaxes[Ue],-1!==at.cartesian.indexOf(on+Qe)){Lr[on]=Qe;break}}else if("l"===hn.charAt(0)?(sn=0,ln=1,cn=ft):(sn=ft-1,ln=-1,cn=-1),it){var vn=kt[on];for(Ue=sn;Ue!==cn;Ue+=ln)if((et=tt[vn][Ue])&&(rt=et.indexOf("y"),et.slice(rt)===on)){Lr[on]=et.slice(0,rt);break}}else for(Ue=sn;Ue!==cn;Ue+=ln)if($e=Be.xaxes[Ue],-1!==at.cartesian.indexOf($e+on)){Lr[on]=$e;break}}}}}},7988:function(Ee,ze,Be){"use strict";var Ue=Be("baec"),We=Be("cf42"),$e=Be("2ee6").isVisible;function newIndex(Ee,ze,Be){var Ue=ze.indexOf(Be),We=Ee.indexOf(Ue);return-1===We&&(We+=ze.length),We}Ee.exports=function plot(Ee,ze){var Be=Ee._fullLayout;if(We(Ee)){var Qe={},et={},tt={},rt={},nt=Be._size;ze.forEach((function(ze,Be){var Ue=ze[0].trace;tt[Be]=Ue.index;var We=rt[Be]=Ue._fullInput.index;Qe[Be]=Ee.data[We].dimensions,et[Be]=Ee.data[We].dimensions.slice()}));Ue(Ee,ze,{width:nt.w,height:nt.h,margin:{t:nt.t,r:nt.r,b:nt.b,l:nt.l}},{filterChanged:function(ze,Ue,We){var $e=et[ze][Ue],Qe=We.map((function(Ee){return Ee.slice()})),nt="dimensions["+Ue+"].constraintrange",at=Be._tracePreGUI[Ee._fullData[tt[ze]]._fullInput.uid];if(void 0===at[nt]){var it=$e.constraintrange;at[nt]=it||null}var ct=Ee._fullData[tt[ze]].dimensions[Ue];Qe.length?(1===Qe.length&&(Qe=Qe[0]),$e.constraintrange=Qe,ct.constraintrange=Qe.slice(),Qe=[Qe]):(delete $e.constraintrange,delete ct.constraintrange,Qe=null);var ft={};ft[nt]=Qe,Ee.emit("plotly_restyle",[ft,[rt[ze]]])},hover:function(ze){Ee.emit("plotly_hover",ze)},unhover:function(ze){Ee.emit("plotly_unhover",ze)},axesMoved:function(ze,Be){var Ue=function sorter(Ee,ze){return function sorter(Be,Ue){return newIndex(Ee,ze,Be)-newIndex(Ee,ze,Ue)}}(Be,et[ze].filter($e));Qe[ze].sort(Ue),et[ze].filter((function(Ee){return!$e(Ee)})).sort((function(Ee){return et[ze].indexOf(Ee)})).forEach((function(Ee){Qe[ze].splice(Qe[ze].indexOf(Ee),1),Qe[ze].splice(et[ze].indexOf(Ee),0,Ee)})),Ee.emit("plotly_restyle",[{dimensions:[Qe[ze]]},[rt[ze]]])}})}}},"79d9":function(Ee,ze,Be){"use strict";Ee.exports=function signum(Ee){return Ee<0?-1:Ee>0?1:0}},"79f1":function(Ee,ze,Be){"use strict";ze.isGrouped=function isGrouped(Ee){return-1!==(Ee.traceorder||"").indexOf("grouped")},ze.isVertical=function isVertical(Ee){return"h"!==Ee.orientation},ze.isReversed=function isReversed(Ee){return-1!==(Ee.traceorder||"").indexOf("reversed")}},"7a18":function(Ee){Ee.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},"7a4a":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray;Ee.exports=function(Ee){return function minMax(Ee,ze){if(!Ue(Ee)||ze>=10)return null;for(var Be=1/0,We=-1/0,$e=Ee.length,Qe=0;Qe<$e;Qe++){var et=Ee[Qe];if(Ue(et)){var tt=minMax(et,ze+1);tt&&(Be=Math.min(tt[0],Be),We=Math.max(tt[1],We))}else Be=Math.min(et,Be),We=Math.max(et,We)}return[Be,We]}(Ee,0)}},"7a52":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("1a40"),$e=Ue.deg2rad,Qe=Ue.rad2deg;Ee.exports=function setConvert(Ee,ze,Be){switch(We(Ee,Be),Ee._id){case"x":case"radialaxis":!function setConvertRadial(Ee,ze){var Be=ze._subplot;Ee.setGeometry=function(){var ze=Ee._rl[0],Ue=Ee._rl[1],We=Be.innerRadius,$e=(Be.radius-We)/(Ue-ze),Qe=We/$e,et=ze>Ue?function(Ee){return Ee<=0}:function(Ee){return Ee>=0};Ee.c2g=function(Be){var Ue=Ee.c2l(Be)-ze;return(et(Ue)?Ue:0)+Qe},Ee.g2c=function(Be){return Ee.l2c(Be+ze-Qe)},Ee.g2p=function(Ee){return Ee*$e},Ee.c2p=function(ze){return Ee.g2p(Ee.c2g(ze))}}}(Ee,ze);break;case"angularaxis":!function setConvertAngular(Ee,ze){var Be=Ee.type;if("linear"===Be){var We=Ee.d2c,et=Ee.c2d;Ee.d2c=function(Ee,ze){return function toRadians(Ee,ze){return"degrees"===ze?$e(Ee):Ee}(We(Ee),ze)},Ee.c2d=function(Ee,ze){return et(function fromRadians(Ee,ze){return"degrees"===ze?Qe(Ee):Ee}(Ee,ze))}}Ee.makeCalcdata=function(ze,We){var $e,Qe,et=ze[We],tt=ze._length,_d2c=function(Be){return Ee.d2c(Be,ze.thetaunit)};if(et){if(Ue.isTypedArray(et)&&"linear"===Be){if(tt===et.length)return et;if(et.subarray)return et.subarray(0,tt)}for($e=new Array(tt),Qe=0;Qe<tt;Qe++)$e[Qe]=_d2c(et[Qe])}else{var rt=We+"0",nt="d"+We,at=rt in ze?_d2c(ze[rt]):0,it=ze[nt]?_d2c(ze[nt]):(Ee.period||2*Math.PI)/tt;for($e=new Array(tt),Qe=0;Qe<tt;Qe++)$e[Qe]=at+Qe*it}return $e},Ee.setGeometry=function(){var We,et,tt,rt,nt=ze.sector,at=nt.map($e),it={clockwise:-1,counterclockwise:1}[Ee.direction],ct=$e(Ee.rotation),rad2g=function(Ee){return it*Ee+ct},g2rad=function(Ee){return(Ee-ct)/it};switch(Be){case"linear":et=We=Ue.identity,rt=$e,tt=Qe,Ee.range=Ue.isFullCircle(at)?[nt[0],nt[0]+360]:at.map(g2rad).map(Qe);break;case"category":var ft=Ee._categories.length,xt=Ee.period?Math.max(Ee.period,ft):ft;0===xt&&(xt=1),et=rt=function(Ee){return 2*Ee*Math.PI/xt},We=tt=function(Ee){return Ee*xt/Math.PI/2},Ee.range=[0,xt]}Ee.c2g=function(Ee){return rad2g(et(Ee))},Ee.g2c=function(Ee){return We(g2rad(Ee))},Ee.t2g=function(Ee){return rad2g(rt(Ee))},Ee.g2t=function(Ee){return tt(g2rad(Ee))}}}(Ee,ze)}}},"7a5f":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"indicator",basePlotModule:Be("643c"),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:Be("1c82"),supplyDefaults:Be("18bb").supplyDefaults,calc:Be("5ad1").calc,plot:Be("78ee"),meta:{}}},"7a71":function(Ee,ze,Be){"use strict";function measure(Ee,ze){ze||(ze={}),("string"==typeof Ee||Array.isArray(Ee))&&(ze.family=Ee);var Be=Array.isArray(ze.family)?ze.family.join(", "):ze.family;if(!Be)throw Error("`family` must be defined");var Ue=ze.size||ze.fontSize||ze.em||48,We=ze.weight||ze.fontWeight||"",$e=(Ee=[ze.style||ze.fontStyle||"",We,Ue].join(" ")+"px "+Be,ze.origin||"top");if(measure.cache[Be]&&Ue<=measure.cache[Be].em)return applyOrigin(measure.cache[Be],$e);var Qe=ze.canvas||measure.canvas,et=Qe.getContext("2d"),tt={upper:void 0!==ze.upper?ze.upper:"H",lower:void 0!==ze.lower?ze.lower:"x",descent:void 0!==ze.descent?ze.descent:"p",ascent:void 0!==ze.ascent?ze.ascent:"h",tittle:void 0!==ze.tittle?ze.tittle:"i",overshoot:void 0!==ze.overshoot?ze.overshoot:"O"},rt=Math.ceil(1.5*Ue);Qe.height=rt,Qe.width=.5*rt,et.font=Ee;var nt={top:0};et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillStyle="black",et.fillText("H",0,0);var at=firstTop(et.getImageData(0,0,rt,rt));et.clearRect(0,0,rt,rt),et.textBaseline="bottom",et.fillText("H",0,rt);var it=firstTop(et.getImageData(0,0,rt,rt));nt.lineHeight=nt.bottom=rt-it+at,et.clearRect(0,0,rt,rt),et.textBaseline="alphabetic",et.fillText("H",0,rt);var ct=rt-firstTop(et.getImageData(0,0,rt,rt))-1+at;nt.baseline=nt.alphabetic=ct,et.clearRect(0,0,rt,rt),et.textBaseline="middle",et.fillText("H",0,.5*rt);var ft=firstTop(et.getImageData(0,0,rt,rt));nt.median=nt.middle=rt-ft-1+at-.5*rt,et.clearRect(0,0,rt,rt),et.textBaseline="hanging",et.fillText("H",0,.5*rt);var xt=firstTop(et.getImageData(0,0,rt,rt));nt.hanging=rt-xt-1+at-.5*rt,et.clearRect(0,0,rt,rt),et.textBaseline="ideographic",et.fillText("H",0,rt);var kt=firstTop(et.getImageData(0,0,rt,rt));if(nt.ideographic=rt-kt-1+at,tt.upper&&(et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.upper,0,0),nt.upper=firstTop(et.getImageData(0,0,rt,rt)),nt.capHeight=nt.baseline-nt.upper),tt.lower&&(et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.lower,0,0),nt.lower=firstTop(et.getImageData(0,0,rt,rt)),nt.xHeight=nt.baseline-nt.lower),tt.tittle&&(et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.tittle,0,0),nt.tittle=firstTop(et.getImageData(0,0,rt,rt))),tt.ascent&&(et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.ascent,0,0),nt.ascent=firstTop(et.getImageData(0,0,rt,rt))),tt.descent&&(et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.descent,0,0),nt.descent=firstBottom(et.getImageData(0,0,rt,rt))),tt.overshoot){et.clearRect(0,0,rt,rt),et.textBaseline="top",et.fillText(tt.overshoot,0,0);var Lt=firstBottom(et.getImageData(0,0,rt,rt));nt.overshoot=Lt-ct}for(var Ut in nt)nt[Ut]/=Ue;return nt.em=Ue,measure.cache[Be]=nt,applyOrigin(nt,$e)}function applyOrigin(Ee,ze){var Be={};for(var Ue in"string"==typeof ze&&(ze=Ee[ze]),Ee)"em"!==Ue&&(Be[Ue]=Ee[Ue]-ze);return Be}function firstTop(Ee){for(var ze=Ee.height,Be=Ee.data,Ue=3;Ue<Be.length;Ue+=4)if(0!==Be[Ue])return Math.floor(.25*(Ue-3)/ze)}function firstBottom(Ee){for(var ze=Ee.height,Be=Ee.data,Ue=Be.length-1;Ue>0;Ue-=4)if(0!==Be[Ue])return Math.floor(.25*(Ue-3)/ze)}Ee.exports=measure,measure.canvas=document.createElement("canvas"),measure.cache={}},"7a7d":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("8bd8"),supplyDefaults:Be("f552"),colorbar:Be("fcb3"),calc:Be("d0ad"),calcGeoJSON:Be("538c").calcGeoJSON,plot:Be("538c").plot,style:Be("e7ab").style,styleOnSelect:Be("e7ab").styleOnSelect,hoverPoints:Be("038d"),eventData:Be("a9eb"),selectPoints:Be("ef6e"),moduleType:"trace",name:"choropleth",basePlotModule:Be("9e9a"),categories:["geo","noOpacity","showLegend"],meta:{}}},"7abc":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function UmmAlQuraCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}UmmAlQuraCalendar.prototype=new Ue.baseCalendar,We(UmmAlQuraCalendar.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return 355===this.daysInYear(ze.year())},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInYear:function(Ee){for(var ze=0,Be=1;Be<=12;Be++)ze+=this.daysInMonth(Ee,Be);return ze},daysInMonth:function(Ee,ze){for(var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth).toJD()-24e5+.5,We=0,Qe=0;Qe<$e.length;Qe++){if($e[Qe]>Be)return $e[We]-$e[We-1];We++}return 30},weekDay:function(Ee,ze,Be){return 5!==this.dayOfWeek(Ee,ze,Be)},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate),Qe=12*(We.year()-1)+We.month()-15292;return We.day()+$e[Qe-1]-1+24e5-.5},fromJD:function(Ee){for(var ze=Ee-24e5+.5,Be=0,Ue=0;Ue<$e.length&&!($e[Ue]>ze);Ue++)Be++;var We=Be+15292,Qe=Math.floor((We-1)/12),et=Qe+1,tt=We-12*Qe,rt=ze-$e[Be-1]+1;return this.newDate(et,tt,rt)},isValid:function(Ee,ze,Be){var We=Ue.baseCalendar.prototype.isValid.apply(this,arguments);return We&&(We=(Ee=null!=Ee.year?Ee.year:Ee)>=1276&&Ee<=1500),We},_validate:function(Ee,ze,Be,We){var $e=Ue.baseCalendar.prototype._validate.apply(this,arguments);if($e.year<1276||$e.year>1500)throw We.replace(/\{0\}/,this.local.name);return $e}}),Ue.calendars.ummalqura=UmmAlQuraCalendar;var $e=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},"7ad0":function(Ee,ze){Ee.exports=function perspective(Ee,ze,Be,Ue,We){var $e=1/Math.tan(ze/2),Qe=1/(Ue-We);return Ee[0]=$e/Be,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=$e,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=(We+Ue)*Qe,Ee[11]=-1,Ee[12]=0,Ee[13]=0,Ee[14]=2*We*Ue*Qe,Ee[15]=0,Ee}},"7ae4":function(Ee,ze){Ee.exports=function lerp(Ee,ze,Be,Ue){var We=ze[0],$e=ze[1],Qe=ze[2],et=ze[3];return Ee[0]=We+Ue*(Be[0]-We),Ee[1]=$e+Ue*(Be[1]-$e),Ee[2]=Qe+Ue*(Be[2]-Qe),Ee[3]=et+Ue*(Be[3]-et),Ee}},"7b0b":function(Ee,ze,Be){var Ue=Be("1d80");Ee.exports=function(Ee){return Object(Ue(Ee))}},"7b1c":function(Ee,ze,Be){"use strict";Ee.exports=function updateDiff(Ee,ze,Be){Array.isArray(Be)||(Be=[].slice.call(arguments,2));for(var Ue=0,We=Be.length;Ue<We;Ue++){var $e=Be[Ue];for(var Qe in $e)if((void 0===ze[Qe]||Array.isArray(ze[Qe])||Ee[Qe]!==ze[Qe])&&Qe in ze){var et;if(!0===$e[Qe])et=ze[Qe];else{if(!1===$e[Qe])continue;if("function"==typeof $e[Qe]&&void 0===(et=$e[Qe](ze[Qe],Ee,ze)))continue}Ee[Qe]=et}}return Ee}},"7ba3":function(Ee,ze,Be){"use strict";Ee.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},"7bb3":function(Ee,ze){Ee.exports=function dot(Ee,ze){return Ee[0]*ze[0]+Ee[1]*ze[1]+Ee[2]*ze[2]+Ee[3]*ze[3]}},"7bbc":function(Ee,ze,Be){"use strict";Ee.exports=function alphaComplex(Ee,ze){return Ue(ze).filter((function(Be){for(var Ue=new Array(Be.length),$e=0;$e<Be.length;++$e)Ue[$e]=ze[Be[$e]];return We(Ue)*Ee<1}))};var Ue=Be("2357"),We=Be("8662")},"7bdf":function(Ee,ze,Be){"use strict";Ee.exports=Be("ecf9")()?Object.keys:Be("7373")},"7c39":function(Ee,ze,Be){"use strict";var Ue=Be("1ebf"),We=Be("9092").extendFlat;Ee.exports={y:Ue.y,x:Ue.x,x0:Ue.x0,y0:Ue.y0,name:We({},Ue.name,{}),orientation:We({},Ue.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:Ue.fillcolor,points:We({},Ue.boxpoints,{}),jitter:We({},Ue.jitter,{}),pointpos:We({},Ue.pointpos,{}),width:We({},Ue.width,{}),marker:Ue.marker,text:Ue.text,hovertext:Ue.hovertext,hovertemplate:Ue.hovertemplate,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:Ue.offsetgroup,alignmentgroup:Ue.alignmentgroup,selected:Ue.selected,unselected:Ue.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},"7c43":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("fc26"),Qe=Be("0379"),et=Be("c791").toMoveInsideBar,tt=Be("93a6"),rt=tt.recordMinTextSize,nt=tt.clearMinTextSize,at=Be("59e0"),it=Be("c0af"),ct=it.attachFxHandlers,ft=it.determineInsideTextFont,xt=it.layoutAreas,kt=it.prerenderTitles,Lt=it.positionTitleOutside,Ut=it.formatSliceLabel;function line(Ee,ze){return"l"+(ze[0]-Ee[0])+","+(ze[1]-Ee[1])}Ee.exports=function plot(Ee,ze){var Be=Ee._fullLayout;nt("funnelarea",Be),kt(ze,Ee),xt(ze,Be._size),$e.makeTraceGroups(Be._funnelarealayer,ze,"trace").each((function(ze){var tt=Ue.select(this),nt=ze[0],it=nt.trace;!function setCoords(Ee){if(!Ee.length)return;var ze=Ee[0],Be=ze.trace,Ue=Be.aspectratio,We=Be.baseratio;We>.999&&(We=.999);var $e,Qe=Math.pow(We,2),et=ze.vTotal,tt=et,rt=et*Qe/(1-Qe)/et;function getPoint(){var Ee=function calcPos(){var Ee=Math.sqrt(rt);return{x:Ee,y:-Ee}}();return[Ee.x,Ee.y]}var nt,at,it=[];for(it.push(getPoint()),nt=Ee.length-1;nt>-1;nt--)if(!(at=Ee[nt]).hidden){var ct=at.v/tt;rt+=ct,it.push(getPoint())}var ft=1/0,xt=-1/0;for(nt=0;nt<it.length;nt++)$e=it[nt],ft=Math.min(ft,$e[1]),xt=Math.max(xt,$e[1]);for(nt=0;nt<it.length;nt++)it[nt][1]-=(xt+ft)/2;var kt=it[it.length-1][0],Lt=ze.r,Ut=(xt-ft)/2,er=Lt/kt,tr=Lt/Ut*Ue;for(ze.r=tr*Ut,nt=0;nt<it.length;nt++)it[nt][0]*=er,it[nt][1]*=tr;var rr=[-($e=it[0])[0],$e[1]],ar=[$e[0],$e[1]],Lr=0;for(nt=Ee.length-1;nt>-1;nt--)if(!(at=Ee[nt]).hidden){var Qr=it[Lr+=1][0],on=it[Lr][1];at.TL=[-Qr,on],at.TR=[Qr,on],at.BL=rr,at.BR=ar,at.pxmid=(sn=at.TR,ln=at.BR,[.5*(sn[0]+ln[0]),.5*(sn[1]+ln[1])]),rr=at.TL,ar=at.TR}var sn,ln}(ze),tt.each((function(){var tt=Ue.select(this).selectAll("g.slice").data(ze);tt.enter().append("g").classed("slice",!0),tt.exit().remove(),tt.each((function(tt,xt){if(tt.hidden)Ue.select(this).selectAll("path,g").remove();else{tt.pointNumber=tt.i,tt.curveNumber=it.index;var kt=nt.cx,Lt=nt.cy,er=Ue.select(this),tr=er.selectAll("path.surface").data([tt]);tr.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),er.call(ct,Ee,ze);var rr="M"+(kt+tt.TR[0])+","+(Lt+tt.TR[1])+line(tt.TR,tt.BR)+line(tt.BR,tt.BL)+line(tt.BL,tt.TL)+"Z";tr.attr("d",rr),Ut(Ee,tt,nt);var ar=at.castOption(it.textposition,tt.pts),Lr=er.selectAll("g.slicetext").data(tt.text&&"none"!==ar?[0]:[]);Lr.enter().append("g").classed("slicetext",!0),Lr.exit().remove(),Lr.each((function(){var nt=$e.ensureSingle(Ue.select(this),"text","",(function(Ee){Ee.attr("data-notex",1)})),at=$e.ensureUniformFontSize(Ee,ft(it,tt,Be.font));nt.text(tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(We.font,at).call(Qe.convertToTspans,Ee);var ct,Ut,er,tr=We.bBox(nt.node()),rr=Math.min(tt.BL[1],tt.BR[1])+Lt,ar=Math.max(tt.TL[1],tt.TR[1])+Lt;Ut=Math.max(tt.TL[0],tt.BL[0])+kt,er=Math.min(tt.TR[0],tt.BR[0])+kt,(ct=et(Ut,er,rr,ar,tr,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=at.size,rt(it.type,ct,Be),ze[xt].transform=ct,nt.attr("transform",$e.getTextTransform(ct))}))}}));var xt=Ue.select(this).selectAll("g.titletext").data(it.title.text?[0]:[]);xt.enter().append("g").classed("titletext",!0),xt.exit().remove(),xt.each((function(){var ze=$e.ensureSingle(Ue.select(this),"text","",(function(Ee){Ee.attr("data-notex",1)})),et=it.title.text;it._meta&&(et=$e.templateString(et,it._meta)),ze.text(et).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(We.font,it.title.font).call(Qe.convertToTspans,Ee);var tt=Lt(nt,Be._size);ze.attr("transform","translate("+tt.x+","+tt.y+")"+(tt.scale<1?"scale("+tt.scale+")":"")+"translate("+tt.tx+","+tt.ty+")")}))}))}))}},"7c4a":function(Ee,ze,Be){"use strict";Ee.exports=Be("ff55")()?globalThis:Be("c2c0")},"7c67":function(Ee,ze,Be){"use strict";Ee.exports=function permutationSign(Ee){var ze=Ee.length;if(ze<32){for(var Be=1,We=0;We<ze;++We)for(var $e=0;$e<We;++$e)if(Ee[We]<Ee[$e])Be=-Be;else if(Ee[We]===Ee[$e])return 0;return Be}var Qe=Ue.mallocUint8(ze);for(We=0;We<ze;++We)Qe[We]=0;for(Be=1,We=0;We<ze;++We)if(!Qe[We]){var et=1;Qe[We]=1;for($e=Ee[We];$e!==We;$e=Ee[$e]){if(Qe[$e])return Ue.freeUint8(Qe),0;et+=1,Qe[$e]=1}1&et||(Be=-Be)}return Ue.freeUint8(Qe),Be};var Ue=Be("cea5")},"7c72":function(Ee,ze){var Be=Math.PI,Ue=radians(120);function line(Ee,ze,Be,Ue){return["C",Ee,ze,Be,Ue,Be,Ue]}function quadratic(Ee,ze,Be,Ue,We,$e){return["C",Ee/3+2/3*Be,ze/3+2/3*Ue,We/3+2/3*Be,$e/3+2/3*Ue,We,$e]}function arc(Ee,ze,We,$e,Qe,et,tt,rt,nt,at){if(at)rr=at[0],ar=at[1],er=at[2],tr=at[3];else{var it=rotate(Ee,ze,-Qe);Ee=it.x,ze=it.y;var ct=(Ee-(rt=(it=rotate(rt,nt,-Qe)).x))/2,ft=(ze-(nt=it.y))/2,xt=ct*ct/(We*We)+ft*ft/($e*$e);xt>1&&(We*=xt=Math.sqrt(xt),$e*=xt);var kt=We*We,Lt=$e*$e,Ut=(et==tt?-1:1)*Math.sqrt(Math.abs((kt*Lt-kt*ft*ft-Lt*ct*ct)/(kt*ft*ft+Lt*ct*ct)));Ut==1/0&&(Ut=1);var er=Ut*We*ft/$e+(Ee+rt)/2,tr=Ut*-$e*ct/We+(ze+nt)/2,rr=Math.asin(((ze-tr)/$e).toFixed(9)),ar=Math.asin(((nt-tr)/$e).toFixed(9));(rr=Ee<er?Be-rr:rr)<0&&(rr=2*Be+rr),(ar=rt<er?Be-ar:ar)<0&&(ar=2*Be+ar),tt&&rr>ar&&(rr-=2*Be),!tt&&ar>rr&&(ar-=2*Be)}if(Math.abs(ar-rr)>Ue){var Lr=ar,Qr=rt,on=nt;ar=rr+Ue*(tt&&ar>rr?1:-1);var sn=arc(rt=er+We*Math.cos(ar),nt=tr+$e*Math.sin(ar),We,$e,Qe,0,tt,Qr,on,[ar,Lr,er,tr])}var ln=Math.tan((ar-rr)/4),cn=4/3*We*ln,un=4/3*$e*ln,hn=[2*Ee-(Ee+cn*Math.sin(rr)),2*ze-(ze-un*Math.cos(rr)),rt+cn*Math.sin(ar),nt-un*Math.cos(ar),rt,nt];if(at)return hn;sn&&(hn=hn.concat(sn));for(var dn=0;dn<hn.length;){var vn=rotate(hn[dn],hn[dn+1],Qe);hn[dn++]=vn.x,hn[dn++]=vn.y}return hn}function rotate(Ee,ze,Be){return{x:Ee*Math.cos(Be)-ze*Math.sin(Be),y:Ee*Math.sin(Be)+ze*Math.cos(Be)}}function radians(Ee){return Ee*(Be/180)}Ee.exports=function normalize(Ee){for(var ze,Be=[],Ue=0,We=0,$e=0,Qe=0,et=null,tt=null,rt=0,nt=0,at=0,it=Ee.length;at<it;at++){var ct=Ee[at],ft=ct[0];switch(ft){case"M":$e=ct[1],Qe=ct[2];break;case"A":(ct=arc(rt,nt,ct[1],ct[2],radians(ct[3]),ct[4],ct[5],ct[6],ct[7])).unshift("C"),ct.length>7&&(Be.push(ct.splice(0,7)),ct.unshift("C"));break;case"S":var xt=rt,kt=nt;"C"!=ze&&"S"!=ze||(xt+=xt-Ue,kt+=kt-We),ct=["C",xt,kt,ct[1],ct[2],ct[3],ct[4]];break;case"T":"Q"==ze||"T"==ze?(et=2*rt-et,tt=2*nt-tt):(et=rt,tt=nt),ct=quadratic(rt,nt,et,tt,ct[1],ct[2]);break;case"Q":et=ct[1],tt=ct[2],ct=quadratic(rt,nt,ct[1],ct[2],ct[3],ct[4]);break;case"L":ct=line(rt,nt,ct[1],ct[2]);break;case"H":ct=line(rt,nt,ct[1],nt);break;case"V":ct=line(rt,nt,rt,ct[1]);break;case"Z":ct=line(rt,nt,$e,Qe)}ze=ft,rt=ct[ct.length-2],nt=ct[ct.length-1],ct.length>4?(Ue=ct[ct.length-4],We=ct[ct.length-3]):(Ue=rt,We=nt),Be.push(ct)}return Be}},"7c73":function(Ee,ze,Be){var Ue,We=Be("825a"),$e=Be("37e8"),Qe=Be("7839"),et=Be("d012"),tt=Be("1be4"),rt=Be("cc12"),nt=Be("f772"),at=nt("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(Ee){return"<script>"+Ee+"<\/script>"},NullProtoObject=function(){try{Ue=document.domain&&new ActiveXObject("htmlfile")}catch(Ee){}var Ee,ze;NullProtoObject=Ue?function(Ee){Ee.write(scriptTag("")),Ee.close();var ze=Ee.parentWindow.Object;return Ee=null,ze}(Ue):((ze=rt("iframe")).style.display="none",tt.appendChild(ze),ze.src=String("javascript:"),(Ee=ze.contentWindow.document).open(),Ee.write(scriptTag("document.F=Object")),Ee.close(),Ee.F);for(var Be=Qe.length;Be--;)delete NullProtoObject.prototype[Qe[Be]];return NullProtoObject()};et[at]=!0,Ee.exports=Object.create||function create(Ee,ze){var Be;return null!==Ee?(EmptyConstructor.prototype=We(Ee),Be=new EmptyConstructor,EmptyConstructor.prototype=null,Be[at]=Ee):Be=NullProtoObject(),void 0===ze?Be:$e(Be,ze)}},"7c9f":function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"component",name:"images",layoutAttributes:Be("d72e"),supplyLayoutDefaults:Be("4b6a"),includeBasePlot:Be("37d1")("images"),draw:Be("ff49"),convertCoords:Be("6174")}},"7d72":function(Ee,ze,Be){"use strict";Ee.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},"7d88":function(Ee,ze,Be){"use strict";var Ue=Be("1e0a"),We=/[\n\r\u2028\u2029]/g;Ee.exports=function(Ee){var ze=Ue(Ee);return null===ze?"<Non-coercible to string value>":(ze.length>100&&(ze=ze.slice(0,99)+"…"),ze=ze.replace(We,(function(Ee){switch(Ee){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},"7dbb":function(Ee,ze,Be){Ee.exports=function(){function aa(ze,Be){this.id=Ee++,this.type=ze,this.data=Be}function Za(Ee){return"["+function ia(Ee){if(0===Ee.length)return[];var ze=Ee.charAt(0),Be=Ee.charAt(Ee.length-1);if(1<Ee.length&&ze===Be&&('"'===ze||"'"===ze))return['"'+Ee.substr(1,Ee.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(ze=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ee))return ia(Ee.substr(0,ze.index)).concat(ia(ze[1])).concat(ia(Ee.substr(ze.index+ze[0].length)));if(1===(ze=Ee.split(".")).length)return['"'+Ee.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ee=[],Be=0;Be<ze.length;++Be)Ee=Ee.concat(ia(ze[Be]));return Ee}(Ee).join("][")+"]"}function $a(Ee){return"string"==typeof Ee?Ee.split():Ee}function ab(Ee){return"string"==typeof Ee?document.querySelector(Ee):Ee}function Eb(Ee){var ze,Be,Ue,We,$e=Ee||{};Ee={};var Qe=[],et=[],tt="undefined"==typeof window?1:window.devicePixelRatio,rt=!1,t=function(Ee){},m=function(){};if("string"==typeof $e?ze=document.querySelector($e):"object"==typeof $e&&("string"==typeof $e.nodeName&&"function"==typeof $e.appendChild&&"function"==typeof $e.getBoundingClientRect?ze=$e:"function"==typeof $e.drawArrays||"function"==typeof $e.drawElements?Ue=(We=$e).canvas:("gl"in $e?We=$e.gl:"canvas"in $e?Ue=ab($e.canvas):"container"in $e&&(Be=ab($e.container)),"attributes"in $e&&(Ee=$e.attributes),"extensions"in $e&&(Qe=$a($e.extensions)),"optionalExtensions"in $e&&(et=$a($e.optionalExtensions)),"onDone"in $e&&(t=$e.onDone),"profile"in $e&&(rt=!!$e.profile),"pixelRatio"in $e&&(tt=+$e.pixelRatio))),ze&&("canvas"===ze.nodeName.toLowerCase()?Ue=ze:Be=ze),!We){if(!Ue){if(!(ze=function Cb(Ee,ze,Be){function e(){var ze=window.innerWidth,We=window.innerHeight;Ee!==document.body&&(ze=(We=Ee.getBoundingClientRect()).right-We.left,We=We.bottom-We.top),Ue.width=Be*ze,Ue.height=Be*We,E(Ue.style,{width:ze+"px",height:We+"px"})}var Ue=document.createElement("canvas");return E(Ue.style,{border:0,margin:0,padding:0,top:0,left:0}),Ee.appendChild(Ue),Ee===document.body&&(Ue.style.position="absolute",E(Ee.style,{margin:0,padding:0})),window.addEventListener("resize",e,!1),e(),{canvas:Ue,onDestroy:function(){window.removeEventListener("resize",e),Ee.removeChild(Ue)}}}(Be||document.body,0,tt)))return null;Ue=ze.canvas,m=ze.onDestroy}We=function Db(Ee,ze){function c(Be){try{return Ee.getContext(Be,ze)}catch(Ee){return null}}return c("webgl")||c("experimental-webgl")||c("webgl-experimental")}(Ue,Ee)}return We?{gl:We,canvas:Ue,container:Be,extensions:Qe,optionalExtensions:et,pixelRatio:tt,profile:rt,onDone:t,onDestroy:m}:(m(),t("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function J(Ee,ze){for(var Be=Array(Ee),Ue=0;Ue<Ee;++Ue)Be[Ue]=ze(Ue);return Be}function bb(Ee){var ze,Be;return ze=(65535<Ee)<<4,ze|=Be=(255<(Ee>>>=ze))<<3,(ze|=Be=(15<(Ee>>>=Be))<<2)|(Be=(3<(Ee>>>=Be))<<1)|Ee>>>Be>>1}function cb(){function a(ze){e:{for(var Be=16;268435456>=Be;Be*=16)if(ze<=Be){ze=Be;break e}ze=0}return 0<(Be=Ee[bb(ze)>>2]).length?Be.pop():new ArrayBuffer(ze)}function b(ze){Ee[bb(ze.byteLength)>>2].push(ze)}var Ee=J(8,(function(){return[]}));return{alloc:a,free:b,allocType:function(Ee,ze){var Be=null;switch(Ee){case 5120:Be=new Int8Array(a(ze),0,ze);break;case 5121:Be=new Uint8Array(a(ze),0,ze);break;case 5122:Be=new Int16Array(a(2*ze),0,ze);break;case 5123:Be=new Uint16Array(a(2*ze),0,ze);break;case 5124:Be=new Int32Array(a(4*ze),0,ze);break;case 5125:Be=new Uint32Array(a(4*ze),0,ze);break;case 5126:Be=new Float32Array(a(4*ze),0,ze);break;default:return null}return Be.length!==ze?Be.subarray(0,ze):Be},freeType:function(Ee){b(Ee.buffer)}}}function ma(Ee){return!!Ee&&"object"==typeof Ee&&Array.isArray(Ee.shape)&&Array.isArray(Ee.stride)&&"number"==typeof Ee.offset&&Ee.shape.length===Ee.stride.length&&(Array.isArray(Ee.data)||M(Ee.data))}function db(Ee,ze,Be,Ue,We,$e){for(var Qe=0;Qe<ze;++Qe)for(var et=Ee[Qe],tt=0;tt<Be;++tt)for(var rt=et[tt],nt=0;nt<Ue;++nt)We[$e++]=rt[nt]}function Ha(Ee){return 0|Qe[Object.prototype.toString.call(Ee)]}function fb(Ee,ze){for(var Be=0;Be<ze.length;++Be)Ee[Be]=ze[Be]}function gb(Ee,ze,Be,Ue,We,$e,Qe){for(var et=0,tt=0;tt<Be;++tt)for(var rt=0;rt<Ue;++rt)Ee[et++]=ze[We*tt+$e*rt+Qe]}function Gb(Ee,ze,Be,Ue){function g(ze){this.id=$e++,this.buffer=Ee.createBuffer(),this.type=ze,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Be.profile&&(this.stats={size:0})}function d(ze,Be,Ue){ze.byteLength=Be.byteLength,Ee.bufferData(ze.type,Be,Ue)}function p(Ee,ze,Be,Ue,$e,Qe){if(Ee.usage=Be,Array.isArray(ze)){if(Ee.dtype=Ue||5126,0<ze.length)if(Array.isArray(ze[0])){$e=nt(ze);for(var et=Ue=1;et<$e.length;++et)Ue*=$e[et];Ee.dimension=Ue,d(Ee,ze=rt(ze,$e,Ee.dtype),Be),Qe?Ee.persistentData=ze:We.freeType(ze)}else"number"==typeof ze[0]?(Ee.dimension=$e,fb($e=We.allocType(Ee.dtype,ze.length),ze),d(Ee,$e,Be),Qe?Ee.persistentData=$e:We.freeType($e)):M(ze[0])&&(Ee.dimension=ze[0].length,Ee.dtype=Ue||Ha(ze[0])||5126,d(Ee,ze=rt(ze,[ze.length,ze[0].length],Ee.dtype),Be),Qe?Ee.persistentData=ze:We.freeType(ze))}else if(M(ze))Ee.dtype=Ue||Ha(ze),Ee.dimension=$e,d(Ee,ze,Be),Qe&&(Ee.persistentData=new Uint8Array(new Uint8Array(ze.buffer)));else if(ma(ze)){$e=ze.shape;var tt=ze.stride,at=(et=ze.offset,0),it=0,ct=0,ft=0;1===$e.length?(at=$e[0],it=1,ct=tt[0],ft=0):2===$e.length&&(at=$e[0],it=$e[1],ct=tt[0],ft=tt[1]),Ee.dtype=Ue||Ha(ze.data)||5126,Ee.dimension=it,gb($e=We.allocType(Ee.dtype,at*it),ze.data,at,it,ct,ft,et),d(Ee,$e,Be),Qe?Ee.persistentData=$e:We.freeType($e)}else ze instanceof ArrayBuffer&&(Ee.dtype=5121,Ee.dimension=$e,d(Ee,ze,Be),Qe&&(Ee.persistentData=new Uint8Array(new Uint8Array(ze))))}function f(Be){ze.bufferCount--;for(var We=0;We<Ue.state.length;++We){var $e=Ue.state[We];$e.buffer===Be&&(Ee.disableVertexAttribArray(We),$e.buffer=null)}Ee.deleteBuffer(Be.buffer),Be.buffer=null,delete Qe[Be.id]}var $e=0,Qe={};g.prototype.bind=function(){Ee.bindBuffer(this.type,this.buffer)},g.prototype.destroy=function(){f(this)};var it=[];return Be.profile&&(ze.getTotalBufferSize=function(){var Ee=0;return Object.keys(Qe).forEach((function(ze){Ee+=Qe[ze].stats.size})),Ee}),{create:function(Ue,$e,it,ct){function l(ze){var Ue=35044,We=null,$e=0,Qe=0,rt=1;return Array.isArray(ze)||M(ze)||ma(ze)||ze instanceof ArrayBuffer?We=ze:"number"==typeof ze?$e=0|ze:ze&&("data"in ze&&(We=ze.data),"usage"in ze&&(Ue=tt[ze.usage]),"type"in ze&&(Qe=et[ze.type]),"dimension"in ze&&(rt=0|ze.dimension),"length"in ze&&($e=0|ze.length)),ft.bind(),We?p(ft,We,Ue,Qe,rt,ct):($e&&Ee.bufferData(ft.type,$e,Ue),ft.dtype=Qe||5121,ft.usage=Ue,ft.dimension=rt,ft.byteLength=$e),Be.profile&&(ft.stats.size=ft.byteLength*at[ft.dtype]),l}ze.bufferCount++;var ft=new g($e);return Qe[ft.id]=ft,it||l(Ue),l._reglType="buffer",l._buffer=ft,l.subdata=function(ze,Be){var Ue,$e=0|(Be||0);if(ft.bind(),M(ze)||ze instanceof ArrayBuffer)Ee.bufferSubData(ft.type,$e,ze);else if(Array.isArray(ze)){if(0<ze.length)if("number"==typeof ze[0]){var Qe=We.allocType(ft.dtype,ze.length);fb(Qe,ze),Ee.bufferSubData(ft.type,$e,Qe),We.freeType(Qe)}else(Array.isArray(ze[0])||M(ze[0]))&&(Ue=nt(ze),Qe=rt(ze,Ue,ft.dtype),Ee.bufferSubData(ft.type,$e,Qe),We.freeType(Qe))}else if(ma(ze)){Ue=ze.shape;var et=ze.stride,tt=Qe=0,at=0,it=0;1===Ue.length?(Qe=Ue[0],tt=1,at=et[0],it=0):2===Ue.length&&(Qe=Ue[0],tt=Ue[1],at=et[0],it=et[1]),Ue=Array.isArray(ze.data)?ft.dtype:Ha(ze.data),gb(Ue=We.allocType(Ue,Qe*tt),ze.data,Qe,tt,at,it,ze.offset),Ee.bufferSubData(ft.type,$e,Ue),We.freeType(Ue)}return l},Be.profile&&(l.stats=ft.stats),l.destroy=function(){f(ft)},l},createStream:function(Ee,ze){var Be=it.pop();return Be||(Be=new g(Ee)),Be.bind(),p(Be,ze,35040,0,1,!1),Be},destroyStream:function(Ee){it.push(Ee)},clear:function(){S(Qe).forEach(f),it.forEach(f)},getBuffer:function(Ee){return Ee&&Ee._buffer instanceof g?Ee._buffer:null},restore:function(){S(Qe).forEach((function(ze){ze.buffer=Ee.createBuffer(),Ee.bindBuffer(ze.type,ze.buffer),Ee.bufferData(ze.type,ze.persistentData||ze.byteLength,ze.usage)}))},_initBuffer:p}}function Hb(Ee,ze,Be,Ue){function g(Ee){this.id=$e++,We[this.id]=this,this.buffer=Ee,this.primType=4,this.type=this.vertCount=0}function d(Ue,We,$e,Qe,et,tt,rt){if(Ue.buffer.bind(),We){var nt=rt;rt||M(We)&&(!ma(We)||M(We.data))||(nt=ze.oes_element_index_uint?5125:5123),Be._initBuffer(Ue.buffer,We,$e,nt,3)}else Ee.bufferData(34963,tt,$e),Ue.buffer.dtype=nt||5121,Ue.buffer.usage=$e,Ue.buffer.dimension=3,Ue.buffer.byteLength=tt;if(nt=rt,!rt){switch(Ue.buffer.dtype){case 5121:case 5120:nt=5121;break;case 5123:case 5122:nt=5123;break;case 5125:case 5124:nt=5125}Ue.buffer.dtype=nt}Ue.type=nt,0>(We=et)&&(We=Ue.buffer.byteLength,5123===nt?We>>=1:5125===nt&&(We>>=2)),Ue.vertCount=We,We=Qe,0>Qe&&(We=4,1===(Qe=Ue.buffer.dimension)&&(We=0),2===Qe&&(We=1),3===Qe&&(We=4)),Ue.primType=We}function p(Ee){Ue.elementsCount--,delete We[Ee.id],Ee.buffer.destroy(),Ee.buffer=null}var We={},$e=0,Qe={uint8:5121,uint16:5123};ze.oes_element_index_uint&&(Qe.uint32=5125),g.prototype.bind=function(){this.buffer.bind()};var et=[];return{create:function(Ee,ze){function k(Ee){if(Ee)if("number"==typeof Ee)We(Ee),$e.primType=4,$e.vertCount=0|Ee,$e.type=5121;else{var ze=null,Be=35044,Ue=-1,et=-1,rt=0,nt=0;Array.isArray(Ee)||M(Ee)||ma(Ee)?ze=Ee:("data"in Ee&&(ze=Ee.data),"usage"in Ee&&(Be=tt[Ee.usage]),"primitive"in Ee&&(Ue=it[Ee.primitive]),"count"in Ee&&(et=0|Ee.count),"type"in Ee&&(nt=Qe[Ee.type]),"length"in Ee?rt=0|Ee.length:(rt=et,5123===nt||5122===nt?rt*=2:5125!==nt&&5124!==nt||(rt*=4))),d($e,ze,Be,Ue,et,rt,nt)}else We(),$e.primType=4,$e.vertCount=0,$e.type=5121;return k}var We=Be.create(null,34963,!0),$e=new g(We._buffer);return Ue.elementsCount++,k(Ee),k._reglType="elements",k._elements=$e,k.subdata=function(Ee,ze){return We.subdata(Ee,ze),k},k.destroy=function(){p($e)},k},createStream:function(Ee){var ze=et.pop();return ze||(ze=new g(Be.create(null,34963,!0,!1)._buffer)),d(ze,Ee,35040,-1,-1,0,0),ze},destroyStream:function(Ee){et.push(Ee)},getElements:function(Ee){return"function"==typeof Ee&&Ee._elements instanceof g?Ee._elements:null},clear:function(){S(We).forEach(p)}}}function kb(Ee){for(var ze=We.allocType(5123,Ee.length),Be=0;Be<Ee.length;++Be)if(isNaN(Ee[Be]))ze[Be]=65535;else if(1/0===Ee[Be])ze[Be]=31744;else if(-1/0===Ee[Be])ze[Be]=64512;else{ct[0]=Ee[Be];var Ue=(Qe=ft[0])>>>31<<15,$e=(Qe<<1>>>24)-127,Qe=Qe>>13&1023;ze[Be]=-24>$e?Ue:-14>$e?Ue+(Qe+1024>>-14-$e):15<$e?Ue+31744:Ue+($e+15<<10)+Qe}return ze}function pa(Ee){return Array.isArray(Ee)||M(Ee)}function Ea(Ee){return"[object "+Ee+"]"}function mb(Ee){return Array.isArray(Ee)&&(0===Ee.length||"number"==typeof Ee[0])}function nb(Ee){return!(!Array.isArray(Ee)||0===Ee.length||!pa(Ee[0]))}function na(Ee){return Object.prototype.toString.call(Ee)}function Ta(Ee){if(!Ee)return!1;var ze=na(Ee);return 0<=Lr.indexOf(ze)||mb(Ee)||nb(Ee)||ma(Ee)}function ob(Ee,ze){36193===Ee.type?(Ee.data=kb(ze),We.freeType(ze)):Ee.data=ze}function Ja(Ee,ze,Be,Ue,We,$e){if(Ee=void 0!==on[Ee]?on[Ee]:Lt[Ee]*Qr[ze],$e&&(Ee*=6),We){for(Ue=0;1<=Be;)Ue+=Ee*Be*Be,Be/=2;return Ue}return Ee*Be*Ue}function Kb(Ee,ze,Be,Ue,et,tt,rt){function f(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function r(Ee,ze){Ee.internalformat=ze.internalformat,Ee.format=ze.format,Ee.type=ze.type,Ee.compressed=ze.compressed,Ee.premultiplyAlpha=ze.premultiplyAlpha,Ee.flipY=ze.flipY,Ee.unpackAlignment=ze.unpackAlignment,Ee.colorSpace=ze.colorSpace,Ee.width=ze.width,Ee.height=ze.height,Ee.channels=ze.channels}function q(Ee,ze){if("object"==typeof ze&&ze){"premultiplyAlpha"in ze&&(Ee.premultiplyAlpha=ze.premultiplyAlpha),"flipY"in ze&&(Ee.flipY=ze.flipY),"alignment"in ze&&(Ee.unpackAlignment=ze.alignment),"colorSpace"in ze&&(Ee.colorSpace=ft[ze.colorSpace]),"type"in ze&&(Ee.type=Lr[ze.type]);var Be=Ee.width,Ue=Ee.height,We=Ee.channels,$e=!1;"shape"in ze?(Be=ze.shape[0],Ue=ze.shape[1],3===ze.shape.length&&(We=ze.shape[2],$e=!0)):("radius"in ze&&(Be=Ue=ze.radius),"width"in ze&&(Be=ze.width),"height"in ze&&(Ue=ze.height),"channels"in ze&&(We=ze.channels,$e=!0)),Ee.width=0|Be,Ee.height=0|Ue,Ee.channels=0|We,Be=!1,"format"in ze&&(Be=ze.format,Ue=Ee.internalformat=Qr[Be],Ee.format=yn[Ue],Be in Lr&&!("type"in ze)&&(Ee.type=Lr[Be]),Be in on&&(Ee.compressed=!0),Be=!0),!$e&&Be?Ee.channels=Lt[Ee.format]:$e&&!Be&&Ee.channels!==kt[Ee.format]&&(Ee.format=Ee.internalformat=kt[Ee.channels])}}function t(ze){Ee.pixelStorei(37440,ze.flipY),Ee.pixelStorei(37441,ze.premultiplyAlpha),Ee.pixelStorei(37443,ze.colorSpace),Ee.pixelStorei(3317,ze.unpackAlignment)}function m(){f.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function C(Ee,ze){var Be=null;if(Ta(ze)?Be=ze:ze&&(q(Ee,ze),"x"in ze&&(Ee.xOffset=0|ze.x),"y"in ze&&(Ee.yOffset=0|ze.y),Ta(ze.data)&&(Be=ze.data)),ze.copy){var Ue=et.viewportWidth,tt=et.viewportHeight;Ee.width=Ee.width||Ue-Ee.xOffset,Ee.height=Ee.height||tt-Ee.yOffset,Ee.needsCopy=!0}else if(Be){if(M(Be))Ee.channels=Ee.channels||4,Ee.data=Be,"type"in ze||5121!==Ee.type||(Ee.type=0|Qe[Object.prototype.toString.call(Be)]);else if(mb(Be)){switch(Ee.channels=Ee.channels||4,tt=(Ue=Be).length,Ee.type){case 5121:case 5123:case 5125:case 5126:(tt=We.allocType(Ee.type,tt)).set(Ue),Ee.data=tt;break;case 36193:Ee.data=kb(Ue)}Ee.alignment=1,Ee.needsFree=!0}else if(ma(Be)){Ue=Be.data,Array.isArray(Ue)||5121!==Ee.type||(Ee.type=0|Qe[Object.prototype.toString.call(Ue)]),tt=Be.shape;var rt,nt,at,it,ct=Be.stride;3===tt.length?(at=tt[2],it=ct[2]):it=at=1,rt=tt[0],nt=tt[1],tt=ct[0],ct=ct[1],Ee.alignment=1,Ee.width=rt,Ee.height=nt,Ee.channels=at,Ee.format=Ee.internalformat=kt[at],Ee.needsFree=!0,rt=it,Be=Be.offset,at=Ee.width,it=Ee.height,nt=Ee.channels;for(var ft=We.allocType(36193===Ee.type?5126:Ee.type,at*it*nt),xt=0,Lt=0;Lt<it;++Lt)for(var Lr=0;Lr<at;++Lr)for(var Qr=0;Qr<nt;++Qr)ft[xt++]=Ue[tt*Lr+ct*Lt+rt*Qr+Be];ob(Ee,ft)}else if(na(Be)===Ut||na(Be)===er)na(Be)===Ut?Ee.element=Be:Ee.element=Be.canvas,Ee.width=Ee.element.width,Ee.height=Ee.element.height,Ee.channels=4;else if(na(Be)===tr)Ee.element=Be,Ee.width=Be.width,Ee.height=Be.height,Ee.channels=4;else if(na(Be)===rr)Ee.element=Be,Ee.width=Be.naturalWidth,Ee.height=Be.naturalHeight,Ee.channels=4;else if(na(Be)===ar)Ee.element=Be,Ee.width=Be.videoWidth,Ee.height=Be.videoHeight,Ee.channels=4;else if(nb(Be)){for(Ue=Ee.width||Be[0].length,tt=Ee.height||Be.length,ct=Ee.channels,ct=pa(Be[0][0])?ct||Be[0][0].length:ct||1,rt=$e.shape(Be),at=1,it=0;it<rt.length;++it)at*=rt[it];at=We.allocType(36193===Ee.type?5126:Ee.type,at),$e.flatten(Be,rt,"",at),ob(Ee,at),Ee.alignment=1,Ee.width=Ue,Ee.height=tt,Ee.channels=ct,Ee.format=Ee.internalformat=kt[ct],Ee.needsFree=!0}}else Ee.width=Ee.width||1,Ee.height=Ee.height||1,Ee.channels=Ee.channels||4}function k(ze,Be,We,$e,Qe){var et=ze.element,tt=ze.data,rt=ze.internalformat,nt=ze.format,at=ze.type,it=ze.width,ct=ze.height;t(ze),et?Ee.texSubImage2D(Be,Qe,We,$e,nt,at,et):ze.compressed?Ee.compressedTexSubImage2D(Be,Qe,We,$e,rt,it,ct,tt):ze.needsCopy?(Ue(),Ee.copyTexSubImage2D(Be,Qe,We,$e,ze.xOffset,ze.yOffset,it,ct)):Ee.texSubImage2D(Be,Qe,We,$e,it,ct,nt,at,tt)}function h(){return _n.pop()||new m}function l(Ee){Ee.needsFree&&We.freeType(Ee.data),m.call(Ee),_n.push(Ee)}function u(){f.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function v(Ee,ze,Be){var Ue=Ee.images[0]=h();Ee.mipmask=1,Ue.width=Ee.width=ze,Ue.height=Ee.height=Be,Ue.channels=Ee.channels=4}function N(Ee,ze){var Be=null;if(Ta(ze))r(Be=Ee.images[0]=h(),Ee),C(Be,ze),Ee.mipmask=1;else if(q(Ee,ze),Array.isArray(ze.mipmap))for(var Ue=ze.mipmap,We=0;We<Ue.length;++We)r(Be=Ee.images[We]=h(),Ee),Be.width>>=We,Be.height>>=We,C(Be,Ue[We]),Ee.mipmask|=1<<We;else r(Be=Ee.images[0]=h(),Ee),C(Be,ze),Ee.mipmask=1;r(Ee,Ee.images[0])}function B(ze,Be){for(var $e=ze.images,Qe=0;Qe<$e.length&&$e[Qe];++Qe){var et=$e[Qe],tt=Be,rt=Qe,nt=et.element,at=et.data,it=et.internalformat,ct=et.format,ft=et.type,xt=et.width,kt=et.height,Lt=et.channels;t(et),nt?Ee.texImage2D(tt,rt,ct,ct,ft,nt):et.compressed?Ee.compressedTexImage2D(tt,rt,it,xt,kt,0,at):et.needsCopy?(Ue(),Ee.copyTexImage2D(tt,rt,ct,et.xOffset,et.yOffset,xt,kt,0)):((et=!at)&&(at=We.zero.allocType(ft,xt*kt*Lt)),Ee.texImage2D(tt,rt,ct,xt,kt,0,ct,ft,at),et&&at&&We.zero.freeType(at))}}function D(){var Ee=Mn.pop()||new u;f.call(Ee);for(var ze=Ee.mipmask=0;16>ze;++ze)Ee.images[ze]=null;return Ee}function ib(Ee){for(var ze=Ee.images,Be=0;Be<ze.length;++Be)ze[Be]&&l(ze[Be]),ze[Be]=null;Mn.push(Ee)}function z(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function O(Ee,ze){"min"in ze&&(Ee.minFilter=ct[ze.min],0<=xt.indexOf(Ee.minFilter)&&!("faces"in ze)&&(Ee.genMipmaps=!0)),"mag"in ze&&(Ee.magFilter=it[ze.mag]);var Be=Ee.wrapS,Ue=Ee.wrapT;if("wrap"in ze){var We=ze.wrap;"string"==typeof We?Be=Ue=at[We]:Array.isArray(We)&&(Be=at[We[0]],Ue=at[We[1]])}else"wrapS"in ze&&(Be=at[ze.wrapS]),"wrapT"in ze&&(Ue=at[ze.wrapT]);if(Ee.wrapS=Be,Ee.wrapT=Ue,"anisotropic"in ze&&(Ee.anisotropic=ze.anisotropic),"mipmap"in ze){switch(Be=!1,typeof ze.mipmap){case"string":Ee.mipmapHint=nt[ze.mipmap],Be=Ee.genMipmaps=!0;break;case"boolean":Be=Ee.genMipmaps=ze.mipmap;break;case"object":Ee.genMipmaps=!1,Be=!0}!Be||"min"in ze||(Ee.minFilter=9984)}}function R(Be,Ue){Ee.texParameteri(Ue,10241,Be.minFilter),Ee.texParameteri(Ue,10240,Be.magFilter),Ee.texParameteri(Ue,10242,Be.wrapS),Ee.texParameteri(Ue,10243,Be.wrapT),ze.ext_texture_filter_anisotropic&&Ee.texParameteri(Ue,34046,Be.anisotropic),Be.genMipmaps&&(Ee.hint(33170,Be.mipmapHint),Ee.generateMipmap(Ue))}function F(ze){f.call(this),this.mipmask=0,this.internalformat=6408,this.id=Cn++,this.refCount=1,this.target=ze,this.texture=Ee.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new z,rt.profile&&(this.stats={size:0})}function T(ze){Ee.activeTexture(33984),Ee.bindTexture(ze.target,ze.texture)}function Aa(){var ze=In[0];ze?Ee.bindTexture(ze.target,ze.texture):Ee.bindTexture(3553,null)}function A(ze){var Be=ze.texture,Ue=ze.unit,We=ze.target;0<=Ue&&(Ee.activeTexture(33984+Ue),Ee.bindTexture(We,null),In[Ue]=null),Ee.deleteTexture(Be),ze.texture=null,ze.params=null,ze.pixels=null,ze.refCount=0,delete En[ze.id],tt.textureCount--}var nt={"don't care":4352,"dont care":4352,nice:4354,fast:4353},at={repeat:10497,clamp:33071,mirror:33648},it={nearest:9728,linear:9729},ct=E({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},it),ft={none:0,browser:37444},Lr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Qr={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},on={};ze.ext_srgb&&(Qr.srgb=35904,Qr.srgba=35906),ze.oes_texture_float&&(Lr.float32=Lr.float=5126),ze.oes_texture_half_float&&(Lr.float16=Lr["half float"]=36193),ze.webgl_depth_texture&&(E(Qr,{depth:6402,"depth stencil":34041}),E(Lr,{uint16:5123,uint32:5125,"depth stencil":34042})),ze.webgl_compressed_texture_s3tc&&E(on,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),ze.webgl_compressed_texture_atc&&E(on,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),ze.webgl_compressed_texture_pvrtc&&E(on,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),ze.webgl_compressed_texture_etc1&&(on["rgb etc1"]=36196);var sn=Array.prototype.slice.call(Ee.getParameter(34467));Object.keys(on).forEach((function(Ee){var ze=on[Ee];0<=sn.indexOf(ze)&&(Qr[Ee]=ze)}));var ln=Object.keys(Qr);Be.textureFormats=ln;var cn=[];Object.keys(Qr).forEach((function(Ee){cn[Qr[Ee]]=Ee}));var un=[];Object.keys(Lr).forEach((function(Ee){un[Lr[Ee]]=Ee}));var hn=[];Object.keys(it).forEach((function(Ee){hn[it[Ee]]=Ee}));var dn=[];Object.keys(ct).forEach((function(Ee){dn[ct[Ee]]=Ee}));var vn=[];Object.keys(at).forEach((function(Ee){vn[at[Ee]]=Ee}));var yn=ln.reduce((function(Ee,ze){var Be=Qr[ze];return 6409===Be||6406===Be||6409===Be||6410===Be||6402===Be||34041===Be?Ee[Be]=Be:32855===Be||0<=ze.indexOf("rgba")?Ee[Be]=6408:Ee[Be]=6407,Ee}),{}),_n=[],Mn=[],Cn=0,En={},Pn=Be.maxTextureUnits,In=Array(Pn).map((function(){return null}));return E(F.prototype,{bind:function(){this.bindCount+=1;var ze=this.unit;if(0>ze){for(var Be=0;Be<Pn;++Be){var Ue=In[Be];if(Ue){if(0<Ue.bindCount)continue;Ue.unit=-1}In[Be]=this,ze=Be;break}rt.profile&&tt.maxTextureUnits<ze+1&&(tt.maxTextureUnits=ze+1),this.unit=ze,Ee.activeTexture(33984+ze),Ee.bindTexture(this.target,this.texture)}return ze},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&A(this)}}),rt.profile&&(tt.getTotalTextureSize=function(){var Ee=0;return Object.keys(En).forEach((function(ze){Ee+=En[ze].stats.size})),Ee}),{create2D:function(ze,Be){function e(Ee,ze){var Be=Ue.texInfo;z.call(Be);var We=D();return"number"==typeof Ee?v(We,0|Ee,"number"==typeof ze?0|ze:0|Ee):Ee?(O(Be,Ee),N(We,Ee)):v(We,1,1),Be.genMipmaps&&(We.mipmask=(We.width<<1)-1),Ue.mipmask=We.mipmask,r(Ue,We),Ue.internalformat=We.internalformat,e.width=We.width,e.height=We.height,T(Ue),B(We,3553),R(Be,3553),Aa(),ib(We),rt.profile&&(Ue.stats.size=Ja(Ue.internalformat,Ue.type,We.width,We.height,Be.genMipmaps,!1)),e.format=cn[Ue.internalformat],e.type=un[Ue.type],e.mag=hn[Be.magFilter],e.min=dn[Be.minFilter],e.wrapS=vn[Be.wrapS],e.wrapT=vn[Be.wrapT],e}var Ue=new F(3553);return En[Ue.id]=Ue,tt.textureCount++,e(ze,Be),e.subimage=function(Ee,ze,Be,We){ze|=0,Be|=0,We|=0;var $e=h();return r($e,Ue),$e.width=0,$e.height=0,C($e,Ee),$e.width=$e.width||(Ue.width>>We)-ze,$e.height=$e.height||(Ue.height>>We)-Be,T(Ue),k($e,3553,ze,Be,We),Aa(),l($e),e},e.resize=function(ze,Be){var $e=0|ze,Qe=0|Be||$e;if($e===Ue.width&&Qe===Ue.height)return e;e.width=Ue.width=$e,e.height=Ue.height=Qe,T(Ue);for(var et,tt=Ue.channels,nt=Ue.type,at=0;Ue.mipmask>>at;++at){var it=$e>>at,ct=Qe>>at;if(!it||!ct)break;et=We.zero.allocType(nt,it*ct*tt),Ee.texImage2D(3553,at,Ue.format,it,ct,0,Ue.format,Ue.type,et),et&&We.zero.freeType(et)}return Aa(),rt.profile&&(Ue.stats.size=Ja(Ue.internalformat,Ue.type,$e,Qe,!1,!1)),e},e._reglType="texture2d",e._texture=Ue,rt.profile&&(e.stats=Ue.stats),e.destroy=function(){Ue.decRef()},e},createCube:function(ze,Be,Ue,We,$e,Qe){function A(Ee,ze,Be,Ue,We,$e){var Qe,tt=et.texInfo;for(z.call(tt),Qe=0;6>Qe;++Qe)nt[Qe]=D();if("number"!=typeof Ee&&Ee){if("object"==typeof Ee)if(ze)N(nt[0],Ee),N(nt[1],ze),N(nt[2],Be),N(nt[3],Ue),N(nt[4],We),N(nt[5],$e);else if(O(tt,Ee),q(et,Ee),"faces"in Ee)for(Ee=Ee.faces,Qe=0;6>Qe;++Qe)r(nt[Qe],et),N(nt[Qe],Ee[Qe]);else for(Qe=0;6>Qe;++Qe)N(nt[Qe],Ee)}else for(Ee=0|Ee||1,Qe=0;6>Qe;++Qe)v(nt[Qe],Ee,Ee);for(r(et,nt[0]),et.mipmask=tt.genMipmaps?(nt[0].width<<1)-1:nt[0].mipmask,et.internalformat=nt[0].internalformat,A.width=nt[0].width,A.height=nt[0].height,T(et),Qe=0;6>Qe;++Qe)B(nt[Qe],34069+Qe);for(R(tt,34067),Aa(),rt.profile&&(et.stats.size=Ja(et.internalformat,et.type,A.width,A.height,tt.genMipmaps,!0)),A.format=cn[et.internalformat],A.type=un[et.type],A.mag=hn[tt.magFilter],A.min=dn[tt.minFilter],A.wrapS=vn[tt.wrapS],A.wrapT=vn[tt.wrapT],Qe=0;6>Qe;++Qe)ib(nt[Qe]);return A}var et=new F(34067);En[et.id]=et,tt.cubeCount++;var nt=Array(6);return A(ze,Be,Ue,We,$e,Qe),A.subimage=function(Ee,ze,Be,Ue,We){Be|=0,Ue|=0,We|=0;var $e=h();return r($e,et),$e.width=0,$e.height=0,C($e,ze),$e.width=$e.width||(et.width>>We)-Be,$e.height=$e.height||(et.height>>We)-Ue,T(et),k($e,34069+Ee,Be,Ue,We),Aa(),l($e),A},A.resize=function(ze){if((ze|=0)!==et.width){A.width=et.width=ze,A.height=et.height=ze,T(et);for(var Be=0;6>Be;++Be)for(var Ue=0;et.mipmask>>Ue;++Ue)Ee.texImage2D(34069+Be,Ue,et.format,ze>>Ue,ze>>Ue,0,et.format,et.type,null);return Aa(),rt.profile&&(et.stats.size=Ja(et.internalformat,et.type,A.width,A.height,!1,!0)),A}},A._reglType="textureCube",A._texture=et,rt.profile&&(A.stats=et.stats),A.destroy=function(){et.decRef()},A},clear:function(){for(var ze=0;ze<Pn;++ze)Ee.activeTexture(33984+ze),Ee.bindTexture(3553,null),In[ze]=null;S(En).forEach(A),tt.cubeCount=0,tt.textureCount=0},getTexture:function(Ee){return null},restore:function(){for(var ze=0;ze<Pn;++ze){var Be=In[ze];Be&&(Be.bindCount=0,Be.unit=-1,In[ze]=null)}S(En).forEach((function(ze){ze.texture=Ee.createTexture(),Ee.bindTexture(ze.target,ze.texture);for(var Be=0;32>Be;++Be)if(0!=(ze.mipmask&1<<Be))if(3553===ze.target)Ee.texImage2D(3553,Be,ze.internalformat,ze.width>>Be,ze.height>>Be,0,ze.internalformat,ze.type,null);else for(var Ue=0;6>Ue;++Ue)Ee.texImage2D(34069+Ue,Be,ze.internalformat,ze.width>>Be,ze.height>>Be,0,ze.internalformat,ze.type,null);R(ze.texInfo,ze.target)}))}}}function Ob(Ee,ze,Be,Ue,We,$e){function p(Ee,ze,Be){this.target=Ee,this.texture=ze,this.renderbuffer=Be;var Ue=Ee=0;ze?(Ee=ze.width,Ue=ze.height):Be&&(Ee=Be.width,Ue=Be.height),this.width=Ee,this.height=Ue}function f(Ee){Ee&&(Ee.texture&&Ee.texture._texture.decRef(),Ee.renderbuffer&&Ee.renderbuffer._renderbuffer.decRef())}function r(Ee,ze,Be){Ee&&(Ee.texture?Ee.texture._texture.refCount+=1:Ee.renderbuffer._renderbuffer.refCount+=1)}function q(ze,Be){Be&&(Be.texture?Ee.framebufferTexture2D(36160,ze,Be.target,Be.texture._texture.texture,0):Ee.framebufferRenderbuffer(36160,ze,36161,Be.renderbuffer._renderbuffer.renderbuffer))}function t(Ee){var ze=3553,Be=null,Ue=null,We=Ee;return"object"==typeof Ee&&(We=Ee.data,"target"in Ee&&(ze=0|Ee.target)),"texture2d"===(Ee=We._reglType)||"textureCube"===Ee?Be=We:"renderbuffer"===Ee&&(Ue=We,ze=36161),new p(ze,Be,Ue)}function m(Ee,ze,Be,$e,Qe){return Be?((Ee=Ue.create2D({width:Ee,height:ze,format:$e,type:Qe}))._texture.refCount=0,new p(3553,Ee,null)):((Ee=We.create({width:Ee,height:ze,format:$e}))._renderbuffer.refCount=0,new p(36161,null,Ee))}function C(Ee){return Ee&&(Ee.texture||Ee.renderbuffer)}function k(Ee,ze,Be){Ee&&(Ee.texture?Ee.texture.resize(ze,Be):Ee.renderbuffer&&Ee.renderbuffer.resize(ze,Be),Ee.width=ze,Ee.height=Be)}function h(){this.id=nt++,at[this.id]=this,this.framebuffer=Ee.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function l(Ee){Ee.colorAttachments.forEach(f),f(Ee.depthAttachment),f(Ee.stencilAttachment),f(Ee.depthStencilAttachment)}function u(ze){Ee.deleteFramebuffer(ze.framebuffer),ze.framebuffer=null,$e.framebufferCount--,delete at[ze.id]}function v(ze){var Ue;Ee.bindFramebuffer(36160,ze.framebuffer);var We=ze.colorAttachments;for(Ue=0;Ue<We.length;++Ue)q(36064+Ue,We[Ue]);for(Ue=We.length;Ue<Be.maxColorAttachments;++Ue)Ee.framebufferTexture2D(36160,36064+Ue,3553,null,0);Ee.framebufferTexture2D(36160,33306,3553,null,0),Ee.framebufferTexture2D(36160,36096,3553,null,0),Ee.framebufferTexture2D(36160,36128,3553,null,0),q(36096,ze.depthAttachment),q(36128,ze.stencilAttachment),q(33306,ze.depthStencilAttachment),Ee.checkFramebufferStatus(36160),Ee.isContextLost(),Ee.bindFramebuffer(36160,Qe.next?Qe.next.framebuffer:null),Qe.cur=Qe.next,Ee.getError()}function N(Ee,ze){function c(Ee,ze){var Ue,We=0,$e=0,Qe=!0,rt=!0;Ue=null;var nt=!0,at="rgba",it="uint8",ct=1,ft=null,xt=null,kt=null,Lt=!1;"number"==typeof Ee?(We=0|Ee,$e=0|ze||We):Ee?("shape"in Ee?(We=($e=Ee.shape)[0],$e=$e[1]):("radius"in Ee&&(We=$e=Ee.radius),"width"in Ee&&(We=Ee.width),"height"in Ee&&($e=Ee.height)),("color"in Ee||"colors"in Ee)&&(Ue=Ee.color||Ee.colors,Array.isArray(Ue)),Ue||("colorCount"in Ee&&(ct=0|Ee.colorCount),"colorTexture"in Ee&&(nt=!!Ee.colorTexture,at="rgba4"),"colorType"in Ee&&(it=Ee.colorType,!nt)&&("half float"===it||"float16"===it?at="rgba16f":"float"!==it&&"float32"!==it||(at="rgba32f")),"colorFormat"in Ee&&(at=Ee.colorFormat,0<=et.indexOf(at)?nt=!0:0<=tt.indexOf(at)&&(nt=!1))),("depthTexture"in Ee||"depthStencilTexture"in Ee)&&(Lt=!(!Ee.depthTexture&&!Ee.depthStencilTexture)),"depth"in Ee&&("boolean"==typeof Ee.depth?Qe=Ee.depth:(ft=Ee.depth,rt=!1)),"stencil"in Ee&&("boolean"==typeof Ee.stencil?rt=Ee.stencil:(xt=Ee.stencil,Qe=!1)),"depthStencil"in Ee&&("boolean"==typeof Ee.depthStencil?Qe=rt=Ee.depthStencil:(kt=Ee.depthStencil,rt=Qe=!1))):We=$e=1;var Ut=null,er=null,tr=null,rr=null;if(Array.isArray(Ue))Ut=Ue.map(t);else if(Ue)Ut=[t(Ue)];else for(Ut=Array(ct),Ue=0;Ue<ct;++Ue)Ut[Ue]=m(We,$e,nt,at,it);for(We=We||Ut[0].width,$e=$e||Ut[0].height,ft?er=t(ft):Qe&&!rt&&(er=m(We,$e,Lt,"depth","uint32")),xt?tr=t(xt):rt&&!Qe&&(tr=m(We,$e,!1,"stencil","uint8")),kt?rr=t(kt):!ft&&!xt&&rt&&Qe&&(rr=m(We,$e,Lt,"depth stencil","depth stencil")),Qe=null,Ue=0;Ue<Ut.length;++Ue)r(Ut[Ue]),Ut[Ue]&&Ut[Ue].texture&&(rt=ln[Ut[Ue].texture._texture.format]*cn[Ut[Ue].texture._texture.type],null===Qe&&(Qe=rt));return r(er),r(tr),r(rr),l(Be),Be.width=We,Be.height=$e,Be.colorAttachments=Ut,Be.depthAttachment=er,Be.stencilAttachment=tr,Be.depthStencilAttachment=rr,c.color=Ut.map(C),c.depth=C(er),c.stencil=C(tr),c.depthStencil=C(rr),c.width=Be.width,c.height=Be.height,v(Be),c}var Be=new h;return $e.framebufferCount++,c(Ee,ze),E(c,{resize:function(Ee,ze){var Ue=Math.max(0|Ee,1),We=Math.max(0|ze||Ue,1);if(Ue===Be.width&&We===Be.height)return c;for(var $e=Be.colorAttachments,Qe=0;Qe<$e.length;++Qe)k($e[Qe],Ue,We);return k(Be.depthAttachment,Ue,We),k(Be.stencilAttachment,Ue,We),k(Be.depthStencilAttachment,Ue,We),Be.width=c.width=Ue,Be.height=c.height=We,v(Be),c},_reglType:"framebuffer",_framebuffer:Be,destroy:function(){u(Be),l(Be)},use:function(Ee){Qe.setFBO({framebuffer:c},Ee)}})}var Qe={cur:null,next:null,dirty:!1,setFBO:null},et=["rgba"],tt=["rgba4","rgb565","rgb5 a1"];ze.ext_srgb&&tt.push("srgba"),ze.ext_color_buffer_half_float&&tt.push("rgba16f","rgb16f"),ze.webgl_color_buffer_float&&tt.push("rgba32f");var rt=["uint8"];ze.oes_texture_half_float&&rt.push("half float","float16"),ze.oes_texture_float&&rt.push("float","float32");var nt=0,at={};return E(Qe,{getFramebuffer:function(Ee){return"function"==typeof Ee&&"framebuffer"===Ee._reglType&&(Ee=Ee._framebuffer)instanceof h?Ee:null},create:N,createCube:function(Ee){function b(Ee){var Be,We={color:null},$e=0,Qe=null;Be="rgba";var et="uint8",tt=1;if("number"==typeof Ee?$e=0|Ee:Ee?("shape"in Ee?$e=Ee.shape[0]:("radius"in Ee&&($e=0|Ee.radius),"width"in Ee?$e=0|Ee.width:"height"in Ee&&($e=0|Ee.height)),("color"in Ee||"colors"in Ee)&&(Qe=Ee.color||Ee.colors,Array.isArray(Qe)),Qe||("colorCount"in Ee&&(tt=0|Ee.colorCount),"colorType"in Ee&&(et=Ee.colorType),"colorFormat"in Ee&&(Be=Ee.colorFormat)),"depth"in Ee&&(We.depth=Ee.depth),"stencil"in Ee&&(We.stencil=Ee.stencil),"depthStencil"in Ee&&(We.depthStencil=Ee.depthStencil)):$e=1,Qe)if(Array.isArray(Qe))for(Ee=[],Be=0;Be<Qe.length;++Be)Ee[Be]=Qe[Be];else Ee=[Qe];else for(Ee=Array(tt),Qe={radius:$e,format:Be,type:et},Be=0;Be<tt;++Be)Ee[Be]=Ue.createCube(Qe);for(We.color=Array(Ee.length),Be=0;Be<Ee.length;++Be)tt=Ee[Be],$e=$e||tt.width,We.color[Be]={target:34069,data:Ee[Be]};for(Be=0;6>Be;++Be){for(tt=0;tt<Ee.length;++tt)We.color[tt].target=34069+Be;0<Be&&(We.depth=ze[0].depth,We.stencil=ze[0].stencil,We.depthStencil=ze[0].depthStencil),ze[Be]?ze[Be](We):ze[Be]=N(We)}return E(b,{width:$e,height:$e,color:Ee})}var ze=Array(6);return b(Ee),E(b,{faces:ze,resize:function(Ee){var Be=0|Ee;if(Be===b.width)return b;var Ue=b.color;for(Ee=0;Ee<Ue.length;++Ee)Ue[Ee].resize(Be);for(Ee=0;6>Ee;++Ee)ze[Ee].resize(Be);return b.width=b.height=Be,b},_reglType:"framebufferCube",destroy:function(){ze.forEach((function(Ee){Ee.destroy()}))}})},clear:function(){S(at).forEach(u)},restore:function(){Qe.cur=null,Qe.next=null,Qe.dirty=!0,S(at).forEach((function(ze){ze.framebuffer=Ee.createFramebuffer(),v(ze)}))}})}function ub(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function Qb(Ee,ze,Be,Ue){function g(Ee,ze,Be,Ue){this.name=Ee,this.id=ze,this.location=Be,this.info=Ue}function d(Ee,ze){for(var Be=0;Be<Ee.length;++Be)if(Ee[Be].id===ze.id)return void(Ee[Be].location=ze.location);Ee.push(ze)}function p(Be,Ue,Qe){if(!(tt=(Qe=35632===Be?We:$e)[Ue])){var et=ze.str(Ue),tt=Ee.createShader(Be);Ee.shaderSource(tt,et),Ee.compileShader(tt),Qe[Ue]=tt}return tt}function f(Ee,ze){this.id=tt++,this.fragId=Ee,this.vertId=ze,this.program=null,this.uniforms=[],this.attributes=[],Ue.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function r(Be,We){var $e,Qe;$e=p(35632,Be.fragId),Qe=p(35633,Be.vertId);var et=Be.program=Ee.createProgram();Ee.attachShader(et,$e),Ee.attachShader(et,Qe),Ee.linkProgram(et);var tt=Ee.getProgramParameter(et,35718);Ue.profile&&(Be.stats.uniformsCount=tt);var rt=Be.uniforms;for($e=0;$e<tt;++$e)if(Qe=Ee.getActiveUniform(et,$e))if(1<Qe.size)for(var nt=0;nt<Qe.size;++nt){var at=Qe.name.replace("[0]","["+nt+"]");d(rt,new g(at,ze.id(at),Ee.getUniformLocation(et,at),Qe))}else d(rt,new g(Qe.name,ze.id(Qe.name),Ee.getUniformLocation(et,Qe.name),Qe));for(tt=Ee.getProgramParameter(et,35721),Ue.profile&&(Be.stats.attributesCount=tt),rt=Be.attributes,$e=0;$e<tt;++$e)(Qe=Ee.getActiveAttrib(et,$e))&&d(rt,new g(Qe.name,ze.id(Qe.name),Ee.getAttribLocation(et,Qe.name),Qe))}var We={},$e={},Qe={},et=[],tt=0;return Ue.profile&&(Be.getMaxUniformsCount=function(){var Ee=0;return et.forEach((function(ze){ze.stats.uniformsCount>Ee&&(Ee=ze.stats.uniformsCount)})),Ee},Be.getMaxAttributesCount=function(){var Ee=0;return et.forEach((function(ze){ze.stats.attributesCount>Ee&&(Ee=ze.stats.attributesCount)})),Ee}),{clear:function(){var ze=Ee.deleteShader.bind(Ee);S(We).forEach(ze),We={},S($e).forEach(ze),$e={},et.forEach((function(ze){Ee.deleteProgram(ze.program)})),et.length=0,Qe={},Be.shaderCount=0},program:function(Ee,ze,Ue){var We=Qe[ze];We||(We=Qe[ze]={});var $e=We[Ee];return $e||($e=new f(ze,Ee),Be.shaderCount++,r($e),We[Ee]=$e,et.push($e)),$e},restore:function(){We={},$e={};for(var Ee=0;Ee<et.length;++Ee)r(et[Ee])},shader:p,frag:-1,vert:-1}}function Rb(Ee,ze,Be,Ue,We,$e,Qe){function f(We){var $e;$e=null===ze.next?5121:ze.next.colorAttachments[0].texture._texture.type;var Qe=0,et=0,tt=Ue.framebufferWidth,rt=Ue.framebufferHeight,nt=null;return M(We)?nt=We:We&&(Qe=0|We.x,et=0|We.y,tt=0|(We.width||Ue.framebufferWidth-Qe),rt=0|(We.height||Ue.framebufferHeight-et),nt=We.data||null),Be(),We=tt*rt*4,nt||(5121===$e?nt=new Uint8Array(We):5126===$e&&(nt=nt||new Float32Array(We))),Ee.pixelStorei(3333,4),Ee.readPixels(Qe,et,tt,rt,6408,$e,nt),nt}return function(Ee){return Ee&&"framebuffer"in Ee?function r(Ee){var Be;return ze.setFBO({framebuffer:Ee.framebuffer},(function(){Be=f(Ee)})),Be}(Ee):f(Ee)}}function Ba(Ee){return Array.prototype.slice.call(Ee)}function Ca(Ee){return Ba(Ee).join("")}function Sb(){function a(){var ze=[],Be=[];return E((function(){ze.push.apply(ze,Ba(arguments))}),{def:function(){var Ue="v"+Ee++;return Be.push(Ue),0<arguments.length&&(ze.push(Ue,"="),ze.push.apply(ze,Ba(arguments)),ze.push(";")),Ue},toString:function(){return Ca([0<Be.length?"var "+Be.join(",")+";":"",Ca(ze)])}})}function b(){function b(Be,Ue){ze(Be,Ue,"=",Ee.def(Be,Ue),";")}var Ee=a(),ze=a(),Be=Ee.toString,Ue=ze.toString;return E((function(){Ee.apply(Ee,Ba(arguments))}),{def:Ee.def,entry:Ee,exit:ze,save:b,set:function(ze,Be,Ue){b(ze,Be),Ee(ze,Be,"=",Ue,";")},toString:function(){return Be()+Ue()}})}var Ee=0,ze=[],Be=[],Ue=a(),We={};return{global:Ue,link:function(Ue){for(var We=0;We<Be.length;++We)if(Be[We]===Ue)return ze[We];return We="g"+Ee++,ze.push(We),Be.push(Ue),We},block:a,proc:function(Ee,ze){function d(){var Ee="a"+Be.length;return Be.push(Ee),Ee}var Be=[];ze=ze||0;for(var Ue=0;Ue<ze;++Ue)d();var $e=(Ue=b()).toString;return We[Ee]=E(Ue,{arg:d,toString:function(){return Ca(["function(",Be.join(),"){",$e(),"}"])}})},scope:b,cond:function(){var Ee=Ca(arguments),ze=b(),Be=b(),Ue=ze.toString,We=Be.toString;return E(ze,{then:function(){return ze.apply(ze,Ba(arguments)),this},else:function(){return Be.apply(Be,Ba(arguments)),this},toString:function(){var ze=We();return ze&&(ze="else{"+ze+"}"),Ca(["if(",Ee,"){",Ue(),"}",ze])}})},compile:function(){var Ee=['"use strict";',Ue,"return {"];Object.keys(We).forEach((function(ze){Ee.push('"',ze,'":',We[ze].toString(),",")})),Ee.push("}");var $e=Ca(Ee).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,ze.concat($e)).apply(null,Be)}}}function Oa(Ee){return Array.isArray(Ee)||M(Ee)||ma(Ee)}function vb(Ee){return Ee.sort((function(Ee,ze){return"viewport"===Ee?-1:"viewport"===ze?1:Ee<ze?-1:1}))}function Z(Ee,ze,Be,Ue){this.thisDep=Ee,this.contextDep=ze,this.propDep=Be,this.append=Ue}function va(Ee){return Ee&&!(Ee.thisDep||Ee.contextDep||Ee.propDep)}function D(Ee){return new Z(!1,!1,!1,Ee)}function P(Ee,ze){var Be=Ee.type;return 0===Be?new Z(!0,1<=(Be=Ee.data.length),2<=Be,ze):4===Be?new Z((Be=Ee.data).thisDep,Be.contextDep,Be.propDep,ze):new Z(3===Be,2===Be,1===Be,ze)}function Tb(Ee,Be,Ue,We,$e,Qe,tt,rt,nt,at,ct,ft,xt,kt,Lt){function l(Ee){return Ee.replace(".","_")}function u(Ee,ze,Be){var Ue=l(Ee);Qr.push(Ee),Lr[Ue]=ar[Ue]=!!Be,on[Ue]=ze}function v(Ee,ze,Be){var Ue=l(Ee);Qr.push(Ee),Array.isArray(Be)?(ar[Ue]=Be.slice(),Lr[Ue]=Be.slice()):ar[Ue]=Lr[Ue]=Be,sn[Ue]=ze}function N(){var Ee=Sb(),ze=Ee.link,Ue=Ee.global;Ee.id=Cn++,Ee.batchId="0";var We=ze(ln),$e=Ee.shared={props:"a0"};Object.keys(ln).forEach((function(Ee){$e[Ee]=Ue.def(We,".",Ee)}));var Qe=Ee.next={},et=Ee.current={};Object.keys(sn).forEach((function(Ee){Array.isArray(ar[Ee])&&(Qe[Ee]=Ue.def($e.next,".",Ee),et[Ee]=Ue.def($e.current,".",Ee))}));var tt=Ee.constants={};Object.keys(cn).forEach((function(Ee){tt[Ee]=Ue.def(JSON.stringify(cn[Ee]))})),Ee.invoke=function(Be,Ue){switch(Ue.type){case 0:var We=["this",$e.context,$e.props,Ee.batchId];return Be.def(ze(Ue.data),".call(",We.slice(0,Math.max(Ue.data.length+1,4)),")");case 1:return Be.def($e.props,Ue.data);case 2:return Be.def($e.context,Ue.data);case 3:return Be.def("this",Ue.data);case 4:return Ue.data.append(Ee,Be),Ue.data.ref}},Ee.attribCache={};var rt={};return Ee.scopeAttrib=function(Ee){if((Ee=Be.id(Ee))in rt)return rt[Ee];var Ue=at.scope[Ee];return Ue||(Ue=at.scope[Ee]=new Ut),rt[Ee]=ze(Ue)},Ee}function z(Ee,ze){var Be=Ee.static,Ue=Ee.dynamic;if("framebuffer"in Be){var We=Be.framebuffer;return We?(We=rt.getFramebuffer(We),D((function(Ee,ze){var Be=Ee.link(We),Ue=Ee.shared;return ze.set(Ue.framebuffer,".next",Be),Ue=Ue.context,ze.set(Ue,".framebufferWidth",Be+".width"),ze.set(Ue,".framebufferHeight",Be+".height"),Be}))):D((function(Ee,ze){var Be=Ee.shared;return ze.set(Be.framebuffer,".next","null"),Be=Be.context,ze.set(Be,".framebufferWidth",Be+".drawingBufferWidth"),ze.set(Be,".framebufferHeight",Be+".drawingBufferHeight"),"null"}))}if("framebuffer"in Ue){var $e=Ue.framebuffer;return P($e,(function(Ee,ze){var Be=Ee.invoke(ze,$e),Ue=Ee.shared,We=Ue.framebuffer;return Be=ze.def(We,".getFramebuffer(",Be,")"),ze.set(We,".next",Be),Ue=Ue.context,ze.set(Ue,".framebufferWidth",Be+"?"+Be+".width:"+Ue+".drawingBufferWidth"),ze.set(Ue,".framebufferHeight",Be+"?"+Be+".height:"+Ue+".drawingBufferHeight"),Be}))}return null}function E(Ee){function c(Ee){if(Ee in ze){var We=Be.id(ze[Ee]);return(Ee=D((function(){return We}))).id=We,Ee}if(Ee in Ue){var $e=Ue[Ee];return P($e,(function(Ee,ze){var Be=Ee.invoke(ze,$e);return ze.def(Ee.shared.strings,".id(",Be,")")}))}return null}var ze=Ee.static,Ue=Ee.dynamic,We=c("frag"),$e=c("vert"),Qe=null;return va(We)&&va($e)?(Qe=ct.program($e.id,We.id),Ee=D((function(Ee,ze){return Ee.link(Qe)}))):Ee=new Z(We&&We.thisDep||$e&&$e.thisDep,We&&We.contextDep||$e&&$e.contextDep,We&&We.propDep||$e&&$e.propDep,(function(Ee,ze){var Be,Ue,Qe=Ee.shared.shader;return Be=We?We.append(Ee,ze):ze.def(Qe,".","frag"),Ue=$e?$e.append(Ee,ze):ze.def(Qe,".","vert"),ze.def(Qe+".program("+Ue+","+Be+")")})),{frag:We,vert:$e,progVar:Ee,program:Qe}}function O(Ee,ze){function c(Ee,ze){if(Ee in Be){var $e=0|Be[Ee];return D((function(Ee,Be){return ze&&(Ee.OFFSET=$e),$e}))}if(Ee in Ue){var Qe=Ue[Ee];return P(Qe,(function(Ee,Be){var Ue=Ee.invoke(Be,Qe);return ze&&(Ee.OFFSET=Ue),Ue}))}return ze&&We?D((function(Ee,ze){return Ee.OFFSET="0",0})):null}var Be=Ee.static,Ue=Ee.dynamic,We=function(){if("elements"in Be){var Ee=Be.elements;Oa(Ee)?Ee=Qe.getElements(Qe.create(Ee,!0)):Ee&&(Ee=Qe.getElements(Ee));var ze=D((function(ze,Be){if(Ee){var Ue=ze.link(Ee);return ze.ELEMENTS=Ue}return ze.ELEMENTS=null}));return ze.value=Ee,ze}if("elements"in Ue){var We=Ue.elements;return P(We,(function(Ee,ze){var Be=(Ue=Ee.shared).isBufferArgs,Ue=Ue.elements,$e=Ee.invoke(ze,We),Qe=ze.def("null");return Be=ze.def(Be,"(",$e,")"),$e=Ee.cond(Be).then(Qe,"=",Ue,".createStream(",$e,");").else(Qe,"=",Ue,".getElements(",$e,");"),ze.entry($e),ze.exit(Ee.cond(Be).then(Ue,".destroyStream(",Qe,");")),Ee.ELEMENTS=Qe}))}return null}(),$e=c("offset",!0);return{elements:We,primitive:function(){if("primitive"in Be){var Ee=Be.primitive;return D((function(ze,Be){return it[Ee]}))}if("primitive"in Ue){var ze=Ue.primitive;return P(ze,(function(Ee,Be){var Ue=Ee.constants.primTypes,We=Ee.invoke(Be,ze);return Be.def(Ue,"[",We,"]")}))}return We?va(We)?We.value?D((function(Ee,ze){return ze.def(Ee.ELEMENTS,".primType")})):D((function(){return 4})):new Z(We.thisDep,We.contextDep,We.propDep,(function(Ee,ze){var Be=Ee.ELEMENTS;return ze.def(Be,"?",Be,".primType:",4)})):null}(),count:function(){if("count"in Be){var Ee=0|Be.count;return D((function(){return Ee}))}if("count"in Ue){var ze=Ue.count;return P(ze,(function(Ee,Be){return Ee.invoke(Be,ze)}))}return We?va(We)?We?$e?new Z($e.thisDep,$e.contextDep,$e.propDep,(function(Ee,ze){return ze.def(Ee.ELEMENTS,".vertCount-",Ee.OFFSET)})):D((function(Ee,ze){return ze.def(Ee.ELEMENTS,".vertCount")})):D((function(){return-1})):new Z(We.thisDep||$e.thisDep,We.contextDep||$e.contextDep,We.propDep||$e.propDep,(function(Ee,ze){var Be=Ee.ELEMENTS;return Ee.OFFSET?ze.def(Be,"?",Be,".vertCount-",Ee.OFFSET,":-1"):ze.def(Be,"?",Be,".vertCount:-1")})):null}(),instances:c("instances",!1),offset:$e}}function T(Ee,ze){var Ue=Ee.static,We=Ee.dynamic,Qe={};return Object.keys(Ue).forEach((function(Ee){var ze=Ue[Ee],We=Be.id(Ee),tt=new Ut;if(Oa(ze))tt.state=1,tt.buffer=$e.getBuffer($e.create(ze,34962,!1,!0)),tt.type=0;else if(nt=$e.getBuffer(ze))tt.state=1,tt.buffer=nt,tt.type=0;else if("constant"in ze){var rt=ze.constant;tt.buffer="null",tt.state=2,"number"==typeof rt?tt.x=rt:un.forEach((function(Ee,ze){ze<rt.length&&(tt[Ee]=rt[ze])}))}else{var nt=Oa(ze.buffer)?$e.getBuffer($e.create(ze.buffer,34962,!1,!0)):$e.getBuffer(ze.buffer),at=0|ze.offset,it=0|ze.stride,ct=0|ze.size,ft=!!ze.normalized,xt=0;"type"in ze&&(xt=et[ze.type]),ze=0|ze.divisor,tt.buffer=nt,tt.state=1,tt.size=ct,tt.normalized=ft,tt.type=xt||nt.dtype,tt.offset=at,tt.stride=it,tt.divisor=ze}Qe[Ee]=D((function(Ee,ze){var Be=Ee.attribCache;if(We in Be)return Be[We];var Ue={isStream:!1};return Object.keys(tt).forEach((function(Ee){Ue[Ee]=tt[Ee]})),tt.buffer&&(Ue.buffer=Ee.link(tt.buffer),Ue.type=Ue.type||Ue.buffer+".dtype"),Be[We]=Ue}))})),Object.keys(We).forEach((function(Ee){var ze=We[Ee];Qe[Ee]=P(ze,(function(Ee,Be){function d(Ee){Be(et[Ee],"=",Ue,".",Ee,"|0;")}var Ue=Ee.invoke(Be,ze),We=Ee.shared,$e=Ee.constants,Qe=We.isBufferArgs,et=(We=We.buffer,{isStream:Be.def(!1)}),tt=new Ut;tt.state=1,Object.keys(tt).forEach((function(Ee){et[Ee]=Be.def(""+tt[Ee])}));var rt=et.buffer,nt=et.type;return Be("if(",Qe,"(",Ue,")){",et.isStream,"=true;",rt,"=",We,".createStream(",34962,",",Ue,");",nt,"=",rt,".dtype;","}else{",rt,"=",We,".getBuffer(",Ue,");","if(",rt,"){",nt,"=",rt,".dtype;",'}else if("constant" in ',Ue,"){",et.state,"=",2,";","if(typeof "+Ue+'.constant === "number"){',et[un[0]],"=",Ue,".constant;",un.slice(1).map((function(Ee){return et[Ee]})).join("="),"=0;","}else{",un.map((function(Ee,ze){return et[Ee]+"="+Ue+".constant.length>"+ze+"?"+Ue+".constant["+ze+"]:0;"})).join(""),"}}else{","if(",Qe,"(",Ue,".buffer)){",rt,"=",We,".createStream(",34962,",",Ue,".buffer);","}else{",rt,"=",We,".getBuffer(",Ue,".buffer);","}",nt,'="type" in ',Ue,"?",$e.glTypes,"[",Ue,".type]:",rt,".dtype;",et.normalized,"=!!",Ue,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),Be("}}"),Be.exit("if(",et.isStream,"){",We,".destroyStream(",rt,");","}"),et}))})),Qe}function A(Ee,ze,Be,Ue,We){var $e=z(Ee),Qe=function x(Ee,ze,Be){function d(Ee){if(Ee in Ue){var Be=Ue[Ee];Ee=!0;var $e,Qe,et=0|Be.x,tt=0|Be.y;return"width"in Be?$e=0|Be.width:Ee=!1,"height"in Be?Qe=0|Be.height:Ee=!1,new Z(!Ee&&ze&&ze.thisDep,!Ee&&ze&&ze.contextDep,!Ee&&ze&&ze.propDep,(function(Ee,ze){var Ue=Ee.shared.context,We=$e;"width"in Be||(We=ze.def(Ue,".","framebufferWidth","-",et));var rt=Qe;return"height"in Be||(rt=ze.def(Ue,".","framebufferHeight","-",tt)),[et,tt,We,rt]}))}if(Ee in We){var rt=We[Ee];return Ee=P(rt,(function(Ee,ze){var Be=Ee.invoke(ze,rt),Ue=Ee.shared.context,We=ze.def(Be,".x|0"),$e=ze.def(Be,".y|0");return[We,$e,ze.def('"width" in ',Be,"?",Be,".width|0:","(",Ue,".","framebufferWidth","-",We,")"),Be=ze.def('"height" in ',Be,"?",Be,".height|0:","(",Ue,".","framebufferHeight","-",$e,")")]})),ze&&(Ee.thisDep=Ee.thisDep||ze.thisDep,Ee.contextDep=Ee.contextDep||ze.contextDep,Ee.propDep=Ee.propDep||ze.propDep),Ee}return ze?new Z(ze.thisDep,ze.contextDep,ze.propDep,(function(Ee,ze){var Be=Ee.shared.context;return[0,0,ze.def(Be,".","framebufferWidth"),ze.def(Be,".","framebufferHeight")]})):null}var Ue=Ee.static,We=Ee.dynamic;if(Ee=d("viewport")){var $e=Ee;Ee=new Z(Ee.thisDep,Ee.contextDep,Ee.propDep,(function(Ee,ze){var Be=$e.append(Ee,ze),Ue=Ee.shared.context;return ze.set(Ue,".viewportWidth",Be[2]),ze.set(Ue,".viewportHeight",Be[3]),Be}))}return{viewport:Ee,scissor_box:d("scissor.box")}}(Ee,$e),et=O(Ee),tt=function R(Ee,ze){var Be=Ee.static,Ue=Ee.dynamic,We={};return Qr.forEach((function(Ee){function b($e,Qe){if(Ee in Be){var et=$e(Be[Ee]);We[ze]=D((function(){return et}))}else if(Ee in Ue){var tt=Ue[Ee];We[ze]=P(tt,(function(Ee,ze){return Qe(Ee,ze,Ee.invoke(ze,tt))}))}}var ze=l(Ee);switch(Ee){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return b((function(Ee){return Ee}),(function(Ee,ze,Be){return Be}));case"depth.func":return b((function(Ee){return vn[Ee]}),(function(Ee,ze,Be){return ze.def(Ee.constants.compareFuncs,"[",Be,"]")}));case"depth.range":return b((function(Ee){return Ee}),(function(Ee,ze,Be){return[ze.def("+",Be,"[0]"),ze=ze.def("+",Be,"[1]")]}));case"blend.func":return b((function(Ee){return[dn["srcRGB"in Ee?Ee.srcRGB:Ee.src],dn["dstRGB"in Ee?Ee.dstRGB:Ee.dst],dn["srcAlpha"in Ee?Ee.srcAlpha:Ee.src],dn["dstAlpha"in Ee?Ee.dstAlpha:Ee.dst]]}),(function(Ee,ze,Be){function d(Ee,Ue){return ze.def('"',Ee,Ue,'" in ',Be,"?",Be,".",Ee,Ue,":",Be,".",Ee)}Ee=Ee.constants.blendFuncs;var Ue=d("src","RGB"),We=d("dst","RGB"),$e=(Ue=ze.def(Ee,"[",Ue,"]"),ze.def(Ee,"[",d("src","Alpha"),"]"));return[Ue,We=ze.def(Ee,"[",We,"]"),$e,Ee=ze.def(Ee,"[",d("dst","Alpha"),"]")]}));case"blend.equation":return b((function(Ee){return"string"==typeof Ee?[er[Ee],er[Ee]]:"object"==typeof Ee?[er[Ee.rgb],er[Ee.alpha]]:void 0}),(function(Ee,ze,Be){var Ue=Ee.constants.blendEquations,We=ze.def(),$e=ze.def();return(Ee=Ee.cond("typeof ",Be,'==="string"')).then(We,"=",$e,"=",Ue,"[",Be,"];"),Ee.else(We,"=",Ue,"[",Be,".rgb];",$e,"=",Ue,"[",Be,".alpha];"),ze(Ee),[We,$e]}));case"blend.color":return b((function(Ee){return J(4,(function(ze){return+Ee[ze]}))}),(function(Ee,ze,Be){return J(4,(function(Ee){return ze.def("+",Be,"[",Ee,"]")}))}));case"stencil.mask":return b((function(Ee){return 0|Ee}),(function(Ee,ze,Be){return ze.def(Be,"|0")}));case"stencil.func":return b((function(Ee){return[vn[Ee.cmp||"keep"],Ee.ref||0,"mask"in Ee?Ee.mask:-1]}),(function(Ee,ze,Be){return[Ee=ze.def('"cmp" in ',Be,"?",Ee.constants.compareFuncs,"[",Be,".cmp]",":",7680),ze.def(Be,".ref|0"),ze=ze.def('"mask" in ',Be,"?",Be,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return b((function(ze){return["stencil.opBack"===Ee?1029:1028,yn[ze.fail||"keep"],yn[ze.zfail||"keep"],yn[ze.zpass||"keep"]]}),(function(ze,Be,Ue){function e(Ee){return Be.def('"',Ee,'" in ',Ue,"?",We,"[",Ue,".",Ee,"]:",7680)}var We=ze.constants.stencilOps;return["stencil.opBack"===Ee?1029:1028,e("fail"),e("zfail"),e("zpass")]}));case"polygonOffset.offset":return b((function(Ee){return[0|Ee.factor,0|Ee.units]}),(function(Ee,ze,Be){return[ze.def(Be,".factor|0"),ze=ze.def(Be,".units|0")]}));case"cull.face":return b((function(Ee){var ze=0;return"front"===Ee?ze=1028:"back"===Ee&&(ze=1029),ze}),(function(Ee,ze,Be){return ze.def(Be,'==="front"?',1028,":",1029)}));case"lineWidth":return b((function(Ee){return Ee}),(function(Ee,ze,Be){return Be}));case"frontFace":return b((function(Ee){return _n[Ee]}),(function(Ee,ze,Be){return ze.def(Be+'==="cw"?2304:2305')}));case"colorMask":return b((function(Ee){return Ee.map((function(Ee){return!!Ee}))}),(function(Ee,ze,Be){return J(4,(function(Ee){return"!!"+Be+"["+Ee+"]"}))}));case"sample.coverage":return b((function(Ee){return["value"in Ee?Ee.value:1,!!Ee.invert]}),(function(Ee,ze,Be){return[ze.def('"value" in ',Be,"?+",Be,".value:1"),ze=ze.def("!!",Be,".invert")]}))}})),We}(Ee),rt=E(Ee),nt=Qe.viewport;return nt&&(tt.viewport=nt),(Qe=Qe[nt=l("scissor.box")])&&(tt[nt]=Qe),($e={framebuffer:$e,draw:et,shader:rt,state:tt,dirty:Qe=0<Object.keys(tt).length}).profile=function B(Ee){var ze,Be=Ee.static;if(Ee=Ee.dynamic,"profile"in Be){var Ue=!!Be.profile;(ze=D((function(Ee,ze){return Ue}))).enable=Ue}else if("profile"in Ee){var We=Ee.profile;ze=P(We,(function(Ee,ze){return Ee.invoke(ze,We)}))}return ze}(Ee),$e.uniforms=function F(Ee,ze){var Be=Ee.static,Ue=Ee.dynamic,We={};return Object.keys(Be).forEach((function(Ee){var ze,Ue=Be[Ee];if("number"==typeof Ue||"boolean"==typeof Ue)ze=D((function(){return Ue}));else if("function"==typeof Ue){var $e=Ue._reglType;"texture2d"===$e||"textureCube"===$e?ze=D((function(Ee){return Ee.link(Ue)})):"framebuffer"!==$e&&"framebufferCube"!==$e||(ze=D((function(Ee){return Ee.link(Ue.color[0])})))}else pa(Ue)&&(ze=D((function(Ee){return Ee.global.def("[",J(Ue.length,(function(Ee){return Ue[Ee]})),"]")})));ze.value=Ue,We[Ee]=ze})),Object.keys(Ue).forEach((function(Ee){var ze=Ue[Ee];We[Ee]=P(ze,(function(Ee,Be){return Ee.invoke(Be,ze)}))})),We}(Be),$e.attributes=T(ze),$e.context=function M(Ee){var ze=Ee.static,Be=Ee.dynamic,Ue={};return Object.keys(ze).forEach((function(Ee){var Be=ze[Ee];Ue[Ee]=D((function(Ee,ze){return"number"==typeof Be||"boolean"==typeof Be?""+Be:Ee.link(Be)}))})),Object.keys(Be).forEach((function(Ee){var ze=Be[Ee];Ue[Ee]=P(ze,(function(Ee,Be){return Ee.invoke(Be,ze)}))})),Ue}(Ue),$e}function ua(Ee,ze,Be){var Ue=Ee.shared.context,We=Ee.scope();Object.keys(Be).forEach((function($e){ze.save(Ue,"."+$e),We(Ue,".",$e,"=",Be[$e].append(Ee,ze),";")})),ze(We)}function K(Ee,ze,Be,Ue){var We,$e=(et=Ee.shared).gl,Qe=et.framebuffer;rr&&(We=ze.def(et.extensions,".webgl_draw_buffers"));var et=(tt=Ee.constants).drawBuffer,tt=tt.backBuffer;Ee=Be?Be.append(Ee,ze):ze.def(Qe,".next"),Ue||ze("if(",Ee,"!==",Qe,".cur){"),ze("if(",Ee,"){",$e,".bindFramebuffer(",36160,",",Ee,".framebuffer);"),rr&&ze(We,".drawBuffersWEBGL(",et,"[",Ee,".colorAttachments.length]);"),ze("}else{",$e,".bindFramebuffer(",36160,",null);"),rr&&ze(We,".drawBuffersWEBGL(",tt,");"),ze("}",Qe,".cur=",Ee,";"),Ue||ze("}")}function V(Ee,ze,Be){var Ue=Ee.shared,We=Ue.gl,$e=Ee.current,Qe=Ee.next,et=Ue.current,tt=Ue.next,rt=Ee.cond(et,".dirty");Qr.forEach((function(ze){var Ue,nt;if(!((ze=l(ze))in Be.state))if(ze in Qe){Ue=Qe[ze],nt=$e[ze];var at=J(ar[ze].length,(function(Ee){return rt.def(Ue,"[",Ee,"]")}));rt(Ee.cond(at.map((function(Ee,ze){return Ee+"!=="+nt+"["+ze+"]"})).join("||")).then(We,".",sn[ze],"(",at,");",at.map((function(Ee,ze){return nt+"["+ze+"]="+Ee})).join(";"),";"))}else Ue=rt.def(tt,".",ze),at=Ee.cond(Ue,"!==",et,".",ze),rt(at),ze in on?at(Ee.cond(Ue).then(We,".enable(",on[ze],");").else(We,".disable(",on[ze],");"),et,".",ze,"=",Ue,";"):at(We,".",sn[ze],"(",Ue,");",et,".",ze,"=",Ue,";")})),0===Object.keys(Be.state).length&&rt(et,".dirty=false;"),ze(rt)}function Q(Ee,ze,Be,Ue){var We=Ee.shared,$e=Ee.current,Qe=We.current,et=We.gl;vb(Object.keys(Be)).forEach((function(We){var tt=Be[We];if(!Ue||Ue(tt)){var rt=tt.append(Ee,ze);if(on[We]){var nt=on[We];va(tt)?ze(et,rt?".enable(":".disable(",nt,");"):ze(Ee.cond(rt).then(et,".enable(",nt,");").else(et,".disable(",nt,");")),ze(Qe,".",We,"=",rt,";")}else if(pa(rt)){var at=$e[We];ze(et,".",sn[We],"(",rt,");",rt.map((function(Ee,ze){return at+"["+ze+"]="+Ee})).join(";"),";")}else ze(et,".",sn[We],"(",rt,");",Qe,".",We,"=",rt,";")}}))}function wa(Ee,ze){tr&&(Ee.instancing=ze.def(Ee.shared.extensions,".angle_instanced_arrays"))}function G(Ee,ze,Be,Ue,We){function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function g(Ee){Ee($e=ze.def(),"=",f(),";"),"string"==typeof We?Ee(tt,".count+=",We,";"):Ee(tt,".count++;"),kt&&(Ue?Ee(Qe=ze.def(),"=",nt,".getNumPendingQueries();"):Ee(nt,".beginQuery(",tt,");"))}function h(Ee){Ee(tt,".cpuTime+=",f(),"-",$e,";"),kt&&(Ue?Ee(nt,".pushScopeStats(",Qe,",",nt,".getNumPendingQueries(),",tt,");"):Ee(nt,".endQuery();"))}function m(Ee){var Be=ze.def(rt,".profile");ze(rt,".profile=",Ee,";"),ze.exit(rt,".profile=",Be,";")}var $e,Qe,et=Ee.shared,tt=Ee.stats,rt=et.current,nt=et.timer;if(Be=Be.profile){if(va(Be))return void(Be.enable?(g(ze),h(ze.exit),m("true")):m("false"));m(Be=Be.append(Ee,ze))}else Be=ze.def(rt,".profile");g(et=Ee.block()),ze("if(",Be,"){",et,"}"),h(Ee=Ee.block()),ze.exit("if(",Be,"){",Ee,"}")}function U(Ee,ze,Be,Ue,We){function g(Be,Ue,We){function f(){ze("if(!",tt,".buffer){",Qe,".enableVertexAttribArray(",et,");}");var Be,$e=We.type;Be=We.size?ze.def(We.size,"||",Ue):Ue,ze("if(",tt,".type!==",$e,"||",tt,".size!==",Be,"||",at.map((function(Ee){return tt+"."+Ee+"!=="+We[Ee]})).join("||"),"){",Qe,".bindBuffer(",34962,",",rt,".buffer);",Qe,".vertexAttribPointer(",[et,Be,$e,We.normalized,We.stride,We.offset],");",tt,".type=",$e,";",tt,".size=",Be,";",at.map((function(Ee){return tt+"."+Ee+"="+We[Ee]+";"})).join(""),"}"),tr&&($e=We.divisor,ze("if(",tt,".divisor!==",$e,"){",Ee.instancing,".vertexAttribDivisorANGLE(",[et,$e],");",tt,".divisor=",$e,";}"))}function m(){ze("if(",tt,".buffer){",Qe,".disableVertexAttribArray(",et,");",tt,".buffer=null;","}if(",un.map((function(Ee,ze){return tt+"."+Ee+"!=="+nt[ze]})).join("||"),"){",Qe,".vertexAttrib4f(",et,",",nt,");",un.map((function(Ee,ze){return tt+"."+Ee+"="+nt[ze]+";"})).join(""),"}")}var Qe=$e.gl,et=ze.def(Be,".location"),tt=ze.def($e.attributes,"[",et,"]");Be=We.state;var rt=We.buffer,nt=[We.x,We.y,We.z,We.w],at=["buffer","normalized","offset","stride"];1===Be?f():2===Be?m():(ze("if(",Be,"===",1,"){"),f(),ze("}else{"),m(),ze("}"))}var $e=Ee.shared;Ue.forEach((function(Ue){var $e,Qe=Ue.name,et=Be.attributes[Qe];if(et){if(!We(et))return;$e=et.append(Ee,ze)}else{if(!We(Mn))return;var tt=Ee.scopeAttrib(Qe);$e={},Object.keys(new Ut).forEach((function(Ee){$e[Ee]=ze.def(tt,".",Ee)}))}g(Ee.link(Ue),function f(Ee){switch(Ee){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Ue.info.type),$e)}))}function W(Ee,ze,Ue,We,$e){for(var Qe,et=Ee.shared,tt=et.gl,rt=0;rt<We.length;++rt){var nt,at=(ft=We[rt]).name,it=ft.info.type,ct=Ue.uniforms[at],ft=Ee.link(ft)+".location";if(ct){if(!$e(ct))continue;if(va(ct)){if(at=ct.value,35678===it||35680===it)ze(tt,".uniform1i(",ft,",",(it=Ee.link(at._texture||at.color[0]._texture))+".bind());"),ze.exit(it,".unbind();");else if(35674===it||35675===it||35676===it)ct=2,35675===it?ct=3:35676===it&&(ct=4),ze(tt,".uniformMatrix",ct,"fv(",ft,",false,",at=Ee.global.def("new Float32Array(["+Array.prototype.slice.call(at)+"])"),");");else{switch(it){case 5126:Qe="1f";break;case 35664:Qe="2f";break;case 35665:Qe="3f";break;case 35666:Qe="4f";break;case 35670:case 5124:Qe="1i";break;case 35671:case 35667:Qe="2i";break;case 35672:case 35668:Qe="3i";break;case 35673:Qe="4i";break;case 35669:Qe="4i"}ze(tt,".uniform",Qe,"(",ft,",",pa(at)?Array.prototype.slice.call(at):at,");")}continue}nt=ct.append(Ee,ze)}else{if(!$e(Mn))continue;nt=ze.def(et.uniforms,"[",Be.id(at),"]")}switch(35678===it?ze("if(",nt,"&&",nt,'._reglType==="framebuffer"){',nt,"=",nt,".color[0];","}"):35680===it&&ze("if(",nt,"&&",nt,'._reglType==="framebufferCube"){',nt,"=",nt,".color[0];","}"),at=1,it){case 35678:case 35680:it=ze.def(nt,"._texture"),ze(tt,".uniform1i(",ft,",",it,".bind());"),ze.exit(it,".unbind();");continue;case 5124:case 35670:Qe="1i";break;case 35667:case 35671:Qe="2i",at=2;break;case 35668:case 35672:Qe="3i",at=3;break;case 35669:case 35673:Qe="4i",at=4;break;case 5126:Qe="1f";break;case 35664:Qe="2f",at=2;break;case 35665:Qe="3f",at=3;break;case 35666:Qe="4f",at=4;break;case 35674:Qe="Matrix2fv";break;case 35675:Qe="Matrix3fv";break;case 35676:Qe="Matrix4fv"}if(ze(tt,".uniform",Qe,"(",ft,","),"M"===Qe.charAt(0)){ft=Math.pow(it-35674+2,2);var xt=Ee.global.def("new Float32Array(",ft,")");ze("false,(Array.isArray(",nt,")||",nt," instanceof Float32Array)?",nt,":(",J(ft,(function(Ee){return xt+"["+Ee+"]="+nt+"["+Ee+"]"})),",",xt,")")}else ze(1<at?J(at,(function(Ee){return nt+"["+Ee+"]"})):nt);ze(");")}}function S(Ee,ze,Be,Ue){function e(We){var $e=rt[We];return $e?$e.contextDep&&Ue.contextDynamic||$e.propDep?$e.append(Ee,Be):$e.append(Ee,ze):ze.def(tt,".",We)}function f(){function a(){Be($e,".drawElementsInstancedANGLE(",[at,ct,ft,it+"<<(("+ft+"-5121)>>1)",We],");")}function b(){Be($e,".drawArraysInstancedANGLE(",[at,it,ct,We],");")}nt?xt?a():(Be("if(",nt,"){"),a(),Be("}else{"),b(),Be("}")):b()}function g(){function a(){Be(et+".drawElements("+[at,ct,ft,it+"<<(("+ft+"-5121)>>1)"]+");")}function b(){Be(et+".drawArrays("+[at,it,ct]+");")}nt?xt?a():(Be("if(",nt,"){"),a(),Be("}else{"),b(),Be("}")):b()}var We,$e,Qe=Ee.shared,et=Qe.gl,tt=Qe.draw,rt=Ue.draw,nt=function(){var We=rt.elements,$e=ze;return We?((We.contextDep&&Ue.contextDynamic||We.propDep)&&($e=Be),We=We.append(Ee,$e)):We=$e.def(tt,".","elements"),We&&$e("if("+We+")"+et+".bindBuffer(34963,"+We+".buffer.buffer);"),We}(),at=e("primitive"),it=e("offset"),ct=function(){var We=rt.count,$e=ze;return We?((We.contextDep&&Ue.contextDynamic||We.propDep)&&($e=Be),We=We.append(Ee,$e)):We=$e.def(tt,".","count"),We}();if("number"==typeof ct){if(0===ct)return}else Be("if(",ct,"){"),Be.exit("}");tr&&(We=e("instances"),$e=Ee.instancing);var ft=nt+".type",xt=rt.elements&&va(rt.elements);tr&&("number"!=typeof We||0<=We)?"string"==typeof We?(Be("if(",We,">0){"),f(),Be("}else if(",We,"<0){"),g(),Be("}")):f():g()}function ca(Ee,ze,Be,Ue,We){return We=(ze=N()).proc("body",We),tr&&(ze.instancing=We.def(ze.shared.extensions,".angle_instanced_arrays")),Ee(ze,We,Be,Ue),ze.compile().body}function L(Ee,ze,Be,Ue){wa(Ee,ze),U(Ee,ze,Be,Ue.attributes,(function(){return!0})),W(Ee,ze,Be,Ue.uniforms,(function(){return!0})),S(Ee,ze,ze,Be)}function oa(Ee,ze,Be,Ue){function e(){return!0}Ee.batchId="a1",wa(Ee,ze),U(Ee,ze,Be,Ue.attributes,e),W(Ee,ze,Be,Ue.uniforms,e),S(Ee,ze,ze,Be)}function za(Ee,ze,Be,Ue){function e(Ee){return Ee.contextDep&&We||Ee.propDep}function f(Ee){return!e(Ee)}wa(Ee,ze);var We=Be.contextDep,$e=ze.def(),Qe=ze.def();Ee.shared.props=Qe,Ee.batchId=$e;var et=Ee.scope(),tt=Ee.scope();ze(et.entry,"for(",$e,"=0;",$e,"<","a1",";++",$e,"){",Qe,"=","a0","[",$e,"];",tt,"}",et.exit),Be.needsContext&&ua(Ee,tt,Be.context),Be.needsFramebuffer&&K(Ee,tt,Be.framebuffer),Q(Ee,tt,Be.state,e),Be.profile&&e(Be.profile)&&G(Ee,tt,Be,!1,!0),Ue?(U(Ee,et,Be,Ue.attributes,f),U(Ee,tt,Be,Ue.attributes,e),W(Ee,et,Be,Ue.uniforms,f),W(Ee,tt,Be,Ue.uniforms,e),S(Ee,et,tt,Be)):(ze=Ee.global.def("{}"),Ue=Be.shader.progVar.append(Ee,tt),Qe=tt.def(Ue,".id"),et=tt.def(ze,"[",Qe,"]"),tt(Ee.shared.gl,".useProgram(",Ue,".program);","if(!",et,"){",et,"=",ze,"[",Qe,"]=",Ee.link((function(ze){return ca(oa,Ee,Be,ze,2)})),"(",Ue,");}",et,".call(this,a0[",$e,"],",$e,");"))}function ia(Ee,ze){function d(Be){var $e=ze.shader[Be];$e&&Ue.set(We.shader,"."+Be,$e.append(Ee,Ue))}var Ue=Ee.proc("scope",3);Ee.batchId="a2";var We=Ee.shared,$e=We.current;ua(Ee,Ue,ze.context),ze.framebuffer&&ze.framebuffer.append(Ee,Ue),vb(Object.keys(ze.state)).forEach((function(Be){var $e=ze.state[Be].append(Ee,Ue);pa($e)?$e.forEach((function(ze,We){Ue.set(Ee.next[Be],"["+We+"]",ze)})):Ue.set(We.next,"."+Be,$e)})),G(Ee,Ue,ze,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(Be){var $e=ze.draw[Be];$e&&Ue.set(We.draw,"."+Be,""+$e.append(Ee,Ue))})),Object.keys(ze.uniforms).forEach((function($e){Ue.set(We.uniforms,"["+Be.id($e)+"]",ze.uniforms[$e].append(Ee,Ue))})),Object.keys(ze.attributes).forEach((function(Be){var We=ze.attributes[Be].append(Ee,Ue),$e=Ee.scopeAttrib(Be);Object.keys(new Ut).forEach((function(Ee){Ue.set($e,"."+Ee,We[Ee])}))})),d("vert"),d("frag"),0<Object.keys(ze.state).length&&(Ue($e,".dirty=true;"),Ue.exit($e,".dirty=true;")),Ue("a1(",Ee.shared.context,",a0,",Ee.batchId,");")}function ja(Ee,Be,Ue){var We=Be.static[Ue];if(We&&function ma(Ee){if("object"==typeof Ee&&!pa(Ee)){for(var Be=Object.keys(Ee),Ue=0;Ue<Be.length;++Ue)if(ze.isDynamic(Ee[Be[Ue]]))return!0;return!1}}(We)){var $e=Ee.global,Qe=Object.keys(We),et=!1,tt=!1,rt=!1,nt=Ee.global.def("{}");Qe.forEach((function(Be){var Ue=We[Be];if(ze.isDynamic(Ue))"function"==typeof Ue&&(Ue=We[Be]=ze.unbox(Ue)),Be=P(Ue,null),et=et||Be.thisDep,rt=rt||Be.propDep,tt=tt||Be.contextDep;else{switch($e(nt,".",Be,"="),typeof Ue){case"number":$e(Ue);break;case"string":$e('"',Ue,'"');break;case"object":Array.isArray(Ue)&&$e("[",Ue.join(),"]");break;default:$e(Ee.link(Ue))}$e(";")}})),Be.dynamic[Ue]=new ze.DynamicVariable(4,{thisDep:et,contextDep:tt,propDep:rt,ref:nt,append:function d(Ee,Be){Qe.forEach((function(Ue){var $e=We[Ue];ze.isDynamic($e)&&($e=Ee.invoke(Be,$e),Be(nt,".",Ue,"=",$e,";"))}))}}),delete Be.static[Ue]}}var Ut=at.Record,er={add:32774,subtract:32778,"reverse subtract":32779};Ue.ext_blend_minmax&&(er.min=32775,er.max=32776);var tr=Ue.angle_instanced_arrays,rr=Ue.webgl_draw_buffers,ar={dirty:!0,profile:Lt.profile},Lr={},Qr=[],on={},sn={};u("dither",3024),u("blend.enable",3042),v("blend.color","blendColor",[0,0,0,0]),v("blend.equation","blendEquationSeparate",[32774,32774]),v("blend.func","blendFuncSeparate",[1,0,1,0]),u("depth.enable",2929,!0),v("depth.func","depthFunc",513),v("depth.range","depthRange",[0,1]),v("depth.mask","depthMask",!0),v("colorMask","colorMask",[!0,!0,!0,!0]),u("cull.enable",2884),v("cull.face","cullFace",1029),v("frontFace","frontFace",2305),v("lineWidth","lineWidth",1),u("polygonOffset.enable",32823),v("polygonOffset.offset","polygonOffset",[0,0]),u("sample.alpha",32926),u("sample.enable",32928),v("sample.coverage","sampleCoverage",[1,!1]),u("stencil.enable",2960),v("stencil.mask","stencilMask",-1),v("stencil.func","stencilFunc",[519,0,-1]),v("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),v("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),u("scissor.enable",3089),v("scissor.box","scissor",[0,0,Ee.drawingBufferWidth,Ee.drawingBufferHeight]),v("viewport","viewport",[0,0,Ee.drawingBufferWidth,Ee.drawingBufferHeight]);var ln={gl:Ee,context:xt,strings:Be,next:Lr,current:ar,draw:ft,elements:Qe,buffer:$e,shader:ct,attributes:at.state,uniforms:nt,framebuffer:rt,extensions:Ue,timer:kt,isBufferArgs:Oa},cn={primTypes:it,compareFuncs:vn,blendFuncs:dn,blendEquations:er,stencilOps:yn,glTypes:et,orientationType:_n};rr&&(cn.backBuffer=[1029],cn.drawBuffer=J(We.maxDrawbuffers,(function(Ee){return 0===Ee?[0]:J(Ee,(function(Ee){return 36064+Ee}))})));var Cn=0;return{next:Lr,current:ar,procs:function(){var Ee=N(),ze=Ee.proc("poll"),Be=Ee.proc("refresh"),Ue=Ee.block();ze(Ue),Be(Ue);var $e,Qe=Ee.shared,et=Qe.gl,tt=Qe.next,rt=Qe.current;Ue(rt,".dirty=false;"),K(Ee,ze),K(Ee,Be,null,!0),tr&&($e=Ee.link(tr));for(var nt=0;nt<We.maxAttributes;++nt){var at=Be.def(Qe.attributes,"[",nt,"]"),it=Ee.cond(at,".buffer");it.then(et,".enableVertexAttribArray(",nt,");",et,".bindBuffer(",34962,",",at,".buffer.buffer);",et,".vertexAttribPointer(",nt,",",at,".size,",at,".type,",at,".normalized,",at,".stride,",at,".offset);").else(et,".disableVertexAttribArray(",nt,");",et,".vertexAttrib4f(",nt,",",at,".x,",at,".y,",at,".z,",at,".w);",at,".buffer=null;"),Be(it),tr&&Be($e,".vertexAttribDivisorANGLE(",nt,",",at,".divisor);")}return Object.keys(on).forEach((function(We){var $e=on[We],Qe=Ue.def(tt,".",We),nt=Ee.block();nt("if(",Qe,"){",et,".enable(",$e,")}else{",et,".disable(",$e,")}",rt,".",We,"=",Qe,";"),Be(nt),ze("if(",Qe,"!==",rt,".",We,"){",nt,"}")})),Object.keys(sn).forEach((function(We){var $e,Qe,nt=sn[We],at=ar[We],it=Ee.block();it(et,".",nt,"("),pa(at)?(nt=at.length,$e=Ee.global.def(tt,".",We),Qe=Ee.global.def(rt,".",We),it(J(nt,(function(Ee){return $e+"["+Ee+"]"})),");",J(nt,(function(Ee){return Qe+"["+Ee+"]="+$e+"["+Ee+"];"})).join("")),ze("if(",J(nt,(function(Ee){return $e+"["+Ee+"]!=="+Qe+"["+Ee+"]"})).join("||"),"){",it,"}")):($e=Ue.def(tt,".",We),Qe=Ue.def(rt,".",We),it($e,");",rt,".",We,"=",$e,";"),ze("if(",$e,"!==",Qe,"){",it,"}")),Be(it)})),Ee.compile()}(),compile:function(Ee,ze,Be,Ue,We){var $e=N();return $e.stats=$e.link(We),Object.keys(ze.static).forEach((function(Ee){ja($e,ze,Ee)})),hn.forEach((function(ze){ja($e,Ee,ze)})),Be=A(Ee,ze,Be,Ue),function da(Ee,ze){var Be=Ee.proc("draw",1);wa(Ee,Be),ua(Ee,Be,ze.context),K(Ee,Be,ze.framebuffer),V(Ee,Be,ze),Q(Ee,Be,ze.state),G(Ee,Be,ze,!1,!0);var Ue=ze.shader.progVar.append(Ee,Be);if(Be(Ee.shared.gl,".useProgram(",Ue,".program);"),ze.shader.program)L(Ee,Be,ze,ze.shader.program);else{var We=Ee.global.def("{}"),$e=Be.def(Ue,".id"),Qe=Be.def(We,"[",$e,"]");Be(Ee.cond(Qe).then(Qe,".call(this,a0);").else(Qe,"=",We,"[",$e,"]=",Ee.link((function(Be){return ca(L,Ee,ze,Be,1)})),"(",Ue,");",Qe,".call(this,a0);"))}0<Object.keys(ze.state).length&&Be(Ee.shared.current,".dirty=true;")}($e,Be),ia($e,Be),function ka(Ee,ze){function c(Ee){return Ee.contextDep&&Ue||Ee.propDep}var Be=Ee.proc("batch",2);Ee.batchId="0",wa(Ee,Be);var Ue=!1,We=!0;Object.keys(ze.context).forEach((function(Ee){Ue=Ue||ze.context[Ee].propDep})),Ue||(ua(Ee,Be,ze.context),We=!1);var $e=!1;if((Qe=ze.framebuffer)?(Qe.propDep?Ue=$e=!0:Qe.contextDep&&Ue&&($e=!0),$e||K(Ee,Be,Qe)):K(Ee,Be,null),ze.state.viewport&&ze.state.viewport.propDep&&(Ue=!0),V(Ee,Be,ze),Q(Ee,Be,ze.state,(function(Ee){return!c(Ee)})),ze.profile&&c(ze.profile)||G(Ee,Be,ze,!1,"a1"),ze.contextDep=Ue,ze.needsContext=We,ze.needsFramebuffer=$e,(We=ze.shader.progVar).contextDep&&Ue||We.propDep)za(Ee,Be,ze,null);else if(We=We.append(Ee,Be),Be(Ee.shared.gl,".useProgram(",We,".program);"),ze.shader.program)za(Ee,Be,ze,ze.shader.program);else{var Qe=Ee.global.def("{}"),et=($e=Be.def(We,".id"),Be.def(Qe,"[",$e,"]"));Be(Ee.cond(et).then(et,".call(this,a0,a1);").else(et,"=",Qe,"[",$e,"]=",Ee.link((function(Be){return ca(za,Ee,ze,Be,2)})),"(",We,");",et,".call(this,a0,a1);"))}0<Object.keys(ze.state).length&&Be(Ee.shared.current,".dirty=true;")}($e,Be),$e.compile()}}}function yb(Ee,ze){for(var Be=0;Be<Ee.length;++Be)if(Ee[Be]===ze)return Be;return-1}var E=function(Ee,ze){for(var Be=Object.keys(ze),Ue=0;Ue<Be.length;++Ue)Ee[Be[Ue]]=ze[Be[Ue]];return Ee},Ee=0,ze={DynamicVariable:aa,define:function(Ee,ze){return new aa(Ee,Za(ze+""))},isDynamic:function(Ee){return"function"==typeof Ee&&!Ee._reglType||Ee instanceof aa},unbox:function(Ee,ze){return"function"==typeof Ee?new aa(0,Ee):Ee},accessor:Za},Be={next:"function"==typeof requestAnimationFrame?function(Ee){return requestAnimationFrame(Ee)}:function(Ee){return setTimeout(Ee,16)},cancel:"function"==typeof cancelAnimationFrame?function(Ee){return cancelAnimationFrame(Ee)}:clearTimeout},Ue="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},We=cb();We.zero=cb();var Vb=function(Ee,ze){var Be=1;ze.ext_texture_filter_anisotropic&&(Be=Ee.getParameter(34047));var Ue=1,$e=1;ze.webgl_draw_buffers&&(Ue=Ee.getParameter(34852),$e=Ee.getParameter(36063));var Qe=!!ze.oes_texture_float;if(Qe){Qe=Ee.createTexture(),Ee.bindTexture(3553,Qe),Ee.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var et=Ee.createFramebuffer();if(Ee.bindFramebuffer(36160,et),Ee.framebufferTexture2D(36160,36064,3553,Qe,0),Ee.bindTexture(3553,null),36053!==Ee.checkFramebufferStatus(36160))Qe=!1;else{Ee.viewport(0,0,1,1),Ee.clearColor(1,0,0,1),Ee.clear(16384);var tt=We.allocType(5126,4);Ee.readPixels(0,0,1,1,6408,5126,tt),Ee.getError()?Qe=!1:(Ee.deleteFramebuffer(et),Ee.deleteTexture(Qe),Qe=1===tt[0]),We.freeType(tt)}}return tt=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(tt=Ee.createTexture(),et=We.allocType(5121,36),Ee.activeTexture(33984),Ee.bindTexture(34067,tt),Ee.texImage2D(34069,0,6408,3,3,0,6408,5121,et),We.freeType(et),Ee.bindTexture(34067,null),Ee.deleteTexture(tt),tt=!Ee.getError()),{colorBits:[Ee.getParameter(3410),Ee.getParameter(3411),Ee.getParameter(3412),Ee.getParameter(3413)],depthBits:Ee.getParameter(3414),stencilBits:Ee.getParameter(3415),subpixelBits:Ee.getParameter(3408),extensions:Object.keys(ze).filter((function(Ee){return!!ze[Ee]})),maxAnisotropic:Be,maxDrawbuffers:Ue,maxColorAttachments:$e,pointSizeDims:Ee.getParameter(33901),lineWidthDims:Ee.getParameter(33902),maxViewportDims:Ee.getParameter(3386),maxCombinedTextureUnits:Ee.getParameter(35661),maxCubeMapSize:Ee.getParameter(34076),maxRenderbufferSize:Ee.getParameter(34024),maxTextureUnits:Ee.getParameter(34930),maxTextureSize:Ee.getParameter(3379),maxAttributes:Ee.getParameter(34921),maxVertexUniforms:Ee.getParameter(36347),maxVertexTextureUnits:Ee.getParameter(35660),maxVaryingVectors:Ee.getParameter(36348),maxFragmentUniforms:Ee.getParameter(36349),glsl:Ee.getParameter(35724),renderer:Ee.getParameter(7937),vendor:Ee.getParameter(7936),version:Ee.getParameter(7938),readFloat:Qe,npotTextureCube:tt}},M=function(Ee){return Ee instanceof Uint8Array||Ee instanceof Uint16Array||Ee instanceof Uint32Array||Ee instanceof Int8Array||Ee instanceof Int16Array||Ee instanceof Int32Array||Ee instanceof Float32Array||Ee instanceof Float64Array||Ee instanceof Uint8ClampedArray},S=function(Ee){return Object.keys(Ee).map((function(ze){return Ee[ze]}))},$e={shape:function(Ee){for(var ze=[];Ee.length;Ee=Ee[0])ze.push(Ee.length);return ze},flatten:function(Ee,ze,Be,Ue){var $e=1;if(ze.length)for(var Qe=0;Qe<ze.length;++Qe)$e*=ze[Qe];else $e=0;switch(Be=Ue||We.allocType(Be,$e),ze.length){case 0:break;case 1:for(Ue=ze[0],ze=0;ze<Ue;++ze)Be[ze]=Ee[ze];break;case 2:for(Ue=ze[0],ze=ze[1],Qe=$e=0;Qe<Ue;++Qe)for(var et=Ee[Qe],tt=0;tt<ze;++tt)Be[$e++]=et[tt];break;case 3:db(Ee,ze[0],ze[1],ze[2],Be,0);break;default:!function eb(Ee,ze,Be,Ue,We){for(var $e=1,Qe=Be+1;Qe<ze.length;++Qe)$e*=ze[Qe];var et=ze[Be];if(4==ze.length-Be){var tt=ze[Be+1],rt=ze[Be+2];for(ze=ze[Be+3],Qe=0;Qe<et;++Qe)db(Ee[Qe],tt,rt,ze,Ue,We),We+=$e}else for(Qe=0;Qe<et;++Qe)eb(Ee[Qe],ze,Be+1,Ue,We),We+=$e}(Ee,ze,0,Be,0)}return Be}},Qe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},et={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},tt={dynamic:35048,stream:35040,static:35044},rt=$e.flatten,nt=$e.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var it={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ct=new Float32Array(1),ft=new Uint32Array(ct.buffer),xt=[9984,9986,9985,9987],kt=[0,6409,6410,6407,6408],Lt={};Lt[6409]=Lt[6406]=Lt[6402]=1,Lt[34041]=Lt[6410]=2,Lt[6407]=Lt[35904]=3,Lt[6408]=Lt[35906]=4;var Ut=Ea("HTMLCanvasElement"),er=Ea("CanvasRenderingContext2D"),tr=Ea("ImageBitmap"),rr=Ea("HTMLImageElement"),ar=Ea("HTMLVideoElement"),Lr=Object.keys(Qe).concat([Ut,er,tr,rr,ar]),Qr=[];Qr[5121]=1,Qr[5126]=4,Qr[36193]=2,Qr[5123]=2,Qr[5125]=4;var on=[];on[32854]=2,on[32855]=2,on[36194]=2,on[34041]=4,on[33776]=.5,on[33777]=.5,on[33778]=1,on[33779]=1,on[35986]=.5,on[35987]=1,on[34798]=1,on[35840]=.5,on[35841]=.25,on[35842]=.5,on[35843]=.25,on[36196]=.5;var sn=[];sn[32854]=2,sn[32855]=2,sn[36194]=2,sn[33189]=2,sn[36168]=1,sn[34041]=4,sn[35907]=4,sn[34836]=16,sn[34842]=8,sn[34843]=6;var Wb=function(Ee,ze,Be,Ue,We){function d(Ee){this.id=et++,this.refCount=1,this.renderbuffer=Ee,this.format=32854,this.height=this.width=0,We.profile&&(this.stats={size:0})}function p(ze){var Be=ze.renderbuffer;Ee.bindRenderbuffer(36161,null),Ee.deleteRenderbuffer(Be),ze.renderbuffer=null,ze.refCount=0,delete tt[ze.id],Ue.renderbufferCount--}var $e={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};ze.ext_srgb&&($e.srgba=35907),ze.ext_color_buffer_half_float&&($e.rgba16f=34842,$e.rgb16f=34843),ze.webgl_color_buffer_float&&($e.rgba32f=34836);var Qe=[];Object.keys($e).forEach((function(Ee){Qe[$e[Ee]]=Ee}));var et=0,tt={};return d.prototype.decRef=function(){0>=--this.refCount&&p(this)},We.profile&&(Ue.getTotalRenderbufferSize=function(){var Ee=0;return Object.keys(tt).forEach((function(ze){Ee+=tt[ze].stats.size})),Ee}),{create:function(ze,Be){function k(ze,Be){var Ue=0,tt=0,rt=32854;if("object"==typeof ze&&ze?("shape"in ze?(Ue=0|(tt=ze.shape)[0],tt=0|tt[1]):("radius"in ze&&(Ue=tt=0|ze.radius),"width"in ze&&(Ue=0|ze.width),"height"in ze&&(tt=0|ze.height)),"format"in ze&&(rt=$e[ze.format])):"number"==typeof ze?(Ue=0|ze,tt="number"==typeof Be?0|Be:Ue):ze||(Ue=tt=1),Ue!==et.width||tt!==et.height||rt!==et.format)return k.width=et.width=Ue,k.height=et.height=tt,et.format=rt,Ee.bindRenderbuffer(36161,et.renderbuffer),Ee.renderbufferStorage(36161,rt,Ue,tt),We.profile&&(et.stats.size=sn[et.format]*et.width*et.height),k.format=Qe[et.format],k}var et=new d(Ee.createRenderbuffer());return tt[et.id]=et,Ue.renderbufferCount++,k(ze,Be),k.resize=function(ze,Be){var Ue=0|ze,$e=0|Be||Ue;return Ue===et.width&&$e===et.height||(k.width=et.width=Ue,k.height=et.height=$e,Ee.bindRenderbuffer(36161,et.renderbuffer),Ee.renderbufferStorage(36161,et.format,Ue,$e),We.profile&&(et.stats.size=sn[et.format]*et.width*et.height)),k},k._reglType="renderbuffer",k._renderbuffer=et,We.profile&&(k.stats=et.stats),k.destroy=function(){et.decRef()},k},clear:function(){S(tt).forEach(p)},restore:function(){S(tt).forEach((function(ze){ze.renderbuffer=Ee.createRenderbuffer(),Ee.bindRenderbuffer(36161,ze.renderbuffer),Ee.renderbufferStorage(36161,ze.format,ze.width,ze.height)})),Ee.bindRenderbuffer(36161,null)}}},ln=[];ln[6408]=4,ln[6407]=3;var cn=[];cn[5121]=1,cn[5126]=4,cn[36193]=2;var un=["x","y","z","w"],hn="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),dn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},vn={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},yn={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},_n={cw:2304,ccw:2305},Mn=new Z(!1,!1,!1,(function(){}));return function(Ee){function b(){if(0===on.length)nt&&nt.update(),un=null;else{un=Be.next(b),t();for(var Ee=on.length-1;0<=Ee;--Ee){var ze=on[Ee];ze&&ze(ft,null,0)}We.flush(),nt&&nt.update()}}function c(){!un&&0<on.length&&(un=Be.next(b))}function e(){un&&(Be.cancel(b),un=null)}function g(Ee){Ee.preventDefault(),e(),sn.forEach((function(Ee){Ee()}))}function d(Ee){We.getError(),Qe.restore(),Ut.restore(),kt.restore(),er.restore(),tr.restore(),rr.restore(),nt&&nt.restore(),ar.procs.refresh(),c(),ln.forEach((function(Ee){Ee()}))}function p(Ee){function b(Ee){var Be={},Ue={};return Object.keys(Ee).forEach((function(We){var $e=Ee[We];ze.isDynamic($e)?Ue[We]=ze.unbox($e,We):Be[We]=$e})),{dynamic:Ue,static:Be}}var Be=b(Ee.context||{}),Ue=b(Ee.uniforms||{}),We=b(Ee.attributes||{}),$e=b(function(Ee){function b(Ee){if(Ee in ze){var Be=ze[Ee];delete ze[Ee],Object.keys(Be).forEach((function(Ue){ze[Ee+"."+Ue]=Be[Ue]}))}}var ze=E({},Ee);return delete ze.uniforms,delete ze.attributes,delete ze.context,"stencil"in ze&&ze.stencil.op&&(ze.stencil.opBack=ze.stencil.opFront=ze.stencil.op,delete ze.stencil.op),b("blend"),b("depth"),b("cull"),b("stencil"),b("polygonOffset"),b("scissor"),b("sample"),ze}(Ee));Ee={gpuTime:0,cpuTime:0,count:0};var Qe=(Be=ar.compile($e,We,Ue,Be,Ee)).draw,et=Be.batch,tt=Be.scope,rt=[];return E((function(Ee,ze){var Be;if("function"==typeof Ee)return tt.call(this,null,Ee,0);if("function"==typeof ze)if("number"==typeof Ee)for(Be=0;Be<Ee;++Be)tt.call(this,null,ze,Be);else{if(!Array.isArray(Ee))return tt.call(this,Ee,ze,0);for(Be=0;Be<Ee.length;++Be)tt.call(this,Ee[Be],ze,Be)}else if("number"==typeof Ee){if(0<Ee)return et.call(this,function c(Ee){for(;rt.length<Ee;)rt.push(null);return rt}(0|Ee),0|Ee)}else{if(!Array.isArray(Ee))return Qe.call(this,Ee);if(Ee.length)return et.call(this,Ee,Ee.length)}}),{stats:Ee})}function f(Ee,ze){var Be=0;ar.procs.poll();var Ue=ze.color;Ue&&(We.clearColor(+Ue[0]||0,+Ue[1]||0,+Ue[2]||0,+Ue[3]||0),Be|=16384),"depth"in ze&&(We.clearDepth(+ze.depth),Be|=256),"stencil"in ze&&(We.clearStencil(0|ze.stencil),Be|=1024),We.clear(Be)}function r(Ee){return on.push(Ee),c(),{cancel:function(){var ze=yb(on,Ee);on[ze]=function b(){var Ee=yb(on,b);on[Ee]=on[on.length-1],--on.length,0>=on.length&&e()}}}}function q(){var Ee=Lr.viewport,ze=Lr.scissor_box;Ee[0]=Ee[1]=ze[0]=ze[1]=0,ft.viewportWidth=ft.framebufferWidth=ft.drawingBufferWidth=Ee[2]=ze[2]=We.drawingBufferWidth,ft.viewportHeight=ft.framebufferHeight=ft.drawingBufferHeight=Ee[3]=ze[3]=We.drawingBufferHeight}function t(){ft.tick+=1,ft.time=z(),q(),ar.procs.poll()}function m(){q(),ar.procs.refresh(),nt&&nt.update()}function z(){return(Ue()-at)/1e3}if(!(Ee=Eb(Ee)))return null;var We=Ee.gl,$e=We.getContextAttributes();We.isContextLost();var Qe=function Fb(Ee,ze){function c(ze){var Ue;ze=ze.toLowerCase();try{Ue=Be[ze]=Ee.getExtension(ze)}catch(Ee){}return!!Ue}for(var Be={},Ue=0;Ue<ze.extensions.length;++Ue){var We=ze.extensions[Ue];if(!c(We))return ze.onDestroy(),ze.onDone('"'+We+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ze.optionalExtensions.forEach(c),{extensions:Be,restore:function(){Object.keys(Be).forEach((function(Ee){if(Be[Ee]&&!c(Ee))throw Error("(regl): error restoring extension "+Ee)}))}}}(We,Ee);if(!Qe)return null;var et=function Bb(){var Ee={"":0},ze=[""];return{id:function(Be){var Ue=Ee[Be];return Ue||(Ue=Ee[Be]=ze.length,ze.push(Be),Ue)},str:function(Ee){return ze[Ee]}}}(),tt={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},rt=Qe.extensions,nt=function(Ee,ze){function c(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function e(Ee,ze,Be){var Ue=We.pop()||new c;Ue.startQueryIndex=Ee,Ue.endQueryIndex=ze,Ue.sum=0,Ue.stats=Be,$e.push(Ue)}if(!ze.ext_disjoint_timer_query)return null;var Be=[],Ue=[],We=[],$e=[],Qe=[],et=[];return{beginQuery:function(Ee){var We=Be.pop()||ze.ext_disjoint_timer_query.createQueryEXT();ze.ext_disjoint_timer_query.beginQueryEXT(35007,We),Ue.push(We),e(Ue.length-1,Ue.length,Ee)},endQuery:function(){ze.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:e,update:function(){var Ee,tt;if(0!==(Ee=Ue.length)){et.length=Math.max(et.length,Ee+1),Qe.length=Math.max(Qe.length,Ee+1),Qe[0]=0;var rt=et[0]=0;for(tt=Ee=0;tt<Ue.length;++tt){var nt=Ue[tt];ze.ext_disjoint_timer_query.getQueryObjectEXT(nt,34919)?(rt+=ze.ext_disjoint_timer_query.getQueryObjectEXT(nt,34918),Be.push(nt)):Ue[Ee++]=nt,Qe[tt+1]=rt,et[tt+1]=Ee}for(Ue.length=Ee,tt=Ee=0;tt<$e.length;++tt){var at=(rt=$e[tt]).startQueryIndex;nt=rt.endQueryIndex,rt.sum+=Qe[nt]-Qe[at],at=et[at],(nt=et[nt])===at?(rt.stats.gpuTime+=rt.sum/1e6,We.push(rt)):(rt.startQueryIndex=at,rt.endQueryIndex=nt,$e[Ee++]=rt)}$e.length=Ee}},getNumPendingQueries:function(){return Ue.length},clear:function(){Be.push.apply(Be,Ue);for(var Ee=0;Ee<Be.length;Ee++)ze.ext_disjoint_timer_query.deleteQueryEXT(Be[Ee]);Ue.length=0,Be.length=0},restore:function(){Ue.length=0,Be.length=0}}}(0,rt),at=Ue(),it=We.drawingBufferWidth,ct=We.drawingBufferHeight,ft={tick:0,time:0,viewportWidth:it,viewportHeight:ct,framebufferWidth:it,framebufferHeight:ct,drawingBufferWidth:it,drawingBufferHeight:ct,pixelRatio:Ee.pixelRatio},xt=Vb(We,rt),kt=(it=function Pb(Ee,ze,Be,Ue){for(Ee=Be.maxAttributes,ze=Array(Ee),Be=0;Be<Ee;++Be)ze[Be]=new ub;return{Record:ub,scope:{},state:ze}}(We,rt,xt),Gb(We,tt,Ee,it)),Lt=Hb(We,rt,kt,tt),Ut=Qb(We,et,tt,Ee),er=Kb(We,rt,xt,(function(){ar.procs.poll()}),ft,tt,Ee),tr=Wb(We,rt,0,tt,Ee),rr=Ob(We,rt,xt,er,tr,tt),ar=Tb(We,et,rt,xt,kt,Lt,0,rr,{},it,Ut,{elements:null,primitive:4,count:-1,offset:0,instances:-1},ft,nt,Ee),Lr=(et=Rb(We,rr,ar.procs.poll,ft),ar.next),Qr=We.canvas,on=[],sn=[],ln=[],cn=[Ee.onDestroy],un=null;Qr&&(Qr.addEventListener("webglcontextlost",g,!1),Qr.addEventListener("webglcontextrestored",d,!1));var hn=rr.setFBO=p({framebuffer:ze.define.call(null,1,"framebuffer")});return m(),$e=E(p,{clear:function(Ee){if("framebuffer"in Ee)if(Ee.framebuffer&&"framebufferCube"===Ee.framebuffer_reglType)for(var ze=0;6>ze;++ze)hn(E({framebuffer:Ee.framebuffer.faces[ze]},Ee),f);else hn(Ee,f);else f(0,Ee)},prop:ze.define.bind(null,1),context:ze.define.bind(null,2),this:ze.define.bind(null,3),draw:p({}),buffer:function(Ee){return kt.create(Ee,34962,!1,!1)},elements:function(Ee){return Lt.create(Ee,!1)},texture:er.create2D,cube:er.createCube,renderbuffer:tr.create,framebuffer:rr.create,framebufferCube:rr.createCube,attributes:$e,frame:r,on:function(Ee,ze){var Be;switch(Ee){case"frame":return r(ze);case"lost":Be=sn;break;case"restore":Be=ln;break;case"destroy":Be=cn}return Be.push(ze),{cancel:function(){for(var Ee=0;Ee<Be.length;++Ee)if(Be[Ee]===ze){Be[Ee]=Be[Be.length-1],Be.pop();break}}}},limits:xt,hasExtension:function(Ee){return 0<=xt.extensions.indexOf(Ee.toLowerCase())},read:et,destroy:function(){on.length=0,e(),Qr&&(Qr.removeEventListener("webglcontextlost",g),Qr.removeEventListener("webglcontextrestored",d)),Ut.clear(),rr.clear(),tr.clear(),er.clear(),Lt.clear(),kt.clear(),nt&&nt.clear(),cn.forEach((function(Ee){Ee()}))},_gl:We,_refresh:m,poll:function(){t(),nt&&nt.update()},now:z,stats:tt}),Ee.onDone(null,$e),$e}}()},"7dc8":function(Ee,ze,Be){"use strict";var Ue=Be("84d3"),We=Be("1793");Ee.exports=function(Ee){return We(Ee)?Ee:Ue(Ee,"%v is not a plain function",arguments[1])}},"7df2":function(Ee,ze,Be){"use strict";var Ue={};function _clearTimeout(Ee){Ee&&null!==Ee.timer&&(clearTimeout(Ee.timer),Ee.timer=null)}ze.throttle=function throttle(Ee,ze,Be){var We=Ue[Ee],$e=Date.now();if(!We){for(var Qe in Ue)Ue[Qe].ts<$e-6e4&&delete Ue[Qe];We=Ue[Ee]={ts:0,timer:null}}function exec(){Be(),We.ts=Date.now(),We.onDone&&(We.onDone(),We.onDone=null)}_clearTimeout(We),$e>We.ts+ze?exec():We.timer=setTimeout((function(){exec(),We.timer=null}),ze)},ze.done=function(Ee){var ze=Ue[Ee];return ze&&ze.timer?new Promise((function(Ee){var Be=ze.onDone;ze.onDone=function onDone(){Be&&Be(),Ee(),ze.onDone=null}})):Promise.resolve()},ze.clear=function(Ee){if(Ee)_clearTimeout(Ue[Ee]),delete Ue[Ee];else for(var Be in Ue)ze.clear(Be)}},"7e25":function(Ee,ze,Be){"use strict";var Ue,We="object"==typeof Reflect?Reflect:null,$e=We&&"function"==typeof We.apply?We.apply:function ReflectApply(Ee,ze,Be){return Function.prototype.apply.call(Ee,ze,Be)};Ue=We&&"function"==typeof We.ownKeys?We.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(Ee){return Object.getOwnPropertyNames(Ee).concat(Object.getOwnPropertySymbols(Ee))}:function ReflectOwnKeys(Ee){return Object.getOwnPropertyNames(Ee)};var Qe=Number.isNaN||function NumberIsNaN(Ee){return Ee!=Ee};function EventEmitter(){EventEmitter.init.call(this)}Ee.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var et=10;function checkListener(Ee){if("function"!=typeof Ee)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ee)}function _getMaxListeners(Ee){return void 0===Ee._maxListeners?EventEmitter.defaultMaxListeners:Ee._maxListeners}function _addListener(Ee,ze,Be,Ue){var We,$e,Qe;if(checkListener(Be),void 0===($e=Ee._events)?($e=Ee._events=Object.create(null),Ee._eventsCount=0):(void 0!==$e.newListener&&(Ee.emit("newListener",ze,Be.listener?Be.listener:Be),$e=Ee._events),Qe=$e[ze]),void 0===Qe)Qe=$e[ze]=Be,++Ee._eventsCount;else if("function"==typeof Qe?Qe=$e[ze]=Ue?[Be,Qe]:[Qe,Be]:Ue?Qe.unshift(Be):Qe.push(Be),(We=_getMaxListeners(Ee))>0&&Qe.length>We&&!Qe.warned){Qe.warned=!0;var et=new Error("Possible EventEmitter memory leak detected. "+Qe.length+" "+String(ze)+" listeners added. Use emitter.setMaxListeners() to increase limit");et.name="MaxListenersExceededWarning",et.emitter=Ee,et.type=ze,et.count=Qe.length,function ProcessEmitWarning(Ee){console&&console.warn&&console.warn(Ee)}(et)}return Ee}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(Ee,ze,Be){var Ue={fired:!1,wrapFn:void 0,target:Ee,type:ze,listener:Be},We=onceWrapper.bind(Ue);return We.listener=Be,Ue.wrapFn=We,We}function _listeners(Ee,ze,Be){var Ue=Ee._events;if(void 0===Ue)return[];var We=Ue[ze];return void 0===We?[]:"function"==typeof We?Be?[We.listener||We]:[We]:Be?function unwrapListeners(Ee){for(var ze=new Array(Ee.length),Be=0;Be<ze.length;++Be)ze[Be]=Ee[Be].listener||Ee[Be];return ze}(We):arrayClone(We,We.length)}function listenerCount(Ee){var ze=this._events;if(void 0!==ze){var Be=ze[Ee];if("function"==typeof Be)return 1;if(void 0!==Be)return Be.length}return 0}function arrayClone(Ee,ze){for(var Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=Ee[Ue];return Be}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return et},set:function(Ee){if("number"!=typeof Ee||Ee<0||Qe(Ee))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ee+".");et=Ee}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(Ee){if("number"!=typeof Ee||Ee<0||Qe(Ee))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Ee+".");return this._maxListeners=Ee,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(Ee){for(var ze=[],Be=1;Be<arguments.length;Be++)ze.push(arguments[Be]);var Ue="error"===Ee,We=this._events;if(void 0!==We)Ue=Ue&&void 0===We.error;else if(!Ue)return!1;if(Ue){var Qe;if(ze.length>0&&(Qe=ze[0]),Qe instanceof Error)throw Qe;var et=new Error("Unhandled error."+(Qe?" ("+Qe.message+")":""));throw et.context=Qe,et}var tt=We[Ee];if(void 0===tt)return!1;if("function"==typeof tt)$e(tt,this,ze);else{var rt=tt.length,nt=arrayClone(tt,rt);for(Be=0;Be<rt;++Be)$e(nt[Be],this,ze)}return!0},EventEmitter.prototype.addListener=function addListener(Ee,ze){return _addListener(this,Ee,ze,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(Ee,ze){return _addListener(this,Ee,ze,!0)},EventEmitter.prototype.once=function once(Ee,ze){return checkListener(ze),this.on(Ee,_onceWrap(this,Ee,ze)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(Ee,ze){return checkListener(ze),this.prependListener(Ee,_onceWrap(this,Ee,ze)),this},EventEmitter.prototype.removeListener=function removeListener(Ee,ze){var Be,Ue,We,$e,Qe;if(checkListener(ze),void 0===(Ue=this._events))return this;if(void 0===(Be=Ue[Ee]))return this;if(Be===ze||Be.listener===ze)0==--this._eventsCount?this._events=Object.create(null):(delete Ue[Ee],Ue.removeListener&&this.emit("removeListener",Ee,Be.listener||ze));else if("function"!=typeof Be){for(We=-1,$e=Be.length-1;$e>=0;$e--)if(Be[$e]===ze||Be[$e].listener===ze){Qe=Be[$e].listener,We=$e;break}if(We<0)return this;0===We?Be.shift():function spliceOne(Ee,ze){for(;ze+1<Ee.length;ze++)Ee[ze]=Ee[ze+1];Ee.pop()}(Be,We),1===Be.length&&(Ue[Ee]=Be[0]),void 0!==Ue.removeListener&&this.emit("removeListener",Ee,Qe||ze)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(Ee){var ze,Be,Ue;if(void 0===(Be=this._events))return this;if(void 0===Be.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Be[Ee]&&(0==--this._eventsCount?this._events=Object.create(null):delete Be[Ee]),this;if(0===arguments.length){var We,$e=Object.keys(Be);for(Ue=0;Ue<$e.length;++Ue)"removeListener"!==(We=$e[Ue])&&this.removeAllListeners(We);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ze=Be[Ee]))this.removeListener(Ee,ze);else if(void 0!==ze)for(Ue=ze.length-1;Ue>=0;Ue--)this.removeListener(Ee,ze[Ue]);return this},EventEmitter.prototype.listeners=function listeners(Ee){return _listeners(this,Ee,!0)},EventEmitter.prototype.rawListeners=function rawListeners(Ee){return _listeners(this,Ee,!1)},EventEmitter.listenerCount=function(Ee,ze){return"function"==typeof Ee.listenerCount?Ee.listenerCount(ze):listenerCount.call(Ee,ze)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Ue(this._events):[]}},"7e55":function(Ee,ze,Be){var Ue=Be("53cc");Ee.exports=function findCircuits(Ee){var ze,Be=[],We=[],$e=[],Qe={},et=[];function circuit(Ee){var Be,Ue,tt=!1;for(We.push(Ee),$e[Ee]=!0,Be=0;Be<et[Ee].length;Be++)(Ue=et[Ee][Be])===ze?(output(ze,We),tt=!0):$e[Ue]||(tt=circuit(Ue));if(tt)!function unblock(Ee){$e[Ee]=!1,Qe.hasOwnProperty(Ee)&&Object.keys(Qe[Ee]).forEach((function(ze){delete Qe[Ee][ze],$e[ze]&&unblock(ze)}))}(Ee);else for(Be=0;Be<et[Ee].length;Be++){Ue=et[Ee][Be];var rt=Qe[Ue];rt||(rt={},Qe[Ue]=rt),rt[Ue]=!0}return We.pop(),tt}function output(Ee,ze){var Ue=[].concat(ze).concat(Ee);Be.push(Ue)}function adjacencyStructureSCC(ze){!function subgraph(ze){for(var Be=0;Be<Ee.length;Be++)Be<ze&&(Ee[Be]=[]),Ee[Be]=Ee[Be].filter((function(Ee){return Ee>=ze}))}(ze);for(var Be,We=Ue(Ee).components.filter((function(Ee){return Ee.length>1})),$e=1/0,Qe=0;Qe<We.length;Qe++)for(var et=0;et<We[Qe].length;et++)We[Qe][et]<$e&&($e=We[Qe][et],Be=Qe);var tt=We[Be];return!!tt&&{leastVertex:$e,adjList:Ee.map((function(Ee,ze){return-1===tt.indexOf(ze)?[]:Ee.filter((function(Ee){return-1!==tt.indexOf(Ee)}))}))}}ze=0;for(var tt=Ee.length;ze<tt;){var rt=adjacencyStructureSCC(ze);if(ze=rt.leastVertex,et=rt.adjList){for(var nt=0;nt<et.length;nt++)for(var at=0;at<et[nt].length;at++){var it=et[nt][at];$e[+it]=!1,Qe[it]={}}circuit(ze),ze+=1}else ze=tt}return Be}},"7e91":function(Ee,ze,Be){"use strict";Ee.exports=function createAttributeWrapper(Ee,ze,Be,We){for(var $e={},Qe=0,et=Be.length;Qe<et;++Qe){var tt=Be[Qe],rt=tt.name,nt=tt.type,at=tt.locations;switch(nt){case"bool":case"int":case"float":addVectorAttribute(Ee,ze,at[0],We,1,$e,rt);break;default:if(nt.indexOf("vec")>=0){if((it=nt.charCodeAt(nt.length-1)-48)<2||it>4)throw new Ue("","Invalid data type for attribute "+rt+": "+nt);addVectorAttribute(Ee,ze,at[0],We,it,$e,rt)}else{if(!(nt.indexOf("mat")>=0))throw new Ue("","Unknown data type for attribute "+rt+": "+nt);var it;if((it=nt.charCodeAt(nt.length-1)-48)<2||it>4)throw new Ue("","Invalid data type for attribute "+rt+": "+nt);addMatrixAttribute(Ee,ze,at,We,it,$e,rt)}}}return $e};var Ue=Be("a3fd");function ShaderAttribute(Ee,ze,Be,Ue,We,$e){this._gl=Ee,this._wrapper=ze,this._index=Be,this._locations=Ue,this._dimension=We,this._constFunc=$e}var We=ShaderAttribute.prototype;function addVectorAttribute(Ee,ze,Be,Ue,We,$e,Qe){for(var et=["gl","v"],tt=[],rt=0;rt<We;++rt)et.push("x"+rt),tt.push("x"+rt);et.push("if(x0.length===void 0){return gl.vertexAttrib"+We+"f(v,"+tt.join()+")}else{return gl.vertexAttrib"+We+"fv(v,x0)}");var nt=Function.apply(null,et),at=new ShaderAttribute(Ee,ze,Be,Ue,We,nt);Object.defineProperty($e,Qe,{set:function(ze){return Ee.disableVertexAttribArray(Ue[Be]),nt(Ee,Ue[Be],ze),ze},get:function(){return at},enumerable:!0})}function addMatrixAttribute(Ee,ze,Be,Ue,We,$e,Qe){for(var et=new Array(We),tt=new Array(We),rt=0;rt<We;++rt)addVectorAttribute(Ee,ze,Be[rt],Ue,We,et,rt),tt[rt]=et[rt];Object.defineProperty(et,"location",{set:function(Ee){if(Array.isArray(Ee))for(var ze=0;ze<We;++ze)tt[ze].location=Ee[ze];else for(ze=0;ze<We;++ze)tt[ze].location=Ee+ze;return Ee},get:function(){for(var Ee=new Array(We),ze=0;ze<We;++ze)Ee[ze]=Ue[Be[ze]];return Ee},enumerable:!0}),et.pointer=function(ze,$e,Qe,et){ze=ze||Ee.FLOAT,$e=!!$e,Qe=Qe||We*We,et=et||0;for(var tt=0;tt<We;++tt){var rt=Ue[Be[tt]];Ee.vertexAttribPointer(rt,We,ze,$e,Qe,et+tt*We),Ee.enableVertexAttribArray(rt)}};var nt=new Array(We),at=Ee["vertexAttrib"+We+"fv"];Object.defineProperty($e,Qe,{set:function(ze){for(var $e=0;$e<We;++$e){var Qe=Ue[Be[$e]];if(Ee.disableVertexAttribArray(Qe),Array.isArray(ze[0]))at.call(Ee,Qe,ze[$e]);else{for(var et=0;et<We;++et)nt[et]=ze[We*$e+et];at.call(Ee,Qe,nt)}}return ze},get:function(){return et},enumerable:!0})}We.pointer=function setAttribPointer(Ee,ze,Be,Ue){var We=this._gl,$e=this._locations[this._index];We.vertexAttribPointer($e,this._dimension,Ee||We.FLOAT,!!ze,Be||0,Ue||0),We.enableVertexAttribArray($e)},We.set=function(Ee,ze,Be,Ue){return this._constFunc(this._locations[this._index],Ee,ze,Be,Ue)},Object.defineProperty(We,"location",{get:function(){return this._locations[this._index]},set:function(Ee){return Ee!==this._locations[this._index]&&(this._locations[this._index]=0|Ee,this._wrapper.program=null),0|Ee}})},"7e96":function(Ee,ze,Be){"use strict";var Ue=Be("0642");Ee.exports=function formatLabels(Ee,ze,Be){var We={},$e={_fullLayout:Be},Qe=Ue.getFromTrace($e,ze,"x"),et=Ue.getFromTrace($e,ze,"y");return We.xLabel=Ue.tickText(Qe,Ee.x,!0).text,We.yLabel=Ue.tickText(et,Ee.y,!0).text,We}},"7eee":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("cb34").overrideAll,$e=Be("8c2d"),Qe={error_x:Ue.extendFlat({},$e),error_y:Ue.extendFlat({},$e)};delete Qe.error_x.copy_zstyle,delete Qe.error_y.copy_zstyle,delete Qe.error_y.copy_ystyle;var et={error_x:Ue.extendFlat({},$e),error_y:Ue.extendFlat({},$e),error_z:Ue.extendFlat({},$e)};delete et.error_x.copy_ystyle,delete et.error_y.copy_ystyle,delete et.error_z.copy_ystyle,delete et.error_z.copy_zstyle,Ee.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:Qe,bar:Qe,histogram:Qe,scatter3d:We(et,"calc","nested"),scattergl:We(Qe,"calc","nested")}},supplyDefaults:Be("2015"),calc:Be("db3f"),makeComputeError:Be("3c31"),plot:Be("553a"),style:Be("afdd"),hoverInfo:function hoverInfo(Ee,ze,Be){(ze.error_y||{}).visible&&(Be.yerr=Ee.yh-Ee.y,ze.error_y.symmetric||(Be.yerrneg=Ee.y-Ee.ys));(ze.error_x||{}).visible&&(Be.xerr=Ee.xh-Ee.x,ze.error_x.symmetric||(Be.xerrneg=Ee.x-Ee.xs))}}},"7f20":function(Ee,ze,Be){"use strict";var Ue=Be("e7cb"),We=Be("13c3"),$e=Be("53a5");Ee.exports=function rgba(Ee){var ze,Be=Ue(Ee);return Be.space?((ze=Array(3))[0]=$e(Be.values[0],0,255),ze[1]=$e(Be.values[1],0,255),ze[2]=$e(Be.values[2],0,255),"h"===Be.space[0]&&(ze=We.rgb(ze)),ze.push($e(Be.alpha,0,1)),ze):[]}},"7f6b":function(Ee,ze,Be){"use strict";var Ue=Be("b5bb"),We=Be("c808");Ee.exports=function convert(Ee,ze){for(var Be=[],$e=Ee,Qe=1;Array.isArray($e);)Be.push($e.length),Qe*=$e.length,$e=$e[0];return 0===Be.length?Ue():(ze||(ze=Ue(new Float64Array(Qe),Be)),We(ze,Ee),ze)}},"7f9a":function(Ee,ze,Be){var Ue=Be("da84"),We=Be("8925"),$e=Ue.WeakMap;Ee.exports="function"==typeof $e&&/native code/.test(We($e))},"7f9b":function(Ee,ze,Be){var Ue=Be("28dd"),We=Be("e98f"),$e=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),Qe=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),et=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),tt=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),rt=We(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),nt=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],at={vertex:$e,fragment:tt,attributes:nt},it={vertex:Qe,fragment:tt,attributes:nt},ct={vertex:et,fragment:tt,attributes:nt},ft={vertex:$e,fragment:rt,attributes:nt},xt={vertex:Qe,fragment:rt,attributes:nt},kt={vertex:et,fragment:rt,attributes:nt};function createShader(Ee,ze){var Be=Ue(Ee,ze),We=Be.attributes;return We.position.location=0,We.color.location=1,We.glyph.location=2,We.id.location=3,Be}ze.createPerspective=function(Ee){return createShader(Ee,at)},ze.createOrtho=function(Ee){return createShader(Ee,it)},ze.createProject=function(Ee){return createShader(Ee,ct)},ze.createPickPerspective=function(Ee){return createShader(Ee,ft)},ze.createPickOrtho=function(Ee){return createShader(Ee,xt)},ze.createPickProject=function(Ee){return createShader(Ee,kt)}},"7f9e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("6dcc"),Qe=Be("c005"),et=Be("9547"),tt=Be("5913"),rt=Be("0c39").calcAllAutoBins;function makeIncrements(Ee,ze,Be,Ue){var We,$e=new Array(Ee);if(Ue)for(We=0;We<Ee;We++)$e[We]=1/(ze[We+1]-ze[We]);else{var Qe=1/Be;for(We=0;We<Ee;We++)$e[We]=Qe}return $e}function binsToCalc(Ee,ze){return{start:Ee(ze.start),end:Ee(ze.end),size:ze.size}}function getRanges(Ee,ze,Be,Ue,We,$e){var Qe,et=Ee.length-1,rt=new Array(et),nt=tt(Be,Ue,Ee,We,$e);for(Qe=0;Qe<et;Qe++){var at=(ze||[])[Qe];rt[Qe]=void 0===at?[nt(Ee[Qe]),nt(Ee[Qe+1],!0)]:[at,at]}return rt}Ee.exports=function calc(Ee,ze){var Be,tt,nt,at,it=We.getFromId(Ee,ze.xaxis),ct=We.getFromId(Ee,ze.yaxis),ft=ze.xcalendar,xt=ze.ycalendar,xr2c=function(Ee){return it.r2c(Ee,0,ft)},yr2c=function(Ee){return ct.r2c(Ee,0,xt)},kt=rt(Ee,ze,it,"x"),Lt=kt[0],Ut=kt[1],er=rt(Ee,ze,ct,"y"),tr=er[0],rr=er[1],ar=ze._length;Ut.length>ar&&Ut.splice(ar,Ut.length-ar),rr.length>ar&&rr.splice(ar,rr.length-ar);var Lr=[],Qr=[],on=[],sn="string"==typeof Lt.size,ln="string"==typeof tr.size,cn=[],un=[],hn=sn?cn:Lt,dn=ln?un:tr,vn=0,yn=[],_n=[],Mn=ze.histnorm,Cn=ze.histfunc,En=-1!==Mn.indexOf("density"),Pn="max"===Cn||"min"===Cn?null:0,In=$e.count,Bn=Qe[Mn],Hn=!1,Kn=[],Jn=[],Ma="z"in ze?ze.z:"marker"in ze&&Array.isArray(ze.marker.color)?ze.marker.color:"";Ma&&"count"!==Cn&&(Hn="avg"===Cn,In=$e[Cn]);var Sa=Lt.size,La=xr2c(Lt.start),Ia=xr2c(Lt.end)+(La-We.tickIncrement(La,Sa,!1,ft))/1e6;for(Be=La;Be<Ia;Be=We.tickIncrement(Be,Sa,!1,ft))Qr.push(Pn),cn.push(Be),Hn&&on.push(0);cn.push(Be);var Ra,Na=Qr.length,Ua=(Be-La)/Na,qa=(Ra=La+Ua/2,it.c2r(Ra,0,ft)),Ka=tr.size,ei=yr2c(tr.start),ti=yr2c(tr.end)+(ei-We.tickIncrement(ei,Ka,!1,xt))/1e6;for(Be=ei;Be<ti;Be=We.tickIncrement(Be,Ka,!1,xt)){Lr.push(Qr.slice()),un.push(Be);var ri=new Array(Na);for(tt=0;tt<Na;tt++)ri[tt]=[];_n.push(ri),Hn&&yn.push(on.slice())}un.push(Be);var ni=Lr.length,ai=(Be-ei)/ni,ii=function(Ee){return ct.c2r(Ee,0,xt)}(ei+ai/2);En&&(Kn=makeIncrements(Qr.length,hn,Ua,sn),Jn=makeIncrements(Lr.length,dn,ai,ln)),sn||"date"!==it.type||(hn=binsToCalc(xr2c,hn)),ln||"date"!==ct.type||(dn=binsToCalc(yr2c,dn));var oi=!0,si=!0,li=new Array(Na),ci=new Array(ni),hi=1/0,Ci=1/0,Pi=1/0,zi=1/0;for(Be=0;Be<ar;Be++){var ji=Ut[Be],Xi=rr[Be];nt=Ue.findBin(ji,hn),at=Ue.findBin(Xi,dn),nt>=0&&nt<Na&&at>=0&&at<ni&&(vn+=In(nt,Be,Lr[at],Ma,yn[at]),_n[at][nt].push(Be),oi&&(void 0===li[nt]?li[nt]=ji:li[nt]!==ji&&(oi=!1)),si&&(void 0===ci[at]?ci[at]=Xi:ci[at]!==Xi&&(si=!1)),hi=Math.min(hi,ji-cn[nt]),Ci=Math.min(Ci,cn[nt+1]-ji),Pi=Math.min(Pi,Xi-un[at]),zi=Math.min(zi,un[at+1]-Xi))}if(Hn)for(at=0;at<ni;at++)vn+=et(Lr[at],yn[at]);if(Bn)for(at=0;at<ni;at++)Bn(Lr[at],vn,Kn,Jn[at]);return{x:Ut,xRanges:getRanges(cn,oi&&li,hi,Ci,it,ft),x0:qa,dx:Ua,y:rr,yRanges:getRanges(un,si&&ci,Pi,zi,ct,xt),y0:ii,dy:ai,z:Lr,pts:_n}}},"7fb7":function(Ee,ze,Be){"use strict";Ee.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},"7fbb":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("9092").extendFlat;Ee.exports=function calcGridlines(Ee,ze,Be){var $e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er=Ee["_"+ze],tr=Ee[ze+"axis"],rr=tr._gridlines=[],ar=tr._minorgridlines=[],Lr=tr._boundarylines=[],Qr=Ee["_"+Be],on=Ee[Be+"axis"];"array"===tr.tickmode&&(tr.tickvals=er.slice());var sn=Ee._xctrl,ln=Ee._yctrl,cn=sn[0].length,un=sn.length,hn=Ee._a.length,dn=Ee._b.length;Ue.prepTicks(tr),"array"===tr.tickmode&&delete tr.tickvals;var vn=tr.smoothing?3:1;function constructValueGridline(Ue){var We,$e,Qe,et,tt,rt,nt,at,ct,ft,xt,kt,Lt=[],Ut=[],er={};if("b"===ze)for($e=Ee.b2j(Ue),Qe=Math.floor(Math.max(0,Math.min(dn-2,$e))),et=$e-Qe,er.length=dn,er.crossLength=hn,er.xy=function(ze){return Ee.evalxy([],ze,$e)},er.dxy=function(ze,Be){return Ee.dxydi([],ze,Qe,Be,et)},We=0;We<hn;We++)rt=Math.min(hn-2,We),nt=We-rt,at=Ee.evalxy([],We,$e),on.smoothing&&We>0&&(ct=Ee.dxydi([],We-1,Qe,0,et),Lt.push(tt[0]+ct[0]/3),Ut.push(tt[1]+ct[1]/3),ft=Ee.dxydi([],We-1,Qe,1,et),Lt.push(at[0]-ft[0]/3),Ut.push(at[1]-ft[1]/3)),Lt.push(at[0]),Ut.push(at[1]),tt=at;else for(We=Ee.a2i(Ue),rt=Math.floor(Math.max(0,Math.min(hn-2,We))),nt=We-rt,er.length=hn,er.crossLength=dn,er.xy=function(ze){return Ee.evalxy([],We,ze)},er.dxy=function(ze,Be){return Ee.dxydj([],rt,ze,nt,Be)},$e=0;$e<dn;$e++)Qe=Math.min(dn-2,$e),et=$e-Qe,at=Ee.evalxy([],We,$e),on.smoothing&&$e>0&&(xt=Ee.dxydj([],rt,$e-1,nt,0),Lt.push(tt[0]+xt[0]/3),Ut.push(tt[1]+xt[1]/3),kt=Ee.dxydj([],rt,$e-1,nt,1),Lt.push(at[0]-kt[0]/3),Ut.push(at[1]-kt[1]/3)),Lt.push(at[0]),Ut.push(at[1]),tt=at;return er.axisLetter=ze,er.axis=tr,er.crossAxis=on,er.value=Ue,er.constvar=Be,er.index=it,er.x=Lt,er.y=Ut,er.smoothing=on.smoothing,er}function constructArrayGridline(Ue){var We,$e,Qe,et,tt,rt=[],nt=[],at={};if(at.length=er.length,at.crossLength=Qr.length,"b"===ze)for(Qe=Math.max(0,Math.min(dn-2,Ue)),tt=Math.min(1,Math.max(0,Ue-Qe)),at.xy=function(ze){return Ee.evalxy([],ze,Ue)},at.dxy=function(ze,Be){return Ee.dxydi([],ze,Qe,Be,tt)},We=0;We<cn;We++)rt[We]=sn[Ue*vn][We],nt[We]=ln[Ue*vn][We];else for($e=Math.max(0,Math.min(hn-2,Ue)),et=Math.min(1,Math.max(0,Ue-$e)),at.xy=function(ze){return Ee.evalxy([],Ue,ze)},at.dxy=function(ze,Be){return Ee.dxydj([],$e,ze,et,Be)},We=0;We<un;We++)rt[We]=sn[We][Ue*vn],nt[We]=ln[We][Ue*vn];return at.axisLetter=ze,at.axis=tr,at.crossAxis=on,at.value=er[Ue],at.constvar=Be,at.index=Ue,at.x=rt,at.y=nt,at.smoothing=on.smoothing,at}if("array"===tr.tickmode){for(tt=5e-15,nt=(rt=[Math.floor((er.length-1-tr.arraytick0)/tr.arraydtick*(1+tt)),Math.ceil(-tr.arraytick0/tr.arraydtick/(1+tt))].sort((function(Ee,ze){return Ee-ze})))[0]-1,at=rt[1]+1,it=nt;it<at;it++)(Qe=tr.arraytick0+tr.arraydtick*it)<0||Qe>er.length-1||rr.push(We(constructArrayGridline(Qe),{color:tr.gridcolor,width:tr.gridwidth}));for(it=nt;it<at;it++)if(et=tr.arraytick0+tr.arraydtick*it,xt=Math.min(et+tr.arraydtick,er.length-1),!(et<0||et>er.length-1||xt<0||xt>er.length-1))for(kt=er[et],Lt=er[xt],$e=0;$e<tr.minorgridcount;$e++)(Ut=xt-et)<=0||(ft=kt+(Lt-kt)*($e+1)/(tr.minorgridcount+1)*(tr.arraydtick/Ut))<er[0]||ft>er[er.length-1]||ar.push(We(constructValueGridline(ft),{color:tr.minorgridcolor,width:tr.minorgridwidth}));tr.startline&&Lr.push(We(constructArrayGridline(0),{color:tr.startlinecolor,width:tr.startlinewidth})),tr.endline&&Lr.push(We(constructArrayGridline(er.length-1),{color:tr.endlinecolor,width:tr.endlinewidth}))}else{for(tt=5e-15,nt=(rt=[Math.floor((er[er.length-1]-tr.tick0)/tr.dtick*(1+tt)),Math.ceil((er[0]-tr.tick0)/tr.dtick/(1+tt))].sort((function(Ee,ze){return Ee-ze})))[0],at=rt[1],it=nt;it<=at;it++)ct=tr.tick0+tr.dtick*it,rr.push(We(constructValueGridline(ct),{color:tr.gridcolor,width:tr.gridwidth}));for(it=nt-1;it<at+1;it++)for(ct=tr.tick0+tr.dtick*it,$e=0;$e<tr.minorgridcount;$e++)(ft=ct+tr.dtick*($e+1)/(tr.minorgridcount+1))<er[0]||ft>er[er.length-1]||ar.push(We(constructValueGridline(ft),{color:tr.minorgridcolor,width:tr.minorgridwidth}));tr.startline&&Lr.push(We(constructValueGridline(er[0]),{color:tr.startlinecolor,width:tr.startlinewidth})),tr.endline&&Lr.push(We(constructValueGridline(er[er.length-1]),{color:tr.endlinecolor,width:tr.endlinewidth}))}}},"7fc3":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("e812").hover;Ee.exports=function click(Ee,ze,Be){var $e=Ue.getComponentMethod("annotations","onClick")(Ee,Ee._hoverdata);function emitClick(){Ee.emit("plotly_click",{points:Ee._hoverdata,event:ze})}void 0!==Be&&We(Ee,ze,Be,!0),Ee._hoverdata&&ze&&ze.target&&($e&&$e.then?$e.then(emitClick):emitClick(),ze.stopImmediatePropagation&&ze.stopImmediatePropagation())}},"7fcc":function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We,$e){var Qe=["function ",Ee,"(a,l,h,",Ue.join(","),"){",$e?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",We?".get(m)":"[m]"];return $e?ze.indexOf("c")<0?Qe.push(";if(x===y){return m}else if(x<=y){"):Qe.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):Qe.push(";if(",ze,"){i=m;"),Be?Qe.push("l=m+1}else{h=m-1}"):Qe.push("h=m-1}else{l=m+1}"),Qe.push("}"),$e?Qe.push("return -1};"):Qe.push("return i};"),Qe.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],!1,Ue),compileSearch("B","x"+Ee+"y",ze,["y"],!0,Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],!1,Ue),compileSearch("Q","c(x,y)"+Ee+"0",ze,["y","c"],!0,Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},"7fda":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26").mergeArray,$e=Be("4136"),Qe=Be("e806").BADNUM;function isAbsolute(Ee){return"a"===Ee||"absolute"===Ee}function isTotal(Ee){return"t"===Ee||"total"===Ee}Ee.exports=function calc(Ee,ze){var Be,et,tt=Ue.getFromId(Ee,ze.xaxis||"x"),rt=Ue.getFromId(Ee,ze.yaxis||"y");"h"===ze.orientation?(Be=tt.makeCalcdata(ze,"x"),et=rt.makeCalcdata(ze,"y")):(Be=rt.makeCalcdata(ze,"y"),et=tt.makeCalcdata(ze,"x"));for(var nt,at=Math.min(et.length,Be.length),it=new Array(at),ct=0,ft=!1,xt=0;xt<at;xt++){var kt=Be[xt]||0,Lt=!1;(Be[xt]!==Qe||isTotal(ze.measure[xt])||isAbsolute(ze.measure[xt]))&&xt+1<at&&(Be[xt+1]!==Qe||isTotal(ze.measure[xt+1])||isAbsolute(ze.measure[xt+1]))&&(Lt=!0);var Ut=it[xt]={i:xt,p:et[xt],s:kt,rawS:kt,cNext:Lt};isAbsolute(ze.measure[xt])?(ct=Ut.s,Ut.isSum=!0,Ut.dir="totals",Ut.s=ct):isTotal(ze.measure[xt])?(Ut.isSum=!0,Ut.dir="totals",Ut.s=ct):(Ut.isSum=!1,Ut.dir=Ut.rawS<0?"decreasing":"increasing",nt=Ut.s,Ut.s=ct+nt,ct+=nt),"totals"===Ut.dir&&(ft=!0),ze.ids&&(Ut.id=String(ze.ids[xt])),Ut.v=(ze.base||0)+ct}return it.length&&(it[0].hasTotals=ft),We(ze.text,it,"tx"),We(ze.hovertext,it,"htx"),$e(it,ze),it}},8062:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("d115"),Qe=Be("72a4").DESELECTDIM,et=Be("2df3"),tt=Be("93a6").resizeText,rt=et.styleTextPoints;Ee.exports={style:function style(Ee,ze,Be){var et=Be||Ue.select(Ee).selectAll("g.funnellayer").selectAll("g.trace");tt(Ee,et,"funnel"),et.style("opacity",(function(Ee){return Ee[0].trace.opacity})),et.each((function(ze){var Be=Ue.select(this),et=ze[0].trace;Be.selectAll(".point > path").each((function(Ee){if(!Ee.isBlank){var ze=et.marker;Ue.select(this).call($e.fill,Ee.mc||ze.color).call($e.stroke,Ee.mlc||ze.line.color).call(We.dashLine,ze.line.dash,Ee.mlw||ze.line.width).style("opacity",et.selectedpoints&&!Ee.selected?Qe:1)}})),rt(Be,et,Ee),Be.selectAll(".regions").each((function(){Ue.select(this).selectAll("path").style("stroke-width",0).call($e.fill,et.connector.fillcolor)})),Be.selectAll(".lines").each((function(){var Ee=et.connector.line;We.lineGroupStyle(Ue.select(this).selectAll("path"),Ee.width,Ee.color,Ee.dash)}))}))}}},"806e":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("2969f");Ee.exports=function select(Ee,ze){var Be=Ee.cd,Qe=Be[0].trace,et=Be[0].t,tt=Ee.scene,rt=tt.matrixOptions.cdata,nt=Ee.xaxis,at=Ee.yaxis,it=[];if(!tt)return it;var ct=!We.hasMarkers(Qe)&&!We.hasText(Qe);if(!0!==Qe.visible||ct)return it;var ft=$e.getDimIndex(Qe,nt),xt=$e.getDimIndex(Qe,at);if(!1===ft||!1===xt)return it;var kt=et.xpx[ft],Lt=et.ypx[xt],Ut=rt[ft],er=rt[xt],tr=[],rr=[];if(!1!==ze&&!ze.degenerate)for(var ar=0;ar<Ut.length;ar++)ze.contains([kt[ar],Lt[ar]],null,ar,Ee)?(tr.push(ar),it.push({pointNumber:ar,x:Ut[ar],y:er[ar]})):rr.push(ar);var Lr=tt.matrixOptions;return tr.length||rr.length?tt.selectBatch.length||tt.unselectBatch.length||tt.matrix.update(tt.unselectedOptions,Ue.extendFlat({},Lr,tt.selectedOptions,tt.viewOpts)):tt.matrix.update(Lr,null),tt.selectBatch=tr,tt.unselectBatch=rr,it}},8173:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26");Ee.exports=function handleSampleDefaults(Ee,ze,Be,$e){var Qe=Be("x"),et=Be("y"),tt=We.minRowLength(Qe),rt=We.minRowLength(et);tt&&rt?(ze._length=Math.min(tt,rt),Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y"],$e),(Be("z")||Be("marker.color"))&&Be("histfunc"),Be("histnorm"),Be("autobinx"),Be("autobiny")):ze.visible=!1}},"81f0":function(Ee,ze,Be){"use strict";var Ue=Be("9092").extendFlat;ze.attributes=function(Ee,ze){ze=ze||{};var Be={valType:"info_array",editType:(Ee=Ee||{}).editType,items:[{valType:"number",min:0,max:1,editType:Ee.editType},{valType:"number",min:0,max:1,editType:Ee.editType}],dflt:[0,1]},We=(Ee.name&&Ee.name,Ee.trace,ze.description&&ze.description,{x:Ue({},Be,{}),y:Ue({},Be,{}),editType:Ee.editType});return Ee.noGridCell||(We.row={valType:"integer",min:0,dflt:0,editType:Ee.editType},We.column={valType:"integer",min:0,dflt:0,editType:Ee.editType}),We},ze.defaults=function(Ee,ze,Be,Ue){var We=Ue&&Ue.x||[0,1],$e=Ue&&Ue.y||[0,1],Qe=ze.grid;if(Qe){var et=Be("domain.column");void 0!==et&&(et<Qe.columns?We=Qe._domains.x[et]:delete Ee.domain.column);var tt=Be("domain.row");void 0!==tt&&(tt<Qe.rows?$e=Qe._domains.y[tt]:delete Ee.domain.row)}var rt=Be("domain.x",We),nt=Be("domain.y",$e);rt[0]<rt[1]||(Ee.domain.x=We.slice()),nt[0]<nt[1]||(Ee.domain.y=$e.slice())}},"821b":function(Ee,ze,Be){"use strict";Ee.exports=function clearGlCanvases(Ee){var ze=Ee._fullLayout;ze._glcanvas&&ze._glcanvas.size()&&ze._glcanvas.each((function(Ee){Ee.regl&&Ee.regl.clear({color:!0,depth:!0})}))}},"824b":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("e806").BADNUM,$e=Be("09bd"),Qe=Be("106b"),et=Be("4136"),tt=Be("fc26")._;function isNonBlankString(Ee){return Ee&&"string"==typeof Ee}Ee.exports=function calc(Ee,ze){var Be,rt=Array.isArray(ze.locations),nt=rt?ze.locations.length:ze._length,at=new Array(nt);Be=ze.geojson?function(Ee){return isNonBlankString(Ee)||Ue(Ee)}:isNonBlankString;for(var it=0;it<nt;it++){var ct=at[it]={};if(rt){var ft=ze.locations[it];ct.loc=Be(ft)?ft:null}else{var xt=ze.lon[it],kt=ze.lat[it];Ue(xt)&&Ue(kt)?ct.lonlat=[+xt,+kt]:ct.lonlat=[We,We]}}return Qe(at,ze),$e(Ee,ze),et(at,ze),nt&&(at[0].t={labels:{lat:tt(Ee,"lat:")+" ",lon:tt(Ee,"lon:")+" "}}),at}},"825a":function(Ee,ze,Be){var Ue=Be("861d");Ee.exports=function(Ee){if(!Ue(Ee))throw TypeError(String(Ee)+" is not an object");return Ee}},8260:function(Ee,ze,Be){"use strict";var Ue=Be("f118"),We=Be("e806").BADNUM;Ee.exports=function plot(Ee,ze,Be){for(var $e=ze.layers.frontplot.select("g.scatterlayer"),Qe={xaxis:ze.xaxis,yaxis:ze.yaxis,plot:ze.framework,layerClipId:ze._hasClipOnAxisFalse?ze.clipIds.forTraces:null},et=ze.radialAxis,tt=ze.angularAxis,rt=0;rt<Be.length;rt++)for(var nt=Be[rt],at=0;at<nt.length;at++){var it=nt[at],ct=it.r;if(ct===We)it.x=it.y=We;else{var ft=et.c2g(ct),xt=tt.c2g(it.theta);it.x=ft*Math.cos(xt),it.y=ft*Math.sin(xt)}}Ue(Ee,Qe,Be,$e)}},8298:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("d34f"),et=Be("9cf1"),tt=Be("0681");Ee.exports=function plot(Ee,ze,Be,rt){var nt=Ee._fullLayout,at=ze.xaxis,it=ze.yaxis;function makePath(Ee){var ze=et(Ee,{xaxis:at,yaxis:it,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return $e.smoothopen(ze[0],1)}We.makeTraceGroups(rt,Be,"trace violins").each((function(Ee){var Be=Ue.select(this),$e=Ee[0],et=$e.t,rt=$e.trace;if(!0!==rt.visible||et.empty)Be.remove();else{var ct=et.bPos,ft=et.bdPos,xt=ze[et.valLetter+"axis"],kt=ze[et.posLetter+"axis"],Lt="both"===rt.side,Ut=Lt||"positive"===rt.side,er=Lt||"negative"===rt.side,tr=Be.selectAll("path.violin").data(We.identity);tr.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),tr.exit().remove(),tr.each((function(Ee){var ze,Be,We,$e,Qe,tt,at,it,tr=Ue.select(this),rr=Ee.density,ar=rr.length,Lr=kt.c2l(Ee.pos+ct,!0),Qr=kt.l2p(Lr);if(rt.width)ze=et.maxKDE/ft;else{var on=nt._violinScaleGroupStats[rt.scalegroup];ze="count"===rt.scalemode?on.maxKDE/ft*(on.maxCount/Ee.pts.length):on.maxKDE/ft}if(Ut){for(at=new Array(ar),Qe=0;Qe<ar;Qe++)(it=at[Qe]={})[et.posLetter]=Lr+rr[Qe].v/ze,it[et.valLetter]=xt.c2l(rr[Qe].t,!0);Be=makePath(at)}if(er){for(at=new Array(ar),tt=0,Qe=ar-1;tt<ar;tt++,Qe--)(it=at[tt]={})[et.posLetter]=Lr-rr[Qe].v/ze,it[et.valLetter]=xt.c2l(rr[Qe].t,!0);We=makePath(at)}if(Lt)$e=Be+"L"+We.substr(1)+"Z";else{var sn=[Qr,xt.c2p(rr[0].t)],ln=[Qr,xt.c2p(rr[ar-1].t)];"h"===rt.orientation&&(sn.reverse(),ln.reverse()),$e=Ut?"M"+sn+"L"+Be.substr(1)+"L"+ln:"M"+ln+"L"+We.substr(1)+"L"+sn}tr.attr("d",$e),Ee.posCenterPx=Qr,Ee.posDensityScale=ze*ft,Ee.path=tr.node(),Ee.pathLength=Ee.path.getTotalLength()/(Lt?2:1)}));var rr,ar,Lr,Qr=rt.box,on=Qr.width,sn=(Qr.line||{}).width;Lt?(rr=ft*on,ar=0):Ut?(rr=[0,ft*on/2],ar=sn*{x:1,y:-1}[et.posLetter]):(rr=[ft*on/2,0],ar=sn*{x:-1,y:1}[et.posLetter]),Qe.plotBoxAndWhiskers(Be,{pos:kt,val:xt},rt,{bPos:ct,bdPos:rr,bPosPxOffset:ar}),Qe.plotBoxMean(Be,{pos:kt,val:xt},rt,{bPos:ct,bdPos:rr,bPosPxOffset:ar}),!rt.box.visible&&rt.meanline.visible&&(Lr=We.identity);var ln=Be.selectAll("path.meanline").data(Lr||[]);ln.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),ln.exit().remove(),ln.each((function(Ee){var ze=xt.c2p(Ee.mean,!0),Be=tt.getPositionOnKdePath(Ee,rt,ze);Ue.select(this).attr("d","h"===rt.orientation?"M"+ze+","+Be[0]+"V"+Be[1]:"M"+Be[0]+","+ze+"H"+Be[1])})),Qe.plotPoints(Be,{x:at,y:it},rt,et)}}))}},"82a5":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e");function paste(Ee,ze,Be,We){We=We||Ue.identity,Array.isArray(Ee)&&(ze[0][Be]=We(Ee))}Ee.exports=function calc(Ee){var ze=Ee.calcdata,Be=Ee._fullLayout;function makeCoerceHoverInfo(Ee){return function(ze){return Ue.coerceHoverinfo({hoverinfo:ze},{_module:Ee._module},Be)}}for(var $e=0;$e<ze.length;$e++){var Qe=ze[$e],et=Qe[0].trace;if(!We.traceIs(et,"pie-like")){var tt=We.traceIs(et,"2dMap")?paste:Ue.fillArray;tt(et.hoverinfo,Qe,"hi",makeCoerceHoverInfo(et)),et.hovertemplate&&tt(et.hovertemplate,Qe,"ht"),et.hoverlabel&&(tt(et.hoverlabel.bgcolor,Qe,"hbg"),tt(et.hoverlabel.bordercolor,Qe,"hbc"),tt(et.hoverlabel.font.size,Qe,"hts"),tt(et.hoverlabel.font.color,Qe,"htc"),tt(et.hoverlabel.font.family,Qe,"htf"),tt(et.hoverlabel.namelength,Qe,"hnl"),tt(et.hoverlabel.align,Qe,"hta"))}}}},"82b5":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){var ze=Ee.editType;return{t:{valType:"number",dflt:0,editType:ze},r:{valType:"number",dflt:0,editType:ze},b:{valType:"number",dflt:0,editType:ze},l:{valType:"number",dflt:0,editType:ze},editType:ze}}},"82d4":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4183"),$e=Be("be2a");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var et=coerce("u"),tt=coerce("v"),rt=coerce("w"),nt=coerce("x"),at=coerce("y"),it=coerce("z");et&&et.length&&tt&&tt.length&&rt&&rt.length&&nt&&nt.length&&at&&at.length&&it&&it.length?(coerce("starts.x"),coerce("starts.y"),coerce("starts.z"),coerce("maxdisplayed"),coerce("sizeref"),coerce("lighting.ambient"),coerce("lighting.diffuse"),coerce("lighting.specular"),coerce("lighting.roughness"),coerce("lighting.fresnel"),coerce("lightposition.x"),coerce("lightposition.y"),coerce("lightposition.z"),We(Ee,ze,Qe,coerce,{prefix:"",cLetter:"c"}),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),ze._length=null):ze.visible=!1}},"82d7":function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("a876"),$e=Be("dfb3"),Qe=Be("a462"),et=Be("81f0").attributes,tt=Be("94d5").hovertemplateAttrs,rt=Be("f4e9"),nt=Be("a651").templatedArray,at=Be("9092").extendFlat,it=Be("cb34").overrideAll;Be("78df").FORMAT_LINK;(Ee.exports=it({hoverinfo:at({},We.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:Qe.hoverlabel,domain:et({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s"},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:Ue({}),node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},line:{color:{valType:"color",dflt:$e.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:Qe.hoverlabel,hovertemplate:tt({},{keys:["value","label"]})},link:{label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},line:{color:{valType:"color",dflt:$e.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:Qe.hoverlabel,hovertemplate:tt({},{keys:["value","label"]}),colorscales:nt("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:at(rt().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},"82e4":function(Ee,ze,Be){"use strict";Ee.exports=Be("f90d")},"831f":function(Ee,ze,Be){"use strict";Ee.exports=Be("0382")},8378:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("a651"),Qe=Be("a685"),et=Be("d798"),tt=Be("b5e2"),rt=Be("7118"),nt=Be("6add").handleConstraintDefaults,at=Be("f3a2"),it=Be("3c1c"),ct=it.id2name,ft=it.name2id,xt=Be("371e"),kt=xt.traceIs,Lt=xt.getComponentMethod;function appendList(Ee,ze,Be){Array.isArray(Ee[ze])?Ee[ze].push(Be):Ee[ze]=[Be]}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){var it,xt,Ut={},er={},tr={},rr={},ar={},Lr={},Qr={},on={},sn={},ln={};for(it=0;it<Be.length;it++){var cn=Be[it];if(kt(cn,"cartesian")||kt(cn,"gl2d")){var un,hn;if(cn.xaxis)appendList(Ut,un=ct(cn.xaxis),cn);else if(cn.xaxes)for(xt=0;xt<cn.xaxes.length;xt++)appendList(Ut,ct(cn.xaxes[xt]),cn);if(cn.yaxis)appendList(Ut,hn=ct(cn.yaxis),cn);else if(cn.yaxes)for(xt=0;xt<cn.yaxes.length;xt++)appendList(Ut,ct(cn.yaxes[xt]),cn);if("funnel"===cn.type?"h"===cn.orientation?(un&&(er[un]=!0),hn&&(Qr[hn]=!0)):hn&&(tr[hn]=!0):"image"===cn.type?(hn&&(on[hn]=!0),un&&(on[un]=!0)):(hn&&(ar[hn]=!0,Lr[hn]=!0),kt(cn,"carpet")&&("carpet"!==cn.type||cn._cheater)||un&&(rr[un]=!0)),"carpet"===cn.type&&cn._cheater&&un&&(er[un]=!0),kt(cn,"2dMap")&&(sn[un]=!0,sn[hn]=!0),kt(cn,"oriented"))ln["h"===cn.orientation?hn:un]=!0}}var dn=ze._subplots,vn=dn.xaxis,yn=dn.yaxis,_n=Ue.simpleMap(vn,ct),Mn=Ue.simpleMap(yn,ct),Cn=_n.concat(Mn),En=We.background;vn.length&&yn.length&&(En=Ue.coerce(Ee,ze,Qe,"plot_bgcolor"));var Pn,In,Bn,Hn,Kn=We.combine(En,ze.paper_bgcolor);function coerce(Ee,ze){return Ue.coerce(Bn,Hn,et,Ee,ze)}function coerce2(Ee,ze){return Ue.coerce2(Bn,Hn,et,Ee,ze)}function getCounterAxes(Ee){return"x"===Ee?yn:vn}var Jn={x:getCounterAxes("x"),y:getCounterAxes("y")},Ma=Jn.x.concat(Jn.y);function getOverlayableAxes(ze,Be){for(var Ue="x"===ze?_n:Mn,We=[],$e=0;$e<Ue.length;$e++){var Qe=Ue[$e];Qe===Be||(Ee[Qe]||{}).overlaying||We.push(ft(Qe))}return We}for(it=0;it<Cn.length;it++){In=(Pn=Cn[it]).charAt(0),Ue.isPlainObject(Ee[Pn])||(Ee[Pn]={}),Bn=Ee[Pn],Hn=$e.newContainer(ze,Pn,In+"axis");var Sa=Ut[Pn]||[];Hn._traceIndices=Sa.map((function(Ee){return Ee._expandedIndex})),Hn._annIndices=[],Hn._shapeIndices=[],Hn._imgIndices=[],Hn._subplotsWith=[],Hn._counterAxes=[],Hn._name=Hn._attr=Pn;var La=Hn._id=ft(Pn),Ia=getOverlayableAxes(In,Pn),Ra="x"===In&&!rr[Pn]&&er[Pn]||"y"===In&&!ar[Pn]&&tr[Pn],Na="y"===In&&(!Lr[Pn]&&Qr[Pn]||on[Pn]),Ua={letter:In,font:ze.font,outerTicks:sn[Pn],showGrid:!ln[Pn],data:Sa,bgColor:Kn,calendar:ze.calendar,automargin:!0,visibleDflt:Ra,reverseDflt:Na,splomStash:((ze._splomAxes||{})[In]||{})[La]};coerce("uirevision",ze.uirevision),tt(Bn,Hn,coerce,Ua),rt(Bn,Hn,coerce,Ua,ze);var qa=coerce2("spikecolor"),Ka=coerce2("spikethickness"),ei=coerce2("spikedash"),ti=coerce2("spikemode"),ri=coerce2("spikesnap");coerce("showspikes",!!(qa||Ka||ei||ti||ri))||(delete Hn.spikecolor,delete Hn.spikethickness,delete Hn.spikedash,delete Hn.spikemode,delete Hn.spikesnap),at(Bn,Hn,coerce,{letter:In,counterAxes:Jn[In],overlayableAxes:Ia,grid:ze.grid}),coerce("title.standoff"),Hn._input=Bn}var ni=Lt("rangeslider","handleDefaults"),ai=Lt("rangeselector","handleDefaults");for(it=0;it<_n.length;it++)Pn=_n[it],Bn=Ee[Pn],Hn=ze[Pn],ni(Ee,ze,Pn),"date"===Hn.type&&ai(Bn,Hn,ze,Mn,Hn.calendar),coerce("fixedrange");for(it=0;it<Mn.length;it++){Pn=Mn[it],Bn=Ee[Pn],Hn=ze[Pn];var ii=ze[ct(Hn.anchor)];coerce("fixedrange",Lt("rangeslider","isVisible")(ii))}var oi=ze._axisConstraintGroups=[],si=ze._axisMatchGroups=[];for(it=0;it<Cn.length;it++){var li,ci;In=(Pn=Cn[it]).charAt(0),Bn=Ee[Pn],Hn=ze[Pn],li="y"===In&&!Bn.hasOwnProperty("scaleanchor")&&on[Pn]?Hn.anchor:void 0,ci=!Bn.hasOwnProperty("constrain")&&on[Pn]?"domain":void 0,nt(Bn,Hn,coerce,{allAxisIds:Ma,layoutOut:ze,scaleanchorDflt:li,constrainDflt:ci})}for(it=0;it<si.length;it++){var hi,Ci=si[it],Pi=null,zi=null;for(hi in Ci)(Hn=ze[ct(hi)]).matches||(Pi=Hn.range,zi=Hn.autorange);if(null===Pi||null===zi)for(hi in Ci){Pi=(Hn=ze[ct(hi)]).range,zi=Hn.autorange;break}for(hi in Ci)(Hn=ze[ct(hi)]).matches&&(Hn.range=Pi.slice(),Hn.autorange=zi),Hn._matchGroup=Ci;if(oi.length)for(hi in Ci)for(xt=0;xt<oi.length;xt++){var ji=oi[xt];for(var Xi in ji)hi===Xi&&(Ue.warn("Axis "+Xi+" is set with both a *scaleanchor* and *matches* constraint; ignoring the scale constraint."),delete ji[Xi],Object.keys(ji).length<2&&oi.splice(xt,1))}}}},"838d":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("1590"),supplyDefaults:Be("2513"),crossTraceDefaults:Be("722f"),calc:Be("0625"),plot:Be("fa8a"),layerName:"heatmaplayer",colorbar:Be("fcb3"),style:Be("c437"),hoverPoints:Be("9236"),eventData:Be("6f09"),moduleType:"trace",name:"histogram2d",basePlotModule:Be("91cd"),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},"83ab":function(Ee,ze,Be){var Ue=Be("d039");Ee.exports=!Ue((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83c1":function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("fc26"),$e=Be("feed"),Qe=We.fillText,et=Be("e806").BADNUM;Ee.exports=function hoverPoints(Ee,ze,Be){var tt=Ee.cd,rt=tt[0].trace,nt=Ee.xa,at=Ee.ya,it=Ee.subplot,ct=360*(ze>=0?Math.floor((ze+180)/360):Math.ceil((ze-180)/360)),ft=ze-ct;if(Ue.getClosest(tt,(function distFn(Ee){var ze=Ee.lonlat;if(ze[0]===et)return 1/0;var Ue=We.modHalf(ze[0],360),$e=ze[1],Qe=it.project([Ue,$e]),tt=Qe.x-nt.c2p([ft,$e]),rt=Qe.y-at.c2p([Ue,Be]),ct=Math.max(3,Ee.mrc||0);return Math.max(Math.sqrt(tt*tt+rt*rt)-ct,1-3/ct)}),Ee),!1!==Ee.index){var xt=tt[Ee.index],kt=xt.lonlat,Lt=[We.modHalf(kt[0],360)+ct,kt[1]],Ut=nt.c2p(Lt),er=at.c2p(Lt),tr=xt.mrc||1;Ee.x0=Ut-tr,Ee.x1=Ut+tr,Ee.y0=er-tr,Ee.y1=er+tr;var rr={};rr[rt.subplot]={_subplot:it};var ar=rt._module.formatLabels(xt,rt,rr);return Ee.lonLabel=ar.lonLabel,Ee.latLabel=ar.latLabel,Ee.color=$e(rt,xt),Ee.extraText=function getExtraText(Ee,ze,Be){if(Ee.hovertemplate)return;var Ue=(ze.hi||Ee.hoverinfo).split("+"),We=-1!==Ue.indexOf("all"),$e=-1!==Ue.indexOf("lon"),et=-1!==Ue.indexOf("lat"),tt=ze.lonlat,rt=[];function format(Ee){return Ee+"°"}We||$e&&et?rt.push("("+format(tt[0])+", "+format(tt[1])+")"):$e?rt.push(Be.lon+format(tt[0])):et&&rt.push(Be.lat+format(tt[1]));(We||-1!==Ue.indexOf("text"))&&Qe(ze,Ee,rt);return rt.join("<br>")}(rt,xt,tt[0].t.labels),Ee.hovertemplate=rt.hovertemplate,[Ee]}}},"83d1":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("66cb"),Qe=Be("371e"),et=Be("d115"),tt=Be("c258"),rt=Be("fc26"),nt=Be("0379"),at=Be("73c9"),it=Be("63dc").LINE_SPACING,ct=Be("72a4").DESELECTDIM,ft=Be("de81"),xt=Be("1978"),kt=Be("c4c7").appendArrayPointValue,Lt=Ee.exports={};Lt.font=function(Ee,ze,Be,Ue){rt.isPlainObject(ze)&&(Ue=ze.color,Be=ze.size,ze=ze.family),ze&&Ee.style("font-family",ze),Be+1&&Ee.style("font-size",Be+"px"),Ue&&Ee.call(et.fill,Ue)},Lt.setPosition=function(Ee,ze,Be){Ee.attr("x",ze).attr("y",Be)},Lt.setSize=function(Ee,ze,Be){Ee.attr("width",ze).attr("height",Be)},Lt.setRect=function(Ee,ze,Be,Ue,We){Ee.call(Lt.setPosition,ze,Be).call(Lt.setSize,Ue,We)},Lt.translatePoint=function(Ee,ze,Be,Ue){var $e=Be.c2p(Ee.x),Qe=Ue.c2p(Ee.y);return!!(We($e)&&We(Qe)&&ze.node())&&("text"===ze.node().nodeName?ze.attr("x",$e).attr("y",Qe):ze.attr("transform","translate("+$e+","+Qe+")"),!0)},Lt.translatePoints=function(Ee,ze,Be){Ee.each((function(Ee){var We=Ue.select(this);Lt.translatePoint(Ee,We,ze,Be)}))},Lt.hideOutsideRangePoint=function(Ee,ze,Be,Ue,We,$e){ze.attr("display",Be.isPtWithinRange(Ee,We)&&Ue.isPtWithinRange(Ee,$e)?null:"none")},Lt.hideOutsideRangePoints=function(Ee,ze){if(ze._hasClipOnAxisFalse){var Be=ze.xaxis,We=ze.yaxis;Ee.each((function(ze){var $e=ze[0].trace,et=$e.xcalendar,tt=$e.ycalendar,rt=Qe.traceIs($e,"bar-like")?".bartext":".point,.textpoint";Ee.selectAll(rt).each((function(Ee){Lt.hideOutsideRangePoint(Ee,Ue.select(this),Be,We,et,tt)}))}))}},Lt.crispRound=function(Ee,ze,Be){return ze&&We(ze)?Ee._context.staticPlot?ze:ze<1?1:Math.round(ze):Be||0},Lt.singleLineStyle=function(Ee,ze,Be,Ue,We){ze.style("fill","none");var $e=(((Ee||[])[0]||{}).trace||{}).line||{},Qe=Be||$e.width||0,tt=We||$e.dash||"";et.stroke(ze,Ue||$e.color),Lt.dashLine(ze,tt,Qe)},Lt.lineGroupStyle=function(Ee,ze,Be,We){Ee.style("fill","none").each((function(Ee){var $e=(((Ee||[])[0]||{}).trace||{}).line||{},Qe=ze||$e.width||0,tt=We||$e.dash||"";Ue.select(this).call(et.stroke,Be||$e.color).call(Lt.dashLine,tt,Qe)}))},Lt.dashLine=function(Ee,ze,Be){Be=+Be||0,ze=Lt.dashStyle(ze,Be),Ee.style({"stroke-dasharray":ze,"stroke-width":Be+"px"})},Lt.dashStyle=function(Ee,ze){ze=+ze||1;var Be=Math.max(ze,3);return"solid"===Ee?Ee="":"dot"===Ee?Ee=Be+"px,"+Be+"px":"dash"===Ee?Ee=3*Be+"px,"+3*Be+"px":"longdash"===Ee?Ee=5*Be+"px,"+5*Be+"px":"dashdot"===Ee?Ee=3*Be+"px,"+Be+"px,"+Be+"px,"+Be+"px":"longdashdot"===Ee&&(Ee=5*Be+"px,"+2*Be+"px,"+Be+"px,"+2*Be+"px"),Ee},Lt.singleFillStyle=function(Ee){var ze=(((Ue.select(Ee.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;ze&&Ee.call(et.fill,ze)},Lt.fillGroupStyle=function(Ee){Ee.style("stroke-width",0).each((function(Ee){var ze=Ue.select(this);Ee[0].trace&&ze.call(et.fill,Ee[0].trace.fillcolor)}))};var Ut=Be("3350");Lt.symbolNames=[],Lt.symbolFuncs=[],Lt.symbolNeedLines={},Lt.symbolNoDot={},Lt.symbolNoFill={},Lt.symbolList=[],Object.keys(Ut).forEach((function(Ee){var ze=Ut[Ee],Be=ze.n;Lt.symbolList.push(Be,Ee,Be+100,Ee+"-open"),Lt.symbolNames[Be]=Ee,Lt.symbolFuncs[Be]=ze.f,ze.needLine&&(Lt.symbolNeedLines[Be]=!0),ze.noDot?Lt.symbolNoDot[Be]=!0:Lt.symbolList.push(Be+200,Ee+"-dot",Be+300,Ee+"-open-dot"),ze.noFill&&(Lt.symbolNoFill[Be]=!0)}));var er=Lt.symbolNames.length;function makePointPath(Ee,ze){var Be=Ee%100;return Lt.symbolFuncs[Be](ze)+(Ee>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}Lt.symbolNumber=function(Ee){if("string"==typeof Ee){var ze=0;Ee.indexOf("-open")>0&&(ze=100,Ee=Ee.replace("-open","")),Ee.indexOf("-dot")>0&&(ze+=200,Ee=Ee.replace("-dot","")),(Ee=Lt.symbolNames.indexOf(Ee))>=0&&(Ee+=ze)}return Ee%100>=er||Ee>=400?0:Math.floor(Math.max(Ee,0))};var tr={x1:1,x2:0,y1:0,y2:0},rr={x1:0,x2:0,y1:1,y2:0},ar=Ue.format("~.1f"),Lr={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:tr},horizontalreversed:{node:"linearGradient",attrs:tr,reversed:!0},vertical:{node:"linearGradient",attrs:rr},verticalreversed:{node:"linearGradient",attrs:rr,reversed:!0}};Lt.gradient=function(Ee,ze,Be,We,Qe,tt){for(var nt=Qe.length,at=Lr[We],it=new Array(nt),ct=0;ct<nt;ct++)at.reversed?it[nt-1-ct]=[ar(100*(1-Qe[ct][0])),Qe[ct][1]]:it[ct]=[ar(100*Qe[ct][0]),Qe[ct][1]];var ft=ze._fullLayout,xt="g"+ft._uid+"-"+Be,kt=ft._defs.select(".gradients").selectAll("#"+xt).data([We+it.join(";")],rt.identity);kt.exit().remove(),kt.enter().append(at.node).each((function(){var Ee=Ue.select(this);at.attrs&&Ee.attr(at.attrs),Ee.attr("id",xt);var ze=Ee.selectAll("stop").data(it);ze.exit().remove(),ze.enter().append("stop"),ze.each((function(Ee){var ze=$e(Ee[1]);Ue.select(this).attr({offset:Ee[0]+"%","stop-color":et.tinyRGB(ze),"stop-opacity":ze.getAlpha()})}))})),Ee.style(tt,getFullUrl(xt,ze)).style(tt+"-opacity",null);var className2query=function(Ee){return"."+Ee.attr("class").replace(/\s/g,".")},Lt=className2query(Ue.select(Ee.node().parentNode))+">"+className2query(Ee);ft._gradientUrlQueryParts[Lt]=1},Lt.initGradients=function(Ee){var ze=Ee._fullLayout;rt.ensureSingle(ze._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),ze._gradientUrlQueryParts={}},Lt.pointStyle=function(Ee,ze,Be){if(Ee.size()){var We=Lt.makePointStyleFns(ze);Ee.each((function(Ee){Lt.singlePointStyle(Ee,Ue.select(this),ze,We,Be)}))}},Lt.singlePointStyle=function(Ee,ze,Be,Ue,We){var $e=Be.marker,Qe=$e.line;if(ze.style("opacity",Ue.selectedOpacityFn?Ue.selectedOpacityFn(Ee):void 0===Ee.mo?$e.opacity:Ee.mo),Ue.ms2mrc){var tt;tt="various"===Ee.ms||"various"===$e.size?3:Ue.ms2mrc(Ee.ms),Ee.mrc=tt,Ue.selectedSizeFn&&(tt=Ee.mrc=Ue.selectedSizeFn(Ee));var nt=Lt.symbolNumber(Ee.mx||$e.symbol)||0;Ee.om=nt%200>=100,ze.attr("d",makePointPath(nt,tt))}var at,it,ct,ft=!1;if(Ee.so)ct=Qe.outlierwidth,it=Qe.outliercolor,at=$e.outliercolor;else{var xt=(Qe||{}).width;ct=(Ee.mlw+1||xt+1||(Ee.trace?(Ee.trace.marker.line||{}).width:0)+1)-1||0,it="mlc"in Ee?Ee.mlcc=Ue.lineScale(Ee.mlc):rt.isArrayOrTypedArray(Qe.color)?et.defaultLine:Qe.color,rt.isArrayOrTypedArray($e.color)&&(at=et.defaultLine,ft=!0),at="mc"in Ee?Ee.mcc=Ue.markerScale(Ee.mc):$e.color||"rgba(0,0,0,0)",Ue.selectedColorFn&&(at=Ue.selectedColorFn(Ee))}if(Ee.om)ze.call(et.stroke,at).style({"stroke-width":(ct||1)+"px",fill:"none"});else{ze.style("stroke-width",(Ee.isBlank?0:ct)+"px");var kt=$e.gradient,Ut=Ee.mgt;if(Ut?ft=!0:Ut=kt&&kt.type,Array.isArray(Ut)&&(Ut=Ut[0],Lr[Ut]||(Ut=0)),Ut&&"none"!==Ut){var er=Ee.mgc;er?ft=!0:er=kt.color;var tr=Be.uid;ft&&(tr+="-"+Ee.i),Lt.gradient(ze,We,tr,Ut,[[0,er],[1,at]],"fill")}else et.fill(ze,at);ct&&et.stroke(ze,it)}},Lt.makePointStyleFns=function(Ee){var ze={},Be=Ee.marker;return ze.markerScale=Lt.tryColorscale(Be,""),ze.lineScale=Lt.tryColorscale(Be,"line"),Qe.traceIs(Ee,"symbols")&&(ze.ms2mrc=ft.isBubble(Ee)?xt(Ee):function(){return(Be.size||6)/2}),Ee.selectedpoints&&rt.extendFlat(ze,Lt.makeSelectedPointStyleFns(Ee)),ze},Lt.makeSelectedPointStyleFns=function(Ee){var ze={},Be=Ee.selected||{},Ue=Ee.unselected||{},We=Ee.marker||{},$e=Be.marker||{},et=Ue.marker||{},tt=We.opacity,nt=$e.opacity,at=et.opacity,it=void 0!==nt,ft=void 0!==at;(rt.isArrayOrTypedArray(tt)||it||ft)&&(ze.selectedOpacityFn=function(Ee){var ze=void 0===Ee.mo?We.opacity:Ee.mo;return Ee.selected?it?nt:ze:ft?at:ct*ze});var xt=We.color,kt=$e.color,Lt=et.color;(kt||Lt)&&(ze.selectedColorFn=function(Ee){var ze=Ee.mcc||xt;return Ee.selected?kt||ze:Lt||ze});var Ut=We.size,er=$e.size,tr=et.size,rr=void 0!==er,ar=void 0!==tr;return Qe.traceIs(Ee,"symbols")&&(rr||ar)&&(ze.selectedSizeFn=function(Ee){var ze=Ee.mrc||Ut/2;return Ee.selected?rr?er/2:ze:ar?tr/2:ze}),ze},Lt.makeSelectedTextStyleFns=function(Ee){var ze={},Be=Ee.selected||{},Ue=Ee.unselected||{},We=Ee.textfont||{},$e=Be.textfont||{},Qe=Ue.textfont||{},tt=We.color,rt=$e.color,nt=Qe.color;return ze.selectedTextColorFn=function(Ee){var ze=Ee.tc||tt;return Ee.selected?rt||ze:nt||(rt?ze:et.addOpacity(ze,ct))},ze},Lt.selectedPointStyle=function(Ee,ze){if(Ee.size()&&ze.selectedpoints){var Be=Lt.makeSelectedPointStyleFns(ze),We=ze.marker||{},$e=[];Be.selectedOpacityFn&&$e.push((function(Ee,ze){Ee.style("opacity",Be.selectedOpacityFn(ze))})),Be.selectedColorFn&&$e.push((function(Ee,ze){et.fill(Ee,Be.selectedColorFn(ze))})),Be.selectedSizeFn&&$e.push((function(Ee,ze){var Ue=ze.mx||We.symbol||0,$e=Be.selectedSizeFn(ze);Ee.attr("d",makePointPath(Lt.symbolNumber(Ue),$e)),ze.mrc2=$e})),$e.length&&Ee.each((function(Ee){for(var ze=Ue.select(this),Be=0;Be<$e.length;Be++)$e[Be](ze,Ee)}))}},Lt.tryColorscale=function(Ee,ze){var Be=ze?rt.nestedProperty(Ee,ze).get():Ee;if(Be){var Ue=Be.color;if((Be.colorscale||Be._colorAx)&&rt.isArrayOrTypedArray(Ue))return tt.makeColorScaleFuncFromTrace(Be)}return rt.identity};var Qr={start:1,end:-1,middle:0,bottom:1,top:-1};function textPointPosition(Ee,ze,Be,We){var $e=Ue.select(Ee.node().parentNode),Qe=-1!==ze.indexOf("top")?"top":-1!==ze.indexOf("bottom")?"bottom":"middle",et=-1!==ze.indexOf("left")?"end":-1!==ze.indexOf("right")?"start":"middle",tt=We?We/.8+1:0,rt=(nt.lineCount(Ee)-1)*it+1,at=Qr[et]*tt,ct=.75*Be+Qr[Qe]*tt+(Qr[Qe]-1)*rt*Be/2;Ee.attr("text-anchor",et),$e.attr("transform","translate("+at+","+ct+")")}function extracTextFontSize(Ee,ze){var Be=Ee.ts||ze.textfont.size;return We(Be)&&Be>0?Be:0}Lt.textPointStyle=function(Ee,ze,Be){if(Ee.size()){var We;if(ze.selectedpoints){var $e=Lt.makeSelectedTextStyleFns(ze);We=$e.selectedTextColorFn}var Qe=ze.texttemplate,et=Be._fullLayout;Ee.each((function(Ee){var $e=Ue.select(this),tt=Qe?rt.extractOption(Ee,ze,"txt","texttemplate"):rt.extractOption(Ee,ze,"tx","text");if(tt||0===tt){if(Qe){var at=ze._module.formatLabels?ze._module.formatLabels(Ee,ze,et):{},it={};kt(it,ze,Ee.i);var ct=ze._meta||{};tt=rt.texttemplateString(tt,at,et._d3locale,it,Ee,ct)}var ft=Ee.tp||ze.textposition,xt=extracTextFontSize(Ee,ze),Ut=We?We(Ee):Ee.tc||ze.textfont.color;$e.call(Lt.font,Ee.tf||ze.textfont.family,xt,Ut).text(tt).call(nt.convertToTspans,Be).call(textPointPosition,ft,xt,Ee.mrc)}else $e.remove()}))}},Lt.selectedTextStyle=function(Ee,ze){if(Ee.size()&&ze.selectedpoints){var Be=Lt.makeSelectedTextStyleFns(ze);Ee.each((function(Ee){var We=Ue.select(this),$e=Be.selectedTextColorFn(Ee),Qe=Ee.tp||ze.textposition,tt=extracTextFontSize(Ee,ze);et.fill(We,$e),textPointPosition(We,Qe,tt,Ee.mrc2||Ee.mrc)}))}};function makeTangent(Ee,ze,Be,We){var $e=Ee[0]-ze[0],Qe=Ee[1]-ze[1],et=Be[0]-ze[0],tt=Be[1]-ze[1],rt=Math.pow($e*$e+Qe*Qe,.25),nt=Math.pow(et*et+tt*tt,.25),at=(nt*nt*$e-rt*rt*et)*We,it=(nt*nt*Qe-rt*rt*tt)*We,ct=3*nt*(rt+nt),ft=3*rt*(rt+nt);return[[Ue.round(ze[0]+(ct&&at/ct),2),Ue.round(ze[1]+(ct&&it/ct),2)],[Ue.round(ze[0]-(ft&&at/ft),2),Ue.round(ze[1]-(ft&&it/ft),2)]]}Lt.smoothopen=function(Ee,ze){if(Ee.length<3)return"M"+Ee.join("L");var Be,Ue="M"+Ee[0],We=[];for(Be=1;Be<Ee.length-1;Be++)We.push(makeTangent(Ee[Be-1],Ee[Be],Ee[Be+1],ze));for(Ue+="Q"+We[0][0]+" "+Ee[1],Be=2;Be<Ee.length-1;Be++)Ue+="C"+We[Be-2][1]+" "+We[Be-1][0]+" "+Ee[Be];return Ue+="Q"+We[Ee.length-3][1]+" "+Ee[Ee.length-1]},Lt.smoothclosed=function(Ee,ze){if(Ee.length<3)return"M"+Ee.join("L")+"Z";var Be,Ue="M"+Ee[0],We=Ee.length-1,$e=[makeTangent(Ee[We],Ee[0],Ee[1],ze)];for(Be=1;Be<We;Be++)$e.push(makeTangent(Ee[Be-1],Ee[Be],Ee[Be+1],ze));for($e.push(makeTangent(Ee[We-1],Ee[We],Ee[0],ze)),Be=1;Be<=We;Be++)Ue+="C"+$e[Be-1][1]+" "+$e[Be][0]+" "+Ee[Be];return Ue+="C"+$e[We][1]+" "+$e[0][0]+" "+Ee[0]+"Z"};var on={hv:function(Ee,ze){return"H"+Ue.round(ze[0],2)+"V"+Ue.round(ze[1],2)},vh:function(Ee,ze){return"V"+Ue.round(ze[1],2)+"H"+Ue.round(ze[0],2)},hvh:function(Ee,ze){return"H"+Ue.round((Ee[0]+ze[0])/2,2)+"V"+Ue.round(ze[1],2)+"H"+Ue.round(ze[0],2)},vhv:function(Ee,ze){return"V"+Ue.round((Ee[1]+ze[1])/2,2)+"H"+Ue.round(ze[0],2)+"V"+Ue.round(ze[1],2)}},STEPLINEAR=function(Ee,ze){return"L"+Ue.round(ze[0],2)+","+Ue.round(ze[1],2)};Lt.steps=function(Ee){var ze=on[Ee]||STEPLINEAR;return function(Ee){for(var Be="M"+Ue.round(Ee[0][0],2)+","+Ue.round(Ee[0][1],2),We=1;We<Ee.length;We++)Be+=ze(Ee[We-1],Ee[We]);return Be}},Lt.makeTester=function(){var Ee=rt.ensureSingleById(Ue.select("body"),"svg","js-plotly-tester",(function(Ee){Ee.attr(at.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),ze=rt.ensureSingle(Ee,"path","js-reference-point",(function(Ee){Ee.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));Lt.tester=Ee,Lt.testref=ze},Lt.savedBBoxes={};var sn=0;function nodeHash(Ee){var ze=Ee.getAttribute("data-unformatted");if(null!==ze)return ze+Ee.getAttribute("data-math")+Ee.getAttribute("text-anchor")+Ee.getAttribute("style")}function getFullUrl(Ee,ze){if(!Ee)return null;var Be=ze._context;return"url('"+(Be._exportedPlot?"":Be._baseUrl||"")+"#"+Ee+"')"}Lt.bBox=function(Ee,ze,Be){var We,$e,Qe;if(Be||(Be=nodeHash(Ee)),Be){if(We=Lt.savedBBoxes[Be])return rt.extendFlat({},We)}else if(1===Ee.childNodes.length){var et=Ee.childNodes[0];if(Be=nodeHash(et)){var tt=+et.getAttribute("x")||0,at=+et.getAttribute("y")||0,it=et.getAttribute("transform");if(!it){var ct=Lt.bBox(et,!1,Be);return tt&&(ct.left+=tt,ct.right+=tt),at&&(ct.top+=at,ct.bottom+=at),ct}if(Be+="~"+tt+"~"+at+"~"+it,We=Lt.savedBBoxes[Be])return rt.extendFlat({},We)}}ze?$e=Ee:(Qe=Lt.tester.node(),$e=Ee.cloneNode(!0),Qe.appendChild($e)),Ue.select($e).attr("transform",null).call(nt.positionText,0,0);var ft=$e.getBoundingClientRect(),xt=Lt.testref.node().getBoundingClientRect();ze||Qe.removeChild($e);var kt={height:ft.height,width:ft.width,left:ft.left-xt.left,top:ft.top-xt.top,right:ft.right-xt.left,bottom:ft.bottom-xt.top};return sn>=1e4&&(Lt.savedBBoxes={},sn=0),Be&&(Lt.savedBBoxes[Be]=kt),sn++,rt.extendFlat({},kt)},Lt.setClipUrl=function(Ee,ze,Be){Ee.attr("clip-path",getFullUrl(ze,Be))},Lt.getTranslate=function(Ee){var ze=(Ee[Ee.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(Ee,ze,Be){return[ze,Be].join(" ")})).split(" ");return{x:+ze[0]||0,y:+ze[1]||0}},Lt.setTranslate=function(Ee,ze,Be){var Ue=Ee.attr?"attr":"getAttribute",We=Ee.attr?"attr":"setAttribute",$e=Ee[Ue]("transform")||"";return ze=ze||0,Be=Be||0,$e=$e.replace(/(\btranslate\(.*?\);?)/,"").trim(),$e=($e+=" translate("+ze+", "+Be+")").trim(),Ee[We]("transform",$e),$e},Lt.getScale=function(Ee){var ze=(Ee[Ee.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(Ee,ze,Be){return[ze,Be].join(" ")})).split(" ");return{x:+ze[0]||1,y:+ze[1]||1}},Lt.setScale=function(Ee,ze,Be){var Ue=Ee.attr?"attr":"getAttribute",We=Ee.attr?"attr":"setAttribute",$e=Ee[Ue]("transform")||"";return ze=ze||1,Be=Be||1,$e=$e.replace(/(\bscale\(.*?\);?)/,"").trim(),$e=($e+=" scale("+ze+", "+Be+")").trim(),Ee[We]("transform",$e),$e};var ln=/\s*sc.*/;Lt.setPointGroupScale=function(Ee,ze,Be){if(ze=ze||1,Be=Be||1,Ee){var Ue=1===ze&&1===Be?"":" scale("+ze+","+Be+")";Ee.each((function(){var Ee=(this.getAttribute("transform")||"").replace(ln,"");Ee=(Ee+=Ue).trim(),this.setAttribute("transform",Ee)}))}};var cn=/translate\([^)]*\)\s*$/;Lt.setTextPointsScale=function(Ee,ze,Be){Ee&&Ee.each((function(){var Ee,We=Ue.select(this),$e=We.select("text");if($e.node()){var Qe=parseFloat($e.attr("x")||0),et=parseFloat($e.attr("y")||0),tt=(We.attr("transform")||"").match(cn);Ee=1===ze&&1===Be?[]:["translate("+Qe+","+et+")","scale("+ze+","+Be+")","translate("+-Qe+","+-et+")"],tt&&Ee.push(tt),We.attr("transform",Ee.join(" "))}}))}},8418:function(Ee,ze,Be){"use strict";var Ue=Be("c04e"),We=Be("9bf2"),$e=Be("5c6c");Ee.exports=function(Ee,ze,Be){var Qe=Ue(ze);Qe in Ee?We.f(Ee,Qe,$e(0,Be)):Ee[Qe]=Be}},"849d":function(Ee,ze,Be){"use strict";var Ue=Be("fc26");function copyPathinfo(Ee){return Ue.extendFlat({},Ee,{edgepaths:Ue.extendDeep([],Ee.edgepaths),paths:Ue.extendDeep([],Ee.paths),starts:Ue.extendDeep([],Ee.starts)})}Ee.exports=function(Ee,ze){var Be,We,$e,op0=function(Ee){return Ee.reverse()},op1=function(Ee){return Ee};switch(ze){case"=":case"<":return Ee;case">":for(1!==Ee.length&&Ue.warn("Contour data invalid for the specified inequality operation."),We=Ee[0],Be=0;Be<We.edgepaths.length;Be++)We.edgepaths[Be]=op0(We.edgepaths[Be]);for(Be=0;Be<We.paths.length;Be++)We.paths[Be]=op0(We.paths[Be]);for(Be=0;Be<We.starts.length;Be++)We.starts[Be]=op0(We.starts[Be]);return Ee;case"][":var Qe=op0;op0=op1,op1=Qe;case"[]":for(2!==Ee.length&&Ue.warn("Contour data invalid for the specified inequality range operation."),We=copyPathinfo(Ee[0]),$e=copyPathinfo(Ee[1]),Be=0;Be<We.edgepaths.length;Be++)We.edgepaths[Be]=op0(We.edgepaths[Be]);for(Be=0;Be<We.paths.length;Be++)We.paths[Be]=op0(We.paths[Be]);for(Be=0;Be<We.starts.length;Be++)We.starts[Be]=op0(We.starts[Be]);for(;$e.edgepaths.length;)We.edgepaths.push(op1($e.edgepaths.shift()));for(;$e.paths.length;)We.paths.push(op1($e.paths.shift()));for(;$e.starts.length;)We.starts.push(op1($e.starts.shift()));return[We]}}},"84a1":function(Ee,ze){Ee.exports=function(){for(var Ee=0;Ee<arguments.length;Ee++)if(void 0!==arguments[Ee])return arguments[Ee]}},"84af":function(Ee,ze,Be){"use strict";Ee.exports=function dupe(Ee,ze){switch(void 0===ze&&(ze=0),typeof Ee){case"number":if(Ee>0)return function dupe_number(Ee,ze){var Be,Ue;for(Be=new Array(Ee),Ue=0;Ue<Ee;++Ue)Be[Ue]=ze;return Be}(0|Ee,ze);break;case"object":if("number"==typeof Ee.length)return function dupe_array(Ee,ze,Be){var Ue=0|Ee[Be];if(Ue<=0)return[];var We,$e=new Array(Ue);if(Be===Ee.length-1)for(We=0;We<Ue;++We)$e[We]=ze;else for(We=0;We<Ue;++We)$e[We]=dupe_array(Ee,ze,Be+1);return $e}(Ee,ze,0)}return[]}},"84d3":function(Ee,ze,Be){"use strict";var Ue=Be("936a"),We=Be("5edd"),$e=Be("eae0"),Qe=Be("7d88"),resolveMessage=function(Ee,ze){return Ee.replace("%v",Qe(ze))};Ee.exports=function(Ee,ze,Be){if(!We(Be))throw new TypeError(resolveMessage(ze,Ee));if(!Ue(Ee)){if("default"in Be)return Be.default;if(Be.isOptional)return null}var Qe=$e(Be.errorMessage);throw Ue(Qe)||(Qe=ze),new TypeError(resolveMessage(Qe,Ee))}},"84df":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=!0;Ee.exports=function handleClick(Ee,ze,Be){var Qe=ze._fullLayout;if(!ze._dragged&&!ze._editing){var et,tt=Qe.legend.itemclick,rt=Qe.legend.itemdoubleclick;if(1===Be&&"toggle"===tt&&"toggleothers"===rt&&$e&&ze.data&&ze._context.showTips?(Ue.notifier(Ue._(ze,"Double-click on legend to isolate one trace"),"long"),$e=!1):$e=!1,1===Be?et=tt:2===Be&&(et=rt),et){var nt,at,it,ct,ft,xt=Qe.hiddenlabels?Qe.hiddenlabels.slice():[],kt=Ee.data()[0][0],Lt=ze._fullData,Ut=kt.trace,er=Ut.legendgroup,tr={},rr=[],ar=[],Lr=[];if(We.traceIs(Ut,"pie-like")){var Qr=kt.label,on=xt.indexOf(Qr);"toggle"===et?-1===on?xt.push(Qr):xt.splice(on,1):"toggleothers"===et&&(xt=[],ze.calcdata[0].forEach((function(Ee){Qr!==Ee.label&&xt.push(Ee.label)})),ze._fullLayout.hiddenlabels&&ze._fullLayout.hiddenlabels.length===xt.length&&-1===on&&(xt=[])),We.call("_guiRelayout",ze,"hiddenlabels",xt)}else{var sn,ln=er&&er.length,cn=[];if(ln)for(nt=0;nt<Lt.length;nt++)(sn=Lt[nt]).visible&&sn.legendgroup===er&&cn.push(nt);if("toggle"===et){var un;switch(Ut.visible){case!0:un="legendonly";break;case!1:un=!1;break;case"legendonly":un=!0}if(ln)for(nt=0;nt<Lt.length;nt++)!1!==Lt[nt].visible&&Lt[nt].legendgroup===er&&setVisibility(Lt[nt],un);else setVisibility(Ut,un)}else if("toggleothers"===et){var hn,dn,vn,yn,_n=!0;for(nt=0;nt<Lt.length;nt++)if(hn=Lt[nt]===Ut,vn=!0!==Lt[nt].showlegend,!(hn||vn||(dn=ln&&Lt[nt].legendgroup===er)||!0!==Lt[nt].visible||We.traceIs(Lt[nt],"notLegendIsolatable"))){_n=!1;break}for(nt=0;nt<Lt.length;nt++)if(!1!==Lt[nt].visible&&!We.traceIs(Lt[nt],"notLegendIsolatable"))switch(Ut.visible){case"legendonly":setVisibility(Lt[nt],!0);break;case!0:yn=!!_n||"legendonly",hn=Lt[nt]===Ut,vn=!0!==Lt[nt].showlegend&&!Lt[nt].legendgroup,dn=hn||ln&&Lt[nt].legendgroup===er,setVisibility(Lt[nt],!(!dn&&!vn)||yn)}}for(nt=0;nt<ar.length;nt++)if(it=ar[nt]){var Mn=it.constructUpdate(),Cn=Object.keys(Mn);for(at=0;at<Cn.length;at++)ct=Cn[at],(tr[ct]=tr[ct]||[])[Lr[nt]]=Mn[ct]}for(ft=Object.keys(tr),nt=0;nt<ft.length;nt++)for(ct=ft[nt],at=0;at<rr.length;at++)tr[ct].hasOwnProperty(at)||(tr[ct][at]=void 0);We.call("_guiRestyle",ze,tr,rr)}}}function insertUpdate(Ee,ze,Be){var Ue=rr.indexOf(Ee),We=tr[ze];return We||(We=tr[ze]=[]),-1===rr.indexOf(Ee)&&(rr.push(Ee),Ue=rr.length-1),We[Ue]=Be,Ue}function setVisibility(Ee,ze){var Be=Ee._fullInput;if(We.hasTransform(Be,"groupby")){var $e=ar[Be.index];if(!$e){var Qe=We.getTransformIndices(Be,"groupby"),et=Qe[Qe.length-1];$e=Ue.keyedContainer(Be,"transforms["+et+"].styles","target","value.visible"),ar[Be.index]=$e}var tt=$e.get(Ee._group);void 0===tt&&(tt=!0),!1!==tt&&$e.set(Ee._group,ze),Lr[Be.index]=insertUpdate(Be.index,"visible",!1!==Be.visible)}else{var rt=!1!==Be.visible&&ze;insertUpdate(Be.index,"visible",rt)}}}},"850f":function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return Ee.lon=ze.lon,Ee.lat=ze.lat,Ee.z=ze.z,Ee}},"855b":function(Ee,ze,Be){"use strict";var Ue=Be("8741"),We=Be("7df2"),$e=Be("1b88").getGraphDiv,Qe=Be("7fb7"),et=Ee.exports={};et.wrapped=function(Ee,ze,Be){(Ee=$e(Ee))._fullLayout&&We.clear(Ee._fullLayout._uid+Qe.HOVERID),et.raw(Ee,ze,Be)},et.raw=function raw(Ee,ze){var Be=Ee._fullLayout,We=Ee._hoverdata;ze||(ze={}),ze.target&&!1===Ue.triggerHandler(Ee,"plotly_beforehover",ze)||(Be._hoverlayer.selectAll("g").remove(),Be._hoverlayer.selectAll("line").remove(),Be._hoverlayer.selectAll("circle").remove(),Ee._hoverdata=void 0,ze.target&&We&&Ee.emit("plotly_unhover",{event:ze,points:We}))}},8568:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("bb14").calcCommon;function ptFunc(Ee,ze,Be,Ue){return{min:Be,q1:Math.min(Ee,Ue),med:Ue,q3:Math.max(Ee,Ue),max:ze}}Ee.exports=function(Ee,ze){var Be=Ee._fullLayout,Qe=We.getFromId(Ee,ze.xaxis),et=We.getFromId(Ee,ze.yaxis),tt=Qe.makeCalcdata(ze,"x"),rt=$e(Ee,ze,tt,et,ptFunc);return rt.length?(Ue.extendFlat(rt[0].t,{num:Be._numBoxes,dPos:Ue.distinctVals(tt).minDiff/2,posLetter:"x",valLetter:"y"}),Be._numBoxes++,rt):[{t:{empty:!0}}]}},8586:function(Ee,ze,Be){Ee.exports=function tokenize(Ee){var ze,Be,rt,nt=0,at=0,it=999,ct=[],ft=[],xt=1,kt=0,Lt=0,Ut=!1,er=!1,tr="",rr=$e,ar=Ue;"300 es"===(Ee=Ee||{}).version&&(rr=et,ar=Qe);var Lr={},Qr={};for(nt=0;nt<rr.length;nt++)Lr[rr[nt]]=!0;for(nt=0;nt<ar.length;nt++)Qr[ar[nt]]=!0;return function(Ee){return ft=[],null!==Ee?function write(Ee){nt=0,Ee.toString&&(Ee=Ee.toString());var Be;tr+=Ee.replace(/\r\n/g,"\n"),rt=tr.length;for(;ze=tr[nt],nt<rt;){switch(Be=nt,it){case 0:nt=block_comment();break;case 1:case 2:nt=preprocessor();break;case 3:nt=operator();break;case 4:nt=integer();break;case 11:nt=hex();break;case 5:nt=decimal();break;case 9999:nt=readtoken();break;case 9:nt=whitespace();break;case 999:nt=normal()}if(Be!==nt)switch(tr[Be]){case"\n":kt=0,++xt;break;default:++kt}}return at+=nt,tr=tr.slice(nt),ft}(Ee):function end(Ee){ct.length&&token(ct.join(""));return it=10,token("(eof)"),ft}()};function token(Ee){Ee.length&&ft.push({type:tt[it],data:Ee,position:Lt,line:xt,column:kt})}function normal(){return ct=ct.length?[]:ct,"/"===Be&&"*"===ze?(Lt=at+nt-1,it=0,Be=ze,nt+1):"/"===Be&&"/"===ze?(Lt=at+nt-1,it=1,Be=ze,nt+1):"#"===ze?(it=2,Lt=at+nt,nt):/\s/.test(ze)?(it=9,Lt=at+nt,nt):(Ut=/\d/.test(ze),er=/[^\w_]/.test(ze),Lt=at+nt,it=Ut?4:er?3:9999,nt)}function whitespace(){return/[^\s]/g.test(ze)?(token(ct.join("")),it=999,nt):(ct.push(ze),Be=ze,nt+1)}function preprocessor(){return"\r"!==ze&&"\n"!==ze||"\\"===Be?(ct.push(ze),Be=ze,nt+1):(token(ct.join("")),it=999,nt)}function block_comment(){return"/"===ze&&"*"===Be?(ct.push(ze),token(ct.join("")),it=999,nt+1):(ct.push(ze),Be=ze,nt+1)}function operator(){if("."===Be&&/\d/.test(ze))return it=5,nt;if("/"===Be&&"*"===ze)return it=0,nt;if("/"===Be&&"/"===ze)return it=1,nt;if("."===ze&&ct.length){for(;determine_operator(ct););return it=5,nt}if(";"===ze||")"===ze||"("===ze){if(ct.length)for(;determine_operator(ct););return token(ze),it=999,nt+1}var Ee=2===ct.length&&"="!==ze;if(/[\w_\d\s]/.test(ze)||Ee){for(;determine_operator(ct););return it=999,nt}return ct.push(ze),Be=ze,nt+1}function determine_operator(Ee){for(var ze,Be,Ue=0;;){if(ze=We.indexOf(Ee.slice(0,Ee.length+Ue).join("")),Be=We[ze],-1===ze){if(Ue--+Ee.length>0)continue;Be=Ee.slice(0,1).join("")}return token(Be),Lt+=Be.length,(ct=ct.slice(Be.length)).length}}function hex(){return/[^a-fA-F0-9]/.test(ze)?(token(ct.join("")),it=999,nt):(ct.push(ze),Be=ze,nt+1)}function integer(){return"."===ze||/[eE]/.test(ze)?(ct.push(ze),it=5,Be=ze,nt+1):"x"===ze&&1===ct.length&&"0"===ct[0]?(it=11,ct.push(ze),Be=ze,nt+1):/[^\d]/.test(ze)?(token(ct.join("")),it=999,nt):(ct.push(ze),Be=ze,nt+1)}function decimal(){return"f"===ze&&(ct.push(ze),Be=ze,nt+=1),/[eE]/.test(ze)?(ct.push(ze),Be=ze,nt+1):("-"!==ze&&"+"!==ze||!/[eE]/.test(Be))&&/[^\d]/.test(ze)?(token(ct.join("")),it=999,nt):(ct.push(ze),Be=ze,nt+1)}function readtoken(){if(/[^\d\w_]/.test(ze)){var Ee=ct.join("");return it=Qr[Ee]?8:Lr[Ee]?7:6,token(ct.join("")),it=999,nt}return ct.push(ze),Be=ze,nt+1}};var Ue=Be("1936"),We=Be("6a25"),$e=Be("5ecd"),Qe=Be("f5f2"),et=Be("0648"),tt=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},"860b":function(Ee,ze,Be){"use strict";var Ue=Be("e192"),We=Be("fc26"),$e=Be("ad62").getSubplotCalcData,Qe=Be("73c9"),et=Be("6e58"),tt=Be("83d1"),rt=Be("0379"),nt=Be("3fca"),at=ze.constants=Be("b5e4");function isMapboxStyle(Ee){return"string"==typeof Ee&&(-1!==at.styleValuesMapbox.indexOf(Ee)||0===Ee.indexOf("mapbox://"))}ze.name="mapbox",ze.attr="subplot",ze.idRoot="mapbox",ze.idRegex=ze.attrRegex=We.counterRegex("mapbox"),ze.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},ze.layoutAttributes=Be("f7e9"),ze.supplyLayoutDefaults=Be("f518"),ze.plot=function plot(Ee){var ze=Ee._fullLayout,Be=Ee.calcdata,Qe=ze._subplots.mapbox;if(Ue.version!==at.requiredVersion)throw new Error(at.wrongVersionErrorMsg);var et=function findAccessToken(Ee,ze){var Be=Ee._fullLayout;if(""===Ee._context.mapboxAccessToken)return"";for(var Ue=[],$e=[],Qe=!1,et=!1,tt=0;tt<ze.length;tt++){var rt=Be[ze[tt]],nt=rt.accesstoken;isMapboxStyle(rt.style)&&(nt?We.pushUnique(Ue,nt):(isMapboxStyle(rt._input.style)&&(We.error("Uses Mapbox map style, but did not set an access token."),Qe=!0),et=!0)),nt&&We.pushUnique($e,nt)}if(et){var it=Qe?at.noAccessTokenErrorMsg:at.missingStyleErrorMsg;throw We.error(it),new Error(it)}return Ue.length?(Ue.length>1&&We.warn(at.multipleTokensErrorMsg),Ue[0]):($e.length&&We.log(["Listed mapbox access token(s)",$e.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(Ee,Qe);Ue.accessToken=et;for(var tt=0;tt<Qe.length;tt++){var rt=Qe[tt],it=$e(Be,"mapbox",rt),ct=ze[rt],ft=ct._subplot;ft||(ft=new nt(Ee,rt),ze[rt]._subplot=ft),ft.viewInitial||(ft.viewInitial={center:We.extendFlat({},ct.center),zoom:ct.zoom,bearing:ct.bearing,pitch:ct.pitch}),ft.plot(it,ze,Ee._promises)}},ze.clean=function(Ee,ze,Be,Ue){for(var We=Ue._subplots.mapbox||[],$e=0;$e<We.length;$e++){var Qe=We[$e];!ze[Qe]&&Ue[Qe]._subplot&&Ue[Qe]._subplot.destroy()}},ze.toSVG=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.mapbox,Ue=ze._size,We=0;We<Be.length;We++){var $e=ze[Be[We]],nt=$e.domain,it=$e._subplot.toImage("png");ze._glimages.append("svg:image").attr({xmlns:Qe.svg,"xlink:href":it,x:Ue.l+Ue.w*nt.x[0],y:Ue.t+Ue.h*(1-nt.y[1]),width:Ue.w*(nt.x[1]-nt.x[0]),height:Ue.h*(nt.y[1]-nt.y[0]),preserveAspectRatio:"none"});var ct=et.select($e._subplot.div);if(!(null===ct.select(".mapboxgl-ctrl-logo").node().offsetParent)){var ft=ze._glimages.append("g");ft.attr("transform","translate("+(Ue.l+Ue.w*nt.x[0]+10)+", "+(Ue.t+Ue.h*(1-nt.y[0])-31)+")"),ft.append("path").attr("d",at.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),ft.append("path").attr("d",at.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),ft.append("path").attr("d",at.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),ft.append("polygon").attr("points",at.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var xt=ct.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),kt=ze._glimages.append("g"),Lt=kt.append("text");Lt.text(xt).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":xt});var Ut=tt.bBox(Lt.node()),er=Ue.w*(nt.x[1]-nt.x[0]);if(Ut.width>er/2){var tr=xt.split("|").join("<br>");Lt.text(tr).attr("data-unformatted",tr).call(rt.convertToTspans,Ee),Ut=tt.bBox(Lt.node())}Lt.attr("transform","translate(-3, "+(8-Ut.height)+")"),kt.insert("rect",".static-attribution").attr({x:-Ut.width-6,y:-Ut.height-3,width:Ut.width+6,height:Ut.height+3,fill:"rgba(255, 255, 255, 0.75)"});var rr=1;Ut.width+6>er&&(rr=er/(Ut.width+6));var ar=[Ue.l+Ue.w*nt.x[1],Ue.t+Ue.h*(1-nt.y[0])];kt.attr("transform","translate("+ar[0]+","+ar[1]+") scale("+rr+")")}},ze.updateFx=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.mapbox,Ue=0;Ue<Be.length;Ue++){ze[Be[Ue]]._subplot.updateFx(ze)}}},"861d":function(Ee,ze){Ee.exports=function(Ee){return"object"==typeof Ee?null!==Ee:"function"==typeof Ee}},"865d":function(Ee,ze,Be){"use strict";var Ue=Be("cb34").overrideAll,We=Be("ad62").getModuleCalcData,$e=Be("c9ce"),Qe=Be("927d"),et=Be("0f37"),tt=Be("4efe"),rt=Be("1876").prepSelect,nt=Be("fc26"),at=Be("371e");function subplotUpdateFx(Ee,ze){var Be=Ee._fullData[ze],Ue=Ee._fullLayout,We=Ue.dragmode,$e="pan"===Ue.dragmode?"move":"crosshair",Qe=Be._bgRect;if("pan"!==We&&"zoom"!==We){et(Qe,$e);var it={_id:"x",c2p:nt.identity,_offset:Be._sankey.translateX,_length:Be._sankey.width},ct={_id:"y",c2p:nt.identity,_offset:Be._sankey.translateY,_length:Be._sankey.height},ft={gd:Ee,element:Qe.node(),plotinfo:{id:ze,xaxis:it,yaxis:ct,fillRangeItems:nt.noop},subplot:ze,xaxes:[it],yaxes:[ct],doneFnCompleted:function(Be){var Ue,We=Ee._fullData[ze],$e=We.node.groups.slice(),Qe=[];function findNode(Ee){for(var ze=We._sankey.graph.nodes,Be=0;Be<ze.length;Be++)if(ze[Be].pointNumber===Ee)return ze[Be]}for(var et=0;et<Be.length;et++){var tt=findNode(Be[et].pointNumber);if(tt)if(tt.group){for(var rt=0;rt<tt.childrenNodes.length;rt++)Qe.push(tt.childrenNodes[rt].pointNumber);$e[tt.pointNumber-We.node._count]=!1}else Qe.push(tt.pointNumber)}Ue=$e.filter(Boolean).concat([Qe]),at.call("_guiRestyle",Ee,{"node.groups":[Ue]},ze)},prepFn:function(Ee,ze,Be){rt(Ee,ze,Be,ft,We)}};tt.init(ft)}}ze.name="sankey",ze.baseLayoutAttrOverrides=Ue({hoverlabel:Qe.hoverlabel},"plot","nested"),ze.plot=function(Ee){var Be=We(Ee.calcdata,"sankey")[0];$e(Ee,Be),ze.updateFx(Ee)},ze.clean=function(Ee,ze,Be,Ue){var We=Ue._has&&Ue._has("sankey"),$e=ze._has&&ze._has("sankey");We&&!$e&&(Ue._paperdiv.selectAll(".sankey").remove(),Ue._paperdiv.selectAll(".bgsankey").remove())},ze.updateFx=function(Ee){for(var ze=0;ze<Ee._fullData.length;ze++)subplotUpdateFx(Ee,ze)}},8662:function(Ee,ze,Be){Ee.exports=function circumradius(Ee){for(var ze=Ue(Ee),Be=0,We=0;We<Ee.length;++We)for(var $e=Ee[We],Qe=0;Qe<ze.length;++Qe)Be+=Math.pow($e[Qe]-ze[Qe],2);return Math.sqrt(Be/Ee.length)};var Ue=Be("fe94")},"86b8":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("66cb"),$e=Be("d115"),Qe={};function makePullColorFn(Ee){return function pullColor(ze,Be){return!!ze&&(!!(ze=We(ze)).isValid()&&(ze=$e.addOpacity(ze,ze.getAlpha()),Ee[Be]||(Ee[Be]=ze),ze))}}function generateExtendedColors(Ee,ze){var Be,Ue=JSON.stringify(Ee),$e=ze[Ue];if(!$e){for($e=Ee.slice(),Be=0;Be<Ee.length;Be++)$e.push(We(Ee[Be]).lighten(20).toHexString());for(Be=0;Be<Ee.length;Be++)$e.push(We(Ee[Be]).darken(20).toHexString());ze[Ue]=$e}return $e}Ee.exports={calc:function calc(Ee,ze){var Be,We,$e=[],Qe=Ee._fullLayout,et=Qe.hiddenlabels||[],tt=ze.labels,rt=ze.marker.colors||[],nt=ze.values,at=ze._length,it=ze._hasValues&&at;if(ze.dlabel)for(tt=new Array(at),Be=0;Be<at;Be++)tt[Be]=String(ze.label0+Be*ze.dlabel);var ct={},ft=makePullColorFn(Qe["_"+ze.type+"colormap"]),xt=0,kt=!1;for(Be=0;Be<at;Be++){var Lt,Ut,er;if(it){if(Lt=nt[Be],!Ue(Lt))continue;if((Lt=+Lt)<0)continue}else Lt=1;void 0!==(Ut=tt[Be])&&""!==Ut||(Ut=Be);var tr=ct[Ut=String(Ut)];void 0===tr?(ct[Ut]=$e.length,(er=-1!==et.indexOf(Ut))||(xt+=Lt),$e.push({v:Lt,label:Ut,color:ft(rt[Be],Ut),i:Be,pts:[Be],hidden:er})):(kt=!0,(We=$e[tr]).v+=Lt,We.pts.push(Be),We.hidden||(xt+=Lt),!1===We.color&&rt[Be]&&(We.color=ft(rt[Be],Ut)))}return("funnelarea"===ze.type?kt:ze.sort)&&$e.sort((function(Ee,ze){return ze.v-Ee.v})),$e[0]&&($e[0].vTotal=xt),$e},crossTraceCalc:function crossTraceCalc(Ee,ze){var Be=(ze||{}).type;Be||(Be="pie");var Ue=Ee._fullLayout,We=Ee.calcdata,$e=Ue[Be+"colorway"],et=Ue["_"+Be+"colormap"];Ue["extend"+Be+"colors"]&&($e=generateExtendedColors($e,Qe));for(var tt=0,rt=0;rt<We.length;rt++){var nt=We[rt];if(nt[0].trace.type===Be)for(var at=0;at<nt.length;at++){var it=nt[at];!1===it.color&&(et[it.label]?it.color=et[it.label]:(et[it.label]=it.color=$e[tt%$e.length],tt++))}}},makePullColorFn:makePullColorFn,generateExtendedColors:generateExtendedColors}},"86d2":function(Ee,ze,Be){"use strict";for(var Ue=Be("a876"),We=Be("94d5").hovertemplateAttrs,$e=Be("9092").extendFlat,Qe=Be("000c").colormodel,et=["rgb","rgba","hsl","hsla"],tt=[],rt=[],nt=0;nt<et.length;nt++)tt.push("For the `"+et[nt]+"` colormodel, it is ["+Qe[et[nt]].min.join(", ")+"]."),rt.push("For the `"+et[nt]+"` colormodel, it is ["+Qe[et[nt]].max.join(", ")+"].");Ee.exports=$e({z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:et,dflt:"rgb",editType:"calc"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:$e({},Ue.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:We({},{keys:["z","color","colormodel"]}),transforms:void 0})},"86d9":function(Ee,ze,Be){"use strict";var Ue=Be("a33a"),We=Be("dd8f")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_27_arg4_)}",args:[{name:"_inline_27_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_27_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_27_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_27_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_27_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_28_arg2_(this_warped,_inline_28_arg0_),_inline_28_arg1_=_inline_28_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_28_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_28_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_28_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_28_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_28_arg4_",lvalue:!1,rvalue:!1,count:0}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),$e=Be("dd8f")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_31_arg2_(this_warped,_inline_31_arg0_),_inline_31_arg1_=_inline_31_arg3_(_inline_31_arg4_,this_warped[0])}",args:[{name:"_inline_31_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_31_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),Qe=Be("dd8f")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_34_arg2_(this_warped,_inline_34_arg0_),_inline_34_arg1_=_inline_34_arg3_(_inline_34_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_34_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_34_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),et=Be("dd8f")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_37_arg2_(this_warped,_inline_37_arg0_),_inline_37_arg1_=_inline_37_arg3_(_inline_37_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_37_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_37_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});Ee.exports=function warp(Ee,ze,Be){switch(ze.shape.length){case 1:$e(Ee,Be,Ue.d1,ze);break;case 2:Qe(Ee,Be,Ue.d2,ze);break;case 3:et(Ee,Be,Ue.d3,ze);break;default:We(Ee,Be,Ue.bind(void 0,ze),ze.shape.length)}return Ee}},"86df":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("6533"),$e=Be("d115"),Qe=$e.addOpacity,et=$e.opacity,tt=Be("6c77"),rt=tt.CONSTRAINT_REDUCTION,nt=tt.COMPARISON_OPS2;Ee.exports=function handleConstraintDefaults(Ee,ze,Be,$e,tt,at){var it,ct,ft,xt=ze.contours,kt=Be("contours.operation");(xt._operation=rt[kt],function handleConstraintValueDefaults(Ee,ze){var Be;-1===nt.indexOf(ze.operation)?(Ee("contours.value",[0,1]),Array.isArray(ze.value)?ze.value.length>2?ze.value=ze.value.slice(2):0===ze.length?ze.value=[0,1]:ze.length<2?(Be=parseFloat(ze.value[0]),ze.value=[Be,Be+1]):ze.value=[parseFloat(ze.value[0]),parseFloat(ze.value[1])]:Ue(ze.value)&&(Be=parseFloat(ze.value),ze.value=[Be,Be+1])):(Ee("contours.value",0),Ue(ze.value)||(Array.isArray(ze.value)?ze.value=parseFloat(ze.value[0]):ze.value=0))}(Be,xt),"="===kt?it=xt.showlines=!0:(it=Be("contours.showlines"),ft=Be("fillcolor",Qe((Ee.line||{}).color||tt,.5))),it)&&(ct=Be("line.color",ft&&et(ft)?Qe(ze.fillcolor,1):tt),Be("line.width",2),Be("line.dash"));Be("line.smoothing"),We(Be,$e,ct,at)}},"870c":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("36fc"),$e=Be("06ad");Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){$e._supply(Ee,ze,Be,(function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}),"violin")}},8741:function(Ee,ze,Be){"use strict";var Ue=Be("7e25").EventEmitter,We={init:function(Ee){if(Ee._ev instanceof Ue)return Ee;var ze=new Ue,Be=new Ue;return Ee._ev=ze,Ee._internalEv=Be,Ee.on=ze.on.bind(ze),Ee.once=ze.once.bind(ze),Ee.removeListener=ze.removeListener.bind(ze),Ee.removeAllListeners=ze.removeAllListeners.bind(ze),Ee._internalOn=Be.on.bind(Be),Ee._internalOnce=Be.once.bind(Be),Ee._removeInternalListener=Be.removeListener.bind(Be),Ee._removeAllInternalListeners=Be.removeAllListeners.bind(Be),Ee.emit=function(Ue,We){"undefined"!=typeof jQuery&&jQuery(Ee).trigger(Ue,We),ze.emit(Ue,We),Be.emit(Ue,We)},Ee},triggerHandler:function(Ee,ze,Be){var Ue,We;"undefined"!=typeof jQuery&&(Ue=jQuery(Ee).triggerHandler(ze,Be));var $e=Ee._ev;if(!$e)return Ue;var Qe,et=$e._events[ze];if(!et)return Ue;function apply(Ee){return Ee.listener?($e.removeListener(ze,Ee.listener),Ee.fired?void 0:(Ee.fired=!0,Ee.listener.apply($e,[Be]))):Ee.apply($e,[Be])}for(et=Array.isArray(et)?et:[et],Qe=0;Qe<et.length-1;Qe++)apply(et[Qe]);return We=apply(et[Qe]),void 0!==Ue?Ue:We},purge:function(Ee){return delete Ee._ev,delete Ee.on,delete Ee.once,delete Ee.removeListener,delete Ee.removeAllListeners,delete Ee.emit,delete Ee._ev,delete Ee._internalEv,delete Ee._internalOn,delete Ee._internalOnce,delete Ee._removeInternalListener,delete Ee._removeAllInternalListeners,Ee}};Ee.exports=We},8755:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("a27e"),supplyDefaults:Be("99d6"),calc:Be("6a08"),plot:Be("3e11"),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:Be("145a"),categories:["noOpacity"],meta:{}}},8761:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"candlestick",basePlotModule:Be("91cd"),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:Be("64c3"),layoutAttributes:Be("60dc"),supplyLayoutDefaults:Be("06ad").supplyLayoutDefaults,crossTraceCalc:Be("f4b3").crossTraceCalc,supplyDefaults:Be("e398"),calc:Be("8568"),plot:Be("d34f").plot,layerName:"boxlayer",style:Be("b4c7").style,hoverPoints:Be("d945").hoverPoints,selectPoints:Be("ab9c")}},8766:function(Ee,ze,Be){"use strict";var Ue=Be("0d59"),We=Be("9092").extendFlat,$e=Be("19b2");function arrayMax(Ee){if(Array.isArray(Ee)){for(var ze=0,Be=0;Be<Ee.length;Be++)ze=Math.max(ze,arrayMax(Ee[Be]));return ze}return Ee}function sum(Ee,ze){return Ee+ze}function squareStringMatrix(Ee){var ze,Be=Ee.slice(),Ue=1/0,We=0;for(ze=0;ze<Be.length;ze++)Array.isArray(Be[ze])||(Be[ze]=[Be[ze]]),Ue=Math.min(Ue,Be[ze].length),We=Math.max(We,Be[ze].length);if(Ue!==We)for(ze=0;ze<Be.length;ze++){var $e=We-Be[ze].length;$e&&(Be[ze]=Be[ze].concat(emptyStrings($e)))}return Be}function emptyStrings(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;Be++)ze[Be]="";return ze}function xScale(Ee){return Ee.calcdata.columns.reduce((function(ze,Be){return Be.xIndex<Ee.xIndex?ze+Be.columnWidth:ze}),0)}function makeRowBlock(Ee,ze){return Object.keys(Ee).map((function(Be){return We({},Ee[Be],{auxiliaryBlocks:ze})}))}function makeAnchorToRowBlock(Ee,ze){for(var Be,Ue={},We=0,$e=0,Qe={firstRowIndex:null,lastRowIndex:null,rows:[]},et=0,tt=0,rt=0;rt<Ee.length;rt++)Be=Ee[rt],Qe.rows.push({rowIndex:rt,rowHeight:Be}),(($e+=Be)>=ze||rt===Ee.length-1)&&(Ue[We]=Qe,Qe.key=tt++,Qe.firstRowIndex=et,Qe.lastRowIndex=rt,Qe={firstRowIndex:null,lastRowIndex:null,rows:[]},We+=$e,et=rt+1,$e=0);return Ue}Ee.exports=function calc(Ee,ze){var Be=squareStringMatrix(ze.cells.values),slicer=function(Ee){return Ee.slice(ze.header.values.length,Ee.length)},Qe=squareStringMatrix(ze.header.values);Qe.length&&!Qe[0].length&&(Qe[0]=[""],Qe=squareStringMatrix(Qe));var et=Qe.concat(slicer(Be).map((function(){return emptyStrings((Qe[0]||[""]).length)}))),tt=ze.domain,rt=Math.floor(Ee._fullLayout._size.w*(tt.x[1]-tt.x[0])),nt=Math.floor(Ee._fullLayout._size.h*(tt.y[1]-tt.y[0])),at=ze.header.values.length?et[0].map((function(){return ze.header.height})):[Ue.emptyHeaderHeight],it=Be.length?Be[0].map((function(){return ze.cells.height})):[],ct=at.reduce(sum,0),ft=makeAnchorToRowBlock(it,nt-ct+Ue.uplift),xt=makeRowBlock(makeAnchorToRowBlock(at,ct),[]),kt=makeRowBlock(ft,xt),Lt={},Ut=ze._fullInput.columnorder.concat(slicer(Be.map((function(Ee,ze){return ze})))),er=et.map((function(Ee,Be){var Ue=Array.isArray(ze.columnwidth)?ze.columnwidth[Math.min(Be,ze.columnwidth.length-1)]:ze.columnwidth;return $e(Ue)?Number(Ue):1})),tr=er.reduce(sum,0);er=er.map((function(Ee){return Ee/tr*rt}));var rr=Math.max(arrayMax(ze.header.line.width),arrayMax(ze.cells.line.width)),ar={key:ze.uid+Ee._context.staticPlot,translateX:tt.x[0]*Ee._fullLayout._size.w,translateY:Ee._fullLayout._size.h*(1-tt.y[1]),size:Ee._fullLayout._size,width:rt,maxLineWidth:rr,height:nt,columnOrder:Ut,groupHeight:nt,rowBlocks:kt,headerRowBlocks:xt,scrollY:0,cells:We({},ze.cells,{values:Be}),headerCells:We({},ze.header,{values:et}),gdColumns:et.map((function(Ee){return Ee[0]})),gdColumnsOriginalOrder:et.map((function(Ee){return Ee[0]})),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:et.map((function(Ee,ze){var Be=Lt[Ee];return Lt[Ee]=(Be||0)+1,{key:Ee+"__"+Lt[Ee],label:Ee,specIndex:ze,xIndex:Ut[ze],xScale:xScale,x:void 0,calcdata:void 0,columnWidth:er[ze]}}))};return ar.columns.forEach((function(Ee){Ee.calcdata=ar,Ee.x=xScale(Ee)})),ar}},8784:function(Ee,ze,Be){"use strict";var Ue=Be("4991"),We=Be("0005");Ee.exports=function compareOrientedCells(Ee,ze){return Ue(Ee,ze)||We(Ee)-We(ze)}},"878a":function(Ee,ze,Be){"use strict";var Ue=Be("cc77");function Triangulation(Ee,ze){this.stars=Ee,this.edges=ze}Ee.exports=function createTriangulation(Ee,ze){for(var Be=new Array(Ee),Ue=0;Ue<Ee;++Ue)Be[Ue]=[];return new Triangulation(Be,ze)};var We=Triangulation.prototype;function removePair(Ee,ze,Be){for(var Ue=1,We=Ee.length;Ue<We;Ue+=2)if(Ee[Ue-1]===ze&&Ee[Ue]===Be)return Ee[Ue-1]=Ee[We-2],Ee[Ue]=Ee[We-1],void(Ee.length=We-2)}We.isConstraint=function(){var Ee=[0,0];function compareLex(Ee,ze){return Ee[0]-ze[0]||Ee[1]-ze[1]}return function(ze,Be){return Ee[0]=Math.min(ze,Be),Ee[1]=Math.max(ze,Be),Ue.eq(this.edges,Ee,compareLex)>=0}}(),We.removeTriangle=function(Ee,ze,Be){var Ue=this.stars;removePair(Ue[Ee],ze,Be),removePair(Ue[ze],Be,Ee),removePair(Ue[Be],Ee,ze)},We.addTriangle=function(Ee,ze,Be){var Ue=this.stars;Ue[Ee].push(ze,Be),Ue[ze].push(Be,Ee),Ue[Be].push(Ee,ze)},We.opposite=function(Ee,ze){for(var Be=this.stars[ze],Ue=1,We=Be.length;Ue<We;Ue+=2)if(Be[Ue]===Ee)return Be[Ue-1];return-1},We.flip=function(Ee,ze){var Be=this.opposite(Ee,ze),Ue=this.opposite(ze,Ee);this.removeTriangle(Ee,ze,Be),this.removeTriangle(ze,Ee,Ue),this.addTriangle(Ee,Ue,Be),this.addTriangle(ze,Be,Ue)},We.edges=function(){for(var Ee=this.stars,ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0,Qe=We.length;$e<Qe;$e+=2)ze.push([We[$e],We[$e+1]]);return ze},We.cells=function(){for(var Ee=this.stars,ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0,Qe=We.length;$e<Qe;$e+=2){var et=We[$e],tt=We[$e+1];Be<Math.min(et,tt)&&ze.push([Be,et,tt])}return ze}},"87d2":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c"),$e=Ue.instance();function ChineseCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}ChineseCalendar.prototype=new Ue.baseCalendar,We(ChineseCalendar.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(Ee,ze){if("string"==typeof Ee){var Be=Ee.match(et);return Be?Be[0]:""}var Ue=this._validateYear(Ee),We=Ee.month(),$e=""+this.toChineseMonth(Ue,We);return ze&&$e.length<2&&($e="0"+$e),this.isIntercalaryMonth(Ue,We)&&($e+="i"),$e},monthNames:function(Ee){if("string"==typeof Ee){var ze=Ee.match(tt);return ze?ze[0]:""}var Be=this._validateYear(Ee),Ue=Ee.month(),We=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(Be,Ue)-1];return this.isIntercalaryMonth(Be,Ue)&&(We="闰"+We),We},monthNamesShort:function(Ee){if("string"==typeof Ee){var ze=Ee.match(rt);return ze?ze[0]:""}var Be=this._validateYear(Ee),Ue=Ee.month(),We=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(Be,Ue)-1];return this.isIntercalaryMonth(Be,Ue)&&(We="闰"+We),We},parseMonth:function(Ee,ze){Ee=this._validateYear(Ee);var Be,Ue=parseInt(ze);if(isNaN(Ue))"闰"===ze[0]&&(Be=!0,ze=ze.substring(1)),"月"===ze[ze.length-1]&&(ze=ze.substring(0,ze.length-1)),Ue=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(ze);else{var We=ze[ze.length-1];Be="i"===We||"I"===We}return this.toMonthIndex(Ee,Ue,Be)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(Ee,ze){if(Ee.year&&(Ee=Ee.year()),"number"!=typeof Ee||Ee<1888||Ee>2111)throw ze.replace(/\{0\}/,this.local.name);return Ee},toMonthIndex:function(Ee,ze,Be){var We=this.intercalaryMonth(Ee);if(Be&&ze!==We||ze<1||ze>12)throw Ue.local.invalidMonth.replace(/\{0\}/,this.local.name);return We?!Be&&ze<=We?ze-1:ze:ze-1},toChineseMonth:function(Ee,ze){Ee.year&&(ze=(Ee=Ee.year()).month());var Be=this.intercalaryMonth(Ee);if(ze<0||ze>(Be?12:11))throw Ue.local.invalidMonth.replace(/\{0\}/,this.local.name);return Be?ze<Be?ze+1:ze:ze+1},intercalaryMonth:function(Ee){return Ee=this._validateYear(Ee),nt[Ee-nt[0]]>>13},isIntercalaryMonth:function(Ee,ze){Ee.year&&(ze=(Ee=Ee.year()).month());var Be=this.intercalaryMonth(Ee);return!!Be&&Be===ze},leapYear:function(Ee){return 0!==this.intercalaryMonth(Ee)},weekOfYear:function(Ee,ze,Be){var We,Qe=this._validateYear(Ee,Ue.local.invalidyear),et=at[Qe-at[0]],tt=et>>9&4095,rt=et>>5&15,nt=31&et;(We=$e.newDate(tt,rt,nt)).add(4-(We.dayOfWeek()||7),"d");var it=this.toJD(Ee,ze,Be)-We.toJD();return 1+Math.floor(it/7)},monthsInYear:function(Ee){return this.leapYear(Ee)?13:12},daysInMonth:function(Ee,ze){Ee.year&&(ze=Ee.month(),Ee=Ee.year()),Ee=this._validateYear(Ee);var Be=nt[Ee-nt[0]];if(ze>(Be>>13?12:11))throw Ue.local.invalidMonth.replace(/\{0\}/,this.local.name);return Be&1<<12-ze?30:29},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,et,Be,Ue.local.invalidDate);Ee=this._validateYear(We.year()),ze=We.month(),Be=We.day();var Qe=this.isIntercalaryMonth(Ee,ze),et=this.toChineseMonth(Ee,ze),tt=function toSolar(Ee,ze,Be,Ue,We){var $e,Qe,et;if("object"==typeof Ee)Qe=Ee,$e=ze||{};else{var tt;if(!("number"==typeof Ee&&Ee>=1888&&Ee<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof ze&&ze>=1&&ze<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof Be&&Be>=1&&Be<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof Ue?(tt=!1,$e=Ue):(tt=!!Ue,$e=We||{}),Qe={year:Ee,month:ze,day:Be,isIntercalary:tt}}et=Qe.day-1;var rt,it=nt[Qe.year-nt[0]],ct=it>>13;rt=ct&&(Qe.month>ct||Qe.isIntercalary)?Qe.month:Qe.month-1;for(var ft=0;ft<rt;ft++){et+=it&1<<12-ft?30:29}var xt=at[Qe.year-at[0]],kt=new Date(xt>>9&4095,(xt>>5&15)-1,(31&xt)+et);return $e.year=kt.getFullYear(),$e.month=1+kt.getMonth(),$e.day=kt.getDate(),$e}(Ee,et,Be,Qe);return $e.toJD(tt.year,tt.month,tt.day)},fromJD:function(Ee){var ze=$e.fromJD(Ee),Be=function toLunar(Ee,ze,Be,Ue){var We,$e;if("object"==typeof Ee)We=Ee,$e=ze||{};else{if(!("number"==typeof Ee&&Ee>=1888&&Ee<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof ze&&ze>=1&&ze<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof Be&&Be>=1&&Be<=31))throw new Error("Solar day outside range 1 - 31");We={year:Ee,month:ze,day:Be},$e=Ue||{}}var Qe=at[We.year-at[0]],et=We.year<<9|We.month<<5|We.day;$e.year=et>=Qe?We.year:We.year-1,Qe=at[$e.year-at[0]];var tt,rt=new Date(Qe>>9&4095,(Qe>>5&15)-1,31&Qe),it=new Date(We.year,We.month-1,We.day);tt=Math.round((it-rt)/864e5);var ct,ft=nt[$e.year-nt[0]];for(ct=0;ct<13;ct++){var xt=ft&1<<12-ct?30:29;if(tt<xt)break;tt-=xt}var kt=ft>>13;!kt||ct<kt?($e.isIntercalary=!1,$e.month=1+ct):ct===kt?($e.isIntercalary=!0,$e.month=ct):($e.isIntercalary=!1,$e.month=ct);return $e.day=1+tt,$e}(ze.year(),ze.month(),ze.day()),Ue=this.toMonthIndex(Be.year,Be.month,Be.isIntercalary);return this.newDate(Be.year,Ue,Be.day)},fromString:function(Ee){var ze=Ee.match(Qe),Be=this._validateYear(+ze[1]),Ue=+ze[2],We=!!ze[3],$e=this.toMonthIndex(Be,Ue,We),et=+ze[4];return this.newDate(Be,$e,et)},add:function(Ee,ze,Be){var Ue=Ee.year(),We=Ee.month(),$e=this.isIntercalaryMonth(Ue,We),Qe=this.toChineseMonth(Ue,We),et=Object.getPrototypeOf(ChineseCalendar.prototype).add.call(this,Ee,ze,Be);if("y"===Be){var tt=et.year(),rt=et.month(),nt=this.isIntercalaryMonth(tt,Qe),at=$e&&nt?this.toMonthIndex(tt,Qe,!0):this.toMonthIndex(tt,Qe,!1);at!==rt&&et.month(at)}return et}});var Qe=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,et=/^\d?\d[iI]?/m,tt=/^闰?十?[一二三四五六七八九]?月/m,rt=/^闰?十?[一二三四五六七八九]?/m;Ue.calendars.chinese=ChineseCalendar;var nt=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],at=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},"87e2":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("41e0"),$e=Be("c8f0"),Qe=Be("4183"),et=Be("0435");Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}We(Ee,ze,coerce,tt)?(coerce("text"),coerce("hovertext"),coerce("hovertemplate"),$e(Ee,ze,coerce,tt),coerce("hoverongaps"),coerce("connectgaps",Ue.isArray1D(ze.z)&&!1!==ze.zsmooth),Qe(Ee,ze,tt,coerce,{prefix:"",cLetter:"z"})):ze.visible=!1}},"887c":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("bb71"),Qe=Be("d115"),et=Be("83d1"),tt=Be("fc26"),rt=Be("0379"),nt=Be("3c1c"),at=Be("63dc"),it=at.LINE_SPACING,ct=at.FROM_TL,ft=at.FROM_BR,xt=Be("b19b"),kt=Be("9d33");function selectorKeyFunc(Ee){return Ee._id}function drawButtonRect(Ee,ze,Be){var Ue=tt.ensureSingle(Ee,"rect","selector-rect",(function(Ee){Ee.attr("shape-rendering","crispEdges")}));Ue.attr({rx:xt.rx,ry:xt.ry}),Ue.call(Qe.stroke,ze.bordercolor).call(Qe.fill,function getFillColor(Ee,ze){return ze._isActive||ze._isHovered?Ee.activecolor:Ee.bgcolor}(ze,Be)).style("stroke-width",ze.borderwidth+"px")}function drawButtonText(Ee,ze,Be,Ue){tt.ensureSingle(Ee,"text","selector-text",(function(Ee){Ee.classed("user-select-none",!0).attr("text-anchor","middle")})).call(et.font,ze.font).text(function getLabel(Ee,ze){if(Ee.label)return ze?tt.templateString(Ee.label,ze):Ee.label;return"all"===Ee.step?"all":Ee.count+Ee.step.charAt(0)}(Be,Ue._fullLayout._meta)).call((function textLayout(Ee){rt.convertToTspans(Ee,Ue)}))}Ee.exports=function draw(Ee){var ze=Ee._fullLayout._infolayer.selectAll(".rangeselector").data(function makeSelectorData(Ee){for(var ze=nt.list(Ee,"x",!0),Be=[],Ue=0;Ue<ze.length;Ue++){var We=ze[Ue];We.rangeselector&&We.rangeselector.visible&&Be.push(We)}return Be}(Ee),selectorKeyFunc);ze.enter().append("g").classed("rangeselector",!0),ze.exit().remove(),ze.style({cursor:"pointer","pointer-events":"all"}),ze.each((function(ze){var Be=Ue.select(this),Qe=ze,nt=Qe.rangeselector,at=Be.selectAll("g.button").data(tt.filterVisible(nt.buttons));at.enter().append("g").classed("button",!0),at.exit().remove(),at.each((function(ze){var Be=Ue.select(this),$e=kt(Qe,ze);ze._isActive=function isActive(Ee,ze,Be){if("all"===ze.step)return!0===Ee.autorange;var Ue=Object.keys(Be);return Ee.range[0]===Be[Ue[0]]&&Ee.range[1]===Be[Ue[1]]}(Qe,ze,$e),Be.call(drawButtonRect,nt,ze),Be.call(drawButtonText,nt,ze,Ee),Be.on("click",(function(){Ee._dragged||We.call("_guiRelayout",Ee,$e)})),Be.on("mouseover",(function(){ze._isHovered=!0,Be.call(drawButtonRect,nt,ze)})),Be.on("mouseout",(function(){ze._isHovered=!1,Be.call(drawButtonRect,nt,ze)}))})),function reposition(Ee,ze,Be,We,Qe){var nt=0,at=0,kt=Be.borderwidth;ze.each((function(){var Ee=Ue.select(this).select(".selector-text"),ze=Be.font.size*it,We=Math.max(ze*rt.lineCount(Ee),16)+3;at=Math.max(at,We)})),ze.each((function(){var Ee=Ue.select(this),ze=Ee.select(".selector-rect"),We=Ee.select(".selector-text"),$e=We.node()&&et.bBox(We.node()).width,Qe=Be.font.size*it,tt=rt.lineCount(We),ct=Math.max($e+10,xt.minButtonWidth);Ee.attr("transform","translate("+(kt+nt)+","+kt+")"),ze.attr({x:0,y:0,width:ct,height:at}),rt.positionText(We,ct/2,at/2-(tt-1)*Qe/2+3),nt+=ct+5}));var Lt=Ee._fullLayout._size,Ut=Lt.l+Lt.w*Be.x,er=Lt.t+Lt.h*(1-Be.y),tr="left";tt.isRightAnchor(Be)&&(Ut-=nt,tr="right");tt.isCenterAnchor(Be)&&(Ut-=nt/2,tr="center");var rr="top";tt.isBottomAnchor(Be)&&(er-=at,rr="bottom");tt.isMiddleAnchor(Be)&&(er-=at/2,rr="middle");nt=Math.ceil(nt),at=Math.ceil(at),Ut=Math.round(Ut),er=Math.round(er),$e.autoMargin(Ee,We+"-range-selector",{x:Be.x,y:Be.y,l:nt*ct[tr],r:nt*ft[tr],b:at*ft[rr],t:at*ct[rr]}),Qe.attr("transform","translate("+Ut+","+er+")")}(Ee,at,nt,Qe._name,Be)}))}},8898:function(Ee,ze,Be){"use strict";var Ue=Be("c4c7").appendArrayMultiPointValues;Ee.exports=function eventData(Ee,ze){var Be={curveNumber:ze.index,pointNumbers:Ee.pts,data:ze._input,fullData:ze,label:Ee.label,color:Ee.color,value:Ee.v,percent:Ee.percent,text:Ee.text,v:Ee.v};return 1===Ee.pts.length&&(Be.pointNumber=Be.i=Ee.pts[0]),Ue(Be,ze,Ee.pts),"funnelarea"===ze.type&&(delete Be.v,delete Be.i),Be}},"890d":function(Ee,ze,Be){"use strict";var Ue=Be("0642").hoverLabelText,We=Be("d115").opacity,$e=Be("ac97").hoverOnBars,Qe=Be("b8ce"),et=Qe.INCREASING.SYMBOL,tt=Qe.DECREASING.SYMBOL;Ee.exports=function hoverPoints(Ee,ze,Be,Qe){var rt=$e(Ee,ze,Be,Qe);if(rt){var nt=rt.cd,at=nt[0].trace,it="h"===at.orientation,ct=it?Ee.xa:Ee.ya,ft=nt[rt.index],xt=ft.isSum?ft.b+ft.s:ft.rawS;if(!ft.isSum){rt.initial=ft.b+ft.s-xt,rt.delta=xt,rt.final=rt.initial+rt.delta;var kt=formatNumber(Math.abs(rt.delta));rt.deltaLabel=xt<0?"("+kt+")":kt,rt.finalLabel=formatNumber(rt.final),rt.initialLabel=formatNumber(rt.initial)}var Lt=ft.hi||at.hoverinfo,Ut=[];if(Lt&&"none"!==Lt&&"skip"!==Lt){var er="all"===Lt,tr=Lt.split("+"),hasFlag=function(Ee){return er||-1!==tr.indexOf(Ee)};ft.isSum||(!hasFlag("final")||hasFlag(it?"x":"y")||Ut.push(rt.finalLabel),hasFlag("delta")&&(xt<0?Ut.push(rt.deltaLabel+" "+tt):Ut.push(rt.deltaLabel+" "+et)),hasFlag("initial")&&Ut.push("Initial: "+rt.initialLabel))}return Ut.length&&(rt.extraText=Ut.join("<br>")),rt.color=function getTraceColor(Ee,ze){var Be=Ee[ze.dir].marker,Ue=Be.color,$e=Be.line.color,Qe=Be.line.width;if(We(Ue))return Ue;if(We($e)&&Qe)return $e}(at,ft),[rt]}function formatNumber(Ee){return Ue(ct,Ee)}}},8925:function(Ee,ze,Be){var Ue=Be("c6cd"),We=Function.toString;"function"!=typeof Ue.inspectSource&&(Ue.inspectSource=function(Ee){return We.call(Ee)}),Ee.exports=Ue.inspectSource},"89ab":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("0dfe"),layoutAttributes:Be("91ce"),supplyDefaults:Be("e165").supplyDefaults,crossTraceDefaults:Be("e165").crossTraceDefaults,supplyLayoutDefaults:Be("2244"),calc:Be("7fda"),crossTraceCalc:Be("b539"),plot:Be("36ea"),style:Be("03d7").style,hoverPoints:Be("890d"),eventData:Be("5bec"),selectPoints:Be("7000"),moduleType:"trace",name:"waterfall",basePlotModule:Be("91cd"),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},"89e1":function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("113d"),supplyDefaults:Be("8af1"),colorbar:Be("fcb3"),calc:Be("d0ad"),plot:Be("a9e41"),hoverPoints:Be("038d"),eventData:Be("a9eb"),selectPoints:Be("ef6e"),styleOnSelect:function(Ee,ze){ze&&ze[0].trace._glTrace.updateOnSelect(ze)},getBelow:function(Ee,ze){for(var Be=ze.getMapLayers(),Ue=Be.length-2;Ue>=0;Ue--){var We=Be[Ue].id;if("string"==typeof We&&0===We.indexOf("water"))for(var $e=Ue+1;$e<Be.length;$e++)if("string"==typeof(We=Be[$e].id)&&-1===We.indexOf("plotly-"))return We}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:Be("860b"),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},"8a0e":function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function NanakshahiCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}NanakshahiCalendar.prototype=new Ue.baseCalendar;var $e=Ue.instance("gregorian");We(NanakshahiCalendar.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear||Ue.regionalOptions[""].invalidYear);return $e.leapYear(ze.year()+(ze.year()<1?1:0)+1469)},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(1-(Ue.dayOfWeek()||7),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(12===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidMonth);(Ee=We.year())<0&&Ee++;for(var Qe=We.day(),et=1;et<We.month();et++)Qe+=this.daysPerMonth[et-1];return Qe+$e.toJD(Ee+1468,3,13)},fromJD:function(Ee){Ee=Math.floor(Ee+.5);for(var ze=Math.floor((Ee-(this.jdEpoch-1))/366);Ee>=this.toJD(ze+1,1,1);)ze++;for(var Be=Ee-Math.floor(this.toJD(ze,1,1)+.5)+1,Ue=1;Be>this.daysInMonth(ze,Ue);)Be-=this.daysInMonth(ze,Ue),Ue++;return this.newDate(ze,Ue,Be)}}),Ue.calendars.nanakshahi=NanakshahiCalendar},"8a43":function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("e806").BADNUM,$e=Be("0642"),Qe=Be("09bd"),et=Be("106b"),tt=Be("4136"),rt=Be("70b4").calcMarkerSize;Ee.exports=function calc(Ee,ze){for(var Be=Ee._fullLayout,nt=ze.subplot,at=Be[nt].radialaxis,it=Be[nt].angularaxis,ct=at.makeCalcdata(ze,"r"),ft=it.makeCalcdata(ze,"theta"),xt=ze._length,kt=new Array(xt),Lt=0;Lt<xt;Lt++){var Ut=ct[Lt],er=ft[Lt],tr=kt[Lt]={};Ue(Ut)&&Ue(er)?(tr.r=Ut,tr.theta=er):tr.r=We}var rr=rt(ze,xt);return ze._extremes.x=$e.findExtremes(at,ct,{ppad:rr}),Qe(Ee,ze),et(kt,ze),tt(kt,ze),kt}},"8a50":function(Ee,ze,Be){"use strict";var Ue=Be("e9bd"),We=Be("692b"),$e=Be("6024"),Qe=Be("09d9"),et=Be("3473"),tt=Be("1c4a").iterator;Ee.exports=function(Ee){return"function"==typeof et(Ee)[tt]?Ee[tt]():Ue(Ee)?new $e(Ee):We(Ee)?new Qe(Ee):new $e(Ee)}},"8a6e":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("94d5").texttemplateAttrs,$e=Be("9092").extendFlat,Qe=Be("107c"),et=Be("a876"),tt=Qe.line;Ee.exports={mode:Qe.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:Qe.text,texttemplate:We({editType:"plot"},{keys:["r","theta","text"]}),hovertext:Qe.hovertext,line:{color:tt.color,width:tt.width,dash:tt.dash,shape:$e({},tt.shape,{values:["linear","spline"]}),smoothing:tt.smoothing,editType:"calc"},connectgaps:Qe.connectgaps,marker:Qe.marker,cliponaxis:$e({},Qe.cliponaxis,{dflt:!1}),textposition:Qe.textposition,textfont:Qe.textfont,fill:$e({},Qe.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:Qe.fillcolor,hoverinfo:$e({},et.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:Qe.hoveron,hovertemplate:Ue(),selected:Qe.selected,unselected:Qe.unselected}},"8a7d":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26");function autoContours(Ee,ze,Be){var We={type:"linear",range:[Ee,ze]};return Ue.autoTicks(We,(ze-Ee)/(Be||15)),We}Ee.exports=function setContours(Ee,ze){var Be=Ee.contours;if(Ee.autocontour){var $e=Ee.zmin,Qe=Ee.zmax;(Ee.zauto||void 0===$e)&&($e=We.aggNums(Math.min,null,ze)),(Ee.zauto||void 0===Qe)&&(Qe=We.aggNums(Math.max,null,ze));var et=autoContours($e,Qe,Ee.ncontours);Be.size=et.dtick,Be.start=Ue.tickFirst(et),et.range.reverse(),Be.end=Ue.tickFirst(et),Be.start===$e&&(Be.start+=Be.size),Be.end===Qe&&(Be.end-=Be.size),Be.start>Be.end&&(Be.start=Be.end=(Be.start+Be.end)/2),Ee._input.contours||(Ee._input.contours={}),We.extendFlat(Ee._input.contours,{start:Be.start,end:Be.end,size:Be.size}),Ee._input.autocontour=!0}else if("constraint"!==Be.type){var tt,rt=Be.start,nt=Be.end,at=Ee._input.contours;if(rt>nt&&(Be.start=at.start=nt,nt=Be.end=at.end=rt,rt=Be.start),!(Be.size>0))tt=rt===nt?1:autoContours(rt,nt,Ee.ncontours).dtick,at.size=Be.size=tt}}},"8a9f":function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("e806").BADNUM,$e=Be("feed"),Qe=Be("fc26").fillText,et=Be("56f3");Ee.exports=function hoverPoints(Ee,ze,Be){var tt=Ee.cd,rt=tt[0].trace,nt=Ee.xa,at=Ee.ya,it=Ee.subplot,ct=it.projection.isLonLatOverEdges,ft=it.project;if(Ue.getClosest(tt,(function distFn(Ee){var Ue=Ee.lonlat;if(Ue[0]===We)return 1/0;if(ct(Ue))return 1/0;var $e=ft(Ue),Qe=ft([ze,Be]),et=Math.abs($e[0]-Qe[0]),tt=Math.abs($e[1]-Qe[1]),rt=Math.max(3,Ee.mrc||0);return Math.max(Math.sqrt(et*et+tt*tt)-rt,1-3/rt)}),Ee),!1!==Ee.index){var xt=tt[Ee.index],kt=xt.lonlat,Lt=[nt.c2p(kt),at.c2p(kt)],Ut=xt.mrc||1;Ee.x0=Lt[0]-Ut,Ee.x1=Lt[0]+Ut,Ee.y0=Lt[1]-Ut,Ee.y1=Lt[1]+Ut,Ee.loc=xt.loc,Ee.lon=kt[0],Ee.lat=kt[1];var er={};er[rt.geo]={_subplot:it};var tr=rt._module.formatLabels(xt,rt,er);return Ee.lonLabel=tr.lonLabel,Ee.latLabel=tr.latLabel,Ee.color=$e(rt,xt),Ee.extraText=function getExtraText(Ee,ze,Be,Ue){if(Ee.hovertemplate)return;var We=ze.hi||Ee.hoverinfo,$e="all"===We?et.hoverinfo.flags:We.split("+"),tt=-1!==$e.indexOf("location")&&Array.isArray(Ee.locations),rt=-1!==$e.indexOf("lon"),nt=-1!==$e.indexOf("lat"),at=-1!==$e.indexOf("text"),it=[];function format(Ee){return Ee+"°"}tt?it.push(ze.loc):rt&&nt?it.push("("+format(Be.lonLabel)+", "+format(Be.latLabel)+")"):rt?it.push(Ue.lon+format(Be.lonLabel)):nt&&it.push(Ue.lat+format(Be.latLabel));at&&Qe(ze,Ee,it);return it.join("<br>")}(rt,xt,Ee,tt[0].t.labels),Ee.hovertemplate=rt.hovertemplate,[Ee]}}},"8aa5":function(Ee,ze,Be){"use strict";var Ue=Be("6547").charAt;Ee.exports=function(Ee,ze,Be){return ze+(Be?Ue(Ee,ze).length:1)}},"8ac3":function(Ee,ze,Be){"use strict";var Ue=Be("0642");Ee.exports=function formatLabels(Ee,ze,Be){var We={},$e=Be[ze.subplot]._subplot;return We.aLabel=Ue.tickText($e.aaxis,Ee.a,!0).text,We.bLabel=Ue.tickText($e.baxis,Ee.b,!0).text,We.cLabel=Ue.tickText($e.caxis,Ee.c,!0).text,We}},"8af1":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4183"),$e=Be("113d");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var et=coerce("locations"),tt=coerce("z"),rt=coerce("geojson");Ue.isArrayOrTypedArray(et)&&et.length&&Ue.isArrayOrTypedArray(tt)&&tt.length&&("string"==typeof rt&&""!==rt||Ue.isPlainObject(rt))?(coerce("featureidkey"),ze._length=Math.min(et.length,tt.length),coerce("below"),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("marker.line.width")&&coerce("marker.line.color"),coerce("marker.opacity"),We(Ee,ze,Qe,coerce,{prefix:"",cLetter:"z"}),Ue.coerceSelectionMarkerOpacity(ze,coerce)):ze.visible=!1}},"8b1d":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("bb71"),Qe=Be("fc26"),et=Be("83d1"),tt=Be("d115"),rt=Be("1999"),nt=Be("91cd"),at=Be("3c1c"),it=Be("4efe"),ct=Be("0f37"),ft=Be("22f9");function drawBg(Ee,ze,Be,Ue){var We=Qe.ensureSingle(Ee,"rect",ft.bgClassName,(function(Ee){Ee.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),$e=Ue.borderwidth%2==0?Ue.borderwidth:Ue.borderwidth-1,tt=-Ue._offsetShift,rt=et.crispRound(ze,Ue.borderwidth);We.attr({width:Ue._width+$e,height:Ue._height+$e,transform:"translate("+tt+","+tt+")",fill:Ue.bgcolor,stroke:Ue.bordercolor,"stroke-width":rt})}function addClipPath(Ee,ze,Be,Ue){var We=ze._fullLayout;Qe.ensureSingleById(We._topdefs,"clipPath",Ue._clipId,(function(Ee){Ee.append("rect").attr({x:0,y:0})})).select("rect").attr({width:Ue._width,height:Ue._height})}function drawRangePlot(Ee,ze,Be,We){var tt,rt=ze.calcdata,it=Ee.selectAll("g."+ft.rangePlotClassName).data(Be._subplotsWith,Qe.identity);it.enter().append("g").attr("class",(function(Ee){return ft.rangePlotClassName+" "+Ee})).call(et.setClipUrl,We._clipId,ze),it.order(),it.exit().remove(),it.each((function(Ee,Qe){var et=Ue.select(this),it=0===Qe,ct=at.getFromId(ze,Ee,"y"),ft=ct._name,xt=We[ft],kt={data:[],layout:{xaxis:{type:Be.type,domain:[0,1],range:We.range.slice(),calendar:Be.calendar},width:We._width,height:We._height,margin:{t:0,b:0,l:0,r:0}},_context:ze._context};kt.layout[ft]={type:ct.type,domain:[0,1],range:"match"!==xt.rangemode?xt.range.slice():ct.range.slice(),calendar:ct.calendar},$e.supplyDefaults(kt);var Lt=kt._fullLayout.xaxis,Ut=kt._fullLayout[ft];Lt.clearCalc(),Lt.setScale(),Ut.clearCalc(),Ut.setScale();var er={id:Ee,plotgroup:et,xaxis:Lt,yaxis:Ut,isRangePlot:!0};it?tt=er:(er.mainplot="xy",er.mainplotinfo=tt),nt.rangePlot(ze,er,function filterRangePlotCalcData(Ee,ze){for(var Be=[],Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue],$e=We[0].trace;$e.xaxis+$e.yaxis===ze&&Be.push(We)}return Be}(rt,Ee))}))}function drawMasks(Ee,ze,Be,Ue,We){(Qe.ensureSingle(Ee,"rect",ft.maskMinClassName,(function(Ee){Ee.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",Ue._height).call(tt.fill,ft.maskColor),Qe.ensureSingle(Ee,"rect",ft.maskMaxClassName,(function(Ee){Ee.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",Ue._height).call(tt.fill,ft.maskColor),"match"!==We.rangemode)&&(Qe.ensureSingle(Ee,"rect",ft.maskMinOppAxisClassName,(function(Ee){Ee.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",Ue._width).call(tt.fill,ft.maskOppAxisColor),Qe.ensureSingle(Ee,"rect",ft.maskMaxOppAxisClassName,(function(Ee){Ee.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",Ue._width).style("border-top",ft.maskOppBorder).call(tt.fill,ft.maskOppAxisColor))}function drawSlideBox(Ee,ze,Be,Ue){ze._context.staticPlot||Qe.ensureSingle(Ee,"rect",ft.slideBoxClassName,(function(Ee){Ee.attr({y:0,cursor:ft.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:Ue._height,fill:ft.slideBoxFill})}function drawGrabbers(Ee,ze,Be,Ue){var We=Qe.ensureSingle(Ee,"g",ft.grabberMinClassName),$e=Qe.ensureSingle(Ee,"g",ft.grabberMaxClassName),et={x:0,width:ft.handleWidth,rx:ft.handleRadius,fill:tt.background,stroke:tt.defaultLine,"stroke-width":ft.handleStrokeWidth,"shape-rendering":"crispEdges"},rt={y:Math.round(Ue._height/4),height:Math.round(Ue._height/2)};if(Qe.ensureSingle(We,"rect",ft.handleMinClassName,(function(Ee){Ee.attr(et)})).attr(rt),Qe.ensureSingle($e,"rect",ft.handleMaxClassName,(function(Ee){Ee.attr(et)})).attr(rt),!ze._context.staticPlot){var nt={width:ft.grabAreaWidth,x:0,y:0,fill:ft.grabAreaFill,cursor:ft.grabAreaCursor};Qe.ensureSingle(We,"rect",ft.grabAreaMinClassName,(function(Ee){Ee.attr(nt)})).attr("height",Ue._height),Qe.ensureSingle($e,"rect",ft.grabAreaMaxClassName,(function(Ee){Ee.attr(nt)})).attr("height",Ue._height)}}Ee.exports=function(Ee){for(var ze=Ee._fullLayout,Be=ze._rangeSliderData,$e=0;$e<Be.length;$e++){var et=Be[$e][ft.name];et._clipId=et._id+"-"+ze._uid}var tt=ze._infolayer.selectAll("g."+ft.containerClassName).data(Be,(function keyFunction(Ee){return Ee._name}));tt.exit().each((function(Ee){var Be=Ee[ft.name];ze._topdefs.select("#"+Be._clipId).remove()})).remove(),0!==Be.length&&(tt.enter().append("g").classed(ft.containerClassName,!0).attr("pointer-events","all"),tt.each((function(Be){var $e=Ue.select(this),et=Be[ft.name],tt=ze[at.id2name(Be.anchor)],nt=et[at.id2name(Be.anchor)];if(et.range){var xt,kt=Qe.simpleMap(et.range,Be.r2l),Lt=Qe.simpleMap(Be.range,Be.r2l);xt=Lt[0]<Lt[1]?[Math.min(kt[0],Lt[0]),Math.max(kt[1],Lt[1])]:[Math.max(kt[0],Lt[0]),Math.min(kt[1],Lt[1])],et.range=et._input.range=Qe.simpleMap(xt,Be.l2r)}Be.cleanRange("rangeslider.range");var Ut=ze._size,er=Be.domain;et._width=Ut.w*(er[1]-er[0]);var tr=Math.round(Ut.l+Ut.w*er[0]),rr=Math.round(Ut.t+Ut.h*(1-Be._counterDomainMin)+("bottom"===Be.side?Be._depth:0)+et._offsetShift+ft.extraPad);$e.attr("transform","translate("+tr+","+rr+")");var ar=Be.r2l(et.range[0]),Lr=Be.r2l(et.range[1]),Qr=Lr-ar;if(et.p2d=function(Ee){return Ee/et._width*Qr+ar},et.d2p=function(Ee){return(Ee-ar)/Qr*et._width},et._rl=[ar,Lr],"match"!==nt.rangemode){var on=tt.r2l(nt.range[0]),sn=tt.r2l(nt.range[1])-on;et.d2pOppAxis=function(Ee){return(Ee-on)/sn*et._height}}$e.call(drawBg,Ee,Be,et).call(addClipPath,Ee,Be,et).call(drawRangePlot,Ee,Be,et).call(drawMasks,Ee,Be,et,nt).call(drawSlideBox,Ee,Be,et).call(drawGrabbers,Ee,Be,et),function setupDragElement(Ee,ze,Be,$e){var et=Ee.select("rect."+ft.slideBoxClassName).node(),tt=Ee.select("rect."+ft.grabAreaMinClassName).node(),rt=Ee.select("rect."+ft.grabAreaMaxClassName).node();Ee.on("mousedown",(function(){var nt=Ue.event,at=nt.target,ft=nt.clientX,xt=ft-Ee.node().getBoundingClientRect().left,kt=$e.d2p(Be._rl[0]),Lt=$e.d2p(Be._rl[1]),Ut=it.coverSlip();function mouseMove(Ee){var nt,it,er,tr=+Ee.clientX-ft;switch(at){case et:er="ew-resize",nt=kt+tr,it=Lt+tr;break;case tt:er="col-resize",nt=kt+tr,it=Lt;break;case rt:er="col-resize",nt=kt,it=Lt+tr;break;default:er="ew-resize",nt=xt,it=xt+tr}if(it<nt){var rr=it;it=nt,nt=rr}$e._pixelMin=nt,$e._pixelMax=it,ct(Ue.select(Ut),er),function setDataRange(Ee,ze,Be,Ue){function clamp(Ee){return Be.l2r(Qe.constrain(Ee,Ue._rl[0],Ue._rl[1]))}var $e=clamp(Ue.p2d(Ue._pixelMin)),et=clamp(Ue.p2d(Ue._pixelMax));window.requestAnimationFrame((function(){We.call("_guiRelayout",ze,Be._name+".range",[$e,et])}))}(0,ze,Be,$e)}Ut.addEventListener("mousemove",mouseMove),Ut.addEventListener("mouseup",(function mouseUp(){Ut.removeEventListener("mousemove",mouseMove),Ut.removeEventListener("mouseup",mouseUp),Qe.removeElement(Ut)}))}))}($e,Ee,Be,et),function setPixelRange(Ee,ze,Be,Ue,We,$e){var et=ft.handleWidth/2;function clamp(Ee){return Qe.constrain(Ee,0,Ue._width)}function clampOppAxis(Ee){return Qe.constrain(Ee,0,Ue._height)}function clampHandle(Ee){return Qe.constrain(Ee,-et,Ue._width+et)}var tt=clamp(Ue.d2p(Be._rl[0])),rt=clamp(Ue.d2p(Be._rl[1]));if(Ee.select("rect."+ft.slideBoxClassName).attr("x",tt).attr("width",rt-tt),Ee.select("rect."+ft.maskMinClassName).attr("width",tt),Ee.select("rect."+ft.maskMaxClassName).attr("x",rt).attr("width",Ue._width-rt),"match"!==$e.rangemode){var nt=Ue._height-clampOppAxis(Ue.d2pOppAxis(We._rl[1])),at=Ue._height-clampOppAxis(Ue.d2pOppAxis(We._rl[0]));Ee.select("rect."+ft.maskMinOppAxisClassName).attr("x",tt).attr("height",nt).attr("width",rt-tt),Ee.select("rect."+ft.maskMaxOppAxisClassName).attr("x",tt).attr("y",at).attr("height",Ue._height-at).attr("width",rt-tt),Ee.select("rect."+ft.slideBoxClassName).attr("y",nt).attr("height",at-nt)}var it=Math.round(clampHandle(tt-et))-.5,ct=Math.round(clampHandle(rt-et))+.5;Ee.select("g."+ft.grabberMinClassName).attr("transform","translate("+it+",0.5)"),Ee.select("g."+ft.grabberMaxClassName).attr("transform","translate("+ct+",0.5)")}($e,0,Be,et,tt,nt),"bottom"===Be.side&&rt.draw(Ee,Be._id+"title",{propContainer:Be,propName:Be._name+".title",placeholder:ze._dfltTitle.x,attributes:{x:Be._offset+Be._length/2,y:rr+et._height+et._offsetShift+10+1.5*Be.title.font.size,"text-anchor":"middle"}})})))}},"8b23":function(Ee,ze,Be){var Ue=Be("1b06"),We=Be("bd31"),$e=Be("f197"),Qe=Be("b1c9"),et=Be("3f57"),tt=state(),rt=state(),nt=state();function state(){return{translate:vec3(),scale:vec3(1),skew:vec3(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function vec3(Ee){return[Ee||0,Ee||0,Ee||0]}Ee.exports=function interpolate(Ee,ze,Be,at){if(0===Qe(ze)||0===Qe(Be))return!1;var it=$e(ze,tt.translate,tt.scale,tt.skew,tt.perspective,tt.quaternion),ct=$e(Be,rt.translate,rt.scale,rt.skew,rt.perspective,rt.quaternion);return!(!it||!ct)&&(Ue(nt.translate,tt.translate,rt.translate,at),Ue(nt.skew,tt.skew,rt.skew,at),Ue(nt.scale,tt.scale,rt.scale,at),Ue(nt.perspective,tt.perspective,rt.perspective,at),et(nt.quaternion,tt.quaternion,rt.quaternion,at),We(Ee,nt.translate,nt.scale,nt.skew,nt.perspective,nt.quaternion),!0)}},"8b25":function(Ee,ze,Be){"use strict";Ee.exports=Sieve;var Ue=Be("fc26").distinctVals,We=Be("e806").BADNUM;function Sieve(Ee,ze){this.traces=Ee,this.sepNegVal=ze.sepNegVal,this.overlapNoMerge=ze.overlapNoMerge;for(var Be=1/0,$e=[],Qe=0;Qe<Ee.length;Qe++){for(var et=Ee[Qe],tt=0;tt<et.length;tt++){var rt=et[tt];rt.p!==We&&$e.push(rt.p)}et[0]&&et[0].width1&&(Be=Math.min(et[0].width1,Be))}this.positions=$e;var nt=Ue($e);this.distinctPositions=nt.vals,1===nt.vals.length&&Be!==1/0?this.minDiff=Be:this.minDiff=Math.min(nt.minDiff,Be),this.binWidth=this.minDiff,this.bins={}}Sieve.prototype.put=function put(Ee,ze){var Be=this.getLabel(Ee,ze),Ue=this.bins[Be]||0;return this.bins[Be]=Ue+ze,Ue},Sieve.prototype.get=function get(Ee,ze){var Be=this.getLabel(Ee,ze);return this.bins[Be]||0},Sieve.prototype.getLabel=function getLabel(Ee,ze){return(ze<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?Ee:Math.round(Ee/this.binWidth))}},"8b79":function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("9092").extendFlat;Ee.exports=function calcLabels(Ee,ze){var Be,$e,Qe,et=ze._labels=[],tt=ze._gridlines;for(Be=0;Be<tt.length;Be++)Qe=tt[Be],-1!==["start","both"].indexOf(ze.showticklabels)&&($e=Ue.tickText(ze,Qe.value),We($e,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:Qe.xy(0),dxy:Qe.dxy(0,0),axis:Qe.axis,length:Qe.crossAxis.length,font:Qe.axis.tickfont,isFirst:0===Be,isLast:Be===tt.length-1}),et.push($e)),-1!==["end","both"].indexOf(ze.showticklabels)&&($e=Ue.tickText(ze,Qe.value),We($e,{endAnchor:!1,xy:Qe.xy(Qe.crossLength-1),dxy:Qe.dxy(Qe.crossLength-2,1),axis:Qe.axis,length:Qe.crossAxis.length,font:Qe.axis.tickfont,isFirst:0===Be,isLast:Be===tt.length-1}),et.push($e))}},"8b85":function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray;Ee.exports=function mapArray(Ee,ze,Be){var We;for(Ue(Ee)?Ee.length>ze.length&&(Ee=Ee.slice(0,ze.length)):Ee=[],We=0;We<ze.length;We++)Ee[We]=Be(ze[We]);return Ee}},"8b98":function(Ee,ze){var Be={left:0,top:0};Ee.exports=function mouseEventOffset(Ee,ze,Ue){ze=ze||Ee.currentTarget||Ee.srcElement,Array.isArray(Ue)||(Ue=[0,0]);var We=Ee.clientX||0,$e=Ee.clientY||0,Qe=function getBoundingClientOffset(Ee){return Ee===window||Ee===document||Ee===document.body?Be:Ee.getBoundingClientRect()}(ze);return Ue[0]=We-Qe.left,Ue[1]=$e-Qe.top,Ue}},"8ba9":function(Ee,ze,Be){"use strict";Ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},"8bd8":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("56f3"),$e=Be("f4e9"),Qe=Be("a876"),et=Be("dfb3").defaultLine,tt=Be("9092").extendFlat,rt=We.marker.line;Ee.exports=tt({locations:{valType:"data_array",editType:"calc"},locationmode:We.locationmode,z:{valType:"data_array",editType:"calc"},geojson:tt({},We.geojson,{}),featureidkey:We.featureidkey,text:tt({},We.text,{}),hovertext:tt({},We.hovertext,{}),marker:{line:{color:tt({},rt.color,{dflt:et}),width:tt({},rt.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:We.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:We.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:tt({},Qe.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:Ue(),showlegend:tt({},Qe.showlegend,{dflt:!1})},$e("",{cLetter:"z",editTypeOverride:"calc"}))},"8be6":function(Ee,ze){Ee.exports=function length(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2];return Math.sqrt(ze*ze+Be*Be+Ue*Ue)}},"8c16":function(Ee,ze,Be){"use strict";var Ue=Be("000f"),We=Be("f6e7"),$e=Be("26a7"),Qe=Be("551a"),et=Be("2357"),tt=Be("fc26"),rt=Be("f977"),nt=Be("765f").formatColor,at=Be("1978"),it=Be("089c"),ct=Be("014c"),ft=Be("0642"),xt=Be("c4c7").appendArrayPointValue,kt=Be("e38e");function LineWithMarkers(Ee,ze){this.scene=Ee,this.uid=ze,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var Lt=LineWithMarkers.prototype;function parseAlignmentX(Ee){return null==Ee?0:Ee.indexOf("left")>-1?-1:Ee.indexOf("right")>-1?1:0}function parseAlignmentY(Ee){return null==Ee?0:Ee.indexOf("top")>-1?-1:Ee.indexOf("bottom")>-1?1:0}function calculateSize(Ee,ze){return ze(4*Ee)}function calculateSymbol(Ee){return ct[Ee]}function formatParam(Ee,ze,Be,Ue,We){var $e=null;if(tt.isArrayOrTypedArray(Ee)){$e=[];for(var Qe=0;Qe<ze;Qe++)void 0===Ee[Qe]?$e[Qe]=Ue:$e[Qe]=Be(Ee[Qe],We)}else $e=Be(Ee,tt.identity);return $e}function convertPlotlyOptions(Ee,ze){var Be,Ue,We,$e,Qe,et,it=[],ct=Ee.fullSceneLayout,Lt=Ee.dataScale,Ut=ct.xaxis,er=ct.yaxis,tr=ct.zaxis,rr=ze.marker,ar=ze.line,Lr=ze.x||[],Qr=ze.y||[],on=ze.z||[],sn=Lr.length,ln=ze.xcalendar,cn=ze.ycalendar,un=ze.zcalendar;for(Qe=0;Qe<sn;Qe++)Be=Ut.d2l(Lr[Qe],0,ln)*Lt[0],Ue=er.d2l(Qr[Qe],0,cn)*Lt[1],We=tr.d2l(on[Qe],0,un)*Lt[2],it[Qe]=[Be,Ue,We];if(Array.isArray(ze.text))et=ze.text;else if(void 0!==ze.text)for(et=new Array(sn),Qe=0;Qe<sn;Qe++)et[Qe]=ze.text;function formatter(Ee,ze){var Be=ct[Ee];return ft.tickText(Be,Be.d2l(ze),!0).text}var hn=ze.texttemplate;if(hn){var dn=Ee.fullLayout._d3locale,vn=Array.isArray(hn),yn=vn?Math.min(hn.length,sn):sn,_n=vn?function(Ee){return hn[Ee]}:function(){return hn};for(et=new Array(yn),Qe=0;Qe<yn;Qe++){var Mn={x:Lr[Qe],y:Qr[Qe],z:on[Qe]},Cn={xLabel:formatter("xaxis",Lr[Qe]),yLabel:formatter("yaxis",Qr[Qe]),zLabel:formatter("zaxis",on[Qe])},En={};xt(En,ze,Qe);var Pn=ze._meta||{};et[Qe]=tt.texttemplateString(_n(Qe),Cn,dn,En,Mn,Pn)}}if($e={position:it,mode:ze.mode,text:et},"line"in ze&&($e.lineColor=nt(ar,1,sn),$e.lineWidth=ar.width,$e.lineDashes=ar.dash),"marker"in ze){var In=at(ze);$e.scatterColor=nt(rr,1,sn),$e.scatterSize=formatParam(rr.size,sn,calculateSize,20,In),$e.scatterMarker=formatParam(rr.symbol,sn,calculateSymbol,"●"),$e.scatterLineWidth=rr.line.width,$e.scatterLineColor=nt(rr.line,1,sn),$e.scatterAngle=0}"textposition"in ze&&($e.textOffset=function calculateTextOffset(Ee){var ze=[0,0];if(Array.isArray(Ee))for(var Be=0;Be<Ee.length;Be++)ze[Be]=[0,0],Ee[Be]&&(ze[Be][0]=parseAlignmentX(Ee[Be]),ze[Be][1]=parseAlignmentY(Ee[Be]));else ze[0]=parseAlignmentX(Ee),ze[1]=parseAlignmentY(Ee);return ze}(ze.textposition),$e.textColor=nt(ze.textfont,1,sn),$e.textSize=formatParam(ze.textfont.size,sn,tt.identity,12),$e.textFont=ze.textfont.family,$e.textAngle=0);var Bn=["x","y","z"];for($e.project=[!1,!1,!1],$e.projectScale=[1,1,1],$e.projectOpacity=[1,1,1],Qe=0;Qe<3;++Qe){var Hn=ze.projection[Bn[Qe]];($e.project[Qe]=Hn.show)&&($e.projectOpacity[Qe]=Hn.opacity,$e.projectScale[Qe]=Hn.scale)}$e.errorBounds=kt(ze,Lt,ct);var Kn=function calculateErrorParams(Ee){for(var ze=[0,0,0],Be=[[0,0,0],[0,0,0],[0,0,0]],Ue=[1,1,1],We=0;We<3;We++){var $e=Ee[We];$e&&!1!==$e.copy_zstyle&&!1!==Ee[2].visible&&($e=Ee[2]),$e&&$e.visible&&(ze[We]=$e.width/2,Be[We]=rt($e.color),Ue[We]=$e.thickness)}return{capSize:ze,color:Be,lineWidth:Ue}}([ze.error_x,ze.error_y,ze.error_z]);return $e.errorColor=Kn.color,$e.errorLineWidth=Kn.lineWidth,$e.errorCapSize=Kn.capSize,$e.delaunayAxis=ze.surfaceaxis,$e.delaunayColor=rt(ze.surfacecolor),$e}function arrayToColor(Ee){if(Array.isArray(Ee)){var ze=Ee[0];return Array.isArray(ze)&&(Ee=ze),"rgb("+Ee.slice(0,3).map((function(Ee){return Math.round(255*Ee)}))+")"}return null}Lt.handlePick=function(Ee){if(Ee.object&&(Ee.object===this.linePlot||Ee.object===this.delaunayMesh||Ee.object===this.textMarkers||Ee.object===this.scatterPlot)){var ze=Ee.index=Ee.data.index;return Ee.object.highlight&&Ee.object.highlight(null),this.scatterPlot&&(Ee.object=this.scatterPlot,this.scatterPlot.highlight(Ee.data)),Ee.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[ze]||0===this.textLabels[ze])&&(Ee.textLabel=this.textLabels[ze]):Ee.textLabel=this.textLabels),Ee.traceCoordinate=[this.data.x[ze],this.data.y[ze],this.data.z[ze]],!0}},Lt.update=function(Ee){var ze,Be,tt,rt,nt=this.scene.glplot.gl,at=it.solid;this.data=Ee;var ct=convertPlotlyOptions(this.scene,Ee);"mode"in ct&&(this.mode=ct.mode),"lineDashes"in ct&&ct.lineDashes in it&&(at=it[ct.lineDashes]),this.color=arrayToColor(ct.scatterColor)||arrayToColor(ct.lineColor),this.dataPoints=ct.position,ze={gl:this.scene.glplot.gl,position:ct.position,color:ct.lineColor,lineWidth:ct.lineWidth||1,dashes:at[0],dashScale:at[1],opacity:Ee.opacity,connectGaps:Ee.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(ze):(this.linePlot=Ue(ze),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var ft=Ee.opacity;if(Ee.marker&&Ee.marker.opacity&&(ft*=Ee.marker.opacity),Be={gl:this.scene.glplot.gl,position:ct.position,color:ct.scatterColor,size:ct.scatterSize,glyph:ct.scatterMarker,opacity:ft,orthographic:!0,lineWidth:ct.scatterLineWidth,lineColor:ct.scatterLineColor,project:ct.project,projectScale:ct.projectScale,projectOpacity:ct.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(Be):(this.scatterPlot=We(Be),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),rt={gl:this.scene.glplot.gl,position:ct.position,glyph:ct.text,color:ct.textColor,size:ct.textSize,angle:ct.textAngle,alignment:ct.textOffset,font:ct.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:Ee.opacity},this.textLabels=Ee.hovertext||Ee.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(rt):(this.textMarkers=We(rt),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),tt={gl:this.scene.glplot.gl,position:ct.position,color:ct.errorColor,error:ct.errorBounds,lineWidth:ct.errorLineWidth,capSize:ct.errorCapSize,opacity:Ee.opacity},this.errorBars?ct.errorBounds?this.errorBars.update(tt):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):ct.errorBounds&&(this.errorBars=$e(tt),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),ct.delaunayAxis>=0){var xt=function constructDelaunay(Ee,ze,Be){var Ue,We=(Be+1)%3,$e=(Be+2)%3,Qe=[],tt=[];for(Ue=0;Ue<Ee.length;++Ue){var rt=Ee[Ue];!isNaN(rt[We])&&isFinite(rt[We])&&!isNaN(rt[$e])&&isFinite(rt[$e])&&(Qe.push([rt[We],rt[$e]]),tt.push(Ue))}var nt=et(Qe);for(Ue=0;Ue<nt.length;++Ue)for(var at=nt[Ue],it=0;it<at.length;++it)at[it]=tt[at[it]];return{positions:Ee,cells:nt,meshColor:ze}}(ct.position,ct.delaunayColor,ct.delaunayAxis);xt.opacity=Ee.opacity,this.delaunayMesh?this.delaunayMesh.update(xt):(xt.gl=nt,this.delaunayMesh=Qe(xt),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},Lt.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},Ee.exports=function createLineWithMarkers(Ee,ze){var Be=new LineWithMarkers(Ee,ze.uid);return Be.update(ze),Be}},"8c2d":function(Ee,ze,Be){"use strict";Ee.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},"8c75":function(Ee,ze,Be){"use strict";Ee.exports=function doBind(Ee,ze,Be){ze?ze.bind():Ee.bindBuffer(Ee.ELEMENT_ARRAY_BUFFER,null);var Ue=0|Ee.getParameter(Ee.MAX_VERTEX_ATTRIBS);if(Be){if(Be.length>Ue)throw new Error("gl-vao: Too many vertex attributes");for(var We=0;We<Be.length;++We){var $e=Be[We];if($e.buffer){var Qe=$e.buffer,et=$e.size||4,tt=$e.type||Ee.FLOAT,rt=!!$e.normalized,nt=$e.stride||0,at=$e.offset||0;Qe.bind(),Ee.enableVertexAttribArray(We),Ee.vertexAttribPointer(We,et,tt,rt,nt,at)}else{if("number"==typeof $e)Ee.vertexAttrib1f(We,$e);else if(1===$e.length)Ee.vertexAttrib1f(We,$e[0]);else if(2===$e.length)Ee.vertexAttrib2f(We,$e[0],$e[1]);else if(3===$e.length)Ee.vertexAttrib3f(We,$e[0],$e[1],$e[2]);else{if(4!==$e.length)throw new Error("gl-vao: Invalid vertex attribute");Ee.vertexAttrib4f(We,$e[0],$e[1],$e[2],$e[3])}Ee.disableVertexAttribArray(We)}}for(;We<Ue;++We)Ee.disableVertexAttribArray(We)}else{Ee.bindBuffer(Ee.ARRAY_BUFFER,null);for(We=0;We<Ue;++We)Ee.disableVertexAttribArray(We)}}},"8cdc":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze,Be,Ue){var We,$e;for(Ue||(Ue=1/0),We=0;We<ze.length;We++)($e=ze[We]).visible&&(Ue=Math.min(Ue,$e[Be].length));for(Ue===1/0&&(Ue=0),Ee._length=Ue,We=0;We<ze.length;We++)($e=ze[We]).visible&&($e._length=Ue);return Ue}},"8cf2":function(Ee,ze,Be){(function(ze){Ee.exports=ze.performance&&ze.performance.now?function now(){return performance.now()}:Date.now||function now(){return+new Date}}).call(this,Be("c8ba"))},"8d0e":function(Ee,ze,Be){"use strict";Ee.exports={eventDataKeys:["binNumber"]}},"8da3":function(Ee,ze,Be){"use strict";var Ue=Be("f027"),We=Be("a651");Ee.exports=function handleABDefaults(Ee,ze,Be,$e,Qe){$e("a")||($e("da"),$e("a0")),$e("b")||($e("db"),$e("b0")),function mimickAxisDefaults(Ee,ze,Be,$e){["aaxis","baxis"].forEach((function(Qe){var et=Qe.charAt(0),tt=Ee[Qe]||{},rt=We.newContainer(ze,Qe),nt={tickfont:"x",id:et+"axis",letter:et,font:ze.font,name:Qe,data:Ee[et],calendar:ze.calendar,dfltColor:$e,bgColor:Be.paper_bgcolor,fullLayout:Be};Ue(tt,rt,nt),rt._categories=rt._categories||[],Ee[Qe]||"-"===tt.type||(Ee[Qe]={type:tt.type})}))}(Ee,ze,Be,Qe)}},"8dbe":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("f200"),$e=Be("81f0").defaults,Qe=Be("1c1c").handleText,et=Be("c258"),tt=et.hasColorscale,rt=et.handleDefaults;Ee.exports=function supplyDefaults(Ee,ze,Be,et){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var nt=coerce("labels"),at=coerce("parents");if(nt&&nt.length&&at&&at.length){var it=coerce("values");it&&it.length?coerce("branchvalues"):coerce("count"),coerce("level"),coerce("maxdepth"),coerce("marker.line.width")&&coerce("marker.line.color",et.paper_bgcolor),coerce("marker.colors");var ct=ze._hasColorscale=tt(Ee,"marker","colors")||(Ee.marker||{}).coloraxis;ct&&rt(Ee,ze,et,coerce,{prefix:"marker.",cLetter:"c"}),coerce("leaf.opacity",ct?1:.7);var ft=coerce("text");coerce("texttemplate"),ze.texttemplate||coerce("textinfo",Array.isArray(ft)?"text+label":"label"),coerce("hovertext"),coerce("hovertemplate");Qe(Ee,ze,et,coerce,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),coerce("insidetextorientation"),$e(ze,et,coerce),ze._length=null}else ze.visible=!1}},"8dde":function(Ee,ze,Be){"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var Ue=Be("716c"),We=Be("feb7");ze.default=function centroid(Ee,ze){void 0===ze&&(ze={});var Be=0,$e=0,Qe=0;return Ue.coordEach(Ee,(function(Ee){Be+=Ee[0],$e+=Ee[1],Qe++})),We.point([Be/Qe,$e/Qe],ze.properties)}},"8dec":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("bb71"),Qe=Be("371e"),et=Be("0642"),tt=Be("4efe"),rt=Be("fc26"),nt=Be("9092").extendFlat,at=Be("0f37"),it=Be("83d1"),ct=Be("d115"),ft=Be("1999"),xt=Be("0379"),kt=Be("215c").flipScale,Lt=Be("7118"),Ut=Be("f3a2"),er=Be("d798"),tr=Be("63dc"),rr=tr.LINE_SPACING,ar=tr.FROM_TL,Lr=tr.FROM_BR,Qr=Be("aa8a").cn;Ee.exports={draw:function draw(Ee){var ze=Ee._fullLayout._infolayer.selectAll("g."+Qr.colorbar).data(function makeColorBarData(Ee){var ze,Be,Ue,We,$e=Ee._fullLayout,Qe=Ee.calcdata,et=[];function initOpts(Ee){return nt(Ee,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function calcOpts(){"function"==typeof We.calc?We.calc(Ee,Ue,ze):(ze._fillgradient=Be.reversescale?kt(Be.colorscale):Be.colorscale,ze._zrange=[Be[We.min],Be[We.max]])}for(var tt=0;tt<Qe.length;tt++){var rt=Qe[tt],at=(Ue=rt[0].trace)._module.colorbar;if(!0===Ue.visible&&at)for(var it=Array.isArray(at),ct=it?at:[at],ft=0;ft<ct.length;ft++){var xt=(We=ct[ft]).container;(Be=xt?Ue[xt]:Ue)&&Be.showscale&&((ze=initOpts(Be.colorbar))._id="cb"+Ue.uid+(it&&xt?"-"+xt:""),ze._traceIndex=Ue.index,ze._propPrefix=(xt?xt+".":"")+"colorbar.",ze._meta=Ue._meta,calcOpts(),et.push(ze))}}for(var Lt in $e._colorAxes)if((Be=$e[Lt]).showscale){var Ut=$e._colorAxes[Lt];(ze=initOpts(Be.colorbar))._id="cb"+Lt,ze._propPrefix=Lt+".colorbar.",ze._meta=$e._meta,We={min:"cmin",max:"cmax"},"heatmap"!==Ut[0]&&(Ue=Ut[1],We.calc=Ue._module.colorbar.calc),calcOpts(),et.push(ze)}return et}(Ee),(function(Ee){return Ee._id}));ze.enter().append("g").attr("class",(function(Ee){return Ee._id})).classed(Qr.colorbar,!0),ze.each((function(ze){var Be=Ue.select(this);rt.ensureSingle(Be,"rect",Qr.cbbg),rt.ensureSingle(Be,"g",Qr.cbfills),rt.ensureSingle(Be,"g",Qr.cblines),rt.ensureSingle(Be,"g",Qr.cbaxis,(function(Ee){Ee.classed(Qr.crisp,!0)})),rt.ensureSingle(Be,"g",Qr.cbtitleunshift,(function(Ee){Ee.append("g").classed(Qr.cbtitle,!0)})),rt.ensureSingle(Be,"rect",Qr.cboutline);var kt=function drawColorBar(Ee,ze,Be){var Qe=Be._fullLayout,tt=Qe._size,at=ze._fillcolor,kt=ze._line,tr=ze.title,on=tr.side,sn=ze._zrange||Ue.extent(("function"==typeof at?at:kt.color).domain()),ln="function"==typeof kt.color?kt.color:function(){return kt.color},cn="function"==typeof at?at:function(){return at},un=ze._levels,hn=function calcLevels(Ee,ze,Be){var Ue,We,$e=ze._levels,Qe=[],et=[],tt=$e.end+$e.size/100,rt=$e.size,nt=1.001*Be[0]-.001*Be[1],at=1.001*Be[1]-.001*Be[0];for(We=0;We<1e5&&(Ue=$e.start+We*rt,!(rt>0?Ue>=tt:Ue<=tt));We++)Ue>nt&&Ue<at&&Qe.push(Ue);if(ze._fillgradient)et=[0];else if("function"==typeof ze._fillcolor){var it=ze._filllevels;if(it)for(tt=it.end+it.size/100,rt=it.size,We=0;We<1e5&&(Ue=it.start+We*rt,!(rt>0?Ue>=tt:Ue<=tt));We++)Ue>Be[0]&&Ue<Be[1]&&et.push(Ue);else(et=Qe.map((function(Ee){return Ee-$e.size/2}))).push(et[et.length-1]+$e.size)}else ze._fillcolor&&"string"==typeof ze._fillcolor&&(et=[0]);$e.size<0&&(Qe.reverse(),et.reverse());return{line:Qe,fill:et}}(0,ze,sn),dn=hn.fill,vn=hn.line,yn=Math.round(ze.thickness*("fraction"===ze.thicknessmode?tt.w:1)),_n=yn/tt.w,Mn=Math.round(ze.len*("fraction"===ze.lenmode?tt.h:1)),Cn=Mn/tt.h,En=ze.xpad/tt.w,Pn=(ze.borderwidth+ze.outlinewidth)/2,In=ze.ypad/tt.h,Bn=Math.round(ze.x*tt.w+ze.xpad),Hn=ze.x-_n*({middle:.5,right:1}[ze.xanchor]||0),Kn=ze.y+Cn*(({top:-.5,bottom:.5}[ze.yanchor]||0)-.5),Jn=Math.round(tt.h*(1-Kn)),Ma=Jn-Mn;ze._lenFrac=Cn,ze._thickFrac=_n,ze._xLeftFrac=Hn,ze._yBottomFrac=Kn;var Sa=ze._axis=function mockColorBarAxis(Ee,ze,Be){var Ue=Ee._fullLayout,We={type:"linear",range:Be,tickmode:ze.tickmode,nticks:ze.nticks,tick0:ze.tick0,dtick:ze.dtick,tickvals:ze.tickvals,ticktext:ze.ticktext,ticks:ze.ticks,ticklen:ze.ticklen,tickwidth:ze.tickwidth,tickcolor:ze.tickcolor,showticklabels:ze.showticklabels,tickfont:ze.tickfont,tickangle:ze.tickangle,tickformat:ze.tickformat,exponentformat:ze.exponentformat,separatethousands:ze.separatethousands,showexponent:ze.showexponent,showtickprefix:ze.showtickprefix,tickprefix:ze.tickprefix,showticksuffix:ze.showticksuffix,ticksuffix:ze.ticksuffix,title:ze.title,showline:!0,anchor:"free",side:"right",position:1},$e={type:"linear",_id:"y"+ze._id},Qe={letter:"y",font:Ue.font,noHover:!0,noTickson:!0,calendar:Ue.calendar};function coerce(Ee,ze){return rt.coerce(We,$e,er,Ee,ze)}return Lt(We,$e,coerce,Qe,Ue),Ut(We,$e,coerce,Qe),$e}(Be,ze,sn);Sa.position=ze.x+En+_n,-1!==["top","bottom"].indexOf(on)&&(Sa.title.side=on,Sa.titlex=ze.x+En,Sa.titley=Kn+("top"===tr.side?Cn-In:In));if(kt.color&&"auto"===ze.tickmode){Sa.tickmode="linear",Sa.tick0=un.start;var La=un.size,Ia=rt.constrain((Jn-Ma)/50,4,15)+1,Ra=(sn[1]-sn[0])/((ze.nticks||Ia)*La);if(Ra>1){var Na=Math.pow(10,Math.floor(Math.log(Ra)/Math.LN10));La*=Na*rt.roundUp(Ra/Na,[2,5,10]),(Math.abs(un.start)/un.size+1e-6)%1<2e-6&&(Sa.tick0=0)}Sa.dtick=La}Sa.domain=[Kn+In,Kn+Cn-In],Sa.setScale(),Ee.attr("transform","translate("+Math.round(tt.l)+","+Math.round(tt.t)+")");var Ua,qa=Ee.select("."+Qr.cbtitleunshift).attr("transform","translate(-"+Math.round(tt.l)+",-"+Math.round(tt.t)+")"),Ka=Ee.select("."+Qr.cbaxis),ei=0;function drawTitle(Ue,We){var $e={propContainer:Sa,propName:ze._propPrefix+"title",traceIndex:ze._traceIndex,_meta:ze._meta,placeholder:Qe._dfltTitle.colorbar,containerGroup:Ee.select("."+Qr.cbtitle)},et="h"===Ue.charAt(0)?Ue.substr(1):"h"+Ue;Ee.selectAll("."+et+",."+et+"-math-group").remove(),ft.draw(Be,Ue,nt($e,We||{}))}return rt.syncOrAsync([$e.previousPromises,function drawDummyTitle(){if(-1!==["top","bottom"].indexOf(on)){var Ee,Be=tt.l+(ze.x+En)*tt.w,Ue=Sa.title.font.size;Ee="top"===on?(1-(Kn+Cn-In))*tt.h+tt.t+3+.75*Ue:(1-(Kn+In))*tt.h+tt.t-3-.25*Ue,drawTitle(Sa._id+"title",{attributes:{x:Be,y:Ee,"text-anchor":"start"}})}},function drawAxis(){if(-1!==["top","bottom"].indexOf(on)){var $e=Ee.select("."+Qr.cbtitle),Qe=$e.select("text"),nt=[-ze.outlinewidth/2,ze.outlinewidth/2],at=$e.select(".h"+Sa._id+"title-math-group").node(),ct=15.6;if(Qe.node()&&(ct=parseInt(Qe.node().style.fontSize,10)*rr),at?(ei=it.bBox(at).height)>ct&&(nt[1]-=(ei-ct)/2):Qe.node()&&!Qe.classed(Qr.jsPlaceholder)&&(ei=it.bBox(Qe.node()).height),ei){if(ei+=5,"top"===on)Sa.domain[1]-=ei/tt.h,nt[1]*=-1;else{Sa.domain[0]+=ei/tt.h;var ft=xt.lineCount(Qe);nt[1]+=(1-ft)*ct}$e.attr("transform","translate("+nt+")"),Sa.setScale()}}Ee.selectAll("."+Qr.cbfills+",."+Qr.cblines).attr("transform","translate(0,"+Math.round(tt.h*(1-Sa.domain[1]))+")"),Ka.attr("transform","translate(0,"+Math.round(-tt.t)+")");var Lt=Ee.select("."+Qr.cbfills).selectAll("rect."+Qr.cbfill).data(dn);Lt.enter().append("rect").classed(Qr.cbfill,!0).style("stroke","none"),Lt.exit().remove();var Ut=sn.map(Sa.c2p).map(Math.round).sort((function(Ee,ze){return Ee-ze}));Lt.each((function(Ee,$e){var Qe=[0===$e?sn[0]:(dn[$e]+dn[$e-1])/2,$e===dn.length-1?sn[1]:(dn[$e]+dn[$e+1])/2].map(Sa.c2p).map(Math.round);Qe[1]=rt.constrain(Qe[1]+(Qe[1]>Qe[0])?1:-1,Ut[0],Ut[1]);var et=Ue.select(this).attr({x:Bn,width:Math.max(yn,2),y:Ue.min(Qe),height:Math.max(Ue.max(Qe)-Ue.min(Qe),2)});if(ze._fillgradient)it.gradient(et,Be,ze._id,"vertical",ze._fillgradient,"fill");else{var tt=cn(Ee).replace("e-","");et.attr("fill",We(tt).toHexString())}}));var er=Ee.select("."+Qr.cblines).selectAll("path."+Qr.cbline).data(kt.color&&kt.width?vn:[]);er.enter().append("path").classed(Qr.cbline,!0),er.exit().remove(),er.each((function(Ee){Ue.select(this).attr("d","M"+Bn+","+(Math.round(Sa.c2p(Ee))+kt.width/2%1)+"h"+yn).call(it.lineGroupStyle,kt.width,ln(Ee),kt.dash)})),Ka.selectAll("g."+Sa._id+"tick,path").remove();var tr=Bn+yn+(ze.outlinewidth||0)/2-("outside"===ze.ticks?1:0),ar=et.calcTicks(Sa),Lr=et.makeTransFn(Sa),un=et.getTickSigns(Sa)[2];return et.drawTicks(Be,Sa,{vals:"inside"===Sa.ticks?et.clipEnds(Sa,ar):ar,layer:Ka,path:et.makeTickPath(Sa,tr,un),transFn:Lr}),et.drawLabels(Be,Sa,{vals:ar,layer:Ka,transFn:Lr,labelFns:et.makeLabelFns(Sa,tr)})},function drawCbTitle(){if(-1===["top","bottom"].indexOf(on)){var Ee=Sa.title.font.size,ze=Sa._offset+Sa._length/2,We=tt.l+(Sa.position||0)*tt.w+("right"===Sa.side?10+Ee*(Sa.showticklabels?1:.5):-10-Ee*(Sa.showticklabels?.5:0));drawTitle("h"+Sa._id+"title",{avoid:{selection:Ue.select(Be).selectAll("g."+Sa._id+"tick"),side:on,offsetLeft:tt.l,offsetTop:0,maxShift:Qe.width},attributes:{x:We,y:ze,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},$e.previousPromises,function positionCB(){var Ue=yn+ze.outlinewidth/2+it.bBox(Ka.node()).width;if((Ua=qa.select("text")).node()&&!Ua.classed(Qr.jsPlaceholder)){var We,Qe=qa.select(".h"+Sa._id+"title-math-group").node();We=Qe&&-1!==["top","bottom"].indexOf(on)?it.bBox(Qe).width:it.bBox(qa.node()).right-Bn-tt.l,Ue=Math.max(Ue,We)}var et=2*ze.xpad+Ue+ze.borderwidth+ze.outlinewidth/2,rt=Jn-Ma;Ee.select("."+Qr.cbbg).attr({x:Bn-ze.xpad-(ze.borderwidth+ze.outlinewidth)/2,y:Ma-Pn,width:Math.max(et,2),height:Math.max(rt+2*Pn,2)}).call(ct.fill,ze.bgcolor).call(ct.stroke,ze.bordercolor).style("stroke-width",ze.borderwidth),Ee.selectAll("."+Qr.cboutline).attr({x:Bn,y:Ma+ze.ypad+("top"===on?ei:0),width:Math.max(yn,2),height:Math.max(rt-2*ze.ypad-ei,2)}).call(ct.stroke,ze.outlinecolor).style({fill:"none","stroke-width":ze.outlinewidth});var nt=({center:.5,right:1}[ze.xanchor]||0)*et;Ee.attr("transform","translate("+(tt.l-nt)+","+tt.t+")");var at={},ft=ar[ze.yanchor],xt=Lr[ze.yanchor];"pixels"===ze.lenmode?(at.y=ze.y,at.t=rt*ft,at.b=rt*xt):(at.t=at.b=0,at.yt=ze.y+ze.len*ft,at.yb=ze.y-ze.len*xt);var kt=ar[ze.xanchor],Lt=Lr[ze.xanchor];if("pixels"===ze.thicknessmode)at.x=ze.x,at.l=et*kt,at.r=et*Lt;else{var Ut=et-yn;at.l=Ut*kt,at.r=Ut*Lt,at.xl=ze.x-ze.thickness*kt,at.xr=ze.x+ze.thickness*Lt}$e.autoMargin(Be,ze._id,at)}],Be)}(Be,ze,Ee);kt&&kt.then&&(Ee._promises||[]).push(kt),Ee._context.edits.colorbarPosition&&function makeEditable(Ee,ze,Be){var Ue,We,$e,et=Be._fullLayout._size;tt.init({element:Ee.node(),gd:Be,prepFn:function(){Ue=Ee.attr("transform"),at(Ee)},moveFn:function(Be,Qe){Ee.attr("transform",Ue+" translate("+Be+","+Qe+")"),We=tt.align(ze._xLeftFrac+Be/et.w,ze._thickFrac,0,1,ze.xanchor),$e=tt.align(ze._yBottomFrac-Qe/et.h,ze._lenFrac,0,1,ze.yanchor);var rt=tt.getCursor(We,$e,ze.xanchor,ze.yanchor);at(Ee,rt)},doneFn:function(){if(at(Ee),void 0!==We&&void 0!==$e){var Ue={};Ue[ze._propPrefix+"x"]=We,Ue[ze._propPrefix+"y"]=$e,void 0!==ze._traceIndex?Qe.call("_guiRestyle",Be,Ue,ze._traceIndex):Qe.call("_guiRelayout",Be,Ue)}}})}(Be,ze,Ee)})),ze.exit().each((function(ze){$e.autoMargin(Ee,ze._id)})).remove(),ze.order()}}},"8df8":function(Ee,ze,Be){"use strict";Ee.exports=isMobile,Ee.exports.isMobile=isMobile,Ee.exports.default=isMobile;var Ue=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,We=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function isMobile(Ee){Ee||(Ee={});var ze=Ee.ua;return ze||"undefined"==typeof navigator||(ze=navigator.userAgent),ze&&ze.headers&&"string"==typeof ze.headers["user-agent"]&&(ze=ze.headers["user-agent"]),"string"==typeof ze&&(Ee.tablet?We.test(ze):Ue.test(ze))}},"8e43":function(Ee,ze,Be){"use strict";Ee.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},"8e56":function(Ee,ze,Be){"use strict";var Ue=Be("5ad3"),We=Be("19b2"),$e=Be("299d"),Qe=Be("3a04"),et=Be("c879"),tt=Be("fc26"),rt=Be("b326").TOO_MANY_POINTS;Ee.exports=function plot(Ee,ze,Be){if(Be.length){var nt=ze.radialAxis,at=ze.angularAxis,it=Qe(Ee,ze);return Be.forEach((function(Be){if(Be&&Be[0]&&Be[0].trace){var $e,Qe=Be[0],ct=Qe.trace,ft=Qe.t,xt=ct._length,kt=ft.r,Lt=ft.theta,Ut=ft.opts,er=kt.slice(),tr=Lt.slice();for($e=0;$e<kt.length;$e++)ze.isPtInside({r:kt[$e],theta:Lt[$e]})||(er[$e]=NaN,tr[$e]=NaN);var rr=new Array(2*xt),ar=Array(xt),Lr=Array(xt);for($e=0;$e<xt;$e++){var Qr,on,sn=er[$e];if(We(sn)){var ln=nt.c2g(sn),cn=at.c2g(tr[$e],ct.thetaunit);Qr=ln*Math.cos(cn),on=ln*Math.sin(cn)}else Qr=on=NaN;ar[$e]=rr[2*$e]=Qr,Lr[$e]=rr[2*$e+1]=on}ft.tree=Ue(rr),Ut.marker&&xt>=rt&&(Ut.marker.cluster=ft.tree),Ut.marker&&(Ut.markerSel.positions=Ut.markerUnsel.positions=Ut.marker.positions=rr),Ut.line&&rr.length>1&&tt.extendFlat(Ut.line,et.linePositions(Ee,ct,rr)),Ut.text&&(tt.extendFlat(Ut.text,{positions:rr},et.textPosition(Ee,ct,Ut.text,Ut.marker)),tt.extendFlat(Ut.textSel,{positions:rr},et.textPosition(Ee,ct,Ut.text,Ut.markerSel)),tt.extendFlat(Ut.textUnsel,{positions:rr},et.textPosition(Ee,ct,Ut.text,Ut.markerUnsel))),Ut.fill&&!it.fill2d&&(it.fill2d=!0),Ut.marker&&!it.scatter2d&&(it.scatter2d=!0),Ut.line&&!it.line2d&&(it.line2d=!0),Ut.text&&!it.glText&&(it.glText=!0),it.lineOptions.push(Ut.line),it.fillOptions.push(Ut.fill),it.markerOptions.push(Ut.marker),it.markerSelectedOptions.push(Ut.markerSel),it.markerUnselectedOptions.push(Ut.markerUnsel),it.textOptions.push(Ut.text),it.textSelectedOptions.push(Ut.textSel),it.textUnselectedOptions.push(Ut.textUnsel),it.selectBatch.push([]),it.unselectBatch.push([]),ft.x=ar,ft.y=Lr,ft.rawx=ar,ft.rawy=Lr,ft.r=kt,ft.theta=Lt,ft.positions=rr,ft._scene=it,ft.index=it.count,it.count++}})),$e(Ee,ze,Be)}}},"8e58":function(Ee,ze,Be){"use strict";Ee.exports=function genPartition(Ee,ze){var Be="abcdef".split("").concat(ze),Ue=[];Ee.indexOf("lo")>=0&&Ue.push("lo=e[k+n]");Ee.indexOf("hi")>=0&&Ue.push("hi=e[k+o]");return Be.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",Ue.join()).replace("$",Ee)),Function.apply(void 0,Be)}},"8f12":function(Ee,ze,Be){"use strict";var Ue=Be("d115").opacity,We=Be("ac97").hoverOnBars,$e=Be("fc26").formatPercent;Ee.exports=function hoverPoints(Ee,ze,Be,Qe){var et=We(Ee,ze,Be,Qe);if(et){var tt=et.cd,rt=tt[0].trace,nt="h"===rt.orientation,at=tt[et.index];et[(nt?"x":"y")+"LabelVal"]=at.s,et.percentInitial=at.begR,et.percentInitialLabel=$e(at.begR,1),et.percentPrevious=at.difR,et.percentPreviousLabel=$e(at.difR,1),et.percentTotal=at.sumR,et.percentTotalLabel=$e(at.sumR,1);var it=at.hi||rt.hoverinfo,ct=[];if(it&&"none"!==it&&"skip"!==it){var ft="all"===it,xt=it.split("+"),hasFlag=function(Ee){return ft||-1!==xt.indexOf(Ee)};hasFlag("percent initial")&&ct.push(et.percentInitialLabel+" of initial"),hasFlag("percent previous")&&ct.push(et.percentPreviousLabel+" of previous"),hasFlag("percent total")&&ct.push(et.percentTotalLabel+" of total")}return et.extraText=ct.join("<br>"),et.color=function getTraceColor(Ee,ze){var Be=Ee.marker,We=ze.mc||Be.color,$e=ze.mlc||Be.line.color,Qe=ze.mlw||Be.line.width;if(Ue(We))return We;if(Ue($e)&&Qe)return $e}(rt,at),[et]}}},"8f2a":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a651"),$e=Be("d92f"),Qe=Be("27e3"),et=Be("5008"),tt=Be("67c4");Ee.exports=function colorbarDefaults(Ee,ze,Be){var rt=We.newContainer(ze,"colorbar"),nt=Ee.colorbar||{};function coerce(Ee,ze){return Ue.coerce(nt,rt,tt,Ee,ze)}var at=coerce("thicknessmode");coerce("thickness","fraction"===at?30/(Be.width-Be.margin.l-Be.margin.r):30);var it=coerce("lenmode");coerce("len","fraction"===it?1:Be.height-Be.margin.t-Be.margin.b),coerce("x"),coerce("xanchor"),coerce("xpad"),coerce("y"),coerce("yanchor"),coerce("ypad"),Ue.noneOrAll(nt,rt,["x","y"]),coerce("outlinecolor"),coerce("outlinewidth"),coerce("bordercolor"),coerce("borderwidth"),coerce("bgcolor"),$e(nt,rt,coerce,"linear");var ct={outerTicks:!1,font:Be.font};et(nt,rt,coerce,"linear",ct),Qe(nt,rt,coerce,"linear",ct),coerce("title.text",Be._dfltTitle.colorbar),Ue.coerceFont(coerce,"title.font",Be.font),coerce("title.side")}},"8f38":function(Ee,ze,Be){"use strict";var Ue=Be("dfb3");Ee.exports={bgcolor:{valType:"color",dflt:Ue.background,editType:"plot"},bordercolor:{valType:"color",dflt:Ue.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},"8f9c":function(Ee,ze,Be){"use strict";Ee.exports=function createFilteredVector(Ee,ze,Be){switch(arguments.length){case 0:return new FilteredVector([0],[0],0);case 1:return"number"==typeof Ee?new FilteredVector(Ue=getZero(Ee),Ue,0):new FilteredVector(Ee,getZero(Ee.length),0);case 2:if("number"==typeof ze){var Ue=getZero(Ee.length);return new FilteredVector(Ee,Ue,+ze)}Be=0;case 3:if(Ee.length!==ze.length)throw new Error("state and velocity lengths must match");return new FilteredVector(Ee,ze,Be)}};var Ue=Be("d3c2"),We=Be("cf6c");function clamp(Ee,ze,Be){return Math.min(ze,Math.max(Ee,Be))}function FilteredVector(Ee,ze,Be){this.dimension=Ee.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var Ue=0;Ue<this.dimension;++Ue)this.bounds[0][Ue]=-1/0,this.bounds[1][Ue]=1/0;this._state=Ee.slice().reverse(),this._velocity=ze.slice().reverse(),this._time=[Be],this._scratch=[Ee.slice(),Ee.slice(),Ee.slice(),Ee.slice(),Ee.slice()]}var $e=FilteredVector.prototype;function getZero(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be)ze[Be]=0;return ze}$e.flush=function(Ee){var ze=We.gt(this._time,Ee)-1;ze<=0||(this._time.splice(0,ze),this._state.splice(0,ze*this.dimension),this._velocity.splice(0,ze*this.dimension))},$e.curve=function(Ee){var ze=this._time,Be=ze.length,$e=We.le(ze,Ee),Qe=this._scratch[0],et=this._state,tt=this._velocity,rt=this.dimension,nt=this.bounds;if($e<0)for(var at=rt-1,it=0;it<rt;++it,--at)Qe[it]=et[at];else if($e>=Be-1){at=et.length-1;var ct=Ee-ze[Be-1];for(it=0;it<rt;++it,--at)Qe[it]=et[at]+ct*tt[at]}else{at=rt*($e+1)-1;var ft=ze[$e],xt=ze[$e+1]-ft||1,kt=this._scratch[1],Lt=this._scratch[2],Ut=this._scratch[3],er=this._scratch[4],tr=!0;for(it=0;it<rt;++it,--at)kt[it]=et[at],Ut[it]=tt[at]*xt,Lt[it]=et[at+rt],er[it]=tt[at+rt]*xt,tr=tr&&kt[it]===Lt[it]&&Ut[it]===er[it]&&0===Ut[it];if(tr)for(it=0;it<rt;++it)Qe[it]=kt[it];else Ue(kt,Ut,Lt,er,(Ee-ft)/xt,Qe)}var rr=nt[0],ar=nt[1];for(it=0;it<rt;++it)Qe[it]=clamp(rr[it],ar[it],Qe[it]);return Qe},$e.dcurve=function(Ee){var ze=this._time,Be=ze.length,$e=We.le(ze,Ee),Qe=this._scratch[0],et=this._state,tt=this._velocity,rt=this.dimension;if($e>=Be-1)for(var nt=et.length-1,at=(ze[Be-1],0);at<rt;++at,--nt)Qe[at]=tt[nt];else{nt=rt*($e+1)-1;var it=ze[$e],ct=ze[$e+1]-it||1,ft=this._scratch[1],xt=this._scratch[2],kt=this._scratch[3],Lt=this._scratch[4],Ut=!0;for(at=0;at<rt;++at,--nt)ft[at]=et[nt],kt[at]=tt[nt]*ct,xt[at]=et[nt+rt],Lt[at]=tt[nt+rt]*ct,Ut=Ut&&ft[at]===xt[at]&&kt[at]===Lt[at]&&0===kt[at];if(Ut)for(at=0;at<rt;++at)Qe[at]=0;else{Ue.derivative(ft,kt,xt,Lt,(Ee-it)/ct,Qe);for(at=0;at<rt;++at)Qe[at]/=ct}}return Qe},$e.lastT=function(){var Ee=this._time;return Ee[Ee.length-1]},$e.stable=function(){for(var Ee=this._velocity,ze=Ee.length,Be=this.dimension-1;Be>=0;--Be)if(Ee[--ze])return!1;return!0},$e.jump=function(Ee){var ze=this.lastT(),Be=this.dimension;if(!(Ee<ze||arguments.length!==Be+1)){var Ue=this._state,We=this._velocity,$e=Ue.length-this.dimension,Qe=this.bounds,et=Qe[0],tt=Qe[1];this._time.push(ze,Ee);for(var rt=0;rt<2;++rt)for(var nt=0;nt<Be;++nt)Ue.push(Ue[$e++]),We.push(0);this._time.push(Ee);for(nt=Be;nt>0;--nt)Ue.push(clamp(et[nt-1],tt[nt-1],arguments[nt])),We.push(0)}},$e.push=function(Ee){var ze=this.lastT(),Be=this.dimension;if(!(Ee<ze||arguments.length!==Be+1)){var Ue=this._state,We=this._velocity,$e=Ue.length-this.dimension,Qe=Ee-ze,et=this.bounds,tt=et[0],rt=et[1],nt=Qe>1e-6?1/Qe:0;this._time.push(Ee);for(var at=Be;at>0;--at){var it=clamp(tt[at-1],rt[at-1],arguments[at]);Ue.push(it),We.push((it-Ue[$e++])*nt)}}},$e.set=function(Ee){var ze=this.dimension;if(!(Ee<this.lastT()||arguments.length!==ze+1)){var Be=this._state,Ue=this._velocity,We=this.bounds,$e=We[0],Qe=We[1];this._time.push(Ee);for(var et=ze;et>0;--et)Be.push(clamp($e[et-1],Qe[et-1],arguments[et])),Ue.push(0)}},$e.move=function(Ee){var ze=this.lastT(),Be=this.dimension;if(!(Ee<=ze||arguments.length!==Be+1)){var Ue=this._state,We=this._velocity,$e=Ue.length-this.dimension,Qe=this.bounds,et=Qe[0],tt=Qe[1],rt=Ee-ze,nt=rt>1e-6?1/rt:0;this._time.push(Ee);for(var at=Be;at>0;--at){var it=arguments[at];Ue.push(clamp(et[at-1],tt[at-1],Ue[$e++]+it)),We.push(it*nt)}}},$e.idle=function(Ee){var ze=this.lastT();if(!(Ee<ze)){var Be=this.dimension,Ue=this._state,We=this._velocity,$e=Ue.length-Be,Qe=this.bounds,et=Qe[0],tt=Qe[1],rt=Ee-ze;this._time.push(Ee);for(var nt=Be-1;nt>=0;--nt)Ue.push(clamp(et[nt],tt[nt],Ue[$e]+rt*We[$e])),We.push(0),$e+=1}}},"8fe5":function(Ee,ze,Be){"use strict";var Ue=Be("1c4a").iterator,We=Be("e9bd"),$e=Be("7045"),Qe=Be("d53b"),et=Be("1a94"),tt=Be("96ae"),rt=Be("62c4"),nt=Be("692b"),at=Array.isArray,it=Function.prototype.call,ct={configurable:!0,enumerable:!0,writable:!0,value:null},ft=Object.defineProperty;Ee.exports=function(Ee){var ze,Be,xt,kt,Lt,Ut,er,tr,rr,ar,Lr=arguments[1],Qr=arguments[2];if(Ee=Object(tt(Ee)),rt(Lr)&&et(Lr),this&&this!==Array&&$e(this))ze=this;else{if(!Lr){if(We(Ee))return 1!==(Lt=Ee.length)?Array.apply(null,Ee):((kt=new Array(1))[0]=Ee[0],kt);if(at(Ee)){for(kt=new Array(Lt=Ee.length),Be=0;Be<Lt;++Be)kt[Be]=Ee[Be];return kt}}kt=[]}if(!at(Ee))if(void 0!==(rr=Ee[Ue])){for(er=et(rr).call(Ee),ze&&(kt=new ze),tr=er.next(),Be=0;!tr.done;)ar=Lr?it.call(Lr,Qr,tr.value,Be):tr.value,ze?(ct.value=ar,ft(kt,Be,ct)):kt[Be]=ar,tr=er.next(),++Be;Lt=Be}else if(nt(Ee)){for(Lt=Ee.length,ze&&(kt=new ze),Be=0,xt=0;Be<Lt;++Be)ar=Ee[Be],Be+1<Lt&&(Ut=ar.charCodeAt(0))>=55296&&Ut<=56319&&(ar+=Ee[++Be]),ar=Lr?it.call(Lr,Qr,ar,xt):ar,ze?(ct.value=ar,ft(kt,xt,ct)):kt[xt]=ar,++xt;Lt=xt}if(void 0===Lt)for(Lt=Qe(Ee.length),ze&&(kt=new ze(Lt)),Be=0;Be<Lt;++Be)ar=Lr?it.call(Lr,Qr,Ee[Be],Be):Ee[Be],ze?(ct.value=ar,ft(kt,Be,ct)):kt[Be]=ar;return ze&&(ct.value=null,kt.length=Lt),kt}},"8ff1":function(Ee,ze,Be){"use strict";Ee.exports=ScrollBox;var Ue=Be("6e58"),We=Be("d115"),$e=Be("83d1"),Qe=Be("fc26");function ScrollBox(Ee,ze,Be){this.gd=Ee,this.container=ze,this.id=Be,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ScrollBox.barWidth=2,ScrollBox.barLength=20,ScrollBox.barRadius=2,ScrollBox.barPad=1,ScrollBox.barColor="#808BA4",ScrollBox.prototype.enable=function enable(Ee,ze,Be){var Qe=this.gd._fullLayout,et=Qe.width,tt=Qe.height;this.position=Ee;var rt,nt,at,it,ct=this.position.l,ft=this.position.w,xt=this.position.t,kt=this.position.h,Lt=this.position.direction,Ut="down"===Lt,er="left"===Lt,tr="up"===Lt,rr=ft,ar=kt;Ut||er||"right"===Lt||tr||(this.position.direction="down",Ut=!0),Ut||tr?(nt=(rt=ct)+rr,Ut?(at=xt,ar=(it=Math.min(at+ar,tt))-at):ar=(it=xt+ar)-(at=Math.max(it-ar,0))):(it=(at=xt)+ar,er?rr=(nt=ct+rr)-(rt=Math.max(nt-rr,0)):(rt=ct,rr=(nt=Math.min(rt+rr,et))-rt)),this._box={l:rt,t:at,w:rr,h:ar};var Lr=ft>rr,Qr=ScrollBox.barLength+2*ScrollBox.barPad,on=ScrollBox.barWidth+2*ScrollBox.barPad,sn=ct,ln=xt+kt;ln+on>tt&&(ln=tt-on);var cn=this.container.selectAll("rect.scrollbar-horizontal").data(Lr?[0]:[]);cn.exit().on(".drag",null).remove(),cn.enter().append("rect").classed("scrollbar-horizontal",!0).call(We.fill,ScrollBox.barColor),Lr?(this.hbar=cn.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:sn,y:ln,width:Qr,height:on}),this._hbarXMin=sn+Qr/2,this._hbarTranslateMax=rr-Qr):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var un=kt>ar,hn=ScrollBox.barWidth+2*ScrollBox.barPad,dn=ScrollBox.barLength+2*ScrollBox.barPad,vn=ct+ft,yn=xt;vn+hn>et&&(vn=et-hn);var _n=this.container.selectAll("rect.scrollbar-vertical").data(un?[0]:[]);_n.exit().on(".drag",null).remove(),_n.enter().append("rect").classed("scrollbar-vertical",!0).call(We.fill,ScrollBox.barColor),un?(this.vbar=_n.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:vn,y:yn,width:hn,height:dn}),this._vbarYMin=yn+dn/2,this._vbarTranslateMax=ar-dn):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Mn=this.id,Cn=rt-.5,En=un?nt+hn+.5:nt+.5,Pn=at-.5,In=Lr?it+on+.5:it+.5,Bn=Qe._topdefs.selectAll("#"+Mn).data(Lr||un?[0]:[]);if(Bn.exit().remove(),Bn.enter().append("clipPath").attr("id",Mn).append("rect"),Lr||un?(this._clipRect=Bn.select("rect").attr({x:Math.floor(Cn),y:Math.floor(Pn),width:Math.ceil(En)-Math.floor(Cn),height:Math.ceil(In)-Math.floor(Pn)}),this.container.call($e.setClipUrl,Mn,this.gd),this.bg.attr({x:ct,y:xt,width:ft,height:kt})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call($e.setClipUrl,null),delete this._clipRect),Lr||un){var Hn=Ue.behavior.drag().on("dragstart",(function(){Ue.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Hn);var Kn=Ue.behavior.drag().on("dragstart",(function(){Ue.event.sourceEvent.preventDefault(),Ue.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));Lr&&this.hbar.on(".drag",null).call(Kn),un&&this.vbar.on(".drag",null).call(Kn)}this.setTranslate(ze,Be)},ScrollBox.prototype.disable=function disable(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call($e.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},ScrollBox.prototype._onBoxDrag=function _onBoxDrag(){var Ee=this.translateX,ze=this.translateY;this.hbar&&(Ee-=Ue.event.dx),this.vbar&&(ze-=Ue.event.dy),this.setTranslate(Ee,ze)},ScrollBox.prototype._onBoxWheel=function _onBoxWheel(){var Ee=this.translateX,ze=this.translateY;this.hbar&&(Ee+=Ue.event.deltaY),this.vbar&&(ze+=Ue.event.deltaY),this.setTranslate(Ee,ze)},ScrollBox.prototype._onBarDrag=function _onBarDrag(){var Ee=this.translateX,ze=this.translateY;if(this.hbar){var Be=Ee+this._hbarXMin,We=Be+this._hbarTranslateMax;Ee=(Qe.constrain(Ue.event.x,Be,We)-Be)/(We-Be)*(this.position.w-this._box.w)}if(this.vbar){var $e=ze+this._vbarYMin,et=$e+this._vbarTranslateMax;ze=(Qe.constrain(Ue.event.y,$e,et)-$e)/(et-$e)*(this.position.h-this._box.h)}this.setTranslate(Ee,ze)},ScrollBox.prototype.setTranslate=function setTranslate(Ee,ze){var Be=this.position.w-this._box.w,Ue=this.position.h-this._box.h;if(Ee=Qe.constrain(Ee||0,0,Be),ze=Qe.constrain(ze||0,0,Ue),this.translateX=Ee,this.translateY=ze,this.container.call($e.setTranslate,this._box.l-this.position.l-Ee,this._box.t-this.position.t-ze),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+Ee-.5),y:Math.floor(this.position.t+ze-.5)}),this.hbar){var We=Ee/Be;this.hbar.call($e.setTranslate,Ee+We*this._hbarTranslateMax,ze)}if(this.vbar){var et=ze/Ue;this.vbar.call($e.setTranslate,Ee,ze+et*this._vbarTranslateMax)}}},"8ff7":function(Ee,ze,Be){"use strict";Ee.exports=function convexHull2D(Ee){var ze=Ue(Ee),Be=ze.length;if(Be<=2)return[];for(var We=new Array(Be),$e=ze[Be-1],Qe=0;Qe<Be;++Qe){var et=ze[Qe];We[Qe]=[$e,et],$e=et}return We};var Ue=Be("ca23")},9013:function(Ee,ze,Be){"use strict";var Ue=Be("5edd");Ee.exports=function(Ee){if(!Ue(Ee))return!1;try{return!!Ee.constructor&&Ee.constructor.prototype===Ee}catch(Ee){return!1}}},9036:function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("f4e9"),$e=Be("94d5").hovertemplateAttrs,Qe=Be("94d5").texttemplateAttrs,et=Be("a876"),tt=Be("089c"),rt=Be("014c"),nt=Be("9092").extendFlat,at=Be("cb34").overrideAll,it=Ue.line,ct=Ue.marker,ft=ct.line,xt=nt({width:it.width,dash:{valType:"enumerated",values:Object.keys(tt),dflt:"solid"}},We("line"));var kt=Ee.exports=at({x:Ue.x,y:Ue.y,z:{valType:"data_array"},text:nt({},Ue.text,{}),texttemplate:Qe({},{}),hovertext:nt({},Ue.hovertext,{}),hovertemplate:$e(),mode:nt({},Ue.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:Ue.connectgaps,line:xt,marker:nt({symbol:{valType:"enumerated",values:Object.keys(rt),dflt:"circle",arrayOk:!0},size:nt({},ct.size,{dflt:8}),sizeref:ct.sizeref,sizemin:ct.sizemin,sizemode:ct.sizemode,opacity:nt({},ct.opacity,{arrayOk:!1}),colorbar:ct.colorbar,line:nt({width:nt({},ft.width,{arrayOk:!1})},We("marker.line"))},We("marker")),textposition:nt({},Ue.textposition,{dflt:"top center"}),textfont:{color:Ue.textfont.color,size:Ue.textfont.size,family:nt({},Ue.textfont.family,{arrayOk:!1})},hoverinfo:nt({},et.hoverinfo)},"calc","nested");kt.x.editType=kt.y.editType=kt.z.editType="calc+clearAxisTypes"},9070:function(Ee,ze){Ee.exports=function copy(Ee,ze){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee}},9092:function(Ee,ze,Be){"use strict";var Ue=Be("1385"),We=Array.isArray;function _extend(Ee,ze,Be,$e){var Qe,et,tt,rt,nt,at,it=Ee[0],ct=Ee.length;if(2===ct&&We(it)&&We(Ee[1])&&0===it.length){if(function primitivesLoopSplice(Ee,ze){var Be,Ue;for(Be=0;Be<Ee.length;Be++){if(null!==(Ue=Ee[Be])&&"object"==typeof Ue)return!1;void 0!==Ue&&(ze[Be]=Ue)}return!0}(Ee[1],it))return it;it.splice(0,it.length)}for(var ft=1;ft<ct;ft++)for(et in Qe=Ee[ft])tt=it[et],rt=Qe[et],$e&&We(rt)?it[et]=rt:ze&&rt&&(Ue(rt)||(nt=We(rt)))?(nt?(nt=!1,at=tt&&We(tt)?tt:[]):at=tt&&Ue(tt)?tt:{},it[et]=_extend([at,rt],ze,Be,$e)):(void 0!==rt||Be)&&(it[et]=rt);return it}ze.extendFlat=function(){return _extend(arguments,!1,!1,!1)},ze.extendDeep=function(){return _extend(arguments,!0,!1,!1)},ze.extendDeepAll=function(){return _extend(arguments,!0,!0,!1)},ze.extendDeepNoArrays=function(){return _extend(arguments,!0,!1,!0)}},"90a6":function(Ee,ze,Be){"use strict";Ee.exports=Be("838d")},"90e3":function(Ee,ze){var Be=0,Ue=Math.random();Ee.exports=function(Ee){return"Symbol("+String(void 0===Ee?"":Ee)+")_"+(++Be+Ue).toString(36)}},9103:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("215c").hasColorscale,$e=Be("4183");Ee.exports=function handleStyleDefaults(Ee,ze,Be,Qe,et){Be("marker.color",Qe),We(Ee,"marker")&&$e(Ee,ze,et,Be,{prefix:"marker.",cLetter:"c"}),Be("marker.line.color",Ue.defaultLine),We(Ee,"marker.line")&&$e(Ee,ze,et,Be,{prefix:"marker.line.",cLetter:"c"}),Be("marker.line.width"),Be("marker.opacity"),Be("selected.marker.color"),Be("unselected.marker.color")}},9112:function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("9bf2"),$e=Be("5c6c");Ee.exports=Ue?function(Ee,ze,Be){return We.f(Ee,ze,$e(1,Be))}:function(Ee,ze,Be){return Ee[ze]=Be,Ee}},"911e":function(Ee,ze,Be){var Ue=Be("48c2");Ee.exports=function addLineNumbers(Ee,ze,Be){ze="number"==typeof ze?ze:1,Be=Be||": ";var We=Ee.split(/\r?\n/),$e=String(We.length+ze-1).length;return We.map((function(Ee,We){var Qe=We+ze,et=String(Qe).length;return Ue(Qe,$e-et)+Be+Ee})).join("\n")}},"913b":function(Ee,ze){Ee.exports=function normalize(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=Be*Be+Ue*Ue+We*We;$e>0&&($e=1/Math.sqrt($e),Ee[0]=ze[0]*$e,Ee[1]=ze[1]*$e,Ee[2]=ze[2]*$e);return Ee}},9143:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3fe8"),$e=Be("6657");function handleDirection(Ee,ze,Be,Ue){Be(Ue+".line.color"),Be(Ue+".line.width",ze.line.width),Be(Ue+".line.dash",ze.line.dash)}Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}We(Ee,ze,coerce,Qe)?(coerce("line.width"),coerce("line.dash"),handleDirection(Ee,ze,coerce,"increasing"),handleDirection(Ee,ze,coerce,"decreasing"),coerce("text"),coerce("hovertext"),coerce("tickwidth"),Qe._requestRangeslider[ze.xaxis]=!0):ze.visible=!1}},9152:function(Ee,ze){ze.read=function(Ee,ze,Be,Ue,We){var $e,Qe,et=8*We-Ue-1,tt=(1<<et)-1,rt=tt>>1,nt=-7,at=Be?We-1:0,it=Be?-1:1,ct=Ee[ze+at];for(at+=it,$e=ct&(1<<-nt)-1,ct>>=-nt,nt+=et;nt>0;$e=256*$e+Ee[ze+at],at+=it,nt-=8);for(Qe=$e&(1<<-nt)-1,$e>>=-nt,nt+=Ue;nt>0;Qe=256*Qe+Ee[ze+at],at+=it,nt-=8);if(0===$e)$e=1-rt;else{if($e===tt)return Qe?NaN:1/0*(ct?-1:1);Qe+=Math.pow(2,Ue),$e-=rt}return(ct?-1:1)*Qe*Math.pow(2,$e-Ue)},ze.write=function(Ee,ze,Be,Ue,We,$e){var Qe,et,tt,rt=8*$e-We-1,nt=(1<<rt)-1,at=nt>>1,it=23===We?Math.pow(2,-24)-Math.pow(2,-77):0,ct=Ue?0:$e-1,ft=Ue?1:-1,xt=ze<0||0===ze&&1/ze<0?1:0;for(ze=Math.abs(ze),isNaN(ze)||ze===1/0?(et=isNaN(ze)?1:0,Qe=nt):(Qe=Math.floor(Math.log(ze)/Math.LN2),ze*(tt=Math.pow(2,-Qe))<1&&(Qe--,tt*=2),(ze+=Qe+at>=1?it/tt:it*Math.pow(2,1-at))*tt>=2&&(Qe++,tt/=2),Qe+at>=nt?(et=0,Qe=nt):Qe+at>=1?(et=(ze*tt-1)*Math.pow(2,We),Qe+=at):(et=ze*Math.pow(2,at-1)*Math.pow(2,We),Qe=0));We>=8;Ee[Be+ct]=255&et,ct+=ft,et/=256,We-=8);for(Qe=Qe<<We|et,rt+=We;rt>0;Ee[Be+ct]=255&Qe,ct+=ft,Qe/=256,rt-=8);Ee[Be+ct-ft]|=128*xt}},"919e":function(Ee,ze,Be){"use strict";var Ue=Be("a876"),We=Be("81f0").attributes,$e=Be("9845"),Qe=Be("dfb3"),et=Be("94d5").hovertemplateAttrs,tt=Be("94d5").texttemplateAttrs,rt=Be("9092").extendFlat,nt=$e({editType:"plot",arrayOk:!0,colorEditType:"plot"});Ee.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:Qe.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:rt({},Ue.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:et({},{keys:["label","color","value","percent","text"]}),texttemplate:tt({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:rt({},nt,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:rt({},nt,{}),outsidetextfont:rt({},nt,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:rt({},nt,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:We({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:rt({},nt,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},"91ae":function(Ee,ze,Be){Ee.exports=Be("e13b")},"91b8":function(Ee,ze,Be){"use strict";Ee.exports=function mouseListen(Ee,ze){ze||(ze=Ee,Ee=window);var Be=0,We=0,$e=0,Qe={shift:!1,alt:!1,control:!1,meta:!1},et=!1;function updateMods(Ee){var ze=!1;return"altKey"in Ee&&(ze=ze||Ee.altKey!==Qe.alt,Qe.alt=!!Ee.altKey),"shiftKey"in Ee&&(ze=ze||Ee.shiftKey!==Qe.shift,Qe.shift=!!Ee.shiftKey),"ctrlKey"in Ee&&(ze=ze||Ee.ctrlKey!==Qe.control,Qe.control=!!Ee.ctrlKey),"metaKey"in Ee&&(ze=ze||Ee.metaKey!==Qe.meta,Qe.meta=!!Ee.metaKey),ze}function handleEvent(Ee,et){var tt=Ue.x(et),rt=Ue.y(et);"buttons"in et&&(Ee=0|et.buttons),(Ee!==Be||tt!==We||rt!==$e||updateMods(et))&&(Be=0|Ee,We=tt||0,$e=rt||0,ze&&ze(Be,We,$e,Qe))}function clearState(Ee){handleEvent(0,Ee)}function handleBlur(){(Be||We||$e||Qe.shift||Qe.alt||Qe.meta||Qe.control)&&(We=$e=0,Be=0,Qe.shift=Qe.alt=Qe.control=Qe.meta=!1,ze&&ze(0,0,0,Qe))}function handleMods(Ee){updateMods(Ee)&&ze&&ze(Be,We,$e,Qe)}function handleMouseMove(Ee){0===Ue.buttons(Ee)?handleEvent(0,Ee):handleEvent(Be,Ee)}function handleMouseDown(Ee){handleEvent(Be|Ue.buttons(Ee),Ee)}function handleMouseUp(Ee){handleEvent(Be&~Ue.buttons(Ee),Ee)}function attachListeners(){et||(et=!0,Ee.addEventListener("mousemove",handleMouseMove),Ee.addEventListener("mousedown",handleMouseDown),Ee.addEventListener("mouseup",handleMouseUp),Ee.addEventListener("mouseleave",clearState),Ee.addEventListener("mouseenter",clearState),Ee.addEventListener("mouseout",clearState),Ee.addEventListener("mouseover",clearState),Ee.addEventListener("blur",handleBlur),Ee.addEventListener("keyup",handleMods),Ee.addEventListener("keydown",handleMods),Ee.addEventListener("keypress",handleMods),Ee!==window&&(window.addEventListener("blur",handleBlur),window.addEventListener("keyup",handleMods),window.addEventListener("keydown",handleMods),window.addEventListener("keypress",handleMods)))}attachListeners();var tt={element:Ee};return Object.defineProperties(tt,{enabled:{get:function(){return et},set:function(ze){ze?attachListeners():function detachListeners(){if(!et)return;et=!1,Ee.removeEventListener("mousemove",handleMouseMove),Ee.removeEventListener("mousedown",handleMouseDown),Ee.removeEventListener("mouseup",handleMouseUp),Ee.removeEventListener("mouseleave",clearState),Ee.removeEventListener("mouseenter",clearState),Ee.removeEventListener("mouseout",clearState),Ee.removeEventListener("mouseover",clearState),Ee.removeEventListener("blur",handleBlur),Ee.removeEventListener("keyup",handleMods),Ee.removeEventListener("keydown",handleMods),Ee.removeEventListener("keypress",handleMods),Ee!==window&&(window.removeEventListener("blur",handleBlur),window.removeEventListener("keyup",handleMods),window.removeEventListener("keydown",handleMods),window.removeEventListener("keypress",handleMods))}()},enumerable:!0},buttons:{get:function(){return Be},enumerable:!0},x:{get:function(){return We},enumerable:!0},y:{get:function(){return $e},enumerable:!0},mods:{get:function(){return Qe},enumerable:!0}}),tt};var Ue=Be("5cf9")},"91cd":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("fc26"),Qe=Be("bb71"),et=Be("83d1"),tt=Be("ad62").getModuleCalcData,rt=Be("3c1c"),nt=Be("d301"),at=Be("73c9"),it=$e.ensureSingle;function ensureSingleAndAddDatum(Ee,ze,Be){return $e.ensureSingle(Ee,ze,Be,(function(Ee){Ee.datum(Be)}))}function plotOne(Ee,ze,Be,$e,Qe){for(var rt,at,it,ct=nt.traceLayerClasses,ft=Ee._fullLayout,xt=ft._modules,kt=[],Lt=[],Ut=0;Ut<xt.length;Ut++){var er=(rt=xt[Ut]).name,tr=We.modules[er].categories;if(tr.svg){var rr=rt.layerName||er+"layer",ar=rt.plot;it=(at=tt(Be,ar))[0],Be=at[1],it.length&&kt.push({i:ct.indexOf(rr),className:rr,plotMethod:ar,cdModule:it}),tr.zoomScale&&Lt.push("."+rr)}}kt.sort((function(Ee,ze){return Ee.i-ze.i}));var Lr=ze.plot.selectAll("g.mlayer").data(kt,(function(Ee){return Ee.className}));if(Lr.enter().append("g").attr("class",(function(Ee){return Ee.className})).classed("mlayer",!0).classed("rangeplot",ze.isRangePlot),Lr.exit().remove(),Lr.order(),Lr.each((function(Be){var We=Ue.select(this),tt=Be.className;Be.plotMethod(Ee,ze,Be.cdModule,We,$e,Qe),-1===nt.clipOnAxisFalseQuery.indexOf("."+tt)&&et.setClipUrl(We,ze.layerClipId,Ee)})),ft._has("scattergl")&&(rt=We.getModule("scattergl"),it=tt(Be,rt)[0],rt.plot(Ee,ze,it)),!Ee._context.staticPlot&&(ze._hasClipOnAxisFalse&&(ze.clipOnAxisFalseTraces=ze.plot.selectAll(nt.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),Lt.length)){var Qr=ze.plot.selectAll(Lt.join(",")).selectAll(".trace");ze.zoomScalePts=Qr.selectAll("path.point"),ze.zoomScaleTxt=Qr.selectAll(".textpoint")}}function makeSubplotLayer(Ee,ze){var Be=ze.plotgroup,Ue=ze.id,We=nt.layerValue2layerClass[ze.xaxis.layer],$e=nt.layerValue2layerClass[ze.yaxis.layer],Qe=Ee._fullLayout._hasOnlyLargeSploms;if(ze.mainplot){var et=ze.mainplotinfo,tt=et.plotgroup,at=Ue+"-x",ct=Ue+"-y";ze.gridlayer=et.gridlayer,ze.zerolinelayer=et.zerolinelayer,it(et.overlinesBelow,"path",at),it(et.overlinesBelow,"path",ct),it(et.overaxesBelow,"g",at),it(et.overaxesBelow,"g",ct),ze.plot=it(et.overplot,"g",Ue),it(et.overlinesAbove,"path",at),it(et.overlinesAbove,"path",ct),it(et.overaxesAbove,"g",at),it(et.overaxesAbove,"g",ct),ze.xlines=tt.select(".overlines-"+We).select("."+at),ze.ylines=tt.select(".overlines-"+$e).select("."+ct),ze.xaxislayer=tt.select(".overaxes-"+We).select("."+at),ze.yaxislayer=tt.select(".overaxes-"+$e).select("."+ct)}else if(Qe)ze.xlines=it(Be,"path","xlines-above"),ze.ylines=it(Be,"path","ylines-above"),ze.xaxislayer=it(Be,"g","xaxislayer-above"),ze.yaxislayer=it(Be,"g","yaxislayer-above");else{var ft=it(Be,"g","layer-subplot");ze.shapelayer=it(ft,"g","shapelayer"),ze.imagelayer=it(ft,"g","imagelayer"),ze.gridlayer=it(Be,"g","gridlayer"),ze.zerolinelayer=it(Be,"g","zerolinelayer"),it(Be,"path","xlines-below"),it(Be,"path","ylines-below"),ze.overlinesBelow=it(Be,"g","overlines-below"),it(Be,"g","xaxislayer-below"),it(Be,"g","yaxislayer-below"),ze.overaxesBelow=it(Be,"g","overaxes-below"),ze.plot=it(Be,"g","plot"),ze.overplot=it(Be,"g","overplot"),ze.xlines=it(Be,"path","xlines-above"),ze.ylines=it(Be,"path","ylines-above"),ze.overlinesAbove=it(Be,"g","overlines-above"),it(Be,"g","xaxislayer-above"),it(Be,"g","yaxislayer-above"),ze.overaxesAbove=it(Be,"g","overaxes-above"),ze.xlines=Be.select(".xlines-"+We),ze.ylines=Be.select(".ylines-"+$e),ze.xaxislayer=Be.select(".xaxislayer-"+We),ze.yaxislayer=Be.select(".yaxislayer-"+$e)}Qe||(ensureSingleAndAddDatum(ze.gridlayer,"g",ze.xaxis._id),ensureSingleAndAddDatum(ze.gridlayer,"g",ze.yaxis._id),ze.gridlayer.selectAll("g").map((function(Ee){return Ee[0]})).sort(rt.idSort)),ze.xlines.style("fill","none").classed("crisp",!0),ze.ylines.style("fill","none").classed("crisp",!0)}function purgeSubplotLayers(Ee,ze){if(Ee){var Be={};for(var We in Ee.each((function(Ee){var We=Ee[0];Ue.select(this).remove(),removeSubplotExtras(We,ze),Be[We]=!0})),ze._plots)for(var $e=ze._plots[We].overlays||[],Qe=0;Qe<$e.length;Qe++){var et=$e[Qe];Be[et.id]&&et.plot.selectAll(".trace").remove()}}}function removeSubplotExtras(Ee,ze){ze._draggers.selectAll("g."+Ee).remove(),ze._defs.select("#clip"+ze._uid+Ee+"plot").remove()}ze.name="cartesian",ze.attr=["xaxis","yaxis"],ze.idRoot=["x","y"],ze.idRegex=nt.idRegex,ze.attrRegex=nt.attrRegex,ze.attributes=Be("3ff7"),ze.layoutAttributes=Be("d798"),ze.supplyLayoutDefaults=Be("8378"),ze.transitionAxes=Be("0446"),ze.finalizeSubplots=function(Ee,ze){var Be,Ue,We,Qe=ze._subplots,et=Qe.xaxis,tt=Qe.yaxis,at=Qe.cartesian,it=at.concat(Qe.gl2d||[]),ct={},ft={};for(Be=0;Be<it.length;Be++){var xt=it[Be].split("y");ct[xt[0]]=1,ft["y"+xt[1]]=1}for(Be=0;Be<et.length;Be++)ct[Ue=et[Be]]||(We=(Ee[rt.id2name(Ue)]||{}).anchor,nt.idRegex.y.test(We)||(We="y"),at.push(Ue+We),it.push(Ue+We),ft[We]||(ft[We]=1,$e.pushUnique(tt,We)));for(Be=0;Be<tt.length;Be++)ft[We=tt[Be]]||(Ue=(Ee[rt.id2name(We)]||{}).anchor,nt.idRegex.x.test(Ue)||(Ue="x"),at.push(Ue+We),it.push(Ue+We),ct[Ue]||(ct[Ue]=1,$e.pushUnique(et,Ue)));if(!it.length){for(var kt in Ue="",We="",Ee){if(nt.attrRegex.test(kt))"x"===kt.charAt(0)?(!Ue||+kt.substr(5)<+Ue.substr(5))&&(Ue=kt):(!We||+kt.substr(5)<+We.substr(5))&&(We=kt)}Ue=Ue?rt.name2id(Ue):"x",We=We?rt.name2id(We):"y",et.push(Ue),tt.push(We),at.push(Ue+We)}},ze.plot=function(Ee,ze,Be,Ue){var We,$e=Ee._fullLayout,Qe=$e._subplots.cartesian,et=Ee.calcdata;if(!Array.isArray(ze))for(ze=[],We=0;We<et.length;We++)ze.push(We);for(We=0;We<Qe.length;We++){for(var tt,rt=Qe[We],nt=$e._plots[rt],at=[],it=0;it<et.length;it++){var ct=et[it],ft=ct[0].trace;ft.xaxis+ft.yaxis===rt&&((-1!==ze.indexOf(ft.index)||ft.carpet)&&(tt&&tt[0].trace.xaxis+tt[0].trace.yaxis===rt&&-1!==["tonextx","tonexty","tonext"].indexOf(ft.fill)&&-1===at.indexOf(tt)&&at.push(tt),at.push(ct)),tt=ct)}plotOne(Ee,nt,at,Be,Ue)}},ze.clean=function(Ee,ze,Be,Ue){var We,$e,Qe,et=Ue._plots||{},tt=ze._plots||{},nt=Ue._subplots||{};if(Ue._hasOnlyLargeSploms&&!ze._hasOnlyLargeSploms)for(Qe in et)(We=et[Qe]).plotgroup&&We.plotgroup.remove();var at=Ue._has&&Ue._has("gl"),it=ze._has&&ze._has("gl");if(at&&!it)for(Qe in et)(We=et[Qe])._scene&&We._scene.destroy();if(nt.xaxis&&nt.yaxis){var ct=rt.listIds({_fullLayout:Ue});for($e=0;$e<ct.length;$e++){var ft=ct[$e];ze[rt.id2name(ft)]||Ue._infolayer.selectAll(".g-"+ft+"title").remove()}}var xt=Ue._has&&Ue._has("cartesian"),kt=ze._has&&ze._has("cartesian");if(xt&&!kt)purgeSubplotLayers(Ue._cartesianlayer.selectAll(".subplot"),Ue),Ue._defs.selectAll(".axesclip").remove(),delete Ue._axisConstraintGroups;else if(nt.cartesian)for($e=0;$e<nt.cartesian.length;$e++){var Lt=nt.cartesian[$e];if(!tt[Lt]){var Ut="."+Lt+",."+Lt+"-x,."+Lt+"-y";Ue._cartesianlayer.selectAll(Ut).remove(),removeSubplotExtras(Lt,Ue)}}},ze.drawFramework=function(Ee){var ze=Ee._fullLayout,Be=function makeSubplotData(Ee){var ze,Be,Ue,We,$e,Qe,et=Ee._fullLayout,tt=et._subplots.cartesian,rt=tt.length,nt=[],at=[];for(ze=0;ze<rt;ze++){Ue=tt[ze],We=et._plots[Ue],$e=We.xaxis,Qe=We.yaxis;var it=$e._mainAxis,ct=Qe._mainAxis,ft=it._id+ct._id,xt=et._plots[ft];We.overlays=[],ft!==Ue&&xt?(We.mainplot=ft,We.mainplotinfo=xt,at.push(Ue)):(We.mainplot=void 0,We.mainPlotinfo=void 0,nt.push(Ue))}for(ze=0;ze<at.length;ze++)Ue=at[ze],(We=et._plots[Ue]).mainplotinfo.overlays.push(We);var kt=nt.concat(at),Lt=new Array(rt);for(ze=0;ze<rt;ze++){Ue=kt[ze],We=et._plots[Ue],$e=We.xaxis,Qe=We.yaxis;var Ut=[Ue,$e.layer,Qe.layer,$e.overlaying||"",Qe.overlaying||""];for(Be=0;Be<We.overlays.length;Be++)Ut.push(We.overlays[Be].id);Lt[ze]=Ut}return Lt}(Ee),We=ze._cartesianlayer.selectAll(".subplot").data(Be,String);We.enter().append("g").attr("class",(function(Ee){return"subplot "+Ee[0]})),We.order(),We.exit().call(purgeSubplotLayers,ze),We.each((function(Be){var We=Be[0],$e=ze._plots[We];$e.plotgroup=Ue.select(this),makeSubplotLayer(Ee,$e),$e.draglayer=it(ze._draggers,"g",We)}))},ze.rangePlot=function(Ee,ze,Be){makeSubplotLayer(Ee,ze),plotOne(Ee,ze,Be),Qe.style(Ee)},ze.toSVG=function(Ee){var ze=Ee._fullLayout._glimages,Be=Ue.select(Ee).selectAll(".svg-container");Be.filter((function(Ee,ze){return ze===Be.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function canvasToImage(){var Ee=this.toDataURL("image/png");ze.append("svg:image").attr({xmlns:at.svg,"xlink:href":Ee,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})}))},ze.updateFx=Be("1aea").updateFx},"91ce":function(Ee,ze,Be){"use strict";Ee.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},"91e1":function(Ee,ze,Be){"use strict";var Ue=Be("a026"),We=Be("0dd1");Ee.exports=function robustProduct(Ee,ze){if(1===Ee.length)return We(ze,Ee[0]);if(1===ze.length)return We(Ee,ze[0]);if(0===Ee.length||0===ze.length)return[0];var Be=[0];if(Ee.length<ze.length)for(var $e=0;$e<Ee.length;++$e)Be=Ue(Be,We(ze,Ee[$e]));else for($e=0;$e<ze.length;++$e)Be=Ue(Be,We(Ee,ze[$e]));return Be}},"91e3":function(Ee,ze,Be){"use strict";var Ue=Be("e9bd"),We=Be("62c4"),$e=Be("692b"),Qe=Be("1c4a").iterator,et=Array.isArray;Ee.exports=function(Ee){return!!We(Ee)&&(!!et(Ee)||(!!$e(Ee)||(!!Ue(Ee)||"function"==typeof Ee[Qe])))}},9236:function(Ee,ze,Be){"use strict";var Ue=Be("d6fb"),We=Be("0642").hoverLabelText;Ee.exports=function hoverPoints(Ee,ze,Be,$e,Qe,et){var tt=Ue(Ee,ze,Be,$e,Qe,et);if(tt){var rt=(Ee=tt[0]).index,nt=rt[0],at=rt[1],it=Ee.cd[0],ct=it.xRanges[at],ft=it.yRanges[nt];return Ee.xLabel=We(Ee.xa,ct[0],ct[1]),Ee.yLabel=We(Ee.ya,ft[0],ft[1]),tt}}},9263:function(Ee,ze,Be){"use strict";var Ue,We,$e=Be("ad6d"),Qe=Be("9f7f"),et=RegExp.prototype.exec,tt=String.prototype.replace,rt=et,nt=(Ue=/a/,We=/b*/g,et.call(Ue,"a"),et.call(We,"a"),0!==Ue.lastIndex||0!==We.lastIndex),at=Qe.UNSUPPORTED_Y||Qe.BROKEN_CARET,it=void 0!==/()??/.exec("")[1];(nt||it||at)&&(rt=function exec(Ee){var ze,Be,Ue,We,Qe=this,rt=at&&Qe.sticky,ct=$e.call(Qe),ft=Qe.source,xt=0,kt=Ee;return rt&&(-1===(ct=ct.replace("y","")).indexOf("g")&&(ct+="g"),kt=String(Ee).slice(Qe.lastIndex),Qe.lastIndex>0&&(!Qe.multiline||Qe.multiline&&"\n"!==Ee[Qe.lastIndex-1])&&(ft="(?: "+ft+")",kt=" "+kt,xt++),Be=new RegExp("^(?:"+ft+")",ct)),it&&(Be=new RegExp("^"+ft+"$(?!\\s)",ct)),nt&&(ze=Qe.lastIndex),Ue=et.call(rt?Be:Qe,kt),rt?Ue?(Ue.input=Ue.input.slice(xt),Ue[0]=Ue[0].slice(xt),Ue.index=Qe.lastIndex,Qe.lastIndex+=Ue[0].length):Qe.lastIndex=0:nt&&Ue&&(Qe.lastIndex=Qe.global?Ue.index+Ue[0].length:ze),it&&Ue&&Ue.length>1&&tt.call(Ue[0],Be,(function(){for(We=1;We<arguments.length-2;We++)void 0===arguments[We]&&(Ue[We]=void 0)})),Ue}),Ee.exports=rt},"927d":function(Ee,ze,Be){"use strict";var Ue=Be("7fb7"),We=Be("9845")({editType:"none"});We.family.dflt=Ue.HOVERFONT,We.size.dflt=Ue.HOVERFONTSIZE,Ee.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:We,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},"92ba":function(Ee,ze,Be){"use strict";var Ue=Be("c01c"),We=Be("a026"),$e=Be("0dd1"),Qe=Be("e100");function cofactor(Ee,ze){for(var Be=new Array(Ee.length-1),Ue=1;Ue<Ee.length;++Ue)for(var We=Be[Ue-1]=new Array(Ee.length-1),$e=0,Qe=0;$e<Ee.length;++$e)$e!==ze&&(We[Qe++]=Ee[Ue][$e]);return Be}function generateSum(Ee){if(1===Ee.length)return Ee[0];if(2===Ee.length)return["sum(",Ee[0],",",Ee[1],")"].join("");var ze=Ee.length>>1;return["sum(",generateSum(Ee.slice(0,ze)),",",generateSum(Ee.slice(ze)),")"].join("")}function determinant(Ee){if(2===Ee.length)return[["sum(prod(",Ee[0][0],",",Ee[1][1],"),prod(-",Ee[0][1],",",Ee[1][0],"))"].join("")];for(var ze=[],Be=0;Be<Ee.length;++Be)ze.push(["scale(",generateSum(determinant(cofactor(Ee,Be))),",",(Ue=Be,1&Ue?"-":""),Ee[0][Be],")"].join(""));return ze;var Ue}function orientation(Ee){for(var ze=[],Be=[],et=function matrix(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be){ze[Be]=new Array(Ee);for(var Ue=0;Ue<Ee;++Ue)ze[Be][Ue]=["m",Ue,"[",Ee-Be-1,"]"].join("")}return ze}(Ee),tt=[],rt=0;rt<Ee;++rt)0==(1&rt)?ze.push.apply(ze,determinant(cofactor(et,rt))):Be.push.apply(Be,determinant(cofactor(et,rt))),tt.push("m"+rt);var nt=generateSum(ze),at=generateSum(Be),it="orientation"+Ee+"Exact",ct=["function ",it,"(",tt.join(),"){var p=",nt,",n=",at,",d=sub(p,n);return d[d.length-1];};return ",it].join("");return new Function("sum","prod","scale","sub",ct)(We,Ue,$e,Qe)}var et=orientation(3),tt=orientation(4),rt=[function orientation0(){return 0},function orientation1(){return 0},function orientation2(Ee,ze){return ze[0]-Ee[0]},function orientation3(Ee,ze,Be){var Ue,We=(Ee[1]-Be[1])*(ze[0]-Be[0]),$e=(Ee[0]-Be[0])*(ze[1]-Be[1]),Qe=We-$e;if(We>0){if($e<=0)return Qe;Ue=We+$e}else{if(!(We<0))return Qe;if($e>=0)return Qe;Ue=-(We+$e)}var tt=33306690738754716e-32*Ue;return Qe>=tt||Qe<=-tt?Qe:et(Ee,ze,Be)},function orientation4(Ee,ze,Be,Ue){var We=Ee[0]-Ue[0],$e=ze[0]-Ue[0],Qe=Be[0]-Ue[0],et=Ee[1]-Ue[1],rt=ze[1]-Ue[1],nt=Be[1]-Ue[1],at=Ee[2]-Ue[2],it=ze[2]-Ue[2],ct=Be[2]-Ue[2],ft=$e*nt,xt=Qe*rt,kt=Qe*et,Lt=We*nt,Ut=We*rt,er=$e*et,tr=at*(ft-xt)+it*(kt-Lt)+ct*(Ut-er),rr=7771561172376103e-31*((Math.abs(ft)+Math.abs(xt))*Math.abs(at)+(Math.abs(kt)+Math.abs(Lt))*Math.abs(it)+(Math.abs(Ut)+Math.abs(er))*Math.abs(ct));return tr>rr||-tr>rr?tr:tt(Ee,ze,Be,Ue)}];function slowOrient(Ee){var ze=rt[Ee.length];return ze||(ze=rt[Ee.length]=orientation(Ee.length)),ze.apply(void 0,Ee)}!function generateOrientationProc(){for(;rt.length<=5;)rt.push(orientation(rt.length));for(var ze=[],Be=["slow"],Ue=0;Ue<=5;++Ue)ze.push("a"+Ue),Be.push("o"+Ue);var We=["function getOrientation(",ze.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(Ue=2;Ue<=5;++Ue)We.push("case ",Ue,":return o",Ue,"(",ze.slice(0,Ue).join(),");");We.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),Be.push(We.join(""));var $e=Function.apply(void 0,Be);for(Ee.exports=$e.apply(void 0,[slowOrient].concat(rt)),Ue=0;Ue<=5;++Ue)Ee.exports[Ue]=rt[Ue]}()},9343:function(Ee,ze){Ee.exports=function invert(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=ze[4],et=ze[5],tt=ze[6],rt=ze[7],nt=ze[8],at=ze[9],it=ze[10],ct=ze[11],ft=ze[12],xt=ze[13],kt=ze[14],Lt=ze[15],Ut=Be*et-Ue*Qe,er=Be*tt-We*Qe,tr=Be*rt-$e*Qe,rr=Ue*tt-We*et,ar=Ue*rt-$e*et,Lr=We*rt-$e*tt,Qr=nt*xt-at*ft,on=nt*kt-it*ft,sn=nt*Lt-ct*ft,ln=at*kt-it*xt,cn=at*Lt-ct*xt,un=it*Lt-ct*kt,hn=Ut*un-er*cn+tr*ln+rr*sn-ar*on+Lr*Qr;if(!hn)return null;return hn=1/hn,Ee[0]=(et*un-tt*cn+rt*ln)*hn,Ee[1]=(We*cn-Ue*un-$e*ln)*hn,Ee[2]=(xt*Lr-kt*ar+Lt*rr)*hn,Ee[3]=(it*ar-at*Lr-ct*rr)*hn,Ee[4]=(tt*sn-Qe*un-rt*on)*hn,Ee[5]=(Be*un-We*sn+$e*on)*hn,Ee[6]=(kt*tr-ft*Lr-Lt*er)*hn,Ee[7]=(nt*Lr-it*tr+ct*er)*hn,Ee[8]=(Qe*cn-et*sn+rt*Qr)*hn,Ee[9]=(Ue*sn-Be*cn-$e*Qr)*hn,Ee[10]=(ft*ar-xt*tr+Lt*Ut)*hn,Ee[11]=(at*tr-nt*ar-ct*Ut)*hn,Ee[12]=(et*on-Qe*ln-tt*Qr)*hn,Ee[13]=(Be*ln-Ue*on+We*Qr)*hn,Ee[14]=(xt*er-ft*rr-kt*Ut)*hn,Ee[15]=(nt*rr-at*er+it*Ut)*hn,Ee}},9351:function(Ee,ze,Be){"use strict";Ee.exports=function createCamera(Ee,ze){Ee=Ee||document.body,ze=ze||{};var Be=[.01,1/0];"distanceLimits"in ze&&(Be[0]=ze.distanceLimits[0],Be[1]=ze.distanceLimits[1]);"zoomMin"in ze&&(Be[0]=ze.zoomMin);"zoomMax"in ze&&(Be[1]=ze.zoomMax);var rt=We({center:ze.center||[0,0,0],up:ze.up||[0,1,0],eye:ze.eye||[0,0,10],mode:ze.mode||"orbit",distanceLimits:Be}),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],at=0,it=Ee.clientWidth,ct=Ee.clientHeight,ft={keyBindingMode:"rotate",enableWheel:!0,view:rt,element:Ee,delay:ze.delay||16,rotateSpeed:ze.rotateSpeed||1,zoomSpeed:ze.zoomSpeed||1,translateSpeed:ze.translateSpeed||1,flipX:!!ze.flipX,flipY:!!ze.flipY,modes:rt.modes,_ortho:ze._ortho||ze.projection&&"orthographic"===ze.projection.type||!1,tick:function(){var ze=Ue(),Be=this.delay,We=ze-2*Be;rt.idle(ze-Be),rt.recalcMatrix(We),rt.flush(ze-(100+2*Be));for(var $e=!0,Qe=rt.computedMatrix,et=0;et<16;++et)$e=$e&&nt[et]===Qe[et],nt[et]=Qe[et];var tt=Ee.clientWidth===it&&Ee.clientHeight===ct;return it=Ee.clientWidth,ct=Ee.clientHeight,$e?!tt:(at=Math.exp(rt.computedRadius[0]),!0)},lookAt:function(Ee,ze,Be){rt.lookAt(rt.lastT(),Ee,ze,Be)},rotate:function(Ee,ze,Be){rt.rotate(rt.lastT(),Ee,ze,Be)},pan:function(Ee,ze,Be){rt.pan(rt.lastT(),Ee,ze,Be)},translate:function(Ee,ze,Be){rt.translate(rt.lastT(),Ee,ze,Be)}};return Object.defineProperties(ft,{matrix:{get:function(){return rt.computedMatrix},set:function(Ee){return rt.setMatrix(rt.lastT(),Ee),rt.computedMatrix},enumerable:!0},mode:{get:function(){return rt.getMode()},set:function(Ee){var ze=rt.computedUp.slice(),Be=rt.computedEye.slice(),We=rt.computedCenter.slice();if(rt.setMode(Ee),"turntable"===Ee){var $e=Ue();rt._active.lookAt($e,Be,We,ze),rt._active.lookAt($e+500,Be,We,[0,0,1]),rt._active.flush($e)}return rt.getMode()},enumerable:!0},center:{get:function(){return rt.computedCenter},set:function(Ee){return rt.lookAt(rt.lastT(),null,Ee),rt.computedCenter},enumerable:!0},eye:{get:function(){return rt.computedEye},set:function(Ee){return rt.lookAt(rt.lastT(),Ee),rt.computedEye},enumerable:!0},up:{get:function(){return rt.computedUp},set:function(Ee){return rt.lookAt(rt.lastT(),null,null,Ee),rt.computedUp},enumerable:!0},distance:{get:function(){return at},set:function(Ee){return rt.setDistance(rt.lastT(),Ee),Ee},enumerable:!0},distanceLimits:{get:function(){return rt.getDistanceLimits(Be)},set:function(Ee){return rt.setDistanceLimits(Ee),Ee},enumerable:!0}}),Ee.addEventListener("contextmenu",(function(Ee){return Ee.preventDefault(),!1})),ft._lastX=-1,ft._lastY=-1,ft._lastMods={shift:!1,control:!1,alt:!1,meta:!1},ft.enableMouseListeners=function(){function handleInteraction(ze,Be,We,$e){var Qe=ft.keyBindingMode;if(!1!==Qe){var et="rotate"===Qe,tt="pan"===Qe,nt="zoom"===Qe,it=!!$e.control,ct=!!$e.alt,xt=!!$e.shift,kt=!!(1&ze),Lt=!!(2&ze),Ut=!!(4&ze),er=1/Ee.clientHeight,tr=er*(Be-ft._lastX),rr=er*(We-ft._lastY),ar=ft.flipX?1:-1,Lr=ft.flipY?1:-1,Qr=Math.PI*ft.rotateSpeed,on=Ue();if(-1!==ft._lastX&&-1!==ft._lastY&&((et&&kt&&!it&&!ct&&!xt||kt&&!it&&!ct&&xt)&&rt.rotate(on,ar*Qr*tr,-Lr*Qr*rr,0),(tt&&kt&&!it&&!ct&&!xt||Lt||kt&&it&&!ct&&!xt)&&rt.pan(on,-ft.translateSpeed*tr*at,ft.translateSpeed*rr*at,0),nt&&kt&&!it&&!ct&&!xt||Ut||kt&&!it&&ct&&!xt)){var sn=-ft.zoomSpeed*rr/window.innerHeight*(on-rt.lastT())*100;rt.pan(on,0,0,at*(Math.exp(sn)-1))}return ft._lastX=Be,ft._lastY=We,ft._lastMods=$e,!0}}ft.mouseListener=$e(Ee,handleInteraction),Ee.addEventListener("touchstart",(function(ze){var Be=et(ze.changedTouches[0],Ee);handleInteraction(0,Be[0],Be[1],ft._lastMods),handleInteraction(1,Be[0],Be[1],ft._lastMods),ze.preventDefault()}),!!tt&&{passive:!1}),Ee.addEventListener("touchmove",(function(ze){var Be=et(ze.changedTouches[0],Ee);handleInteraction(1,Be[0],Be[1],ft._lastMods),ze.preventDefault()}),!!tt&&{passive:!1}),Ee.addEventListener("touchend",(function(Ee){handleInteraction(0,ft._lastX,ft._lastY,ft._lastMods),Ee.preventDefault()}),!!tt&&{passive:!1}),ft.wheelListener=Qe(Ee,(function(Ee,ze){if(!1!==ft.keyBindingMode&&ft.enableWheel){var Be=ft.flipX?1:-1,We=ft.flipY?1:-1,$e=Ue();if(Math.abs(Ee)>Math.abs(ze))rt.rotate($e,0,0,-Ee*Be*Math.PI*ft.rotateSpeed/window.innerWidth);else if(!ft._ortho){var Qe=-ft.zoomSpeed*We*ze/window.innerHeight*($e-rt.lastT())/20;rt.pan($e,0,0,at*(Math.exp(Qe)-1))}}}),!0)},ft.enableMouseListeners(),ft};var Ue=Be("8cf2"),We=Be("dfdf"),$e=Be("91b8"),Qe=Be("a5dd"),et=Be("8b98"),tt=Be("1477")},"936a":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){return null!=Ee}},"93a6":function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26");function getMinKey(Ee){return"_"+Ee+"Text_minsize"}Ee.exports={recordMinTextSize:function recordMinTextSize(Ee,ze,Be){if(Be.uniformtext.mode){var Ue=getMinKey(Ee),We=Be.uniformtext.minsize,$e=ze.scale*ze.fontSize;ze.hide=$e<We,Be[Ue]=Be[Ue]||1/0,ze.hide||(Be[Ue]=Math.min(Be[Ue],Math.max($e,We)))}},clearMinTextSize:function clearMinTextSize(Ee,ze){ze[getMinKey(Ee)]=void 0},resizeText:function resizeText(Ee,ze,Be){var $e=Ee._fullLayout,Qe=$e["_"+Be+"Text_minsize"];if(Qe){var et,tt="hide"===$e.uniformtext.mode;switch(Be){case"funnelarea":case"pie":case"sunburst":et="g.slice";break;case"treemap":et="g.slice, g.pathbar";break;default:et="g.points > g.point"}ze.selectAll(et).each((function(Ee){var ze=Ee.transform;ze&&(ze.scale=tt&&ze.hide?0:Qe/ze.fontSize,Ue.select(this).select("text").attr("transform",We.getTextTransform(ze)))}))}}}},"93b9":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("6921"),$e=Be("bb71"),Qe=Be("b1a4").pointsAccessorFunction;function transformOne(Ee,ze){var Be,et,tt,rt,nt,at,it,ct,ft,xt,kt=ze.transform,Lt=ze.transformIndex,Ut=Ee.transforms[Lt].groups,er=Qe(Ee.transforms,kt);if(!Ue.isArrayOrTypedArray(Ut)||0===Ut.length)return[Ee];var tr=Ue.filterUnique(Ut),rr=new Array(tr.length),ar=Ut.length,Lr=We.findArrayAttributes(Ee),Qr=kt.styles||[],on={};for(Be=0;Be<Qr.length;Be++)on[Qr[Be].target]=Qr[Be].value;kt.styles&&(xt=Ue.keyedContainer(kt,"styles","target","value.name"));var sn={},ln={};for(Be=0;Be<tr.length;Be++){sn[at=tr[Be]]=Be,ln[at]=0,(it=rr[Be]=Ue.extendDeepNoArrays({},Ee))._group=at,it.transforms[Lt]._indexToPoints={};var cn=null;for(xt&&(cn=xt.get(at)),it.name=cn||""===cn?cn:Ue.templateString(kt.nameformat,{trace:Ee.name,group:at}),ct=it.transforms,it.transforms=[],et=0;et<ct.length;et++)it.transforms[et]=Ue.extendDeepNoArrays({},ct[et]);for(et=0;et<Lr.length;et++)Ue.nestedProperty(it,Lr[et]).set([])}for(tt=0;tt<Lr.length;tt++){for(rt=Lr[tt],et=0,ft=[];et<tr.length;et++)ft[et]=Ue.nestedProperty(rr[et],rt).get();for(nt=Ue.nestedProperty(Ee,rt).get(),et=0;et<ar;et++)ft[sn[Ut[et]]].push(nt[et])}for(et=0;et<ar;et++){(it=rr[sn[Ut[et]]]).transforms[Lt]._indexToPoints[ln[Ut[et]]]=er(et),ln[Ut[et]]++}for(Be=0;Be<tr.length;Be++)at=tr[Be],it=rr[Be],$e.clearExpandedTraceDefaultColors(it),it=Ue.extendDeepNoArrays(it,on[at]||{});return rr}ze.moduleType="transform",ze.name="groupby",ze.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},ze.supplyDefaults=function(Ee,Be,We){var $e,Qe={};function coerce(Be,We){return Ue.coerce(Ee,Qe,ze.attributes,Be,We)}if(!coerce("enabled"))return Qe;coerce("groups"),coerce("nameformat",We._dataLength>1?"%{group} (%{trace})":"%{group}");var et=Ee.styles,tt=Qe.styles=[];if(et)for($e=0;$e<et.length;$e++){var rt=tt[$e]={};Ue.coerce(et[$e],tt[$e],ze.attributes.styles,"target");var nt=Ue.coerce(et[$e],tt[$e],ze.attributes.styles,"value");Ue.isPlainObject(nt)?rt.value=Ue.extendDeep({},nt):nt&&delete rt.value}return Qe},ze.transform=function(Ee,ze){var Be,Ue,We,$e=[];for(Ue=0;Ue<Ee.length;Ue++)for(Be=transformOne(Ee[Ue],ze),We=0;We<Be.length;We++)$e.push(Be[We]);return $e}},"941b":function(Ee,ze,Be){"use strict";var Ue=Be("4991"),We=Be("8784"),$e=Be("0005");Ee.exports=function reduceCellComplex(Ee){Ee.sort(We);for(var ze=Ee.length,Be=0,Qe=0;Qe<ze;++Qe){var et=Ee[Qe],tt=$e(et);if(0!==tt){if(Be>0){var rt=Ee[Be-1];if(0===Ue(et,rt)&&$e(rt)!==tt){Be-=1;continue}}Ee[Be++]=et}}return Ee.length=Be,Ee}},"94ca":function(Ee,ze,Be){var Ue=Be("d039"),We=/#|\.prototype\./,isForced=function(Ee,ze){var Be=Qe[$e(Ee)];return Be==tt||Be!=et&&("function"==typeof ze?Ue(ze):!!ze)},$e=isForced.normalize=function(Ee){return String(Ee).replace(We,".").toLowerCase()},Qe=isForced.data={},et=isForced.NATIVE="N",tt=isForced.POLYFILL="P";Ee.exports=isForced},"94d5":function(Ee,ze,Be){"use strict";['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',Be("78df").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',Be("78df").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" ");function describeVariables(Ee){var ze=Ee.description?" "+Ee.description:"",Be=Ee.keys||[];if(Be.length>0){for(var Ue=[],We=0;We<Be.length;We++)Ue[We]="`"+Be[We]+"`";ze+="Finally, the template string has access to ",ze=1===Be.length?"variable "+Ue[0]:"variables "+Ue.slice(0,-1).join(", ")+" and "+Ue.slice(-1)+"."}return ze}ze.hovertemplateAttrs=function(Ee,ze){Ee=Ee||{};describeVariables(ze=ze||{});var Be={valType:"string",dflt:"",editType:Ee.editType||"none"};return!1!==Ee.arrayOk&&(Be.arrayOk=!0),Be},ze.texttemplateAttrs=function(Ee,ze){Ee=Ee||{};describeVariables(ze=ze||{});var Be={valType:"string",dflt:"",editType:Ee.editType||"calc"};return!1!==Ee.arrayOk&&(Be.arrayOk=!0),Be}},"94ee":function(Ee,ze,Be){"use strict";var Ue,We,$e,Qe=Be("f508"),et=Be("b380"),tt=Be("7c4a").Symbol,rt=Be("964d"),nt=Be("e03f"),at=Be("25be"),it=Object.create,ct=Object.defineProperties,ft=Object.defineProperty;if("function"==typeof tt)try{String(tt()),$e=!0}catch(Ee){}else tt=null;We=function Symbol(Ee){if(this instanceof We)throw new TypeError("Symbol is not a constructor");return Ue(Ee)},Ee.exports=Ue=function Symbol(Ee){var ze;if(this instanceof Symbol)throw new TypeError("Symbol is not a constructor");return $e?tt(Ee):(ze=it(We.prototype),Ee=void 0===Ee?"":String(Ee),ct(ze,{__description__:Qe("",Ee),__name__:Qe("",rt(Ee))}))},nt(Ue),at(Ue),ct(We.prototype,{constructor:Qe(Ue),toString:Qe("",(function(){return this.__name__}))}),ct(Ue.prototype,{toString:Qe((function(){return"Symbol ("+et(this).__description__+")"})),valueOf:Qe((function(){return et(this)}))}),ft(Ue.prototype,Ue.toPrimitive,Qe("",(function(){var Ee=et(this);return"symbol"==typeof Ee?Ee:Ee.toString()}))),ft(Ue.prototype,Ue.toStringTag,Qe("c","Symbol")),ft(We.prototype,Ue.toStringTag,Qe("c",Ue.prototype[Ue.toStringTag])),ft(We.prototype,Ue.toPrimitive,Qe("c",Ue.prototype[Ue.toPrimitive]))},9509:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("ce65"),supplyDefaults:Be("191c"),colorbar:Be("f3cf"),formatLabels:Be("8ac3"),calc:Be("ed0e"),plot:Be("e7d5"),style:Be("52e8").style,styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("aa6e"),selectPoints:Be("214c"),eventData:Be("d844"),moduleType:"trace",name:"scatterternary",basePlotModule:Be("ae84"),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},9547:function(Ee,ze,Be){"use strict";Ee.exports=function doAvg(Ee,ze){for(var Be=Ee.length,Ue=0,We=0;We<Be;We++)ze[We]?(Ee[We]/=ze[We],Ue+=Ee[We]):Ee[We]=null;return Ue}},9573:function(Ee,ze){Ee.exports=function fromValues(Ee,ze,Be){var Ue=new Float32Array(3);return Ue[0]=Ee,Ue[1]=ze,Ue[2]=Be,Ue}},9576:function(Ee,ze){Ee.exports=function floor(Ee,ze){return Ee[0]=Math.floor(ze[0]),Ee[1]=Math.floor(ze[1]),Ee[2]=Math.floor(ze[2]),Ee}},"958a":function(Ee,ze,Be){"use strict";ze.manage=Be("a9e4")},9597:function(Ee,ze,Be){"use strict";var Ue=Be("5ad3"),We=Be("fc26"),$e=Be("3c1c"),Qe=Be("ce56").findExtremes,et=Be("70b4"),tt=et.calcMarkerSize,rt=et.calcAxisExpansion,nt=et.setFirstScatter,at=Be("09bd"),it=Be("c879"),ct=Be("3a04"),ft=Be("e806").BADNUM,xt=Be("b326").TOO_MANY_POINTS;function expandForErrorBars(Ee,ze,Be){var Ue=Ee._extremes[ze._id],We=Qe(ze,Be._bnds,{padded:!0});Ue.min=Ue.min.concat(We.min),Ue.max=Ue.max.concat(We.max)}Ee.exports=function calc(Ee,ze){var Be,Qe,et,kt=Ee._fullLayout,Lt=$e.getFromId(Ee,ze.xaxis),Ut=$e.getFromId(Ee,ze.yaxis),er=kt._plots[ze.xaxis+ze.yaxis],tr=ze._length,rr=tr>=xt,ar=2*tr,Lr={},Qr=ze._x=Lt.makeCalcdata(ze,"x"),on=ze._y=Ut.makeCalcdata(ze,"y"),sn=new Array(ar);for(Be=0;Be<tr;Be++)Qe=Qr[Be],et=on[Be],sn[2*Be]=Qe===ft?NaN:Qe,sn[2*Be+1]=et===ft?NaN:et;if("log"===Lt.type)for(Be=0;Be<ar;Be+=2)sn[Be]=Lt.c2l(sn[Be]);if("log"===Ut.type)for(Be=1;Be<ar;Be+=2)sn[Be]=Ut.c2l(sn[Be]);if(rr&&"log"!==Lt.type&&"log"!==Ut.type)Lr.tree=Ue(sn);else{var ln=Lr.ids=new Array(tr);for(Be=0;Be<tr;Be++)ln[Be]=Be}at(Ee,ze);var cn,un=function sceneOptions(Ee,ze,Be,Ue,$e,Qe){var et=it.style(Ee,Be);et.marker&&(et.marker.positions=Ue);et.line&&Ue.length>1&&We.extendFlat(et.line,it.linePositions(Ee,Be,Ue));if(et.errorX||et.errorY){var tt=it.errorBarPositions(Ee,Be,Ue,$e,Qe);et.errorX&&We.extendFlat(et.errorX,tt.x),et.errorY&&We.extendFlat(et.errorY,tt.y)}et.text&&(We.extendFlat(et.text,{positions:Ue},it.textPosition(Ee,Be,et.text,et.marker)),We.extendFlat(et.textSel,{positions:Ue},it.textPosition(Ee,Be,et.text,et.markerSel)),We.extendFlat(et.textUnsel,{positions:Ue},it.textPosition(Ee,Be,et.text,et.markerUnsel)));return et}(Ee,0,ze,sn,Qr,on),hn=ct(Ee,er);return nt(kt,ze),rr?un.marker&&(cn=2*(un.marker.sizeAvg||Math.max(un.marker.size,3))):cn=tt(ze,tr),rt(Ee,ze,Lt,Ut,Qr,on,cn),un.errorX&&expandForErrorBars(ze,Lt,un.errorX),un.errorY&&expandForErrorBars(ze,Ut,un.errorY),un.fill&&!hn.fill2d&&(hn.fill2d=!0),un.marker&&!hn.scatter2d&&(hn.scatter2d=!0),un.line&&!hn.line2d&&(hn.line2d=!0),!un.errorX&&!un.errorY||hn.error2d||(hn.error2d=!0),un.text&&!hn.glText&&(hn.glText=!0),un.marker&&(un.marker.snap=tr),hn.lineOptions.push(un.line),hn.errorXOptions.push(un.errorX),hn.errorYOptions.push(un.errorY),hn.fillOptions.push(un.fill),hn.markerOptions.push(un.marker),hn.markerSelectedOptions.push(un.markerSel),hn.markerUnselectedOptions.push(un.markerUnsel),hn.textOptions.push(un.text),hn.textSelectedOptions.push(un.textSel),hn.textUnselectedOptions.push(un.textUnsel),hn.selectBatch.push([]),hn.unselectBatch.push([]),Lr._scene=hn,Lr.index=hn.count,Lr.x=Qr,Lr.y=on,Lr.positions=sn,hn.count++,[{x:!1,y:!1,t:Lr,trace:ze}]}},"95c9":function(Ee,ze){Ee.exports=function inverse(Ee,ze){return Ee[0]=1/ze[0],Ee[1]=1/ze[1],Ee[2]=1/ze[2],Ee[3]=1/ze[3],Ee}},"962a":function(Ee,ze,Be){"use strict";var Ue=Be("ae96"),We=Be("878a"),$e=Be("46bc"),Qe=Be("da69");function canonicalizeEdge(Ee){return[Math.min(Ee[0],Ee[1]),Math.max(Ee[0],Ee[1])]}function compareEdge(Ee,ze){return Ee[0]-ze[0]||Ee[1]-ze[1]}function getDefault(Ee,ze,Be){return ze in Ee?Ee[ze]:Be}Ee.exports=function cdt2d(Ee,ze,Be){Array.isArray(ze)?(Be=Be||{},ze=ze||[]):(Be=ze||{},ze=[]);var et=!!getDefault(Be,"delaunay",!0),tt=!!getDefault(Be,"interior",!0),rt=!!getDefault(Be,"exterior",!0),nt=!!getDefault(Be,"infinity",!1);if(!tt&&!rt||0===Ee.length)return[];var at=Ue(Ee,ze);if(et||tt!==rt||nt){for(var it=We(Ee.length,function canonicalizeEdges(Ee){return Ee.map(canonicalizeEdge).sort(compareEdge)}(ze)),ct=0;ct<at.length;++ct){var ft=at[ct];it.addTriangle(ft[0],ft[1],ft[2])}return et&&$e(Ee,it),rt?tt?nt?Qe(it,0,nt):it.cells():Qe(it,1,nt):Qe(it,-1)}return at}},9633:function(Ee,ze,Be){"use strict";Ee.exports=Be("93b9")},"964d":function(Ee,ze,Be){"use strict";var Ue=Be("f508"),We=Object.create,$e=Object.defineProperty,Qe=Object.prototype,et=We(null);Ee.exports=function(Ee){for(var ze,Be,We=0;et[Ee+(We||"")];)++We;return et[Ee+=We||""]=!0,$e(Qe,ze="@@"+Ee,Ue.gs(null,(function(Ee){Be||(Be=!0,$e(this,ze,Ue(Ee)),Be=!1)}))),ze}},9662:function(Ee,ze,Be){"use strict";(function(ze){Ee.exports=function textGet(Ee,ze,Be){Be=Be||{};var We=$e[Ee];We||(We=$e[Ee]={" ":{data:new Float32Array(0),shape:.2}});var Qe=We[ze];if(!Qe)if(ze.length<=1||!/\d/.test(ze))Qe=We[ze]=function unwrap(Ee){for(var ze=Ee.cells,Be=Ee.positions,Ue=new Float32Array(6*ze.length),We=0,$e=0,Qe=0;Qe<ze.length;++Qe)for(var et=ze[Qe],tt=0;tt<3;++tt){var rt=Be[et[tt]];Ue[We++]=rt[0],Ue[We++]=rt[1]+1.4,$e=Math.max(rt[0],$e)}return{data:Ue,shape:$e}}(Ue(ze,{triangles:!0,font:Ee,textAlign:Be.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var et=ze.split(/(\d|\s)/),tt=new Array(et.length),rt=0,nt=0,at=0;at<et.length;++at)tt[at]=textGet(Ee,et[at]),rt+=tt[at].data.length,nt+=tt[at].shape,at>0&&(nt+=.02);var it=new Float32Array(rt),ct=0,ft=-.5*nt;for(at=0;at<tt.length;++at){for(var xt=tt[at].data,kt=0;kt<xt.length;kt+=2)it[ct++]=xt[kt]+ft,it[ct++]=xt[kt+1];ft+=tt[at].shape+.02}Qe=We[ze]={data:it,shape:nt}}return Qe};var Ue=Be("b993"),We=window||ze.global||{},$e=We.__TEXT_CACHE||{};We.__TEXT_CACHE={}}).call(this,Be("4362"))},9676:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("1477"),Qe=Be("371e"),et=Be("fc26"),tt=Be("0379"),rt=Be("d115"),nt=Be("83d1"),at=Be("a5c4"),it=Be("0642"),ct=Be("0f37"),ft=Be("4efe"),xt=Be("63dc").FROM_TL,kt=Be("821b"),Lt=Be("a392").redrawReglTraces,Ut=Be("bb71"),er=Be("3c1c").getFromId,tr=Be("1876").prepSelect,rr=Be("1876").clearSelect,ar=Be("1876").selectOnClick,Lr=Be("9759"),Qr=Be("d301"),on=Qr.MINDRAG,sn=Qr.MINZOOM,ln=!0;function makeDragger(Ee,ze,Be,Ue){var We=et.ensureSingle(Ee.draglayer,ze,Be,(function(ze){ze.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Ee.id)}));return We.call(ct,Ue),We.node()}function makeRectDragger(Ee,ze,Be,We,$e,Qe,et){var tt=makeDragger(Ee,"rect",ze,Be);return Ue.select(tt).call(nt.setRect,We,$e,Qe,et),tt}function isDirectionActive(Ee,ze){for(var Be=0;Be<Ee.length;Be++)if(!Ee[Be].fixedrange)return ze;return""}function zoomAxRanges(Ee,ze,Be,Ue,We){for(var $e=0;$e<Ee.length;$e++){var Qe=Ee[$e];if(!Qe.fixedrange){var et=Qe._rl[0],tt=Qe._rl[1]-et;Ue[Qe._name+".range[0]"]=Qe.l2r(et+tt*ze),Ue[Qe._name+".range[1]"]=Qe.l2r(et+tt*Be)}}if(We&&We.length){var rt=(ze+(1-Be))/2;zoomAxRanges(We,rt,1-rt,Ue,[])}}function dragAxList(Ee,ze){for(var Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];Ue.fixedrange||(Ue.range=[Ue.l2r(Ue._rl[0]-ze/Ue._m),Ue.l2r(Ue._rl[1]-ze/Ue._m)])}}function dZoom(Ee){return 1-(Ee>=0?Math.min(Ee,.9):1/(1/Math.max(Ee,-.3)+3.222))}function makeZoombox(Ee,ze,Be,Ue,We){return Ee.append("path").attr("class","zoombox").style({fill:ze>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+Be+", "+Ue+")").attr("d",We+"Z")}function makeCorners(Ee,ze,Be){return Ee.append("path").attr("class","zoombox-corners").style({fill:rt.background,stroke:rt.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+ze+", "+Be+")").attr("d","M0,0Z")}function updateZoombox(Ee,ze,Be,Ue,We,$e){Ee.attr("d",Ue+"M"+Be.l+","+Be.t+"v"+Be.h+"h"+Be.w+"v-"+Be.h+"h-"+Be.w+"Z"),transitionZoombox(Ee,ze,We,$e)}function transitionZoombox(Ee,ze,Be,Ue){Be||(Ee.transition().style("fill",Ue>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ze.transition().style("opacity",1).duration(200))}function removeZoombox(Ee){Ue.select(Ee).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function showDoubleClickNotifier(Ee){ln&&Ee.data&&Ee._context.showTips&&(et.notifier(et._(Ee,"Double-click to zoom back out"),"long"),ln=!1)}function isSelectOrLasso(Ee){return"lasso"===Ee||"select"===Ee}function xyCorners(Ee){var ze=Math.floor(Math.min(Ee.b-Ee.t,Ee.r-Ee.l,sn)/2);return"M"+(Ee.l-3.5)+","+(Ee.t-.5+ze)+"h3v"+-ze+"h"+ze+"v-3h-"+(ze+3)+"ZM"+(Ee.r+3.5)+","+(Ee.t-.5+ze)+"h-3v"+-ze+"h"+-ze+"v-3h"+(ze+3)+"ZM"+(Ee.r+3.5)+","+(Ee.b+.5-ze)+"h-3v"+ze+"h"+-ze+"v3h"+(ze+3)+"ZM"+(Ee.l-3.5)+","+(Ee.b+.5-ze)+"h3v"+ze+"h"+ze+"v3h-"+(ze+3)+"Z"}function calcLinks(Ee,ze,Be,Ue){for(var We,$e,Qe,tt,rt=!1,nt={},at={},it=0;it<ze.length;it++){var ct=ze[it];for(We in Be)if(ct[We]){for(Qe in ct)("x"===Qe.charAt(0)?Be:Ue)[Qe]||(nt[Qe]=We);for($e in Ue)ct[$e]&&(rt=!0)}for($e in Ue)if(ct[$e])for(tt in ct)("x"===tt.charAt(0)?Be:Ue)[tt]||(at[tt]=$e)}rt&&(et.extendFlat(nt,at),at={});var ft={},xt=[];for(Qe in nt){var kt=er(Ee,Qe);xt.push(kt),ft[kt._id]=kt}var Lt={},Ut=[];for(tt in at){var tr=er(Ee,tt);Ut.push(tr),Lt[tr._id]=tr}return{xaHash:ft,yaHash:Lt,xaxes:xt,yaxes:Ut,xLinks:nt,yLinks:at,isSubplotConstrained:rt}}function attachWheelEventHandler(Ee,ze){if($e){var Be=void 0!==Ee.onwheel?"wheel":"mousewheel";Ee._onwheel&&Ee.removeEventListener(Be,Ee._onwheel),Ee._onwheel=ze,Ee.addEventListener(Be,ze,{passive:!1})}else void 0!==Ee.onwheel?Ee.onwheel=ze:void 0!==Ee.onmousewheel&&(Ee.onmousewheel=ze)}function hashValues(Ee){var ze=[];for(var Be in Ee)ze.push(Ee[Be]);return ze}Ee.exports={makeDragBox:function makeDragBox(Ee,ze,Be,$e,rt,ct,ln,cn){var un,hn,dn,vn,yn,_n,Mn,Cn,En,Pn,In,Bn,Hn,Kn,Jn,Ma,Sa,La,Ia,Ra,Na,Ua=Ee._fullLayout._zoomlayer,qa=ln+cn==="nsew",Ka=1===(ln+cn).length;function recomputeAxisLists(){if(un=ze.xaxis,hn=ze.yaxis,En=un._length,Pn=hn._length,Mn=un._offset,Cn=hn._offset,(dn={})[un._id]=un,(vn={})[hn._id]=hn,ln&&cn)for(var Be=ze.overlays,Ue=0;Ue<Be.length;Ue++){var We=Be[Ue].xaxis;dn[We._id]=We;var $e=Be[Ue].yaxis;vn[$e._id]=$e}yn=hashValues(dn),_n=hashValues(vn),Hn=isDirectionActive(yn,cn),Kn=isDirectionActive(_n,ln),Jn=!Kn&&!Hn,In=calcLinks(Ee,Ee._fullLayout._axisConstraintGroups,dn,vn),Bn=calcLinks(Ee,Ee._fullLayout._axisMatchGroups,dn,vn),Ma=cn||In.isSubplotConstrained||Bn.isSubplotConstrained,Sa=ln||In.isSubplotConstrained||Bn.isSubplotConstrained;var Qe=Ee._fullLayout;La=Qe._has("scattergl"),Ia=Qe._has("splom"),Ra=Qe._has("svg")}recomputeAxisLists();var ei=function getDragCursor(Ee,ze,Be){if(!Ee)return"pointer";if("nsew"===Ee)return Be?"":"pan"===ze?"move":"crosshair";return Ee.toLowerCase()+"-resize"}(Kn+Hn,Ee._fullLayout.dragmode,qa),ti=makeRectDragger(ze,ln+cn+"drag",ei,Be,$e,rt,ct);if(Jn&&!qa)return ti.onmousedown=null,ti.style.pointerEvents="none",ti;var ri,ni,ai,ii,oi,si,li,ci,hi,Ci,Pi={element:ti,gd:Ee,plotinfo:ze};function clearAndResetSelect(){Pi.plotinfo.selection=!1,rr(Ee)}function clickFn(Be,We){var $e=Ee._fullLayout.clickmode;if(removeZoombox(Ee),2!==Be||Ka||function doubleClick(){if(Ee._transitioningWithDuration)return;var ze=Ee._context.doubleClick,Be=[];Hn&&(Be=Be.concat(yn));Kn&&(Be=Be.concat(_n));Bn.xaxes&&(Be=Be.concat(Bn.xaxes));Bn.yaxes&&(Be=Be.concat(Bn.yaxes));var Ue,We,$e,et={};if("reset+autosize"===ze)for(ze="autosize",We=0;We<Be.length;We++)if((Ue=Be[We])._rangeInitial&&(Ue.range[0]!==Ue._rangeInitial[0]||Ue.range[1]!==Ue._rangeInitial[1])||!Ue._rangeInitial&&!Ue.autorange){ze="reset";break}if("autosize"===ze)for(We=0;We<Be.length;We++)(Ue=Be[We]).fixedrange||(et[Ue._name+".autorange"]=!0);else if("reset"===ze)for((Hn||In.isSubplotConstrained)&&(Be=Be.concat(In.xaxes)),Kn&&!In.isSubplotConstrained&&(Be=Be.concat(In.yaxes)),In.isSubplotConstrained&&(Hn?Kn||(Be=Be.concat(_n)):Be=Be.concat(yn)),We=0;We<Be.length;We++)(Ue=Be[We]).fixedrange||(Ue._rangeInitial?($e=Ue._rangeInitial,et[Ue._name+".range[0]"]=$e[0],et[Ue._name+".range[1]"]=$e[1]):et[Ue._name+".autorange"]=!0);Ee.emit("plotly_doubleclick",null),Qe.call("_guiRelayout",Ee,et)}(),qa)$e.indexOf("select")>-1&&ar(We,Ee,yn,_n,ze.id,Pi),$e.indexOf("event")>-1&&at.click(Ee,We,ze.id);else if(1===Be&&Ka){var et=ln?hn:un,rt="s"===ln||"w"===cn?0:1,nt=et._name+".range["+rt+"]",it=function getEndText(Ee,ze){var Be,We=Ee.range[ze],$e=Math.abs(We-Ee.range[1-ze]);return"date"===Ee.type?We:"log"===Ee.type?(Be=Math.ceil(Math.max(0,-Math.log($e)/Math.LN10))+3,Ue.format("."+Be+"g")(Math.pow(10,We))):(Be=Math.floor(Math.log(Math.abs(We))/Math.LN10)-Math.floor(Math.log($e)/Math.LN10)+4,Ue.format("."+String(Be)+"g")(We))}(et,rt),ct="left",ft="middle";if(et.fixedrange)return;ln?(ft="n"===ln?"top":"bottom","right"===et.side&&(ct="right")):"e"===cn&&(ct="right"),Ee._context.showAxisRangeEntryBoxes&&Ue.select(ti).call(tt.makeEditable,{gd:Ee,immediate:!0,background:Ee._fullLayout.paper_bgcolor,text:String(it),fill:et.tickfont?et.tickfont.color:"#444",horizontalAlign:ct,verticalAlign:ft}).on("edit",(function(ze){var Be=et.d2r(ze);void 0!==Be&&Qe.call("_guiRelayout",Ee,nt,Be)}))}}function zoomMove(ze,Be){if(Ee._transitioningWithDuration)return!1;var Ue=Math.max(0,Math.min(En,ze+ri)),We=Math.max(0,Math.min(Pn,Be+ni)),$e=Math.abs(Ue-ri),Qe=Math.abs(We-ni);function noZoom(){li="",ai.r=ai.l,ai.t=ai.b,hi.attr("d","M0,0Z")}if(ai.l=Math.min(ri,Ue),ai.r=Math.max(ri,Ue),ai.t=Math.min(ni,We),ai.b=Math.max(ni,We),In.isSubplotConstrained)$e>sn||Qe>sn?(li="xy",$e/En>Qe/Pn?(Qe=$e*Pn/En,ni>We?ai.t=ni-Qe:ai.b=ni+Qe):($e=Qe*En/Pn,ri>Ue?ai.l=ri-$e:ai.r=ri+$e),hi.attr("d",xyCorners(ai))):noZoom();else if(Bn.isSubplotConstrained)if($e>sn||Qe>sn){li="xy";var et=Math.min(ai.l/En,(Pn-ai.b)/Pn),tt=Math.max(ai.r/En,(Pn-ai.t)/Pn);ai.l=et*En,ai.r=tt*En,ai.b=(1-et)*Pn,ai.t=(1-tt)*Pn,hi.attr("d",xyCorners(ai))}else noZoom();else!Kn||Qe<Math.min(Math.max(.6*$e,on),sn)?$e<on||!Hn?noZoom():(ai.t=0,ai.b=Pn,li="x",hi.attr("d",function xCorners(Ee,ze){return"M"+(Ee.l-.5)+","+(ze-sn-.5)+"h-3v"+(2*sn+1)+"h3ZM"+(Ee.r+.5)+","+(ze-sn-.5)+"h3v"+(2*sn+1)+"h-3Z"}(ai,ni))):!Hn||$e<Math.min(.6*Qe,sn)?(ai.l=0,ai.r=En,li="y",hi.attr("d",function yCorners(Ee,ze){return"M"+(ze-sn-.5)+","+(Ee.t-.5)+"v-3h"+(2*sn+1)+"v3ZM"+(ze-sn-.5)+","+(Ee.b+.5)+"v3h"+(2*sn+1)+"v-3Z"}(ai,ri))):(li="xy",hi.attr("d",xyCorners(ai)));ai.w=ai.r-ai.l,ai.h=ai.b-ai.t,li&&(Ci=!0),Ee._dragged=Ci,updateZoombox(ci,hi,ai,oi,si,ii),computeZoomUpdates(),Ee.emit("plotly_relayouting",Na),si=!0}function computeZoomUpdates(){Na={},"xy"!==li&&"x"!==li||(zoomAxRanges(yn,ai.l/En,ai.r/En,Na,In.xaxes),updateMatchedAxRange("x",Na)),"xy"!==li&&"y"!==li||(zoomAxRanges(_n,(Pn-ai.b)/Pn,(Pn-ai.t)/Pn,Na,In.yaxes),updateMatchedAxRange("y",Na))}function zoomDone(){computeZoomUpdates(),removeZoombox(Ee),dragTail(),showDoubleClickNotifier(Ee)}Pi.prepFn=function(ze,Be,Ue){var $e=Pi.dragmode,Qe=Ee._fullLayout.dragmode;Qe!==$e&&(Pi.dragmode=Qe),recomputeAxisLists(),Jn||(qa?ze.shiftKey?"pan"===Qe?Qe="zoom":isSelectOrLasso(Qe)||(Qe="pan"):ze.ctrlKey&&(Qe="pan"):Qe="pan"),Pi.minDrag="lasso"===Qe?1:void 0,isSelectOrLasso(Qe)?(Pi.xaxes=yn,Pi.yaxes=_n,tr(ze,Be,Ue,Pi,Qe)):(Pi.clickFn=clickFn,isSelectOrLasso($e)&&clearAndResetSelect(),Jn||("zoom"===Qe?(Pi.moveFn=zoomMove,Pi.doneFn=zoomDone,Pi.minDrag=1,function zoomPrep(ze,Be,Ue){var $e=ti.getBoundingClientRect();ri=Be-$e.left,ni=Ue-$e.top,ai={l:ri,r:ri,w:0,t:ni,b:ni,h:0},ii=Ee._hmpixcount?Ee._hmlumcount/Ee._hmpixcount:We(Ee._fullLayout.plot_bgcolor).getLuminance(),si=!1,li="xy",Ci=!1,ci=makeZoombox(Ua,ii,Mn,Cn,oi="M0,0H"+En+"V"+Pn+"H0V0"),hi=makeCorners(Ua,Mn,Cn)}(0,Be,Ue)):"pan"===Qe&&(Pi.moveFn=plotDrag,Pi.doneFn=dragTail))),Ee._fullLayout._redrag=function(){var ze=Ee._dragdata;ze&&ze.element===ti&&(isSelectOrLasso(Ee._fullLayout.dragmode)||(recomputeAxisLists(),updateSubplots([0,0,En,Pn]),Pi.moveFn(ze.dx,ze.dy)))}},ft.init(Pi);var zi=[0,0,En,Pn],ji=null,Xi=Qr.REDRAWDELAY,Co=ze.mainplot?Ee._fullLayout._plots[ze.mainplot]:ze;function plotDrag(ze,Be){if(!Ee._transitioningWithDuration){if(Ee._fullLayout._replotting=!0,"ew"===Hn||"ns"===Kn)return Hn&&(dragAxList(yn,ze),updateMatchedAxRange("x")),Kn&&(dragAxList(_n,Be),updateMatchedAxRange("y")),updateSubplots([Hn?-ze:0,Kn?-Be:0,En,Pn]),ticksAndAnnotations(),void Ee.emit("plotly_relayouting",Na);if(In.isSubplotConstrained&&Hn&&Kn){var Ue="w"===Hn==("n"===Kn)?1:-1,We=(ze/En+Ue*Be/Pn)/2;ze=We*En,Be=Ue*We*Pn}"w"===Hn?ze=dz(yn,0,ze):"e"===Hn?ze=dz(yn,1,-ze):Hn||(ze=0),"n"===Kn?Be=dz(_n,1,Be):"s"===Kn?Be=dz(_n,0,-Be):Kn||(Be=0);var $e="w"===Hn?ze:0,Qe="n"===Kn?Be:0;if(In.isSubplotConstrained){var et;if(!Hn&&1===Kn.length){for(et=0;et<yn.length;et++)yn[et].range=yn[et]._r.slice(),Lr(yn[et],1-Be/Pn);$e=(ze=Be*En/Pn)/2}if(!Kn&&1===Hn.length){for(et=0;et<_n.length;et++)_n[et].range=_n[et]._r.slice(),Lr(_n[et],1-ze/En);Qe=(Be=ze*Pn/En)/2}}updateMatchedAxRange("x"),updateMatchedAxRange("y"),updateSubplots([$e,Qe,En-ze,Pn-Be]),ticksAndAnnotations(),Ee.emit("plotly_relayouting",Na)}function dz(Ee,ze,Be){for(var Ue,We,$e=1-ze,Qe=0;Qe<Ee.length;Qe++){var et=Ee[Qe];if(!et.fixedrange){Ue=et,We=et._rl[$e]+(et._rl[ze]-et._rl[$e])/dZoom(Be/et._length);var tt=et.l2r(We);!1!==tt&&void 0!==tt&&(et.range[ze]=tt)}}return Ue._length*(Ue._rl[ze]-We)/(Ue._rl[ze]-Ue._rl[$e])}}function updateMatchedAxRange(Ee,ze){for(var Be=Bn.isSubplotConstrained?{x:_n,y:yn}[Ee]:Bn[Ee+"axes"],Ue=Bn.isSubplotConstrained?{x:yn,y:_n}[Ee]:[],We=0;We<Be.length;We++){var $e=Be[We],Qe=$e._id,et=Bn.xLinks[Qe]||Bn.yLinks[Qe],tt=Ue[0]||dn[et]||vn[et];tt&&(ze?(ze[$e._name+".range[0]"]=ze[tt._name+".range[0]"],ze[$e._name+".range[1]"]=ze[tt._name+".range[1]"]):$e.range=tt.range.slice())}}function ticksAndAnnotations(){var ze,Be=[];function pushActiveAxIds(Ee){for(ze=0;ze<Ee.length;ze++)Ee[ze].fixedrange||Be.push(Ee[ze]._id)}for(Ma&&(pushActiveAxIds(yn),pushActiveAxIds(In.xaxes),pushActiveAxIds(Bn.xaxes)),Sa&&(pushActiveAxIds(_n),pushActiveAxIds(In.yaxes),pushActiveAxIds(Bn.yaxes)),Na={},ze=0;ze<Be.length;ze++){var Ue=Be[ze],We=er(Ee,Ue);it.drawOne(Ee,We,{skipTitle:!0}),Na[We._name+".range[0]"]=We.range[0],Na[We._name+".range[1]"]=We.range[1]}it.redrawComponents(Ee,Be)}function dragTail(){updateSubplots([0,0,En,Pn]),et.syncOrAsync([Ut.previousPromises,function(){Ee._fullLayout._replotting=!1,Qe.call("_guiRelayout",Ee,Na)}],Ee)}function updateSubplots(ze){var Be,Ue,We,$e,tt=Ee._fullLayout,rt=tt._plots,at=tt._subplots.cartesian;if(Ia&&Qe.subplotsRegistry.splom.drag(Ee),La)for(Be=0;Be<at.length;Be++)if(We=(Ue=rt[at[Be]]).xaxis,$e=Ue.yaxis,Ue._scene){var it=et.simpleMap(We.range,We.r2l),ct=et.simpleMap($e.range,$e.r2l);Ue._scene.update({range:[it[0],ct[0],it[1],ct[1]]})}if((Ia||La)&&(kt(Ee),Lt(Ee)),Ra){var ft=ze[2]/un._length,xt=ze[3]/hn._length;for(Be=0;Be<at.length;Be++){We=(Ue=rt[at[Be]]).xaxis,$e=Ue.yaxis;var Ut,er,tr,rr,ar=Ma&&!We.fixedrange&&dn[We._id],Lr=Sa&&!$e.fixedrange&&vn[$e._id];if(ar?(Ut=ft,tr=cn?ze[0]:getShift(We,Ut)):Bn.xaHash[We._id]?(Ut=ft,tr=ze[0]*We._length/un._length):Bn.yaHash[We._id]?(Ut=xt,tr="ns"===Kn?-ze[1]*We._length/hn._length:getShift(We,Ut,{n:"top",s:"bottom"}[Kn])):tr=scaleAndGetShift(We,Ut=getLinkedScaleFactor(We,ft,xt)),Lr?(er=xt,rr=ln?ze[1]:getShift($e,er)):Bn.yaHash[$e._id]?(er=xt,rr=ze[1]*$e._length/hn._length):Bn.xaHash[$e._id]?(er=ft,rr="ew"===Hn?-ze[0]*$e._length/un._length:getShift($e,er,{e:"right",w:"left"}[Hn])):rr=scaleAndGetShift($e,er=getLinkedScaleFactor($e,ft,xt)),Ut||er){Ut||(Ut=1),er||(er=1);var Qr=We._offset-tr/Ut,on=$e._offset-rr/er;Ue.clipRect.call(nt.setTranslate,tr,rr).call(nt.setScale,Ut,er),Ue.plot.call(nt.setTranslate,Qr,on).call(nt.setScale,1/Ut,1/er),Ut===Ue.xScaleFactor&&er===Ue.yScaleFactor||(nt.setPointGroupScale(Ue.zoomScalePts,Ut,er),nt.setTextPointsScale(Ue.zoomScaleTxt,Ut,er)),nt.hideOutsideRangePoints(Ue.clipOnAxisFalseTraces,Ue),Ue.xScaleFactor=Ut,Ue.yScaleFactor=er}}}}function getLinkedScaleFactor(Ee,ze,Be){return Ee.fixedrange?0:Ma&&In.xaHash[Ee._id]?ze:Sa&&(In.isSubplotConstrained?In.xaHash:In.yaHash)[Ee._id]?Be:0}function scaleAndGetShift(Ee,ze){return ze?(Ee.range=Ee._r.slice(),Lr(Ee,ze),getShift(Ee,ze)):0}function getShift(Ee,ze,Be){return Ee._length*(1-ze)*xt[Be||Ee.constraintoward||"middle"]}return ln.length*cn.length!=1&&attachWheelEventHandler(ti,(function zoomWheel(ze){if(Ee._context._scrollZoom.cartesian||Ee._fullLayout._enablescrollzoom){if(clearAndResetSelect(),Ee._transitioningWithDuration)return ze.preventDefault(),void ze.stopPropagation();recomputeAxisLists(),clearTimeout(ji);var Be=-ze.deltaY;if(isFinite(Be)||(Be=ze.wheelDelta/10),isFinite(Be)){var Ue,We=Math.exp(-Math.min(Math.max(Be,-20),20)/200),$e=Co.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Qe=(ze.clientX-$e.left)/$e.width,tt=($e.bottom-ze.clientY)/$e.height;if(Ma){for(cn||(Qe=.5),Ue=0;Ue<yn.length;Ue++)zoomWheelOneAxis(yn[Ue],Qe,We);updateMatchedAxRange("x"),zi[2]*=We,zi[0]+=zi[2]*Qe*(1/We-1)}if(Sa){for(ln||(tt=.5),Ue=0;Ue<_n.length;Ue++)zoomWheelOneAxis(_n[Ue],tt,We);updateMatchedAxRange("y"),zi[3]*=We,zi[1]+=zi[3]*(1-tt)*(1/We-1)}updateSubplots(zi),ticksAndAnnotations(),Ee.emit("plotly_relayouting",Na),ji=setTimeout((function(){zi=[0,0,En,Pn],dragTail()}),Xi),ze.preventDefault()}else et.log("Did not find wheel motion attributes: ",ze)}function zoomWheelOneAxis(Ee,ze,Be){if(!Ee.fixedrange){var Ue=et.simpleMap(Ee.range,Ee.r2l),We=Ue[0]+(Ue[1]-Ue[0])*ze;Ee.range=Ue.map((function doZoom(ze){return Ee.l2r(We+(ze-We)*Be)}))}}})),ti},makeDragger:makeDragger,makeRectDragger:makeRectDragger,makeZoombox:makeZoombox,makeCorners:makeCorners,updateZoombox:updateZoombox,xyCorners:xyCorners,transitionZoombox:transitionZoombox,removeZoombox:removeZoombox,showDoubleClickNotifier:showDoubleClickNotifier,attachWheelEventHandler:attachWheelEventHandler}},"96ae":function(Ee,ze,Be){"use strict";var Ue=Be("62c4");Ee.exports=function(Ee){if(!Ue(Ee))throw new TypeError("Cannot use null or undefined");return Ee}},"96e3":function(Ee,ze,Be){"use strict";function _slicedToArray(Ee,ze){return function _arrayWithHoles(Ee){if(Array.isArray(Ee))return Ee}(Ee)||function _iterableToArrayLimit(Ee,ze){var Be=[],Ue=!0,We=!1,$e=void 0;try{for(var Qe,et=Ee[Symbol.iterator]();!(Ue=(Qe=et.next()).done)&&(Be.push(Qe.value),!ze||Be.length!==ze);Ue=!0);}catch(Ee){We=!0,$e=Ee}finally{try{Ue||null==et.return||et.return()}finally{if(We)throw $e}}return Be}(Ee,ze)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(Ee){return function _arrayWithoutHoles(Ee){if(Array.isArray(Ee)){for(var ze=0,Be=new Array(Ee.length);ze<Ee.length;ze++)Be[ze]=Ee[ze];return Be}}(Ee)||function _iterableToArray(Ee){if(Symbol.iterator in Object(Ee)||"[object Arguments]"===Object.prototype.toString.call(Ee))return Array.from(Ee)}(Ee)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ue=Be("0103"),We=Be("be00"),$e=Be("35e5"),Qe=Be("5ad3"),et=Be("320c"),tt=Be("e98f"),rt=Be("b7d1"),nt=Be("7b1c"),at=Be("37cd"),it=Be("375c"),ct=Be("1d19"),ft=Be("3de2"),xt=Scatter;function Scatter(Ee,ze){var Be=this;if(!(this instanceof Scatter))return new Scatter(Ee,ze);"function"==typeof Ee?(ze||(ze={}),ze.regl=Ee):(ze=Ee,Ee=null),ze&&ze.length&&(ze.positions=ze);var Ue,We=(Ee=ze.regl)._gl,$e=[];this.tooManyColors=it,Ue=Ee.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),et(this,{regl:Ee,gl:We,groups:[],markerCache:[null],markerTextures:[null],palette:$e,paletteIds:{},paletteTexture:Ue,maxColors:255,maxSize:100,canvas:We.canvas}),this.update(ze);var Qe={uniforms:{pixelRatio:Ee.context("pixelRatio"),palette:Ue,paletteSize:function paletteSize(Ee,ze){return[Be.tooManyColors?0:255,Ue.height]},scale:Ee.prop("scale"),scaleFract:Ee.prop("scaleFract"),translate:Ee.prop("translate"),translateFract:Ee.prop("translateFract"),opacity:Ee.prop("opacity"),marker:Ee.prop("markerTexture")},attributes:{x:function x(Ee,ze){return ze.xAttr||{buffer:ze.positionBuffer,stride:8,offset:0}},y:function y(Ee,ze){return ze.yAttr||{buffer:ze.positionBuffer,stride:8,offset:4}},xFract:function xFract(Ee,ze){return ze.xAttr?{constant:[0,0]}:{buffer:ze.positionFractBuffer,stride:8,offset:0}},yFract:function yFract(Ee,ze){return ze.yAttr?{constant:[0,0]}:{buffer:ze.positionFractBuffer,stride:8,offset:4}},size:function size(Ee,ze){return ze.size.length?{buffer:ze.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*ze.size/Be.maxSize)]}},borderSize:function borderSize(Ee,ze){return ze.borderSize.length?{buffer:ze.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*ze.borderSize/Be.maxSize)]}},colorId:function colorId(Ee,ze){return ze.color.length?{buffer:ze.colorBuffer,stride:Be.tooManyColors?8:4,offset:0}:{constant:Be.tooManyColors?$e.slice(4*ze.color,4*ze.color+4):[ze.color]}},borderColorId:function borderColorId(Ee,ze){return ze.borderColor.length?{buffer:ze.colorBuffer,stride:Be.tooManyColors?8:4,offset:Be.tooManyColors?4:2}:{constant:Be.tooManyColors?$e.slice(4*ze.borderColor,4*ze.borderColor+4):[ze.borderColor]}},isActive:function isActive(Ee,ze){return!0===ze.activation?{constant:[1]}:ze.activation?ze.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:Ee.prop("viewport")},viewport:Ee.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:Ee.prop("elements"),count:Ee.prop("count"),offset:Ee.prop("offset"),primitive:"points"},rt=et({},Qe);rt.frag=tt(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nuniform sampler2D marker;\nuniform float pixelRatio, opacity;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(marker, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),rt.vert=tt(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform float pixelRatio;\nuniform sampler2D palette;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(palette,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pixelRatio;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=Ee(rt);var nt=et({},Qe);nt.frag=tt(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\n\nuniform float opacity;\nvarying float fragBorderRadius, fragWidth;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),nt.vert=tt(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio;\nuniform sampler2D palette;\nuniform vec2 paletteSize;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(palette,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),it&&(nt.frag=nt.frag.replace("smoothstep","smoothStep"),rt.frag=rt.frag.replace("smoothstep","smoothStep")),this.drawCircle=Ee(nt)}Scatter.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},Scatter.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},Scatter.prototype.draw=function(){for(var Ee=this,ze=arguments.length,Be=new Array(ze),Ue=0;Ue<ze;Ue++)Be[Ue]=arguments[Ue];var We=this.groups;if(1===Be.length&&Array.isArray(Be[0])&&(null===Be[0][0]||Array.isArray(Be[0][0]))&&(Be=Be[0]),this.regl._refresh(),Be.length)for(var $e=0;$e<Be.length;$e++)this.drawItem($e,Be[$e]);else We.forEach((function(ze,Be){Ee.drawItem(Be)}));return this},Scatter.prototype.drawItem=function(Ee,ze){var Be=this.groups,Ue=Be[Ee];if("number"==typeof ze&&(Ee=ze,Ue=Be[ze],ze=null),Ue&&Ue.count&&Ue.opacity){Ue.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,Ue,ze));for(var We=[],$e=1;$e<Ue.activation.length;$e++)Ue.activation[$e]&&(!0===Ue.activation[$e]||Ue.activation[$e].data.length)&&We.push.apply(We,_toConsumableArray(this.getMarkerDrawOptions($e,Ue,ze)));We.length&&this.drawMarker(We)}},Scatter.prototype.getMarkerDrawOptions=function(Ee,ze,Be){var Ue=ze.range,We=ze.tree,$e=ze.viewport,Qe=ze.activation,tt=ze.selectionBuffer,rt=ze.count;this.regl;if(!We)return Be?[et({},ze,{markerTexture:this.markerTextures[Ee],activation:Qe[Ee],count:Be.length,elements:Be,offset:0})]:[et({},ze,{markerTexture:this.markerTextures[Ee],activation:Qe[Ee],offset:0})];var nt=[],at=We.range(Ue,{lod:!0,px:[(Ue[2]-Ue[0])/$e.width,(Ue[3]-Ue[1])/$e.height]});if(Be){for(var it=Qe[Ee].data,ct=new Uint8Array(rt),ft=0;ft<Be.length;ft++){var xt=Be[ft];ct[xt]=it?it[xt]:1}tt.subdata(ct)}for(var kt=at.length;kt--;){var Lt=_slicedToArray(at[kt],2),Ut=Lt[0],er=Lt[1];nt.push(et({},ze,{markerTexture:this.markerTextures[Ee],activation:Be?tt:Qe[Ee],offset:Ut,count:er-Ut}))}return nt},Scatter.prototype.update=function(){for(var Ee=this,ze=arguments.length,Be=new Array(ze),Ue=0;Ue<ze;Ue++)Be[Ue]=arguments[Ue];if(Be.length){1===Be.length&&Array.isArray(Be[0])&&(Be=Be[0]);var $e=this.groups,tt=this.gl,it=this.regl,xt=this.maxSize,kt=this.maxColors,Lt=this.palette;this.groups=$e=Be.map((function(ze,Be){var Ue=$e[Be];if(void 0===ze)return Ue;null===ze?ze={positions:null}:"function"==typeof ze?ze={ondraw:ze}:"number"==typeof ze[0]&&(ze={positions:ze}),null===(ze=rt(ze,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(ze.positions=[]),null!=ze.tooManyColors&&(Ee.tooManyColors=ze.tooManyColors),Ue||($e[Be]=Ue={id:Be,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:it.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:it.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:it.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:it.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:it.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},ze=et({},Scatter.defaults,ze)),ze.positions&&!("marker"in ze)&&(ze.marker=Ue.marker,delete Ue.marker),ze.marker&&!("positions"in ze)&&(ze.positions=Ue.positions,delete Ue.positions);var Ut=0,er=0;if(nt(Ue,ze,[{snap:!0,size:function size(Ee,ze){return null==Ee&&(Ee=Scatter.defaults.size),Ut+=Ee&&Ee.length?1:0,Ee},borderSize:function borderSize(Ee,ze){return null==Ee&&(Ee=Scatter.defaults.borderSize),Ut+=Ee&&Ee.length?1:0,Ee},opacity:parseFloat,color:function color(ze,Be){return null==ze&&(ze=Scatter.defaults.color),ze=Ee.updateColor(ze),er++,ze},borderColor:function borderColor(ze,Be){return null==ze&&(ze=Scatter.defaults.borderColor),ze=Ee.updateColor(ze),er++,ze},bounds:function bounds(Ee,ze,Be){return"range"in Be||(Be.range=null),Ee},positions:function positions(Ee,ze,Be){var Ue=ze.snap,$e=ze.positionBuffer,et=ze.positionFractBuffer,tt=ze.selectionBuffer;if(Ee.x||Ee.y)return Ee.x.length?ze.xAttr={buffer:it.buffer(Ee.x),offset:0,stride:4,count:Ee.x.length}:ze.xAttr={buffer:Ee.x.buffer,offset:4*Ee.x.offset||0,stride:4*(Ee.x.stride||1),count:Ee.x.count},Ee.y.length?ze.yAttr={buffer:it.buffer(Ee.y),offset:0,stride:4,count:Ee.y.length}:ze.yAttr={buffer:Ee.y.buffer,offset:4*Ee.y.offset||0,stride:4*(Ee.y.stride||1),count:Ee.y.count},ze.count=Math.max(ze.xAttr.count,ze.yAttr.count),Ee;Ee=at(Ee,"float64");var rt=ze.count=Math.floor(Ee.length/2),nt=ze.bounds=rt?We(Ee,2):null;if(Be.range||ze.range||(delete ze.range,Be.range=nt),Be.marker||ze.marker||(delete ze.marker,Be.marker=null),Ue&&(!0===Ue||rt>Ue)?ze.tree=Qe(Ee,{bounds:nt}):Ue&&Ue.length&&(ze.tree=Ue),ze.tree){var ft={primitive:"points",usage:"static",data:ze.tree,type:"uint32"};ze.elements?ze.elements(ft):ze.elements=it.elements(ft)}return $e({data:ct.float(Ee),usage:"dynamic"}),et({data:ct.fract(Ee),usage:"dynamic"}),tt({data:new Uint8Array(rt),type:"uint8",usage:"stream"}),Ee}},{marker:function marker(ze,Be,Ue){var We=Be.activation;if(We.forEach((function(Ee){return Ee&&Ee.destroy&&Ee.destroy()})),We.length=0,ze&&"number"!=typeof ze[0]){for(var $e=[],Qe=0,et=Math.min(ze.length,Be.count);Qe<et;Qe++){var tt=Ee.addMarker(ze[Qe]);$e[tt]||($e[tt]=new Uint8Array(Be.count)),$e[tt][Qe]=1}for(var rt=0;rt<$e.length;rt++)if($e[rt]){var nt={data:$e[rt],type:"uint8",usage:"static"};We[rt]?We[rt](nt):We[rt]=it.buffer(nt),We[rt].data=$e[rt]}}else{We[Ee.addMarker(ze)]=!0}return ze},range:function range(Ee,ze,Be){var Ue=ze.bounds;if(Ue)return Ee||(Ee=Ue),ze.scale=[1/(Ee[2]-Ee[0]),1/(Ee[3]-Ee[1])],ze.translate=[-Ee[0],-Ee[1]],ze.scaleFract=ct.fract(ze.scale),ze.translateFract=ct.fract(ze.translate),Ee},viewport:function viewport(Ee){return ft(Ee||[tt.drawingBufferWidth,tt.drawingBufferHeight])}}]),Ut){var tr=Ue,rr=tr.count,ar=tr.size,Lr=tr.borderSize,Qr=tr.sizeBuffer,on=new Uint8Array(2*rr);if(ar.length||Lr.length)for(var sn=0;sn<rr;sn++)on[2*sn]=Math.round(255*(null==ar[sn]?ar:ar[sn])/xt),on[2*sn+1]=Math.round(255*(null==Lr[sn]?Lr:Lr[sn])/xt);Qr({data:on,usage:"dynamic"})}if(er){var ln,cn=Ue,un=cn.count,hn=cn.color,dn=cn.borderColor,vn=cn.colorBuffer;if(Ee.tooManyColors){if(hn.length||dn.length){ln=new Uint8Array(8*un);for(var yn=0;yn<un;yn++){var _n=hn[yn];ln[8*yn]=Lt[4*_n],ln[8*yn+1]=Lt[4*_n+1],ln[8*yn+2]=Lt[4*_n+2],ln[8*yn+3]=Lt[4*_n+3];var Mn=dn[yn];ln[8*yn+4]=Lt[4*Mn],ln[8*yn+5]=Lt[4*Mn+1],ln[8*yn+6]=Lt[4*Mn+2],ln[8*yn+7]=Lt[4*Mn+3]}}}else if(hn.length||dn.length){ln=new Uint8Array(4*un+2);for(var Cn=0;Cn<un;Cn++)null!=hn[Cn]&&(ln[4*Cn]=hn[Cn]%kt,ln[4*Cn+1]=Math.floor(hn[Cn]/kt)),null!=dn[Cn]&&(ln[4*Cn+2]=dn[Cn]%kt,ln[4*Cn+3]=Math.floor(dn[Cn]/kt))}vn({data:ln||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Ue}))}},Scatter.prototype.addMarker=function(Ee){var ze,Be=this.markerTextures,Ue=this.regl,We=this.markerCache,$e=null==Ee?0:We.indexOf(Ee);if($e>=0)return $e;if(Ee instanceof Uint8Array||Ee instanceof Uint8ClampedArray)ze=Ee;else{ze=new Uint8Array(Ee.length);for(var Qe=0,et=Ee.length;Qe<et;Qe++)ze[Qe]=255*Ee[Qe]}var tt=Math.floor(Math.sqrt(ze.length));return $e=Be.length,We.push(Ee),Be.push(Ue.texture({channels:1,data:ze,radius:tt,mag:"linear",min:"linear"})),$e},Scatter.prototype.updateColor=function(Ee){var ze=this.paletteIds,Be=this.palette,We=this.maxColors;Array.isArray(Ee)||(Ee=[Ee]);var Qe=[];if("number"==typeof Ee[0]){var et=[];if(Array.isArray(Ee))for(var tt=0;tt<Ee.length;tt+=4)et.push(Ee.slice(tt,tt+4));else for(var rt=0;rt<Ee.length;rt+=4)et.push(Ee.subarray(rt,rt+4));Ee=et}for(var nt=0;nt<Ee.length;nt++){var at=Ee[nt];at=Ue(at,"uint8");var it=$e(at,!1);if(null==ze[it]){var ct=Be.length;ze[it]=Math.floor(ct/4),Be[ct]=at[0],Be[ct+1]=at[1],Be[ct+2]=at[2],Be[ct+3]=at[3]}Qe[nt]=ze[it]}return!this.tooManyColors&&Be.length>4*We&&(this.tooManyColors=!0),this.updatePalette(Be),1===Qe.length?Qe[0]:Qe},Scatter.prototype.updatePalette=function(Ee){if(!this.tooManyColors){var ze=this.maxColors,Be=this.paletteTexture,Ue=Math.ceil(.25*Ee.length/ze);if(Ue>1)for(var We=.25*(Ee=Ee.slice()).length%ze;We<Ue*ze;We++)Ee.push(0,0,0,0);Be.height<Ue&&Be.resize(ze,Ue),Be.subimage({width:Math.min(.25*Ee.length,ze),height:Ue,data:Ee},0,0)}},Scatter.prototype.destroy=function(){return this.groups.forEach((function(Ee){Ee.sizeBuffer.destroy(),Ee.positionBuffer.destroy(),Ee.positionFractBuffer.destroy(),Ee.colorBuffer.destroy(),Ee.activation.forEach((function(Ee){return Ee&&Ee.destroy&&Ee.destroy()})),Ee.selectionBuffer.destroy(),Ee.elements&&Ee.elements.destroy()})),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach((function(Ee){return Ee&&Ee.destroy&&Ee.destroy()})),this};var kt=Be("320c");Ee.exports=function reglScatter2d(Ee,ze){var Be=new xt(Ee,ze),Ue=Be.render.bind(Be);return kt(Ue,{render:Ue,update:Be.update.bind(Be),draw:Be.draw.bind(Be),destroy:Be.destroy.bind(Be),regl:Be.regl,gl:Be.gl,canvas:Be.gl.canvas,groups:Be.groups,markers:Be.markerCache,palette:Be.palette}),Ue}},"973c":function(Ee,ze,Be){"use strict";Ee.exports=function float2rat(Ee){for(var ze=new Array(Ee.length),Be=0;Be<Ee.length;++Be)ze[Be]=Ue(Ee[Be]);return ze};var Ue=Be("f7bf")},9759:function(Ee,ze,Be){"use strict";var Ue=Be("63dc").FROM_BL;Ee.exports=function scaleZoom(Ee,ze,Be){void 0===Be&&(Be=Ue[Ee.constraintoward||"center"]);var We=[Ee.r2l(Ee.range[0]),Ee.r2l(Ee.range[1])],$e=We[0]+(We[1]-We[0])*Be;Ee.range=Ee._input.range=[Ee.l2r($e+(We[0]-$e)*ze),Ee.l2r($e+(We[1]-$e)*ze)]}},9776:function(Ee,ze,Be){"use strict";Ee.exports=function createHeatmap2D(Ee,ze){var Be=Ee.gl,Ue=Qe(Be,tt.vertex,tt.fragment),We=Qe(Be,tt.pickVertex,tt.pickFragment),$e=et(Be),rt=et(Be),nt=et(Be),at=et(Be),it=new GLHeatmap2D(Ee,Ue,We,$e,rt,nt,at);return it.update(ze),Ee.addObject(it),it};var Ue=Be("cc77"),We=Be("20314"),$e=Be("cea5"),Qe=Be("28dd"),et=Be("efce"),tt=Be("4f25");function GLHeatmap2D(Ee,ze,Be,Ue,We,$e,Qe){this.plot=Ee,this.shader=ze,this.pickShader=Be,this.positionBuffer=Ue,this.weightBuffer=We,this.colorBuffer=$e,this.idBuffer=Qe,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var rt,nt=GLHeatmap2D.prototype,at=[0,0,1,0,0,1,1,0,1,1,0,1];nt.draw=(rt=[1,0,0,0,1,0,0,0,1],function(){var Ee=this.plot,ze=this.shader,Be=this.bounds,Ue=this.numVertices;if(!(Ue<=0)){var We=Ee.gl,$e=Ee.dataBox,Qe=Be[2]-Be[0],et=Be[3]-Be[1],tt=$e[2]-$e[0],nt=$e[3]-$e[1];rt[0]=2*Qe/tt,rt[4]=2*et/nt,rt[6]=2*(Be[0]-$e[0])/tt-1,rt[7]=2*(Be[1]-$e[1])/nt-1,ze.bind();var at=ze.uniforms;at.viewTransform=rt,at.shape=this.shape;var it=ze.attributes;this.positionBuffer.bind(),it.position.pointer(),this.weightBuffer.bind(),it.weight.pointer(We.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),it.color.pointer(We.UNSIGNED_BYTE,!0),We.drawArrays(We.TRIANGLES,0,Ue)}}),nt.drawPick=function(){var Ee=[1,0,0,0,1,0,0,0,1],ze=[0,0,0,0];return function(Be){var Ue=this.plot,We=this.pickShader,$e=this.bounds,Qe=this.numVertices;if(!(Qe<=0)){var et=Ue.gl,tt=Ue.dataBox,rt=$e[2]-$e[0],nt=$e[3]-$e[1],at=tt[2]-tt[0],it=tt[3]-tt[1];Ee[0]=2*rt/at,Ee[4]=2*nt/it,Ee[6]=2*($e[0]-tt[0])/at-1,Ee[7]=2*($e[1]-tt[1])/it-1;for(var ct=0;ct<4;++ct)ze[ct]=Be>>8*ct&255;this.pickOffset=Be,We.bind();var ft=We.uniforms;ft.viewTransform=Ee,ft.pickOffset=ze,ft.shape=this.shape;var xt=We.attributes;return this.positionBuffer.bind(),xt.position.pointer(),this.weightBuffer.bind(),xt.weight.pointer(et.UNSIGNED_BYTE,!1),this.idBuffer.bind(),xt.pickId.pointer(et.UNSIGNED_BYTE,!1),et.drawArrays(et.TRIANGLES,0,Qe),Be+this.shape[0]*this.shape[1]}}}(),nt.pick=function(Ee,ze,Be){var Ue=this.pickOffset,We=this.shape[0]*this.shape[1];if(Be<Ue||Be>=Ue+We)return null;var $e=Be-Ue,Qe=this.xData,et=this.yData;return{object:this,pointId:$e,dataCoord:[Qe[$e%this.shape[0]],et[$e/this.shape[0]|0]]}},nt.update=function(Ee){var ze=(Ee=Ee||{}).shape||[0,0],Be=Ee.x||We(ze[0]),Qe=Ee.y||We(ze[1]),et=Ee.z||new Float32Array(ze[0]*ze[1]);this.xData=Be,this.yData=Qe;var tt=Ee.colorLevels||[0],rt=Ee.colorValues||[0,0,0,1],nt=tt.length,it=this.bounds,ct=it[0]=Be[0],ft=it[1]=Qe[0],xt=1/((it[2]=Be[Be.length-1])-ct),kt=1/((it[3]=Qe[Qe.length-1])-ft),Lt=ze[0],Ut=ze[1];this.shape=[Lt,Ut];var er=(Lt-1)*(Ut-1)*(at.length>>>1);this.numVertices=er;for(var tr=$e.mallocUint8(4*er),rr=$e.mallocFloat32(2*er),ar=$e.mallocUint8(2*er),Lr=$e.mallocUint32(er),Qr=0,on=0;on<Ut-1;++on)for(var sn=kt*(Qe[on]-ft),ln=kt*(Qe[on+1]-ft),cn=0;cn<Lt-1;++cn)for(var un=xt*(Be[cn]-ct),hn=xt*(Be[cn+1]-ct),dn=0;dn<at.length;dn+=2){var vn,yn,_n,Mn,Cn=at[dn],En=at[dn+1],Pn=et[(on+En)*Lt+(cn+Cn)],In=Ue.le(tt,Pn);if(In<0)vn=rt[0],yn=rt[1],_n=rt[2],Mn=rt[3];else if(In===nt-1)vn=rt[4*nt-4],yn=rt[4*nt-3],_n=rt[4*nt-2],Mn=rt[4*nt-1];else{var Bn=(Pn-tt[In])/(tt[In+1]-tt[In]),Hn=1-Bn,Kn=4*In,Jn=4*(In+1);vn=Hn*rt[Kn]+Bn*rt[Jn],yn=Hn*rt[Kn+1]+Bn*rt[Jn+1],_n=Hn*rt[Kn+2]+Bn*rt[Jn+2],Mn=Hn*rt[Kn+3]+Bn*rt[Jn+3]}tr[4*Qr]=255*vn,tr[4*Qr+1]=255*yn,tr[4*Qr+2]=255*_n,tr[4*Qr+3]=255*Mn,rr[2*Qr]=.5*un+.5*hn,rr[2*Qr+1]=.5*sn+.5*ln,ar[2*Qr]=Cn,ar[2*Qr+1]=En,Lr[Qr]=on*Lt+cn,Qr+=1}this.positionBuffer.update(rr),this.weightBuffer.update(ar),this.colorBuffer.update(tr),this.idBuffer.update(Lr),$e.free(rr),$e.free(tr),$e.free(ar),$e.free(Lr)},nt.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},9778:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"component",name:"legend",layoutAttributes:Be("e827"),supplyLayoutDefaults:Be("e813"),draw:Be("43d9"),style:Be("ee77")}},"97d1":function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("94d5").texttemplateAttrs,$e=Be("f4e9"),Qe=Be("81f0").attributes,et=Be("919e"),tt=Be("f200"),rt=Be("23cc"),nt=Be("9092").extendFlat;Ee.exports={labels:tt.labels,parents:tt.parents,values:tt.values,branchvalues:tt.branchvalues,count:tt.count,level:tt.level,maxdepth:tt.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:nt({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:tt.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:tt.marker.line,editType:"calc"},$e("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:nt({},et.textfont,{}),editType:"calc"},text:et.text,textinfo:tt.textinfo,texttemplate:We({editType:"plot"},{keys:rt.eventDataKeys.concat(["label","value"])}),hovertext:et.hovertext,hoverinfo:tt.hoverinfo,hovertemplate:Ue({},{keys:rt.eventDataKeys}),textfont:et.textfont,insidetextfont:et.insidetextfont,outsidetextfont:nt({},et.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},domain:Qe({name:"treemap",trace:!0,editType:"calc"})}},"97e2":function(Ee,ze,Be){"use strict";Ee.exports={init:function sqInit(Ee){var ze=We.nextPow2(Ee);Qe.length<ze&&(Ue.free(Qe),Qe=Ue.mallocInt32(ze));et.length<ze&&(Ue.free(et),et=Ue.mallocInt32(ze));tt.length<ze&&(Ue.free(tt),tt=Ue.mallocInt32(ze));rt.length<ze&&(Ue.free(rt),rt=Ue.mallocInt32(ze));nt.length<ze&&(Ue.free(nt),nt=Ue.mallocInt32(ze));at.length<ze&&(Ue.free(at),at=Ue.mallocInt32(ze));var Be=8*ze;it.length<Be&&(Ue.free(it),it=Ue.mallocDouble(Be))},sweepBipartite:function sweepBipartite(Ee,ze,Be,Ue,We,nt,at,ct,ft,xt){for(var kt=0,Lt=2*Ee,Ut=Ee-1,er=Lt-1,tr=Be;tr<Ue;++tr){var rr=nt[tr],ar=Lt*tr;it[kt++]=We[ar+Ut],it[kt++]=-(rr+1),it[kt++]=We[ar+er],it[kt++]=rr}for(tr=at;tr<ct;++tr){rr=xt[tr]+(1<<28);var Lr=Lt*tr;it[kt++]=ft[Lr+Ut],it[kt++]=-rr,it[kt++]=ft[Lr+er],it[kt++]=rr}var Qr=kt>>>1;$e(it,Qr);var on=0,sn=0;for(tr=0;tr<Qr;++tr){var ln=0|it[2*tr+1];if(ln>=1<<28)sqPop(tt,rt,sn--,ln=ln-(1<<28)|0);else if(ln>=0)sqPop(Qe,et,on--,ln);else if(ln<=-(1<<28)){ln=-ln-(1<<28)|0;for(var cn=0;cn<on;++cn){if(void 0!==(un=ze(Qe[cn],ln)))return un}sqPush(tt,rt,sn++,ln)}else{ln=-ln-1|0;for(cn=0;cn<sn;++cn){var un;if(void 0!==(un=ze(ln,tt[cn])))return un}sqPush(Qe,et,on++,ln)}}},sweepComplete:function sweepComplete(Ee,ze,Be,Ue,We,ct,ft,xt,kt,Lt){for(var Ut=0,er=2*Ee,tr=Ee-1,rr=er-1,ar=Be;ar<Ue;++ar){var Lr=ct[ar]+1<<1,Qr=er*ar;it[Ut++]=We[Qr+tr],it[Ut++]=-Lr,it[Ut++]=We[Qr+rr],it[Ut++]=Lr}for(ar=ft;ar<xt;++ar){Lr=Lt[ar]+1<<1;var on=er*ar;it[Ut++]=kt[on+tr],it[Ut++]=1|-Lr,it[Ut++]=kt[on+rr],it[Ut++]=1|Lr}var sn=Ut>>>1;$e(it,sn);var ln=0,cn=0,un=0;for(ar=0;ar<sn;++ar){var hn=0|it[2*ar+1],dn=1&hn;if(ar<sn-1&&hn>>1==it[2*ar+3]>>1&&(dn=2,ar+=1),hn<0){for(var vn=-(hn>>1)-1,yn=0;yn<un;++yn){if(void 0!==(_n=ze(nt[yn],vn)))return _n}if(0!==dn)for(yn=0;yn<ln;++yn){if(void 0!==(_n=ze(Qe[yn],vn)))return _n}if(1!==dn)for(yn=0;yn<cn;++yn){var _n;if(void 0!==(_n=ze(tt[yn],vn)))return _n}0===dn?sqPush(Qe,et,ln++,vn):1===dn?sqPush(tt,rt,cn++,vn):2===dn&&sqPush(nt,at,un++,vn)}else{vn=(hn>>1)-1;0===dn?sqPop(Qe,et,ln--,vn):1===dn?sqPop(tt,rt,cn--,vn):2===dn&&sqPop(nt,at,un--,vn)}}},scanBipartite:function scanBipartite(Ee,ze,Be,Ue,We,tt,rt,nt,at,ct,ft,xt){var kt=0,Lt=2*Ee,Ut=ze,er=ze+Ee,tr=1,rr=1;Ue?rr=1<<28:tr=1<<28;for(var ar=We;ar<tt;++ar){var Lr=ar+tr,Qr=Lt*ar;it[kt++]=rt[Qr+Ut],it[kt++]=-Lr,it[kt++]=rt[Qr+er],it[kt++]=Lr}for(ar=at;ar<ct;++ar){Lr=ar+rr;var on=Lt*ar;it[kt++]=ft[on+Ut],it[kt++]=-Lr}var sn=kt>>>1;$e(it,sn);var ln=0;for(ar=0;ar<sn;++ar){var cn=0|it[2*ar+1];if(cn<0){var un=!1;if((Lr=-cn)>=1<<28?(un=!Ue,Lr-=1<<28):(un=!!Ue,Lr-=1),un)sqPush(Qe,et,ln++,Lr);else{var hn=xt[Lr],dn=Lt*Lr,vn=ft[dn+ze+1],yn=ft[dn+ze+1+Ee];e:for(var _n=0;_n<ln;++_n){var Mn=Qe[_n],Cn=Lt*Mn;if(!(yn<rt[Cn+ze+1]||rt[Cn+ze+1+Ee]<vn)){for(var En=ze+2;En<Ee;++En)if(ft[dn+En+Ee]<rt[Cn+En]||rt[Cn+En+Ee]<ft[dn+En])continue e;var Pn,In=nt[Mn];if(void 0!==(Pn=Ue?Be(hn,In):Be(In,hn)))return Pn}}}}else sqPop(Qe,et,ln--,cn-tr)}},scanComplete:function scanComplete(Ee,ze,Be,Ue,We,et,tt,rt,nt,at,ct){for(var ft=0,xt=2*Ee,kt=ze,Lt=ze+Ee,Ut=Ue;Ut<We;++Ut){var er=Ut+(1<<28),tr=xt*Ut;it[ft++]=et[tr+kt],it[ft++]=-er,it[ft++]=et[tr+Lt],it[ft++]=er}for(Ut=rt;Ut<nt;++Ut){er=Ut+1;var rr=xt*Ut;it[ft++]=at[rr+kt],it[ft++]=-er}var ar=ft>>>1;$e(it,ar);var Lr=0;for(Ut=0;Ut<ar;++Ut){var Qr=0|it[2*Ut+1];if(Qr<0){if((er=-Qr)>=1<<28)Qe[Lr++]=er-(1<<28);else{var on=ct[er-=1],sn=xt*er,ln=at[sn+ze+1],cn=at[sn+ze+1+Ee];e:for(var un=0;un<Lr;++un){var hn=Qe[un],dn=tt[hn];if(dn===on)break;var vn=xt*hn;if(!(cn<et[vn+ze+1]||et[vn+ze+1+Ee]<ln)){for(var yn=ze+2;yn<Ee;++yn)if(at[sn+yn+Ee]<et[vn+yn]||et[vn+yn+Ee]<at[sn+yn])continue e;var _n=Be(dn,on);if(void 0!==_n)return _n}}}}else{for(er=Qr-(1<<28),un=Lr-1;un>=0;--un)if(Qe[un]===er){for(yn=un+1;yn<Lr;++yn)Qe[yn-1]=Qe[yn];break}--Lr}}}};var Ue=Be("cea5"),We=Be("a48a"),$e=Be("0119"),Qe=Ue.mallocInt32(1024),et=Ue.mallocInt32(1024),tt=Ue.mallocInt32(1024),rt=Ue.mallocInt32(1024),nt=Ue.mallocInt32(1024),at=Ue.mallocInt32(1024),it=Ue.mallocDouble(8192);function sqPop(Ee,ze,Be,Ue){var We=ze[Ue],$e=Ee[Be-1];Ee[We]=$e,ze[$e]=We}function sqPush(Ee,ze,Be,Ue){Ee[Be]=Ue,ze[Ue]=Be}},9845:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){var ze=Ee.editType,Be=Ee.colorEditType;void 0===Be&&(Be=ze);var Ue={family:{valType:"string",noBlank:!0,strict:!0,editType:ze},size:{valType:"number",min:1,editType:ze},color:{valType:"color",editType:Be},editType:ze};return Ee.arrayOk&&(Ue.family.arrayOk=!0,Ue.size.arrayOk=!0,Ue.color.arrayOk=!0),Ue}},"986b":function(Ee,ze,Be){"use strict";var Ue,We=Be("936a"),$e=Be("262a"),Qe=Be("7dc8"),et=Be("d66f"),tt=Be("f3a6"),rt=Be("4665"),nt=Function.prototype.bind,at=Object.defineProperty,it=Object.prototype.hasOwnProperty;Ue=function(Ee,ze,Be){var Ue,We=$e(ze)&&Qe(ze.value);return delete(Ue=et(ze)).writable,delete Ue.value,Ue.get=function(){return!Be.overwriteDefinition&&it.call(this,Ee)?We:(ze.value=nt.call(We,Be.resolveContext?Be.resolveContext(this):this),at(this,Ee,ze),this[Ee])},Ue},Ee.exports=function(Ee){var ze=tt(arguments[1]);return We(ze.resolveContext)&&Qe(ze.resolveContext),rt(Ee,(function(Ee,Be){return Ue(Be,Ee,ze)}))}},"98e7":function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("feed");function calcHover(Ee,ze,Be,Qe){var et=Ee.xa,tt=Ee.ya,rt=Ee.distance,nt=Ee.dxy,at=Ee.index,it={pointNumber:at,x:ze[at],y:Be[at]};it.tx=Array.isArray(Qe.text)?Qe.text[at]:Qe.text,it.htx=Array.isArray(Qe.hovertext)?Qe.hovertext[at]:Qe.hovertext,it.data=Array.isArray(Qe.customdata)?Qe.customdata[at]:Qe.customdata,it.tp=Array.isArray(Qe.textposition)?Qe.textposition[at]:Qe.textposition;var ct=Qe.textfont;ct&&(it.ts=We.isArrayOrTypedArray(ct.size)?ct.size[at]:ct.size,it.tc=Array.isArray(ct.color)?ct.color[at]:ct.color,it.tf=Array.isArray(ct.family)?ct.family[at]:ct.family);var ft=Qe.marker;ft&&(it.ms=We.isArrayOrTypedArray(ft.size)?ft.size[at]:ft.size,it.mo=We.isArrayOrTypedArray(ft.opacity)?ft.opacity[at]:ft.opacity,it.mx=We.isArrayOrTypedArray(ft.symbol)?ft.symbol[at]:ft.symbol,it.mc=We.isArrayOrTypedArray(ft.color)?ft.color[at]:ft.color);var xt=ft&&ft.line;xt&&(it.mlc=Array.isArray(xt.color)?xt.color[at]:xt.color,it.mlw=We.isArrayOrTypedArray(xt.width)?xt.width[at]:xt.width);var kt=ft&&ft.gradient;kt&&"none"!==kt.type&&(it.mgt=Array.isArray(kt.type)?kt.type[at]:kt.type,it.mgc=Array.isArray(kt.color)?kt.color[at]:kt.color);var Lt=et.c2p(it.x,!0),Ut=tt.c2p(it.y,!0),er=it.mrc||1,tr=Qe.hoverlabel;tr&&(it.hbg=Array.isArray(tr.bgcolor)?tr.bgcolor[at]:tr.bgcolor,it.hbc=Array.isArray(tr.bordercolor)?tr.bordercolor[at]:tr.bordercolor,it.hts=We.isArrayOrTypedArray(tr.font.size)?tr.font.size[at]:tr.font.size,it.htc=Array.isArray(tr.font.color)?tr.font.color[at]:tr.font.color,it.htf=Array.isArray(tr.font.family)?tr.font.family[at]:tr.font.family,it.hnl=We.isArrayOrTypedArray(tr.namelength)?tr.namelength[at]:tr.namelength);var rr=Qe.hoverinfo;rr&&(it.hi=Array.isArray(rr)?rr[at]:rr);var ar=Qe.hovertemplate;ar&&(it.ht=Array.isArray(ar)?ar[at]:ar);var Lr={};Lr[Ee.index]=it;var Qr=We.extendFlat({},Ee,{color:$e(Qe,it),x0:Lt-er,x1:Lt+er,xLabelVal:it.x,y0:Ut-er,y1:Ut+er,yLabelVal:it.y,cd:Lr,distance:rt,spikeDistance:nt,hovertemplate:it.ht});return it.htx?Qr.text=it.htx:it.tx?Qr.text=it.tx:Qe.text&&(Qr.text=Qe.text),We.fillText(it,Qe,Qr),Ue.getComponentMethod("errorbars","hoverInfo")(it,Qe,Qr),Qr}Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,Ue){var We,$e,Qe,et,tt,rt,nt,at,it,ct=Ee.cd,ft=ct[0].t,xt=ct[0].trace,kt=Ee.xa,Lt=Ee.ya,Ut=ft.x,er=ft.y,tr=kt.c2p(ze),rr=Lt.c2p(Be),ar=Ee.distance;if(ft.tree){var Lr=kt.p2c(tr-ar),Qr=kt.p2c(tr+ar),on=Lt.p2c(rr-ar),sn=Lt.p2c(rr+ar);We="x"===Ue?ft.tree.range(Math.min(Lr,Qr),Math.min(Lt._rl[0],Lt._rl[1]),Math.max(Lr,Qr),Math.max(Lt._rl[0],Lt._rl[1])):ft.tree.range(Math.min(Lr,Qr),Math.min(on,sn),Math.max(Lr,Qr),Math.max(on,sn))}else We=ft.ids;var ln=ar;if("x"===Ue)for(tt=0;tt<We.length;tt++)Qe=Ut[We[tt]],(rt=Math.abs(kt.c2p(Qe)-tr))<ln&&(ln=rt,nt=Lt.c2p(er[We[tt]])-rr,it=Math.sqrt(rt*rt+nt*nt),$e=We[tt]);else for(tt=We.length-1;tt>-1;tt--)Qe=Ut[We[tt]],et=er[We[tt]],rt=kt.c2p(Qe)-tr,nt=Lt.c2p(et)-rr,(at=Math.sqrt(rt*rt+nt*nt))<ln&&(ln=it=at,$e=We[tt]);return Ee.index=$e,Ee.distance=ln,Ee.dxy=it,void 0===$e?[Ee]:[calcHover(Ee,Ut,er,xt)]},calcHover:calcHover}},"98e74":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642");Ee.exports=function formatLabels(Ee,ze,Be){var $e,Qe,et={},tt=Be[ze.subplot]._subplot;tt?($e=tt.radialAxis,Qe=tt.angularAxis):($e=(tt=Be[ze.subplot]).radialaxis,Qe=tt.angularaxis);var rt=$e.c2l(Ee.r);et.rLabel=We.tickText($e,rt,!0).text;var nt="degrees"===Qe.thetaunit?Ue.rad2deg(Ee.theta):Ee.theta;return et.thetaLabel=We.tickText(Qe,nt,!0).text,et}},9915:function(Ee,ze,Be){"use strict";Ee.exports=function planarDual(Ee,ze){for(var Be=0|ze.length,We=Ee.length,$e=[new Array(Be),new Array(Be)],Qe=0;Qe<Be;++Qe)$e[0][Qe]=[],$e[1][Qe]=[];for(Qe=0;Qe<We;++Qe){var et=Ee[Qe];$e[0][et[0]].push(et),$e[1][et[1]].push(et)}var tt=[];for(Qe=0;Qe<Be;++Qe)$e[0][Qe].length+$e[1][Qe].length===0&&tt.push([Qe]);function cut(Ee,ze){var Be=$e[ze][Ee[ze]];Be.splice(Be.indexOf(Ee),1)}function next(Ee,Be,We){for(var Qe,et,tt,rt=0;rt<2;++rt)if($e[rt][Be].length>0){Qe=$e[rt][Be][0],tt=rt;break}et=Qe[1^tt];for(var nt=0;nt<2;++nt)for(var at=$e[nt][Be],it=0;it<at.length;++it){var ct=at[it],ft=ct[1^nt];Ue(ze[Ee],ze[Be],ze[et],ze[ft])>0&&(Qe=ct,et=ft,tt=nt)}return We||Qe&&cut(Qe,tt),et}function extractCycle(Ee,Be){var We=$e[Be][Ee][0],Qe=[Ee];cut(We,Be);for(var et=We[1^Be];;){for(;et!==Ee;)Qe.push(et),et=next(Qe[Qe.length-2],et,!1);if($e[0][Ee].length+$e[1][Ee].length===0)break;var tt=Qe[Qe.length-1],rt=Ee,nt=Qe[1],at=next(tt,rt,!0);if(Ue(ze[tt],ze[rt],ze[nt],ze[at])<0)break;Qe.push(Ee),et=next(tt,rt)}return Qe}function shouldGlue(Ee,ze){return ze[1]===ze[ze.length-1]}for(Qe=0;Qe<Be;++Qe)for(var rt=0;rt<2;++rt){for(var nt=[];$e[rt][Qe].length>0;){$e[0][Qe].length;var at=extractCycle(Qe,rt);shouldGlue(0,at)?nt.push.apply(nt,at):(nt.length>0&&tt.push(nt),nt=at)}nt.length>0&&tt.push(nt)}return tt};var Ue=Be("3122")},9935:function(Ee,ze,Be){var Ue=Be("c14d");Ee.exports=function Intersecter(Ee,ze,Be){function segmentCopy(Ee,ze,Ue){return{id:Be?Be.segmentId():-1,start:Ee,end:ze,myFill:{above:Ue.myFill.above,below:Ue.myFill.below},otherFill:null}}var We=Ue.create();function eventAdd(Ee,Be){We.insertBefore(Ee,(function(Ue){return function eventCompare(Ee,Be,Ue,We,$e,Qe){var et=ze.pointsCompare(Be,$e);return 0!==et?et:ze.pointsSame(Ue,Qe)?0:Ee!==We?Ee?1:-1:ze.pointAboveOrOnLine(Ue,We?$e:Qe,We?Qe:$e)?1:-1}(Ee.isStart,Ee.pt,Be,Ue.isStart,Ue.pt,Ue.other.pt)<0}))}function eventAddSegment(Ee,ze){var Be=function eventAddSegmentStart(Ee,ze){var Be=Ue.node({isStart:!0,pt:Ee.start,seg:Ee,primary:ze,other:null,status:null});return eventAdd(Be,Ee.end),Be}(Ee,ze);return function eventAddSegmentEnd(Ee,ze,Be){var We=Ue.node({isStart:!1,pt:ze.end,seg:ze,primary:Be,other:Ee,status:null});Ee.other=We,eventAdd(We,Ee.pt)}(Be,Ee,ze),Be}function eventDivide(Ee,ze){var Ue=segmentCopy(ze,Ee.seg.end,Ee.seg);return function eventUpdateEnd(Ee,ze){Be&&Be.segmentChop(Ee.seg,ze),Ee.other.remove(),Ee.seg.end=ze,Ee.other.pt=ze,eventAdd(Ee.other,Ee.pt)}(Ee,ze),eventAddSegment(Ue,Ee.primary)}function calculate($e,Qe){var et=Ue.create();function statusFindSurrounding(Ee){return et.findTransition((function(Be){return function statusCompare(Ee,Be){var Ue=Ee.seg.start,We=Ee.seg.end,$e=Be.seg.start,Qe=Be.seg.end;return ze.pointsCollinear(Ue,$e,Qe)?ze.pointsCollinear(We,$e,Qe)||ze.pointAboveOrOnLine(We,$e,Qe)?1:-1:ze.pointAboveOrOnLine(Ue,$e,Qe)?1:-1}(Ee,Be.ev)>0}))}function checkIntersection(Ee,Ue){var We=Ee.seg,$e=Ue.seg,Qe=We.start,et=We.end,tt=$e.start,rt=$e.end;Be&&Be.checkIntersection(We,$e);var nt=ze.linesIntersect(Qe,et,tt,rt);if(!1===nt){if(!ze.pointsCollinear(Qe,et,tt))return!1;if(ze.pointsSame(Qe,rt)||ze.pointsSame(et,tt))return!1;var at=ze.pointsSame(Qe,tt),it=ze.pointsSame(et,rt);if(at&&it)return Ue;var ct=!at&&ze.pointBetween(Qe,tt,rt),ft=!it&&ze.pointBetween(et,tt,rt);if(at)return ft?eventDivide(Ue,et):eventDivide(Ee,rt),Ue;ct&&(it||(ft?eventDivide(Ue,et):eventDivide(Ee,rt)),eventDivide(Ue,Qe))}else 0===nt.alongA&&(-1===nt.alongB?eventDivide(Ee,tt):0===nt.alongB?eventDivide(Ee,nt.pt):1===nt.alongB&&eventDivide(Ee,rt)),0===nt.alongB&&(-1===nt.alongA?eventDivide(Ue,Qe):0===nt.alongA?eventDivide(Ue,nt.pt):1===nt.alongA&&eventDivide(Ue,et));return!1}for(var tt=[];!We.isEmpty();){var rt=We.getHead();if(Be&&Be.vert(rt.pt[0]),rt.isStart){Be&&Be.segmentNew(rt.seg,rt.primary);var nt=statusFindSurrounding(rt),at=nt.before?nt.before.ev:null,it=nt.after?nt.after.ev:null;function checkBothIntersections(){if(at){var Ee=checkIntersection(rt,at);if(Ee)return Ee}return!!it&&checkIntersection(rt,it)}Be&&Be.tempStatus(rt.seg,!!at&&at.seg,!!it&&it.seg);var ct,ft=checkBothIntersections();if(ft){var xt;if(Ee)(xt=null===rt.seg.myFill.below||rt.seg.myFill.above!==rt.seg.myFill.below)&&(ft.seg.myFill.above=!ft.seg.myFill.above);else ft.seg.otherFill=rt.seg.myFill;Be&&Be.segmentUpdate(ft.seg),rt.other.remove(),rt.remove()}if(We.getHead()!==rt){Be&&Be.rewind(rt.seg);continue}if(Ee)xt=null===rt.seg.myFill.below||rt.seg.myFill.above!==rt.seg.myFill.below,rt.seg.myFill.below=it?it.seg.myFill.above:$e,rt.seg.myFill.above=xt?!rt.seg.myFill.below:rt.seg.myFill.below;else if(null===rt.seg.otherFill)ct=it?rt.primary===it.primary?it.seg.otherFill.above:it.seg.myFill.above:rt.primary?Qe:$e,rt.seg.otherFill={above:ct,below:ct};Be&&Be.status(rt.seg,!!at&&at.seg,!!it&&it.seg),rt.other.status=nt.insert(Ue.node({ev:rt}))}else{var kt=rt.status;if(null===kt)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(et.exists(kt.prev)&&et.exists(kt.next)&&checkIntersection(kt.prev.ev,kt.next.ev),Be&&Be.statusRemove(kt.ev.seg),kt.remove(),!rt.primary){var Lt=rt.seg.myFill;rt.seg.myFill=rt.seg.otherFill,rt.seg.otherFill=Lt}tt.push(rt.seg)}We.getHead().remove()}return Be&&Be.done(),tt}return Ee?{addRegion:function(Ee){for(var Ue,We,$e,Qe=Ee[Ee.length-1],et=0;et<Ee.length;et++){Ue=Qe,Qe=Ee[et];var tt=ze.pointsCompare(Ue,Qe);0!==tt&&eventAddSegment((We=tt<0?Ue:Qe,$e=tt<0?Qe:Ue,{id:Be?Be.segmentId():-1,start:We,end:$e,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(Ee){return calculate(Ee,!1)}}:{calculate:function(Ee,ze,Be,Ue){return Ee.forEach((function(Ee){eventAddSegment(segmentCopy(Ee.start,Ee.end,Ee),!0)})),Be.forEach((function(Ee){eventAddSegment(segmentCopy(Ee.start,Ee.end,Ee),!1)})),calculate(ze,Ue)}}}},9969:function(Ee,ze){Ee.exports=function rotate(Ee,ze,Be,Ue){var We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar,Lr,Qr,on,sn,ln,cn=Ue[0],un=Ue[1],hn=Ue[2],dn=Math.sqrt(cn*cn+un*un+hn*hn);if(Math.abs(dn)<1e-6)return null;cn*=dn=1/dn,un*=dn,hn*=dn,We=Math.sin(Be),$e=Math.cos(Be),Qe=1-$e,et=ze[0],tt=ze[1],rt=ze[2],nt=ze[3],at=ze[4],it=ze[5],ct=ze[6],ft=ze[7],xt=ze[8],kt=ze[9],Lt=ze[10],Ut=ze[11],er=cn*cn*Qe+$e,tr=un*cn*Qe+hn*We,rr=hn*cn*Qe-un*We,ar=cn*un*Qe-hn*We,Lr=un*un*Qe+$e,Qr=hn*un*Qe+cn*We,on=cn*hn*Qe+un*We,sn=un*hn*Qe-cn*We,ln=hn*hn*Qe+$e,Ee[0]=et*er+at*tr+xt*rr,Ee[1]=tt*er+it*tr+kt*rr,Ee[2]=rt*er+ct*tr+Lt*rr,Ee[3]=nt*er+ft*tr+Ut*rr,Ee[4]=et*ar+at*Lr+xt*Qr,Ee[5]=tt*ar+it*Lr+kt*Qr,Ee[6]=rt*ar+ct*Lr+Lt*Qr,Ee[7]=nt*ar+ft*Lr+Ut*Qr,Ee[8]=et*on+at*sn+xt*ln,Ee[9]=tt*on+it*sn+kt*ln,Ee[10]=rt*on+ct*sn+Lt*ln,Ee[11]=nt*on+ft*sn+Ut*ln,ze!==Ee&&(Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]);return Ee}},"99af":function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("d039"),$e=Be("e8b5"),Qe=Be("861d"),et=Be("7b0b"),tt=Be("50c4"),rt=Be("8418"),nt=Be("65f0"),at=Be("1dde"),it=Be("b622"),ct=Be("2d00"),ft=it("isConcatSpreadable"),xt=ct>=51||!We((function(){var Ee=[];return Ee[ft]=!1,Ee.concat()[0]!==Ee})),kt=at("concat"),isConcatSpreadable=function(Ee){if(!Qe(Ee))return!1;var ze=Ee[ft];return void 0!==ze?!!ze:$e(Ee)};Ue({target:"Array",proto:!0,forced:!xt||!kt},{concat:function concat(Ee){var ze,Be,Ue,We,$e,Qe=et(this),at=nt(Qe,0),it=0;for(ze=-1,Ue=arguments.length;ze<Ue;ze++)if(isConcatSpreadable($e=-1===ze?Qe:arguments[ze])){if(it+(We=tt($e.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(Be=0;Be<We;Be++,it++)Be in $e&&rt(at,it,$e[Be])}else{if(it>=9007199254740991)throw TypeError("Maximum allowed index exceeded");rt(at,it++,$e)}return at.length=it,at}})},"99d6":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("215c").hasColorscale,$e=Be("4183"),Qe=Be("81f0").defaults,et=Be("e5ac"),tt=Be("a27e"),rt=Be("8cdc");function dimensionDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,tt.dimensions,Be,We)}var Be=coerce("values"),We=coerce("visible");if(Be&&Be.length||(We=ze.visible=!1),We){coerce("label"),coerce("displayindex",ze._index);var $e,Qe=Ee.categoryarray,et=Array.isArray(Qe)&&Qe.length>0;et&&($e="array");var rt=coerce("categoryorder",$e);"array"===rt?(coerce("categoryarray"),coerce("ticktext")):(delete Ee.categoryarray,delete Ee.ticktext),et||"array"!==rt||(ze.categoryorder="trace")}}Ee.exports=function supplyDefaults(Ee,ze,Be,nt){function coerce(Be,We){return Ue.coerce(Ee,ze,tt,Be,We)}var at=et(Ee,ze,{name:"dimensions",handleItemDefaults:dimensionDefaults}),it=function handleLineDefaults(Ee,ze,Be,Qe,et){et("line.shape"),et("line.hovertemplate");var tt=et("line.color",Qe.colorway[0]);if(We(Ee,"line")&&Ue.isArrayOrTypedArray(tt)){if(tt.length)return et("line.colorscale"),$e(Ee,ze,Qe,et,{prefix:"line.",cLetter:"c"}),tt.length;ze.line.color=Be}return 1/0}(Ee,ze,Be,nt,coerce);Qe(ze,nt,coerce),Array.isArray(at)&&at.length||(ze.visible=!1),rt(ze,at,"values",it),coerce("hoveron"),coerce("hovertemplate"),coerce("arrangement"),coerce("bundlecolors"),coerce("sortpaths"),coerce("counts");var ct={family:nt.font.family,size:Math.round(nt.font.size),color:nt.font.color};Ue.coerceFont(coerce,"labelfont",ct);var ft={family:nt.font.family,size:Math.round(nt.font.size/1.2),color:nt.font.color};Ue.coerceFont(coerce,"tickfont",ft)}},"99f7":function(Ee,ze,Be){Ee.exports=Be("fb8f")},"99fd":function(Ee,ze,Be){"use strict";var Ue=Be("12e0"),We=Be("fc26"),$e=Be("e806"),Qe=$e.EPOCHJD,et=$e.ONEDAY,tt={valType:"enumerated",values:Object.keys(Ue.calendars),editType:"calc",dflt:"gregorian"},handleDefaults=function(Ee,ze,Be,Ue){var $e={};return $e[Be]=tt,We.coerce(Ee,ze,$e,Be,Ue)},rt={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var nt={};function getCal(Ee){var ze=nt[Ee];return ze||(ze=nt[Ee]=Ue.instance(Ee))}function makeAttrs(Ee){return We.extendFlat({},tt,{description:Ee})}function makeTraceAttrsDescription(Ee){return"Sets the calendar system to use with `"+Ee+"` date data."}var at={xcalendar:makeAttrs(makeTraceAttrsDescription("x"))},it=We.extendFlat({},at,{ycalendar:makeAttrs(makeTraceAttrsDescription("y"))}),ct=We.extendFlat({},it,{zcalendar:makeAttrs(makeTraceAttrsDescription("z"))}),ft=makeAttrs(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Ee.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:it,bar:it,box:it,heatmap:it,contour:it,histogram:it,histogram2d:it,histogram2dcontour:it,scatter3d:ct,surface:ct,mesh3d:ct,scattergl:it,ohlc:at,candlestick:at},layout:{calendar:makeAttrs(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:ft},yaxis:{calendar:ft},scene:{xaxis:{calendar:ft},yaxis:{calendar:ft},zaxis:{calendar:ft}},polar:{radialaxis:{calendar:ft}}},transforms:{filter:{valuecalendar:makeAttrs(["Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:makeAttrs(["Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:tt,handleDefaults:handleDefaults,handleTraceDefaults:function(Ee,ze,Be,Ue){for(var We=0;We<Be.length;We++)handleDefaults(Ee,ze,Be[We]+"calendar",Ue.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:getCal,worldCalFmt:function worldCalFmt(Ee,ze,Be){for(var Ue,We,$e,tt,nt,at=Math.floor((ze+.05)/et)+Qe,it=getCal(Be).fromJD(at),ct=0;-1!==(ct=Ee.indexOf("%",ct));)"0"===(Ue=Ee.charAt(ct+1))||"-"===Ue||"_"===Ue?($e=3,We=Ee.charAt(ct+2),"_"===Ue&&(Ue="-")):(We=Ue,Ue="0",$e=2),(tt=rt[We])?(nt="##"===tt?"##":it.formatDate(tt[Ue]),Ee=Ee.substr(0,ct)+nt+Ee.substr(ct+$e),ct+=nt.length):ct+=$e;return Ee}}},"9a02":function(Ee,ze){Ee.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},"9a82":function(Ee,ze){Ee.exports=function decodeFloat(Ee,ze,We,$e){return Be[0]=$e,Be[1]=We,Be[2]=ze,Be[3]=Ee,Ue[0]};var Be=new Uint8Array(4),Ue=new Float32Array(Be.buffer)},"9aeb":function(Ee,ze,Be){"use strict";var Ue=Be("96e3"),We=Be("b7d1"),$e=Be("be00"),Qe=Be("c449"),et=Be("aeeb"),tt=Be("3de2"),rt=Be("37cd");function SPLOM(Ee,ze){if(!(this instanceof SPLOM))return new SPLOM(Ee,ze);this.traces=[],this.passes={},this.regl=Ee,this.scatter=Ue(Ee),this.canvas=this.scatter.canvas}function passId(Ee,ze,Be){return(null!=Ee.id?Ee.id:Ee)<<16|(255&ze)<<8|255&Be}function getBox(Ee,ze,Be){var Ue,We,$e,Qe,et=Ee[ze],tt=Ee[Be];return et.length>2?(et[0],et[2],Ue=et[1],We=et[3]):et.length?(Ue=et[0],We=et[1]):(et.x,Ue=et.y,et.x+et.width,We=et.y+et.height),tt.length>2?($e=tt[0],Qe=tt[2],tt[1],tt[3]):tt.length?($e=tt[0],Qe=tt[1]):($e=tt.x,tt.y,Qe=tt.x+tt.width,tt.y+tt.height),[$e,Ue,Qe,We]}function getPad(Ee){if("number"==typeof Ee)return[Ee,Ee,Ee,Ee];if(2===Ee.length)return[Ee[0],Ee[1],Ee[0],Ee[1]];var ze=tt(Ee);return[ze.x,ze.y,ze.x+ze.width,ze.y+ze.height]}Ee.exports=SPLOM,SPLOM.prototype.render=function(){for(var Ee,ze=this,Be=[],Ue=arguments.length;Ue--;)Be[Ue]=arguments[Ue];return Be.length&&(Ee=this).update.apply(Ee,Be),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=Qe((function(){ze.draw(),ze.dirty=!0,ze.planned=null}))):(this.draw(),this.dirty=!0,Qe((function(){ze.dirty=!1}))),this)},SPLOM.prototype.update=function(){for(var Ee,ze=[],Be=arguments.length;Be--;)ze[Be]=arguments[Be];if(ze.length){for(var Ue=0;Ue<ze.length;Ue++)this.updateItem(Ue,ze[Ue]);this.traces=this.traces.filter(Boolean);for(var We=[],$e=0,Qe=0;Qe<this.traces.length;Qe++){for(var et=this.traces[Qe],tt=this.traces[Qe].passes,rt=0;rt<tt.length;rt++)We.push(this.passes[tt[rt]]);et.passOffset=$e,$e+=et.passes.length}return(Ee=this.scatter).update.apply(Ee,We),this}},SPLOM.prototype.updateItem=function(Ee,ze){var Be=this.regl;if(null===ze)return this.traces[Ee]=null,this;if(!ze)return this;var Ue,Qe=We(ze,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),et=this.traces[Ee]||(this.traces[Ee]={id:Ee,buffer:Be.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:tt([Be._gl.drawingBufferWidth,Be._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=Qe.color&&(et.color=Qe.color),null!=Qe.size&&(et.size=Qe.size),null!=Qe.marker&&(et.marker=Qe.marker),null!=Qe.borderColor&&(et.borderColor=Qe.borderColor),null!=Qe.borderSize&&(et.borderSize=Qe.borderSize),null!=Qe.opacity&&(et.opacity=Qe.opacity),Qe.viewport&&(et.viewport=tt(Qe.viewport)),null!=Qe.diagonal&&(et.diagonal=Qe.diagonal),null!=Qe.upper&&(et.upper=Qe.upper),null!=Qe.lower&&(et.lower=Qe.lower),Qe.data){et.buffer(rt(Qe.data)),et.columns=Qe.data.length,et.count=Qe.data[0].length,et.bounds=[];for(var nt=0;nt<et.columns;nt++)et.bounds[nt]=$e(Qe.data[nt],1)}Qe.range&&(et.range=Qe.range,Ue=et.range&&"number"!=typeof et.range[0]),Qe.domain&&(et.domain=Qe.domain);var at=!1;null!=Qe.padding&&(Array.isArray(Qe.padding)&&Qe.padding.length===et.columns&&"number"==typeof Qe.padding[Qe.padding.length-1]?(et.padding=Qe.padding.map(getPad),at=!0):et.padding=getPad(Qe.padding));var it=et.columns,ct=et.count,ft=et.viewport.width,xt=et.viewport.height,kt=et.viewport.x,Lt=et.viewport.y,Ut=ft/it,er=xt/it;et.passes=[];for(var tr=0;tr<it;tr++)for(var rr=0;rr<it;rr++)if((et.diagonal||rr!==tr)&&(et.upper||!(tr>rr))&&(et.lower||!(tr<rr))){var ar=passId(et.id,tr,rr),Lr=this.passes[ar]||(this.passes[ar]={});if(Qe.data&&(Qe.transpose?Lr.positions={x:{buffer:et.buffer,offset:rr,count:ct,stride:it},y:{buffer:et.buffer,offset:tr,count:ct,stride:it}}:Lr.positions={x:{buffer:et.buffer,offset:rr*ct,count:ct},y:{buffer:et.buffer,offset:tr*ct,count:ct}},Lr.bounds=getBox(et.bounds,tr,rr)),Qe.domain||Qe.viewport||Qe.data){var Qr=at?getBox(et.padding,tr,rr):et.padding;if(et.domain){var on=getBox(et.domain,tr,rr),sn=on[0],ln=on[1],cn=on[2],un=on[3];Lr.viewport=[kt+sn*ft+Qr[0],Lt+ln*xt+Qr[1],kt+cn*ft-Qr[2],Lt+un*xt-Qr[3]]}else Lr.viewport=[kt+rr*Ut+Ut*Qr[0],Lt+tr*er+er*Qr[1],kt+(rr+1)*Ut-Ut*Qr[2],Lt+(tr+1)*er-er*Qr[3]]}Qe.color&&(Lr.color=et.color),Qe.size&&(Lr.size=et.size),Qe.marker&&(Lr.marker=et.marker),Qe.borderSize&&(Lr.borderSize=et.borderSize),Qe.borderColor&&(Lr.borderColor=et.borderColor),Qe.opacity&&(Lr.opacity=et.opacity),Qe.range&&(Lr.range=Ue?getBox(et.range,tr,rr):et.range||Lr.bounds),et.passes.push(ar)}return this},SPLOM.prototype.draw=function(){for(var Ee,ze=[],Be=arguments.length;Be--;)ze[Be]=arguments[Be];if(ze.length){for(var Ue=[],We=0;We<ze.length;We++)if("number"==typeof ze[We]){var $e=this.traces[ze[We]],Qe=$e.passes,tt=$e.passOffset;Ue.push.apply(Ue,et(tt,tt+Qe.length))}else if(ze[We].length){var rt=ze[We],nt=this.traces[We],at=nt.passes,it=nt.passOffset;at=at.map((function(Ee,ze){Ue[it+ze]=rt}))}(Ee=this.scatter).draw.apply(Ee,Ue)}else this.scatter.draw();return this},SPLOM.prototype.destroy=function(){return this.traces.forEach((function(Ee){Ee.buffer&&Ee.buffer.destroy&&Ee.buffer.destroy()})),this.traces=null,this.passes=null,this.scatter.destroy(),this}},"9b49":function(Ee,ze){Ee.exports=function lerp(Ee,ze,Be){return Ee*(1-Be)+ze*Be}},"9b68":function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze){for(var Be,Ue=Ee._fullData.length,We=0;We<Ue;We++){var $e=Ee._fullData[We];if($e.index!==ze.index&&("carpet"===$e.type&&(Be||(Be=$e),$e.carpet===ze.carpet)))return $e}return Be}},"9bf2":function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("0cfb"),$e=Be("825a"),Qe=Be("c04e"),et=Object.defineProperty;ze.f=Ue?et:function defineProperty(Ee,ze,Be){if($e(Ee),ze=Qe(ze,!0),$e(Be),We)try{return et(Ee,ze,Be)}catch(Ee){}if("get"in Be||"set"in Be)throw TypeError("Accessors not supported");return"value"in Be&&(Ee[ze]=Be.value),Ee}},"9c18":function(Ee,ze,Be){"use strict";for(var Ue=Be("0435"),We=Be("f4e9"),$e=Be("9092").extendFlat,Qe=Be("cb34").overrideAll,et=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],tt={},rt=0;rt<et.length;rt++){var nt=et[rt];tt[nt]=Ue[nt]}$e(tt,We("",{cLetter:"z",autoColorDflt:!1})),Ee.exports=Qe(tt,"calc","nested")},"9c5f":function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("82b5"),$e=Be("9092").extendDeepAll,Qe=Be("cb34").overrideAll,et=Be("5b68"),tt=Be("a651").templatedArray,rt=Be("e639"),nt=tt("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});Ee.exports=Qe(tt("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:nt,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:$e(We({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:et.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:Ue({})},font:Ue({}),activebgcolor:{valType:"color",dflt:rt.gripBgActiveColor},bgcolor:{valType:"color",dflt:rt.railBgColor},bordercolor:{valType:"color",dflt:rt.railBorderColor},borderwidth:{valType:"number",min:0,dflt:rt.railBorderWidth},ticklen:{valType:"number",min:0,dflt:rt.tickLength},tickcolor:{valType:"color",dflt:rt.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:rt.minorTickLength}}),"arraydraw","from-root")},"9c7c":function(Ee,ze,Be){"use strict";var Ue=Be("2195");Ee.exports=function sub(Ee,ze){return Ue(Ee[0].mul(ze[1]).sub(Ee[1].mul(ze[0])),Ee[1].mul(ze[1]))}},"9ca2":function(Ee,ze){Ee.exports=function scale(Ee,ze,Be){var Ue=Be[0],We=Be[1],$e=Be[2];return Ee[0]=ze[0]*Ue,Ee[1]=ze[1]*Ue,Ee[2]=ze[2]*Ue,Ee[3]=ze[3]*Ue,Ee[4]=ze[4]*We,Ee[5]=ze[5]*We,Ee[6]=ze[6]*We,Ee[7]=ze[7]*We,Ee[8]=ze[8]*$e,Ee[9]=ze[9]*$e,Ee[10]=ze[10]*$e,Ee[11]=ze[11]*$e,Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15],Ee}},"9cf1":function(Ee,ze,Be){"use strict";var Ue=Be("e806"),We=Ue.BADNUM,$e=Ue.LOG_CLIP,Qe=$e+.5,et=$e-.5,tt=Be("fc26"),rt=tt.segmentsIntersect,nt=tt.constrain,at=Be("de69");Ee.exports=function linePoints(Ee,ze){var Be,Ue,$e,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar,Lr,Qr,on,sn,ln=ze.xaxis,cn=ze.yaxis,un="log"===ln.type,hn="log"===cn.type,dn=ln._length,vn=cn._length,yn=ze.connectGaps,_n=ze.baseTolerance,Mn=ze.shape,Cn="linear"===Mn,En=ze.fill&&"none"!==ze.fill,Pn=[],In=at.minTolerance,Bn=Ee.length,Hn=new Array(Bn),Kn=0;function getPt(Be){var Ue=Ee[Be];if(!Ue)return!1;var $e=ze.linearized?ln.l2p(Ue.x):ln.c2p(Ue.x),tt=ze.linearized?cn.l2p(Ue.y):cn.c2p(Ue.y);if($e===We){if(un&&($e=ln.c2p(Ue.x,!0)),$e===We)return!1;hn&&tt===We&&($e*=Math.abs(ln._m*vn*(ln._m>0?Qe:et)/(cn._m*dn*(cn._m>0?Qe:et)))),$e*=1e3}if(tt===We){if(hn&&(tt=cn.c2p(Ue.y,!0)),tt===We)return!1;tt*=1e3}return[$e,tt]}function crossesViewport(Ee,ze,Be,Ue){var We=Be-Ee,$e=Ue-ze,Qe=.5-Ee,et=.5-ze,tt=We*We+$e*$e,rt=We*Qe+$e*et;if(rt>0&&rt<tt){var nt=Qe*$e-et*We;if(nt*nt<tt)return!0}}function getTolerance(Ee,ze){var Be=Ee[0]/dn,Ue=Ee[1]/vn,We=Math.max(0,-Be,Be-1,-Ue,Ue-1);return We&&void 0!==on&&crossesViewport(Be,Ue,on,sn)&&(We=0),We&&ze&&crossesViewport(Be,Ue,ze[0]/dn,ze[1]/vn)&&(We=0),(1+at.toleranceGrowth*We)*_n}function ptDist(Ee,ze){var Be=Ee[0]-ze[0],Ue=Ee[1]-ze[1];return Math.sqrt(Be*Be+Ue*Ue)}var Jn,Ma,Sa,La,Ia,Ra,Na,Ua=at.maxScreensAway,qa=-dn*Ua,Ka=dn*(1+Ua),ei=-vn*Ua,ti=vn*(1+Ua),ri=[[qa,ei,Ka,ei],[Ka,ei,Ka,ti],[Ka,ti,qa,ti],[qa,ti,qa,ei]];function onlyConstrainedPoint(Ee){if(Ee[0]<qa||Ee[0]>Ka||Ee[1]<ei||Ee[1]>ti)return[nt(Ee[0],qa,Ka),nt(Ee[1],ei,ti)]}function sameEdge(Ee,ze){return Ee[0]===ze[0]&&(Ee[0]===qa||Ee[0]===Ka)||(Ee[1]===ze[1]&&(Ee[1]===ei||Ee[1]===ti)||void 0)}function getABAEdgeIntersections(Ee,ze,Be){return function(Ue,We){var $e=onlyConstrainedPoint(Ue),Qe=onlyConstrainedPoint(We),et=[];if($e&&Qe&&sameEdge($e,Qe))return et;$e&&et.push($e),Qe&&et.push(Qe);var rt=2*tt.constrain((Ue[Ee]+We[Ee])/2,ze,Be)-(($e||Ue)[Ee]+(Qe||We)[Ee]);rt&&(($e&&Qe?rt>0==$e[Ee]>Qe[Ee]?$e:Qe:$e||Qe)[Ee]+=rt);return et}}function updateEdge(Ee){var ze=Ee[0],Be=Ee[1],Ue=ze===Hn[Kn-1][0],We=Be===Hn[Kn-1][1];if(!Ue||!We)if(Kn>1){var $e=ze===Hn[Kn-2][0],Qe=Be===Hn[Kn-2][1];Ue&&(ze===qa||ze===Ka)&&$e?Qe?Kn--:Hn[Kn-1]=Ee:We&&(Be===ei||Be===ti)&&Qe?$e?Kn--:Hn[Kn-1]=Ee:Hn[Kn++]=Ee}else Hn[Kn++]=Ee}function updateEdgesForReentry(Ee){Hn[Kn-1][0]!==Ee[0]&&Hn[Kn-1][1]!==Ee[1]&&updateEdge([Sa,La]),updateEdge(Ee),Ia=null,Sa=La=0}function addPt(Ee){if(on=Ee[0]/dn,sn=Ee[1]/vn,Jn=Ee[0]<qa?qa:Ee[0]>Ka?Ka:0,Ma=Ee[1]<ei?ei:Ee[1]>ti?ti:0,Jn||Ma){if(Kn)if(Ia){var ze=Na(Ia,Ee);ze.length>1&&(updateEdgesForReentry(ze[0]),Hn[Kn++]=ze[1])}else Ra=Na(Hn[Kn-1],Ee)[0],Hn[Kn++]=Ra;else Hn[Kn++]=[Jn||Ee[0],Ma||Ee[1]];var Be=Hn[Kn-1];Jn&&Ma&&(Be[0]!==Jn||Be[1]!==Ma)?(Ia&&(Sa!==Jn&&La!==Ma?updateEdge(Sa&&La?function getClosestCorner(Ee,ze){var Be=ze[0]-Ee[0],Ue=(ze[1]-Ee[1])/Be;return(Ee[1]*ze[0]-ze[1]*Ee[0])/Be>0?[Ue>0?qa:Ka,ti]:[Ue>0?Ka:qa,ei]}(Ia,Ee):[Sa||Jn,La||Ma]):Sa&&La&&updateEdge([Sa,La])),updateEdge([Jn,Ma])):Sa-Jn&&La-Ma&&updateEdge([Jn||Sa,Ma||La]),Ia=Ee,Sa=Jn,La=Ma}else Ia&&updateEdgesForReentry(Na(Ia,Ee)[0]),Hn[Kn++]=Ee}for("linear"===Mn||"spline"===Mn?Na=function getLinearEdgeIntersections(Ee,ze){for(var Be=[],Ue=0,We=0;We<4;We++){var $e=ri[We],Qe=rt(Ee[0],Ee[1],ze[0],ze[1],$e[0],$e[1],$e[2],$e[3]);Qe&&(!Ue||Math.abs(Qe.x-Be[0][0])>1||Math.abs(Qe.y-Be[0][1])>1)&&(Qe=[Qe.x,Qe.y],Ue&&ptDist(Qe,Ee)<ptDist(Be[0],Ee)?Be.unshift(Qe):Be.push(Qe),Ue++)}return Be}:"hv"===Mn||"vh"===Mn?Na=function getHVEdgeIntersections(Ee,ze){var Be=[],Ue=onlyConstrainedPoint(Ee),We=onlyConstrainedPoint(ze);return Ue&&We&&sameEdge(Ue,We)||(Ue&&Be.push(Ue),We&&Be.push(We)),Be}:"hvh"===Mn?Na=getABAEdgeIntersections(0,qa,Ka):"vhv"===Mn&&(Na=getABAEdgeIntersections(1,ei,ti)),Be=0;Be<Bn;Be++)if(Ue=getPt(Be)){for(Kn=0,Ia=null,addPt(Ue),Be++;Be<Bn;Be++){if(!(it=getPt(Be))){if(yn)continue;break}if(Cn&&ze.simplify){var ni=getPt(Be+1);if(Ut=ptDist(it,Ue),En&&(0===Kn||Kn===Bn-1)||!(Ut<getTolerance(it,ni)*In)){for(kt=[(it[0]-Ue[0])/Ut,(it[1]-Ue[1])/Ut],ct=Ue,er=Ut,tr=ar=Lr=0,xt=!1,$e=it,Be++;Be<Ee.length;Be++){if(ft=ni,ni=getPt(Be+1),!ft){if(yn)continue;break}if(Qr=(Lt=[ft[0]-Ue[0],ft[1]-Ue[1]])[0]*kt[1]-Lt[1]*kt[0],ar=Math.min(ar,Qr),(Lr=Math.max(Lr,Qr))-ar>getTolerance(ft,ni))break;$e=ft,(rr=Lt[0]*kt[0]+Lt[1]*kt[1])>er?(er=rr,it=ft,xt=!1):rr<tr&&(tr=rr,ct=ft,xt=!0)}if(xt?(addPt(it),$e!==ct&&addPt(ct)):(ct!==Ue&&addPt(ct),$e!==it&&addPt(it)),addPt($e),Be>=Ee.length||!ft)break;addPt(ft),Ue=ft}}else addPt(it)}Ia&&updateEdge([Sa||Ia[0],La||Ia[1]]),Pn.push(Hn.slice(0,Kn))}return Pn}},"9cfb":function(Ee,ze,Be){"use strict";Ee.exports=function orderSegments(Ee,ze){var Be,We,$e,Qe;if(ze[0][0]<ze[1][0])Be=ze[0],We=ze[1];else{if(!(ze[0][0]>ze[1][0]))return horizontalOrder(ze,Ee);Be=ze[1],We=ze[0]}if(Ee[0][0]<Ee[1][0])$e=Ee[0],Qe=Ee[1];else{if(!(Ee[0][0]>Ee[1][0]))return-horizontalOrder(Ee,ze);$e=Ee[1],Qe=Ee[0]}var et=Ue(Be,We,Qe),tt=Ue(Be,We,$e);if(et<0){if(tt<=0)return et}else if(et>0){if(tt>=0)return et}else if(tt)return tt;if(et=Ue(Qe,$e,We),tt=Ue(Qe,$e,Be),et<0){if(tt<=0)return et}else if(et>0){if(tt>=0)return et}else if(tt)return tt;return We[0]-Qe[0]};var Ue=Be("92ba");function horizontalOrder(Ee,ze){var Be,We,$e,Qe;if(ze[0][0]<ze[1][0])Be=ze[0],We=ze[1];else{if(!(ze[0][0]>ze[1][0])){var et=Math.min(Ee[0][1],Ee[1][1]),tt=Math.max(Ee[0][1],Ee[1][1]),rt=Math.min(ze[0][1],ze[1][1]),nt=Math.max(ze[0][1],ze[1][1]);return tt<rt?tt-rt:et>nt?et-nt:tt-nt}Be=ze[1],We=ze[0]}Ee[0][1]<Ee[1][1]?($e=Ee[0],Qe=Ee[1]):($e=Ee[1],Qe=Ee[0]);var at=Ue(We,Be,$e);return at||((at=Ue(We,Be,Qe))||Qe-We)}},"9d33":function(Ee,ze,Be){"use strict";var Ue=Be("6e58");Ee.exports=function getUpdateObject(Ee,ze){var Be=Ee._name,We={};if("all"===ze.step)We[Be+".autorange"]=!0;else{var $e=function getXRange(Ee,ze){var Be,We=Ee.range,$e=new Date(Ee.r2l(We[1])),Qe=ze.step,et=ze.count;switch(ze.stepmode){case"backward":Be=Ee.l2r(+Ue.time[Qe].utc.offset($e,-et));break;case"todate":var tt=Ue.time[Qe].utc.offset($e,-et);Be=Ee.l2r(+Ue.time[Qe].utc.ceil(tt))}var rt=We[1];return[Be,rt]}(Ee,ze);We[Be+".range[0]"]=$e[0],We[Be+".range[1]"]=$e[1]}return We}},"9d8f":function(Ee,ze,Be){"use strict";var Ue=Be("9aeb"),We=Be("fc26"),$e=Be("3c1c");function plotOne(Ee,ze){var Be,Qe,et,tt,rt,nt=Ee._fullLayout,at=nt._size,it=ze.trace,ct=ze.t,ft=nt._splomScenes[it.uid],xt=ft.matrixOptions,kt=xt.cdata,Lt=nt._glcanvas.data()[0].regl,Ut=nt.dragmode;if(0!==kt.length){xt.lower=it.showupperhalf,xt.upper=it.showlowerhalf,xt.diagonal=it.diagonal.visible;var er=it._visibleDims,tr=kt.length,rr=ft.viewOpts={};for(rr.ranges=new Array(tr),rr.domains=new Array(tr),rt=0;rt<er.length;rt++){et=er[rt];var ar=rr.ranges[rt]=new Array(4),Lr=rr.domains[rt]=new Array(4);(Be=$e.getFromId(Ee,it._diag[et][0]))&&(ar[0]=Be._rl[0],ar[2]=Be._rl[1],Lr[0]=Be.domain[0],Lr[2]=Be.domain[1]),(Qe=$e.getFromId(Ee,it._diag[et][1]))&&(ar[1]=Qe._rl[0],ar[3]=Qe._rl[1],Lr[1]=Qe.domain[0],Lr[3]=Qe.domain[1])}rr.viewport=[at.l,at.b,at.w+at.l,at.h+at.b],!0===ft.matrix&&(ft.matrix=Ue(Lt));var Qr=nt.clickmode.indexOf("select")>-1,on=!0;if("lasso"===Ut||"select"===Ut||!!it.selectedpoints||Qr){var sn=it._length;if(it.selectedpoints){ft.selectBatch=it.selectedpoints;var ln=it.selectedpoints,cn={};for(et=0;et<ln.length;et++)cn[ln[et]]=!0;var un=[];for(et=0;et<sn;et++)cn[et]||un.push(et);ft.unselectBatch=un}var hn=ct.xpx=new Array(tr),dn=ct.ypx=new Array(tr);for(rt=0;rt<er.length;rt++){if(et=er[rt],Be=$e.getFromId(Ee,it._diag[et][0]))for(hn[rt]=new Array(sn),tt=0;tt<sn;tt++)hn[rt][tt]=Be.c2p(kt[rt][tt]);if(Qe=$e.getFromId(Ee,it._diag[et][1]))for(dn[rt]=new Array(sn),tt=0;tt<sn;tt++)dn[rt][tt]=Qe.c2p(kt[rt][tt])}if(ft.selectBatch.length||ft.unselectBatch.length){var vn=We.extendFlat({},xt,ft.unselectedOptions,rr),yn=We.extendFlat({},xt,ft.selectedOptions,rr);ft.matrix.update(vn,yn),on=!1}}else ct.xpx=ct.ypx=null;if(on){var _n=We.extendFlat({},xt,rr);ft.matrix.update(_n,null)}}}Ee.exports=function plot(Ee,ze,Be){if(Be.length)for(var Ue=0;Ue<Be.length;Ue++)plotOne(Ee,Be[Ue][0])}},"9df0":function(Ee,ze,Be){"use strict";var Ue=Object.create,We=Object.getPrototypeOf,$e={};Ee.exports=function(){var Ee=Object.setPrototypeOf,ze=arguments[0]||Ue;return"function"==typeof Ee&&We(Ee(ze(null),$e))===$e}},"9e9a":function(Ee,ze,Be){"use strict";var Ue=Be("ad62").getSubplotCalcData,We=Be("fc26").counterRegex,$e=Be("dbc7"),Qe="geo",et=We(Qe),tt={};tt.geo={valType:"subplotid",dflt:Qe,editType:"calc"},Ee.exports={attr:Qe,name:Qe,idRoot:Qe,idRegex:et,attrRegex:et,attributes:tt,layoutAttributes:Be("45be"),supplyLayoutDefaults:Be("b1a8"),plot:function plotGeo(Ee){for(var ze=Ee._fullLayout,Be=Ee.calcdata,We=ze._subplots.geo,et=0;et<We.length;et++){var tt=We[et],rt=Ue(Be,Qe,tt),nt=ze[tt]._subplot;nt||(nt=$e({id:tt,graphDiv:Ee,container:ze._geolayer.node(),topojsonURL:Ee._context.topojsonURL,staticPlot:Ee._context.staticPlot}),ze[tt]._subplot=nt),nt.plot(rt,ze,Ee._promises)}},updateFx:function updateFx(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.geo,Ue=0;Ue<Be.length;Ue++){var We=ze[Be[Ue]];We._subplot.updateFx(ze,We)}},clean:function clean(Ee,ze,Be,Ue){for(var We=Ue._subplots.geo||[],$e=0;$e<We.length;$e++){var Qe=We[$e],et=Ue[Qe]._subplot;!ze[Qe]&&et&&(et.framework.remove(),et.clipDef.remove())}}}},"9f41":function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("371e"),Qe=Be("119e"),et=Be("bcd9"),tt=Be("f409"),rt=Be("ad62").getSubplotData;function handleGl3dDefaults(Ee,ze,Be,Ue){for(var Qe=Be("bgcolor"),tt=We.combine(Qe,Ue.paper_bgcolor),nt=["up","center","eye"],at=0;at<nt.length;at++)Be("camera."+nt[at]+".x"),Be("camera."+nt[at]+".y"),Be("camera."+nt[at]+".z");Be("camera.projection.type");var it=!!Be("aspectratio.x")&&!!Be("aspectratio.y")&&!!Be("aspectratio.z"),ct=Be("aspectmode",it?"manual":"auto");it||(Ee.aspectratio=ze.aspectratio={x:1,y:1,z:1},"manual"===ct&&(ze.aspectmode="auto"),Ee.aspectmode=ze.aspectmode);var ft=rt(Ue.fullData,"gl3d",Ue.id);et(Ee,ze,{font:Ue.font,scene:Ue.id,data:ft,bgColor:tt,calendar:Ue.calendar,fullLayout:Ue.fullLayout}),$e.getComponentMethod("annotations3d","handleDefaults")(Ee,ze,Ue);var xt=Ue.getDfltFromLayout("dragmode");if(!1!==xt&&!xt)if(xt="orbit",Ee.camera&&Ee.camera.up){var kt=Ee.camera.up.x,Lt=Ee.camera.up.y,Ut=Ee.camera.up.z;0!==Ut&&(kt&&Lt&&Ut?Ut/Math.sqrt(kt*kt+Lt*Lt+Ut*Ut)>.999&&(xt="turntable"):xt="turntable")}else xt="turntable";Be("dragmode",xt),Be("hovermode",Ue.getDfltFromLayout("hovermode"))}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){var We=ze._basePlotModules.length>1;Qe(Ee,ze,Be,{type:"gl3d",attributes:tt,handleDefaults:handleGl3dDefaults,fullLayout:ze,font:ze.font,fullData:Be,getDfltFromLayout:function getDfltFromLayout(ze){if(!We)return Ue.validate(Ee[ze],tt[ze])?Ee[ze]:void 0},paper_bgcolor:ze.paper_bgcolor,calendar:ze.calendar})}},"9f7f":function(Ee,ze,Be){"use strict";var Ue=Be("d039");function RE(Ee,ze){return RegExp(Ee,ze)}ze.UNSUPPORTED_Y=Ue((function(){var Ee=RE("a","y");return Ee.lastIndex=2,null!=Ee.exec("abcd")})),ze.BROKEN_CARET=Ue((function(){var Ee=RE("^r","gy");return Ee.lastIndex=2,null!=Ee.exec("str")}))},"9fa4":function(Ee,ze,Be){"use strict";var Ue=Be("28dd"),We=Be("efce"),$e=Be("cb8e");function SelectBox(Ee,ze,Be){this.plot=Ee,this.boxBuffer=ze,this.boxShader=Be,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}Ee.exports=function createSelectBox(Ee,ze){var Be=Ee.gl,Qe=We(Be,[0,0,0,1,1,0,1,1]),et=Ue(Be,$e.boxVertex,$e.boxFragment),tt=new SelectBox(Ee,Qe,et);return tt.update(ze),Ee.addOverlay(tt),tt};var Qe=SelectBox.prototype;Qe.draw=function(){if(this.enabled){var Ee=this.plot,ze=this.selectBox,Be=this.borderWidth,Ue=(this.innerFill,this.innerColor),We=(this.outerFill,this.outerColor),$e=this.borderColor,Qe=Ee.box,et=Ee.screenBox,tt=Ee.dataBox,rt=Ee.viewBox,nt=Ee.pixelRatio,at=(ze[0]-tt[0])*(rt[2]-rt[0])/(tt[2]-tt[0])+rt[0],it=(ze[1]-tt[1])*(rt[3]-rt[1])/(tt[3]-tt[1])+rt[1],ct=(ze[2]-tt[0])*(rt[2]-rt[0])/(tt[2]-tt[0])+rt[0],ft=(ze[3]-tt[1])*(rt[3]-rt[1])/(tt[3]-tt[1])+rt[1];if(at=Math.max(at,rt[0]),it=Math.max(it,rt[1]),ct=Math.min(ct,rt[2]),ft=Math.min(ft,rt[3]),!(ct<at||ft<it)){Qe.bind();var xt=et[2]-et[0],kt=et[3]-et[1];if(this.outerFill&&(Qe.drawBox(0,0,xt,it,We),Qe.drawBox(0,it,at,ft,We),Qe.drawBox(0,ft,xt,kt,We),Qe.drawBox(ct,it,xt,ft,We)),this.innerFill&&Qe.drawBox(at,it,ct,ft,Ue),Be>0){var Lt=Be*nt;Qe.drawBox(at-Lt,it-Lt,ct+Lt,it+Lt,$e),Qe.drawBox(at-Lt,ft-Lt,ct+Lt,ft+Lt,$e),Qe.drawBox(at-Lt,it-Lt,at+Lt,ft+Lt,$e),Qe.drawBox(ct-Lt,it-Lt,ct+Lt,ft+Lt,$e)}}}},Qe.update=function(Ee){Ee=Ee||{},this.innerFill=!!Ee.innerFill,this.outerFill=!!Ee.outerFill,this.innerColor=(Ee.innerColor||[0,0,0,.5]).slice(),this.outerColor=(Ee.outerColor||[0,0,0,.5]).slice(),this.borderColor=(Ee.borderColor||[0,0,0,1]).slice(),this.borderWidth=Ee.borderWidth||0,this.selectBox=(Ee.selectBox||this.selectBox).slice()},Qe.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},a011:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("6af8").isArrayOrTypedArray;ze.aggNums=function(Ee,Be,$e,Qe){var et,tt;if((!Qe||Qe>$e.length)&&(Qe=$e.length),Ue(Be)||(Be=!1),We($e[0])){for(tt=new Array(Qe),et=0;et<Qe;et++)tt[et]=ze.aggNums(Ee,Be,$e[et]);$e=tt}for(et=0;et<Qe;et++)Ue(Be)?Ue($e[et])&&(Be=Ee(+Be,+$e[et])):Be=$e[et];return Be},ze.len=function(Ee){return ze.aggNums((function(Ee){return Ee+1}),0,Ee)},ze.mean=function(Ee,Be){return Be||(Be=ze.len(Ee)),ze.aggNums((function(Ee,ze){return Ee+ze}),0,Ee)/Be},ze.midRange=function(Ee){if(void 0!==Ee&&0!==Ee.length)return(ze.aggNums(Math.max,null,Ee)+ze.aggNums(Math.min,null,Ee))/2},ze.variance=function(Ee,Be,We){return Be||(Be=ze.len(Ee)),Ue(We)||(We=ze.mean(Ee,Be)),ze.aggNums((function(Ee,ze){return Ee+Math.pow(ze-We,2)}),0,Ee)/Be},ze.stdev=function(Ee,Be,Ue){return Math.sqrt(ze.variance(Ee,Be,Ue))},ze.median=function(Ee){var Be=Ee.slice().sort();return ze.interp(Be,.5)},ze.interp=function(Ee,ze){if(!Ue(ze))throw"n should be a finite number";if((ze=ze*Ee.length-.5)<0)return Ee[0];if(ze>Ee.length-1)return Ee[Ee.length-1];var Be=ze%1;return Be*Ee[Math.ceil(ze)]+(1-Be)*Ee[Math.floor(ze)]}},a026:function(Ee,ze,Be){"use strict";Ee.exports=function linearExpansionSum(Ee,ze){var Be=0|Ee.length,Ue=0|ze.length;if(1===Be&&1===Ue)return function scalarScalar(Ee,ze){var Be=Ee+ze,Ue=Be-Ee,We=Ee-(Be-Ue)+(ze-Ue);if(We)return[We,Be];return[Be]}(Ee[0],ze[0]);var We,$e,Qe=new Array(Be+Ue),et=0,tt=0,rt=0,nt=Math.abs,at=Ee[tt],it=nt(at),ct=ze[rt],ft=nt(ct);it<ft?($e=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):($e=ct,(rt+=1)<Ue&&(ct=ze[rt],ft=nt(ct)));tt<Be&&it<ft||rt>=Ue?(We=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):(We=ct,(rt+=1)<Ue&&(ct=ze[rt],ft=nt(ct)));var xt,kt,Lt=We+$e,Ut=Lt-We,er=$e-Ut,tr=er,rr=Lt;for(;tt<Be&&rt<Ue;)it<ft?(We=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):(We=ct,(rt+=1)<Ue&&(ct=ze[rt],ft=nt(ct))),(er=($e=tr)-(Ut=(Lt=We+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt;for(;tt<Be;)(er=($e=tr)-(Ut=(Lt=(We=at)+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt,(tt+=1)<Be&&(at=Ee[tt]);for(;rt<Ue;)(er=($e=tr)-(Ut=(Lt=(We=ct)+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt,(rt+=1)<Ue&&(ct=ze[rt]);tr&&(Qe[et++]=tr);rr&&(Qe[et++]=rr);et||(Qe[et++]=0);return Qe.length=et,Qe}},a069:function(Ee,ze,Be){"use strict";Ee.exports=function boxIntersectWrapper(Ee,ze,Be){switch(arguments.length){case 1:return intersectFullArray(Ee);case 2:return"function"==typeof ze?boxIntersect(Ee,Ee,ze,!0):intersectBipartiteArray(Ee,ze);case 3:return boxIntersect(Ee,ze,Be,!1);default:throw new Error("box-intersect: Invalid arguments")}};var Ue,We=Be("cea5"),$e=Be("97e2"),Qe=Be("3560");function boxEmpty(Ee,ze){for(var Be=0;Be<Ee;++Be)if(!(ze[Be]<=ze[Be+Ee]))return!0;return!1}function convertBoxes(Ee,ze,Be,Ue){for(var We=0,$e=0,Qe=0,et=Ee.length;Qe<et;++Qe){var tt=Ee[Qe];if(!boxEmpty(ze,tt)){for(var rt=0;rt<2*ze;++rt)Be[We++]=tt[rt];Ue[$e++]=Qe}}return $e}function boxIntersect(Ee,ze,Be,Ue){var et=Ee.length,tt=ze.length;if(!(et<=0||tt<=0)){var rt=Ee[0].length>>>1;if(!(rt<=0)){var nt,at=We.mallocDouble(2*rt*et),it=We.mallocInt32(et);if((et=convertBoxes(Ee,rt,at,it))>0){if(1===rt&&Ue)$e.init(et),nt=$e.sweepComplete(rt,Be,0,et,at,it,0,et,at,it);else{var ct=We.mallocDouble(2*rt*tt),ft=We.mallocInt32(tt);(tt=convertBoxes(ze,rt,ct,ft))>0&&($e.init(et+tt),nt=1===rt?$e.sweepBipartite(rt,Be,0,et,at,it,0,tt,ct,ft):Qe(rt,Be,Ue,et,at,it,tt,ct,ft),We.free(ct),We.free(ft))}We.free(at),We.free(it)}return nt}}}function appendItem(Ee,ze){Ue.push([Ee,ze])}function intersectFullArray(Ee){return Ue=[],boxIntersect(Ee,Ee,appendItem,!0),Ue}function intersectBipartiteArray(Ee,ze){return Ue=[],boxIntersect(Ee,ze,appendItem,!1),Ue}},a074:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be,Ue,We){Ee.lon=ze.lon,Ee.lat=ze.lat,Ee.location=ze.loc?ze.loc:null;var $e=Ue[We];return $e.fIn&&$e.fIn.properties&&(Ee.properties=$e.fIn.properties),Ee}},a08c:function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("94d5").hovertemplateAttrs,$e=Be("6b50"),Qe=Be("a876"),et=Be("9092").extendFlat,tt=Be("cb34").overrideAll;var rt=Ee.exports=tt(et({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:We(),showlegend:et({},Qe.showlegend,{dflt:!1})},Ue("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:$e.opacity,lightposition:$e.lightposition,lighting:$e.lighting,flatshading:$e.flatshading,contour:$e.contour,hoverinfo:et({},Qe.hoverinfo)}),"calc","nested");rt.flatshading.dflt=!0,rt.lighting.facenormalsepsilon.dflt=0,rt.x.editType=rt.y.editType=rt.z.editType=rt.value.editType="calc+clearAxisTypes",rt.transforms=void 0},a18b:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("c99f"),layoutAttributes:Be("7678"),supplyDefaults:Be("caff").supplyDefaults,crossTraceDefaults:Be("caff").crossTraceDefaults,supplyLayoutDefaults:Be("d58b"),calc:Be("254d"),crossTraceCalc:Be("3a9c"),plot:Be("34d8"),style:Be("8062").style,hoverPoints:Be("8f12"),eventData:Be("6f96"),selectPoints:Be("7000"),moduleType:"trace",name:"funnel",basePlotModule:Be("91cd"),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},a1d4:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("9c18"),supplyDefaults:Be("87e2"),colorbar:Be("fcb3"),calc:Be("0625"),plot:Be("e5cb"),moduleType:"trace",name:"heatmapgl",basePlotModule:Be("078e"),categories:["gl","gl2d","2dMap"],meta:{}}},a22f:function(Ee,ze,Be){"use strict";Ee.exports=function clearResponsive(Ee){Ee._responsiveChartHandler&&(window.removeEventListener("resize",Ee._responsiveChartHandler),delete Ee._responsiveChartHandler)}},a27e:function(Ee,ze,Be){"use strict";var Ue=Be("9092").extendFlat,We=Be("a876"),$e=Be("9845"),Qe=Be("f4e9"),et=Be("94d5").hovertemplateAttrs,tt=Be("81f0").attributes,rt=Ue({editType:"calc"},Qe("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:et({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});Ee.exports={domain:tt({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:Ue({},We.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:et({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:$e({editType:"calc"}),tickfont:$e({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:rt,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},a288:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("b5e3"),$e=Be("fc26"),Qe=Be("4248"),et=Be("cb04"),tt=Be("4ebd"),rt={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};Ee.exports=function toImage(Ee,ze){var Be,nt,at,it;function isImpliedOrValid(Ee){return!(Ee in ze)||$e.validate(ze[Ee],rt[Ee])}if(ze=ze||{},$e.isPlainObject(Ee)?(Be=Ee.data||[],nt=Ee.layout||{},at=Ee.config||{},it={}):(Ee=$e.getGraphDiv(Ee),Be=$e.extendDeep([],Ee.data),nt=$e.extendDeep({},Ee.layout),at=Ee._context,it=Ee._fullLayout||{}),!isImpliedOrValid("width")&&null!==ze.width||!isImpliedOrValid("height")&&null!==ze.height)throw new Error("Height and width should be pixel values.");if(!isImpliedOrValid("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var ct={};function coerce(Ee,Be){return $e.coerce(ze,ct,rt,Ee,Be)}var ft=coerce("format"),xt=coerce("width"),kt=coerce("height"),Lt=coerce("scale"),Ut=coerce("setBackground"),er=coerce("imageDataOnly"),tr=document.createElement("div");tr.style.position="absolute",tr.style.left="-5000px",document.body.appendChild(tr);var rr=$e.extendFlat({},nt);xt?rr.width=xt:null===ze.width&&Ue(it.width)&&(rr.width=it.width),kt?rr.height=kt:null===ze.height&&Ue(it.height)&&(rr.height=it.height);var ar=$e.extendFlat({},at,{_exportedPlot:!0,staticPlot:!0,setBackground:Ut}),Lr=Qe.getRedrawFunc(tr);function wait(){return new Promise((function(Ee){setTimeout(Ee,Qe.getDelay(tr._fullLayout))}))}function convert(){return new Promise((function(Ee,ze){var Be=et(tr,ft,Lt),Ue=tr._fullLayout.width,rt=tr._fullLayout.height;if(We.purge(tr),document.body.removeChild(tr),"svg"===ft)return Ee(er?Be:Qe.encodeSVG(Be));var nt=document.createElement("canvas");nt.id=$e.randstr(),tt({format:ft,width:Ue,height:rt,scale:Lt,canvas:nt,svg:Be,promise:!0}).then(Ee).catch(ze)}))}return new Promise((function(Ee,ze){We.plot(tr,Be,rr,ar).then(Lr).then(wait).then(convert).then((function(ze){Ee(function urlToImageData(Ee){return er?Ee.replace(Qe.IMAGE_URL_PREFIX,""):Ee}(ze))})).catch((function(Ee){ze(Ee)}))}))}},a297:function(Ee,ze,Be){"use strict";Ee.exports=function(){var Ee=Math.sign;return"function"==typeof Ee&&(1===Ee(10)&&-1===Ee(-20))}},a2bb:function(Ee,ze,Be){"use strict";var Ue=Be("be00");Ee.exports=function normalize(Ee,ze,Be){if(!Ee||null==Ee.length)throw Error("Argument should be an array");null==ze&&(ze=1);null==Be&&(Be=Ue(Ee,ze));for(var We=0;We<ze;We++){var $e=Be[ze+We],Qe=Be[We],et=We,tt=Ee.length;if($e===1/0&&Qe===-1/0)for(et=We;et<tt;et+=ze)Ee[et]=Ee[et]===$e?1:Ee[et]===Qe?0:.5;else if($e===1/0)for(et=We;et<tt;et+=ze)Ee[et]=Ee[et]===$e?1:0;else if(Qe===-1/0)for(et=We;et<tt;et+=ze)Ee[et]=Ee[et]===Qe?0:1;else{var rt=$e-Qe;for(et=We;et<tt;et+=ze)isNaN(Ee[et])||(Ee[et]=0===rt?.5:(Ee[et]-Qe)/rt)}}return Ee}},a2ee:function(Ee,ze,Be){"use strict";Ee.exports=function formatLabels(Ee,ze){var Be={},Ue=ze._carpet,We=Ue.ab2ij([Ee.a,Ee.b]),$e=Math.floor(We[0]),Qe=We[0]-$e,et=Math.floor(We[1]),tt=We[1]-et,rt=Ue.evalxy([],$e,et,Qe,tt);return Be.yLabel=rt[1].toFixed(3),Be}},a33a:function(Ee,ze,Be){"use strict";function interp1d(Ee,ze){var Be=Math.floor(ze),Ue=ze-Be,We=0<=Be&&Be<Ee.shape[0],$e=0<=Be+1&&Be+1<Ee.shape[0];return(1-Ue)*(We?+Ee.get(Be):0)+Ue*($e?+Ee.get(Be+1):0)}function interp2d(Ee,ze,Be){var Ue=Math.floor(ze),We=ze-Ue,$e=0<=Ue&&Ue<Ee.shape[0],Qe=0<=Ue+1&&Ue+1<Ee.shape[0],et=Math.floor(Be),tt=Be-et,rt=0<=et&&et<Ee.shape[1],nt=0<=et+1&&et+1<Ee.shape[1],at=$e&&rt?Ee.get(Ue,et):0,it=$e&&nt?Ee.get(Ue,et+1):0;return(1-tt)*((1-We)*at+We*(Qe&&rt?Ee.get(Ue+1,et):0))+tt*((1-We)*it+We*(Qe&&nt?Ee.get(Ue+1,et+1):0))}function interp3d(Ee,ze,Be,Ue){var We=Math.floor(ze),$e=ze-We,Qe=0<=We&&We<Ee.shape[0],et=0<=We+1&&We+1<Ee.shape[0],tt=Math.floor(Be),rt=Be-tt,nt=0<=tt&&tt<Ee.shape[1],at=0<=tt+1&&tt+1<Ee.shape[1],it=Math.floor(Ue),ct=Ue-it,ft=0<=it&&it<Ee.shape[2],xt=0<=it+1&&it+1<Ee.shape[2],kt=Qe&&nt&&ft?Ee.get(We,tt,it):0,Lt=Qe&&at&&ft?Ee.get(We,tt+1,it):0,Ut=et&&nt&&ft?Ee.get(We+1,tt,it):0,er=et&&at&&ft?Ee.get(We+1,tt+1,it):0,tr=Qe&&nt&&xt?Ee.get(We,tt,it+1):0,rr=Qe&&at&&xt?Ee.get(We,tt+1,it+1):0;return(1-ct)*((1-rt)*((1-$e)*kt+$e*Ut)+rt*((1-$e)*Lt+$e*er))+ct*((1-rt)*((1-$e)*tr+$e*(et&&nt&&xt?Ee.get(We+1,tt,it+1):0))+rt*((1-$e)*rr+$e*(et&&at&&xt?Ee.get(We+1,tt+1,it+1):0)))}function interpNd(Ee){var ze,Be,Ue=0|Ee.shape.length,We=new Array(Ue),$e=new Array(Ue),Qe=new Array(Ue),et=new Array(Ue);for(ze=0;ze<Ue;++ze)Be=+arguments[ze+1],We[ze]=Math.floor(Be),$e[ze]=Be-We[ze],Qe[ze]=0<=We[ze]&&We[ze]<Ee.shape[ze],et[ze]=0<=We[ze]+1&&We[ze]+1<Ee.shape[ze];var tt,rt,nt,at=0;e:for(ze=0;ze<1<<Ue;++ze){for(rt=1,nt=Ee.offset,tt=0;tt<Ue;++tt)if(ze&1<<tt){if(!et[tt])continue e;rt*=$e[tt],nt+=Ee.stride[tt]*(We[tt]+1)}else{if(!Qe[tt])continue e;rt*=1-$e[tt],nt+=Ee.stride[tt]*We[tt]}at+=rt*Ee.data[nt]}return at}Ee.exports=function interpolate(Ee,ze,Be,Ue){switch(Ee.shape.length){case 0:return 0;case 1:return interp1d(Ee,ze);case 2:return interp2d(Ee,ze,Be);case 3:return interp3d(Ee,ze,Be,Ue);default:return interpNd.apply(void 0,arguments)}},Ee.exports.d1=interp1d,Ee.exports.d2=interp2d,Ee.exports.d3=interp3d},a391:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("927d");Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var $e,Qe=coerce("clickmode");"select"===coerce("dragmode")&&coerce("selectdirection"),ze._has("cartesian")?Qe.indexOf("select")>-1?$e="closest":(ze._isHoriz=function isHoriz(Ee,ze){for(var Be=ze._scatterStackOpts||{},Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue],$e=We.xaxis+We.yaxis,Qe=(Be[$e]||{})[We.stackgroup]||{};if("h"!==We.orientation&&"h"!==Qe.orientation)return!1}return!0}(Be,ze),$e=ze._isHoriz?"y":"x"):$e="closest",coerce("hovermode",$e)&&(coerce("hoverdistance"),coerce("spikedistance"));var et=ze._has("mapbox"),tt=ze._has("geo"),rt=ze._basePlotModules.length;"zoom"===ze.dragmode&&((et||tt)&&1===rt||et&&tt&&2===rt)&&(ze.dragmode="pan")}},a392:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("bb71"),Qe=Be("fc26"),et=Be("821b"),tt=Be("d115"),rt=Be("83d1"),nt=Be("1999"),at=Be("958a"),it=Be("0642"),ct=Be("63dc"),ft=Be("6add"),xt=ft.enforce,kt=ft.clean,Lt=Be("ce56").doAutoRange;function overlappingDomain(Ee,ze,Be){for(var Ue=0;Ue<Be.length;Ue++){var We=Be[Ue][0],$e=Be[Ue][1];if(!(We[0]>=Ee[1]||We[1]<=Ee[0])&&($e[0]<ze[1]&&$e[1]>ze[0]))return!0}return!1}function lsInner(Ee){var Be,We,et,nt,ft,xt,kt=Ee._fullLayout,Lt=kt._size,Ut=Lt.p,er=it.list(Ee,"",!0);if(kt._paperdiv.style({width:Ee._context.responsive&&kt.autosize&&!Ee._context._hasZeroWidth&&!Ee.layout.width?"100%":kt.width+"px",height:Ee._context.responsive&&kt.autosize&&!Ee._context._hasZeroHeight&&!Ee.layout.height?"100%":kt.height+"px"}).selectAll(".main-svg").call(rt.setSize,kt.width,kt.height),Ee._context.setBackground(Ee,kt.paper_bgcolor),ze.drawMainTitle(Ee),at.manage(Ee),!kt._has("cartesian"))return $e.previousPromises(Ee);function getLinePosition(Ee,ze,Be){var Ue=Ee._lw/2;return"x"===Ee._id.charAt(0)?ze?"top"===Be?ze._offset-Ut-Ue:ze._offset+ze._length+Ut+Ue:Lt.t+Lt.h*(1-(Ee.position||0))+Ue%1:ze?"right"===Be?ze._offset+ze._length+Ut+Ue:ze._offset-Ut-Ue:Lt.l+Lt.w*(Ee.position||0)+Ue%1}for(Be=0;Be<er.length;Be++){var tr=(nt=er[Be])._anchorAxis;nt._linepositions={},nt._lw=rt.crispRound(Ee,nt.linewidth,1),nt._mainLinePosition=getLinePosition(nt,tr,nt.side),nt._mainMirrorPosition=nt.mirror&&tr?getLinePosition(nt,tr,ct.OPPOSITE_SIDE[nt.side]):null}var rr=[],ar=[],Lr=[],Qr=1===tt.opacity(kt.paper_bgcolor)&&1===tt.opacity(kt.plot_bgcolor)&&kt.paper_bgcolor===kt.plot_bgcolor;for(We in kt._plots)if((et=kt._plots[We]).mainplot)et.bg&&et.bg.remove(),et.bg=void 0;else{var on=et.xaxis.domain,sn=et.yaxis.domain,ln=et.plotgroup;if(overlappingDomain(on,sn,Lr)){var cn=ln.node(),un=et.bg=Qe.ensureSingle(ln,"rect","bg");cn.insertBefore(un.node(),cn.childNodes[0]),ar.push(We)}else ln.select("rect.bg").remove(),Lr.push([on,sn]),Qr||(rr.push(We),ar.push(We))}var hn,dn,vn,yn,_n,Mn,Cn,En,Pn,In,Bn,Hn,Kn,Jn=kt._bgLayer.selectAll(".bg").data(rr);for(Jn.enter().append("rect").classed("bg",!0),Jn.exit().remove(),Jn.each((function(Ee){kt._plots[Ee].bg=Ue.select(this)})),Be=0;Be<ar.length;Be++)et=kt._plots[ar[Be]],ft=et.xaxis,xt=et.yaxis,et.bg&&et.bg.call(rt.setRect,ft._offset-Ut,xt._offset-Ut,ft._length+2*Ut,xt._length+2*Ut).call(tt.fill,kt.plot_bgcolor).style("stroke-width",0);if(!kt._hasOnlyLargeSploms)for(We in kt._plots){et=kt._plots[We],ft=et.xaxis,xt=et.yaxis;var Ma,Sa,La=et.clipId="clip"+kt._uid+We+"plot",Ia=Qe.ensureSingleById(kt._clips,"clipPath",La,(function(Ee){Ee.classed("plotclip",!0).append("rect")}));et.clipRect=Ia.select("rect").attr({width:ft._length,height:xt._length}),rt.setTranslate(et.plot,ft._offset,xt._offset),et._hasClipOnAxisFalse?(Ma=null,Sa=La):(Ma=La,Sa=null),rt.setClipUrl(et.plot,Ma,Ee),et.layerClipId=Sa}function xLinePath(Ee){return"M"+hn+","+Ee+"H"+dn}function xLinePathFree(Ee){return"M"+ft._offset+","+Ee+"h"+ft._length}function yLinePath(Ee){return"M"+Ee+","+En+"V"+Cn}function yLinePathFree(Ee){return"M"+Ee+","+xt._offset+"v"+xt._length}function mainPath(Ee,ze,Be){if(!Ee.showline||We!==Ee._mainSubplot)return"";if(!Ee._anchorAxis)return Be(Ee._mainLinePosition);var Ue=ze(Ee._mainLinePosition);return Ee.mirror&&(Ue+=ze(Ee._mainMirrorPosition)),Ue}for(We in kt._plots){et=kt._plots[We],ft=et.xaxis,xt=et.yaxis;var Ra="M0,0";shouldShowLinesOrTicks(ft,We)&&(_n=findCounterAxisLineWidth(ft,"left",xt,er),hn=ft._offset-(_n?Ut+_n:0),Mn=findCounterAxisLineWidth(ft,"right",xt,er),dn=ft._offset+ft._length+(Mn?Ut+Mn:0),vn=getLinePosition(ft,xt,"bottom"),yn=getLinePosition(ft,xt,"top"),!(Kn=!ft._anchorAxis||We!==ft._mainSubplot)||"allticks"!==ft.mirror&&"all"!==ft.mirror||(ft._linepositions[We]=[vn,yn]),Ra=mainPath(ft,xLinePath,xLinePathFree),Kn&&ft.showline&&("all"===ft.mirror||"allticks"===ft.mirror)&&(Ra+=xLinePath(vn)+xLinePath(yn)),et.xlines.style("stroke-width",ft._lw+"px").call(tt.stroke,ft.showline?ft.linecolor:"rgba(0,0,0,0)")),et.xlines.attr("d",Ra);var Na="M0,0";shouldShowLinesOrTicks(xt,We)&&(Bn=findCounterAxisLineWidth(xt,"bottom",ft,er),Cn=xt._offset+xt._length+(Bn?Ut:0),Hn=findCounterAxisLineWidth(xt,"top",ft,er),En=xt._offset-(Hn?Ut:0),Pn=getLinePosition(xt,ft,"left"),In=getLinePosition(xt,ft,"right"),!(Kn=!xt._anchorAxis||We!==xt._mainSubplot)||"allticks"!==xt.mirror&&"all"!==xt.mirror||(xt._linepositions[We]=[Pn,In]),Na=mainPath(xt,yLinePath,yLinePathFree),Kn&&xt.showline&&("all"===xt.mirror||"allticks"===xt.mirror)&&(Na+=yLinePath(Pn)+yLinePath(In)),et.ylines.style("stroke-width",xt._lw+"px").call(tt.stroke,xt.showline?xt.linecolor:"rgba(0,0,0,0)")),et.ylines.attr("d",Na)}return it.makeClipPaths(Ee),$e.previousPromises(Ee)}function shouldShowLinesOrTicks(Ee,ze){return(Ee.ticks||Ee.showline)&&(ze===Ee._mainSubplot||"all"===Ee.mirror||"allticks"===Ee.mirror)}function shouldShowLineThisSide(Ee,ze,Be){if(!Be.showline||!Be._lw)return!1;if("all"===Be.mirror||"allticks"===Be.mirror)return!0;var Ue=Be._anchorAxis;if(!Ue)return!1;var We=ct.FROM_BL[ze];return Be.side===ze?Ue.domain[We]===Ee.domain[We]:Be.mirror&&Ue.domain[1-We]===Ee.domain[1-We]}function findCounterAxisLineWidth(Ee,ze,Be,Ue){if(shouldShowLineThisSide(Ee,ze,Be))return Be._lw;for(var We=0;We<Ue.length;We++){var $e=Ue[We];if($e._mainAxis===Be._mainAxis&&shouldShowLineThisSide(Ee,ze,$e))return $e._lw}return 0}function getMainTitleX(Ee,ze){var Be=Ee.title,Ue=Ee._size,We=0;switch("start"===ze?We=Be.pad.l:"end"===ze&&(We=-Be.pad.r),Be.xref){case"paper":return Ue.l+Ue.w*Be.x+We;case"container":default:return Ee.width*Be.x+We}}function getMainTitleY(Ee,ze){var Be=Ee.title,Ue=Ee._size,We=0;if("0em"!==ze&&ze?ze===ct.CAP_SHIFT+"em"&&(We=Be.pad.t):We=-Be.pad.b,"auto"===Be.y)return Ue.t/2;switch(Be.yref){case"paper":return Ue.t+Ue.h-Ue.h*Be.y+We;case"container":default:return Ee.height-Ee.height*Be.y+We}}ze.layoutStyles=function(Ee){return Qe.syncOrAsync([$e.doAutoMargin,lsInner],Ee)},ze.drawMainTitle=function(Ee){var ze=Ee._fullLayout,Be=function getMainTitleTextAnchor(Ee){var ze=Ee.title,Be="middle";Qe.isRightAnchor(ze)?Be="end":Qe.isLeftAnchor(ze)&&(Be="start");return Be}(ze),Ue=function getMainTitleDy(Ee){var ze=Ee.title,Be="0em";Qe.isTopAnchor(ze)?Be=ct.CAP_SHIFT+"em":Qe.isMiddleAnchor(ze)&&(Be=ct.MID_SHIFT+"em");return Be}(ze);nt.draw(Ee,"gtitle",{propContainer:ze,propName:"title.text",placeholder:ze._dfltTitle.plot,attributes:{x:getMainTitleX(ze,Be),y:getMainTitleY(ze,Ue),"text-anchor":Be,dy:Ue}})},ze.doTraceStyle=function(Ee){var Be,Ue=Ee.calcdata,Qe=[];for(Be=0;Be<Ue.length;Be++){var tt=Ue[Be],rt=tt[0]||{},nt=rt.trace||{},at=nt._module||{},it=at.arraysToCalcdata;it&&it(tt,nt);var ct=at.editStyle;ct&&Qe.push({fn:ct,cd0:rt})}if(Qe.length){for(Be=0;Be<Qe.length;Be++){var ft=Qe[Be];ft.fn(Ee,ft.cd0)}et(Ee),ze.redrawReglTraces(Ee)}return $e.style(Ee),We.getComponentMethod("legend","draw")(Ee),$e.previousPromises(Ee)},ze.doColorBars=function(Ee){return We.getComponentMethod("colorbar","draw")(Ee),$e.previousPromises(Ee)},ze.layoutReplot=function(Ee){var ze=Ee.layout;return Ee.layout=void 0,We.call("plot",Ee,"",ze)},ze.doLegend=function(Ee){return We.getComponentMethod("legend","draw")(Ee),$e.previousPromises(Ee)},ze.doTicksRelayout=function(Ee){return it.draw(Ee,"redraw"),Ee._fullLayout._hasOnlyLargeSploms&&(We.subplotsRegistry.splom.updateGrid(Ee),et(Ee),ze.redrawReglTraces(Ee)),ze.drawMainTitle(Ee),$e.previousPromises(Ee)},ze.doModeBar=function(Ee){var ze=Ee._fullLayout;at.manage(Ee);for(var Be=0;Be<ze._basePlotModules.length;Be++){var Ue=ze._basePlotModules[Be].updateFx;Ue&&Ue(Ee)}return $e.previousPromises(Ee)},ze.doCamera=function(Ee){for(var ze=Ee._fullLayout,Be=ze._subplots.gl3d,Ue=0;Ue<Be.length;Ue++){var We=ze[Be[Ue]];We._scene.setViewport(We)}},ze.drawData=function(Ee){var Be=Ee._fullLayout;et(Ee);for(var Ue=Be._basePlotModules,Qe=0;Qe<Ue.length;Qe++)Ue[Qe].plot(Ee);return ze.redrawReglTraces(Ee),$e.style(Ee),We.getComponentMethod("shapes","draw")(Ee),We.getComponentMethod("annotations","draw")(Ee),We.getComponentMethod("images","draw")(Ee),Be._replotting=!1,$e.previousPromises(Ee)},ze.redrawReglTraces=function(Ee){var ze=Ee._fullLayout;if(ze._has("regl")){var Be,Ue,We=Ee._fullData,$e=[],et=[];for(ze._hasOnlyLargeSploms&&ze._splomGrid.draw(),Be=0;Be<We.length;Be++){var tt=We[Be];!0===tt.visible&&0!==tt._length&&("splom"===tt.type?ze._splomScenes[tt.uid].draw():"scattergl"===tt.type?Qe.pushUnique($e,tt.xaxis+tt.yaxis):"scatterpolargl"===tt.type&&Qe.pushUnique(et,tt.subplot))}for(Be=0;Be<$e.length;Be++)(Ue=ze._plots[$e[Be]])._scene&&Ue._scene.draw();for(Be=0;Be<et.length;Be++)(Ue=ze[et[Be]]._subplot)._scene&&Ue._scene.draw()}},ze.doAutoRangeAndConstraints=function(Ee){for(var ze,Be,Ue=Ee._fullLayout,We=it.list(Ee,"",!0),$e=Ue._axisMatchGroups||[],et=0;et<We.length;et++)ze=We[et],kt(Ee,ze),Lt(Ee,ze);xt(Ee);e:for(var tt=0;tt<$e.length;tt++){var rt,nt=$e[tt],at=null;for(rt in nt){if(!1===(ze=it.getFromId(Ee,rt)).autorange)continue e;Be=Qe.simpleMap(ze.range,ze.r2l),at?at[0]<at[1]?(at[0]=Math.min(at[0],Be[0]),at[1]=Math.max(at[1],Be[1])):(at[0]=Math.max(at[0],Be[0]),at[1]=Math.min(at[1],Be[1])):at=Be}for(rt in nt)(ze=it.getFromId(Ee,rt)).range=Qe.simpleMap(at,ze.l2r),ze._input.range=ze.range.slice(),ze.setScale()}},ze.finalDraw=function(Ee){We.getComponentMethod("rangeslider","draw")(Ee),We.getComponentMethod("rangeselector","draw")(Ee)},ze.drawMarginPushers=function(Ee){We.getComponentMethod("legend","draw")(Ee),We.getComponentMethod("rangeselector","draw")(Ee),We.getComponentMethod("sliders","draw")(Ee),We.getComponentMethod("updatemenus","draw")(Ee),We.getComponentMethod("colorbar","draw")(Ee)}},a39a:function(Ee,ze,Be){"use strict";Ee.exports=function quatFromFrame(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt){var nt=ze+$e+rt;if(at>0){var at=Math.sqrt(nt+1);Ee[0]=.5*(Qe-tt)/at,Ee[1]=.5*(et-Ue)/at,Ee[2]=.5*(Be-$e)/at,Ee[3]=.5*at}else{var it=Math.max(ze,$e,rt);at=Math.sqrt(2*it-nt+1);ze>=it?(Ee[0]=.5*at,Ee[1]=.5*(We+Be)/at,Ee[2]=.5*(et+Ue)/at,Ee[3]=.5*(Qe-tt)/at):$e>=it?(Ee[0]=.5*(Be+We)/at,Ee[1]=.5*at,Ee[2]=.5*(tt+Qe)/at,Ee[3]=.5*(et-Ue)/at):(Ee[0]=.5*(Ue+et)/at,Ee[1]=.5*(Qe+tt)/at,Ee[2]=.5*at,Ee[3]=.5*(Be-We)/at)}return Ee}},a3fd:function(Ee,ze){function GLError(Ee,ze,Be){this.shortMessage=ze||"",this.longMessage=Be||"",this.rawError=Ee||"",this.message="gl-shader: "+(ze||Ee||"")+(Be?"\n"+Be:""),this.stack=(new Error).stack}GLError.prototype=new Error,GLError.prototype.name="GLError",GLError.prototype.constructor=GLError,Ee.exports=GLError},a41d:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("a708"),$e=Be("93a6").resizeText;Ee.exports=function style(Ee){var ze=Ee._fullLayout._funnelarealayer.selectAll(".trace");$e(Ee,ze,"funnelarea"),ze.each((function(Ee){var ze=Ee[0].trace,Be=Ue.select(this);Be.style({opacity:ze.opacity}),Be.selectAll("path.surface").each((function(Ee){Ue.select(this).call(We,Ee,ze)}))}))}},a43d:function(Ee,ze,Be){"use strict";Be.r(ze);var define=function(Ee,ze,Be){Ee.prototype=ze.prototype=Be,Be.constructor=Ee};function extend(Ee,ze){var Be=Object.create(Ee.prototype);for(var Ue in ze)Be[Ue]=ze[Ue];return Be}function Color(){}var Ue="\\s*([+-]?\\d+)\\s*",We="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qe=/^#([0-9a-f]{3,8})$/,et=new RegExp("^rgb\\("+[Ue,Ue,Ue]+"\\)$"),tt=new RegExp("^rgb\\("+[$e,$e,$e]+"\\)$"),rt=new RegExp("^rgba\\("+[Ue,Ue,Ue,We]+"\\)$"),nt=new RegExp("^rgba\\("+[$e,$e,$e,We]+"\\)$"),at=new RegExp("^hsl\\("+[We,$e,$e]+"\\)$"),it=new RegExp("^hsla\\("+[We,$e,$e,We]+"\\)$"),ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color_color(Ee){var ze,Be;return Ee=(Ee+"").trim().toLowerCase(),(ze=Qe.exec(Ee))?(Be=ze[1].length,ze=parseInt(ze[1],16),6===Be?rgbn(ze):3===Be?new Rgb(ze>>8&15|ze>>4&240,ze>>4&15|240&ze,(15&ze)<<4|15&ze,1):8===Be?new Rgb(ze>>24&255,ze>>16&255,ze>>8&255,(255&ze)/255):4===Be?new Rgb(ze>>12&15|ze>>8&240,ze>>8&15|ze>>4&240,ze>>4&15|240&ze,((15&ze)<<4|15&ze)/255):null):(ze=et.exec(Ee))?new Rgb(ze[1],ze[2],ze[3],1):(ze=tt.exec(Ee))?new Rgb(255*ze[1]/100,255*ze[2]/100,255*ze[3]/100,1):(ze=rt.exec(Ee))?rgba(ze[1],ze[2],ze[3],ze[4]):(ze=nt.exec(Ee))?rgba(255*ze[1]/100,255*ze[2]/100,255*ze[3]/100,ze[4]):(ze=at.exec(Ee))?hsla(ze[1],ze[2]/100,ze[3]/100,1):(ze=it.exec(Ee))?hsla(ze[1],ze[2]/100,ze[3]/100,ze[4]):ct.hasOwnProperty(Ee)?rgbn(ct[Ee]):"transparent"===Ee?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Ee){return new Rgb(Ee>>16&255,Ee>>8&255,255&Ee,1)}function rgba(Ee,ze,Be,Ue){return Ue<=0&&(Ee=ze=Be=NaN),new Rgb(Ee,ze,Be,Ue)}function rgbConvert(Ee){return Ee instanceof Color||(Ee=color_color(Ee)),Ee?new Rgb((Ee=Ee.rgb()).r,Ee.g,Ee.b,Ee.opacity):new Rgb}function color_rgb(Ee,ze,Be,Ue){return 1===arguments.length?rgbConvert(Ee):new Rgb(Ee,ze,Be,null==Ue?1:Ue)}function Rgb(Ee,ze,Be,Ue){this.r=+Ee,this.g=+ze,this.b=+Be,this.opacity=+Ue}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var Ee=this.opacity;return(1===(Ee=isNaN(Ee)?1:Math.max(0,Math.min(1,Ee)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Ee?")":", "+Ee+")")}function hex(Ee){return((Ee=Math.max(0,Math.min(255,Math.round(Ee)||0)))<16?"0":"")+Ee.toString(16)}function hsla(Ee,ze,Be,Ue){return Ue<=0?Ee=ze=Be=NaN:Be<=0||Be>=1?Ee=ze=NaN:ze<=0&&(Ee=NaN),new Hsl(Ee,ze,Be,Ue)}function hslConvert(Ee){if(Ee instanceof Hsl)return new Hsl(Ee.h,Ee.s,Ee.l,Ee.opacity);if(Ee instanceof Color||(Ee=color_color(Ee)),!Ee)return new Hsl;if(Ee instanceof Hsl)return Ee;var ze=(Ee=Ee.rgb()).r/255,Be=Ee.g/255,Ue=Ee.b/255,We=Math.min(ze,Be,Ue),$e=Math.max(ze,Be,Ue),Qe=NaN,et=$e-We,tt=($e+We)/2;return et?(Qe=ze===$e?(Be-Ue)/et+6*(Be<Ue):Be===$e?(Ue-ze)/et+2:(ze-Be)/et+4,et/=tt<.5?$e+We:2-$e-We,Qe*=60):et=tt>0&&tt<1?0:Qe,new Hsl(Qe,et,tt,Ee.opacity)}function hsl(Ee,ze,Be,Ue){return 1===arguments.length?hslConvert(Ee):new Hsl(Ee,ze,Be,null==Ue?1:Ue)}function Hsl(Ee,ze,Be,Ue){this.h=+Ee,this.s=+ze,this.l=+Be,this.opacity=+Ue}function hsl2rgb(Ee,ze,Be){return 255*(Ee<60?ze+(Be-ze)*Ee/60:Ee<180?Be:Ee<240?ze+(Be-ze)*(240-Ee)/60:ze)}function basis(Ee,ze,Be,Ue,We){var $e=Ee*Ee,Qe=$e*Ee;return((1-3*Ee+3*$e-Qe)*ze+(4-6*$e+3*Qe)*Be+(1+3*Ee+3*$e-3*Qe)*Ue+Qe*We)/6}define(Color,color_color,{copy:function(Ee){return Object.assign(new this.constructor,this,Ee)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,color_rgb,extend(Color,{brighter:function(Ee){return Ee=null==Ee?1/.7:Math.pow(1/.7,Ee),new Rgb(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},darker:function(Ee){return Ee=null==Ee?.7:Math.pow(.7,Ee),new Rgb(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl,extend(Color,{brighter:function(Ee){return Ee=null==Ee?1/.7:Math.pow(1/.7,Ee),new Hsl(this.h,this.s,this.l*Ee,this.opacity)},darker:function(Ee){return Ee=null==Ee?.7:Math.pow(.7,Ee),new Hsl(this.h,this.s,this.l*Ee,this.opacity)},rgb:function(){var Ee=this.h%360+360*(this.h<0),ze=isNaN(Ee)||isNaN(this.s)?0:this.s,Be=this.l,Ue=Be+(Be<.5?Be:1-Be)*ze,We=2*Be-Ue;return new Rgb(hsl2rgb(Ee>=240?Ee-240:Ee+120,We,Ue),hsl2rgb(Ee,We,Ue),hsl2rgb(Ee<120?Ee+240:Ee-120,We,Ue),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ee=this.opacity;return(1===(Ee=isNaN(Ee)?1:Math.max(0,Math.min(1,Ee)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Ee?")":", "+Ee+")")}}));var src_basis=function(Ee){var ze=Ee.length-1;return function(Be){var Ue=Be<=0?Be=0:Be>=1?(Be=1,ze-1):Math.floor(Be*ze),We=Ee[Ue],$e=Ee[Ue+1],Qe=Ue>0?Ee[Ue-1]:2*We-$e,et=Ue<ze-1?Ee[Ue+2]:2*$e-We;return basis((Be-Ue/ze)*ze,Qe,We,$e,et)}},basisClosed=function(Ee){var ze=Ee.length;return function(Be){var Ue=Math.floor(((Be%=1)<0?++Be:Be)*ze),We=Ee[(Ue+ze-1)%ze],$e=Ee[Ue%ze],Qe=Ee[(Ue+1)%ze],et=Ee[(Ue+2)%ze];return basis((Be-Ue/ze)*ze,We,$e,Qe,et)}},constant=function(Ee){return function(){return Ee}};function linear(Ee,ze){return function(Be){return Ee+Be*ze}}function color_hue(Ee,ze){var Be=ze-Ee;return Be?linear(Ee,Be>180||Be<-180?Be-360*Math.round(Be/360):Be):constant(isNaN(Ee)?ze:Ee)}function gamma(Ee){return 1==(Ee=+Ee)?nogamma:function(ze,Be){return Be-ze?function exponential(Ee,ze,Be){return Ee=Math.pow(Ee,Be),ze=Math.pow(ze,Be)-Ee,Be=1/Be,function(Ue){return Math.pow(Ee+Ue*ze,Be)}}(ze,Be,Ee):constant(isNaN(ze)?Be:ze)}}function nogamma(Ee,ze){var Be=ze-Ee;return Be?linear(Ee,Be):constant(isNaN(Ee)?ze:Ee)}var ft=function rgbGamma(Ee){var ze=gamma(Ee);function rgb(Ee,Be){var Ue=ze((Ee=color_rgb(Ee)).r,(Be=color_rgb(Be)).r),We=ze(Ee.g,Be.g),$e=ze(Ee.b,Be.b),Qe=nogamma(Ee.opacity,Be.opacity);return function(ze){return Ee.r=Ue(ze),Ee.g=We(ze),Ee.b=$e(ze),Ee.opacity=Qe(ze),Ee+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(Ee){return function(ze){var Be,Ue,We=ze.length,$e=new Array(We),Qe=new Array(We),et=new Array(We);for(Be=0;Be<We;++Be)Ue=color_rgb(ze[Be]),$e[Be]=Ue.r||0,Qe[Be]=Ue.g||0,et[Be]=Ue.b||0;return $e=Ee($e),Qe=Ee(Qe),et=Ee(et),Ue.opacity=1,function(Ee){return Ue.r=$e(Ee),Ue.g=Qe(Ee),Ue.b=et(Ee),Ue+""}}}var xt=rgbSpline(src_basis),kt=rgbSpline(basisClosed),numberArray=function(Ee,ze){ze||(ze=[]);var Be,Ue=Ee?Math.min(ze.length,Ee.length):0,We=ze.slice();return function($e){for(Be=0;Be<Ue;++Be)We[Be]=Ee[Be]*(1-$e)+ze[Be]*$e;return We}};function isNumberArray(Ee){return ArrayBuffer.isView(Ee)&&!(Ee instanceof DataView)}var array=function(Ee,ze){return(isNumberArray(ze)?numberArray:genericArray)(Ee,ze)};function genericArray(Ee,ze){var Be,Ue=ze?ze.length:0,We=Ee?Math.min(Ue,Ee.length):0,$e=new Array(We),Qe=new Array(Ue);for(Be=0;Be<We;++Be)$e[Be]=src_value(Ee[Be],ze[Be]);for(;Be<Ue;++Be)Qe[Be]=ze[Be];return function(Ee){for(Be=0;Be<We;++Be)Qe[Be]=$e[Be](Ee);return Qe}}var date=function(Ee,ze){var Be=new Date;return Ee=+Ee,ze=+ze,function(Ue){return Be.setTime(Ee*(1-Ue)+ze*Ue),Be}},number=function(Ee,ze){return Ee=+Ee,ze=+ze,function(Be){return Ee*(1-Be)+ze*Be}},object=function(Ee,ze){var Be,Ue={},We={};for(Be in null!==Ee&&"object"==typeof Ee||(Ee={}),null!==ze&&"object"==typeof ze||(ze={}),ze)Be in Ee?Ue[Be]=src_value(Ee[Be],ze[Be]):We[Be]=ze[Be];return function(Ee){for(Be in Ue)We[Be]=Ue[Be](Ee);return We}},Lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(Lt.source,"g");var er,tr,rr,ar,string=function(Ee,ze){var Be,Ue,We,$e=Lt.lastIndex=Ut.lastIndex=0,Qe=-1,et=[],tt=[];for(Ee+="",ze+="";(Be=Lt.exec(Ee))&&(Ue=Ut.exec(ze));)(We=Ue.index)>$e&&(We=ze.slice($e,We),et[Qe]?et[Qe]+=We:et[++Qe]=We),(Be=Be[0])===(Ue=Ue[0])?et[Qe]?et[Qe]+=Ue:et[++Qe]=Ue:(et[++Qe]=null,tt.push({i:Qe,x:number(Be,Ue)})),$e=Ut.lastIndex;return $e<ze.length&&(We=ze.slice($e),et[Qe]?et[Qe]+=We:et[++Qe]=We),et.length<2?tt[0]?function one(Ee){return function(ze){return Ee(ze)+""}}(tt[0].x):function zero(Ee){return function(){return Ee}}(ze):(ze=tt.length,function(Ee){for(var Be,Ue=0;Ue<ze;++Ue)et[(Be=tt[Ue]).i]=Be.x(Ee);return et.join("")})},src_value=function(Ee,ze){var Be,Ue=typeof ze;return null==ze||"boolean"===Ue?constant(ze):("number"===Ue?number:"string"===Ue?(Be=color_color(ze))?(ze=Be,ft):string:ze instanceof color_color?ft:ze instanceof Date?date:isNumberArray(ze)?numberArray:Array.isArray(ze)?genericArray:"function"!=typeof ze.valueOf&&"function"!=typeof ze.toString||isNaN(ze)?object:number)(Ee,ze)},discrete=function(Ee){var ze=Ee.length;return function(Be){return Ee[Math.max(0,Math.min(ze-1,Math.floor(Be*ze)))]}},src_hue=function(Ee,ze){var Be=color_hue(+Ee,+ze);return function(Ee){var ze=Be(Ee);return ze-360*Math.floor(ze/360)}},round=function(Ee,ze){return Ee=+Ee,ze=+ze,function(Be){return Math.round(Ee*(1-Be)+ze*Be)}},Lr=180/Math.PI,Qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},decompose=function(Ee,ze,Be,Ue,We,$e){var Qe,et,tt;return(Qe=Math.sqrt(Ee*Ee+ze*ze))&&(Ee/=Qe,ze/=Qe),(tt=Ee*Be+ze*Ue)&&(Be-=Ee*tt,Ue-=ze*tt),(et=Math.sqrt(Be*Be+Ue*Ue))&&(Be/=et,Ue/=et,tt/=et),Ee*Ue<ze*Be&&(Ee=-Ee,ze=-ze,tt=-tt,Qe=-Qe),{translateX:We,translateY:$e,rotate:Math.atan2(ze,Ee)*Lr,skewX:Math.atan(tt)*Lr,scaleX:Qe,scaleY:et}};function interpolateTransform(Ee,ze,Be,Ue){function pop(Ee){return Ee.length?Ee.pop()+" ":""}return function(We,$e){var Qe=[],et=[];return We=Ee(We),$e=Ee($e),function translate(Ee,Ue,We,$e,Qe,et){if(Ee!==We||Ue!==$e){var tt=Qe.push("translate(",null,ze,null,Be);et.push({i:tt-4,x:number(Ee,We)},{i:tt-2,x:number(Ue,$e)})}else(We||$e)&&Qe.push("translate("+We+ze+$e+Be)}(We.translateX,We.translateY,$e.translateX,$e.translateY,Qe,et),function rotate(Ee,ze,Be,We){Ee!==ze?(Ee-ze>180?ze+=360:ze-Ee>180&&(Ee+=360),We.push({i:Be.push(pop(Be)+"rotate(",null,Ue)-2,x:number(Ee,ze)})):ze&&Be.push(pop(Be)+"rotate("+ze+Ue)}(We.rotate,$e.rotate,Qe,et),function skewX(Ee,ze,Be,We){Ee!==ze?We.push({i:Be.push(pop(Be)+"skewX(",null,Ue)-2,x:number(Ee,ze)}):ze&&Be.push(pop(Be)+"skewX("+ze+Ue)}(We.skewX,$e.skewX,Qe,et),function scale(Ee,ze,Be,Ue,We,$e){if(Ee!==Be||ze!==Ue){var Qe=We.push(pop(We)+"scale(",null,",",null,")");$e.push({i:Qe-4,x:number(Ee,Be)},{i:Qe-2,x:number(ze,Ue)})}else 1===Be&&1===Ue||We.push(pop(We)+"scale("+Be+","+Ue+")")}(We.scaleX,We.scaleY,$e.scaleX,$e.scaleY,Qe,et),We=$e=null,function(Ee){for(var ze,Be=-1,Ue=et.length;++Be<Ue;)Qe[(ze=et[Be]).i]=ze.x(Ee);return Qe.join("")}}}var on=interpolateTransform((function parseCss(Ee){return"none"===Ee?Qr:(er||(er=document.createElement("DIV"),tr=document.documentElement,rr=document.defaultView),er.style.transform=Ee,Ee=rr.getComputedStyle(tr.appendChild(er),null).getPropertyValue("transform"),tr.removeChild(er),Ee=Ee.slice(7,-1).split(","),decompose(+Ee[0],+Ee[1],+Ee[2],+Ee[3],+Ee[4],+Ee[5]))}),"px, ","px)","deg)"),sn=interpolateTransform((function parseSvg(Ee){return null==Ee?Qr:(ar||(ar=document.createElementNS("http://www.w3.org/2000/svg","g")),ar.setAttribute("transform",Ee),(Ee=ar.transform.baseVal.consolidate())?(Ee=Ee.matrix,decompose(Ee.a,Ee.b,Ee.c,Ee.d,Ee.e,Ee.f)):Qr)}),", ",")",")"),ln=Math.SQRT2;function zoom_cosh(Ee){return((Ee=Math.exp(Ee))+1/Ee)/2}var zoom=function(Ee,ze){var Be,Ue,We=Ee[0],$e=Ee[1],Qe=Ee[2],et=ze[0],tt=ze[1],rt=ze[2],nt=et-We,at=tt-$e,it=nt*nt+at*at;if(it<1e-12)Ue=Math.log(rt/Qe)/ln,Be=function(Ee){return[We+Ee*nt,$e+Ee*at,Qe*Math.exp(ln*Ee*Ue)]};else{var ct=Math.sqrt(it),ft=(rt*rt-Qe*Qe+4*it)/(2*Qe*2*ct),xt=(rt*rt-Qe*Qe-4*it)/(2*rt*2*ct),kt=Math.log(Math.sqrt(ft*ft+1)-ft),Lt=Math.log(Math.sqrt(xt*xt+1)-xt);Ue=(Lt-kt)/ln,Be=function(Ee){var ze=Ee*Ue,Be=zoom_cosh(kt),et=Qe/(2*ct)*(Be*function tanh(Ee){return((Ee=Math.exp(2*Ee))-1)/(Ee+1)}(ln*ze+kt)-function zoom_sinh(Ee){return((Ee=Math.exp(Ee))-1/Ee)/2}(kt));return[We+et*nt,$e+et*at,Qe*Be/zoom_cosh(ln*ze+kt)]}}return Be.duration=1e3*Ue,Be};function hsl_hsl(Ee){return function(ze,Be){var Ue=Ee((ze=hsl(ze)).h,(Be=hsl(Be)).h),We=nogamma(ze.s,Be.s),$e=nogamma(ze.l,Be.l),Qe=nogamma(ze.opacity,Be.opacity);return function(Ee){return ze.h=Ue(Ee),ze.s=We(Ee),ze.l=$e(Ee),ze.opacity=Qe(Ee),ze+""}}}var cn=hsl_hsl(color_hue),un=hsl_hsl(nogamma),hn=Math.PI/180,dn=180/Math.PI,vn=6/29,yn=3*vn*vn;function labConvert(Ee){if(Ee instanceof Lab)return new Lab(Ee.l,Ee.a,Ee.b,Ee.opacity);if(Ee instanceof Hcl)return hcl2lab(Ee);Ee instanceof Rgb||(Ee=rgbConvert(Ee));var ze,Be,Ue=rgb2lrgb(Ee.r),We=rgb2lrgb(Ee.g),$e=rgb2lrgb(Ee.b),Qe=xyz2lab((.2225045*Ue+.7168786*We+.0606169*$e)/1);return Ue===We&&We===$e?ze=Be=Qe:(ze=xyz2lab((.4360747*Ue+.3850649*We+.1430804*$e)/.96422),Be=xyz2lab((.0139322*Ue+.0971045*We+.7141733*$e)/.82521)),new Lab(116*Qe-16,500*(ze-Qe),200*(Qe-Be),Ee.opacity)}function lab(Ee,ze,Be,Ue){return 1===arguments.length?labConvert(Ee):new Lab(Ee,ze,Be,null==Ue?1:Ue)}function Lab(Ee,ze,Be,Ue){this.l=+Ee,this.a=+ze,this.b=+Be,this.opacity=+Ue}function xyz2lab(Ee){return Ee>.008856451679035631?Math.pow(Ee,1/3):Ee/yn+4/29}function lab2xyz(Ee){return Ee>vn?Ee*Ee*Ee:yn*(Ee-4/29)}function lrgb2rgb(Ee){return 255*(Ee<=.0031308?12.92*Ee:1.055*Math.pow(Ee,1/2.4)-.055)}function rgb2lrgb(Ee){return(Ee/=255)<=.04045?Ee/12.92:Math.pow((Ee+.055)/1.055,2.4)}function hclConvert(Ee){if(Ee instanceof Hcl)return new Hcl(Ee.h,Ee.c,Ee.l,Ee.opacity);if(Ee instanceof Lab||(Ee=labConvert(Ee)),0===Ee.a&&0===Ee.b)return new Hcl(NaN,0<Ee.l&&Ee.l<100?0:NaN,Ee.l,Ee.opacity);var ze=Math.atan2(Ee.b,Ee.a)*dn;return new Hcl(ze<0?ze+360:ze,Math.sqrt(Ee.a*Ee.a+Ee.b*Ee.b),Ee.l,Ee.opacity)}function hcl(Ee,ze,Be,Ue){return 1===arguments.length?hclConvert(Ee):new Hcl(Ee,ze,Be,null==Ue?1:Ue)}function Hcl(Ee,ze,Be,Ue){this.h=+Ee,this.c=+ze,this.l=+Be,this.opacity=+Ue}function hcl2lab(Ee){if(isNaN(Ee.h))return new Lab(Ee.l,0,0,Ee.opacity);var ze=Ee.h*hn;return new Lab(Ee.l,Math.cos(ze)*Ee.c,Math.sin(ze)*Ee.c,Ee.opacity)}function lab_lab(Ee,ze){var Be=nogamma((Ee=lab(Ee)).l,(ze=lab(ze)).l),Ue=nogamma(Ee.a,ze.a),We=nogamma(Ee.b,ze.b),$e=nogamma(Ee.opacity,ze.opacity);return function(ze){return Ee.l=Be(ze),Ee.a=Ue(ze),Ee.b=We(ze),Ee.opacity=$e(ze),Ee+""}}function hcl_hcl(Ee){return function(ze,Be){var Ue=Ee((ze=hcl(ze)).h,(Be=hcl(Be)).h),We=nogamma(ze.c,Be.c),$e=nogamma(ze.l,Be.l),Qe=nogamma(ze.opacity,Be.opacity);return function(Ee){return ze.h=Ue(Ee),ze.c=We(Ee),ze.l=$e(Ee),ze.opacity=Qe(Ee),ze+""}}}define(Lab,lab,extend(Color,{brighter:function(Ee){return new Lab(this.l+18*(null==Ee?1:Ee),this.a,this.b,this.opacity)},darker:function(Ee){return new Lab(this.l-18*(null==Ee?1:Ee),this.a,this.b,this.opacity)},rgb:function(){var Ee=(this.l+16)/116,ze=isNaN(this.a)?Ee:Ee+this.a/500,Be=isNaN(this.b)?Ee:Ee-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(ze=.96422*lab2xyz(ze))-1.6168667*(Ee=1*lab2xyz(Ee))-.4906146*(Be=.82521*lab2xyz(Be))),lrgb2rgb(-.9787684*ze+1.9161415*Ee+.033454*Be),lrgb2rgb(.0719453*ze-.2289914*Ee+1.4052427*Be),this.opacity)}})),define(Hcl,hcl,extend(Color,{brighter:function(Ee){return new Hcl(this.h,this.c,this.l+18*(null==Ee?1:Ee),this.opacity)},darker:function(Ee){return new Hcl(this.h,this.c,this.l-18*(null==Ee?1:Ee),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var _n=hcl_hcl(color_hue),Mn=hcl_hcl(nogamma),Cn=-.14861,En=1.78277,Pn=-.29227,In=-.90649,Bn=1.97294,Hn=Bn*In,Kn=Bn*En,Jn=En*Pn-In*Cn;function cubehelixConvert(Ee){if(Ee instanceof Cubehelix)return new Cubehelix(Ee.h,Ee.s,Ee.l,Ee.opacity);Ee instanceof Rgb||(Ee=rgbConvert(Ee));var ze=Ee.r/255,Be=Ee.g/255,Ue=Ee.b/255,We=(Jn*Ue+Hn*ze-Kn*Be)/(Jn+Hn-Kn),$e=Ue-We,Qe=(Bn*(Be-We)-Pn*$e)/In,et=Math.sqrt(Qe*Qe+$e*$e)/(Bn*We*(1-We)),tt=et?Math.atan2(Qe,$e)*dn-120:NaN;return new Cubehelix(tt<0?tt+360:tt,et,We,Ee.opacity)}function cubehelix_cubehelix(Ee,ze,Be,Ue){return 1===arguments.length?cubehelixConvert(Ee):new Cubehelix(Ee,ze,Be,null==Ue?1:Ue)}function Cubehelix(Ee,ze,Be,Ue){this.h=+Ee,this.s=+ze,this.l=+Be,this.opacity=+Ue}function src_cubehelix_cubehelix(Ee){return function cubehelixGamma(ze){function cubehelix(Be,Ue){var We=Ee((Be=cubehelix_cubehelix(Be)).h,(Ue=cubehelix_cubehelix(Ue)).h),$e=nogamma(Be.s,Ue.s),Qe=nogamma(Be.l,Ue.l),et=nogamma(Be.opacity,Ue.opacity);return function(Ee){return Be.h=We(Ee),Be.s=$e(Ee),Be.l=Qe(Math.pow(Ee,ze)),Be.opacity=et(Ee),Be+""}}return ze=+ze,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}define(Cubehelix,cubehelix_cubehelix,extend(Color,{brighter:function(Ee){return Ee=null==Ee?1/.7:Math.pow(1/.7,Ee),new Cubehelix(this.h,this.s,this.l*Ee,this.opacity)},darker:function(Ee){return Ee=null==Ee?.7:Math.pow(.7,Ee),new Cubehelix(this.h,this.s,this.l*Ee,this.opacity)},rgb:function(){var Ee=isNaN(this.h)?0:(this.h+120)*hn,ze=+this.l,Be=isNaN(this.s)?0:this.s*ze*(1-ze),Ue=Math.cos(Ee),We=Math.sin(Ee);return new Rgb(255*(ze+Be*(Cn*Ue+En*We)),255*(ze+Be*(Pn*Ue+In*We)),255*(ze+Be*(Bn*Ue)),this.opacity)}}));var Ma=src_cubehelix_cubehelix(color_hue),Sa=src_cubehelix_cubehelix(nogamma);function piecewise(Ee,ze){for(var Be=0,Ue=ze.length-1,We=ze[0],$e=new Array(Ue<0?0:Ue);Be<Ue;)$e[Be]=Ee(We,We=ze[++Be]);return function(Ee){var ze=Math.max(0,Math.min(Ue-1,Math.floor(Ee*=Ue)));return $e[ze](Ee-ze)}}var quantize=function(Ee,ze){for(var Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=Ee(Ue/(ze-1));return Be};Be.d(ze,"interpolate",(function(){return src_value})),Be.d(ze,"interpolateArray",(function(){return array})),Be.d(ze,"interpolateBasis",(function(){return src_basis})),Be.d(ze,"interpolateBasisClosed",(function(){return basisClosed})),Be.d(ze,"interpolateDate",(function(){return date})),Be.d(ze,"interpolateDiscrete",(function(){return discrete})),Be.d(ze,"interpolateHue",(function(){return src_hue})),Be.d(ze,"interpolateNumber",(function(){return number})),Be.d(ze,"interpolateNumberArray",(function(){return numberArray})),Be.d(ze,"interpolateObject",(function(){return object})),Be.d(ze,"interpolateRound",(function(){return round})),Be.d(ze,"interpolateString",(function(){return string})),Be.d(ze,"interpolateTransformCss",(function(){return on})),Be.d(ze,"interpolateTransformSvg",(function(){return sn})),Be.d(ze,"interpolateZoom",(function(){return zoom})),Be.d(ze,"interpolateRgb",(function(){return ft})),Be.d(ze,"interpolateRgbBasis",(function(){return xt})),Be.d(ze,"interpolateRgbBasisClosed",(function(){return kt})),Be.d(ze,"interpolateHsl",(function(){return cn})),Be.d(ze,"interpolateHslLong",(function(){return un})),Be.d(ze,"interpolateLab",(function(){return lab_lab})),Be.d(ze,"interpolateHcl",(function(){return _n})),Be.d(ze,"interpolateHclLong",(function(){return Mn})),Be.d(ze,"interpolateCubehelix",(function(){return Ma})),Be.d(ze,"interpolateCubehelixLong",(function(){return Sa})),Be.d(ze,"piecewise",(function(){return piecewise})),Be.d(ze,"quantize",(function(){return quantize}))},a462:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("927d").hoverlabel,$e=Be("9092").extendFlat;Ee.exports={hoverlabel:{bgcolor:$e({},We.bgcolor,{arrayOk:!0}),bordercolor:$e({},We.bordercolor,{arrayOk:!0}),font:Ue({arrayOk:!0,editType:"none"}),align:$e({},We.align,{arrayOk:!0}),namelength:$e({},We.namelength,{arrayOk:!0}),editType:"none"}}},a469:function(Ee,ze){Ee.exports=function subtract(Ee,ze,Be){return Ee[0]=ze[0]-Be[0],Ee[1]=ze[1]-Be[1],Ee[2]=ze[2]-Be[2],Ee}},a48a:function(Ee,ze,Be){"use strict";function countTrailingZeros(Ee){var ze=32;return(Ee&=-Ee)&&ze--,65535&Ee&&(ze-=16),16711935&Ee&&(ze-=8),252645135&Ee&&(ze-=4),858993459&Ee&&(ze-=2),1431655765&Ee&&(ze-=1),ze}ze.INT_BITS=32,ze.INT_MAX=2147483647,ze.INT_MIN=-1<<31,ze.sign=function(Ee){return(Ee>0)-(Ee<0)},ze.abs=function(Ee){var ze=Ee>>31;return(Ee^ze)-ze},ze.min=function(Ee,ze){return ze^(Ee^ze)&-(Ee<ze)},ze.max=function(Ee,ze){return Ee^(Ee^ze)&-(Ee<ze)},ze.isPow2=function(Ee){return!(Ee&Ee-1||!Ee)},ze.log2=function(Ee){var ze,Be;return ze=(Ee>65535)<<4,ze|=Be=((Ee>>>=ze)>255)<<3,ze|=Be=((Ee>>>=Be)>15)<<2,(ze|=Be=((Ee>>>=Be)>3)<<1)|(Ee>>>=Be)>>1},ze.log10=function(Ee){return Ee>=1e9?9:Ee>=1e8?8:Ee>=1e7?7:Ee>=1e6?6:Ee>=1e5?5:Ee>=1e4?4:Ee>=1e3?3:Ee>=100?2:Ee>=10?1:0},ze.popCount=function(Ee){return 16843009*((Ee=(858993459&(Ee-=Ee>>>1&1431655765))+(Ee>>>2&858993459))+(Ee>>>4)&252645135)>>>24},ze.countTrailingZeros=countTrailingZeros,ze.nextPow2=function(Ee){return Ee+=0===Ee,--Ee,Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,(Ee|=Ee>>>16)+1},ze.prevPow2=function(Ee){return Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,(Ee|=Ee>>>16)-(Ee>>>1)},ze.parity=function(Ee){return Ee^=Ee>>>16,Ee^=Ee>>>8,Ee^=Ee>>>4,27030>>>(Ee&=15)&1};var Ue=new Array(256);!function(Ee){for(var ze=0;ze<256;++ze){var Be=ze,Ue=ze,We=7;for(Be>>>=1;Be;Be>>>=1)Ue<<=1,Ue|=1&Be,--We;Ee[ze]=Ue<<We&255}}(Ue),ze.reverse=function(Ee){return Ue[255&Ee]<<24|Ue[Ee>>>8&255]<<16|Ue[Ee>>>16&255]<<8|Ue[Ee>>>24&255]},ze.interleave2=function(Ee,ze){return(Ee=1431655765&((Ee=858993459&((Ee=252645135&((Ee=16711935&((Ee&=65535)|Ee<<8))|Ee<<4))|Ee<<2))|Ee<<1))|(ze=1431655765&((ze=858993459&((ze=252645135&((ze=16711935&((ze&=65535)|ze<<8))|ze<<4))|ze<<2))|ze<<1))<<1},ze.deinterleave2=function(Ee,ze){return(Ee=65535&((Ee=16711935&((Ee=252645135&((Ee=858993459&((Ee=Ee>>>ze&1431655765)|Ee>>>1))|Ee>>>2))|Ee>>>4))|Ee>>>16))<<16>>16},ze.interleave3=function(Ee,ze,Be){return Ee=1227133513&((Ee=3272356035&((Ee=251719695&((Ee=4278190335&((Ee&=1023)|Ee<<16))|Ee<<8))|Ee<<4))|Ee<<2),(Ee|=(ze=1227133513&((ze=3272356035&((ze=251719695&((ze=4278190335&((ze&=1023)|ze<<16))|ze<<8))|ze<<4))|ze<<2))<<1)|(Be=1227133513&((Be=3272356035&((Be=251719695&((Be=4278190335&((Be&=1023)|Be<<16))|Be<<8))|Be<<4))|Be<<2))<<2},ze.deinterleave3=function(Ee,ze){return(Ee=1023&((Ee=4278190335&((Ee=251719695&((Ee=3272356035&((Ee=Ee>>>ze&1227133513)|Ee>>>2))|Ee>>>4))|Ee>>>8))|Ee>>>16))<<22>>22},ze.nextCombination=function(Ee){var ze=Ee|Ee-1;return ze+1|(~ze&-~ze)-1>>>countTrailingZeros(Ee)+1}},a4c0:function(Ee,ze,Be){"use strict";var Ue=Be("371e");Ee.exports=function localize(Ee,ze){for(var Be=Ee._context.locale,We=0;We<2;We++){for(var $e=Ee._context.locales,Qe=0;Qe<2;Qe++){var et=($e[Be]||{}).dictionary;if(et){var tt=et[ze];if(tt)return tt}$e=Ue.localeRegistry}var rt=Be.split("-")[0];if(rt===Be)break;Be=rt}return ze}},a4d3:function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("da84"),$e=Be("d066"),Qe=Be("c430"),et=Be("83ab"),tt=Be("4930"),rt=Be("fdbf"),nt=Be("d039"),at=Be("5135"),it=Be("e8b5"),ct=Be("861d"),ft=Be("825a"),xt=Be("7b0b"),kt=Be("fc6a"),Lt=Be("c04e"),Ut=Be("5c6c"),er=Be("7c73"),tr=Be("df75"),rr=Be("241c"),ar=Be("057f"),Lr=Be("7418"),Qr=Be("06cf"),on=Be("9bf2"),sn=Be("d1e7"),ln=Be("9112"),cn=Be("6eeb"),un=Be("5692"),hn=Be("f772"),dn=Be("d012"),vn=Be("90e3"),yn=Be("b622"),_n=Be("e538"),Mn=Be("746f"),Cn=Be("d44e"),En=Be("69f3"),Pn=Be("b727").forEach,In=hn("hidden"),Bn=yn("toPrimitive"),Hn=En.set,Kn=En.getterFor("Symbol"),Jn=Object.prototype,Ma=We.Symbol,Sa=$e("JSON","stringify"),La=Qr.f,Ia=on.f,Ra=ar.f,Na=sn.f,Ua=un("symbols"),qa=un("op-symbols"),Ka=un("string-to-symbol-registry"),ei=un("symbol-to-string-registry"),ti=un("wks"),ri=We.QObject,ni=!ri||!ri.prototype||!ri.prototype.findChild,ai=et&&nt((function(){return 7!=er(Ia({},"a",{get:function(){return Ia(this,"a",{value:7}).a}})).a}))?function(Ee,ze,Be){var Ue=La(Jn,ze);Ue&&delete Jn[ze],Ia(Ee,ze,Be),Ue&&Ee!==Jn&&Ia(Jn,ze,Ue)}:Ia,wrap=function(Ee,ze){var Be=Ua[Ee]=er(Ma.prototype);return Hn(Be,{type:"Symbol",tag:Ee,description:ze}),et||(Be.description=ze),Be},ii=rt?function(Ee){return"symbol"==typeof Ee}:function(Ee){return Object(Ee)instanceof Ma},oi=function defineProperty(Ee,ze,Be){Ee===Jn&&oi(qa,ze,Be),ft(Ee);var Ue=Lt(ze,!0);return ft(Be),at(Ua,Ue)?(Be.enumerable?(at(Ee,In)&&Ee[In][Ue]&&(Ee[In][Ue]=!1),Be=er(Be,{enumerable:Ut(0,!1)})):(at(Ee,In)||Ia(Ee,In,Ut(1,{})),Ee[In][Ue]=!0),ai(Ee,Ue,Be)):Ia(Ee,Ue,Be)},si=function defineProperties(Ee,ze){ft(Ee);var Be=kt(ze),Ue=tr(Be).concat(Ci(Be));return Pn(Ue,(function(ze){et&&!li.call(Be,ze)||oi(Ee,ze,Be[ze])})),Ee},li=function propertyIsEnumerable(Ee){var ze=Lt(Ee,!0),Be=Na.call(this,ze);return!(this===Jn&&at(Ua,ze)&&!at(qa,ze))&&(!(Be||!at(this,ze)||!at(Ua,ze)||at(this,In)&&this[In][ze])||Be)},ci=function getOwnPropertyDescriptor(Ee,ze){var Be=kt(Ee),Ue=Lt(ze,!0);if(Be!==Jn||!at(Ua,Ue)||at(qa,Ue)){var We=La(Be,Ue);return!We||!at(Ua,Ue)||at(Be,In)&&Be[In][Ue]||(We.enumerable=!0),We}},hi=function getOwnPropertyNames(Ee){var ze=Ra(kt(Ee)),Be=[];return Pn(ze,(function(Ee){at(Ua,Ee)||at(dn,Ee)||Be.push(Ee)})),Be},Ci=function getOwnPropertySymbols(Ee){var ze=Ee===Jn,Be=Ra(ze?qa:kt(Ee)),Ue=[];return Pn(Be,(function(Ee){!at(Ua,Ee)||ze&&!at(Jn,Ee)||Ue.push(Ua[Ee])})),Ue};(tt||(cn((Ma=function Symbol(){if(this instanceof Ma)throw TypeError("Symbol is not a constructor");var Ee=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,ze=vn(Ee),setter=function(Ee){this===Jn&&setter.call(qa,Ee),at(this,In)&&at(this[In],ze)&&(this[In][ze]=!1),ai(this,ze,Ut(1,Ee))};return et&&ni&&ai(Jn,ze,{configurable:!0,set:setter}),wrap(ze,Ee)}).prototype,"toString",(function toString(){return Kn(this).tag})),cn(Ma,"withoutSetter",(function(Ee){return wrap(vn(Ee),Ee)})),sn.f=li,on.f=oi,Qr.f=ci,rr.f=ar.f=hi,Lr.f=Ci,_n.f=function(Ee){return wrap(yn(Ee),Ee)},et&&(Ia(Ma.prototype,"description",{configurable:!0,get:function description(){return Kn(this).description}}),Qe||cn(Jn,"propertyIsEnumerable",li,{unsafe:!0}))),Ue({global:!0,wrap:!0,forced:!tt,sham:!tt},{Symbol:Ma}),Pn(tr(ti),(function(Ee){Mn(Ee)})),Ue({target:"Symbol",stat:!0,forced:!tt},{for:function(Ee){var ze=String(Ee);if(at(Ka,ze))return Ka[ze];var Be=Ma(ze);return Ka[ze]=Be,ei[Be]=ze,Be},keyFor:function keyFor(Ee){if(!ii(Ee))throw TypeError(Ee+" is not a symbol");if(at(ei,Ee))return ei[Ee]},useSetter:function(){ni=!0},useSimple:function(){ni=!1}}),Ue({target:"Object",stat:!0,forced:!tt,sham:!et},{create:function create(Ee,ze){return void 0===ze?er(Ee):si(er(Ee),ze)},defineProperty:oi,defineProperties:si,getOwnPropertyDescriptor:ci}),Ue({target:"Object",stat:!0,forced:!tt},{getOwnPropertyNames:hi,getOwnPropertySymbols:Ci}),Ue({target:"Object",stat:!0,forced:nt((function(){Lr.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(Ee){return Lr.f(xt(Ee))}}),Sa)&&Ue({target:"JSON",stat:!0,forced:!tt||nt((function(){var Ee=Ma();return"[null]"!=Sa([Ee])||"{}"!=Sa({a:Ee})||"{}"!=Sa(Object(Ee))}))},{stringify:function stringify(Ee,ze,Be){for(var Ue,We=[Ee],$e=1;arguments.length>$e;)We.push(arguments[$e++]);if(Ue=ze,(ct(ze)||void 0!==Ee)&&!ii(Ee))return it(ze)||(ze=function(Ee,ze){if("function"==typeof Ue&&(ze=Ue.call(this,Ee,ze)),!ii(ze))return ze}),We[1]=ze,Sa.apply(null,We)}});Ma.prototype[Bn]||ln(Ma.prototype,Bn,Ma.prototype.valueOf),Cn(Ma,"Symbol"),dn[In]=!0},a4f3:function(Ee,ze,Be){"use strict";Ee.exports=function getCubeEdges(Ee,ze,Be,$e,it){We(et,ze,Ee),We(et,Be,et);for(var kt=0,Lt=0;Lt<2;++Lt){nt[2]=$e[Lt][2];for(var Ut=0;Ut<2;++Ut){nt[1]=$e[Ut][1];for(var er=0;er<2;++er)nt[0]=$e[er][0],transformHg(tt[kt],nt,et),kt+=1}}var tr=-1;for(Lt=0;Lt<8;++Lt){for(var rr=tt[Lt][3],ar=0;ar<3;++ar)rt[Lt][ar]=tt[Lt][ar]/rr;it&&(rt[Lt][2]*=-1),rr<0&&(tr<0||rt[Lt][2]<rt[tr][2])&&(tr=Lt)}if(tr<0){tr=0;for(var Lr=0;Lr<3;++Lr){for(var Qr=(Lr+2)%3,on=(Lr+1)%3,sn=-1,ln=-1,cn=0;cn<2;++cn){var un=(dn=cn<<Lr)+(cn<<Qr)+(1-cn<<on),hn=dn+(1-cn<<Qr)+(cn<<on);Qe(rt[dn],rt[un],rt[hn],at)<0||(cn?sn=1:ln=1)}if(sn<0||ln<0)ln>sn&&(tr|=1<<Lr);else{for(cn=0;cn<2;++cn){un=(dn=cn<<Lr)+(cn<<Qr)+(1-cn<<on),hn=dn+(1-cn<<Qr)+(cn<<on);var dn,vn=polygonArea([tt[dn],tt[un],tt[hn],tt[dn+(1<<Qr)+(1<<on)]]);cn?sn=vn:ln=vn}ln>sn&&(tr|=1<<Lr)}}}var yn=7^tr,_n=-1;for(Lt=0;Lt<8;++Lt)Lt!==tr&&Lt!==yn&&(_n<0||rt[_n][1]>rt[Lt][1])&&(_n=Lt);var Mn=-1;for(Lt=0;Lt<3;++Lt){if((En=_n^1<<Lt)!==tr&&En!==yn)Mn<0&&(Mn=En),(on=rt[En])[0]<rt[Mn][0]&&(Mn=En)}var Cn=-1;for(Lt=0;Lt<3;++Lt){var En;if((En=_n^1<<Lt)!==tr&&En!==yn&&En!==Mn)Cn<0&&(Cn=En),(on=rt[En])[0]>rt[Cn][0]&&(Cn=En)}var Pn=ct;Pn[0]=Pn[1]=Pn[2]=0,Pn[Ue.log2(Mn^_n)]=_n&Mn,Pn[Ue.log2(_n^Cn)]=_n&Cn;var In=7^Cn;In===tr||In===yn?(In=7^Mn,Pn[Ue.log2(Cn^In)]=In&Cn):Pn[Ue.log2(Mn^In)]=In&Mn;var Bn=ft,Hn=tr;for(Lr=0;Lr<3;++Lr)Bn[Lr]=Hn&1<<Lr?-1:1;return xt};var Ue=Be("a48a"),We=Be("1417"),$e=Be("1767"),Qe=Be("92ba"),et=new Array(16),tt=new Array(8),rt=new Array(8),nt=new Array(3),at=[0,0,0];function transformHg(Ee,ze,Be){for(var Ue=0;Ue<4;++Ue){Ee[Ue]=Be[12+Ue];for(var We=0;We<3;++We)Ee[Ue]+=ze[We]*Be[4*We+Ue]}}!function(){for(var Ee=0;Ee<8;++Ee)tt[Ee]=[1,1,1,1],rt[Ee]=[1,1,1]}();var it=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function polygonArea(Ee){for(var ze=0;ze<it.length;++ze)if((Ee=$e.positive(Ee,it[ze])).length<3)return 0;var Be=Ee[0],Ue=Be[0]/Be[3],We=Be[1]/Be[3],Qe=0;for(ze=1;ze+1<Ee.length;++ze){var et=Ee[ze],tt=Ee[ze+1],rt=et[0]/et[3]-Ue,nt=et[1]/et[3]-We,at=tt[0]/tt[3]-Ue,ct=tt[1]/tt[3]-We;Qe+=Math.abs(rt*ct-nt*at)}return Qe}var ct=[1,1,1],ft=[0,0,0],xt={cubeEdges:ct,axis:ft}},a56d:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26");Ee.exports=function plot(Ee,ze,Be,$e){var Qe=ze.xaxis,et=ze.yaxis;We.makeTraceGroups($e,Be,"trace ohlc").each((function(Ee){var ze=Ue.select(this),Be=Ee[0],$e=Be.t;if(!0!==Be.trace.visible||$e.empty)ze.remove();else{var tt=$e.tickLen,rt=ze.selectAll("path").data(We.identity);rt.enter().append("path"),rt.exit().remove(),rt.attr("d",(function(Ee){if(Ee.empty)return"M0,0Z";var ze=Qe.c2p(Ee.pos,!0),Be=Qe.c2p(Ee.pos-tt,!0),Ue=Qe.c2p(Ee.pos+tt,!0);return"M"+Be+","+et.c2p(Ee.o,!0)+"H"+ze+"M"+ze+","+et.c2p(Ee.h,!0)+"V"+et.c2p(Ee.l,!0)+"M"+Ue+","+et.c2p(Ee.c,!0)+"H"+ze}))}}))}},a5c4:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("4efe"),Qe=Be("c4c7"),et=Be("927d"),tt=Be("e812");Ee.exports={moduleType:"component",name:"fx",constants:Be("7fb7"),schema:{layout:et},attributes:Be("a462"),layoutAttributes:et,supplyLayoutGlobalDefaults:Be("bb86"),supplyDefaults:Be("cbd4"),supplyLayoutDefaults:Be("a391"),calc:Be("82a5"),getDistanceFunction:Qe.getDistanceFunction,getClosest:Qe.getClosest,inbox:Qe.inbox,quadrature:Qe.quadrature,appendArrayPointValue:Qe.appendArrayPointValue,castHoverOption:function castHoverOption(Ee,ze,Be){return We.castOption(Ee,ze,"hoverlabel."+Be)},castHoverinfo:function castHoverinfo(Ee,ze,Be){return We.castOption(Ee,Be,"hoverinfo",(function _coerce(Be){return We.coerceHoverinfo({hoverinfo:Be},{_module:Ee._module},ze)}))},hover:tt.hover,unhover:$e.unhover,loneHover:tt.loneHover,loneUnhover:function loneUnhover(Ee){var ze=We.isD3Selection(Ee)?Ee:Ue.select(Ee);ze.selectAll("g.hovertext").remove(),ze.selectAll(".spikeline").remove()},click:Be("7fc3")}},a5cc:function(Ee,ze,Be){"use strict";var Ue=Be("bb4a"),We=Be("107c").line,$e=Be("db54").dash,Qe=Be("9092").extendFlat,et=Be("a651").templatedArray;Ee.exports=et("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:Qe({},Ue.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:Qe({},Ue.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:Qe({},We.color,{editType:"arraydraw"}),width:Qe({},We.width,{editType:"calc+arraydraw"}),dash:Qe({},$e,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"})},a5dd:function(Ee,ze,Be){"use strict";var Ue=Be("b94e");Ee.exports=function mouseWheelListen(Ee,ze,Be){"function"==typeof Ee&&(Be=!!ze,ze=Ee,Ee=window);var We=Ue("ex",Ee),listener=function(Ee){Be&&Ee.preventDefault();var Ue=Ee.deltaX||0,$e=Ee.deltaY||0,Qe=Ee.deltaZ||0,et=1;switch(Ee.deltaMode){case 1:et=We;break;case 2:et=window.innerHeight}if($e*=et,Qe*=et,(Ue*=et)||$e||Qe)return ze(Ue,$e,Qe,Ee)};return Ee.addEventListener("wheel",listener),listener}},a5e1:function(Ee,ze,Be){"use strict";var Ue=Be("c258"),We=Be("bc7f"),$e=Be("bc6b");Ee.exports={min:"zmin",max:"zmax",calc:function calc(Ee,ze,Be){var Qe=ze.contours,et=ze.line,tt=Qe.size||1,rt=Qe.coloring,nt=We(ze,{isColorbar:!0});if("heatmap"===rt){var at=Ue.extractOpts(ze);Be._fillgradient=at.reversescale?Ue.flipScale(at.colorscale):at.colorscale,Be._zrange=[at.min,at.max]}else"fill"===rt&&(Be._fillcolor=nt);Be._line={color:"lines"===rt?nt:et.color,width:!1!==Qe.showlines?et.width:0,dash:et.dash},Be._levels={start:Qe.start,end:$e(Qe),size:tt}}}},a5fa:function(Ee,ze,Be){"use strict";var Ue=Be("2969"),We=Be("2969").createConeMesh,$e=Be("fc26").simpleMap,Qe=Be("765f").parseColorScale,et=Be("c258").extractOpts,tt=Be("569b");function Cone(Ee,ze){this.scene=Ee,this.uid=ze,this.mesh=null,this.data=null}var rt=Cone.prototype;rt.handlePick=function(Ee){if(Ee.object===this.mesh){var ze=Ee.index=Ee.data.index,Be=this.data.x[ze],Ue=this.data.y[ze],We=this.data.z[ze],$e=this.data.u[ze],Qe=this.data.v[ze],et=this.data.w[ze];Ee.traceCoordinate=[Be,Ue,We,$e,Qe,et,Math.sqrt($e*$e+Qe*Qe+et*et)];var tt=this.data.hovertext||this.data.text;return Array.isArray(tt)&&void 0!==tt[ze]?Ee.textLabel=tt[ze]:tt&&(Ee.textLabel=tt),!0}};var nt={xaxis:0,yaxis:1,zaxis:2},at={tip:1,tail:0,cm:.25,center:.5},it={tip:1,tail:1,cm:.75,center:.5};function convert(Ee,ze){var Be=Ee.fullSceneLayout,We=Ee.dataScale,rt={};function toDataCoords(Ee,ze){var Ue=Be[ze],Qe=We[nt[ze]];return $e(Ee,(function(Ee){return Ue.d2l(Ee)*Qe}))}rt.vectors=tt(toDataCoords(ze.u,"xaxis"),toDataCoords(ze.v,"yaxis"),toDataCoords(ze.w,"zaxis"),ze._len),rt.positions=tt(toDataCoords(ze.x,"xaxis"),toDataCoords(ze.y,"yaxis"),toDataCoords(ze.z,"zaxis"),ze._len);var ct=et(ze);rt.colormap=Qe(ze),rt.vertexIntensityBounds=[ct.min/ze._normMax,ct.max/ze._normMax],rt.coneOffset=at[ze.anchor],"scaled"===ze.sizemode?rt.coneSize=ze.sizeref||.5:rt.coneSize=ze.sizeref&&ze._normMax?ze.sizeref/ze._normMax:.5;var ft=Ue(rt),xt=ze.lightposition;return ft.lightPosition=[xt.x,xt.y,xt.z],ft.ambient=ze.lighting.ambient,ft.diffuse=ze.lighting.diffuse,ft.specular=ze.lighting.specular,ft.roughness=ze.lighting.roughness,ft.fresnel=ze.lighting.fresnel,ft.opacity=ze.opacity,ze._pad=it[ze.anchor]*ft.vectorScale*ft.coneScale*ze._normMax,ft}rt.update=function(Ee){this.data=Ee;var ze=convert(this.scene,Ee);this.mesh.update(ze)},rt.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Ee.exports=function createConeTrace(Ee,ze){var Be=Ee.glplot.gl,Ue=convert(Ee,ze),$e=We(Be,Ue),Qe=new Cone(Ee,ze.uid);return Qe.mesh=$e,Qe.data=ze,$e._trace=Qe,Ee.glplot.add($e),Qe}},a60f:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("b68b").tester,$e=Ue.findIndexOfMin,Qe=Ue.isAngleInsideSector,et=Ue.angleDelta,tt=Ue.angleDist;function findIntersectionXY(Ee,ze,Be,Ue){var We,$e,Qe=Ue[0],et=Ue[1],tt=clampTiny(Math.sin(ze)-Math.sin(Ee)),rt=clampTiny(Math.cos(ze)-Math.cos(Ee)),nt=Math.tan(Be),at=clampTiny(1/nt),it=tt/rt,ct=et-it*Qe;return at?tt&&rt?$e=nt*(We=ct/(nt-it)):rt?(We=et*at,$e=et):(We=Qe,$e=Qe*nt):tt&&rt?(We=0,$e=ct):rt?(We=0,$e=et):We=$e=NaN,[We,$e]}function makePolygon(Ee,ze,Be,We){return Ue.isFullCircle([ze,Be])?function makeRegularPolygon(Ee,ze){var Be,Ue=ze.length,We=new Array(Ue+1);for(Be=0;Be<Ue;Be++){var $e=ze[Be];We[Be]=[Ee*Math.cos($e),Ee*Math.sin($e)]}return We[Be]=We[0].slice(),We}(Ee,We):function makeClippedPolygon(Ee,ze,Be,We){var et,rt,nt=We.length,at=[];function a2xy(ze){return[Ee*Math.cos(ze),Ee*Math.sin(ze)]}function findXY(Ee,ze,Be){return findIntersectionXY(Ee,ze,Be,a2xy(Ee))}function cycleIndex(Ee){return Ue.mod(Ee,nt)}function isInside(Ee){return Qe(Ee,[ze,Be])}var it=$e(We,(function(Ee){return isInside(Ee)?tt(Ee,ze):1/0})),ct=findXY(We[it],We[cycleIndex(it-1)],ze);for(at.push(ct),et=it,rt=0;rt<nt;et++,rt++){var ft=We[cycleIndex(et)];if(!isInside(ft))break;at.push(a2xy(ft))}var xt=$e(We,(function(Ee){return isInside(Ee)?tt(Ee,Be):1/0})),kt=findXY(We[xt],We[cycleIndex(xt+1)],Be);return at.push(kt),at.push([0,0]),at.push(at[0].slice()),at}(Ee,ze,Be,We)}function clampTiny(Ee){return Math.abs(Ee)>1e-10?Ee:0}function transformForSVG(Ee,ze,Be){ze=ze||0,Be=Be||0;for(var Ue=Ee.length,We=new Array(Ue),$e=0;$e<Ue;$e++){var Qe=Ee[$e];We[$e]=[ze+Qe[0],Be-Qe[1]]}return We}Ee.exports={isPtInsidePolygon:function isPtInsidePolygon(Ee,ze,Be,Ue,$e){if(!Qe(ze,Ue))return!1;var et,tt;Be[0]<Be[1]?(et=Be[0],tt=Be[1]):(et=Be[1],tt=Be[0]);var rt=We(makePolygon(et,Ue[0],Ue[1],$e)),nt=We(makePolygon(tt,Ue[0],Ue[1],$e)),at=[Ee*Math.cos(ze),Ee*Math.sin(ze)];return nt.contains(at)&&!rt.contains(at)},findPolygonOffset:function findPolygonOffset(Ee,ze,Be,Ue){for(var We=1/0,$e=1/0,Qe=makePolygon(Ee,ze,Be,Ue),et=0;et<Qe.length;et++){var tt=Qe[et];We=Math.min(We,tt[0]),$e=Math.min($e,-tt[1])}return[We,$e]},findEnclosingVertexAngles:function findEnclosingVertexAngles(Ee,ze){var Be=$e(ze,(function(ze){var Be=et(ze,Ee);return Be>0?Be:1/0})),We=Ue.mod(Be+1,ze.length);return[ze[Be],ze[We]]},findIntersectionXY:findIntersectionXY,findXYatLength:function findXYatLength(Ee,ze,Be,Ue){var We=-ze*Be,$e=ze*ze+1,Qe=2*(ze*We-Be),et=We*We+Be*Be-Ee*Ee,tt=Math.sqrt(Qe*Qe-4*$e*et),rt=(-Qe+tt)/(2*$e),nt=(-Qe-tt)/(2*$e);return[[rt,ze*rt+We+Ue],[nt,ze*nt+We+Ue]]},clampTiny:clampTiny,pathPolygon:function pathPolygon(Ee,ze,Be,Ue,We,$e){return"M"+transformForSVG(makePolygon(Ee,ze,Be,Ue),We,$e).join("L")},pathPolygonAnnulus:function pathPolygonAnnulus(Ee,ze,Be,Ue,We,$e,Qe){var et,tt;Ee<ze?(et=Ee,tt=ze):(et=ze,tt=Ee);var rt=transformForSVG(makePolygon(et,Be,Ue,We),$e,Qe);return"M"+transformForSVG(makePolygon(tt,Be,Ue,We),$e,Qe).reverse().join("L")+"M"+rt.join("L")}}},a626:function(Ee,ze){Ee.exports=function SegmentChainer(Ee,ze,Be){var Ue=[],We=[];return Ee.forEach((function(Ee){var $e=Ee.start,Qe=Ee.end;if(ze.pointsSame($e,Qe))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{Be&&Be.chainStart(Ee);for(var et={index:0,matches_head:!1,matches_pt1:!1},tt={index:0,matches_head:!1,matches_pt1:!1},rt=et,nt=0;nt<Ue.length;nt++){var at=(kt=Ue[nt])[0],it=(kt[1],kt[kt.length-1]);kt[kt.length-2];if(ze.pointsSame(at,$e)){if(setMatch(nt,!0,!0))break}else if(ze.pointsSame(at,Qe)){if(setMatch(nt,!0,!1))break}else if(ze.pointsSame(it,$e)){if(setMatch(nt,!1,!0))break}else if(ze.pointsSame(it,Qe)&&setMatch(nt,!1,!1))break}if(rt===et)return Ue.push([$e,Qe]),void(Be&&Be.chainNew($e,Qe));if(rt===tt){Be&&Be.chainMatch(et.index);var ct=et.index,ft=et.matches_pt1?Qe:$e,xt=et.matches_head,kt=Ue[ct],Lt=xt?kt[0]:kt[kt.length-1],Ut=xt?kt[1]:kt[kt.length-2],er=xt?kt[kt.length-1]:kt[0],tr=xt?kt[kt.length-2]:kt[1];return ze.pointsCollinear(Ut,Lt,ft)&&(xt?(Be&&Be.chainRemoveHead(et.index,ft),kt.shift()):(Be&&Be.chainRemoveTail(et.index,ft),kt.pop()),Lt=Ut),ze.pointsSame(er,ft)?(Ue.splice(ct,1),ze.pointsCollinear(tr,er,Lt)&&(xt?(Be&&Be.chainRemoveTail(et.index,Lt),kt.pop()):(Be&&Be.chainRemoveHead(et.index,Lt),kt.shift())),Be&&Be.chainClose(et.index),void We.push(kt)):void(xt?(Be&&Be.chainAddHead(et.index,ft),kt.unshift(ft)):(Be&&Be.chainAddTail(et.index,ft),kt.push(ft)))}var rr=et.index,ar=tt.index;Be&&Be.chainConnect(rr,ar);var Lr=Ue[rr].length<Ue[ar].length;et.matches_head?tt.matches_head?Lr?(reverseChain(rr),appendChain(rr,ar)):(reverseChain(ar),appendChain(ar,rr)):appendChain(ar,rr):tt.matches_head?appendChain(rr,ar):Lr?(reverseChain(rr),appendChain(ar,rr)):(reverseChain(ar),appendChain(rr,ar))}function setMatch(Ee,ze,Be){return rt.index=Ee,rt.matches_head=ze,rt.matches_pt1=Be,rt===et?(rt=tt,!1):(rt=null,!0)}function reverseChain(Ee){Be&&Be.chainReverse(Ee),Ue[Ee].reverse()}function appendChain(Ee,We){var $e=Ue[Ee],Qe=Ue[We],et=$e[$e.length-1],tt=$e[$e.length-2],rt=Qe[0],nt=Qe[1];ze.pointsCollinear(tt,et,rt)&&(Be&&Be.chainRemoveTail(Ee,et),$e.pop(),et=tt),ze.pointsCollinear(et,rt,nt)&&(Be&&Be.chainRemoveHead(We,rt),Qe.shift()),Be&&Be.chainJoin(Ee,We),Ue[Ee]=$e.concat(Qe),Ue.splice(We,1)}})),We}},a640:function(Ee,ze,Be){"use strict";var Ue=Be("d039");Ee.exports=function(Ee,ze){var Be=[][Ee];return!!Be&&Ue((function(){Be.call(null,ze||function(){throw 1},1)}))}},a651:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a876"),$e={name:{valType:"string",editType:"none"}};function validItemName(Ee){return Ee&&"string"==typeof Ee}function arrayDefaultKey(Ee){var ze=Ee.length-1;return"s"!==Ee.charAt(ze)&&Ue.warn("bad argument to arrayDefaultKey: "+Ee),Ee.substr(0,Ee.length-1)+"defaults"}$e.templateitemname={valType:"string",editType:"calc"},ze.templatedArray=function(Ee,ze){return ze._isLinkedToArray=Ee,ze.name=$e.name,ze.templateitemname=$e.templateitemname,ze},ze.traceTemplater=function(Ee){var ze,Be,$e={};for(ze in Ee)Be=Ee[ze],Array.isArray(Be)&&Be.length&&($e[ze]=0);return{newTrace:function newTrace(Qe){var et={type:ze=Ue.coerce(Qe,{},We,"type"),_template:null};if(ze in $e){Be=Ee[ze];var tt=$e[ze]%Be.length;$e[ze]++,et._template=Be[tt]}return et}}},ze.newContainer=function(Ee,ze,Be){var We=Ee._template,$e=We&&(We[ze]||Be&&We[Be]);return Ue.isPlainObject($e)||($e=null),Ee[ze]={_template:$e}},ze.arrayTemplater=function(Ee,ze,Be){var Ue=Ee._template,We=Ue&&Ue[arrayDefaultKey(ze)],$e=Ue&&Ue[ze];Array.isArray($e)&&$e.length||($e=[]);var Qe={};return{newItem:function newItem(Ee){var ze={name:Ee.name,_input:Ee},Ue=ze.templateitemname=Ee.templateitemname;if(!validItemName(Ue))return ze._template=We,ze;for(var et=0;et<$e.length;et++){var tt=$e[et];if(tt.name===Ue)return Qe[Ue]=1,ze._template=tt,ze}return ze[Be]=Ee[Be]||!1,ze._template=!1,ze},defaultItems:function defaultItems(){for(var Ee=[],ze=0;ze<$e.length;ze++){var Be=$e[ze],Ue=Be.name;if(validItemName(Ue)&&!Qe[Ue]){var We={_template:Be,name:Ue,_input:{_templateitemname:Ue}};We.templateitemname=Be.templateitemname,Ee.push(We),Qe[Ue]=1}}return Ee}}},ze.arrayDefaultKey=arrayDefaultKey,ze.arrayEditor=function(Ee,ze,Be){var We=(Ue.nestedProperty(Ee,ze).get()||[]).length,$e=Be._index,Qe=$e>=We&&(Be._input||{})._templateitemname;Qe&&($e=We);var et,tt=ze+"["+$e+"]";function resetUpdate(){et={},Qe&&(et[tt]={},et[tt].templateitemname=Qe)}function modifyItem(Ee,ze){Qe?Ue.nestedProperty(et[tt],Ee).set(ze):et[tt+"."+Ee]=ze}function getUpdateObj(){var Ee=et;return resetUpdate(),Ee}return resetUpdate(),{modifyBase:function modifyBase(Ee,ze){et[Ee]=ze},modifyItem:modifyItem,getUpdateObj:getUpdateObj,applyUpdate:function applyUpdate(ze,Be){ze&&modifyItem(ze,Be);var We=getUpdateObj();for(var $e in We)Ue.nestedProperty(Ee,$e).set(We[$e])}}}},a671:function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We,$e){var Qe=["function ",Ee,"(a,l,h,",Ue.join(","),"){",$e?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",We?".get(m)":"[m]"];return $e?ze.indexOf("c")<0?Qe.push(";if(x===y){return m}else if(x<=y){"):Qe.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):Qe.push(";if(",ze,"){i=m;"),Be?Qe.push("l=m+1}else{h=m-1}"):Qe.push("h=m-1}else{l=m+1}"),Qe.push("}"),$e?Qe.push("return -1};"):Qe.push("return i};"),Qe.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],!1,Ue),compileSearch("B","x"+Ee+"y",ze,["y"],!0,Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],!1,Ue),compileSearch("Q","c(x,y)"+Ee+"0",ze,["y","c"],!0,Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},a671d:function(Ee,ze,Be){"use strict";var Ue=Be("96ae");Ee.exports=function(){return Ue(this).length=0,this}},a685:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("5b68"),$e=Be("dfb3"),Qe=Be("82b5"),et=Be("9092").extendFlat,tt=Ue({editType:"calc"});tt.family.dflt='"Open Sans", verdana, arial, sans-serif',tt.size.dflt=12,tt.color.dflt=$e.defaultLine,Ee.exports={font:tt,title:{text:{valType:"string",editType:"layoutstyle"},font:Ue({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:et(Qe({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",dflt:$e.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:$e.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:$e.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:et({},We.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:Ue({editType:"layoutstyle"})}}},a691:function(Ee,ze){var Be=Math.ceil,Ue=Math.floor;Ee.exports=function(Ee){return isNaN(Ee=+Ee)?0:(Ee>0?Ue:Be)(Ee)}},a6dc:function(Ee,ze){Ee.exports=function BuildLog(){var Ee,ze=0,Be=!1;function push(ze,Be){return Ee.list.push({type:ze,data:Be?JSON.parse(JSON.stringify(Be)):void 0}),Ee}return Ee={list:[],segmentId:function(){return ze++},checkIntersection:function(Ee,ze){return push("check",{seg1:Ee,seg2:ze})},segmentChop:function(Ee,ze){return push("div_seg",{seg:Ee,pt:ze}),push("chop",{seg:Ee,pt:ze})},statusRemove:function(Ee){return push("pop_seg",{seg:Ee})},segmentUpdate:function(Ee){return push("seg_update",{seg:Ee})},segmentNew:function(Ee,ze){return push("new_seg",{seg:Ee,primary:ze})},segmentRemove:function(Ee){return push("rem_seg",{seg:Ee})},tempStatus:function(Ee,ze,Be){return push("temp_status",{seg:Ee,above:ze,below:Be})},rewind:function(Ee){return push("rewind",{seg:Ee})},status:function(Ee,ze,Be){return push("status",{seg:Ee,above:ze,below:Be})},vert:function(ze){return ze===Be?Ee:(Be=ze,push("vert",{x:ze}))},log:function(Ee){return"string"!=typeof Ee&&(Ee=JSON.stringify(Ee,!1,"  ")),push("log",{txt:Ee})},reset:function(){return push("reset")},selected:function(Ee){return push("selected",{segs:Ee})},chainStart:function(Ee){return push("chain_start",{seg:Ee})},chainRemoveHead:function(Ee,ze){return push("chain_rem_head",{index:Ee,pt:ze})},chainRemoveTail:function(Ee,ze){return push("chain_rem_tail",{index:Ee,pt:ze})},chainNew:function(Ee,ze){return push("chain_new",{pt1:Ee,pt2:ze})},chainMatch:function(Ee){return push("chain_match",{index:Ee})},chainClose:function(Ee){return push("chain_close",{index:Ee})},chainAddHead:function(Ee,ze){return push("chain_add_head",{index:Ee,pt:ze})},chainAddTail:function(Ee,ze){return push("chain_add_tail",{index:Ee,pt:ze})},chainConnect:function(Ee,ze){return push("chain_con",{index1:Ee,index2:ze})},chainReverse:function(Ee){return push("chain_rev",{index:Ee})},chainJoin:function(Ee,ze){return push("chain_join",{index1:Ee,index2:ze})},done:function(){return push("done")}}}},a708:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("59e0").castOption;Ee.exports=function styleOne(Ee,ze,Be){var $e=Be.marker.line,Qe=We($e.color,ze.pts)||Ue.defaultLine,et=We($e.width,ze.pts)||0;Ee.style("stroke-width",et).call(Ue.fill,ze.color).call(Ue.stroke,Qe)}},a7c5:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function MayanCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}function mod(Ee,ze){return Ee-ze*Math.floor(Ee/ze)}function amod(Ee,ze){return mod(Ee-1,ze)+1}MayanCalendar.prototype=new Ue.baseCalendar,We(MayanCalendar.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),!1},formatYear:function(Ee){Ee=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear).year();var ze=Math.floor(Ee/400);return Ee%=400,Ee+=Ee<0?400:0,ze+"."+Math.floor(Ee/20)+"."+Ee%20},forYear:function(Ee){if((Ee=Ee.split(".")).length<3)throw"Invalid Mayan year";for(var ze=0,Be=0;Be<Ee.length;Be++){var Ue=parseInt(Ee[Be],10);if(Math.abs(Ue)>19||Be>0&&Ue<0)throw"Invalid Mayan year";ze=20*ze+Ue}return ze},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),18},weekOfYear:function(Ee,ze,Be){return this._validate(Ee,ze,Be,Ue.local.invalidDate),0},daysInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),360},daysInMonth:function(Ee,ze){return this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(Ee,ze,Be){return this._validate(Ee,ze,Be,Ue.local.invalidDate).day()},weekDay:function(Ee,ze,Be){return this._validate(Ee,ze,Be,Ue.local.invalidDate),!0},extraInfo:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate).toJD(),$e=this._toHaab(We),Qe=this._toTzolkin(We);return{haabMonthName:this.local.haabMonths[$e[0]-1],haabMonth:$e[0],haabDay:$e[1],tzolkinDayName:this.local.tzolkinMonths[Qe[0]-1],tzolkinDay:Qe[0],tzolkinTrecena:Qe[1]}},_toHaab:function(Ee){var ze=mod((Ee-=this.jdEpoch)+8+340,365);return[Math.floor(ze/20)+1,mod(ze,20)]},_toTzolkin:function(Ee){return[amod((Ee-=this.jdEpoch)+20,20),amod(Ee+4,13)]},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return We.day()+20*We.month()+360*We.year()+this.jdEpoch},fromJD:function(Ee){Ee=Math.floor(Ee)+.5-this.jdEpoch;var ze=Math.floor(Ee/360);Ee%=360,Ee+=Ee<0?360:0;var Be=Math.floor(Ee/20),Ue=Ee%20;return this.newDate(ze,Be,Ue)}}),Ue.calendars.mayan=MayanCalendar},a7de:function(Ee,ze,Be){"use strict";var Ue=Be("371e");Ee.exports=function containerArrayMatch(Ee){for(var ze,Be,We=Ue.layoutArrayContainers,$e=Ue.layoutArrayRegexes,Qe=Ee.split("[")[0],et=0;et<$e.length;et++)if((Be=Ee.match($e[et]))&&0===Be.index){ze=Be[0];break}if(ze||(ze=We[We.indexOf(Qe)]),!ze)return!1;var tt=Ee.substr(ze.length);return tt?!!(Be=tt.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:ze,index:Number(Be[1]),property:Be[3]||""}:{array:ze,index:"",property:""}}},a7e2:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){var ze=typeof Ee;return null!==Ee&&("object"===ze||"function"===ze)}},a876:function(Ee,ze,Be){"use strict";var Ue=Be("a462");Ee.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:Ue.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},a8b9:function(Ee,ze,Be){"use strict";Ee.exports=Be("dc98")},a8f9:function(Ee,ze,Be){"use strict";var Ue=Be("bb71");ze.name="funnelarea",ze.plot=function(Ee,Be,We,$e){Ue.plotBasePlot(ze.name,Ee,Be,We,$e)},ze.clean=function(Ee,Be,We,$e){Ue.cleanBasePlot(ze.name,Ee,Be,We,$e)}},a901:function(Ee,ze){Ee.exports=function max(Ee,ze,Be){return Ee[0]=Math.max(ze[0],Be[0]),Ee[1]=Math.max(ze[1],Be[1]),Ee[2]=Math.max(ze[2],Be[2]),Ee}},a92a:function(Ee,ze,Be){"use strict";var Ue="undefined"==typeof WeakMap?Be("2f03"):WeakMap,We=Be("efce"),$e=Be("b205"),Qe=new Ue;Ee.exports=function createABigTriangle(Ee){var ze=Qe.get(Ee),Be=ze&&(ze._triangleBuffer.handle||ze._triangleBuffer.buffer);if(!Be||!Ee.isBuffer(Be)){var Ue=We(Ee,new Float32Array([-1,-1,-1,4,4,-1]));(ze=$e(Ee,[{buffer:Ue,type:Ee.FLOAT,size:2}]))._triangleBuffer=Ue,Qe.set(Ee,ze)}ze.bind(),Ee.drawArrays(Ee.TRIANGLES,0,3),ze.unbind()}},a935:function(Ee,ze,Be){"use strict";Ee.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},a9a1:function(Ee,ze,Be){"use strict";Ee.exports=function barycentric(Ee,ze){for(var Be=ze.length,We=new Array(Be+1),$e=0;$e<Be;++$e){for(var Qe=new Array(Be+1),et=0;et<=Be;++et)Qe[et]=Ee[et][$e];We[$e]=Qe}We[Be]=new Array(Be+1);for($e=0;$e<=Be;++$e)We[Be][$e]=1;var tt=new Array(Be+1);for($e=0;$e<Be;++$e)tt[$e]=ze[$e];tt[Be]=1;var rt=Ue(We,tt),nt=reduce(rt[Be+1]);0===nt&&(nt=1);var at=new Array(Be+1);for($e=0;$e<=Be;++$e)at[$e]=reduce(rt[$e])/nt;return at};var Ue=Be("35b1");function reduce(Ee){for(var ze=0,Be=0;Be<Ee.length;++Be)ze+=Ee[Be];return ze}},a9cb:function(Ee,ze,Be){"use strict";Ee.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},a9cd:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("919e"),Qe=Be("81f0").defaults,et=Be("1c1c").handleText;function handleLabelsAndValues(Ee,ze){var Be=Array.isArray(Ee),$e=We.isArrayOrTypedArray(ze),Qe=Math.min(Be?Ee.length:1/0,$e?ze.length:1/0);if(isFinite(Qe)||(Qe=0),Qe&&$e){for(var et,tt=0;tt<Qe;tt++){var rt=ze[tt];if(Ue(rt)&&rt>0){et=!0;break}}et||(Qe=0)}return{hasLabels:Be,hasValues:$e,len:Qe}}Ee.exports={handleLabelsAndValues:handleLabelsAndValues,supplyDefaults:function supplyDefaults(Ee,ze,Be,Ue){function coerce(Be,Ue){return We.coerce(Ee,ze,$e,Be,Ue)}var tt=handleLabelsAndValues(coerce("labels"),coerce("values")),rt=tt.len;if(ze._hasLabels=tt.hasLabels,ze._hasValues=tt.hasValues,!ze._hasLabels&&ze._hasValues&&(coerce("label0"),coerce("dlabel")),rt){ze._length=rt,coerce("marker.line.width")&&coerce("marker.line.color"),coerce("marker.colors"),coerce("scalegroup");var nt,at=coerce("text"),it=coerce("texttemplate");if(it||(nt=coerce("textinfo",Array.isArray(at)?"text+percent":"percent")),coerce("hovertext"),coerce("hovertemplate"),it||nt&&"none"!==nt){var ct=coerce("textposition");et(Ee,ze,Ue,coerce,ct,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(ct)||"auto"===ct||"outside"===ct)&&coerce("automargin"),("inside"===ct||"auto"===ct||Array.isArray(ct))&&coerce("insidetextorientation")}Qe(ze,Ue,coerce);var ft=coerce("hole");if(coerce("title.text")){var xt=coerce("title.position",ft?"middle center":"top center");ft||"middle center"!==xt||(ze.title.position="top center"),We.coerceFont(coerce,"title.font",Ue.font)}coerce("sort"),coerce("direction"),coerce("rotation"),coerce("pull")}else ze.visible=!1}}},a9e4:function(Ee,ze,Be){"use strict";var Ue=Be("3c1c"),We=Be("de81"),$e=Be("371e"),Qe=Be("1bbe"),et=Be("13c4");Ee.exports=function manageModeBar(Ee){var ze=Ee._fullLayout,Be=Ee._context,tt=ze._modeBar;if(Be.displayModeBar||Be.watermark){if(!Array.isArray(Be.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(Be.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var rt,nt=Be.modeBarButtons;rt=Array.isArray(nt)&&nt.length?function fillCustomButton(Ee){for(var ze=0;ze<Ee.length;ze++)for(var Be=Ee[ze],Ue=0;Ue<Be.length;Ue++){var We=Be[Ue];if("string"==typeof We){if(void 0===et[We])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));Ee[ze][Ue]=et[We]}}return Ee}(nt):!Be.displayModeBar&&Be.watermark?[]:function getButtonGroups(Ee){var ze=Ee._fullLayout,Be=Ee._fullData,Qe=Ee._context,tt=Qe.modeBarButtonsToRemove,rt=Qe.modeBarButtonsToAdd,nt=ze._has("cartesian"),at=ze._has("gl3d"),it=ze._has("geo"),ct=ze._has("pie"),ft=ze._has("funnelarea"),xt=ze._has("gl2d"),kt=ze._has("ternary"),Lt=ze._has("mapbox"),Ut=ze._has("polar"),er=ze._has("sankey"),tr=function areAllAxesFixed(Ee){for(var ze=Ue.list({_fullLayout:Ee},null,!0),Be=0;Be<ze.length;Be++)if(!ze[Be].fixedrange)return!1;return!0}(ze),rr=[];function addGroup(Ee){if(Ee.length){for(var ze=[],Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];-1===tt.indexOf(Ue)&&ze.push(et[Ue])}rr.push(ze)}}var ar=["toImage"];Qe.showEditInChartStudio?ar.push("editInChartStudio"):Qe.showSendToCloud&&ar.push("sendDataToCloud");addGroup(ar);var Lr=[],Qr=[],on=[],sn=[];(nt||xt||ct||ft||kt)+it+at+Lt+Ut>1?(Qr=["toggleHover"],on=["resetViews"]):it?(Lr=["zoomInGeo","zoomOutGeo"],Qr=["hoverClosestGeo"],on=["resetGeo"]):at?(Qr=["hoverClosest3d"],on=["resetCameraDefault3d","resetCameraLastSave3d"]):Lt?(Lr=["zoomInMapbox","zoomOutMapbox"],Qr=["toggleHover"],on=["resetViewMapbox"]):xt?Qr=["hoverClosestGl2d"]:ct?Qr=["hoverClosestPie"]:er?(Qr=["hoverClosestCartesian","hoverCompareCartesian"],on=["resetViewSankey"]):Qr=["toggleHover"];nt&&(Qr=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function hasNoHover(Ee){for(var ze=0;ze<Ee.length;ze++)if(!$e.traceIs(Ee[ze],"noHover"))return!1;return!0})(Be)&&(Qr=[]);!nt&&!xt||tr||(Lr=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==on[0]&&(on=["resetScale2d"]));at?sn=["zoom3d","pan3d","orbitRotation","tableRotation"]:(nt||xt)&&!tr||kt?sn=["zoom2d","pan2d"]:Lt||it?sn=["pan2d"]:Ut&&(sn=["zoom2d"]);(function isSelectable(Ee){for(var ze=!1,Be=0;Be<Ee.length&&!ze;Be++){var Ue=Ee[Be];Ue._module&&Ue._module.selectPoints&&($e.traceIs(Ue,"scatter-like")?(We.hasMarkers(Ue)||We.hasText(Ue))&&(ze=!0):$e.traceIs(Ue,"box-violin")&&"all"!==Ue.boxpoints&&"all"!==Ue.points||(ze=!0))}return ze})(Be)&&sn.push("select2d","lasso2d");return addGroup(sn),addGroup(Lr.concat(on)),addGroup(Qr),function appendButtonsToGroups(Ee,ze){if(ze.length)if(Array.isArray(ze[0]))for(var Be=0;Be<ze.length;Be++)Ee.push(ze[Be]);else Ee.push(ze);return Ee}(rr,rt)}(Ee),tt?tt.update(Ee,rt):ze._modeBar=Qe(Ee,rt)}else tt&&(tt.destroy(),delete ze._modeBar)}},a9e41:function(Ee,ze,Be){"use strict";var Ue=Be("b791").convert,We=Be("b791").convertOnSelect,$e=Be("b5e4").traceLayerPrefix;function ChoroplethMapbox(Ee,ze){this.type="choroplethmapbox",this.subplot=Ee,this.uid=ze,this.sourceId="source-"+ze,this.layerList=[["fill",$e+ze+"-fill"],["line",$e+ze+"-line"]],this.below=null}var Qe=ChoroplethMapbox.prototype;Qe.update=function(Ee){this._update(Ue(Ee))},Qe.updateOnSelect=function(Ee){this._update(We(Ee))},Qe._update=function(Ee){var ze=this.subplot,Be=this.layerList,Ue=ze.belowLookup["trace-"+this.uid];ze.map.getSource(this.sourceId).setData(Ee.geojson),Ue!==this.below&&(this._removeLayers(),this._addLayers(Ee,Ue),this.below=Ue);for(var We=0;We<Be.length;We++){var $e=Be[We],Qe=$e[0],et=$e[1],tt=Ee[Qe];ze.setOptions(et,"setLayoutProperty",tt.layout),"visible"===tt.layout.visibility&&ze.setOptions(et,"setPaintProperty",tt.paint)}},Qe._addLayers=function(Ee,ze){for(var Be=this.subplot,Ue=this.layerList,We=this.sourceId,$e=0;$e<Ue.length;$e++){var Qe=Ue[$e],et=Qe[0],tt=Ee[et];Be.addLayer({type:et,id:Qe[1],source:We,layout:tt.layout,paint:tt.paint},ze)}},Qe._removeLayers=function(){for(var Ee=this.subplot.map,ze=this.layerList,Be=ze.length-1;Be>=0;Be--)Ee.removeLayer(ze[Be][1])},Qe.dispose=function(){var Ee=this.subplot.map;this._removeLayers(),Ee.removeSource(this.sourceId)},Ee.exports=function createChoroplethMapbox(Ee,ze){var Be=ze[0].trace,We=new ChoroplethMapbox(Ee,Be.uid),$e=We.sourceId,Qe=Ue(ze),et=We.below=Ee.belowLookup["trace-"+Be.uid];return Ee.map.addSource($e,{type:"geojson",data:Qe.geojson}),We._addLayers(Qe,et),ze[0].trace._glTrace=We,We}},a9eb:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be,Ue,We){Ee.location=ze.location,Ee.z=ze.z;var $e=Ue[We];return $e.fIn&&$e.fIn.properties&&(Ee.properties=$e.fIn.properties),Ee.ct=$e.ct,Ee}},aa2c:function(Ee,ze,Be){"use strict";Ee.exports=Be("7a5f")},aa48:function(Ee,ze,Be){"use strict";Ee.exports=function createSurfacePlot(Ee){var ze=Ee.gl,Be=Ut(ze),Ue=tr(ze),et=er(ze),tt=rr(ze),rt=We(ze),nt=$e(ze,[{buffer:rt,size:4,stride:40,offset:0},{buffer:rt,size:3,stride:40,offset:16},{buffer:rt,size:3,stride:40,offset:28}]),at=We(ze),it=$e(ze,[{buffer:at,size:4,stride:20,offset:0},{buffer:at,size:1,stride:20,offset:16}]),ct=We(ze),ft=$e(ze,[{buffer:ct,size:2,type:ze.FLOAT}]),xt=Qe(ze,1,256,ze.RGBA,ze.UNSIGNED_BYTE);xt.minFilter=ze.LINEAR,xt.magFilter=ze.LINEAR;var kt=new SurfacePlot(ze,[0,0],[[0,0,0],[0,0,0]],Be,Ue,rt,nt,xt,et,tt,at,it,ct,ft,[0,0,0]),Lt={levels:[[],[],[]]};for(var ar in Ee)Lt[ar]=Ee[ar];return Lt.colormap=Lt.colormap||"jet",kt.update(Lt),kt};var Ue=Be("a48a"),We=Be("efce"),$e=Be("b205"),Qe=Be("1d5b"),et=Be("cea5"),tt=Be("595c"),rt=Be("62d6"),nt=Be("7f6b"),at=Be("b5bb"),it=Be("b077"),ct=Be("1417"),ft=Be("9343"),xt=Be("cc77"),kt=Be("1fac"),Lt=Be("6295"),Ut=Lt.createShader,er=Lt.createContourShader,tr=Lt.createPickShader,rr=Lt.createPickContourShader,ar=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Lr=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],Qr=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function SurfacePickResult(Ee,ze,Be,Ue,We){this.position=Ee,this.index=ze,this.uv=Be,this.level=Ue,this.dataCoordinate=We}!function(){for(var Ee=0;Ee<3;++Ee){var ze=Qr[Ee],Be=(Ee+2)%3;ze[(Ee+1)%3+0]=1,ze[Be+3]=1,ze[Ee+6]=1}}();function SurfacePlot(Ee,ze,Be,Ue,We,$e,Qe,tt,rt,nt,it,ct,ft,xt,kt){this.gl=Ee,this.shape=ze,this.bounds=Be,this.objectOffset=kt,this.intensityBounds=[],this._shader=Ue,this._pickShader=We,this._coordinateBuffer=$e,this._vao=Qe,this._colorMap=tt,this._contourShader=rt,this._contourPickShader=nt,this._contourBuffer=it,this._contourVAO=ct,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new SurfacePickResult([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ft,this._dynamicVAO=xt,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[at(et.mallocFloat(1024),[0,0]),at(et.mallocFloat(1024),[0,0]),at(et.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var on=SurfacePlot.prototype;on.isTransparent=function(){return this.opacity<1},on.isOpaque=function(){if(this.opacity>=1)return!0;for(var Ee=0;Ee<3;++Ee)if(this._contourCounts[Ee].length>0||this._dynamicCounts[Ee]>0)return!0;return!1},on.pickSlots=1,on.setPickBase=function(Ee){this.pickId=Ee};var sn=[0,0,0],ln={showSurface:!1,showContour:!1,projections:[ar.slice(),ar.slice(),ar.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function computeProjectionData(Ee,ze){var Be,Ue,We,$e=ze.axes&&ze.axes.lastCubeProps.axis||sn,Qe=ze.showSurface,et=ze.showContour;for(Be=0;Be<3;++Be)for(Qe=Qe||ze.surfaceProject[Be],Ue=0;Ue<3;++Ue)et=et||ze.contourProject[Be][Ue];for(Be=0;Be<3;++Be){var tt=ln.projections[Be];for(Ue=0;Ue<16;++Ue)tt[Ue]=0;for(Ue=0;Ue<4;++Ue)tt[5*Ue]=1;tt[5*Be]=0,tt[12+Be]=ze.axesBounds[+($e[Be]>0)][Be],ct(tt,Ee.model,tt);var rt=ln.clipBounds[Be];for(We=0;We<2;++We)for(Ue=0;Ue<3;++Ue)rt[We][Ue]=Ee.clipBounds[We][Ue];rt[0][Be]=-1e8,rt[1][Be]=1e8}return ln.showSurface=Qe,ln.showContour=et,ln}var cn={model:ar,view:ar,projection:ar,inverseModel:ar.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},un=ar.slice(),hn=[1,0,0,0,1,0,0,0,1];function drawCore(Ee,ze){Ee=Ee||{};var Be=this.gl;Be.disable(Be.CULL_FACE),this._colorMap.bind(0);var Ue=cn;Ue.model=Ee.model||ar,Ue.view=Ee.view||ar,Ue.projection=Ee.projection||ar,Ue.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Ue.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Ue.objectOffset=this.objectOffset,Ue.contourColor=this.contourColor[0],Ue.inverseModel=ft(Ue.inverseModel,Ue.model);for(var We=0;We<2;++We)for(var $e=Ue.clipBounds[We],Qe=0;Qe<3;++Qe)$e[Qe]=Math.min(Math.max(this.clipBounds[We][Qe],-1e8),1e8);Ue.kambient=this.ambientLight,Ue.kdiffuse=this.diffuseLight,Ue.kspecular=this.specularLight,Ue.roughness=this.roughness,Ue.fresnel=this.fresnel,Ue.opacity=this.opacity,Ue.height=0,Ue.permutation=hn,Ue.vertexColor=this.vertexColor;var et=un;for(ct(et,Ue.view,Ue.model),ct(et,Ue.projection,et),ft(et,et),We=0;We<3;++We)Ue.eyePosition[We]=et[12+We]/et[15];var tt=et[15];for(We=0;We<3;++We)tt+=this.lightPosition[We]*et[4*We+3];for(We=0;We<3;++We){var rt=et[12+We];for(Qe=0;Qe<3;++Qe)rt+=et[4*Qe+We]*this.lightPosition[Qe];Ue.lightPosition[We]=rt/tt}var nt=computeProjectionData(Ue,this);if(nt.showSurface&&ze===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=Ue,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(Be.TRIANGLES,this._vertexCount),We=0;We<3;++We)this.surfaceProject[We]&&this.vertexCount&&(this._shader.uniforms.model=nt.projections[We],this._shader.uniforms.clipBounds=nt.clipBounds[We],this._vao.draw(Be.TRIANGLES,this._vertexCount));this._vao.unbind()}if(nt.showContour&&!ze){var at=this._contourShader;Ue.kambient=1,Ue.kdiffuse=0,Ue.kspecular=0,Ue.opacity=1,at.bind(),at.uniforms=Ue;var it=this._contourVAO;for(it.bind(),We=0;We<3;++We)for(at.uniforms.permutation=Qr[We],Be.lineWidth(this.contourWidth[We]*this.pixelRatio),Qe=0;Qe<this.contourLevels[We].length;++Qe)Qe===this.highlightLevel[We]?(at.uniforms.contourColor=this.highlightColor[We],at.uniforms.contourTint=this.highlightTint[We]):0!==Qe&&Qe-1!==this.highlightLevel[We]||(at.uniforms.contourColor=this.contourColor[We],at.uniforms.contourTint=this.contourTint[We]),this._contourCounts[We][Qe]&&(at.uniforms.height=this.contourLevels[We][Qe],it.draw(Be.LINES,this._contourCounts[We][Qe],this._contourOffsets[We][Qe]));for(We=0;We<3;++We)for(at.uniforms.model=nt.projections[We],at.uniforms.clipBounds=nt.clipBounds[We],Qe=0;Qe<3;++Qe)if(this.contourProject[We][Qe]){at.uniforms.permutation=Qr[Qe],Be.lineWidth(this.contourWidth[Qe]*this.pixelRatio);for(var xt=0;xt<this.contourLevels[Qe].length;++xt)xt===this.highlightLevel[Qe]?(at.uniforms.contourColor=this.highlightColor[Qe],at.uniforms.contourTint=this.highlightTint[Qe]):0!==xt&&xt-1!==this.highlightLevel[Qe]||(at.uniforms.contourColor=this.contourColor[Qe],at.uniforms.contourTint=this.contourTint[Qe]),this._contourCounts[Qe][xt]&&(at.uniforms.height=this.contourLevels[Qe][xt],it.draw(Be.LINES,this._contourCounts[Qe][xt],this._contourOffsets[Qe][xt]))}for(it.unbind(),(it=this._dynamicVAO).bind(),We=0;We<3;++We)if(0!==this._dynamicCounts[We])for(at.uniforms.model=Ue.model,at.uniforms.clipBounds=Ue.clipBounds,at.uniforms.permutation=Qr[We],Be.lineWidth(this.dynamicWidth[We]*this.pixelRatio),at.uniforms.contourColor=this.dynamicColor[We],at.uniforms.contourTint=this.dynamicTint[We],at.uniforms.height=this.dynamicLevel[We],it.draw(Be.LINES,this._dynamicCounts[We],this._dynamicOffsets[We]),Qe=0;Qe<3;++Qe)this.contourProject[Qe][We]&&(at.uniforms.model=nt.projections[Qe],at.uniforms.clipBounds=nt.clipBounds[Qe],it.draw(Be.LINES,this._dynamicCounts[We],this._dynamicOffsets[We]));it.unbind()}}on.draw=function(Ee){return drawCore.call(this,Ee,!1)},on.drawTransparent=function(Ee){return drawCore.call(this,Ee,!0)};var dn={model:ar,view:ar,projection:ar,inverseModel:ar,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function handleArray(Ee,ze){return Array.isArray(Ee)?[ze(Ee[0]),ze(Ee[1]),ze(Ee[2])]:[ze(Ee),ze(Ee),ze(Ee)]}function toColor(Ee){return Array.isArray(Ee)?3===Ee.length?[Ee[0],Ee[1],Ee[2],1]:[Ee[0],Ee[1],Ee[2],Ee[3]]:[0,0,0,1]}function handleColor(Ee){if(Array.isArray(Ee)){if(Array.isArray(Ee))return[toColor(Ee[0]),toColor(Ee[1]),toColor(Ee[2])];var ze=toColor(Ee);return[ze.slice(),ze.slice(),ze.slice()]}}on.drawPick=function(Ee){Ee=Ee||{};var ze=this.gl;ze.disable(ze.CULL_FACE);var Be=dn;Be.model=Ee.model||ar,Be.view=Ee.view||ar,Be.projection=Ee.projection||ar,Be.shape=this._field[2].shape,Be.pickId=this.pickId/255,Be.lowerBound=this.bounds[0],Be.upperBound=this.bounds[1],Be.objectOffset=this.objectOffset,Be.permutation=hn;for(var Ue=0;Ue<2;++Ue)for(var We=Be.clipBounds[Ue],$e=0;$e<3;++$e)We[$e]=Math.min(Math.max(this.clipBounds[Ue][$e],-1e8),1e8);var Qe=computeProjectionData(Be,this);if(Qe.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=Be,this._vao.bind(),this._vao.draw(ze.TRIANGLES,this._vertexCount),Ue=0;Ue<3;++Ue)this.surfaceProject[Ue]&&(this._pickShader.uniforms.model=Qe.projections[Ue],this._pickShader.uniforms.clipBounds=Qe.clipBounds[Ue],this._vao.draw(ze.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Qe.showContour){var et=this._contourPickShader;et.bind(),et.uniforms=Be;var tt=this._contourVAO;for(tt.bind(),$e=0;$e<3;++$e)for(ze.lineWidth(this.contourWidth[$e]*this.pixelRatio),et.uniforms.permutation=Qr[$e],Ue=0;Ue<this.contourLevels[$e].length;++Ue)this._contourCounts[$e][Ue]&&(et.uniforms.height=this.contourLevels[$e][Ue],tt.draw(ze.LINES,this._contourCounts[$e][Ue],this._contourOffsets[$e][Ue]));for(Ue=0;Ue<3;++Ue)for(et.uniforms.model=Qe.projections[Ue],et.uniforms.clipBounds=Qe.clipBounds[Ue],$e=0;$e<3;++$e)if(this.contourProject[Ue][$e]){et.uniforms.permutation=Qr[$e],ze.lineWidth(this.contourWidth[$e]*this.pixelRatio);for(var rt=0;rt<this.contourLevels[$e].length;++rt)this._contourCounts[$e][rt]&&(et.uniforms.height=this.contourLevels[$e][rt],tt.draw(ze.LINES,this._contourCounts[$e][rt],this._contourOffsets[$e][rt]))}tt.unbind()}},on.pick=function(Ee){if(!Ee)return null;if(Ee.id!==this.pickId)return null;var ze=this._field[2].shape,Be=this._pickResult,Ue=ze[0]*(Ee.value[0]+(Ee.value[2]>>4)/16)/255,We=Math.floor(Ue),$e=Ue-We,Qe=ze[1]*(Ee.value[1]+(15&Ee.value[2])/16)/255,et=Math.floor(Qe),tt=Qe-et;We+=1,et+=1;var rt=Be.position;rt[0]=rt[1]=rt[2]=0;for(var nt=0;nt<2;++nt)for(var at=nt?$e:1-$e,it=0;it<2;++it)for(var ct=We+nt,ft=et+it,kt=at*(it?tt:1-tt),Lt=0;Lt<3;++Lt)rt[Lt]+=this._field[Lt].get(ct,ft)*kt;for(var Ut=this._pickResult.level,er=0;er<3;++er)if(Ut[er]=xt.le(this.contourLevels[er],rt[er]),Ut[er]<0)this.contourLevels[er].length>0&&(Ut[er]=0);else if(Ut[er]<this.contourLevels[er].length-1){var tr=this.contourLevels[er][Ut[er]],rr=this.contourLevels[er][Ut[er]+1];Math.abs(tr-rt[er])>Math.abs(rr-rt[er])&&(Ut[er]+=1)}for(Be.index[0]=$e<.5?We:We+1,Be.index[1]=tt<.5?et:et+1,Be.uv[0]=Ue/ze[0],Be.uv[1]=Qe/ze[1],Lt=0;Lt<3;++Lt)Be.dataCoordinate[Lt]=this._field[Lt].get(Be.index[0],Be.index[1]);return Be},on.padField=function(Ee,ze){var Be=ze.shape.slice(),Ue=Ee.shape.slice();rt.assign(Ee.lo(1,1).hi(Be[0],Be[1]),ze),rt.assign(Ee.lo(1).hi(Be[0],1),ze.hi(Be[0],1)),rt.assign(Ee.lo(1,Ue[1]-1).hi(Be[0],1),ze.lo(0,Be[1]-1).hi(Be[0],1)),rt.assign(Ee.lo(0,1).hi(1,Be[1]),ze.hi(1)),rt.assign(Ee.lo(Ue[0]-1,1).hi(1,Be[1]),ze.lo(Be[0]-1)),Ee.set(0,0,ze.get(0,0)),Ee.set(0,Ue[1]-1,ze.get(0,Be[1]-1)),Ee.set(Ue[0]-1,0,ze.get(Be[0]-1,0)),Ee.set(Ue[0]-1,Ue[1]-1,ze.get(Be[0]-1,Be[1]-1))},on.update=function(Ee){Ee=Ee||{},this.objectOffset=Ee.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Ee&&(this.contourWidth=handleArray(Ee.contourWidth,Number)),"showContour"in Ee&&(this.showContour=handleArray(Ee.showContour,Boolean)),"showSurface"in Ee&&(this.showSurface=!!Ee.showSurface),"contourTint"in Ee&&(this.contourTint=handleArray(Ee.contourTint,Boolean)),"contourColor"in Ee&&(this.contourColor=handleColor(Ee.contourColor)),"contourProject"in Ee&&(this.contourProject=handleArray(Ee.contourProject,(function(Ee){return handleArray(Ee,Boolean)}))),"surfaceProject"in Ee&&(this.surfaceProject=Ee.surfaceProject),"dynamicColor"in Ee&&(this.dynamicColor=handleColor(Ee.dynamicColor)),"dynamicTint"in Ee&&(this.dynamicTint=handleArray(Ee.dynamicTint,Number)),"dynamicWidth"in Ee&&(this.dynamicWidth=handleArray(Ee.dynamicWidth,Number)),"opacity"in Ee&&(this.opacity=Ee.opacity),"colorBounds"in Ee&&(this.colorBounds=Ee.colorBounds),"vertexColor"in Ee&&(this.vertexColor=Ee.vertexColor?1:0);var ze=Ee.field||Ee.coords&&Ee.coords[2]||null,Be=!1;if(ze||(ze=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in Ee||"coords"in Ee){var We=(ze.shape[0]+2)*(ze.shape[1]+2);We>this._field[2].data.length&&(et.freeFloat(this._field[2].data),this._field[2].data=et.mallocFloat(Ue.nextPow2(We))),this._field[2]=at(this._field[2].data,[ze.shape[0]+2,ze.shape[1]+2]),this.padField(this._field[2],ze),this.shape=ze.shape.slice();for(var $e=this.shape,Qe=0;Qe<2;++Qe)this._field[2].size>this._field[Qe].data.length&&(et.freeFloat(this._field[Qe].data),this._field[Qe].data=et.mallocFloat(this._field[2].size)),this._field[Qe]=at(this._field[Qe].data,[$e[0]+2,$e[1]+2]);if(Ee.coords){var ct=Ee.coords;if(!Array.isArray(ct)||3!==ct.length)throw new Error("gl-surface: invalid coordinates for x/y");for(Qe=0;Qe<2;++Qe){var ft=ct[Qe];for(tr=0;tr<2;++tr)if(ft.shape[tr]!==$e[tr])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[Qe],ft)}}else if(Ee.ticks){var xt=Ee.ticks;if(!Array.isArray(xt)||2!==xt.length)throw new Error("gl-surface: invalid ticks");for(Qe=0;Qe<2;++Qe){var Lt=xt[Qe];if((Array.isArray(Lt)||Lt.length)&&(Lt=at(Lt)),Lt.shape[0]!==$e[Qe])throw new Error("gl-surface: invalid tick length");var Ut=at(Lt.data,$e);Ut.stride[Qe]=Lt.stride[0],Ut.stride[1^Qe]=0,this.padField(this._field[Qe],Ut)}}else{for(Qe=0;Qe<2;++Qe){var er=[0,0];er[Qe]=1,this._field[Qe]=at(this._field[Qe].data,[$e[0]+2,$e[1]+2],er,0)}this._field[0].set(0,0,0);for(var tr=0;tr<$e[0];++tr)this._field[0].set(tr+1,0,tr);for(this._field[0].set($e[0]+1,0,$e[0]-1),this._field[1].set(0,0,0),tr=0;tr<$e[1];++tr)this._field[1].set(0,tr+1,tr);this._field[1].set(0,$e[1]+1,$e[1]-1)}var rr=this._field,ar=at(et.mallocFloat(3*rr[2].size*2),[3,$e[0]+2,$e[1]+2,2]);for(Qe=0;Qe<3;++Qe)kt(ar.pick(Qe),rr[Qe],"mirror");var Qr=at(et.mallocFloat(3*rr[2].size),[$e[0]+2,$e[1]+2,3]);for(Qe=0;Qe<$e[0]+2;++Qe)for(tr=0;tr<$e[1]+2;++tr){var on=ar.get(0,Qe,tr,0),sn=ar.get(0,Qe,tr,1),ln=ar.get(1,Qe,tr,0),cn=ar.get(1,Qe,tr,1),un=ar.get(2,Qe,tr,0),hn=ar.get(2,Qe,tr,1),dn=ln*hn-cn*un,vn=un*sn-hn*on,yn=on*cn-sn*ln,_n=Math.sqrt(dn*dn+vn*vn+yn*yn);_n<1e-8?(_n=Math.max(Math.abs(dn),Math.abs(vn),Math.abs(yn)))<1e-8?(yn=1,vn=dn=0,_n=1):_n=1/_n:_n=1/Math.sqrt(_n),Qr.set(Qe,tr,0,dn*_n),Qr.set(Qe,tr,1,vn*_n),Qr.set(Qe,tr,2,yn*_n)}et.free(ar.data);var Mn=[1/0,1/0,1/0],Cn=[-1/0,-1/0,-1/0],En=1/0,Pn=-1/0,In=($e[0]-1)*($e[1]-1)*6,Bn=et.mallocFloat(Ue.nextPow2(10*In)),Hn=0,Kn=0;for(Qe=0;Qe<$e[0]-1;++Qe)e:for(tr=0;tr<$e[1]-1;++tr){for(var Jn=0;Jn<2;++Jn)for(var Ma=0;Ma<2;++Ma)for(var Sa=0;Sa<3;++Sa){var La=this._field[Sa].get(1+Qe+Jn,1+tr+Ma);if(isNaN(La)||!isFinite(La))continue e}for(Sa=0;Sa<6;++Sa){var Ia=Qe+Lr[Sa][0],Ra=tr+Lr[Sa][1],Na=this._field[0].get(Ia+1,Ra+1),Ua=this._field[1].get(Ia+1,Ra+1);La=this._field[2].get(Ia+1,Ra+1),dn=Qr.get(Ia+1,Ra+1,0),vn=Qr.get(Ia+1,Ra+1,1),yn=Qr.get(Ia+1,Ra+1,2),Ee.intensity&&(qa=Ee.intensity.get(Ia,Ra));var qa=Ee.intensity?Ee.intensity.get(Ia,Ra):La+this.objectOffset[2];Bn[Hn++]=Ia,Bn[Hn++]=Ra,Bn[Hn++]=Na,Bn[Hn++]=Ua,Bn[Hn++]=La,Bn[Hn++]=0,Bn[Hn++]=qa,Bn[Hn++]=dn,Bn[Hn++]=vn,Bn[Hn++]=yn,Mn[0]=Math.min(Mn[0],Na+this.objectOffset[0]),Mn[1]=Math.min(Mn[1],Ua+this.objectOffset[1]),Mn[2]=Math.min(Mn[2],La+this.objectOffset[2]),En=Math.min(En,qa),Cn[0]=Math.max(Cn[0],Na+this.objectOffset[0]),Cn[1]=Math.max(Cn[1],Ua+this.objectOffset[1]),Cn[2]=Math.max(Cn[2],La+this.objectOffset[2]),Pn=Math.max(Pn,qa),Kn+=1}}for(Ee.intensityBounds&&(En=+Ee.intensityBounds[0],Pn=+Ee.intensityBounds[1]),Qe=6;Qe<Hn;Qe+=10)Bn[Qe]=(Bn[Qe]-En)/(Pn-En);this._vertexCount=Kn,this._coordinateBuffer.update(Bn.subarray(0,Hn)),et.freeFloat(Bn),et.free(Qr.data),this.bounds=[Mn,Cn],this.intensity=Ee.intensity||this._field[2],this.intensityBounds[0]===En&&this.intensityBounds[1]===Pn||(Be=!0),this.intensityBounds=[En,Pn]}if("levels"in Ee){var Ka=Ee.levels;for(Ka=Array.isArray(Ka[0])?Ka.slice():[[],[],Ka],Qe=0;Qe<3;++Qe)Ka[Qe]=Ka[Qe].slice(),Ka[Qe].sort((function(Ee,ze){return Ee-ze}));for(Qe=0;Qe<3;++Qe)for(tr=0;tr<Ka[Qe].length;++tr)Ka[Qe][tr]-=this.objectOffset[Qe];e:for(Qe=0;Qe<3;++Qe){if(Ka[Qe].length!==this.contourLevels[Qe].length){Be=!0;break}for(tr=0;tr<Ka[Qe].length;++tr)if(Ka[Qe][tr]!==this.contourLevels[Qe][tr]){Be=!0;break e}}this.contourLevels=Ka}if(Be){rr=this._field,$e=this.shape;for(var ei=[],ti=0;ti<3;++ti){var ri=this.contourLevels[ti],ni=[],ai=[],ii=[0,0,0];for(Qe=0;Qe<ri.length;++Qe){var oi=it(this._field[ti],ri[Qe]);ni.push(ei.length/5|0),Kn=0;e:for(tr=0;tr<oi.cells.length;++tr){var si=oi.cells[tr];for(Sa=0;Sa<2;++Sa){var li=oi.positions[si[Sa]],ci=li[0],hi=0|Math.floor(ci),Ci=ci-hi,Pi=li[1],zi=0|Math.floor(Pi),ji=Pi-zi,Xi=!1;t:for(var Co=0;Co<3;++Co){ii[Co]=0;var zo=(ti+Co+1)%3;for(Jn=0;Jn<2;++Jn){var Bo=Jn?Ci:1-Ci;for(Ia=0|Math.min(Math.max(hi+Jn,0),$e[0]),Ma=0;Ma<2;++Ma){var Vo=Ma?ji:1-ji;if(Ra=0|Math.min(Math.max(zi+Ma,0),$e[1]),La=Co<2?this._field[zo].get(Ia,Ra):(this.intensity.get(Ia,Ra)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(La)||isNaN(La)){Xi=!0;break t}var Uo=Bo*Vo;ii[Co]+=Uo*La}}}if(Xi){if(Sa>0){for(var Ho=0;Ho<5;++Ho)ei.pop();Kn-=1}continue e}ei.push(ii[0],ii[1],li[0],li[1],ii[2]),Kn+=1}}ai.push(Kn)}this._contourOffsets[ti]=ni,this._contourCounts[ti]=ai}var Wo=et.mallocFloat(ei.length);for(Qe=0;Qe<ei.length;++Qe)Wo[Qe]=ei[Qe];this._contourBuffer.update(Wo),et.freeFloat(Wo)}Ee.colormap&&this._colorMap.setPixels(function genColormap(Ee){var ze=nt([tt({colormap:Ee,nshades:256,format:"rgba"}).map((function(Ee){return[Ee[0],Ee[1],Ee[2],255*Ee[3]]}))]);return rt.divseq(ze,255),ze}(Ee.colormap))},on.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Ee=0;Ee<3;++Ee)et.freeFloat(this._field[Ee].data)},on.highlight=function(Ee){var ze,Be;if(!Ee)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ze=0;ze<3;++ze)this.enableHighlight[ze]?this.highlightLevel[ze]=Ee.level[ze]:this.highlightLevel[ze]=-1;for(Be=this.snapToData?Ee.dataCoordinate:Ee.position,ze=0;ze<3;++ze)Be[ze]-=this.objectOffset[ze];if(this.enableDynamic[0]&&Be[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&Be[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&Be[2]!==this.dynamicLevel[2]){for(var Ue=0,We=this.shape,$e=et.mallocFloat(12*We[0]*We[1]),Qe=0;Qe<3;++Qe)if(this.enableDynamic[Qe]){this.dynamicLevel[Qe]=Be[Qe];var tt=(Qe+1)%3,rt=(Qe+2)%3,nt=this._field[Qe],at=this._field[tt],ct=this._field[rt],ft=it(nt,Be[Qe]),xt=ft.cells,kt=ft.positions;for(this._dynamicOffsets[Qe]=Ue,ze=0;ze<xt.length;++ze)for(var Lt=xt[ze],Ut=0;Ut<2;++Ut){var er=kt[Lt[Ut]],tr=+er[0],rr=0|tr,ar=0|Math.min(rr+1,We[0]),Lr=tr-rr,Qr=1-Lr,on=+er[1],sn=0|on,ln=0|Math.min(sn+1,We[1]),cn=on-sn,un=1-cn,hn=Qr*un,dn=Qr*cn,vn=Lr*un,yn=Lr*cn,_n=hn*at.get(rr,sn)+dn*at.get(rr,ln)+vn*at.get(ar,sn)+yn*at.get(ar,ln),Mn=hn*ct.get(rr,sn)+dn*ct.get(rr,ln)+vn*ct.get(ar,sn)+yn*ct.get(ar,ln);if(isNaN(_n)||isNaN(Mn)){Ut&&(Ue-=1);break}$e[2*Ue+0]=_n,$e[2*Ue+1]=Mn,Ue+=1}this._dynamicCounts[Qe]=Ue-this._dynamicOffsets[Qe]}else this.dynamicLevel[Qe]=NaN,this._dynamicCounts[Qe]=0;this._dynamicBuffer.update($e.subarray(0,2*Ue)),et.freeFloat($e)}}},aa6e:function(Ee,ze,Be){"use strict";var Ue=Be("391b");Ee.exports=function hoverPoints(Ee,ze,Be,We){var $e=Ue(Ee,ze,Be,We);if($e&&!1!==$e[0].index){var Qe=$e[0];if(void 0===Qe.index){var et=1-Qe.y0/Ee.ya._length,tt=Ee.xa._length,rt=tt*et/2,nt=tt-rt;return Qe.x0=Math.max(Math.min(Qe.x0,nt),rt),Qe.x1=Math.max(Math.min(Qe.x1,nt),rt),$e}var at=Qe.cd[Qe.index],it=Qe.trace,ct=Qe.subplot;Qe.a=at.a,Qe.b=at.b,Qe.c=at.c,Qe.xLabelVal=void 0,Qe.yLabelVal=void 0;var ft={};ft[it.subplot]={_subplot:ct};var xt=it._module.formatLabels(at,it,ft);Qe.aLabel=xt.aLabel,Qe.bLabel=xt.bLabel,Qe.cLabel=xt.cLabel;var kt=at.hi||it.hoverinfo,Lt=[];if(!it.hovertemplate){var Ut=kt.split("+");-1!==Ut.indexOf("all")&&(Ut=["a","b","c"]),-1!==Ut.indexOf("a")&&textPart(ct.aaxis,Qe.aLabel),-1!==Ut.indexOf("b")&&textPart(ct.baxis,Qe.bLabel),-1!==Ut.indexOf("c")&&textPart(ct.caxis,Qe.cLabel)}return Qe.extraText=Lt.join("<br>"),Qe.hovertemplate=it.hovertemplate,$e}function textPart(Ee,ze){Lt.push(Ee._hovertitle+": "+ze)}}},aa89:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("ad62").getModuleCalcData,$e=Be("7988"),Qe=Be("73c9");ze.name="parcoords",ze.plot=function(Ee){var ze=We(Ee.calcdata,"parcoords")[0];ze.length&&$e(Ee,ze)},ze.clean=function(Ee,ze,Be,Ue){var We=Ue._has&&Ue._has("parcoords"),$e=ze._has&&ze._has("parcoords");We&&!$e&&(Ue._paperdiv.selectAll(".parcoords").remove(),Ue._glimages.selectAll("*").remove())},ze.toSVG=function(Ee){var ze=Ee._fullLayout._glimages,Be=Ue.select(Ee).selectAll(".svg-container");Be.filter((function(Ee,ze){return ze===Be.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function canvasToImage(){var Ee=this.toDataURL("image/png");ze.append("svg:image").attr({xmlns:Qe.svg,"xlink:href":Ee,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})),window.setTimeout((function(){Ue.selectAll("#filterBarPattern").attr("id","filterBarPattern")}),60)}},aa8a:function(Ee,ze,Be){"use strict";Ee.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},aaa9:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function JulianCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}JulianCalendar.prototype=new Ue.baseCalendar,We(JulianCalendar.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return(Ee=ze.year()<0?ze.year()+1:ze.year())%4==0},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(4-(Ue.dayOfWeek()||7),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(2===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return Ee=We.year(),ze=We.month(),Be=We.day(),Ee<0&&Ee++,ze<=2&&(Ee--,ze+=12),Math.floor(365.25*(Ee+4716))+Math.floor(30.6001*(ze+1))+Be-1524.5},fromJD:function(Ee){var ze=Math.floor(Ee+.5)+1524,Be=Math.floor((ze-122.1)/365.25),Ue=Math.floor(365.25*Be),We=Math.floor((ze-Ue)/30.6001),$e=We-Math.floor(We<14?1:13),Qe=Be-Math.floor($e>2?4716:4715),et=ze-Ue-Math.floor(30.6001*We);return Qe<=0&&Qe--,this.newDate(Qe,$e,et)}}),Ue.calendars.julian=JulianCalendar},ab9c:function(Ee,ze,Be){"use strict";Ee.exports=function selectPoints(Ee,ze){var Be,Ue=Ee.cd,We=Ee.xaxis,$e=Ee.yaxis,Qe=[],et=Ue[0].t.bPos||0;if(!1===ze)for(Be=0;Be<Ue.length;Be++)Ue[Be].selected=0;else for(Be=0;Be<Ue.length;Be++){var tt=Ue[Be];ze.contains([We.c2p(tt.pos+et),$e.c2p(tt.yc)],null,tt.i,Ee)?(Qe.push({pointNumber:tt.i,x:We.c2d(tt.pos),y:$e.c2d(tt.yc)}),tt.selected=1):tt.selected=0}return Qe}},abc0:function(Ee,ze,Be){(function(ze){var Be=!1;if("undefined"!=typeof Float64Array){var Ue=new Float64Array(1),We=new Uint32Array(Ue.buffer);if(Ue[0]=1,Be=!0,1072693248===We[1]){Ee.exports=function doubleBitsLE(Ee){return Ue[0]=Ee,[We[0],We[1]]},Ee.exports.pack=function toDoubleLE(Ee,ze){return We[0]=Ee,We[1]=ze,Ue[0]},Ee.exports.lo=function lowUintLE(Ee){return Ue[0]=Ee,We[0]},Ee.exports.hi=function highUintLE(Ee){return Ue[0]=Ee,We[1]}}else if(1072693248===We[0]){Ee.exports=function doubleBitsBE(Ee){return Ue[0]=Ee,[We[1],We[0]]},Ee.exports.pack=function toDoubleBE(Ee,ze){return We[1]=Ee,We[0]=ze,Ue[0]},Ee.exports.lo=function lowUintBE(Ee){return Ue[0]=Ee,We[1]},Ee.exports.hi=function highUintBE(Ee){return Ue[0]=Ee,We[0]}}else Be=!1}if(!Be){var $e=new ze(8);Ee.exports=function doubleBits(Ee){return $e.writeDoubleLE(Ee,0,!0),[$e.readUInt32LE(0,!0),$e.readUInt32LE(4,!0)]},Ee.exports.pack=function toDouble(Ee,ze){return $e.writeUInt32LE(Ee,0,!0),$e.writeUInt32LE(ze,4,!0),$e.readDoubleLE(0,!0)},Ee.exports.lo=function lowUint(Ee){return $e.writeDoubleLE(Ee,0,!0),$e.readUInt32LE(0,!0)},Ee.exports.hi=function highUint(Ee){return $e.writeDoubleLE(Ee,0,!0),$e.readUInt32LE(4,!0)}}Ee.exports.sign=function(ze){return Ee.exports.hi(ze)>>>31},Ee.exports.exponent=function(ze){return(Ee.exports.hi(ze)<<1>>>21)-1023},Ee.exports.fraction=function(ze){var Be=Ee.exports.lo(ze),Ue=Ee.exports.hi(ze),We=1048575&Ue;return 2146435072&Ue&&(We+=1<<20),[Be,We]},Ee.exports.denormalized=function(ze){return!(2146435072&Ee.exports.hi(ze))}}).call(this,Be("b639").Buffer)},abc9:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("d115"),Qe=Be("1c1c").handleGroupingDefaults,et=Be("0b77"),tt=Be("1ebf");function handleSampleDefaults(Ee,ze,Be,$e){function getDims(Ee){var ze=0;return Ee&&Ee.length&&(ze+=1,Ue.isArrayOrTypedArray(Ee[0])&&Ee[0].length&&(ze+=1)),ze}function valid(ze){return Ue.validate(Ee[ze],tt[ze])}var Qe,rt=Be("y"),nt=Be("x");if("box"===ze.type){var at=Be("q1"),it=Be("median"),ct=Be("q3");ze._hasPreCompStats=at&&at.length&&it&&it.length&&ct&&ct.length,Qe=Math.min(Ue.minRowLength(at),Ue.minRowLength(it),Ue.minRowLength(ct))}var ft,xt,kt=getDims(rt),Lt=getDims(nt),Ut=kt&&Ue.minRowLength(rt),er=Lt&&Ue.minRowLength(nt);if(ze._hasPreCompStats)switch(String(Lt)+String(kt)){case"00":var tr=valid("x0")||valid("dx");ft=(valid("y0")||valid("dy"))&&!tr?"h":"v",xt=Qe;break;case"10":ft="v",xt=Math.min(Qe,er);break;case"20":ft="h",xt=Math.min(Qe,nt.length);break;case"01":ft="h",xt=Math.min(Qe,Ut);break;case"02":ft="v",xt=Math.min(Qe,rt.length);break;case"12":ft="v",xt=Math.min(Qe,er,rt.length);break;case"21":ft="h",xt=Math.min(Qe,nt.length,Ut);break;case"11":xt=0;break;case"22":var rr,ar=!1;for(rr=0;rr<nt.length;rr++)if("category"===et(nt[rr])){ar=!0;break}if(ar)ft="v",xt=Math.min(Qe,er,rt.length);else{for(rr=0;rr<rt.length;rr++)if("category"===et(rt[rr])){ar=!0;break}ar?(ft="h",xt=Math.min(Qe,nt.length,Ut)):(ft="v",xt=Math.min(Qe,er,rt.length))}}else kt>0?(ft="v",xt=Lt>0?Math.min(er,Ut):Math.min(Ut)):Lt>0?(ft="h",xt=Math.min(er)):xt=0;if(xt){ze._length=xt;var Lr=Be("orientation",ft);ze._hasPreCompStats?"v"===Lr&&0===Lt?(Be("x0",0),Be("dx",1)):"h"===Lr&&0===kt&&(Be("y0",0),Be("dy",1)):"v"===Lr&&0===Lt?Be("x0"):"h"===Lr&&0===kt&&Be("y0"),We.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y"],$e)}else ze.visible=!1}function handlePointsDefaults(Ee,ze,Be,We){var $e=We.prefix,Qe=Ue.coerce2(Ee,ze,tt,"marker.outliercolor"),et=Be("marker.line.outliercolor"),rt="outliers";ze._hasPreCompStats?rt="all":(Qe||et)&&(rt="suspectedoutliers");var nt=Be($e+"points",rt);nt?(Be("jitter","all"===nt?.3:0),Be("pointpos","all"===nt?-1.5:0),Be("marker.symbol"),Be("marker.opacity"),Be("marker.size"),Be("marker.color",ze.line.color),Be("marker.line.color"),Be("marker.line.width"),"suspectedoutliers"===nt&&(Be("marker.line.outliercolor",ze.marker.color),Be("marker.line.outlierwidth")),Be("selected.marker.color"),Be("unselected.marker.color"),Be("selected.marker.size"),Be("unselected.marker.size"),Be("text"),Be("hovertext")):delete ze.marker;var at=Be("hoveron");"all"!==at&&-1===at.indexOf("points")||Be("hovertemplate"),Ue.coerceSelectionMarkerOpacity(ze,Be)}Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,We){function coerce(Be,We){return Ue.coerce(Ee,ze,tt,Be,We)}if(handleSampleDefaults(Ee,ze,coerce,We),!1!==ze.visible){var Qe=ze._hasPreCompStats;Qe&&(coerce("lowerfence"),coerce("upperfence")),coerce("line.color",(Ee.marker||{}).color||Be),coerce("line.width"),coerce("fillcolor",$e.addOpacity(ze.line.color,.5));var et=!1;if(Qe){var rt=coerce("mean"),nt=coerce("sd");rt&&rt.length&&(et=!0,nt&&nt.length&&(et="sd"))}coerce("boxmean",et),coerce("whiskerwidth"),coerce("width"),coerce("quartilemethod");var at=!1;if(Qe){var it=coerce("notchspan");it&&it.length&&(at=!0)}else Ue.validate(Ee.notchwidth,tt.notchwidth)&&(at=!0);coerce("notched",at)&&coerce("notchwidth"),handlePointsDefaults(Ee,ze,coerce,{prefix:"box"})}},crossTraceDefaults:function crossTraceDefaults(Ee,ze){var Be,We;function coerce(Ee){return Ue.coerce(We._input,We,tt,Ee)}for(var $e=0;$e<Ee.length;$e++){var et=(We=Ee[$e]).type;"box"!==et&&"violin"!==et||(Be=We._input,"group"===ze[et+"mode"]&&Qe(Be,We,ze,coerce))}},handleSampleDefaults:handleSampleDefaults,handlePointsDefaults:handlePointsDefaults}},ac1f:function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("9263");Ue({target:"RegExp",proto:!0,forced:/./.exec!==We},{exec:We})},ac37:function(Ee,ze,Be){"use strict";var Ue=Be("10b8"),We=Be("b5e4").traceLayerPrefix,$e=["fill","line","circle","symbol"];function ScatterMapbox(Ee,ze){this.type="scattermapbox",this.subplot=Ee,this.uid=ze,this.sourceIds={fill:"source-"+ze+"-fill",line:"source-"+ze+"-line",circle:"source-"+ze+"-circle",symbol:"source-"+ze+"-symbol"},this.layerIds={fill:We+ze+"-fill",line:We+ze+"-line",circle:We+ze+"-circle",symbol:We+ze+"-symbol"},this.below=null}var Qe=ScatterMapbox.prototype;Qe.addSource=function(Ee,ze){this.subplot.map.addSource(this.sourceIds[Ee],{type:"geojson",data:ze.geojson})},Qe.setSourceData=function(Ee,ze){this.subplot.map.getSource(this.sourceIds[Ee]).setData(ze.geojson)},Qe.addLayer=function(Ee,ze,Be){this.subplot.addLayer({type:Ee,id:this.layerIds[Ee],source:this.sourceIds[Ee],layout:ze.layout,paint:ze.paint},Be)},Qe.update=function update(Ee){var ze,Be,We,Qe=this.subplot,et=Qe.map,tt=Ue(Qe.gd,Ee),rt=Qe.belowLookup["trace-"+this.uid];if(rt!==this.below){for(ze=$e.length-1;ze>=0;ze--)Be=$e[ze],et.removeLayer(this.layerIds[Be]);for(ze=0;ze<$e.length;ze++)We=tt[Be=$e[ze]],this.addLayer(Be,We,rt);this.below=rt}for(ze=0;ze<$e.length;ze++)We=tt[Be=$e[ze]],Qe.setOptions(this.layerIds[Be],"setLayoutProperty",We.layout),"visible"===We.layout.visibility&&(this.setSourceData(Be,We),Qe.setOptions(this.layerIds[Be],"setPaintProperty",We.paint));Ee[0].trace._glTrace=this},Qe.dispose=function dispose(){for(var Ee=this.subplot.map,ze=$e.length-1;ze>=0;ze--){var Be=$e[ze];Ee.removeLayer(this.layerIds[Be]),Ee.removeSource(this.sourceIds[Be])}},Ee.exports=function createScatterMapbox(Ee,ze){for(var Be=ze[0].trace,We=new ScatterMapbox(Ee,Be.uid),Qe=Ue(Ee.gd,ze),et=We.below=Ee.belowLookup["trace-"+Be.uid],tt=0;tt<$e.length;tt++){var rt=$e[tt],nt=Qe[rt];We.addSource(rt,nt),We.addLayer(rt,nt,et)}return ze[0].trace._glTrace=We,We}},ac97:function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("371e"),$e=Be("d115"),Qe=Be("fc26").fillText,et=Be("6833").getLineWidth,tt=Be("0642").hoverLabelText;function hoverOnBars(Ee,ze,Be,We){var $e,et,rt,nt,at,it,ct,ft=Ee.cd,xt=ft[0].trace,kt=ft[0].t,Lt="closest"===We,Ut="waterfall"===xt.type,er=Ee.maxHoverDistance,tr=Ee.maxSpikeDistance;function thisBarMinPos(Ee){return Ee[rt]-Ee.w/2}function thisBarMaxPos(Ee){return Ee[rt]+Ee.w/2}var rr=Lt?thisBarMinPos:function(Ee){return Math.min(thisBarMinPos(Ee),Ee.p-kt.bardelta/2)},ar=Lt?thisBarMaxPos:function(Ee){return Math.max(thisBarMaxPos(Ee),Ee.p+kt.bardelta/2)};function _positionFn(Ee,ze){return Ue.inbox(Ee-$e,ze-$e,er+Math.min(1,Math.abs(ze-Ee)/ct)-1)}function positionFn(Ee){return _positionFn(rr(Ee),ar(Ee))}function sizeFn(Ee){var ze=et,Be=Ee.b,We=Ee[nt];return Ut&&(We+=Math.abs(Ee.rawS||0)),Ue.inbox(Be-ze,We-ze,er+(We-ze)/(We-Be)-1)}"h"===xt.orientation?($e=Be,et=ze,rt="y",nt="x",at=sizeFn,it=positionFn):($e=ze,et=Be,rt="x",nt="y",it=sizeFn,at=positionFn);var Lr=Ee[rt+"a"],Qr=Ee[nt+"a"];ct=Math.abs(Lr.r2c(Lr.range[1])-Lr.r2c(Lr.range[0]));var on=Ue.getDistanceFunction(We,at,it,(function dxy(Ee){return(at(Ee)+it(Ee))/2}));if(Ue.getClosest(ft,on,Ee),!1!==Ee.index){Lt||(rr=function(Ee){return Math.min(thisBarMinPos(Ee),Ee.p-kt.bargroupwidth/2)},ar=function(Ee){return Math.max(thisBarMaxPos(Ee),Ee.p+kt.bargroupwidth/2)});var sn=ft[Ee.index],ln=xt.base?sn.b+sn.s:sn.s;Ee[nt+"0"]=Ee[nt+"1"]=Qr.c2p(sn[nt],!0),Ee[nt+"LabelVal"]=ln;var cn=kt.extents[kt.extents.round(sn.p)];return Ee[rt+"0"]=Lr.c2p(Lt?rr(sn):cn[0],!0),Ee[rt+"1"]=Lr.c2p(Lt?ar(sn):cn[1],!0),Ee[rt+"LabelVal"]=sn.p,Ee.labelLabel=tt(Lr,Ee[rt+"LabelVal"]),Ee.valueLabel=tt(Qr,Ee[nt+"LabelVal"]),Ee.spikeDistance=(sizeFn(sn)+function thisBarPositionFn(Ee){return _positionFn(thisBarMinPos(Ee),thisBarMaxPos(Ee))}(sn))/2+tr-er,Ee[rt+"Spike"]=Lr.c2p(sn.p,!0),Qe(sn,xt,Ee),Ee.hovertemplate=xt.hovertemplate,Ee}}function getTraceColor(Ee,ze){var Be=ze.mcc||Ee.marker.color,Ue=ze.mlcc||Ee.marker.line.color,We=et(Ee,ze);return $e.opacity(Be)?Be:$e.opacity(Ue)&&We?Ue:void 0}Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,Ue){var $e=hoverOnBars(Ee,ze,Be,Ue);if($e){var Qe=$e.cd,et=Qe[0].trace,tt=Qe[$e.index];return $e.color=getTraceColor(et,tt),We.getComponentMethod("errorbars","hoverInfo")(tt,et,$e),[$e]}},hoverOnBars:hoverOnBars,getTraceColor:getTraceColor}},ad2d:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function CopticCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}CopticCalendar.prototype=new Ue.baseCalendar,We(CopticCalendar.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return(Ee=ze.year()+(ze.year()<0?1:0))%4==3||Ee%4==-1},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear||Ue.regionalOptions[""].invalidYear),13},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(13===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return(Ee=We.year())<0&&Ee++,We.day()+30*(We.month()-1)+365*(Ee-1)+Math.floor(Ee/4)+this.jdEpoch-1},fromJD:function(Ee){var ze=Math.floor(Ee)+.5-this.jdEpoch,Be=Math.floor((ze-Math.floor((ze+366)/1461))/365)+1;Be<=0&&Be--,ze=Math.floor(Ee)+.5-this.newDate(Be,1,1).toJD();var Ue=Math.floor(ze/30)+1,We=ze-30*(Ue-1)+1;return this.newDate(Be,Ue,We)}}),Ue.calendars.coptic=CopticCalendar},ad62:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("d301").SUBPLOT_PATTERN;ze.getSubplotCalcData=function(Ee,ze,Be){var We=Ue.subplotsRegistry[ze];if(!We)return[];for(var $e=We.attr,Qe=[],et=0;et<Ee.length;et++){var tt=Ee[et];tt[0].trace[$e]===Be&&Qe.push(tt)}return Qe},ze.getModuleCalcData=function(Ee,ze){var Be,We=[],$e=[];if(!(Be="string"==typeof ze?Ue.getModule(ze).plot:"function"==typeof ze?ze:ze.plot))return[We,Ee];for(var Qe=0;Qe<Ee.length;Qe++){var et=Ee[Qe],tt=et[0].trace;!0===tt.visible&&0!==tt._length&&(tt._module.plot===Be?We.push(et):$e.push(et))}return[We,$e]},ze.getSubplotData=function getSubplotData(Ee,ze,Be){if(!Ue.subplotsRegistry[ze])return[];var $e,Qe,et,tt=Ue.subplotsRegistry[ze].attr,rt=[];if("gl2d"===ze){var nt=Be.match(We);Qe="x"+nt[1],et="y"+nt[2]}for(var at=0;at<Ee.length;at++)$e=Ee[at],"gl2d"===ze&&Ue.traceIs($e,"gl2d")?$e[tt[0]]===Qe&&$e[tt[1]]===et&&rt.push($e):$e[tt]===Be&&rt.push($e);return rt}},ad68:function(Ee,ze,Be){"use strict";var Ue=Be("ea39"),We=Be("b7d1"),$e=Be("7dbb"),Qe=Be("6b38"),et=Be("d345"),tt=Be("0103"),rt=Be("2dbe"),nt=Be("cea5"),at=Be("3de2"),it=Be("3642"),ct=Be("4c69"),ft=Be("b94e"),xt=Be("02ab"),kt=Be("320c"),Lt=Be("7a71"),Ut=Be("37cd"),er=Be("a48a").nextPow2,tr=new et,rr=!1;if(document.body){var ar=document.body.appendChild(document.createElement("div"));ar.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(ar).fontStretch&&(rr=!0),document.body.removeChild(ar)}var Lr=function GlText(Ee){!function isRegl(Ee){return"function"==typeof Ee&&Ee._gl&&Ee.prop&&Ee.texture&&Ee.buffer}(Ee)?this.gl=Qe(Ee):(Ee={regl:Ee},this.gl=Ee.regl._gl),this.shader=tr.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=Ee.regl||$e({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),tr.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(it(Ee)?Ee:{})};Lr.prototype.createShader=function createShader(){var Ee=this.regl,ze=Ee({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:Ee.prop("count"),offset:Ee.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:Ee.this("sizeBuffer")},width:{offset:0,stride:8,buffer:Ee.this("sizeBuffer")},char:Ee.this("charBuffer"),position:Ee.this("position")},uniforms:{atlasSize:function(Ee,ze){return[ze.atlas.width,ze.atlas.height]},atlasDim:function(Ee,ze){return[ze.atlas.cols,ze.atlas.rows]},atlas:function(Ee,ze){return ze.atlas.texture},charStep:function(Ee,ze){return ze.atlas.step},em:function(Ee,ze){return ze.atlas.em},color:Ee.prop("color"),opacity:Ee.prop("opacity"),viewport:Ee.this("viewportArray"),scale:Ee.this("scale"),align:Ee.prop("align"),baseline:Ee.prop("baseline"),translate:Ee.this("translate"),positionOffset:Ee.prop("positionOffset")},primitive:"points",viewport:Ee.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\t"+(Lr.normalViewport?"":"vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);")+"\n\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ positionOffset))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\t"+(Lr.normalViewport?"position.y = 1. - position.y;":"")+"\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform sampler2D atlas;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:Ee,draw:ze,atlas:{}}},Lr.prototype.update=function update(Ee){var ze=this;if("string"==typeof Ee)Ee={text:Ee};else if(!Ee)return;null!=(Ee=We(Ee,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(Ee.opacity)?this.opacity=Ee.opacity.map((function(Ee){return parseFloat(Ee)})):this.opacity=parseFloat(Ee.opacity)),null!=Ee.viewport&&(this.viewport=at(Ee.viewport),Lr.normalViewport&&(this.viewport.y=this.canvas.height-this.viewport.y-this.viewport.height),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=Ee.kerning&&(this.kerning=Ee.kerning),null!=Ee.offset&&("number"==typeof Ee.offset&&(Ee.offset=[Ee.offset,0]),this.positionOffset=Ut(Ee.offset)),Ee.direction&&(this.direction=Ee.direction),Ee.range&&(this.range=Ee.range,this.scale=[1/(Ee.range[2]-Ee.range[0]),1/(Ee.range[3]-Ee.range[1])],this.translate=[-Ee.range[0],-Ee.range[1]]),Ee.scale&&(this.scale=Ee.scale),Ee.translate&&(this.translate=Ee.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||Ee.font||(Ee.font=Lr.baseFontSize+"px sans-serif");var Be,$e=!1,Qe=!1;if(Ee.font&&(Array.isArray(Ee.font)?Ee.font:[Ee.font]).forEach((function(Ee,Be){if("string"==typeof Ee)try{Ee=Ue.parse(Ee)}catch(ze){Ee=Ue.parse(Lr.baseFontSize+"px "+Ee)}else Ee=Ue.parse(Ue.stringify(Ee));var We=Ue.stringify({size:Lr.baseFontSize,family:Ee.family,stretch:rr?Ee.stretch:void 0,variant:Ee.variant,weight:Ee.weight,style:Ee.style}),et=ct(Ee.size),tt=Math.round(et[0]*ft(et[1]));if(tt!==ze.fontSize[Be]&&(Qe=!0,ze.fontSize[Be]=tt),!(ze.font[Be]&&We==ze.font[Be].baseString||($e=!0,ze.font[Be]=Lr.fonts[We],ze.font[Be]))){var rt=Ee.family.join(", "),nt=[Ee.style];Ee.style!=Ee.variant&&nt.push(Ee.variant),Ee.variant!=Ee.weight&&nt.push(Ee.weight),rr&&Ee.weight!=Ee.stretch&&nt.push(Ee.stretch),ze.font[Be]={baseString:We,family:rt,weight:Ee.weight,stretch:Ee.stretch,style:Ee.style,variant:Ee.variant,width:{},kerning:{},metrics:Lt(rt,{origin:"top",fontSize:Lr.baseFontSize,fontStyle:nt.join(" ")})},Lr.fonts[We]=ze.font[Be]}})),($e||Qe)&&this.font.forEach((function(Be,We){var $e=Ue.stringify({size:ze.fontSize[We],family:Be.family,stretch:rr?Be.stretch:void 0,variant:Be.variant,weight:Be.weight,style:Be.style});if(ze.fontAtlas[We]=ze.shader.atlas[$e],!ze.fontAtlas[We]){var Qe=Be.metrics;ze.shader.atlas[$e]=ze.fontAtlas[We]={fontString:$e,step:2*Math.ceil(ze.fontSize[We]*Qe.bottom*.5),em:ze.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:ze.regl.texture()}}null==Ee.text&&(Ee.text=ze.text)})),"string"==typeof Ee.text&&Ee.position&&Ee.position.length>2){for(var et=Array(.5*Ee.position.length),it=0;it<et.length;it++)et[it]=Ee.text;Ee.text=et}if(null!=Ee.text||$e){if(this.textOffsets=[0],Array.isArray(Ee.text)){this.count=Ee.text[0].length,this.counts=[this.count];for(var tr=1;tr<Ee.text.length;tr++)this.textOffsets[tr]=this.textOffsets[tr-1]+Ee.text[tr-1].length,this.count+=Ee.text[tr].length,this.counts.push(Ee.text[tr].length);this.text=Ee.text.join("")}else this.text=Ee.text,this.count=this.text.length,this.counts=[this.count];Be=[],this.font.forEach((function(Ee,Ue){Lr.atlasContext.font=Ee.baseString;for(var We=ze.fontAtlas[Ue],$e=0;$e<ze.text.length;$e++){var Qe=ze.text.charAt($e);if(null==We.ids[Qe]&&(We.ids[Qe]=We.chars.length,We.chars.push(Qe),Be.push(Qe)),null==Ee.width[Qe]&&(Ee.width[Qe]=Lr.atlasContext.measureText(Qe).width/Lr.baseFontSize,ze.kerning)){var et=[];for(var tt in Ee.width)et.push(tt+Qe,Qe+tt);kt(Ee.kerning,xt(Ee.family,{pairs:et}))}}}))}if(Ee.position)if(Ee.position.length>2){for(var ar=!Ee.position[0].length,Qr=nt.mallocFloat(2*this.count),on=0,sn=0;on<this.counts.length;on++){var ln=this.counts[on];if(ar)for(var cn=0;cn<ln;cn++)Qr[sn++]=Ee.position[2*on],Qr[sn++]=Ee.position[2*on+1];else for(var un=0;un<ln;un++)Qr[sn++]=Ee.position[on][0],Qr[sn++]=Ee.position[on][1]}this.position.call?this.position({type:"float",data:Qr}):this.position=this.regl.buffer({type:"float",data:Qr}),nt.freeFloat(Qr)}else this.position.destroy&&this.position.destroy(),this.position={constant:Ee.position};if(Ee.text||$e){var hn=nt.mallocUint8(this.count),dn=nt.mallocFloat(2*this.count);this.textWidth=[];for(var vn=0,yn=0;vn<this.counts.length;vn++){for(var _n=this.counts[vn],Mn=this.font[vn]||this.font[0],Cn=this.fontAtlas[vn]||this.fontAtlas[0],En=0;En<_n;En++){var Pn=this.text.charAt(yn),In=this.text.charAt(yn-1);if(hn[yn]=Cn.ids[Pn],dn[2*yn]=Mn.width[Pn],En){var Bn=dn[2*yn-2],Hn=dn[2*yn],Kn=dn[2*yn-1]+.5*Bn+.5*Hn;if(this.kerning){var Jn=Mn.kerning[In+Pn];Jn&&(Kn+=.001*Jn)}dn[2*yn+1]=Kn}else dn[2*yn+1]=.5*dn[2*yn];yn++}this.textWidth.push(dn.length?.5*dn[2*yn-2]+dn[2*yn-1]:0)}Ee.align||(Ee.align=this.align),this.charBuffer({data:hn,type:"uint8",usage:"stream"}),this.sizeBuffer({data:dn,type:"float",usage:"stream"}),nt.freeUint8(hn),nt.freeFloat(dn),Be.length&&this.font.forEach((function(Ee,Be){var Ue=ze.fontAtlas[Be],We=Ue.step,$e=Math.floor(Lr.maxAtlasSize/We),Qe=Math.min($e,Ue.chars.length),et=Math.ceil(Ue.chars.length/Qe),tt=er(Qe*We),nt=er(et*We);Ue.width=tt,Ue.height=nt,Ue.rows=et,Ue.cols=Qe,Ue.em&&Ue.texture({data:rt({canvas:Lr.atlasCanvas,font:Ue.fontString,chars:Ue.chars,shape:[tt,nt],step:[We,We]})})}))}if(Ee.align&&(this.align=Ee.align,this.alignOffset=this.textWidth.map((function(Ee,Be){var Ue=Array.isArray(ze.align)?ze.align.length>1?ze.align[Be]:ze.align[0]:ze.align;if("number"==typeof Ue)return Ue;switch(Ue){case"right":case"end":return-Ee;case"center":case"centre":case"middle":return.5*-Ee}return 0}))),null==this.baseline&&null==Ee.baseline&&(Ee.baseline=0),null!=Ee.baseline&&(this.baseline=Ee.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map((function(Ee,Be){var Ue=(ze.font[Be]||ze.font[0]).metrics,We=0;return We+=.5*Ue.bottom,We+="number"==typeof Ee?Ee-Ue.baseline:-Ue[Ee],Lr.normalViewport||(We*=-1),We}))),null!=Ee.color)if(Ee.color||(Ee.color="transparent"),"string"!=typeof Ee.color&&isNaN(Ee.color)){var Ma;if("number"==typeof Ee.color[0]&&Ee.color.length>this.counts.length){var Sa=Ee.color.length;Ma=nt.mallocUint8(Sa);for(var La=(Ee.color.subarray||Ee.color.slice).bind(Ee.color),Ia=0;Ia<Sa;Ia+=4)Ma.set(tt(La(Ia,Ia+4),"uint8"),Ia)}else{var Ra=Ee.color.length;Ma=nt.mallocUint8(4*Ra);for(var Na=0;Na<Ra;Na++)Ma.set(tt(Ee.color[Na]||0,"uint8"),4*Na)}this.color=Ma}else this.color=tt(Ee.color,"uint8");if(Ee.position||Ee.text||Ee.color||Ee.baseline||Ee.align||Ee.font||Ee.offset||Ee.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Ua=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Ua);for(var qa=0;qa<this.batch.length;qa++)this.batch[qa]={count:this.counts.length>1?this.counts[qa]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[qa]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*qa,4*qa+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[qa]:this.opacity,baseline:null!=this.baselineOffset[qa]?this.baselineOffset[qa]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[qa]?this.alignOffset[qa]:this.alignOffset[0]:0,atlas:this.fontAtlas[qa]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*qa,2*qa+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},Lr.prototype.destroy=function destroy(){},Lr.prototype.kerning=!0,Lr.prototype.position={constant:new Float32Array(2)},Lr.prototype.translate=null,Lr.prototype.scale=null,Lr.prototype.font=null,Lr.prototype.text="",Lr.prototype.positionOffset=[0,0],Lr.prototype.opacity=1,Lr.prototype.color=new Uint8Array([0,0,0,255]),Lr.prototype.alignOffset=[0,0],Lr.normalViewport=!1,Lr.maxAtlasSize=1024,Lr.atlasCanvas=document.createElement("canvas"),Lr.atlasContext=Lr.atlasCanvas.getContext("2d",{alpha:!1}),Lr.baseFontSize=64,Lr.fonts={},Ee.exports=Lr},ad6d:function(Ee,ze,Be){"use strict";var Ue=Be("825a");Ee.exports=function(){var Ee=Ue(this),ze="";return Ee.global&&(ze+="g"),Ee.ignoreCase&&(ze+="i"),Ee.multiline&&(ze+="m"),Ee.dotAll&&(ze+="s"),Ee.unicode&&(ze+="u"),Ee.sticky&&(ze+="y"),ze}},ad91:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a288"),$e=Be("e8cf"),Qe=Be("4248");Ee.exports=function downloadImage(Ee,ze){var Be;return Ue.isPlainObject(Ee)||(Be=Ue.getGraphDiv(Ee)),(ze=ze||{}).format=ze.format||"png",ze.imageDataOnly=!0,new Promise((function(et,tt){Be&&Be._snapshotInProgress&&tt(new Error("Snapshotting already in progress.")),Ue.isIE()&&"svg"!==ze.format&&tt(new Error(Qe.MSG_IE_BAD_FORMAT)),Be&&(Be._snapshotInProgress=!0);var rt=We(Ee,ze),nt=ze.filename||Ee.fn||"newplot";nt+="."+ze.format,rt.then((function(Ee){return Be&&(Be._snapshotInProgress=!1),$e(Ee,nt,ze.format)})).then((function(Ee){et(Ee)})).catch((function(Ee){Be&&(Be._snapshotInProgress=!1),tt(Ee)}))}))}},ae13:function(Ee,ze,Be){"use strict";var Ue=Be("3ff5").dfltConfig,We=Be("0082"),$e=Ee.exports={};function apply(Ee,ze){if(Ee&&Ee.apply)try{return void Ee.apply(console,ze)}catch(Ee){}for(var Be=0;Be<ze.length;Be++)try{Ee(ze[Be])}catch(Ee){console.log(ze[Be])}}$e.log=function(){var Ee;if(Ue.logging>1){var ze=["LOG:"];for(Ee=0;Ee<arguments.length;Ee++)ze.push(arguments[Ee]);apply(console.trace||console.log,ze)}if(Ue.notifyOnLogging>1){var Be=[];for(Ee=0;Ee<arguments.length;Ee++)Be.push(arguments[Ee]);We(Be.join("<br>"),"long")}},$e.warn=function(){var Ee;if(Ue.logging>0){var ze=["WARN:"];for(Ee=0;Ee<arguments.length;Ee++)ze.push(arguments[Ee]);apply(console.trace||console.log,ze)}if(Ue.notifyOnLogging>0){var Be=[];for(Ee=0;Ee<arguments.length;Ee++)Be.push(arguments[Ee]);We(Be.join("<br>"),"stick")}},$e.error=function(){var Ee;if(Ue.logging>0){var ze=["ERROR:"];for(Ee=0;Ee<arguments.length;Ee++)ze.push(arguments[Ee]);apply(console.error,ze)}if(Ue.notifyOnLogging>0){var Be=[];for(Ee=0;Ee<arguments.length;Ee++)Be.push(arguments[Ee]);We(Be.join("<br>"),"stick")}}},ae14:function(Ee,ze){Ee.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},ae40:function(Ee,ze,Be){var Ue=Be("83ab"),We=Be("d039"),$e=Be("5135"),Qe=Object.defineProperty,et={},thrower=function(Ee){throw Ee};Ee.exports=function(Ee,ze){if($e(et,Ee))return et[Ee];ze||(ze={});var Be=[][Ee],tt=!!$e(ze,"ACCESSORS")&&ze.ACCESSORS,rt=$e(ze,0)?ze[0]:thrower,nt=$e(ze,1)?ze[1]:void 0;return et[Ee]=!!Be&&!We((function(){if(tt&&!Ue)return!0;var Ee={length:-1};tt?Qe(Ee,1,{enumerable:!0,get:thrower}):Ee[1]=1,Be.call(Ee,rt,nt)}))}},ae84:function(Ee,ze,Be){"use strict";var Ue=Be("5c79"),We=Be("ad62").getSubplotCalcData,$e=Be("fc26").counterRegex;ze.name="ternary";var Qe=ze.attr="subplot";ze.idRoot="ternary",ze.idRegex=ze.attrRegex=$e("ternary"),(ze.attributes={})[Qe]={valType:"subplotid",dflt:"ternary",editType:"calc"},ze.layoutAttributes=Be("45a2"),ze.supplyLayoutDefaults=Be("ec0c"),ze.plot=function plot(Ee){for(var ze=Ee._fullLayout,Be=Ee.calcdata,$e=ze._subplots.ternary,Qe=0;Qe<$e.length;Qe++){var et=$e[Qe],tt=We(Be,"ternary",et),rt=ze[et]._subplot;rt||(rt=new Ue({id:et,graphDiv:Ee,container:ze._ternarylayer.node()},ze),ze[et]._subplot=rt),rt.plot(tt,ze,Ee._promises)}},ze.clean=function(Ee,ze,Be,Ue){for(var We=Ue._subplots.ternary||[],$e=0;$e<We.length;$e++){var Qe=We[$e],et=Ue[Qe]._subplot;!ze[Qe]&&et&&(et.plotContainer.remove(),et.clipDef.remove(),et.clipDefRelative.remove(),et.layers["a-title"].remove(),et.layers["b-title"].remove(),et.layers["c-title"].remove())}}},ae96:function(Ee,ze,Be){"use strict";var Ue=Be("cc77"),We=Be("92ba")[3];function PartialHull(Ee,ze,Be,Ue,We){this.a=Ee,this.b=ze,this.idx=Be,this.lowerIds=Ue,this.upperIds=We}function Event(Ee,ze,Be,Ue){this.a=Ee,this.b=ze,this.type=Be,this.idx=Ue}function compareEvent(Ee,ze){var Be=Ee.a[0]-ze.a[0]||Ee.a[1]-ze.a[1]||Ee.type-ze.type;return Be||(0!==Ee.type&&(Be=We(Ee.a,Ee.b,ze.b))?Be:Ee.idx-ze.idx)}function testPoint(Ee,ze){return We(Ee.a,Ee.b,ze)}function addPoint(Ee,ze,Be,$e,Qe){for(var et=Ue.lt(ze,$e,testPoint),tt=Ue.gt(ze,$e,testPoint),rt=et;rt<tt;++rt){for(var nt=ze[rt],at=nt.lowerIds,it=at.length;it>1&&We(Be[at[it-2]],Be[at[it-1]],$e)>0;)Ee.push([at[it-1],at[it-2],Qe]),it-=1;at.length=it,at.push(Qe);var ct=nt.upperIds;for(it=ct.length;it>1&&We(Be[ct[it-2]],Be[ct[it-1]],$e)<0;)Ee.push([ct[it-2],ct[it-1],Qe]),it-=1;ct.length=it,ct.push(Qe)}}function findSplit(Ee,ze){var Be;return(Be=Ee.a[0]<ze.a[0]?We(Ee.a,Ee.b,ze.a):We(ze.b,ze.a,Ee.a))?Be:(Be=ze.b[0]<Ee.b[0]?We(Ee.a,Ee.b,ze.b):We(ze.b,ze.a,Ee.b))||Ee.idx-ze.idx}function splitHulls(Ee,ze,Be){var We=Ue.le(Ee,Be,findSplit),$e=Ee[We],Qe=$e.upperIds,et=Qe[Qe.length-1];$e.upperIds=[et],Ee.splice(We+1,0,new PartialHull(Be.a,Be.b,Be.idx,[et],Qe))}function mergeHulls(Ee,ze,Be){var We=Be.a;Be.a=Be.b,Be.b=We;var $e=Ue.eq(Ee,Be,findSplit),Qe=Ee[$e];Ee[$e-1].upperIds=Qe.upperIds,Ee.splice($e,1)}Ee.exports=function monotoneTriangulate(Ee,ze){for(var Be=Ee.length,Ue=ze.length,We=[],$e=0;$e<Be;++$e)We.push(new Event(Ee[$e],null,0,$e));for($e=0;$e<Ue;++$e){var Qe=ze[$e],et=Ee[Qe[0]],tt=Ee[Qe[1]];et[0]<tt[0]?We.push(new Event(et,tt,2,$e),new Event(tt,et,1,$e)):et[0]>tt[0]&&We.push(new Event(tt,et,2,$e),new Event(et,tt,1,$e))}We.sort(compareEvent);for(var rt=We[0].a[0]-(1+Math.abs(We[0].a[0]))*Math.pow(2,-52),nt=[new PartialHull([rt,1],[rt,0],-1,[],[],[],[])],at=[],it=($e=0,We.length);$e<it;++$e){var ct=We[$e],ft=ct.type;0===ft?addPoint(at,nt,Ee,ct.a,ct.idx):2===ft?splitHulls(nt,Ee,ct):mergeHulls(nt,Ee,ct)}return at}},aee4:function(Ee,ze,Be){var Ue=Be("e98f"),We=Ue(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),$e=Ue(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),Qe=Ue(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),et=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);ze.meshShader={vertex:We,fragment:$e,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},ze.pickShader={vertex:Qe,fragment:et,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},aeeb:function(Ee,ze){Ee.exports=function newArray(Ee,ze){var Be="number"==typeof Ee,Ue="number"==typeof ze;Be&&!Ue?(ze=Ee,Ee=0):Be||Ue||(Ee=0,ze=0);var We=(ze|=0)-(Ee|=0);if(We<0)throw new Error("array length must be positive");for(var $e=new Array(We),Qe=0,et=Ee;Qe<We;Qe++,et++)$e[Qe]=et;return $e}},af2d:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("8b85"),Qe=Be("efaa"),et=Be("47cc"),tt=Be("0379"),rt=Be("fc26"),nt=Be("63dc");function drawGridLines(Ee,ze,Be,We,et,tt){var rt="const-"+et+"-lines",nt=Be.selectAll("."+rt).data(tt);nt.enter().append("path").classed(rt,!0).style("vector-effect","non-scaling-stroke"),nt.each((function(Be){var We=Be,et=We.x,tt=We.y,rt=$e([],et,Ee.c2p),nt=$e([],tt,ze.c2p),at="M"+Qe(rt,nt,We.smoothing);Ue.select(this).attr("d",at).style("stroke-width",We.width).style("stroke",We.color).style("fill","none")})),nt.exit().remove()}function drawAxisLabels(Ee,ze,Be,$e,Qe,rt,nt,at){var it=rt.selectAll("text."+at).data(nt);it.enter().append("text").classed(at,!0);var ct=0,ft={};return it.each((function(Qe,rt){var nt;if("auto"===Qe.axis.tickangle)nt=et($e,ze,Be,Qe.xy,Qe.dxy);else{var at=(Qe.axis.tickangle+180)*Math.PI/180;nt=et($e,ze,Be,Qe.xy,[Math.cos(at),Math.sin(at)])}rt||(ft={angle:nt.angle,flip:nt.flip});var it=(Qe.endAnchor?-1:1)*nt.flip,xt=Ue.select(this).attr({"text-anchor":it>0?"start":"end","data-notex":1}).call(We.font,Qe.font).text(Qe.text).call(tt.convertToTspans,Ee),kt=We.bBox(this);xt.attr("transform","translate("+nt.p[0]+","+nt.p[1]+") rotate("+nt.angle+")translate("+Qe.axis.labelpadding*it+","+.3*kt.height+")"),ct=Math.max(ct,kt.width+Qe.axis.labelpadding)})),it.exit().remove(),ft.maxExtent=ct,ft}Ee.exports=function plot(Ee,ze,Be,We){var tt=ze.xaxis,nt=ze.yaxis,at=Ee._fullLayout._clips;rt.makeTraceGroups(We,Be,"trace").each((function(ze){var Be=Ue.select(this),We=ze[0],it=We.trace,ct=it.aaxis,ft=it.baxis,xt=rt.ensureSingle(Be,"g","minorlayer"),kt=rt.ensureSingle(Be,"g","majorlayer"),Lt=rt.ensureSingle(Be,"g","boundarylayer"),Ut=rt.ensureSingle(Be,"g","labellayer");Be.style("opacity",it.opacity),drawGridLines(tt,nt,kt,ct,"a",ct._gridlines),drawGridLines(tt,nt,kt,ft,"b",ft._gridlines),drawGridLines(tt,nt,xt,ct,"a",ct._minorgridlines),drawGridLines(tt,nt,xt,ft,"b",ft._minorgridlines),drawGridLines(tt,nt,Lt,ct,"a-boundary",ct._boundarylines),drawGridLines(tt,nt,Lt,ft,"b-boundary",ft._boundarylines);var er=drawAxisLabels(Ee,tt,nt,it,We,Ut,ct._labels,"a-label"),tr=drawAxisLabels(Ee,tt,nt,it,We,Ut,ft._labels,"b-label");!function drawAxisTitles(Ee,ze,Be,Ue,We,$e,Qe,tt){var nt,at,it,ct,ft=rt.aggNums(Math.min,null,Be.a),xt=rt.aggNums(Math.max,null,Be.a),kt=rt.aggNums(Math.min,null,Be.b),Lt=rt.aggNums(Math.max,null,Be.b);nt=.5*(ft+xt),at=kt,it=Be.ab2xy(nt,at,!0),ct=Be.dxyda_rough(nt,at),void 0===Qe.angle&&rt.extendFlat(Qe,et(Be,We,$e,it,Be.dxydb_rough(nt,at)));drawAxisTitle(Ee,ze,Be,Ue,it,ct,Be.aaxis,We,$e,Qe,"a-title"),nt=ft,at=.5*(kt+Lt),it=Be.ab2xy(nt,at,!0),ct=Be.dxydb_rough(nt,at),void 0===tt.angle&&rt.extendFlat(tt,et(Be,We,$e,it,Be.dxyda_rough(nt,at)));drawAxisTitle(Ee,ze,Be,Ue,it,ct,Be.baxis,We,$e,tt,"b-title")}(Ee,Ut,it,We,tt,nt,er,tr),function drawClipPath(Ee,ze,Be,Ue,We){var et,tt,nt,at,it=Be.select("#"+Ee._clipPathId);it.size()||(it=Be.append("clipPath").classed("carpetclip",!0));var ct=rt.ensureSingle(it,"path","carpetboundary"),ft=ze.clipsegments,xt=[];for(at=0;at<ft.length;at++)et=ft[at],tt=$e([],et.x,Ue.c2p),nt=$e([],et.y,We.c2p),xt.push(Qe(tt,nt,et.bicubic));var kt="M"+xt.join("L")+"Z";it.attr("id",Ee._clipPathId),ct.attr("d",kt)}(it,We,at,tt,nt)}))};var at=nt.LINE_SPACING,it=(1-nt.MID_SHIFT)/at+1;function drawAxisTitle(Ee,ze,Be,$e,Qe,rt,nt,ct,ft,xt,kt){var Lt=[];nt.title.text&&Lt.push(nt.title.text);var Ut=ze.selectAll("text."+kt).data(Lt),er=xt.maxExtent;Ut.enter().append("text").classed(kt,!0),Ut.each((function(){var ze=et(Be,ct,ft,Qe,rt);-1===["start","both"].indexOf(nt.showticklabels)&&(er=0);var $e=nt.title.font.size;er+=$e+nt.title.offset;var kt=(xt.angle+(xt.flip<0?180:0)-ze.angle+450)%360,Lt=kt>90&&kt<270,Ut=Ue.select(this);Ut.text(nt.title.text).call(tt.convertToTspans,Ee),Lt&&(er=(-tt.lineCount(Ut)+it)*at*$e-er),Ut.attr("transform","translate("+ze.p[0]+","+ze.p[1]+") rotate("+ze.angle+") translate(0,"+er+")").classed("user-select-none",!0).attr("text-anchor","middle").call(We.font,nt.title.font)})),Ut.exit().remove()}},af50:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("40c0"),layoutAttributes:Be("37e3"),supplyDefaults:Be("11e1"),crossTraceDefaults:Be("722f"),supplyLayoutDefaults:Be("ed16"),calc:Be("0c39").calc,crossTraceCalc:Be("0cec").crossTraceCalc,plot:Be("c791").plot,layerName:"barlayer",style:Be("2df3").style,styleOnSelect:Be("2df3").styleOnSelect,colorbar:Be("f3cf"),hoverPoints:Be("e5d7"),selectPoints:Be("7000"),eventData:Be("6f09"),moduleType:"trace",name:"histogram",basePlotModule:Be("91cd"),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},afdd:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115");Ee.exports=function style(Ee){Ee.each((function(Ee){var ze=Ee[0].trace,Be=ze.error_y||{},$e=ze.error_x||{},Qe=Ue.select(this);Qe.selectAll("path.yerror").style("stroke-width",Be.thickness+"px").call(We.stroke,Be.color),$e.copy_ystyle&&($e=Be),Qe.selectAll("path.xerror").style("stroke-width",$e.thickness+"px").call(We.stroke,$e.color)}))}},aff3:function(Ee,ze,Be){var Ue=Be("5243"),We=Be("d9c2");Ee.exports=function random(Ee,ze){return ze=ze||1,Ee[0]=Math.random(),Ee[1]=Math.random(),Ee[2]=Math.random(),Ee[3]=Math.random(),Ue(Ee,Ee),We(Ee,Ee,ze),Ee}},b00d:function(Ee,ze,Be){"use strict";function countTrailingZeros(Ee){var ze=32;return(Ee&=-Ee)&&ze--,65535&Ee&&(ze-=16),16711935&Ee&&(ze-=8),252645135&Ee&&(ze-=4),858993459&Ee&&(ze-=2),1431655765&Ee&&(ze-=1),ze}ze.INT_BITS=32,ze.INT_MAX=2147483647,ze.INT_MIN=-1<<31,ze.sign=function(Ee){return(Ee>0)-(Ee<0)},ze.abs=function(Ee){var ze=Ee>>31;return(Ee^ze)-ze},ze.min=function(Ee,ze){return ze^(Ee^ze)&-(Ee<ze)},ze.max=function(Ee,ze){return Ee^(Ee^ze)&-(Ee<ze)},ze.isPow2=function(Ee){return!(Ee&Ee-1||!Ee)},ze.log2=function(Ee){var ze,Be;return ze=(Ee>65535)<<4,ze|=Be=((Ee>>>=ze)>255)<<3,ze|=Be=((Ee>>>=Be)>15)<<2,(ze|=Be=((Ee>>>=Be)>3)<<1)|(Ee>>>=Be)>>1},ze.log10=function(Ee){return Ee>=1e9?9:Ee>=1e8?8:Ee>=1e7?7:Ee>=1e6?6:Ee>=1e5?5:Ee>=1e4?4:Ee>=1e3?3:Ee>=100?2:Ee>=10?1:0},ze.popCount=function(Ee){return 16843009*((Ee=(858993459&(Ee-=Ee>>>1&1431655765))+(Ee>>>2&858993459))+(Ee>>>4)&252645135)>>>24},ze.countTrailingZeros=countTrailingZeros,ze.nextPow2=function(Ee){return Ee+=0===Ee,--Ee,Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,(Ee|=Ee>>>16)+1},ze.prevPow2=function(Ee){return Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,(Ee|=Ee>>>16)-(Ee>>>1)},ze.parity=function(Ee){return Ee^=Ee>>>16,Ee^=Ee>>>8,Ee^=Ee>>>4,27030>>>(Ee&=15)&1};var Ue=new Array(256);!function(Ee){for(var ze=0;ze<256;++ze){var Be=ze,Ue=ze,We=7;for(Be>>>=1;Be;Be>>>=1)Ue<<=1,Ue|=1&Be,--We;Ee[ze]=Ue<<We&255}}(Ue),ze.reverse=function(Ee){return Ue[255&Ee]<<24|Ue[Ee>>>8&255]<<16|Ue[Ee>>>16&255]<<8|Ue[Ee>>>24&255]},ze.interleave2=function(Ee,ze){return(Ee=1431655765&((Ee=858993459&((Ee=252645135&((Ee=16711935&((Ee&=65535)|Ee<<8))|Ee<<4))|Ee<<2))|Ee<<1))|(ze=1431655765&((ze=858993459&((ze=252645135&((ze=16711935&((ze&=65535)|ze<<8))|ze<<4))|ze<<2))|ze<<1))<<1},ze.deinterleave2=function(Ee,ze){return(Ee=65535&((Ee=16711935&((Ee=252645135&((Ee=858993459&((Ee=Ee>>>ze&1431655765)|Ee>>>1))|Ee>>>2))|Ee>>>4))|Ee>>>16))<<16>>16},ze.interleave3=function(Ee,ze,Be){return Ee=1227133513&((Ee=3272356035&((Ee=251719695&((Ee=4278190335&((Ee&=1023)|Ee<<16))|Ee<<8))|Ee<<4))|Ee<<2),(Ee|=(ze=1227133513&((ze=3272356035&((ze=251719695&((ze=4278190335&((ze&=1023)|ze<<16))|ze<<8))|ze<<4))|ze<<2))<<1)|(Be=1227133513&((Be=3272356035&((Be=251719695&((Be=4278190335&((Be&=1023)|Be<<16))|Be<<8))|Be<<4))|Be<<2))<<2},ze.deinterleave3=function(Ee,ze){return(Ee=1023&((Ee=4278190335&((Ee=251719695&((Ee=3272356035&((Ee=Ee>>>ze&1227133513)|Ee>>>2))|Ee>>>4))|Ee>>>8))|Ee>>>16))<<22>>22},ze.nextCombination=function(Ee){var ze=Ee|Ee-1;return ze+1|(~ze&-~ze)-1>>>countTrailingZeros(Ee)+1}},b077:function(Ee,ze,Be){"use strict";Ee.exports=function surfaceNets(Ee,ze){if(Ee.dimension<=0)return{positions:[],cells:[]};if(1===Ee.dimension)return function mesh1D(Ee,ze){for(var Be=$e(Ee,ze),Ue=Be.length,We=new Array(Ue),Qe=new Array(Ue),et=0;et<Ue;++et)We[et]=[Be[et]],Qe[et]=[et];return{positions:We,cells:Qe}}(Ee,ze);var Be=Ee.order.join()+"-"+Ee.dtype,et=Qe[Be];ze=+ze||0;et||(et=Qe[Be]=function buildSurfaceNets(Ee,ze){var Be=Ee.length,$e=["'use strict';"],Qe="surfaceNets"+Ee.join("_")+"d"+ze;$e.push("var contour=genContour({","order:[",Ee.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===ze&&$e.push("getters:[0],");for(var et=[],tt=[],rt=0;rt<Be;++rt)et.push("d"+rt),tt.push("d"+rt);for(rt=0;rt<1<<Be;++rt)et.push("v"+rt),tt.push("v"+rt);for(rt=0;rt<1<<Be;++rt)et.push("p"+rt),tt.push("p"+rt);et.push("a","b","c"),tt.push("a","c"),$e.push("vertex:function vertexFunc(",et.join(),"){");var nt=[];for(rt=0;rt<1<<Be;++rt)nt.push("(p"+rt+"<<"+rt+")");$e.push("var m=(",nt.join("+"),")|0;if(m===0||m===",(1<<(1<<Be))-1,"){return}");var at=[],it=[];1<<(1<<Be)<=128?($e.push("switch(m){"),it=$e):$e.push("switch(m>>>7){");for(rt=0;rt<1<<(1<<Be);++rt){if(1<<(1<<Be)>128&&rt%128==0){at.length>0&&it.push("}}");var ct="vExtra"+at.length;$e.push("case ",rt>>>7,":",ct,"(m&0x7f,",tt.join(),");break;"),it=["function ",ct,"(m,",tt.join(),"){switch(m){"],at.push(it)}it.push("case ",127&rt,":");for(var ft=new Array(Be),xt=new Array(Be),kt=new Array(Be),Lt=new Array(Be),Ut=0,er=0;er<Be;++er)ft[er]=[],xt[er]=[],kt[er]=0,Lt[er]=0;for(er=0;er<1<<Be;++er)for(var tr=0;tr<Be;++tr){var rr=er^1<<tr;if(!(rr>er)&&!(rt&1<<rr)!=!(rt&1<<er)){var ar=1;rt&1<<rr?xt[tr].push("v"+rr+"-v"+er):(xt[tr].push("v"+er+"-v"+rr),ar=-ar),ar<0?(ft[tr].push("-v"+er+"-v"+rr),kt[tr]+=2):(ft[tr].push("v"+er+"+v"+rr),kt[tr]-=2),Ut+=1;for(var Lr=0;Lr<Be;++Lr)Lr!==tr&&(rr&1<<Lr?Lt[Lr]+=1:Lt[Lr]-=1)}}var Qr=[];for(tr=0;tr<Be;++tr)if(0===ft[tr].length)Qr.push("d"+tr+"-0.5");else{var on="";kt[tr]<0?on=kt[tr]+"*c":kt[tr]>0&&(on="+"+kt[tr]+"*c");var sn=ft[tr].length/Ut*.5,ln=.5+Lt[tr]/Ut*.5;Qr.push("d"+tr+"-"+ln+"-"+sn+"*("+ft[tr].join("+")+on+")/("+xt[tr].join("+")+")")}it.push("a.push([",Qr.join(),"]);","break;")}$e.push("}},"),at.length>0&&it.push("}}");var cn=[];for(rt=0;rt<1<<Be-1;++rt)cn.push("v"+rt);cn.push("c0","c1","p0","p1","a","b","c"),$e.push("cell:function cellFunc(",cn.join(),"){");var un=We(Be-1);$e.push("if(p0){b.push(",un.map((function(Ee){return"["+Ee.map((function(Ee){return"v"+Ee}))+"]"})).join(),")}else{b.push(",un.map((function(Ee){var ze=Ee.slice();return ze.reverse(),"["+ze.map((function(Ee){return"v"+Ee}))+"]"})).join(),")}}});function ",Qe,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",Qe,";");for(rt=0;rt<at.length;++rt)$e.push(at[rt].join(""));return new Function("genContour",$e.join(""))(Ue)}(Ee.order,Ee.dtype));return et(Ee,ze)};var Ue=Be("05a6"),We=Be("c6e8"),$e=Be("3a55");var Qe={}},b0f1:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("d115");Ee.exports=function style(Ee,ze,Be){var Qe=Be||Ue.select(Ee).selectAll("g.ohlclayer").selectAll("g.trace");Qe.style("opacity",(function(Ee){return Ee[0].trace.opacity})),Qe.each((function(Ee){var ze=Ee[0].trace;Ue.select(this).selectAll("path").each((function(Ee){if(!Ee.empty){var Be=ze[Ee.dir].line;Ue.select(this).style("fill","none").call($e.stroke,Be.color).call(We.dashLine,Be.dash,Be.width).style("opacity",ze.selectedpoints&&!Ee.selected?.3:1)}}))}))}},b113:function(Ee,ze,Be){"use strict";var Ue=Be("be00"),We=Be("0103"),$e=Be("7b1c"),Qe=Be("b7d1"),et=Be("320c"),tt=Be("37cd"),rt=Be("1d19"),nt=rt.float32,at=rt.fract32;Ee.exports=function Error2D(Ee,ze){"function"==typeof Ee?(ze||(ze={}),ze.regl=Ee):ze=Ee;ze.length&&(ze.positions=ze);if(!(Ee=ze.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var Be,rt,ct,ft,xt,kt,Lt=Ee._gl,Ut={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},er=[];return ft=Ee.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),rt=Ee.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),ct=Ee.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),xt=Ee.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),kt=Ee.buffer({usage:"static",type:"float",data:it}),update(ze),Be=Ee({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:Ee.prop("range"),lineWidth:Ee.prop("lineWidth"),capSize:Ee.prop("capSize"),opacity:Ee.prop("opacity"),scale:Ee.prop("scale"),translate:Ee.prop("translate"),scaleFract:Ee.prop("scaleFract"),translateFract:Ee.prop("translateFract"),viewport:function(Ee,ze){return[ze.viewport.x,ze.viewport.y,Ee.viewportWidth,Ee.viewportHeight]}},attributes:{color:{buffer:ft,offset:function(Ee,ze){return 4*ze.offset},divisor:1},position:{buffer:rt,offset:function(Ee,ze){return 8*ze.offset},divisor:1},positionFract:{buffer:ct,offset:function(Ee,ze){return 8*ze.offset},divisor:1},error:{buffer:xt,offset:function(Ee,ze){return 16*ze.offset},divisor:1},direction:{buffer:kt,stride:24,offset:0},lineOffset:{buffer:kt,stride:24,offset:8},capOffset:{buffer:kt,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:Ee.prop("viewport")},viewport:Ee.prop("viewport"),stencil:!1,instances:Ee.prop("count"),count:it.length}),et(error2d,{update:update,draw:draw,destroy:destroy,regl:Ee,gl:Lt,canvas:Lt.canvas,groups:er}),error2d;function error2d(Ee){Ee?update(Ee):null===Ee&&destroy(),draw()}function draw(ze){if("number"==typeof ze)return drawGroup(ze);ze&&!Array.isArray(ze)&&(ze=[ze]),Ee._refresh(),er.forEach((function(Ee,Be){Ee&&(ze&&(ze[Be]?Ee.draw=!0:Ee.draw=!1),Ee.draw?drawGroup(Be):Ee.draw=!0)}))}function drawGroup(Ee){"number"==typeof Ee&&(Ee=er[Ee]),null!=Ee&&Ee&&Ee.count&&Ee.color&&Ee.opacity&&Ee.positions&&Ee.positions.length>1&&(Ee.scaleRatio=[Ee.scale[0]*Ee.viewport.width,Ee.scale[1]*Ee.viewport.height],Be(Ee),Ee.after&&Ee.after(Ee))}function update(Ee){if(Ee){null!=Ee.length?"number"==typeof Ee[0]&&(Ee=[{positions:Ee}]):Array.isArray(Ee)||(Ee=[Ee]);var ze=0,Be=0;if(error2d.groups=er=Ee.map((function(Ee,rt){var nt=er[rt];return Ee?("function"==typeof Ee?Ee={after:Ee}:"number"==typeof Ee[0]&&(Ee={positions:Ee}),Ee=Qe(Ee,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),nt||(er[rt]=nt={id:rt,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},Ee=et({},Ut,Ee)),$e(nt,Ee,[{lineWidth:function(Ee){return.5*+Ee},capSize:function(Ee){return.5*+Ee},opacity:parseFloat,errors:function(Ee){return Ee=tt(Ee),Be+=Ee.length,Ee},positions:function(Ee,Be){return Ee=tt(Ee,"float64"),Be.count=Math.floor(Ee.length/2),Be.bounds=Ue(Ee,2),Be.offset=ze,ze+=Be.count,Ee}},{color:function(Ee,ze){var Be=ze.count;if(Ee||(Ee="transparent"),!Array.isArray(Ee)||"number"==typeof Ee[0]){var Ue=Ee;Ee=Array(Be);for(var $e=0;$e<Be;$e++)Ee[$e]=Ue}if(Ee.length<Be)throw Error("Not enough colors");for(var Qe=new Uint8Array(4*Be),et=0;et<Be;et++){var tt=We(Ee[et],"uint8");Qe.set(tt,4*et)}return Qe},range:function(Ee,ze,Be){var Ue=ze.bounds;return Ee||(Ee=Ue),ze.scale=[1/(Ee[2]-Ee[0]),1/(Ee[3]-Ee[1])],ze.translate=[-Ee[0],-Ee[1]],ze.scaleFract=at(ze.scale),ze.translateFract=at(ze.translate),Ee},viewport:function(Ee){var ze;return Array.isArray(Ee)?ze={x:Ee[0],y:Ee[1],width:Ee[2]-Ee[0],height:Ee[3]-Ee[1]}:Ee?(ze={x:Ee.x||Ee.left||0,y:Ee.y||Ee.top||0},Ee.right?ze.width=Ee.right-ze.x:ze.width=Ee.w||Ee.width||0,Ee.bottom?ze.height=Ee.bottom-ze.y:ze.height=Ee.h||Ee.height||0):ze={x:0,y:0,width:Lt.drawingBufferWidth,height:Lt.drawingBufferHeight},ze}}]),nt):nt})),ze||Be){var it=er.reduce((function(Ee,ze,Be){return Ee+(ze?ze.count:0)}),0),kt=new Float64Array(2*it),tr=new Uint8Array(4*it),rr=new Float32Array(4*it);er.forEach((function(Ee,ze){if(Ee){var Be=Ee.positions,Ue=Ee.count,We=Ee.offset,$e=Ee.color,Qe=Ee.errors;Ue&&(tr.set($e,4*We),rr.set(Qe,4*We),kt.set(Be,2*We))}})),rt(nt(kt)),ct(at(kt)),ft(tr),xt(rr)}}}function destroy(){rt.destroy(),ct.destroy(),ft.destroy(),xt.destroy(),kt.destroy()}};var it=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},b185:function(Ee,ze,Be){"use strict";Ee.exports=Be("14cf")()?Array.from:Be("8fe5")},b19b:function(Ee,ze,Be){"use strict";Ee.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},b1a4:function(Ee,ze,Be){"use strict";ze.pointsAccessorFunction=function(Ee,ze){for(var Be,Ue,We=0;We<Ee.length&&(Be=Ee[We])!==ze;We++)Be._indexToPoints&&!1!==Be.enabled&&(Ue=Be._indexToPoints);return Ue?function(Ee){return Ue[Ee]}:function(Ee){return[Ee]}}},b1a8:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("119e"),$e=Be("ad62").getSubplotData,Qe=Be("0804"),et=Be("45be"),tt=Qe.axesNames;function handleGeoDefaults(Ee,ze,Be,We){var et=$e(We.fullData,"geo",We.id).map((function(Ee){return Ee._expandedIndex})),rt=Be("resolution"),nt=Be("scope"),at=Qe.scopeDefaults[nt],it=Be("projection.type",at.projType),ct=ze._isAlbersUsa="albers usa"===it;ct&&(nt=ze.scope="usa");var ft=ze._isScoped="world"!==nt,xt=ze._isConic=-1!==it.indexOf("conic"),kt=ze._isClipped=!!Qe.lonaxisSpan[it];if(!1===Ee.visible){var Lt=Ue.extendDeep({},ze._template);Lt.showcoastlines=!1,Lt.showcountries=!1,Lt.showframe=!1,Lt.showlakes=!1,Lt.showland=!1,Lt.showocean=!1,Lt.showrivers=!1,Lt.showsubunits=!1,Lt.lonaxis&&(Lt.lonaxis.showgrid=!1),Lt.lataxis&&(Lt.lataxis.showgrid=!1),ze._template=Lt}for(var Ut=Be("visible"),er=0;er<tt.length;er++){var tr,rr=tt[er],ar=[30,10][er];if(ft)tr=at[rr+"Range"];else{var Lr=Qe[rr+"Span"],Qr=(Lr[it]||Lr["*"])/2,on=Be("projection.rotation."+rr.substr(0,3),at.projRotate[er]);tr=[on-Qr,on+Qr]}var sn=Be(rr+".range",tr);Be(rr+".tick0"),Be(rr+".dtick",ar),Be(rr+".showgrid",!!Ut&&void 0)&&(Be(rr+".gridcolor"),Be(rr+".gridwidth")),ze[rr]._ax={type:"linear",_id:rr.slice(0,3),_traceIndices:et,setScale:Ue.identity,c2l:Ue.identity,r2l:Ue.identity,autorange:!0,range:sn.slice(),_m:1,_input:{}}}var ln=ze.lonaxis.range,cn=ze.lataxis.range,un=ln[0],hn=ln[1];un>0&&hn<0&&(hn+=360);var dn,vn,yn,_n=(un+hn)/2;if(!ct){var Mn=ft?at.projRotate:[_n,0,0];dn=Be("projection.rotation.lon",Mn[0]),Be("projection.rotation.lat",Mn[1]),Be("projection.rotation.roll",Mn[2]),Be("showcoastlines",!ft&&Ut)&&(Be("coastlinecolor"),Be("coastlinewidth")),Be("showocean",!!Ut&&void 0)&&Be("oceancolor")}(ct?(vn=-96.6,yn=38.7):(vn=ft?_n:dn,yn=(cn[0]+cn[1])/2),Be("center.lon",vn),Be("center.lat",yn),xt)&&Be("projection.parallels",at.projParallels||[0,60]);Be("projection.scale"),Be("showland",!!Ut&&void 0)&&Be("landcolor"),Be("showlakes",!!Ut&&void 0)&&Be("lakecolor"),Be("showrivers",!!Ut&&void 0)&&(Be("rivercolor"),Be("riverwidth")),Be("showcountries",ft&&"usa"!==nt&&Ut)&&(Be("countrycolor"),Be("countrywidth")),("usa"===nt||"north america"===nt&&50===rt)&&(Be("showsubunits",Ut),Be("subunitcolor"),Be("subunitwidth")),ft||Be("showframe",Ut)&&(Be("framecolor"),Be("framewidth")),Be("bgcolor"),Be("fitbounds")&&(delete ze.projection.scale,ft?(delete ze.center.lon,delete ze.center.lat):kt?(delete ze.center.lon,delete ze.center.lat,delete ze.projection.rotation.lon,delete ze.projection.rotation.lat,delete ze.lonaxis.range,delete ze.lataxis.range):(delete ze.center.lon,delete ze.center.lat,delete ze.projection.rotation.lon))}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){We(Ee,ze,Be,{type:"geo",attributes:et,handleDefaults:handleGeoDefaults,fullData:Be,partition:"y"})}},b1c9:function(Ee,ze){Ee.exports=function determinant(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2],We=Ee[3],$e=Ee[4],Qe=Ee[5],et=Ee[6],tt=Ee[7],rt=Ee[8],nt=Ee[9],at=Ee[10],it=Ee[11],ct=Ee[12],ft=Ee[13],xt=Ee[14],kt=Ee[15];return(ze*Qe-Be*$e)*(at*kt-it*xt)-(ze*et-Ue*$e)*(nt*kt-it*ft)+(ze*tt-We*$e)*(nt*xt-at*ft)+(Be*et-Ue*Qe)*(rt*kt-it*ct)-(Be*tt-We*Qe)*(rt*xt-at*ct)+(Ue*tt-We*et)*(rt*ft-nt*ct)}},b1ca:function(Ee,ze){Ee.exports=function negate(Ee,ze){return Ee[0]=-ze[0],Ee[1]=-ze[1],Ee[2]=-ze[2],Ee[3]=-ze[3],Ee}},b205:function(Ee,ze,Be){"use strict";var Ue=Be("c1a7"),We=Be("1ddb");function ExtensionShim(Ee){this.bindVertexArrayOES=Ee.bindVertexArray.bind(Ee),this.createVertexArrayOES=Ee.createVertexArray.bind(Ee),this.deleteVertexArrayOES=Ee.deleteVertexArray.bind(Ee)}Ee.exports=function createVAO(Ee,ze,Be,$e){var Qe,et=Ee.createVertexArray?new ExtensionShim(Ee):Ee.getExtension("OES_vertex_array_object");return(Qe=et?Ue(Ee,et):We(Ee)).update(ze,Be,$e),Qe}},b205c:function(Ee,ze,Be){"use strict";Ee.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},b2dd:function(Ee,ze,Be){var Ue=Be("0004"),We=Be("eaff");Ee.exports=function getName(Ee){for(var ze=Array.isArray(Ee)?Ee:Ue(Ee),Be=0;Be<ze.length;Be++){var $e=ze[Be];if("preprocessor"===$e.type){var Qe=$e.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(Qe&&Qe[2]){var et=Qe[1],tt=Qe[2];return(et?We(tt):tt).trim()}}}}},b326:function(Ee,ze,Be){"use strict";Ee.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},b332:function(Ee,ze){Ee.exports=function hiddenStore(Ee,ze){var Be={identity:ze},Ue=Ee.valueOf;return Object.defineProperty(Ee,"valueOf",{value:function(Ee){return Ee!==ze?Ue.apply(this,arguments):Be},writable:!0}),Be}},b336:function(Ee,ze,Be){Ee.exports=function alphaShape(Ee,ze){return We(Ue(Ee,ze))};var Ue=Be("7bbc"),We=Be("21d9")},b353:function(Ee,ze,Be){"use strict";var Ue=Be("bb71");ze.name="sunburst",ze.plot=function(Ee,Be,We,$e){Ue.plotBasePlot(ze.name,Ee,Be,We,$e)},ze.clean=function(Ee,Be,We,$e){Ue.cleanBasePlot(ze.name,Ee,Be,We,$e)}},b380:function(Ee,ze,Be){"use strict";var Ue=Be("1126");Ee.exports=function(Ee){if(!Ue(Ee))throw new TypeError(Ee+" is not a symbol");return Ee}},b42a:function(Ee,ze,Be){var Ue=Be("ae14");Ee.exports=function lookupConstant(Ee){return Ue[Ee]}},b43b:function(Ee,ze,Be){"use strict";var Ue=Be("1385"),We=Be("b778"),$e=Be("ae13"),Qe=Be("dc75").sorterAsc,et=Be("371e");ze.containerArrayMatch=Be("a7de");var tt=ze.isAddVal=function isAddVal(Ee){return"add"===Ee||Ue(Ee)},rt=ze.isRemoveVal=function isRemoveVal(Ee){return null===Ee||"remove"===Ee};ze.applyContainerArrayChanges=function applyContainerArrayChanges(Ee,ze,Be,Ue,nt){var at=ze.astr,it=et.getComponentMethod(at,"supplyLayoutDefaults"),ct=et.getComponentMethod(at,"draw"),ft=et.getComponentMethod(at,"drawOne"),xt=Ue.replot||Ue.recalc||it===We||ct===We,kt=Ee.layout,Lt=Ee._fullLayout;if(Be[""]){Object.keys(Be).length>1&&$e.warn("Full array edits are incompatible with other edits",at);var Ut=Be[""][""];if(rt(Ut))ze.set(null);else{if(!Array.isArray(Ut))return $e.warn("Unrecognized full array edit value",at,Ut),!0;ze.set(Ut)}return!xt&&(it(kt,Lt),ct(Ee),!0)}var er,tr,rr,ar,Lr,Qr,on,sn,ln=Object.keys(Be).map(Number).sort(Qe),cn=ze.get(),un=cn||[],hn=nt(Lt,at).get(),dn=[],vn=-1,yn=un.length;for(er=0;er<ln.length;er++)if(ar=Be[rr=ln[er]],Lr=Object.keys(ar),Qr=ar[""],on=tt(Qr),rr<0||rr>un.length-(on?0:1))$e.warn("index out of range",at,rr);else if(void 0!==Qr)Lr.length>1&&$e.warn("Insertion & removal are incompatible with edits to the same index.",at,rr),rt(Qr)?dn.push(rr):on?("add"===Qr&&(Qr={}),un.splice(rr,0,Qr),hn&&hn.splice(rr,0,{})):$e.warn("Unrecognized full object edit value",at,rr,Qr),-1===vn&&(vn=rr);else for(tr=0;tr<Lr.length;tr++)sn=at+"["+rr+"].",nt(un[rr],Lr[tr],sn).set(ar[Lr[tr]]);for(er=dn.length-1;er>=0;er--)un.splice(dn[er],1),hn&&hn.splice(dn[er],1);if(un.length?cn||ze.set(un):ze.set(null),xt)return!1;if(it(kt,Lt),ft!==We){var _n;if(-1===vn)_n=ln;else{for(yn=Math.max(un.length,yn),_n=[],er=0;er<ln.length&&!((rr=ln[er])>=vn);er++)_n.push(rr);for(er=vn;er<yn;er++)_n.push(er)}for(er=0;er<_n.length;er++)ft(Ee,_n[er])}else ct(Ee);return!0}},b44d:function(Ee,ze,Be){"use strict";var Ue=Be("e98f"),We=Ue(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);Ee.exports={lineVert:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:We,textVert:Ue(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:We,gridVert:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:We,boxVert:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},b4c7:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("83d1");Ee.exports={style:function style(Ee,ze,Be){var Qe=Be||Ue.select(Ee).selectAll("g.trace.boxes");Qe.style("opacity",(function(Ee){return Ee[0].trace.opacity})),Qe.each((function(ze){var Be=Ue.select(this),Qe=ze[0].trace,et=Qe.line.width;function styleBox(Ee,ze,Be,Ue){Ee.style("stroke-width",ze+"px").call(We.stroke,Be).call(We.fill,Ue)}var tt=Be.selectAll("path.box");if("candlestick"===Qe.type)tt.each((function(Ee){if(!Ee.empty){var ze=Ue.select(this),Be=Qe[Ee.dir];styleBox(ze,Be.line.width,Be.line.color,Be.fillcolor),ze.style("opacity",Qe.selectedpoints&&!Ee.selected?.3:1)}}));else{styleBox(tt,et,Qe.line.color,Qe.fillcolor),Be.selectAll("path.mean").style({"stroke-width":et,"stroke-dasharray":2*et+"px,"+et+"px"}).call(We.stroke,Qe.line.color);var rt=Be.selectAll("path.point");$e.pointStyle(rt,Qe,Ee)}}))},styleOnSelect:function styleOnSelect(Ee,ze,Be){var Ue=ze[0].trace,We=Be.selectAll("path.point");Ue.selectedpoints?$e.selectedPointStyle(We,Ue):$e.pointStyle(We,Ue,Ee)}}},b530:function(Ee,ze,Be){Ee.exports=Be("40ce")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},b539:function(Ee,ze,Be){"use strict";var Ue=Be("0cec").setGroupPositions;Ee.exports=function crossTraceCalc(Ee,ze){var Be,We,$e=Ee._fullLayout,Qe=Ee._fullData,et=Ee.calcdata,tt=ze.xaxis,rt=ze.yaxis,nt=[],at=[],it=[];for(We=0;We<Qe.length;We++){var ct=Qe[We];!0===ct.visible&&ct.xaxis===tt._id&&ct.yaxis===rt._id&&"waterfall"===ct.type&&(Be=et[We],"h"===ct.orientation?it.push(Be):at.push(Be),nt.push(Be))}var ft={mode:$e.waterfallmode,norm:$e.waterfallnorm,gap:$e.waterfallgap,groupgap:$e.waterfallgroupgap};for(Ue(Ee,tt,rt,at,ft),Ue(Ee,rt,tt,it,ft),We=0;We<nt.length;We++){Be=nt[We];for(var xt=0;xt<Be.length;xt++){var kt=Be[xt];!1===kt.isSum&&(kt.s0+=0===xt?0:Be[xt-1].s),xt+1<Be.length&&(Be[xt].nextP0=Be[xt+1].p0,Be[xt].nextS0=Be[xt+1].s0)}}}},b5bb:function(Ee,ze,Be){var Ue=Be("20314"),We=Be("044b"),$e="undefined"!=typeof Float64Array;function compare1st(Ee,ze){return Ee[0]-ze[0]}function order(){var Ee,ze=this.stride,Be=new Array(ze.length);for(Ee=0;Ee<Be.length;++Ee)Be[Ee]=[Math.abs(ze[Ee]),Ee];Be.sort(compare1st);var Ue=new Array(Be.length);for(Ee=0;Ee<Ue.length;++Ee)Ue[Ee]=Be[Ee][1];return Ue}function compileConstructor(Ee,ze){var Be=["View",ze,"d",Ee].join("");ze<0&&(Be="View_Nil"+Ee);var We="generic"===Ee;if(-1===ze){var $e="function "+Be+"(a){this.data=a;};var proto="+Be+".prototype;proto.dtype='"+Ee+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+Be+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+Be+"(a){return new "+Be+"(a);}";return new Function($e)()}if(0===ze){$e="function "+Be+"(a,d) {this.data = a;this.offset = d};var proto="+Be+".prototype;proto.dtype='"+Ee+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+Be+"_copy() {return new "+Be+"(this.data,this.offset)};proto.pick=function "+Be+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+Be+"_get(){return "+(We?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+Be+"_set(v){return "+(We?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+Be+"(a,b,c,d){return new "+Be+"(a,d)}";return new Function("TrivialArray",$e)(Qe[Ee][0])}$e=["'use strict'"];var et=Ue(ze),tt=et.map((function(Ee){return"i"+Ee})),rt="this.offset+"+et.map((function(Ee){return"this.stride["+Ee+"]*i"+Ee})).join("+"),nt=et.map((function(Ee){return"b"+Ee})).join(","),at=et.map((function(Ee){return"c"+Ee})).join(",");$e.push("function "+Be+"(a,"+nt+","+at+",d){this.data=a","this.shape=["+nt+"]","this.stride=["+at+"]","this.offset=d|0}","var proto="+Be+".prototype","proto.dtype='"+Ee+"'","proto.dimension="+ze),$e.push("Object.defineProperty(proto,'size',{get:function "+Be+"_size(){return "+et.map((function(Ee){return"this.shape["+Ee+"]"})).join("*"),"}})"),1===ze?$e.push("proto.order=[0]"):($e.push("Object.defineProperty(proto,'order',{get:"),ze<4?($e.push("function "+Be+"_order(){"),2===ze?$e.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===ze&&$e.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):$e.push("ORDER})")),$e.push("proto.set=function "+Be+"_set("+tt.join(",")+",v){"),We?$e.push("return this.data.set("+rt+",v)}"):$e.push("return this.data["+rt+"]=v}"),$e.push("proto.get=function "+Be+"_get("+tt.join(",")+"){"),We?$e.push("return this.data.get("+rt+")}"):$e.push("return this.data["+rt+"]}"),$e.push("proto.index=function "+Be+"_index(",tt.join(),"){return "+rt+"}"),$e.push("proto.hi=function "+Be+"_hi("+tt.join(",")+"){return new "+Be+"(this.data,"+et.map((function(Ee){return["(typeof i",Ee,"!=='number'||i",Ee,"<0)?this.shape[",Ee,"]:i",Ee,"|0"].join("")})).join(",")+","+et.map((function(Ee){return"this.stride["+Ee+"]"})).join(",")+",this.offset)}");var it=et.map((function(Ee){return"a"+Ee+"=this.shape["+Ee+"]"})),ct=et.map((function(Ee){return"c"+Ee+"=this.stride["+Ee+"]"}));$e.push("proto.lo=function "+Be+"_lo("+tt.join(",")+"){var b=this.offset,d=0,"+it.join(",")+","+ct.join(","));for(var ft=0;ft<ze;++ft)$e.push("if(typeof i"+ft+"==='number'&&i"+ft+">=0){d=i"+ft+"|0;b+=c"+ft+"*d;a"+ft+"-=d}");$e.push("return new "+Be+"(this.data,"+et.map((function(Ee){return"a"+Ee})).join(",")+","+et.map((function(Ee){return"c"+Ee})).join(",")+",b)}"),$e.push("proto.step=function "+Be+"_step("+tt.join(",")+"){var "+et.map((function(Ee){return"a"+Ee+"=this.shape["+Ee+"]"})).join(",")+","+et.map((function(Ee){return"b"+Ee+"=this.stride["+Ee+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(ft=0;ft<ze;++ft)$e.push("if(typeof i"+ft+"==='number'){d=i"+ft+"|0;if(d<0){c+=b"+ft+"*(a"+ft+"-1);a"+ft+"=ceil(-a"+ft+"/d)}else{a"+ft+"=ceil(a"+ft+"/d)}b"+ft+"*=d}");$e.push("return new "+Be+"(this.data,"+et.map((function(Ee){return"a"+Ee})).join(",")+","+et.map((function(Ee){return"b"+Ee})).join(",")+",c)}");var xt=new Array(ze),kt=new Array(ze);for(ft=0;ft<ze;++ft)xt[ft]="a[i"+ft+"]",kt[ft]="b[i"+ft+"]";$e.push("proto.transpose=function "+Be+"_transpose("+tt+"){"+tt.map((function(Ee,ze){return Ee+"=("+Ee+"===undefined?"+ze+":"+Ee+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+Be+"(this.data,"+xt.join(",")+","+kt.join(",")+",this.offset)}"),$e.push("proto.pick=function "+Be+"_pick("+tt+"){var a=[],b=[],c=this.offset");for(ft=0;ft<ze;++ft)$e.push("if(typeof i"+ft+"==='number'&&i"+ft+">=0){c=(c+this.stride["+ft+"]*i"+ft+")|0}else{a.push(this.shape["+ft+"]);b.push(this.stride["+ft+"])}");return $e.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),$e.push("return function construct_"+Be+"(data,shape,stride,offset){return new "+Be+"(data,"+et.map((function(Ee){return"shape["+Ee+"]"})).join(",")+","+et.map((function(Ee){return"stride["+Ee+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",$e.join("\n"))(Qe[Ee],order)}var Qe={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};Ee.exports=function wrappedNDArrayCtor(Ee,ze,Be,Ue){if(void 0===Ee)return(0,Qe.array[0])([]);"number"==typeof Ee&&(Ee=[Ee]),void 0===ze&&(ze=[Ee.length]);var et=ze.length;if(void 0===Be){Be=new Array(et);for(var tt=et-1,rt=1;tt>=0;--tt)Be[tt]=rt,rt*=ze[tt]}if(void 0===Ue){Ue=0;for(tt=0;tt<et;++tt)Be[tt]<0&&(Ue-=(ze[tt]-1)*Be[tt])}for(var nt=function arrayDType(Ee){if(We(Ee))return"buffer";if($e)switch(Object.prototype.toString.call(Ee)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(Ee)?"array":"generic"}(Ee),at=Qe[nt];at.length<=et+1;)at.push(compileConstructor(nt,at.length-1));return(0,at[et+1])(Ee,ze,Be,Ue)}},b5e2:function(Ee,ze,Be){"use strict";var Ue=Be("371e").traceIs,We=Be("0b77");function getBoxPosLetter(Ee){return{v:"x",h:"y"}[Ee.orientation||"v"]}function isBoxWithoutPositionCoords(Ee,ze){var Be=getBoxPosLetter(Ee),We=Ue(Ee,"box-violin"),$e=Ue(Ee._fullInput||{},"candlestick");return We&&!$e&&ze===Be&&void 0===Ee[Be]&&void 0===Ee[Be+"0"]}Ee.exports=function handleTypeDefaults(Ee,ze,Be,$e){"-"===Be("type",($e.splomStash||{}).type)&&(!function setAutoType(Ee,ze){if("-"!==Ee.type)return;var Be,$e=Ee._id,Qe=$e.charAt(0);-1!==$e.indexOf("scene")&&($e=Qe);var et=function getFirstNonEmptyTrace(Ee,ze,Be){for(var Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue];if("splom"===We.type&&We._length>0&&(We["_"+Be+"axes"]||{})[ze])return We;if((We[Be+"axis"]||Be)===ze){if(isBoxWithoutPositionCoords(We,Be))return We;if((We[Be]||[]).length||We[Be+"0"])return We}}}(ze,$e,Qe);if(!et)return;if("histogram"===et.type&&Qe==={v:"y",h:"x"}[et.orientation||"v"])return void(Ee.type="linear");var tt=Qe+"calendar",rt=et[tt],nt={noMultiCategory:!Ue(et,"cartesian")||Ue(et,"noMultiCategory")};"box"===et.type&&et._hasPreCompStats&&Qe==={h:"x",v:"y"}[et.orientation||"v"]&&(nt.noMultiCategory=!0);if(isBoxWithoutPositionCoords(et,Qe)){var at=getBoxPosLetter(et),it=[];for(Be=0;Be<ze.length;Be++){var ct=ze[Be];Ue(ct,"box-violin")&&(ct[Qe+"axis"]||Qe)===$e&&(void 0!==ct[at]?it.push(ct[at][0]):void 0!==ct.name?it.push(ct.name):it.push("text"),ct[tt]!==rt&&(rt=void 0))}Ee.type=We(it,rt,nt)}else if("splom"===et.type){var ft=et.dimensions[et._axesDim[$e]];ft.visible&&(Ee.type=We(ft.values,rt,nt))}else Ee.type=We(et[Qe]||[et[Qe+"0"]],rt,nt)}(ze,$e.data),"-"===ze.type?ze.type="linear":Ee.type=ze.type)}},b5e3:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("2c8d"),Qe=Be("fc26"),et=Qe.nestedProperty,tt=Be("8741"),rt=Be("c6b6b"),nt=Be("371e"),at=Be("6921"),it=Be("bb71"),ct=Be("5506"),ft=Be("0642"),xt=Be("83d1"),kt=Be("d115"),Lt=Be("1aea").initInteractions,Ut=Be("73c9"),er=Be("0379"),tr=Be("1876").clearSelect,rr=Be("3ff5").dfltConfig,ar=Be("b43b"),Lr=Be("c497"),Qr=Be("a392"),on=Be("cb34"),sn=Be("d301").AX_NAME_PATTERN,ln=0;function emitAfterPlot(Ee){var ze=Ee._fullLayout;ze._redrawFromAutoMarginCount?ze._redrawFromAutoMarginCount--:Ee.emit("plotly_afterplot")}function setBackground(Ee,ze){try{Ee._fullLayout._paper.style("background",ze)}catch(Ee){Qe.error(Ee)}}function opaqueSetBackground(Ee,ze){setBackground(Ee,kt.combine(ze,"white"))}function setPlotContext(Ee,ze){if(!Ee._context){Ee._context=Qe.extendDeep({},rr);var Be=Ue.select("base");Ee._context._baseUrl=Be.size()&&Be.attr("href")?window.location.href.split("#")[0]:""}var We,et,tt,rt=Ee._context;if(ze){for(et=Object.keys(ze),We=0;We<et.length;We++)"editable"!==(tt=et[We])&&"edits"!==tt&&tt in rt&&("setBackground"===tt&&"opaque"===ze[tt]?rt[tt]=opaqueSetBackground:rt[tt]=ze[tt]);ze.plot3dPixelRatio&&!rt.plotGlPixelRatio&&(rt.plotGlPixelRatio=rt.plot3dPixelRatio);var nt=ze.editable;if(void 0!==nt)for(rt.editable=nt,et=Object.keys(rt.edits),We=0;We<et.length;We++)rt.edits[et[We]]=nt;if(ze.edits)for(et=Object.keys(ze.edits),We=0;We<et.length;We++)(tt=et[We])in rt.edits&&(rt.edits[tt]=ze.edits[tt]);rt._exportedPlot=ze._exportedPlot}rt.staticPlot&&(rt.editable=!1,rt.edits={},rt.autosizable=!1,rt.scrollZoom=!1,rt.doubleClick=!1,rt.showTips=!1,rt.showLink=!1,rt.displayModeBar=!1),"hover"!==rt.displayModeBar||$e||(rt.displayModeBar=!0),"transparent"!==rt.setBackground&&"function"==typeof rt.setBackground||(rt.setBackground=setBackground),rt._hasZeroHeight=rt._hasZeroHeight||0===Ee.clientHeight,rt._hasZeroWidth=rt._hasZeroWidth||0===Ee.clientWidth;var at=rt.scrollZoom,it=rt._scrollZoom={};if(!0===at)it.cartesian=1,it.gl3d=1,it.geo=1,it.mapbox=1;else if("string"==typeof at){var ct=at.split("+");for(We=0;We<ct.length;We++)it[ct[We]]=1}else!1!==at&&(it.gl3d=1,it.geo=1,it.mapbox=1)}function positivifyIndices(Ee,ze){var Be,Ue,We=ze+1,$e=[];for(Be=0;Be<Ee.length;Be++)(Ue=Ee[Be])<0?$e.push(We+Ue):$e.push(Ue);return $e}function assertIndexArray(Ee,ze,Be){var Ue,We;for(Ue=0;Ue<ze.length;Ue++){if((We=ze[Ue])!==parseInt(We,10))throw new Error("all values in "+Be+" must be integers");if(We>=Ee.data.length||We<-Ee.data.length)throw new Error(Be+" must be valid indices for gd.data.");if(ze.indexOf(We,Ue+1)>-1||We>=0&&ze.indexOf(-Ee.data.length+We)>-1||We<0&&ze.indexOf(Ee.data.length+We)>-1)throw new Error("each index in "+Be+" must be unique.")}}function checkMoveTracesArgs(Ee,ze,Be){if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(void 0===ze)throw new Error("currentIndices is a required argument.");if(Array.isArray(ze)||(ze=[ze]),assertIndexArray(Ee,ze,"currentIndices"),void 0===Be||Array.isArray(Be)||(Be=[Be]),void 0!==Be&&assertIndexArray(Ee,Be,"newIndices"),void 0!==Be&&ze.length!==Be.length)throw new Error("current and new indices must be of equal length.")}function spliceTraces(Ee,ze,Be,Ue,$e){!function assertExtendTracesArgs(Ee,ze,Be,Ue){var We=Qe.isPlainObject(Ue);if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array");if(!Qe.isPlainObject(ze))throw new Error("update must be a key:value object");if(void 0===Be)throw new Error("indices must be an integer or array of integers");for(var $e in assertIndexArray(Ee,Be,"indices"),ze){if(!Array.isArray(ze[$e])||ze[$e].length!==Be.length)throw new Error("attribute "+$e+" must be an array of length equal to indices array length");if(We&&(!($e in Ue)||!Array.isArray(Ue[$e])||Ue[$e].length!==ze[$e].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Ee,ze,Be,Ue);for(var tt=function getExtendProperties(Ee,ze,Be,Ue){var $e,tt,rt,nt,at,it=Qe.isPlainObject(Ue),ct=[];for(var ft in Array.isArray(Be)||(Be=[Be]),Be=positivifyIndices(Be,Ee.data.length-1),ze)for(var xt=0;xt<Be.length;xt++){if($e=Ee.data[Be[xt]],tt=(rt=et($e,ft)).get(),nt=ze[ft][xt],!Qe.isArrayOrTypedArray(nt))throw new Error("attribute: "+ft+" index: "+xt+" must be an array");if(!Qe.isArrayOrTypedArray(tt))throw new Error("cannot extend missing or non-array attribute: "+ft);if(tt.constructor!==nt.constructor)throw new Error("cannot extend array with an array of a different type: "+ft);at=it?Ue[ft][xt]:Ue,We(at)||(at=-1),ct.push({prop:rt,target:tt,insert:nt,maxp:Math.floor(at)})}return ct}(Ee,ze,Be,Ue),rt={},nt={},at=0;at<tt.length;at++){var it=tt[at].prop,ct=tt[at].maxp,ft=$e(tt[at].target,tt[at].insert,ct);it.set(ft[0]),Array.isArray(rt[it.astr])||(rt[it.astr]=[]),rt[it.astr].push(ft[1]),Array.isArray(nt[it.astr])||(nt[it.astr]=[]),nt[it.astr].push(tt[at].target.length)}return{update:rt,maxPoints:nt}}function concatTypedArray(Ee,ze){var Be=new Ee.constructor(Ee.length+ze.length);return Be.set(Ee),Be.set(ze,Ee.length),Be}function restyle(Ee,Be,Ue,We){Ee=Qe.getGraphDiv(Ee),Lr.clearPromiseQueue(Ee);var $e={};if("string"==typeof Be)$e[Be]=Ue;else{if(!Qe.isPlainObject(Be))return Qe.warn("Restyle fail.",Be,Ue,We),Promise.reject();$e=Qe.extendFlat({},Be),void 0===We&&(We=Ue)}Object.keys($e).length&&(Ee.changed=!0);var et=Lr.coerceTraceIndices(Ee,We),tt=_restyle(Ee,$e,et),nt=tt.flags;nt.calc&&(Ee.calcdata=void 0),nt.clearAxisTypes&&Lr.clearAxisTypes(Ee,et,{});var at=[];nt.fullReplot?at.push(ze.plot):(at.push(it.previousPromises),it.supplyDefaults(Ee),nt.markerSize&&(it.doCalcdata(Ee),addAxRangeSequence(at)),nt.style&&at.push(Qr.doTraceStyle),nt.colorbars&&at.push(Qr.doColorBars),at.push(emitAfterPlot)),at.push(it.rehover,it.redrag),rt.add(Ee,restyle,[Ee,tt.undoit,tt.traces],restyle,[Ee,tt.redoit,tt.traces]);var ct=Qe.syncOrAsync(at,Ee);return ct&&ct.then||(ct=Promise.resolve()),ct.then((function(){return Ee.emit("plotly_restyle",tt.eventData),Ee}))}function undefinedToNull(Ee){return void 0===Ee?null:Ee}function makeNP(Ee,ze){return ze?function(ze,Be,Ue){var We=et(ze,Be),$e=We.set;return We.set=function(ze){storeCurrent((Ue||"")+Be,We.get(),ze,Ee),$e(ze)},We}:et}function storeCurrent(Ee,ze,Be,Ue){if(Array.isArray(ze)||Array.isArray(Be))for(var We=Array.isArray(ze)?ze:[],$e=Array.isArray(Be)?Be:[],et=Math.max(We.length,$e.length),tt=0;tt<et;tt++)storeCurrent(Ee+"["+tt+"]",We[tt],$e[tt],Ue);else if(Qe.isPlainObject(ze)||Qe.isPlainObject(Be)){var rt=Qe.isPlainObject(ze)?ze:{},nt=Qe.isPlainObject(Be)?Be:{},at=Qe.extendFlat({},rt,nt);for(var it in at)storeCurrent(Ee+"."+it,rt[it],nt[it],Ue)}else void 0===Ue[Ee]&&(Ue[Ee]=undefinedToNull(ze))}function _restyle(Ee,ze,Be){var Ue,We=Ee._fullLayout,$e=Ee._fullData,tt=Ee.data,rt=We._guiEditing,ct=makeNP(We._preGUI,rt),xt=Qe.extendDeepAll({},ze);cleanDeprecatedAttributeKeys(ze);var kt,Lt=on.traceFlags(),Ut={},er={};function a0(){return Be.map((function(){}))}function addToAxlist(Ee){var ze=ft.id2name(Ee);-1===kt.indexOf(ze)&&kt.push(ze)}function autorangeAttr(Ee){return"LAYOUT"+Ee+".autorange"}function rangeAttr(Ee){return"LAYOUT"+Ee+".range"}function getFullTrace(Ee){for(var ze=Ee;ze<$e.length;ze++)if($e[ze]._input===tt[Ee])return $e[ze]}function doextra(Ue,$e,Qe){if(Array.isArray(Ue))Ue.forEach((function(Ee){doextra(Ee,$e,Qe)}));else if(!(Ue in ze)&&!Lr.hasParent(ze,Ue)){var et;if("LAYOUT"===Ue.substr(0,6))et=ct(Ee.layout,Ue.replace("LAYOUT",""));else{var nt=Be[Qe];et=makeNP(We._tracePreGUI[getFullTrace(nt)._fullInput.uid],rt)(tt[nt],Ue)}Ue in er||(er[Ue]=a0()),void 0===er[Ue][Qe]&&(er[Ue][Qe]=undefinedToNull(et.get())),void 0!==$e&&et.set($e)}}function allBins(Ee){return function(ze){return $e[ze][Ee]}}function arrayBins(Ee){return function(ze,Ue){return!1===ze?$e[Be[Ue]][Ee]:null}}for(var tr in ze){if(Lr.hasParent(ze,tr))throw new Error("cannot set "+tr+" and a parent attribute simultaneously");var rr,ar,Qr,sn,ln,cn,un=ze[tr];if("autobinx"!==tr&&"autobiny"!==tr||(tr=tr.charAt(tr.length-1)+"bins",un=Array.isArray(un)?un.map(arrayBins(tr)):!1===un?Be.map(allBins(tr)):null),Ut[tr]=un,"LAYOUT"!==tr.substr(0,6)){for(er[tr]=a0(),Ue=0;Ue<Be.length;Ue++){if(rr=tt[Be[Ue]],ar=getFullTrace(Be[Ue]),sn=(Qr=makeNP(We._tracePreGUI[ar._fullInput.uid],rt)(rr,tr)).get(),void 0!==(ln=Array.isArray(un)?un[Ue%un.length]:un)){var hn=Qr.parts[Qr.parts.length-1],dn=tr.substr(0,tr.length-hn.length-1),vn=dn?dn+".":"",yn=dn?et(ar,dn).get():ar;if((cn=at.getTraceValObject(ar,Qr.parts))&&cn.impliedEdits&&null!==ln)for(var _n in cn.impliedEdits)doextra(Qe.relativeAttr(tr,_n),cn.impliedEdits[_n],Ue);else if("thicknessmode"!==hn&&"lenmode"!==hn||sn===ln||"fraction"!==ln&&"pixels"!==ln||!yn){if("type"===tr&&("pie"===ln!=("pie"===sn)||"funnelarea"===ln!=("funnelarea"===sn))){var Mn="x",Cn="y";"bar"!==ln&&"bar"!==sn||"h"!==rr.orientation||(Mn="y",Cn="x"),Qe.swapAttrs(rr,["?","?src"],"labels",Mn),Qe.swapAttrs(rr,["d?","?0"],"label",Mn),Qe.swapAttrs(rr,["?","?src"],"values",Cn),"pie"===sn||"funnelarea"===sn?(et(rr,"marker.color").set(et(rr,"marker.colors").get()),We._pielayer.selectAll("g.trace").remove()):nt.traceIs(rr,"cartesian")&&et(rr,"marker.colors").set(et(rr,"marker.color").get())}}else{var En=We._size,Pn=yn.orient,In="top"===Pn||"bottom"===Pn;if("thicknessmode"===hn){var Bn=In?En.h:En.w;doextra(vn+"thickness",yn.thickness*("fraction"===ln?1/Bn:Bn),Ue)}else{var Hn=In?En.w:En.h;doextra(vn+"len",yn.len*("fraction"===ln?1/Hn:Hn),Ue)}}er[tr][Ue]=undefinedToNull(sn);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(tr)){if("orientation"===tr){Qr.set(ln);var Kn=rr.x&&!rr.y?"h":"v";if((Qr.get()||Kn)===ar.orientation)continue}else"orientationaxes"===tr&&(rr.orientation={v:"h",h:"v"}[ar.orientation]);Lr.swapXYData(rr),Lt.calc=Lt.clearAxisTypes=!0}else-1!==it.dataArrayContainers.indexOf(Qr.parts[0])?(Lr.manageArrayContainers(Qr,ln,er),Lt.calc=!0):(cn?cn.arrayOk&&!nt.traceIs(ar,"regl")&&(Qe.isArrayOrTypedArray(ln)||Qe.isArrayOrTypedArray(sn))?Lt.calc=!0:on.update(Lt,cn):Lt.calc=!0,Qr.set(ln))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(tr)&&ft.swap(Ee,Be),"orientationaxes"===tr){var Jn=et(Ee.layout,"hovermode");"x"===Jn.get()?Jn.set("y"):"y"===Jn.get()&&Jn.set("x")}if(-1!==["orientation","type"].indexOf(tr)){for(kt=[],Ue=0;Ue<Be.length;Ue++){var Ma=tt[Be[Ue]];nt.traceIs(Ma,"cartesian")&&(addToAxlist(Ma.xaxis||"x"),addToAxlist(Ma.yaxis||"y"))}doextra(kt.map(autorangeAttr),!0,0),doextra(kt.map(rangeAttr),[0,1],0)}}else Qr=ct(Ee.layout,tr.replace("LAYOUT","")),er[tr]=[undefinedToNull(Qr.get())],Qr.set(Array.isArray(un)?un[0]:un),Lt.calc=!0}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),{flags:Lt,undoit:er,redoit:Ut,traces:Be,eventData:Qe.extendDeepNoArrays([],[xt,Be])}}function cleanDeprecatedAttributeKeys(Ee){var ze,Be,Ue,We=Qe.counterRegex("axis",".title",!1,!1),$e=/colorbar\.title$/,et=Object.keys(Ee);for(ze=0;ze<et.length;ze++)Be=et[ze],Ue=Ee[Be],"title"!==Be&&!We.test(Be)&&!$e.test(Be)||"string"!=typeof Ue&&"number"!=typeof Ue?Be.indexOf("titlefont")>-1?replace(Be,Be.replace("titlefont","title.font")):Be.indexOf("titleposition")>-1?replace(Be,Be.replace("titleposition","title.position")):Be.indexOf("titleside")>-1?replace(Be,Be.replace("titleside","title.side")):Be.indexOf("titleoffset")>-1&&replace(Be,Be.replace("titleoffset","title.offset")):replace(Be,Be.replace("title","title.text"));function replace(ze,Be){Ee[Be]=Ee[ze],delete Ee[ze]}}function relayout(Ee,ze,Be){if(Ee=Qe.getGraphDiv(Ee),Lr.clearPromiseQueue(Ee),Ee.framework&&Ee.framework.isPolar)return Promise.resolve(Ee);var Ue={};if("string"==typeof ze)Ue[ze]=Be;else{if(!Qe.isPlainObject(ze))return Qe.warn("Relayout fail.",ze,Be),Promise.reject();Ue=Qe.extendFlat({},ze)}Object.keys(Ue).length&&(Ee.changed=!0);var We=_relayout(Ee,Ue),$e=We.flags;$e.calc&&(Ee.calcdata=void 0);var et=[it.previousPromises];$e.layoutReplot?et.push(Qr.layoutReplot):Object.keys(Ue).length&&(axRangeSupplyDefaultsByPass(Ee,$e,We)||it.supplyDefaults(Ee),$e.legend&&et.push(Qr.doLegend),$e.layoutstyle&&et.push(Qr.layoutStyles),$e.axrange&&addAxRangeSequence(et,We.rangesAltered),$e.ticks&&et.push(Qr.doTicksRelayout),$e.modebar&&et.push(Qr.doModeBar),$e.camera&&et.push(Qr.doCamera),$e.colorbars&&et.push(Qr.doColorBars),et.push(emitAfterPlot)),et.push(it.rehover,it.redrag),rt.add(Ee,relayout,[Ee,We.undoit],relayout,[Ee,We.redoit]);var tt=Qe.syncOrAsync(et,Ee);return tt&&tt.then||(tt=Promise.resolve(Ee)),tt.then((function(){return Ee.emit("plotly_relayout",We.eventData),Ee}))}function axRangeSupplyDefaultsByPass(Ee,ze,Be){var Ue=Ee._fullLayout;if(!ze.axrange)return!1;for(var We in ze)if("axrange"!==We&&ze[We])return!1;for(var $e in Be.rangesAltered){var Qe=ft.id2name($e),et=Ee.layout[Qe],tt=Ue[Qe];if(tt.autorange=et.autorange,tt.range=et.range.slice(),tt.cleanRange(),tt._matchGroup)for(var rt in tt._matchGroup)if(rt!==$e){var nt=Ue[ft.id2name(rt)];nt.autorange=tt.autorange,nt.range=tt.range.slice(),nt._input.range=tt.range.slice()}}return!0}function addAxRangeSequence(Ee,ze){var Be=ze?function(Ee){var Be=[],Ue=!0;for(var We in ze){var $e=ft.getFromId(Ee,We);if(Be.push(We),$e._matchGroup)for(var Qe in $e._matchGroup)ze[Qe]||Be.push(Qe);$e.automargin&&(Ue=!1)}return ft.draw(Ee,Be,{skipTitle:Ue})}:function(Ee){return ft.draw(Ee,"redraw")};Ee.push(tr,Qr.doAutoRangeAndConstraints,Be,Qr.drawData,Qr.finalDraw)}var cn=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,un=/^[xyz]axis[0-9]*\.autorange$/,hn=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function _relayout(Ee,ze){var Be,Ue,We,$e=Ee.layout,tt=Ee._fullLayout,rt=tt._guiEditing,it=makeNP(tt._preGUI,rt),ct=Object.keys(ze),xt=ft.list(Ee),kt=Qe.extendDeepAll({},ze),Lt={};for(cleanDeprecatedAttributeKeys(ze),ct=Object.keys(ze),Ue=0;Ue<ct.length;Ue++)if(0===ct[Ue].indexOf("allaxes")){for(We=0;We<xt.length;We++){var Ut=xt[We]._id.substr(1),er=-1!==Ut.indexOf("scene")?Ut+".":"",tr=ct[Ue].replace("allaxes",er+xt[We]._name);ze[tr]||(ze[tr]=ze[ct[Ue]])}delete ze[ct[Ue]]}var rr=on.layoutFlags(),Qr={},ln={};function doextra(Ee,Be){if(Array.isArray(Ee))Ee.forEach((function(Ee){doextra(Ee,Be)}));else if(!(Ee in ze)&&!Lr.hasParent(ze,Ee)){var Ue=it($e,Ee);Ee in ln||(ln[Ee]=undefinedToNull(Ue.get())),void 0!==Be&&Ue.set(Be)}}var dn,vn={};function recordAlteredAxis(Ee){var ze=ft.name2id(Ee.split(".")[0]);return vn[ze]=1,ze}for(var yn in ze){if(Lr.hasParent(ze,yn))throw new Error("cannot set "+yn+" and a parent attribute simultaneously");for(var _n=it($e,yn),Mn=ze[yn],Cn=_n.parts.length-1;Cn>0&&"string"!=typeof _n.parts[Cn];)Cn--;var En=_n.parts[Cn],Pn=_n.parts[Cn-1]+"."+En,In=_n.parts.slice(0,Cn).join("."),Bn=et(Ee.layout,In).get(),Hn=et(tt,In).get(),Kn=_n.get();if(void 0!==Mn){Qr[yn]=Mn,ln[yn]="reverse"===En?Mn:undefinedToNull(Kn);var Jn=at.getLayoutValObject(tt,_n.parts);if(Jn&&Jn.impliedEdits&&null!==Mn)for(var Ma in Jn.impliedEdits)doextra(Qe.relativeAttr(yn,Ma),Jn.impliedEdits[Ma]);if(-1!==["width","height"].indexOf(yn))if(Mn){doextra("autosize",null);var Sa="height"===yn?"width":"height";doextra(Sa,tt[Sa])}else tt[yn]=Ee._initialAutoSize[yn];else if("autosize"===yn)doextra("width",Mn?null:tt.width),doextra("height",Mn?null:tt.height);else if(Pn.match(cn))recordAlteredAxis(Pn),et(tt,In+"._inputRange").set(null);else if(Pn.match(un)){recordAlteredAxis(Pn),et(tt,In+"._inputRange").set(null);var La=et(tt,In).get();La._inputDomain&&(La._input.domain=La._inputDomain.slice())}else Pn.match(hn)&&et(tt,In+"._inputDomain").set(null);if("type"===En){var Ia=Bn,Ra="linear"===Hn.type&&"log"===Mn,Na="log"===Hn.type&&"linear"===Mn;if(Ra||Na){if(Ia&&Ia.range)if(Hn.autorange)Ra&&(Ia.range=Ia.range[1]>Ia.range[0]?[1,2]:[2,1]);else{var Ua=Ia.range[0],qa=Ia.range[1];Ra?(Ua<=0&&qa<=0&&doextra(In+".autorange",!0),Ua<=0?Ua=qa/1e6:qa<=0&&(qa=Ua/1e6),doextra(In+".range[0]",Math.log(Ua)/Math.LN10),doextra(In+".range[1]",Math.log(qa)/Math.LN10)):(doextra(In+".range[0]",Math.pow(10,Ua)),doextra(In+".range[1]",Math.pow(10,qa)))}else doextra(In+".autorange",!0);Array.isArray(tt._subplots.polar)&&tt._subplots.polar.length&&tt[_n.parts[0]]&&"radialaxis"===_n.parts[1]&&delete tt[_n.parts[0]]._subplot.viewInitial["radialaxis.range"],nt.getComponentMethod("annotations","convertCoords")(Ee,Hn,Mn,doextra),nt.getComponentMethod("images","convertCoords")(Ee,Hn,Mn,doextra)}else doextra(In+".autorange",!0),doextra(In+".range",null);et(tt,In+"._inputRange").set(null)}else if(En.match(sn)){var Ka=et(tt,yn).get(),ei=(Mn||{}).type;ei&&"-"!==ei||(ei="linear"),nt.getComponentMethod("annotations","convertCoords")(Ee,Ka,ei,doextra),nt.getComponentMethod("images","convertCoords")(Ee,Ka,ei,doextra)}var ti=ar.containerArrayMatch(yn);if(ti){Be=ti.array,Ue=ti.index;var ri=ti.property,ni=Jn||{editType:"calc"};""!==Ue&&""===ri&&(ar.isAddVal(Mn)?ln[yn]=null:ar.isRemoveVal(Mn)?ln[yn]=(et($e,Be).get()||[])[Ue]:Qe.warn("unrecognized full object value",ze)),on.update(rr,ni),Lt[Be]||(Lt[Be]={});var ai=Lt[Be][Ue];ai||(ai=Lt[Be][Ue]={}),ai[ri]=Mn,delete ze[yn]}else"reverse"===En?(Bn.range?Bn.range.reverse():(doextra(In+".autorange",!0),Bn.range=[1,0]),Hn.autorange?rr.calc=!0:rr.plot=!0):(tt._has("scatter-like")&&tt._has("regl")&&"dragmode"===yn&&("lasso"===Mn||"select"===Mn)&&"lasso"!==Kn&&"select"!==Kn||tt._has("gl2d")?rr.plot=!0:Jn?on.update(rr,Jn):rr.calc=!0,_n.set(Mn))}}for(Be in Lt){ar.applyContainerArrayChanges(Ee,it($e,Be),Lt[Be],rr,it)||(rr.plot=!0)}var ii=tt._axisConstraintGroups||[];for(dn in vn)for(Ue=0;Ue<ii.length;Ue++){var oi=ii[Ue];if(oi[dn])for(var si in rr.calc=!0,oi)vn[si]||(ft.getFromId(Ee,si)._constraintShrinkable=!0)}return(updateAutosize(Ee)||ze.height||ze.width)&&(rr.plot=!0),(rr.plot||rr.calc)&&(rr.layoutReplot=!0),{flags:rr,rangesAltered:vn,undoit:ln,redoit:Qr,eventData:kt}}function updateAutosize(Ee){var ze=Ee._fullLayout,Be=ze.width,Ue=ze.height;return Ee.layout.autosize&&it.plotAutoSize(Ee,Ee.layout,ze),ze.width!==Be||ze.height!==Ue}function update(Ee,Be,Ue,We){if(Ee=Qe.getGraphDiv(Ee),Lr.clearPromiseQueue(Ee),Ee.framework&&Ee.framework.isPolar)return Promise.resolve(Ee);Qe.isPlainObject(Be)||(Be={}),Qe.isPlainObject(Ue)||(Ue={}),Object.keys(Be).length&&(Ee.changed=!0),Object.keys(Ue).length&&(Ee.changed=!0);var $e=Lr.coerceTraceIndices(Ee,We),et=_restyle(Ee,Qe.extendFlat({},Be),$e),tt=et.flags,nt=_relayout(Ee,Qe.extendFlat({},Ue)),at=nt.flags;(tt.calc||at.calc)&&(Ee.calcdata=void 0),tt.clearAxisTypes&&Lr.clearAxisTypes(Ee,$e,Ue);var ct=[];at.layoutReplot?ct.push(Qr.layoutReplot):tt.fullReplot?ct.push(ze.plot):(ct.push(it.previousPromises),axRangeSupplyDefaultsByPass(Ee,at,nt)||it.supplyDefaults(Ee),tt.style&&ct.push(Qr.doTraceStyle),(tt.colorbars||at.colorbars)&&ct.push(Qr.doColorBars),at.legend&&ct.push(Qr.doLegend),at.layoutstyle&&ct.push(Qr.layoutStyles),at.axrange&&addAxRangeSequence(ct,nt.rangesAltered),at.ticks&&ct.push(Qr.doTicksRelayout),at.modebar&&ct.push(Qr.doModeBar),at.camera&&ct.push(Qr.doCamera),ct.push(emitAfterPlot)),ct.push(it.rehover,it.redrag),rt.add(Ee,update,[Ee,et.undoit,nt.undoit,et.traces],update,[Ee,et.redoit,nt.redoit,et.traces]);var ft=Qe.syncOrAsync(ct,Ee);return ft&&ft.then||(ft=Promise.resolve(Ee)),ft.then((function(){return Ee.emit("plotly_update",{data:et.eventData,layout:nt.eventData}),Ee}))}function guiEdit(Ee){return function wrappedEdit(ze){ze._fullLayout._guiEditing=!0;var Be=Ee.apply(null,arguments);return ze._fullLayout._guiEditing=!1,Be}}var dn=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],vn=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function findUIPattern(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be],We=Ee.match(Ue.pattern);if(We)return{head:We[1],attr:Ue.attr}}}function getNewRev(Ee,ze){var Be=et(ze,Ee).get();if(void 0!==Be)return Be;var Ue=Ee.split(".");for(Ue.pop();Ue.length>1;)if(Ue.pop(),void 0!==(Be=et(ze,Ue.join(".")+".uirevision").get()))return Be;return ze.uirevision}function getFullTraceIndexFromUid(Ee,ze){for(var Be=0;Be<ze.length;Be++)if(ze[Be]._fullInput.uid===Ee)return Be;return-1}function getTraceIndexFromUid(Ee,ze,Be){for(var Ue=0;Ue<ze.length;Ue++)if(ze[Ue].uid===Ee)return Ue;return!ze[Be]||ze[Be].uid?-1:Be}function valsMatch(Ee,ze){var Be=Qe.isPlainObject(Ee),Ue=Array.isArray(Ee);return Be||Ue?(Be&&Qe.isPlainObject(ze)||Ue&&Array.isArray(ze))&&JSON.stringify(Ee)===JSON.stringify(ze):Ee===ze}function getDiffFlags(Ee,ze,Be,Ue){var We,$e,tt,rt=Ue.getValObject,nt=Ue.flags,at=Ue.immutable,it=Ue.inArray,ct=Ue.arrayIndex;function changed(){var Ee=We.editType;it&&-1!==Ee.indexOf("arraydraw")?Qe.pushUnique(nt.arrays[it],ct):(on.update(nt,We),"none"!==Ee&&nt.nChanges++,Ue.transition&&We.anim&&nt.nChangesAnim++,(cn.test(tt)||un.test(tt))&&(nt.rangesAltered[Be[0]]=1),hn.test(tt)&&et(ze,"_inputDomain").set(null),"datarevision"===$e&&(nt.newDataRevision=1))}function valObjectCanBeDataArray(Ee){return"data_array"===Ee.valType||Ee.arrayOk}for($e in Ee){if(nt.calc&&!Ue.transition)return;var ft=Ee[$e],xt=ze[$e],kt=Be.concat($e);if(tt=kt.join("."),"_"!==$e.charAt(0)&&"function"!=typeof ft&&ft!==xt){if(("tick0"===$e||"dtick"===$e)&&"geo"!==Be[0]){var Lt=ze.tickmode;if("auto"===Lt||"array"===Lt||!Lt)continue}if(("range"!==$e||!ze.autorange)&&("zmin"!==$e&&"zmax"!==$e||"contourcarpet"!==ze.type)&&(We=rt(kt))&&(!We._compareAsJSON||JSON.stringify(ft)!==JSON.stringify(xt))){var Ut,er=We.valType,tr=valObjectCanBeDataArray(We),rr=Array.isArray(ft),ar=Array.isArray(xt);if(rr&&ar){var Lr="_input_"+$e,Qr=Ee[Lr],sn=ze[Lr];if(Array.isArray(Qr)&&Qr===sn)continue}if(void 0===xt)tr&&rr?nt.calc=!0:changed();else if(We._isLinkedToArray){var ln=[],dn=!1;it||(nt.arrays[$e]=ln);var vn=Math.min(ft.length,xt.length),yn=Math.max(ft.length,xt.length);if(vn!==yn){if("arraydraw"!==We.editType){changed();continue}dn=!0}for(Ut=0;Ut<vn;Ut++)getDiffFlags(ft[Ut],xt[Ut],kt.concat(Ut),Qe.extendFlat({inArray:$e,arrayIndex:Ut},Ue));if(dn)for(Ut=vn;Ut<yn;Ut++)ln.push(Ut)}else!er&&Qe.isPlainObject(ft)?getDiffFlags(ft,xt,kt,Ue):tr?rr&&ar?(at&&(nt.calc=!0),(at||Ue.newDataRevision)&&changed()):rr!==ar?nt.calc=!0:changed():rr&&ar&&ft.length===xt.length&&String(ft)===String(xt)||changed()}}}for($e in ze)if(!($e in Ee)&&"_"!==$e.charAt(0)&&"function"!=typeof ze[$e]){if(valObjectCanBeDataArray(We=rt(Be.concat($e)))&&Array.isArray(ze[$e]))return void(nt.calc=!0);changed()}}function makePlotFramework(Ee){var ze=Ue.select(Ee),Be=Ee._fullLayout;if(Be._container=ze.selectAll(".plot-container").data([0]),Be._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Be._paperdiv=Be._container.selectAll(".svg-container").data([0]),Be._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),Be._glcontainer=Be._paperdiv.selectAll(".gl-container").data([{}]),Be._glcontainer.enter().append("div").classed("gl-container",!0),Be._paperdiv.selectAll(".main-svg").remove(),Be._paperdiv.select(".modebar-container").remove(),Be._paper=Be._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Be._toppaper=Be._paperdiv.append("svg").classed("main-svg",!0),Be._modebardiv=Be._paperdiv.append("div"),Be._hoverpaper=Be._paperdiv.append("svg").classed("main-svg",!0),!Be._uid){var We={};Ue.selectAll("defs").each((function(){this.id&&(We[this.id.split("-")[1]]=1)})),Be._uid=Qe.randstr(We)}Be._paperdiv.selectAll(".main-svg").attr(Ut.svgAttrs),Be._defs=Be._paper.append("defs").attr("id","defs-"+Be._uid),Be._clips=Be._defs.append("g").classed("clips",!0),Be._topdefs=Be._toppaper.append("defs").attr("id","topdefs-"+Be._uid),Be._topclips=Be._topdefs.append("g").classed("clips",!0),Be._bgLayer=Be._paper.append("g").classed("bglayer",!0),Be._draggers=Be._paper.append("g").classed("draglayer",!0);var $e=Be._paper.append("g").classed("layer-below",!0);Be._imageLowerLayer=$e.append("g").classed("imagelayer",!0),Be._shapeLowerLayer=$e.append("g").classed("shapelayer",!0),Be._cartesianlayer=Be._paper.append("g").classed("cartesianlayer",!0),Be._polarlayer=Be._paper.append("g").classed("polarlayer",!0),Be._ternarylayer=Be._paper.append("g").classed("ternarylayer",!0),Be._geolayer=Be._paper.append("g").classed("geolayer",!0),Be._funnelarealayer=Be._paper.append("g").classed("funnelarealayer",!0),Be._pielayer=Be._paper.append("g").classed("pielayer",!0),Be._treemaplayer=Be._paper.append("g").classed("treemaplayer",!0),Be._sunburstlayer=Be._paper.append("g").classed("sunburstlayer",!0),Be._indicatorlayer=Be._toppaper.append("g").classed("indicatorlayer",!0),Be._glimages=Be._paper.append("g").classed("glimages",!0);var et=Be._toppaper.append("g").classed("layer-above",!0);Be._imageUpperLayer=et.append("g").classed("imagelayer",!0),Be._shapeUpperLayer=et.append("g").classed("shapelayer",!0),Be._infolayer=Be._toppaper.append("g").classed("infolayer",!0),Be._menulayer=Be._toppaper.append("g").classed("menulayer",!0),Be._zoomlayer=Be._toppaper.append("g").classed("zoomlayer",!0),Be._hoverlayer=Be._hoverpaper.append("g").classed("hoverlayer",!0),Be._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ee.emit("plotly_framework")}ze.animate=function animate(Ee,ze,Be){if(Ee=Qe.getGraphDiv(Ee),!Qe.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var Ue=Ee._transitionData;Ue._frameQueue||(Ue._frameQueue=[]);var We=(Be=it.supplyAnimationDefaults(Be)).transition,$e=Be.frame;function getTransitionOpts(Ee){return Array.isArray(We)?Ee>=We.length?We[0]:We[Ee]:We}function getFrameOpts(Ee){return Array.isArray($e)?Ee>=$e.length?$e[0]:$e[Ee]:$e}function callbackOnNthTime(Ee,ze){var Be=0;return function(){if(Ee&&++Be===ze)return Ee()}}return void 0===Ue._frameWaitingCnt&&(Ue._frameWaitingCnt=0),new Promise((function($e,et){function nextFrame(){Ue._currentFrame&&Ue._currentFrame.onComplete&&Ue._currentFrame.onComplete();var ze=Ue._currentFrame=Ue._frameQueue.shift();if(ze){var Be=ze.name?ze.name.toString():null;Ee._fullLayout._currentFrame=Be,Ue._lastFrameAt=Date.now(),Ue._timeToNext=ze.frameOpts.duration,it.transition(Ee,ze.frame.data,ze.frame.layout,Lr.coerceTraceIndices(Ee,ze.frame.traces),ze.frameOpts,ze.transitionOpts).then((function(){ze.onComplete&&ze.onComplete()})),Ee.emit("plotly_animatingframe",{name:Be,frame:ze.frame,animation:{frame:ze.frameOpts,transition:ze.transitionOpts}})}else!function stopAnimationLoop(){Ee.emit("plotly_animated"),window.cancelAnimationFrame(Ue._animationRaf),Ue._animationRaf=null}()}function beginAnimationLoop(){Ee.emit("plotly_animating"),Ue._lastFrameAt=-1/0,Ue._timeToNext=0,Ue._runningTransitions=0,Ue._currentFrame=null;var doFrame=function(){Ue._animationRaf=window.requestAnimationFrame(doFrame),Date.now()-Ue._lastFrameAt>Ue._timeToNext&&nextFrame()};doFrame()}var tt,rt,nt=0;function setTransitionConfig(Ee){return Array.isArray(We)?nt>=We.length?Ee.transitionOpts=We[nt]:Ee.transitionOpts=We[0]:Ee.transitionOpts=We,nt++,Ee}var at=[],ct=null==ze,ft=Array.isArray(ze);if(!ct&&!ft&&Qe.isPlainObject(ze))at.push({type:"object",data:setTransitionConfig(Qe.extendFlat({},ze))});else if(ct||-1!==["string","number"].indexOf(typeof ze))for(tt=0;tt<Ue._frames.length;tt++)(rt=Ue._frames[tt])&&(ct||String(rt.group)===String(ze))&&at.push({type:"byname",name:String(rt.name),data:setTransitionConfig({name:rt.name})});else if(ft)for(tt=0;tt<ze.length;tt++){var xt=ze[tt];-1!==["number","string"].indexOf(typeof xt)?(xt=String(xt),at.push({type:"byname",name:xt,data:setTransitionConfig({name:xt})})):Qe.isPlainObject(xt)&&at.push({type:"object",data:setTransitionConfig(Qe.extendFlat({},xt))})}for(tt=0;tt<at.length;tt++)if("byname"===(rt=at[tt]).type&&!Ue._frameHash[rt.data.name])return Qe.warn('animate failure: frame not found: "'+rt.data.name+'"'),void et();-1!==["next","immediate"].indexOf(Be.mode)&&function discardExistingFrames(){if(0!==Ue._frameQueue.length){for(;Ue._frameQueue.length;){var ze=Ue._frameQueue.pop();ze.onInterrupt&&ze.onInterrupt()}Ee.emit("plotly_animationinterrupted",[])}}(),"reverse"===Be.direction&&at.reverse();var kt=Ee._fullLayout._currentFrame;if(kt&&Be.fromcurrent){var Lt=-1;for(tt=0;tt<at.length;tt++)if("byname"===(rt=at[tt]).type&&rt.name===kt){Lt=tt;break}if(Lt>0&&Lt<at.length-1){var Ut=[];for(tt=0;tt<at.length;tt++)rt=at[tt],("byname"!==at[tt].type||tt>Lt)&&Ut.push(rt);at=Ut}}at.length>0?function queueFrames(ze){if(0!==ze.length){for(var We=0;We<ze.length;We++){var Qe;Qe="byname"===ze[We].type?it.computeFrame(Ee,ze[We].name):ze[We].data;var tt=getFrameOpts(We),rt=getTransitionOpts(We);rt.duration=Math.min(rt.duration,tt.duration);var nt={frame:Qe,name:ze[We].name,frameOpts:tt,transitionOpts:rt};We===ze.length-1&&(nt.onComplete=callbackOnNthTime($e,2),nt.onInterrupt=et),Ue._frameQueue.push(nt)}"immediate"===Be.mode&&(Ue._lastFrameAt=-1/0),Ue._animationRaf||beginAnimationLoop()}}(at):(Ee.emit("plotly_animated"),$e())}))},ze.addFrames=function addFrames(Ee,ze,Be){if(Ee=Qe.getGraphDiv(Ee),null==ze)return Promise.resolve();if(!Qe.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var Ue,We,$e,et,tt=Ee._transitionData._frames,nt=Ee._transitionData._frameHash;if(!Array.isArray(ze))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ze);var at=tt.length+2*ze.length,ct=[],ft={};for(Ue=ze.length-1;Ue>=0;Ue--)if(Qe.isPlainObject(ze[Ue])){var xt=ze[Ue].name,kt=(nt[xt]||ft[xt]||{}).name,Lt=ze[Ue].name,Ut=nt[kt]||ft[kt];kt&&Lt&&"number"==typeof Lt&&Ut&&ln<5&&(ln++,Qe.warn('addFrames: overwriting frame "'+(nt[kt]||ft[kt]).name+'" with a frame whose name of type "number" also equates to "'+kt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===ln&&Qe.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),ft[xt]={name:xt},ct.push({frame:it.supplyFrameDefaults(ze[Ue]),index:Be&&void 0!==Be[Ue]&&null!==Be[Ue]?Be[Ue]:at+Ue})}ct.sort((function(Ee,ze){return Ee.index>ze.index?-1:Ee.index<ze.index?1:0}));var er=[],tr=[],rr=tt.length;for(Ue=ct.length-1;Ue>=0;Ue--){if("number"==typeof(We=ct[Ue].frame).name&&Qe.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!We.name)for(;nt[We.name="frame "+Ee._transitionData._counter++];);if(nt[We.name]){for($e=0;$e<tt.length&&(tt[$e]||{}).name!==We.name;$e++);er.push({type:"replace",index:$e,value:We}),tr.unshift({type:"replace",index:$e,value:tt[$e]})}else et=Math.max(0,Math.min(ct[Ue].index,rr)),er.push({type:"insert",index:et,value:We}),tr.unshift({type:"delete",index:et}),rr++}var ar=it.modifyFrames,Lr=it.modifyFrames,Qr=[Ee,tr],on=[Ee,er];return rt&&rt.add(Ee,ar,Qr,Lr,on),it.modifyFrames(Ee,er)},ze.deleteFrames=function deleteFrames(Ee,ze){if(Ee=Qe.getGraphDiv(Ee),!Qe.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);var Be,Ue,We=Ee._transitionData._frames,$e=[],et=[];if(!ze)for(ze=[],Be=0;Be<We.length;Be++)ze.push(Be);for((ze=ze.slice()).sort(),Be=ze.length-1;Be>=0;Be--)Ue=ze[Be],$e.push({type:"delete",index:Ue}),et.unshift({type:"insert",index:Ue,value:We[Ue]});var tt=it.modifyFrames,nt=it.modifyFrames,at=[Ee,et],ct=[Ee,$e];return rt&&rt.add(Ee,tt,at,nt,ct),it.modifyFrames(Ee,$e)},ze.addTraces=function addTraces(Ee,Be,Ue){Ee=Qe.getGraphDiv(Ee);var We,$e,et=[],tt=ze.deleteTraces,nt=addTraces,at=[Ee,et],it=[Ee,Be];for(function checkAddTracesArgs(Ee,ze,Be){var Ue,We;if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(void 0===ze)throw new Error("traces must be defined.");for(Array.isArray(ze)||(ze=[ze]),Ue=0;Ue<ze.length;Ue++)if("object"!=typeof(We=ze[Ue])||Array.isArray(We)||null===We)throw new Error("all values in traces array must be non-array objects");if(void 0===Be||Array.isArray(Be)||(Be=[Be]),void 0!==Be&&Be.length!==ze.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ee,Be,Ue),Array.isArray(Be)||(Be=[Be]),Be=Be.map((function(Ee){return Qe.extendFlat({},Ee)})),Lr.cleanData(Be),We=0;We<Be.length;We++)Ee.data.push(Be[We]);for(We=0;We<Be.length;We++)et.push(-Be.length+We);if(void 0===Ue)return $e=ze.redraw(Ee),rt.add(Ee,tt,at,nt,it),$e;Array.isArray(Ue)||(Ue=[Ue]);try{checkMoveTracesArgs(Ee,et,Ue)}catch(ze){throw Ee.data.splice(Ee.data.length-Be.length,Be.length),ze}return rt.startSequence(Ee),rt.add(Ee,tt,at,nt,it),$e=ze.moveTraces(Ee,et,Ue),rt.stopSequence(Ee),$e},ze.deleteTraces=function deleteTraces(Ee,Be){Ee=Qe.getGraphDiv(Ee);var Ue,We,$e=[],et=ze.addTraces,tt=deleteTraces,nt=[Ee,$e,Be],at=[Ee,Be];if(void 0===Be)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Be)||(Be=[Be]),assertIndexArray(Ee,Be,"indices"),(Be=positivifyIndices(Be,Ee.data.length-1)).sort(Qe.sorterDes),Ue=0;Ue<Be.length;Ue+=1)We=Ee.data.splice(Be[Ue],1)[0],$e.push(We);var it=ze.redraw(Ee);return rt.add(Ee,et,nt,tt,at),it},ze.extendTraces=function extendTraces(Ee,Be,Ue,We){function updateArray(Ee,ze,Be){var Ue,We;if(Qe.isTypedArray(Ee))if(Be<0){var $e=new Ee.constructor(0),et=concatTypedArray(Ee,ze);Be<0?(Ue=et,We=$e):(Ue=$e,We=et)}else if(Ue=new Ee.constructor(Be),We=new Ee.constructor(Ee.length+ze.length-Be),Be===ze.length)Ue.set(ze),We.set(Ee);else if(Be<ze.length){var tt=ze.length-Be;Ue.set(ze.subarray(tt)),We.set(Ee),We.set(ze.subarray(0,tt),Ee.length)}else{var rt=Be-ze.length,nt=Ee.length-rt;Ue.set(Ee.subarray(nt)),Ue.set(ze,rt),We.set(Ee.subarray(0,nt))}else Ue=Ee.concat(ze),We=Be>=0&&Be<Ue.length?Ue.splice(0,Ue.length-Be):[];return[Ue,We]}var $e=spliceTraces(Ee=Qe.getGraphDiv(Ee),Be,Ue,We,updateArray),et=ze.redraw(Ee),tt=[Ee,$e.update,Ue,$e.maxPoints];return rt.add(Ee,ze.prependTraces,tt,extendTraces,arguments),et},ze.moveTraces=function moveTraces(Ee,Be,Ue){var We,$e=[],et=[],tt=moveTraces,nt=moveTraces,at=[Ee=Qe.getGraphDiv(Ee),Ue,Be],it=[Ee,Be,Ue];if(checkMoveTracesArgs(Ee,Be,Ue),Be=Array.isArray(Be)?Be:[Be],void 0===Ue)for(Ue=[],We=0;We<Be.length;We++)Ue.push(-Be.length+We);for(Ue=Array.isArray(Ue)?Ue:[Ue],Be=positivifyIndices(Be,Ee.data.length-1),Ue=positivifyIndices(Ue,Ee.data.length-1),We=0;We<Ee.data.length;We++)-1===Be.indexOf(We)&&$e.push(Ee.data[We]);for(We=0;We<Be.length;We++)et.push({newIndex:Ue[We],trace:Ee.data[Be[We]]});for(et.sort((function(Ee,ze){return Ee.newIndex-ze.newIndex})),We=0;We<et.length;We+=1)$e.splice(et[We].newIndex,0,et[We].trace);Ee.data=$e;var ct=ze.redraw(Ee);return rt.add(Ee,tt,at,nt,it),ct},ze.prependTraces=function prependTraces(Ee,Be,Ue,We){function updateArray(Ee,ze,Be){var Ue,We;if(Qe.isTypedArray(Ee))if(Be<=0){var $e=new Ee.constructor(0),et=concatTypedArray(ze,Ee);Be<0?(Ue=et,We=$e):(Ue=$e,We=et)}else if(Ue=new Ee.constructor(Be),We=new Ee.constructor(Ee.length+ze.length-Be),Be===ze.length)Ue.set(ze),We.set(Ee);else if(Be<ze.length){var tt=ze.length-Be;Ue.set(ze.subarray(0,tt)),We.set(ze.subarray(tt)),We.set(Ee,tt)}else{var rt=Be-ze.length;Ue.set(ze),Ue.set(Ee.subarray(0,rt),ze.length),We.set(Ee.subarray(rt))}else Ue=ze.concat(Ee),We=Be>=0&&Be<Ue.length?Ue.splice(Be,Ue.length):[];return[Ue,We]}var $e=spliceTraces(Ee=Qe.getGraphDiv(Ee),Be,Ue,We,updateArray),et=ze.redraw(Ee),tt=[Ee,$e.update,Ue,$e.maxPoints];return rt.add(Ee,ze.extendTraces,tt,prependTraces,arguments),et},ze.newPlot=function newPlot(Ee,Be,Ue,We){return Ee=Qe.getGraphDiv(Ee),it.cleanPlot([],{},Ee._fullData||[],Ee._fullLayout||{}),it.purge(Ee),ze.plot(Ee,Be,Ue,We)},ze.plot=function plot(Ee,Be,We,$e){var et;if(Ee=Qe.getGraphDiv(Ee),tt.init(Ee),Qe.isPlainObject(Be)){var rt=Be;Be=rt.data,We=rt.layout,$e=rt.config,et=rt.frames}if(!1===tt.triggerHandler(Ee,"plotly_beforeplot",[Be,We,$e]))return Promise.reject();Be||We||Qe.isPlotDiv(Ee)||Qe.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",Ee),setPlotContext(Ee,$e),We||(We={}),Ue.select(Ee).classed("js-plotly-plot",!0),xt.makeTester(),Array.isArray(Ee._promises)||(Ee._promises=[]);var at=0===(Ee.data||[]).length&&Array.isArray(Be);Array.isArray(Be)&&(Lr.cleanData(Be),at?Ee.data=Be:Ee.data.push.apply(Ee.data,Be),Ee.empty=!1),Ee.layout&&!at||(Ee.layout=Lr.cleanLayout(We)),it.supplyDefaults(Ee);var kt=Ee._fullLayout,Ut=kt._has("cartesian");if(!kt._has("polar")&&Be&&Be[0]&&Be[0].r)return Qe.log("Legacy polar charts are deprecated!"),function plotLegacyPolar(Ee,ze,Be){var We=Ue.select(Ee).selectAll(".plot-container").data([0]);We.enter().insert("div",":first-child").classed("plot-container plotly",!0);var $e=We.selectAll(".svg-container").data([0]);$e.enter().append("div").classed("svg-container",!0).style("position","relative"),$e.html(""),ze&&(Ee.data=ze);Be&&(Ee.layout=Be);ct.manager.fillLayout(Ee),$e.style({width:Ee._fullLayout.width+"px",height:Ee._fullLayout.height+"px"}),Ee.framework=ct.manager.framework(Ee),Ee.framework({data:Ee.data,layout:Ee.layout},$e.node()),Ee.framework.setUndoPoint();var et=Ee.framework.svg(),tt=1,rt=Ee._fullLayout.title?Ee._fullLayout.title.text:"";""!==rt&&rt||(tt=0);var titleLayout=function(){this.call(er.convertToTspans,Ee)},nt=et.select(".title-group text").call(titleLayout);if(Ee._context.edits.titleText){var at=Qe._(Ee,"Click to enter Plot title");rt&&rt!==at||(tt=.2,nt.attr({"data-unformatted":at}).text(at).style({opacity:tt}).on("mouseover.opacity",(function(){Ue.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){Ue.select(this).transition().duration(1e3).style("opacity",0)})));var setContenteditable=function(){this.call(er.makeEditable,{gd:Ee}).on("edit",(function(ze){Ee.framework({layout:{title:{text:ze}}}),this.text(ze).call(titleLayout),this.call(setContenteditable)})).on("cancel",(function(){var Ee=this.attr("data-unformatted");this.text(Ee).call(titleLayout)}))};nt.call(setContenteditable)}return Ee._context.setBackground(Ee,Ee._fullLayout.paper_bgcolor),it.addLinks(Ee),Promise.resolve()}(Ee,Be,We);kt._replotting=!0,at&&makePlotFramework(Ee),Ee.framework!==makePlotFramework&&(Ee.framework=makePlotFramework,makePlotFramework(Ee)),xt.initGradients(Ee),at&&ft.saveShowSpikeInitial(Ee);var tr=!Ee.calcdata||Ee.calcdata.length!==(Ee._fullData||[]).length;tr&&it.doCalcdata(Ee);for(var rr=0;rr<Ee.calcdata.length;rr++)Ee.calcdata[rr][0].trace=Ee._fullData[rr];Ee._context.responsive?Ee._responsiveChartHandler||(Ee._responsiveChartHandler=function(){Qe.isHidden(Ee)||it.resize(Ee)},window.addEventListener("resize",Ee._responsiveChartHandler)):Qe.clearResponsive(Ee);var ar=Qe.extendFlat({},kt._size),on=0;function marginPushers(){if(it.clearAutoMarginIds(Ee),Qr.drawMarginPushers(Ee),ft.allowAutoMargin(Ee),kt._has("pie"))for(var ze=Ee._fullData,Be=0;Be<ze.length;Be++){var Ue=ze[Be];"pie"===Ue.type&&Ue.automargin&&it.allowAutoMargin(Ee,"pie."+Ue.uid+".automargin")}return it.doAutoMargin(Ee),it.previousPromises(Ee)}function doAutoRangeAndConstraints(){Ee._transitioning||(Qr.doAutoRangeAndConstraints(Ee),at&&ft.saveRangeInitial(Ee),nt.getComponentMethod("rangeslider","calcAutorange")(Ee))}var sn=[it.previousPromises,function addFrames(){if(et)return ze.addFrames(Ee,et)},function drawFramework(){for(var ze=kt._basePlotModules,Be=0;Be<ze.length;Be++)ze[Be].drawFramework&&ze[Be].drawFramework(Ee);if(!kt._glcanvas&&kt._has("gl")&&(kt._glcanvas=kt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(Ee){return Ee.key})),kt._glcanvas.enter().append("canvas").attr("class",(function(Ee){return"gl-canvas gl-canvas-"+Ee.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),kt._glcanvas){kt._glcanvas.attr("width",kt.width).attr("height",kt.height);var Ue=kt._glcanvas.data()[0].regl;if(Ue&&(Math.floor(kt.width)!==Ue._gl.drawingBufferWidth||Math.floor(kt.height)!==Ue._gl.drawingBufferHeight)){var We="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!on)return Qe.log(We+" Clearing graph and plotting again."),it.cleanPlot([],{},Ee._fullData,kt),it.supplyDefaults(Ee),kt=Ee._fullLayout,it.doCalcdata(Ee),on++,drawFramework();Qe.error(We)}}return"h"===kt.modebar.orientation?kt._modebardiv.style("height",null).style("width","100%"):kt._modebardiv.style("width",null).style("height",kt.height+"px"),it.previousPromises(Ee)},marginPushers,function marginPushersAgain(){if(it.didMarginChange(ar,kt._size))return Qe.syncOrAsync([marginPushers,Qr.layoutStyles],Ee)}];Ut&&sn.push((function positionAndAutorange(){if(tr)return Qe.syncOrAsync([nt.getComponentMethod("shapes","calcAutorange"),nt.getComponentMethod("annotations","calcAutorange"),doAutoRangeAndConstraints],Ee);doAutoRangeAndConstraints()})),sn.push(Qr.layoutStyles),Ut&&sn.push((function drawAxes(){return ft.draw(Ee,at?"":"redraw")})),sn.push(Qr.drawData,Qr.finalDraw,Lt,it.addLinks,it.rehover,it.redrag,it.doAutoMargin,it.previousPromises);var ln=Qe.syncOrAsync(sn,Ee);return ln&&ln.then||(ln=Promise.resolve()),ln.then((function(){return emitAfterPlot(Ee),Ee}))},ze.purge=function purge(Ee){var ze=(Ee=Qe.getGraphDiv(Ee))._fullLayout||{},Be=Ee._fullData||[];return it.cleanPlot([],{},Be,ze),it.purge(Ee),tt.purge(Ee),ze._container&&ze._container.remove(),delete Ee._context,Ee},ze.react=function react(Ee,Be,Ue,We){var $e,tt;Ee=Qe.getGraphDiv(Ee),Lr.clearPromiseQueue(Ee);var rt=Ee._fullData,ct=Ee._fullLayout;if(Qe.isPlotDiv(Ee)&&rt&&ct){if(Qe.isPlainObject(Be)){var ft=Be;Be=ft.data,Ue=ft.layout,We=ft.config,$e=ft.frames}var xt=!1;if(We){var kt=Qe.extendDeep({},Ee._context);Ee._context=void 0,setPlotContext(Ee,We),xt=function diffConfig(Ee,ze){var Be;for(Be in Ee)if("_"!==Be.charAt(0)){var Ue=Ee[Be],We=ze[Be];if(Ue!==We)if(Qe.isPlainObject(Ue)&&Qe.isPlainObject(We)){if(diffConfig(Ue,We))return!0}else{if(!Array.isArray(Ue)||!Array.isArray(We))return!0;if(Ue.length!==We.length)return!0;for(var $e=0;$e<Ue.length;$e++)if(Ue[$e]!==We[$e]){if(!Qe.isPlainObject(Ue[$e])||!Qe.isPlainObject(We[$e]))return!0;if(diffConfig(Ue[$e],We[$e]))return!0}}}}(kt,Ee._context)}Ee.data=Be||[],Lr.cleanData(Ee.data),Ee.layout=Ue||{},Lr.cleanLayout(Ee.layout),function applyUIRevisions(Ee,ze,Be,Ue){var We,$e,tt,rt,nt,at,it,ct,ft=Ue._preGUI,xt=[],kt={};for(We in ft){if(nt=findUIPattern(We,dn)){if($e=nt.attr||nt.head+".uirevision",(rt=(tt=et(Ue,$e).get())&&getNewRev($e,ze))&&rt===tt&&(null===(at=ft[We])&&(at=void 0),valsMatch(ct=(it=et(ze,We)).get(),at))){void 0===ct&&"autorange"===We.substr(We.length-9)&&xt.push(We.substr(0,We.length-10)),it.set(undefinedToNull(et(Ue,We).get()));continue}}else Qe.warn("unrecognized GUI edit: "+We);delete ft[We],"range["===We.substr(We.length-8,6)&&(kt[We.substr(0,We.length-9)]=1)}for(var Lt=0;Lt<xt.length;Lt++){var Ut=xt[Lt];if(kt[Ut]){var er=et(ze,Ut).get();er&&delete er.autorange}}var tr=Ue._tracePreGUI;for(var rr in tr){var ar,Lr=tr[rr],Qr=null;for(We in Lr){if(!Qr){var on=getFullTraceIndexFromUid(rr,Be);if(on<0){delete tr[rr];break}var sn=getTraceIndexFromUid(rr,Ee,(ar=Be[on]._fullInput).index);if(sn<0){delete tr[rr];break}Qr=Ee[sn]}if(nt=findUIPattern(We,vn)){if(nt.attr?rt=(tt=et(Ue,nt.attr).get())&&getNewRev(nt.attr,ze):(tt=ar.uirevision,void 0===(rt=Qr.uirevision)&&(rt=ze.uirevision)),rt&&rt===tt&&(null===(at=Lr[We])&&(at=void 0),valsMatch(ct=(it=et(Qr,We)).get(),at))){it.set(undefinedToNull(et(ar,We).get()));continue}}else Qe.warn("unrecognized GUI edit: "+We+" in trace uid "+rr);delete Lr[We]}}}(Ee.data,Ee.layout,rt,ct),it.supplyDefaults(Ee,{skipUpdateCalc:!0});var Lt=Ee._fullData,Ut=Ee._fullLayout,er=void 0===Ut.datarevision,tr=Ut.transition,rr=function diffLayout(Ee,ze,Be,Ue,We){var $e=on.layoutFlags();function getLayoutValObject(Ee){return at.getLayoutValObject(Be,Ee)}$e.arrays={},$e.rangesAltered={},$e.nChanges=0,$e.nChangesAnim=0,getDiffFlags(ze,Be,[],{getValObject:getLayoutValObject,flags:$e,immutable:Ue,transition:We,gd:Ee}),($e.plot||$e.calc)&&($e.layoutReplot=!0);We&&$e.nChanges&&$e.nChangesAnim&&($e.anim=$e.nChanges===$e.nChangesAnim?"all":"some");return $e}(Ee,ct,Ut,er,tr),ar=rr.newDataRevision,sn=function diffData(Ee,ze,Be,Ue,We,$e){var Qe=ze.length===Be.length;if(!We&&!Qe)return{fullReplot:!0,calc:!0};var et,tt,rt=on.traceFlags();rt.arrays={},rt.nChanges=0,rt.nChangesAnim=0;var nt={getValObject:function getTraceValObject(Ee){var ze=at.getTraceValObject(tt,Ee);return!tt._module.animatable&&ze.anim&&(ze.anim=!1),ze},flags:rt,immutable:Ue,transition:We,newDataRevision:$e,gd:Ee},ct={};for(et=0;et<ze.length;et++)if(Be[et]){if(tt=Be[et]._fullInput,it.hasMakesDataTransform(tt)&&(tt=Be[et]),ct[tt.uid])continue;ct[tt.uid]=1,getDiffFlags(ze[et]._fullInput,tt,[],nt)}(rt.calc||rt.plot)&&(rt.fullReplot=!0);We&&rt.nChanges&&rt.nChangesAnim&&(rt.anim=rt.nChanges===rt.nChangesAnim&&Qe?"all":"some");return rt}(Ee,rt,Lt,er,tr,ar);updateAutosize(Ee)&&(rr.layoutReplot=!0),sn.calc||rr.calc?Ee.calcdata=void 0:it.supplyDefaultsUpdateCalc(Ee.calcdata,Lt);var ln=[];if($e&&(Ee._transitionData={},it.createTransitionData(Ee),ln.push((function addFrames(){return ze.addFrames(Ee,$e)}))),Ut.transition&&!xt&&(sn.anim||rr.anim))it.doCalcdata(Ee),Qr.doAutoRangeAndConstraints(Ee),ln.push((function(){return it.transitionFromReact(Ee,sn,rr,ct)}));else if(sn.fullReplot||rr.layoutReplot||xt)Ee._fullLayout._skipDefaults=!0,ln.push(ze.plot);else{for(var cn in rr.arrays){var un=rr.arrays[cn];if(un.length){var hn=nt.getComponentMethod(cn,"drawOne");if(hn!==Qe.noop)for(var yn=0;yn<un.length;yn++)hn(Ee,un[yn]);else{var _n=nt.getComponentMethod(cn,"draw");if(_n===Qe.noop)throw new Error("cannot draw components: "+cn);_n(Ee)}}}ln.push(it.previousPromises),sn.style&&ln.push(Qr.doTraceStyle),(sn.colorbars||rr.colorbars)&&ln.push(Qr.doColorBars),rr.legend&&ln.push(Qr.doLegend),rr.layoutstyle&&ln.push(Qr.layoutStyles),rr.axrange&&addAxRangeSequence(ln),rr.ticks&&ln.push(Qr.doTicksRelayout),rr.modebar&&ln.push(Qr.doModeBar),rr.camera&&ln.push(Qr.doCamera),ln.push(emitAfterPlot)}ln.push(it.rehover,it.redrag),(tt=Qe.syncOrAsync(ln,Ee))&&tt.then||(tt=Promise.resolve(Ee))}else tt=ze.newPlot(Ee,Be,Ue,We);return tt.then((function(){return Ee.emit("plotly_react",{data:Be,layout:Ue}),Ee}))},ze.redraw=function redraw(Ee){if(Ee=Qe.getGraphDiv(Ee),!Qe.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);return Lr.cleanData(Ee.data),Lr.cleanLayout(Ee.layout),Ee.calcdata=void 0,ze.plot(Ee).then((function(){return Ee.emit("plotly_redraw"),Ee}))},ze.relayout=relayout,ze.restyle=restyle,ze.setPlotConfig=function setPlotConfig(Ee){return Qe.extendFlat(rr,Ee)},ze.update=update,ze._guiRelayout=guiEdit(relayout),ze._guiRestyle=guiEdit(restyle),ze._guiUpdate=guiEdit(update),ze._storeDirectGUIEdit=function _storeDirectGUIEdit(Ee,ze,Be){for(var Ue in Be){storeCurrent(Ue,et(Ee,Ue).get(),Be[Ue],ze)}}},b5e4:function(Ee,ze,Be){"use strict";var Ue={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:'<a href="http://www.openstreetmap.org/about/" target="_blank">© OpenStreetMap</a>',tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:'<a href="https://carto.com/" target="_blank">© CARTO</a>',tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:'<a href="https://carto.com/" target="_blank">© CARTO</a>',tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> | Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> | Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> | Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.',tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},We=Object.keys(Ue);Ee.exports={requiredVersion:"1.3.2",styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:Ue,styleValuesNonMapbox:We,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@1.3.2."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.plot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",We.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},b622:function(Ee,ze,Be){var Ue=Be("da84"),We=Be("5692"),$e=Be("5135"),Qe=Be("90e3"),et=Be("4930"),tt=Be("fdbf"),rt=We("wks"),nt=Ue.Symbol,at=tt?nt:nt&&nt.withoutSetter||Qe;Ee.exports=function(Ee){return $e(rt,Ee)||(et&&$e(nt,Ee)?rt[Ee]=nt[Ee]:rt[Ee]=at("Symbol."+Ee)),rt[Ee]}},b639:function(Ee,ze,Be){"use strict";(function(Ee){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var Ue=Be("1fb5"),We=Be("9152"),$e=Be("2335");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(Ee,ze){if(kMaxLength()<ze)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(Ee=new Uint8Array(ze)).__proto__=Buffer.prototype:(null===Ee&&(Ee=new Buffer(ze)),Ee.length=ze),Ee}function Buffer(Ee,ze,Be){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(Ee,ze,Be);if("number"==typeof Ee){if("string"==typeof ze)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,Ee)}return from(this,Ee,ze,Be)}function from(Ee,ze,Be,Ue){if("number"==typeof ze)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&ze instanceof ArrayBuffer?function fromArrayBuffer(Ee,ze,Be,Ue){if(ze.byteLength,Be<0||ze.byteLength<Be)throw new RangeError("'offset' is out of bounds");if(ze.byteLength<Be+(Ue||0))throw new RangeError("'length' is out of bounds");ze=void 0===Be&&void 0===Ue?new Uint8Array(ze):void 0===Ue?new Uint8Array(ze,Be):new Uint8Array(ze,Be,Ue);Buffer.TYPED_ARRAY_SUPPORT?(Ee=ze).__proto__=Buffer.prototype:Ee=fromArrayLike(Ee,ze);return Ee}(Ee,ze,Be,Ue):"string"==typeof ze?function fromString(Ee,ze,Be){"string"==typeof Be&&""!==Be||(Be="utf8");if(!Buffer.isEncoding(Be))throw new TypeError('"encoding" must be a valid string encoding');var Ue=0|byteLength(ze,Be),We=(Ee=createBuffer(Ee,Ue)).write(ze,Be);We!==Ue&&(Ee=Ee.slice(0,We));return Ee}(Ee,ze,Be):function fromObject(Ee,ze){if(Buffer.isBuffer(ze)){var Be=0|checked(ze.length);return 0===(Ee=createBuffer(Ee,Be)).length||ze.copy(Ee,0,0,Be),Ee}if(ze){if("undefined"!=typeof ArrayBuffer&&ze.buffer instanceof ArrayBuffer||"length"in ze)return"number"!=typeof ze.length||function isnan(Ee){return Ee!=Ee}(ze.length)?createBuffer(Ee,0):fromArrayLike(Ee,ze);if("Buffer"===ze.type&&$e(ze.data))return fromArrayLike(Ee,ze.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Ee,ze)}function assertSize(Ee){if("number"!=typeof Ee)throw new TypeError('"size" argument must be a number');if(Ee<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(Ee,ze){if(assertSize(ze),Ee=createBuffer(Ee,ze<0?0:0|checked(ze)),!Buffer.TYPED_ARRAY_SUPPORT)for(var Be=0;Be<ze;++Be)Ee[Be]=0;return Ee}function fromArrayLike(Ee,ze){var Be=ze.length<0?0:0|checked(ze.length);Ee=createBuffer(Ee,Be);for(var Ue=0;Ue<Be;Ue+=1)Ee[Ue]=255&ze[Ue];return Ee}function checked(Ee){if(Ee>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|Ee}function byteLength(Ee,ze){if(Buffer.isBuffer(Ee))return Ee.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Ee)||Ee instanceof ArrayBuffer))return Ee.byteLength;"string"!=typeof Ee&&(Ee=""+Ee);var Be=Ee.length;if(0===Be)return 0;for(var Ue=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return Be;case"utf8":case"utf-8":case void 0:return utf8ToBytes(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Be;case"hex":return Be>>>1;case"base64":return base64ToBytes(Ee).length;default:if(Ue)return utf8ToBytes(Ee).length;ze=(""+ze).toLowerCase(),Ue=!0}}function slowToString(Ee,ze,Be){var Ue=!1;if((void 0===ze||ze<0)&&(ze=0),ze>this.length)return"";if((void 0===Be||Be>this.length)&&(Be=this.length),Be<=0)return"";if((Be>>>=0)<=(ze>>>=0))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return hexSlice(this,ze,Be);case"utf8":case"utf-8":return utf8Slice(this,ze,Be);case"ascii":return asciiSlice(this,ze,Be);case"latin1":case"binary":return latin1Slice(this,ze,Be);case"base64":return base64Slice(this,ze,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,ze,Be);default:if(Ue)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Ue=!0}}function swap(Ee,ze,Be){var Ue=Ee[ze];Ee[ze]=Ee[Be],Ee[Be]=Ue}function bidirectionalIndexOf(Ee,ze,Be,Ue,We){if(0===Ee.length)return-1;if("string"==typeof Be?(Ue=Be,Be=0):Be>2147483647?Be=2147483647:Be<-2147483648&&(Be=-2147483648),Be=+Be,isNaN(Be)&&(Be=We?0:Ee.length-1),Be<0&&(Be=Ee.length+Be),Be>=Ee.length){if(We)return-1;Be=Ee.length-1}else if(Be<0){if(!We)return-1;Be=0}if("string"==typeof ze&&(ze=Buffer.from(ze,Ue)),Buffer.isBuffer(ze))return 0===ze.length?-1:arrayIndexOf(Ee,ze,Be,Ue,We);if("number"==typeof ze)return ze&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(Ee,ze,Be):Uint8Array.prototype.lastIndexOf.call(Ee,ze,Be):arrayIndexOf(Ee,[ze],Be,Ue,We);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(Ee,ze,Be,Ue,We){var $e,Qe=1,et=Ee.length,tt=ze.length;if(void 0!==Ue&&("ucs2"===(Ue=String(Ue).toLowerCase())||"ucs-2"===Ue||"utf16le"===Ue||"utf-16le"===Ue)){if(Ee.length<2||ze.length<2)return-1;Qe=2,et/=2,tt/=2,Be/=2}function read(Ee,ze){return 1===Qe?Ee[ze]:Ee.readUInt16BE(ze*Qe)}if(We){var rt=-1;for($e=Be;$e<et;$e++)if(read(Ee,$e)===read(ze,-1===rt?0:$e-rt)){if(-1===rt&&(rt=$e),$e-rt+1===tt)return rt*Qe}else-1!==rt&&($e-=$e-rt),rt=-1}else for(Be+tt>et&&(Be=et-tt),$e=Be;$e>=0;$e--){for(var nt=!0,at=0;at<tt;at++)if(read(Ee,$e+at)!==read(ze,at)){nt=!1;break}if(nt)return $e}return-1}function hexWrite(Ee,ze,Be,Ue){Be=Number(Be)||0;var We=Ee.length-Be;Ue?(Ue=Number(Ue))>We&&(Ue=We):Ue=We;var $e=ze.length;if($e%2!=0)throw new TypeError("Invalid hex string");Ue>$e/2&&(Ue=$e/2);for(var Qe=0;Qe<Ue;++Qe){var et=parseInt(ze.substr(2*Qe,2),16);if(isNaN(et))return Qe;Ee[Be+Qe]=et}return Qe}function utf8Write(Ee,ze,Be,Ue){return blitBuffer(utf8ToBytes(ze,Ee.length-Be),Ee,Be,Ue)}function asciiWrite(Ee,ze,Be,Ue){return blitBuffer(function asciiToBytes(Ee){for(var ze=[],Be=0;Be<Ee.length;++Be)ze.push(255&Ee.charCodeAt(Be));return ze}(ze),Ee,Be,Ue)}function latin1Write(Ee,ze,Be,Ue){return asciiWrite(Ee,ze,Be,Ue)}function base64Write(Ee,ze,Be,Ue){return blitBuffer(base64ToBytes(ze),Ee,Be,Ue)}function ucs2Write(Ee,ze,Be,Ue){return blitBuffer(function utf16leToBytes(Ee,ze){for(var Be,Ue,We,$e=[],Qe=0;Qe<Ee.length&&!((ze-=2)<0);++Qe)Be=Ee.charCodeAt(Qe),Ue=Be>>8,We=Be%256,$e.push(We),$e.push(Ue);return $e}(ze,Ee.length-Be),Ee,Be,Ue)}function base64Slice(Ee,ze,Be){return 0===ze&&Be===Ee.length?Ue.fromByteArray(Ee):Ue.fromByteArray(Ee.slice(ze,Be))}function utf8Slice(Ee,ze,Be){Be=Math.min(Ee.length,Be);for(var Ue=[],We=ze;We<Be;){var $e,Qe,et,tt,rt=Ee[We],nt=null,at=rt>239?4:rt>223?3:rt>191?2:1;if(We+at<=Be)switch(at){case 1:rt<128&&(nt=rt);break;case 2:128==(192&($e=Ee[We+1]))&&(tt=(31&rt)<<6|63&$e)>127&&(nt=tt);break;case 3:$e=Ee[We+1],Qe=Ee[We+2],128==(192&$e)&&128==(192&Qe)&&(tt=(15&rt)<<12|(63&$e)<<6|63&Qe)>2047&&(tt<55296||tt>57343)&&(nt=tt);break;case 4:$e=Ee[We+1],Qe=Ee[We+2],et=Ee[We+3],128==(192&$e)&&128==(192&Qe)&&128==(192&et)&&(tt=(15&rt)<<18|(63&$e)<<12|(63&Qe)<<6|63&et)>65535&&tt<1114112&&(nt=tt)}null===nt?(nt=65533,at=1):nt>65535&&(nt-=65536,Ue.push(nt>>>10&1023|55296),nt=56320|1023&nt),Ue.push(nt),We+=at}return function decodeCodePointsArray(Ee){var ze=Ee.length;if(ze<=4096)return String.fromCharCode.apply(String,Ee);var Be="",Ue=0;for(;Ue<ze;)Be+=String.fromCharCode.apply(String,Ee.slice(Ue,Ue+=4096));return Be}(Ue)}ze.Buffer=Buffer,ze.SlowBuffer=function SlowBuffer(Ee){+Ee!=Ee&&(Ee=0);return Buffer.alloc(+Ee)},ze.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==Ee.TYPED_ARRAY_SUPPORT?Ee.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var Ee=new Uint8Array(1);return Ee.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Ee.foo()&&"function"==typeof Ee.subarray&&0===Ee.subarray(1,1).byteLength}catch(Ee){return!1}}(),ze.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(Ee){return Ee.__proto__=Buffer.prototype,Ee},Buffer.from=function(Ee,ze,Be){return from(null,Ee,ze,Be)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(Ee,ze,Be){return function alloc(Ee,ze,Be,Ue){return assertSize(ze),ze<=0?createBuffer(Ee,ze):void 0!==Be?"string"==typeof Ue?createBuffer(Ee,ze).fill(Be,Ue):createBuffer(Ee,ze).fill(Be):createBuffer(Ee,ze)}(null,Ee,ze,Be)},Buffer.allocUnsafe=function(Ee){return allocUnsafe(null,Ee)},Buffer.allocUnsafeSlow=function(Ee){return allocUnsafe(null,Ee)},Buffer.isBuffer=function isBuffer(Ee){return!(null==Ee||!Ee._isBuffer)},Buffer.compare=function compare(Ee,ze){if(!Buffer.isBuffer(Ee)||!Buffer.isBuffer(ze))throw new TypeError("Arguments must be Buffers");if(Ee===ze)return 0;for(var Be=Ee.length,Ue=ze.length,We=0,$e=Math.min(Be,Ue);We<$e;++We)if(Ee[We]!==ze[We]){Be=Ee[We],Ue=ze[We];break}return Be<Ue?-1:Ue<Be?1:0},Buffer.isEncoding=function isEncoding(Ee){switch(String(Ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(Ee,ze){if(!$e(Ee))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ee.length)return Buffer.alloc(0);var Be;if(void 0===ze)for(ze=0,Be=0;Be<Ee.length;++Be)ze+=Ee[Be].length;var Ue=Buffer.allocUnsafe(ze),We=0;for(Be=0;Be<Ee.length;++Be){var Qe=Ee[Be];if(!Buffer.isBuffer(Qe))throw new TypeError('"list" argument must be an Array of Buffers');Qe.copy(Ue,We),We+=Qe.length}return Ue},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var Ee=this.length;if(Ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ze=0;ze<Ee;ze+=2)swap(this,ze,ze+1);return this},Buffer.prototype.swap32=function swap32(){var Ee=this.length;if(Ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ze=0;ze<Ee;ze+=4)swap(this,ze,ze+3),swap(this,ze+1,ze+2);return this},Buffer.prototype.swap64=function swap64(){var Ee=this.length;if(Ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ze=0;ze<Ee;ze+=8)swap(this,ze,ze+7),swap(this,ze+1,ze+6),swap(this,ze+2,ze+5),swap(this,ze+3,ze+4);return this},Buffer.prototype.toString=function toString(){var Ee=0|this.length;return 0===Ee?"":0===arguments.length?utf8Slice(this,0,Ee):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(Ee){if(!Buffer.isBuffer(Ee))throw new TypeError("Argument must be a Buffer");return this===Ee||0===Buffer.compare(this,Ee)},Buffer.prototype.inspect=function inspect(){var Ee="",Be=ze.INSPECT_MAX_BYTES;return this.length>0&&(Ee=this.toString("hex",0,Be).match(/.{2}/g).join(" "),this.length>Be&&(Ee+=" ... ")),"<Buffer "+Ee+">"},Buffer.prototype.compare=function compare(Ee,ze,Be,Ue,We){if(!Buffer.isBuffer(Ee))throw new TypeError("Argument must be a Buffer");if(void 0===ze&&(ze=0),void 0===Be&&(Be=Ee?Ee.length:0),void 0===Ue&&(Ue=0),void 0===We&&(We=this.length),ze<0||Be>Ee.length||Ue<0||We>this.length)throw new RangeError("out of range index");if(Ue>=We&&ze>=Be)return 0;if(Ue>=We)return-1;if(ze>=Be)return 1;if(this===Ee)return 0;for(var $e=(We>>>=0)-(Ue>>>=0),Qe=(Be>>>=0)-(ze>>>=0),et=Math.min($e,Qe),tt=this.slice(Ue,We),rt=Ee.slice(ze,Be),nt=0;nt<et;++nt)if(tt[nt]!==rt[nt]){$e=tt[nt],Qe=rt[nt];break}return $e<Qe?-1:Qe<$e?1:0},Buffer.prototype.includes=function includes(Ee,ze,Be){return-1!==this.indexOf(Ee,ze,Be)},Buffer.prototype.indexOf=function indexOf(Ee,ze,Be){return bidirectionalIndexOf(this,Ee,ze,Be,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(Ee,ze,Be){return bidirectionalIndexOf(this,Ee,ze,Be,!1)},Buffer.prototype.write=function write(Ee,ze,Be,Ue){if(void 0===ze)Ue="utf8",Be=this.length,ze=0;else if(void 0===Be&&"string"==typeof ze)Ue=ze,Be=this.length,ze=0;else{if(!isFinite(ze))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ze|=0,isFinite(Be)?(Be|=0,void 0===Ue&&(Ue="utf8")):(Ue=Be,Be=void 0)}var We=this.length-ze;if((void 0===Be||Be>We)&&(Be=We),Ee.length>0&&(Be<0||ze<0)||ze>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var $e=!1;;)switch(Ue){case"hex":return hexWrite(this,Ee,ze,Be);case"utf8":case"utf-8":return utf8Write(this,Ee,ze,Be);case"ascii":return asciiWrite(this,Ee,ze,Be);case"latin1":case"binary":return latin1Write(this,Ee,ze,Be);case"base64":return base64Write(this,Ee,ze,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,Ee,ze,Be);default:if($e)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),$e=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(Ee,ze,Be){var Ue="";Be=Math.min(Ee.length,Be);for(var We=ze;We<Be;++We)Ue+=String.fromCharCode(127&Ee[We]);return Ue}function latin1Slice(Ee,ze,Be){var Ue="";Be=Math.min(Ee.length,Be);for(var We=ze;We<Be;++We)Ue+=String.fromCharCode(Ee[We]);return Ue}function hexSlice(Ee,ze,Be){var Ue=Ee.length;(!ze||ze<0)&&(ze=0),(!Be||Be<0||Be>Ue)&&(Be=Ue);for(var We="",$e=ze;$e<Be;++$e)We+=toHex(Ee[$e]);return We}function utf16leSlice(Ee,ze,Be){for(var Ue=Ee.slice(ze,Be),We="",$e=0;$e<Ue.length;$e+=2)We+=String.fromCharCode(Ue[$e]+256*Ue[$e+1]);return We}function checkOffset(Ee,ze,Be){if(Ee%1!=0||Ee<0)throw new RangeError("offset is not uint");if(Ee+ze>Be)throw new RangeError("Trying to access beyond buffer length")}function checkInt(Ee,ze,Be,Ue,We,$e){if(!Buffer.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>We||ze<$e)throw new RangeError('"value" argument is out of bounds');if(Be+Ue>Ee.length)throw new RangeError("Index out of range")}function objectWriteUInt16(Ee,ze,Be,Ue){ze<0&&(ze=65535+ze+1);for(var We=0,$e=Math.min(Ee.length-Be,2);We<$e;++We)Ee[Be+We]=(ze&255<<8*(Ue?We:1-We))>>>8*(Ue?We:1-We)}function objectWriteUInt32(Ee,ze,Be,Ue){ze<0&&(ze=4294967295+ze+1);for(var We=0,$e=Math.min(Ee.length-Be,4);We<$e;++We)Ee[Be+We]=ze>>>8*(Ue?We:3-We)&255}function checkIEEE754(Ee,ze,Be,Ue,We,$e){if(Be+Ue>Ee.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("Index out of range")}function writeFloat(Ee,ze,Be,Ue,$e){return $e||checkIEEE754(Ee,0,Be,4),We.write(Ee,ze,Be,Ue,23,4),Be+4}function writeDouble(Ee,ze,Be,Ue,$e){return $e||checkIEEE754(Ee,0,Be,8),We.write(Ee,ze,Be,Ue,52,8),Be+8}Buffer.prototype.slice=function slice(Ee,ze){var Be,Ue=this.length;if((Ee=~~Ee)<0?(Ee+=Ue)<0&&(Ee=0):Ee>Ue&&(Ee=Ue),(ze=void 0===ze?Ue:~~ze)<0?(ze+=Ue)<0&&(ze=0):ze>Ue&&(ze=Ue),ze<Ee&&(ze=Ee),Buffer.TYPED_ARRAY_SUPPORT)(Be=this.subarray(Ee,ze)).__proto__=Buffer.prototype;else{var We=ze-Ee;Be=new Buffer(We,void 0);for(var $e=0;$e<We;++$e)Be[$e]=this[$e+Ee]}return Be},Buffer.prototype.readUIntLE=function readUIntLE(Ee,ze,Be){Ee|=0,ze|=0,Be||checkOffset(Ee,ze,this.length);for(var Ue=this[Ee],We=1,$e=0;++$e<ze&&(We*=256);)Ue+=this[Ee+$e]*We;return Ue},Buffer.prototype.readUIntBE=function readUIntBE(Ee,ze,Be){Ee|=0,ze|=0,Be||checkOffset(Ee,ze,this.length);for(var Ue=this[Ee+--ze],We=1;ze>0&&(We*=256);)Ue+=this[Ee+--ze]*We;return Ue},Buffer.prototype.readUInt8=function readUInt8(Ee,ze){return ze||checkOffset(Ee,1,this.length),this[Ee]},Buffer.prototype.readUInt16LE=function readUInt16LE(Ee,ze){return ze||checkOffset(Ee,2,this.length),this[Ee]|this[Ee+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(Ee,ze){return ze||checkOffset(Ee,2,this.length),this[Ee]<<8|this[Ee+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(Ee,ze){return ze||checkOffset(Ee,4,this.length),(this[Ee]|this[Ee+1]<<8|this[Ee+2]<<16)+16777216*this[Ee+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(Ee,ze){return ze||checkOffset(Ee,4,this.length),16777216*this[Ee]+(this[Ee+1]<<16|this[Ee+2]<<8|this[Ee+3])},Buffer.prototype.readIntLE=function readIntLE(Ee,ze,Be){Ee|=0,ze|=0,Be||checkOffset(Ee,ze,this.length);for(var Ue=this[Ee],We=1,$e=0;++$e<ze&&(We*=256);)Ue+=this[Ee+$e]*We;return Ue>=(We*=128)&&(Ue-=Math.pow(2,8*ze)),Ue},Buffer.prototype.readIntBE=function readIntBE(Ee,ze,Be){Ee|=0,ze|=0,Be||checkOffset(Ee,ze,this.length);for(var Ue=ze,We=1,$e=this[Ee+--Ue];Ue>0&&(We*=256);)$e+=this[Ee+--Ue]*We;return $e>=(We*=128)&&($e-=Math.pow(2,8*ze)),$e},Buffer.prototype.readInt8=function readInt8(Ee,ze){return ze||checkOffset(Ee,1,this.length),128&this[Ee]?-1*(255-this[Ee]+1):this[Ee]},Buffer.prototype.readInt16LE=function readInt16LE(Ee,ze){ze||checkOffset(Ee,2,this.length);var Be=this[Ee]|this[Ee+1]<<8;return 32768&Be?4294901760|Be:Be},Buffer.prototype.readInt16BE=function readInt16BE(Ee,ze){ze||checkOffset(Ee,2,this.length);var Be=this[Ee+1]|this[Ee]<<8;return 32768&Be?4294901760|Be:Be},Buffer.prototype.readInt32LE=function readInt32LE(Ee,ze){return ze||checkOffset(Ee,4,this.length),this[Ee]|this[Ee+1]<<8|this[Ee+2]<<16|this[Ee+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(Ee,ze){return ze||checkOffset(Ee,4,this.length),this[Ee]<<24|this[Ee+1]<<16|this[Ee+2]<<8|this[Ee+3]},Buffer.prototype.readFloatLE=function readFloatLE(Ee,ze){return ze||checkOffset(Ee,4,this.length),We.read(this,Ee,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(Ee,ze){return ze||checkOffset(Ee,4,this.length),We.read(this,Ee,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(Ee,ze){return ze||checkOffset(Ee,8,this.length),We.read(this,Ee,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(Ee,ze){return ze||checkOffset(Ee,8,this.length),We.read(this,Ee,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(Ee,ze,Be,Ue){(Ee=+Ee,ze|=0,Be|=0,Ue)||checkInt(this,Ee,ze,Be,Math.pow(2,8*Be)-1,0);var We=1,$e=0;for(this[ze]=255&Ee;++$e<Be&&(We*=256);)this[ze+$e]=Ee/We&255;return ze+Be},Buffer.prototype.writeUIntBE=function writeUIntBE(Ee,ze,Be,Ue){(Ee=+Ee,ze|=0,Be|=0,Ue)||checkInt(this,Ee,ze,Be,Math.pow(2,8*Be)-1,0);var We=Be-1,$e=1;for(this[ze+We]=255&Ee;--We>=0&&($e*=256);)this[ze+We]=Ee/$e&255;return ze+Be},Buffer.prototype.writeUInt8=function writeUInt8(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(Ee=Math.floor(Ee)),this[ze]=255&Ee,ze+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=255&Ee,this[ze+1]=Ee>>>8):objectWriteUInt16(this,Ee,ze,!0),ze+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=Ee>>>8,this[ze+1]=255&Ee):objectWriteUInt16(this,Ee,ze,!1),ze+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[ze+3]=Ee>>>24,this[ze+2]=Ee>>>16,this[ze+1]=Ee>>>8,this[ze]=255&Ee):objectWriteUInt32(this,Ee,ze,!0),ze+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=Ee>>>24,this[ze+1]=Ee>>>16,this[ze+2]=Ee>>>8,this[ze+3]=255&Ee):objectWriteUInt32(this,Ee,ze,!1),ze+4},Buffer.prototype.writeIntLE=function writeIntLE(Ee,ze,Be,Ue){if(Ee=+Ee,ze|=0,!Ue){var We=Math.pow(2,8*Be-1);checkInt(this,Ee,ze,Be,We-1,-We)}var $e=0,Qe=1,et=0;for(this[ze]=255&Ee;++$e<Be&&(Qe*=256);)Ee<0&&0===et&&0!==this[ze+$e-1]&&(et=1),this[ze+$e]=(Ee/Qe>>0)-et&255;return ze+Be},Buffer.prototype.writeIntBE=function writeIntBE(Ee,ze,Be,Ue){if(Ee=+Ee,ze|=0,!Ue){var We=Math.pow(2,8*Be-1);checkInt(this,Ee,ze,Be,We-1,-We)}var $e=Be-1,Qe=1,et=0;for(this[ze+$e]=255&Ee;--$e>=0&&(Qe*=256);)Ee<0&&0===et&&0!==this[ze+$e+1]&&(et=1),this[ze+$e]=(Ee/Qe>>0)-et&255;return ze+Be},Buffer.prototype.writeInt8=function writeInt8(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(Ee=Math.floor(Ee)),Ee<0&&(Ee=255+Ee+1),this[ze]=255&Ee,ze+1},Buffer.prototype.writeInt16LE=function writeInt16LE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=255&Ee,this[ze+1]=Ee>>>8):objectWriteUInt16(this,Ee,ze,!0),ze+2},Buffer.prototype.writeInt16BE=function writeInt16BE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=Ee>>>8,this[ze+1]=255&Ee):objectWriteUInt16(this,Ee,ze,!1),ze+2},Buffer.prototype.writeInt32LE=function writeInt32LE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=255&Ee,this[ze+1]=Ee>>>8,this[ze+2]=Ee>>>16,this[ze+3]=Ee>>>24):objectWriteUInt32(this,Ee,ze,!0),ze+4},Buffer.prototype.writeInt32BE=function writeInt32BE(Ee,ze,Be){return Ee=+Ee,ze|=0,Be||checkInt(this,Ee,ze,4,2147483647,-2147483648),Ee<0&&(Ee=4294967295+Ee+1),Buffer.TYPED_ARRAY_SUPPORT?(this[ze]=Ee>>>24,this[ze+1]=Ee>>>16,this[ze+2]=Ee>>>8,this[ze+3]=255&Ee):objectWriteUInt32(this,Ee,ze,!1),ze+4},Buffer.prototype.writeFloatLE=function writeFloatLE(Ee,ze,Be){return writeFloat(this,Ee,ze,!0,Be)},Buffer.prototype.writeFloatBE=function writeFloatBE(Ee,ze,Be){return writeFloat(this,Ee,ze,!1,Be)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(Ee,ze,Be){return writeDouble(this,Ee,ze,!0,Be)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(Ee,ze,Be){return writeDouble(this,Ee,ze,!1,Be)},Buffer.prototype.copy=function copy(Ee,ze,Be,Ue){if(Be||(Be=0),Ue||0===Ue||(Ue=this.length),ze>=Ee.length&&(ze=Ee.length),ze||(ze=0),Ue>0&&Ue<Be&&(Ue=Be),Ue===Be)return 0;if(0===Ee.length||0===this.length)return 0;if(ze<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("sourceStart out of bounds");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),Ee.length-ze<Ue-Be&&(Ue=Ee.length-ze+Be);var We,$e=Ue-Be;if(this===Ee&&Be<ze&&ze<Ue)for(We=$e-1;We>=0;--We)Ee[We+ze]=this[We+Be];else if($e<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(We=0;We<$e;++We)Ee[We+ze]=this[We+Be];else Uint8Array.prototype.set.call(Ee,this.subarray(Be,Be+$e),ze);return $e},Buffer.prototype.fill=function fill(Ee,ze,Be,Ue){if("string"==typeof Ee){if("string"==typeof ze?(Ue=ze,ze=0,Be=this.length):"string"==typeof Be&&(Ue=Be,Be=this.length),1===Ee.length){var We=Ee.charCodeAt(0);We<256&&(Ee=We)}if(void 0!==Ue&&"string"!=typeof Ue)throw new TypeError("encoding must be a string");if("string"==typeof Ue&&!Buffer.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue)}else"number"==typeof Ee&&(Ee&=255);if(ze<0||this.length<ze||this.length<Be)throw new RangeError("Out of range index");if(Be<=ze)return this;var $e;if(ze>>>=0,Be=void 0===Be?this.length:Be>>>0,Ee||(Ee=0),"number"==typeof Ee)for($e=ze;$e<Be;++$e)this[$e]=Ee;else{var Qe=Buffer.isBuffer(Ee)?Ee:utf8ToBytes(new Buffer(Ee,Ue).toString()),et=Qe.length;for($e=0;$e<Be-ze;++$e)this[$e+ze]=Qe[$e%et]}return this};var Qe=/[^+\/0-9A-Za-z-_]/g;function toHex(Ee){return Ee<16?"0"+Ee.toString(16):Ee.toString(16)}function utf8ToBytes(Ee,ze){var Be;ze=ze||1/0;for(var Ue=Ee.length,We=null,$e=[],Qe=0;Qe<Ue;++Qe){if((Be=Ee.charCodeAt(Qe))>55295&&Be<57344){if(!We){if(Be>56319){(ze-=3)>-1&&$e.push(239,191,189);continue}if(Qe+1===Ue){(ze-=3)>-1&&$e.push(239,191,189);continue}We=Be;continue}if(Be<56320){(ze-=3)>-1&&$e.push(239,191,189),We=Be;continue}Be=65536+(We-55296<<10|Be-56320)}else We&&(ze-=3)>-1&&$e.push(239,191,189);if(We=null,Be<128){if((ze-=1)<0)break;$e.push(Be)}else if(Be<2048){if((ze-=2)<0)break;$e.push(Be>>6|192,63&Be|128)}else if(Be<65536){if((ze-=3)<0)break;$e.push(Be>>12|224,Be>>6&63|128,63&Be|128)}else{if(!(Be<1114112))throw new Error("Invalid code point");if((ze-=4)<0)break;$e.push(Be>>18|240,Be>>12&63|128,Be>>6&63|128,63&Be|128)}}return $e}function base64ToBytes(Ee){return Ue.toByteArray(function base64clean(Ee){if((Ee=function stringtrim(Ee){return Ee.trim?Ee.trim():Ee.replace(/^\s+|\s+$/g,"")}(Ee).replace(Qe,"")).length<2)return"";for(;Ee.length%4!=0;)Ee+="=";return Ee}(Ee))}function blitBuffer(Ee,ze,Be,Ue){for(var We=0;We<Ue&&!(We+Be>=ze.length||We>=Ee.length);++We)ze[We+Be]=Ee[We];return We}}).call(this,Be("c8ba"))},b64b:function(Ee,ze,Be){var Ue=Be("23e7"),We=Be("7b0b"),$e=Be("df75");Ue({target:"Object",stat:!0,forced:Be("d039")((function(){$e(1)}))},{keys:function keys(Ee){return $e(We(Ee))}})},b68b:function(Ee,ze,Be){"use strict";var Ue=Be("ec20").dot,We=Be("e806").BADNUM,$e=Ee.exports={};$e.tester=function tester(Ee){var ze,Be=Ee.slice(),Ue=Be[0][0],$e=Ue,Qe=Be[0][1],et=Qe;for(Be.push(Be[0]),ze=1;ze<Be.length;ze++)Ue=Math.min(Ue,Be[ze][0]),$e=Math.max($e,Be[ze][0]),Qe=Math.min(Qe,Be[ze][1]),et=Math.max(et,Be[ze][1]);var tt,rt=!1;5===Be.length&&(Be[0][0]===Be[1][0]?Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]&&(rt=!0,tt=function(Ee){return Ee[0]===Be[0][0]}):Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0]&&(rt=!0,tt=function(Ee){return Ee[1]===Be[0][1]}));var nt=!0,at=Be[0];for(ze=1;ze<Be.length;ze++)if(at[0]!==Be[ze][0]||at[1]!==Be[ze][1]){nt=!1;break}return{xmin:Ue,xmax:$e,ymin:Qe,ymax:et,pts:Be,contains:rt?function rectContains(Ee,ze){var Be=Ee[0],rt=Ee[1];return!(Be===We||Be<Ue||Be>$e||rt===We||rt<Qe||rt>et)&&(!ze||!tt(Ee))}:function contains(Ee,ze){var tt=Ee[0],rt=Ee[1];if(tt===We||tt<Ue||tt>$e||rt===We||rt<Qe||rt>et)return!1;var nt,at,it,ct,ft,xt=Be.length,kt=Be[0][0],Lt=Be[0][1],Ut=0;for(nt=1;nt<xt;nt++)if(at=kt,it=Lt,kt=Be[nt][0],Lt=Be[nt][1],!(tt<(ct=Math.min(at,kt))||tt>Math.max(at,kt)||rt>Math.max(it,Lt)))if(rt<Math.min(it,Lt))tt!==ct&&Ut++;else{if(rt===(ft=kt===at?rt:it+(tt-at)*(Lt-it)/(kt-at)))return 1!==nt||!ze;rt<=ft&&tt!==ct&&Ut++}return Ut%2==1},isRect:rt,degenerate:nt}},$e.isSegmentBent=function isSegmentBent(Ee,ze,Be,We){var $e,Qe,et,tt=Ee[ze],rt=[Ee[Be][0]-tt[0],Ee[Be][1]-tt[1]],nt=Ue(rt,rt),at=Math.sqrt(nt),it=[-rt[1]/at,rt[0]/at];for($e=ze+1;$e<Be;$e++)if(Qe=[Ee[$e][0]-tt[0],Ee[$e][1]-tt[1]],(et=Ue(Qe,rt))<0||et>nt||Math.abs(Ue(Qe,it))>We)return!0;return!1},$e.filter=function filter(Ee,ze){var Be=[Ee[0]],Ue=0,We=0;function addPt(Qe){Ee.push(Qe);var et=Be.length,tt=Ue;Be.splice(We+1);for(var rt=tt+1;rt<Ee.length;rt++)(rt===Ee.length-1||$e.isSegmentBent(Ee,tt,rt+1,ze))&&(Be.push(Ee[rt]),Be.length<et-2&&(Ue=rt,We=Be.length-1),tt=rt)}Ee.length>1&&addPt(Ee.pop());return{addPt:addPt,raw:Ee,filtered:Be}}},b6de:function(Ee,ze,Be){"use strict";var Ue=Be("bb71");ze.name="treemap",ze.plot=function(Ee,Be,We,$e){Ue.plotBasePlot(ze.name,Ee,Be,We,$e)},ze.clean=function(Ee,Be,We,$e){Ue.cleanBasePlot(ze.name,Ee,Be,We,$e)}},b6f7:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("4183"),Qe=Be("6b50");Ee.exports=function supplyDefaults(Ee,ze,Be,et){function coerce(Be,Ue){return We.coerce(Ee,ze,Qe,Be,Ue)}function readComponents(Ee){var ze=Ee.map((function(Ee){var ze=coerce(Ee);return ze&&We.isArrayOrTypedArray(ze)?ze:null}));return ze.every((function(Ee){return Ee&&Ee.length===ze[0].length}))&&ze}readComponents(["x","y","z"])?(readComponents(["i","j","k"]),(!ze.i||ze.j&&ze.k)&&(!ze.j||ze.k&&ze.i)&&(!ze.k||ze.i&&ze.j)?(Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y","z"],et),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach((function(Ee){coerce(Ee)})),coerce("contour.show")&&(coerce("contour.color"),coerce("contour.width")),"intensity"in Ee?(coerce("intensity"),coerce("intensitymode"),$e(Ee,ze,et,coerce,{prefix:"",cLetter:"c"})):(ze.showscale=!1,"facecolor"in Ee?coerce("facecolor"):"vertexcolor"in Ee?coerce("vertexcolor"):coerce("color",Be)),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),ze._length=null):ze.visible=!1):ze.visible=!1}},b707:function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We,$e){var Qe=["function ",Ee,"(a,l,h,",Ue.join(","),"){",$e?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",We?".get(m)":"[m]"];return $e?ze.indexOf("c")<0?Qe.push(";if(x===y){return m}else if(x<=y){"):Qe.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):Qe.push(";if(",ze,"){i=m;"),Be?Qe.push("l=m+1}else{h=m-1}"):Qe.push("h=m-1}else{l=m+1}"),Qe.push("}"),$e?Qe.push("return -1};"):Qe.push("return i};"),Qe.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],!1,Ue),compileSearch("B","x"+Ee+"y",ze,["y"],!0,Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],!1,Ue),compileSearch("Q","c(x,y)"+Ee+"0",ze,["y","c"],!0,Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},b727:function(Ee,ze,Be){var Ue=Be("0366"),We=Be("44ad"),$e=Be("7b0b"),Qe=Be("50c4"),et=Be("65f0"),tt=[].push,createMethod=function(Ee){var ze=1==Ee,Be=2==Ee,rt=3==Ee,nt=4==Ee,at=6==Ee,it=5==Ee||at;return function(ct,ft,xt,kt){for(var Lt,Ut,er=$e(ct),tr=We(er),rr=Ue(ft,xt,3),ar=Qe(tr.length),Lr=0,Qr=kt||et,on=ze?Qr(ct,ar):Be?Qr(ct,0):void 0;ar>Lr;Lr++)if((it||Lr in tr)&&(Ut=rr(Lt=tr[Lr],Lr,er),Ee))if(ze)on[Lr]=Ut;else if(Ut)switch(Ee){case 3:return!0;case 5:return Lt;case 6:return Lr;case 2:tt.call(on,Lt)}else if(nt)return!1;return at?-1:rt||nt?nt:on}};Ee.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},b73f:function(Ee,ze){Ee.exports=function rotateZ(Ee,ze,Be,Ue){var We=Be[0],$e=Be[1],Qe=ze[0]-We,et=ze[1]-$e,tt=Math.sin(Ue),rt=Math.cos(Ue);return Ee[0]=We+Qe*rt-et*tt,Ee[1]=$e+Qe*tt+et*rt,Ee[2]=ze[2],Ee}},b778:function(Ee,ze,Be){"use strict";Ee.exports=function noop(){}},b791:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("c258"),Qe=Be("83d1"),et=Be("2169").makeBlank,tt=Be("0919");function convertOnSelect(Ee){var ze,Be=Ee[0].trace,Ue=Be._opts;if(Be.selectedpoints){for(var $e=Qe.makeSelectedPointStyleFns(Be),et=0;et<Ee.length;et++){var tt=Ee[et];tt.fOut&&(tt.fOut.properties.mo2=$e.selectedOpacityFn(tt))}ze={type:"identity",property:"mo2"}}else ze=We.isArrayOrTypedArray(Be.marker.opacity)?{type:"identity",property:"mo"}:Be.marker.opacity;return We.extendFlat(Ue.fill.paint,{"fill-opacity":ze}),We.extendFlat(Ue.line.paint,{"line-opacity":ze}),Ue}Ee.exports={convert:function convert(Ee){var ze=Ee[0].trace,Be=!0===ze.visible&&0!==ze._length,Qe={layout:{visibility:"none"},paint:{}},rt={layout:{visibility:"none"},paint:{}},nt=ze._opts={fill:Qe,line:rt,geojson:et()};if(!Be)return nt;var at=tt.extractTraceFeature(Ee);if(!at)return nt;var it,ct,ft,xt=$e.makeColorScaleFuncFromTrace(ze),kt=ze.marker,Lt=kt.line||{};We.isArrayOrTypedArray(kt.opacity)&&(it=function(Ee){var ze=Ee.mo;return Ue(ze)?+We.constrain(ze,0,1):0}),We.isArrayOrTypedArray(Lt.color)&&(ct=function(Ee){return Ee.mlc}),We.isArrayOrTypedArray(Lt.width)&&(ft=function(Ee){return Ee.mlw});for(var Ut=0;Ut<Ee.length;Ut++){var er=Ee[Ut],tr=er.fOut;if(tr){var rr=tr.properties;rr.fc=xt(er.z),it&&(rr.mo=it(er)),ct&&(rr.mlc=ct(er)),ft&&(rr.mlw=ft(er)),er.ct=rr.ct,er._polygons=tt.feature2polygons(tr)}}var ar=it?{type:"identity",property:"mo"}:kt.opacity;return We.extendFlat(Qe.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":ar}),We.extendFlat(rt.paint,{"line-color":ct?{type:"identity",property:"mlc"}:Lt.color,"line-width":ft?{type:"identity",property:"mlw"}:Lt.width,"line-opacity":ar}),Qe.layout.visibility="visible",rt.layout.visibility="visible",nt.geojson={type:"FeatureCollection",features:at},convertOnSelect(Ee),nt},convertOnSelect:convertOnSelect}},b7b8:function(Ee,ze,Be){"use strict";var Ue=Be("d798"),We=Be("9092").extendFlat,$e=Be("cb34").overrideAll,Qe=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),et=We({},Ue.domain,{});function mergeAttrs(Ee,ze){return We({},ze,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:Qe},visible:{valType:"boolean"}})}Ee.exports=$e({radialaxis:mergeAttrs(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:et,orientation:{valType:"number"}}),angularaxis:mergeAttrs(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:et}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},b7bb:function(Ee,ze,Be){"use strict";Ee.exports=Be("0591")},b7d1:function(Ee,ze,Be){"use strict";Ee.exports=function pick(Ee,ze,Be){var Ue,We,$e={};if("string"==typeof ze&&(ze=toList(ze)),Array.isArray(ze)){var Qe={};for(We=0;We<ze.length;We++)Qe[ze[We]]=!0;ze=Qe}for(Ue in ze)ze[Ue]=toList(ze[Ue]);var et={};for(Ue in ze){var tt=ze[Ue];if(Array.isArray(tt))for(We=0;We<tt.length;We++){var rt=tt[We];if(Be&&(et[rt]=!0),rt in Ee){if($e[Ue]=Ee[rt],Be)for(var nt=We;nt<tt.length;nt++)et[tt[nt]]=!0;break}}else Ue in Ee&&(ze[Ue]&&($e[Ue]=Ee[Ue]),Be&&(et[Ue]=!0))}if(Be)for(Ue in Ee)et[Ue]||($e[Ue]=Ee[Ue]);return $e};var Ue={};function toList(Ee){return Ue[Ee]?Ue[Ee]:("string"==typeof Ee&&(Ee=Ue[Ee]=Ee.split(/\s*,\s*|\s+/)),Ee)}},b7e7:function(Ee,ze,Be){"use strict";Ee.exports=Be("4f94")},b7f7:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("3044"),supplyDefaults:Be("eb12"),colorbar:Be("a5e1"),calc:Be("0adf"),plot:Be("f6d3"),style:Be("ee6b"),moduleType:"trace",name:"contourcarpet",basePlotModule:Be("91cd"),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},b7f8:function(Ee,ze,Be){"use strict";Ee.exports=function extractContour(Ee,ze,Be,et){Be=Be||0,void 0===et&&(et=function getDimension(Ee){for(var ze=Ee.length,Be=0,Ue=0;Ue<ze;++Ue)Be=0|Math.max(Be,Ee[Ue].length);return Be-1}(Ee));if(0===Ee.length||et<1)return{cells:[],vertexIds:[],vertexWeights:[]};var tt=function getSigns(Ee,ze){for(var Be=Ee.length,Ue=We.mallocUint8(Be),$e=0;$e<Be;++$e)Ue[$e]=Ee[$e]<ze|0;return Ue}(ze,+Be),rt=function getEdges(Ee,ze){for(var Be=Ee.length,Qe=ze*(ze+1)/2*Be|0,et=We.mallocUint32(2*Qe),tt=0,rt=0;rt<Be;++rt)for(var nt=Ee[rt],at=(ze=nt.length,0);at<ze;++at)for(var it=0;it<at;++it){var ct=nt[it],ft=nt[at];et[tt++]=0|Math.min(ct,ft),et[tt++]=0|Math.max(ct,ft)}$e(Ue(et,[tt/2|0,2]));var xt=2;for(rt=2;rt<tt;rt+=2)et[rt-2]===et[rt]&&et[rt-1]===et[rt+1]||(et[xt++]=et[rt],et[xt++]=et[rt+1]);return Ue(et,[xt/2|0,2])}(Ee,et),nt=function getCrossingWeights(Ee,ze,Be,$e){for(var Qe=Ee.data,et=Ee.shape[0],tt=We.mallocDouble(et),rt=0,nt=0;nt<et;++nt){var at=Qe[2*nt],it=Qe[2*nt+1];if(Be[at]!==Be[it]){var ct=ze[at],ft=ze[it];Qe[2*rt]=at,Qe[2*rt+1]=it,tt[rt++]=(ft-$e)/(ft-ct)}}return Ee.shape[0]=rt,Ue(tt,[rt])}(rt,ze,tt,+Be),at=function getCascade(Ee,ze){var Be=We.mallocInt32(2*ze),Ue=Ee.shape[0],$e=Ee.data;Be[0]=0;for(var Qe=0,et=0;et<Ue;++et){var tt=$e[2*et];if(tt!==Qe){for(Be[2*Qe+1]=et;++Qe<tt;)Be[2*Qe]=et,Be[2*Qe+1]=et;Be[2*Qe]=et}}Be[2*Qe+1]=Ue;for(;++Qe<ze;)Be[2*Qe]=Be[2*Qe+1]=Ue;return Be}(rt,0|ze.length),it=Qe(et)(Ee,rt.data,at,tt),ct=function unpackEdges(Ee){for(var ze=0|Ee.shape[0],Be=Ee.data,Ue=new Array(ze),We=0;We<ze;++We)Ue[We]=[Be[2*We],Be[2*We+1]];return Ue}(rt),ft=[].slice.call(nt.data,0,nt.shape[0]);return We.free(tt),We.free(rt.data),We.free(nt.data),We.free(at),{cells:it,vertexIds:ct,vertexWeights:ft}};var Ue=Be("b5bb"),We=Be("cea5"),$e=Be("1d4c"),Qe=Be("e9dc")},b82b:function(Ee,ze,Be){"use strict";var Ue=Be("a9a1"),We=Be("c05e");function xformMatrix(Ee,ze){for(var Be=[0,0,0,0],Ue=0;Ue<4;++Ue)for(var We=0;We<4;++We)Be[We]+=Ee[4*Ue+We]*ze[Ue];return Be}function projectVertex(Ee,ze,Be,Ue,We){for(var $e=xformMatrix(Ue,xformMatrix(Be,xformMatrix(ze,[Ee[0],Ee[1],Ee[2],1]))),Qe=0;Qe<3;++Qe)$e[Qe]/=$e[3];return[.5*We[0]*(1+$e[0]),.5*We[1]*(1-$e[1])]}function interpolate(Ee,ze){for(var Be=[0,0,0],Ue=0;Ue<Ee.length;++Ue)for(var We=Ee[Ue],$e=ze[Ue],Qe=0;Qe<3;++Qe)Be[Qe]+=$e*We[Qe];return Be}Ee.exports=function closestPointToPickLocation(Ee,ze,Be,$e,Qe,et){if(1===Ee.length)return[0,Ee[0].slice()];for(var tt=new Array(Ee.length),rt=0;rt<Ee.length;++rt)tt[rt]=projectVertex(Ee[rt],Be,$e,Qe,et);var nt=0,at=1/0;for(rt=0;rt<tt.length;++rt){for(var it=0,ct=0;ct<2;++ct)it+=Math.pow(tt[rt][ct]-ze[ct],2);it<at&&(at=it,nt=rt)}var ft=function barycentricCoord(Ee,ze){if(2===Ee.length){for(var Be=0,$e=0,Qe=0;Qe<2;++Qe)Be+=Math.pow(ze[Qe]-Ee[0][Qe],2),$e+=Math.pow(ze[Qe]-Ee[1][Qe],2);return Be=Math.sqrt(Be),$e=Math.sqrt($e),Be+$e<1e-6?[1,0]:[$e/(Be+$e),Be/($e+Be)]}if(3===Ee.length){var et=[0,0];return We(Ee[0],Ee[1],Ee[2],ze,et),Ue(Ee,et)}return[]}(tt,ze),xt=0;for(rt=0;rt<3;++rt){if(ft[rt]<-.001||ft[rt]>1.0001)return null;xt+=ft[rt]}if(Math.abs(xt-1)>.001)return null;return[nt,interpolate(Ee,ft),ft]}},b83d:function(Ee,ze,Be){"use strict";var Ue=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function bruteForcePlanner(Ee){var ze="bruteForce"+(Ee?"Full":"Partial"),Be=[],We=Ue.slice();Ee||We.splice(3,0,"fp");var $e=["function "+ze+"("+We.join()+"){"];function invoke(ze,We){var Qe=function generateBruteForce(Ee,ze,Be){var We="bruteForce"+(Ee?"Red":"Blue")+(ze?"Flip":"")+(Be?"Full":""),$e=["function ",We,"(",Ue.join(),"){","var ","es","=2*","d",";"],Qe="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",et="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(Be?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return Ee?$e.push(Qe,"Q",":",et):$e.push(et,"Q",":",Qe),Be?$e.push("if(y1<x0||x1<y0)continue;"):ze?$e.push("if(y0<=x0||x1<y0)continue;"):$e.push("if(y0<x0||x1<y0)continue;"),$e.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),ze?$e.push("yi,xi"):$e.push("xi,yi"),$e.push(");if(rv!==void 0)return rv;}}}"),{name:We,code:$e.join("")}}(ze,We,Ee);Be.push(Qe.code),$e.push("return "+Qe.name+"("+Ue.join()+");")}$e.push("if(re-rs>be-bs){"),Ee?(invoke(!0,!1),$e.push("}else{"),invoke(!1,!1)):($e.push("if(fp){"),invoke(!0,!0),$e.push("}else{"),invoke(!0,!1),$e.push("}}else{if(fp){"),invoke(!1,!0),$e.push("}else{"),invoke(!1,!1),$e.push("}")),$e.push("}}return "+ze);var Qe=Be.join("")+$e.join("");return new Function(Qe)()}ze.partial=bruteForcePlanner(!1),ze.full=bruteForcePlanner(!0)},b882:function(Ee,ze,Be){Ee.exports=function forEach(Ee,ze,Be,We,$e,Qe){var et,tt;ze||(ze=3);Be||(Be=0);tt=We?Math.min(We*ze+Be,Ee.length):Ee.length;for(et=Be;et<tt;et+=ze)Ue[0]=Ee[et],Ue[1]=Ee[et+1],Ue[2]=Ee[et+2],$e(Ue,Ue,Qe),Ee[et]=Ue[0],Ee[et+1]=Ue[1],Ee[et+2]=Ue[2];return Ee};var Ue=Be("cf8b")()},b8b2:function(Ee,ze,Be){"use strict";var Ue=Be("f118"),We=Be("0642"),$e=Be("83d1");Ee.exports=function plot(Ee,ze,Be,Qe){var et,tt,rt,nt=Be[0][0].carpet,at={xaxis:We.getFromId(Ee,nt.xaxis||"x"),yaxis:We.getFromId(Ee,nt.yaxis||"y"),plot:ze.plot};for(Ue(Ee,at,Be,Qe),et=0;et<Be.length;et++)tt=Be[et][0].trace,rt=Qe.selectAll("g.trace"+tt.uid+" .js-line"),$e.setClipUrl(rt,Be[et][0].carpet._clipPathId,Ee)}},b8c0:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("6a77"),Qe=Be("0681"),et=Be("e806").BADNUM;function calcBandwidth(Ee,ze,Be){var We=ze.max-ze.min;if(!We)return Ee.bandwidth?Ee.bandwidth:0;if(Ee.bandwidth)return Math.max(Ee.bandwidth,We/1e4);var $e=Be.length,Qe=Ue.stdev(Be,$e-1,ze.mean);return Math.max(function silvermanRule(Ee,ze,Be){return 1.059*Math.min(ze,Be/1.349)*Math.pow(Ee,-.2)}($e,Qe,ze.q3-ze.q1),We/100)}function calcSpan(Ee,ze,Be,Ue){var $e,Qe=Ee.spanmode,tt=Ee.span||[],rt=[ze.min,ze.max],nt=[ze.min-2*Ue,ze.max+2*Ue];function calcSpanItem(Ue){var We=tt[Ue],$e="multicategory"===Be.type?Be.r2c(We):Be.d2c(We,0,Ee[ze.valLetter+"calendar"]);return $e===et?nt[Ue]:$e}var at={type:"linear",range:$e="soft"===Qe?nt:"hard"===Qe?rt:[calcSpanItem(0),calcSpanItem(1)]};return We.setConvert(at),at.cleanRange(),$e}Ee.exports=function calc(Ee,ze){var Be=$e(Ee,ze);if(Be[0].t.empty)return Be;for(var et=Ee._fullLayout,tt=We.getFromId(Ee,ze["h"===ze.orientation?"xaxis":"yaxis"]),rt=1/0,nt=-1/0,at=0,it=0,ct=0;ct<Be.length;ct++){var ft=Be[ct],xt=ft.pts.map(Qe.extractVal),kt=ft.bandwidth=calcBandwidth(ze,ft,xt),Lt=ft.span=calcSpan(ze,ft,tt,kt);if(ft.min===ft.max&&0===kt)Lt=ft.span=[ft.min,ft.max],ft.density=[{v:1,t:Lt[0]}],ft.bandwidth=kt,at=Math.max(at,1);else{var Ut=Lt[1]-Lt[0],er=Math.ceil(Ut/(kt/3)),tr=Ut/er;if(!isFinite(tr)||!isFinite(er))return Ue.error("Something went wrong with computing the violin span"),Be[0].t.empty=!0,Be;var rr=Qe.makeKDE(ft,ze,xt);ft.density=new Array(er);for(var ar=0,Lr=Lt[0];Lr<Lt[1]+tr/2;ar++,Lr+=tr){var Qr=rr(Lr);ft.density[ar]={v:Qr,t:Lr},at=Math.max(at,Qr)}}it=Math.max(it,xt.length),rt=Math.min(rt,Lt[0]),nt=Math.max(nt,Lt[1])}var on=We.findExtremes(tt,[rt,nt],{padded:!0});if(ze._extremes[tt._id]=on,ze.width)Be[0].t.maxKDE=at;else{var sn=et._violinScaleGroupStats,ln=ze.scalegroup,cn=sn[ln];cn?(cn.maxKDE=Math.max(cn.maxKDE,at),cn.maxCount=Math.max(cn.maxCount,it)):sn[ln]={maxKDE:at,maxCount:it}}return Be[0].t.labels.kde=Ue._(Ee,"kde:"),Be}},b8ce:function(Ee,ze,Be){"use strict";Ee.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},b905:function(Ee,ze,Be){"use strict";Ee.exports=Be("fb34")},b924:function(Ee,ze){function select(Ee,ze,Be){var Ue=[];return Ee.forEach((function(Ee){var We=(Ee.myFill.above?8:0)+(Ee.myFill.below?4:0)+(Ee.otherFill&&Ee.otherFill.above?2:0)+(Ee.otherFill&&Ee.otherFill.below?1:0);0!==ze[We]&&Ue.push({id:Be?Be.segmentId():-1,start:Ee.start,end:Ee.end,myFill:{above:1===ze[We],below:2===ze[We]},otherFill:null})})),Be&&Be.selected(Ue),Ue}var Be={union:function(Ee,ze){return select(Ee,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],ze)},intersect:function(Ee,ze){return select(Ee,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],ze)},difference:function(Ee,ze){return select(Ee,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],ze)},differenceRev:function(Ee,ze){return select(Ee,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],ze)},xor:function(Ee,ze){return select(Ee,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],ze)}};Ee.exports=Be},b94e:function(Ee,ze,Be){"use strict";var Ue=Be("4c69");Ee.exports=toPX;var We=getSizeBrutal("in",document.body);function getPropertyInPX(Ee,ze){var Be=Ue(getComputedStyle(Ee).getPropertyValue(ze));return Be[0]*toPX(Be[1],Ee)}function getSizeBrutal(Ee,ze){var Be=document.createElement("div");Be.style.height="128"+Ee,ze.appendChild(Be);var Ue=getPropertyInPX(Be,"height")/128;return ze.removeChild(Be),Ue}function toPX(Ee,ze){if(!Ee)return null;switch(ze=ze||document.body,Ee=(Ee+""||"px").trim().toLowerCase(),ze!==window&&ze!==document||(ze=document.body),Ee){case"%":return ze.clientHeight/100;case"ch":case"ex":return getSizeBrutal(Ee,ze);case"em":return getPropertyInPX(ze,"font-size");case"rem":return getPropertyInPX(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return We;case"cm":return We/2.54;case"mm":return We/25.4;case"pt":return We/72;case"pc":return We/6;case"px":return 1}var Be=Ue(Ee);if(!isNaN(Be[0])&&Be[1]){var $e=toPX(Be[1],ze);return"number"==typeof $e?Be[0]*$e:null}return null}},b964:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("74b4"),supplyDefaults:Be("67f2"),colorbar:Be("f3cf"),formatLabels:Be("0316"),calc:Be("824b"),plot:Be("ac37"),hoverPoints:Be("83c1"),eventData:Be("f8f6"),selectPoints:Be("1bef"),styleOnSelect:function(Ee,ze){ze&&ze[0].trace._glTrace.update(ze)},moduleType:"trace",name:"scattermapbox",basePlotModule:Be("860b"),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},b993:function(Ee,ze,Be){"use strict";Ee.exports=function createText(Ee,ze){"object"==typeof ze&&null!==ze||(ze={});return Ue(Ee,ze.canvas||We,ze.context||$e,ze)};var Ue=Be("dea6"),We=null,$e=null;"undefined"!=typeof document&&((We=document.createElement("canvas")).width=8192,We.height=1024,$e=We.getContext("2d"))},ba4b:function(Ee,ze,Be){"use strict";var Ue,We,$e,Qe,et=Object.create;Be("9df0")()||(Ue=Be("e19c")),Ee.exports=Ue?1!==Ue.level?et:(We={},$e={},Qe={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(Ee){$e[Ee]="__proto__"!==Ee?Qe:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(We,$e),Object.defineProperty(Ue,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:We}),function(Ee,ze){return et(null===Ee?We:Ee,ze)}):et},ba61:function(Ee,ze,Be){"use strict";var Ue=Be("7c4a"),We={object:!0,symbol:!0};Ee.exports=function(){var Ee,ze=Ue.Symbol;if("function"!=typeof ze)return!1;Ee=ze("test symbol");try{String(Ee)}catch(Ee){return!1}return!!We[typeof ze.iterator]&&(!!We[typeof ze.toPrimitive]&&!!We[typeof ze.toStringTag])}},ba76:function(Ee,ze,Be){"use strict";Ee.exports=function invert(Ee,ze){switch(ze.length){case 0:break;case 1:Ee[0]=1/ze[0];break;case 4:Ue(Ee,ze);break;case 9:We(Ee,ze);break;case 16:$e(Ee,ze);break;default:throw new Error("currently supports matrices up to 4x4")}return Ee};var Ue=Be("48f0"),We=Be("fc08"),$e=Be("9343")},baab:function(Ee,ze,Be){"use strict";var Ue=Be("aa48"),We=Be("b5bb"),$e=Be("0248"),Qe=Be("5db0"),et=Be("fc26").isArrayOrTypedArray,tt=Be("765f").parseColorScale,rt=Be("f977"),nt=Be("c258").extractOpts,at=Be("2d0e"),it=Be("0c3a");function SurfaceTrace(Ee,ze,Be){this.scene=Ee,this.uid=Be,this.surface=ze,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var ct=SurfaceTrace.prototype;ct.getXat=function(Ee,ze,Be,Ue){var We=et(this.data.x)?et(this.data.x[0])?this.data.x[ze][Ee]:this.data.x[Ee]:Ee;return void 0===Be?We:Ue.d2l(We,0,Be)},ct.getYat=function(Ee,ze,Be,Ue){var We=et(this.data.y)?et(this.data.y[0])?this.data.y[ze][Ee]:this.data.y[ze]:ze;return void 0===Be?We:Ue.d2l(We,0,Be)},ct.getZat=function(Ee,ze,Be,Ue){var We=this.data.z[ze][Ee];return null===We&&this.data.connectgaps&&this.data._interpolatedZ&&(We=this.data._interpolatedZ[ze][Ee]),void 0===Be?We:Ue.d2l(We,0,Be)},ct.handlePick=function(Ee){if(Ee.object===this.surface){var ze=(Ee.data.index[0]-1)/this.dataScaleX-1,Be=(Ee.data.index[1]-1)/this.dataScaleY-1,Ue=Math.max(Math.min(Math.round(ze),this.data.z[0].length-1),0),We=Math.max(Math.min(Math.round(Be),this.data._ylength-1),0);Ee.index=[Ue,We],Ee.traceCoordinate=[this.getXat(Ue,We),this.getYat(Ue,We),this.getZat(Ue,We)],Ee.dataCoordinate=[this.getXat(Ue,We,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(Ue,We,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(Ue,We,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var $e=0;$e<3;$e++){var Qe=Ee.dataCoordinate[$e];null!=Qe&&(Ee.dataCoordinate[$e]*=this.scene.dataScale[$e])}var et=this.data.hovertext||this.data.text;return Array.isArray(et)&&et[We]&&void 0!==et[We][Ue]?Ee.textLabel=et[We][Ue]:Ee.textLabel=et||"",Ee.data.dataCoordinate=Ee.dataCoordinate.slice(),this.surface.highlight(Ee.data),this.scene.glplot.spikes.position=Ee.dataCoordinate,!0}};var ft=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function getPow(Ee,ze){if(Ee<ze)return 0;for(var Be=0;0===Math.floor(Ee%ze);)Ee/=ze,Be++;return Be}function getFactors(Ee){for(var ze=[],Be=0;Be<ft.length;Be++){var Ue=ft[Be];ze.push(getPow(Ee,Ue))}return ze}function smallestDivisor(Ee){for(var ze=getFactors(Ee),Be=Ee,Ue=0;Ue<ft.length;Ue++)if(ze[Ue]>0){Be=ft[Ue];break}return Be}function leastCommonMultiple(Ee,ze){if(!(Ee<1||ze<1)){for(var Be=getFactors(Ee),Ue=getFactors(ze),We=1,$e=0;$e<ft.length;$e++)We*=Math.pow(ft[$e],Math.max(Be[$e],Ue[$e]));return We}}ct.calcXnums=function(Ee){var ze,Be=[];for(ze=1;ze<Ee;ze++){var Ue=this.getXat(ze-1,0),We=this.getXat(ze,0);Be[ze-1]=We!==Ue&&null!=Ue&&null!=We?Math.abs(We-Ue):0}var $e=0;for(ze=1;ze<Ee;ze++)$e+=Be[ze-1];for(ze=1;ze<Ee;ze++)0===Be[ze-1]?Be[ze-1]=1:Be[ze-1]=Math.round($e/Be[ze-1]);return Be},ct.calcYnums=function(Ee){var ze,Be=[];for(ze=1;ze<Ee;ze++){var Ue=this.getYat(0,ze-1),We=this.getYat(0,ze);Be[ze-1]=We!==Ue&&null!=Ue&&null!=We?Math.abs(We-Ue):0}var $e=0;for(ze=1;ze<Ee;ze++)$e+=Be[ze-1];for(ze=1;ze<Ee;ze++)0===Be[ze-1]?Be[ze-1]=1:Be[ze-1]=Math.round($e/Be[ze-1]);return Be};var xt=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],kt=xt[9],Lt=xt[13];function insertIfNewLevel(Ee,ze){for(var Be=!1,Ue=0;Ue<Ee.length;Ue++)if(ze===Ee[Ue]){Be=!0;break}!1===Be&&Ee.push(ze)}ct.estimateScale=function(Ee,ze){for(var Be=1+function arrayLCM(Ee){if(0!==Ee.length){for(var ze=1,Be=0;Be<Ee.length;Be++)ze=leastCommonMultiple(ze,Ee[Be]);return ze}}(0===ze?this.calcXnums(Ee):this.calcYnums(Ee));Be<kt;)Be*=2;for(;Be>Lt;)Be--,Be/=smallestDivisor(Be),++Be<kt&&(Be=Lt);var Ue=Math.round(Be/Ee);return Ue>1?Ue:1},ct.refineCoords=function(Ee){for(var ze=this.dataScaleX,Be=this.dataScaleY,Ue=Ee[0].shape[0],Qe=Ee[0].shape[1],et=0|Math.floor(Ee[0].shape[0]*ze+1),tt=0|Math.floor(Ee[0].shape[1]*Be+1),rt=1+Ue+1,nt=1+Qe+1,at=We(new Float32Array(rt*nt),[rt,nt]),it=0;it<Ee.length;++it){this.surface.padField(at,Ee[it]);var ct=We(new Float32Array(et*tt),[et,tt]);$e(ct,at,[ze,0,0,0,Be,0,0,0,1]),Ee[it]=ct}},ct.setContourLevels=function(){var Ee,ze,Be,Ue=[[],[],[]],We=[!1,!1,!1],$e=!1;for(Ee=0;Ee<3;++Ee)if(this.showContour[Ee]&&($e=!0,this.contourSize[Ee]>0&&null!==this.contourStart[Ee]&&null!==this.contourEnd[Ee]&&this.contourEnd[Ee]>this.contourStart[Ee]))for(We[Ee]=!0,ze=this.contourStart[Ee];ze<this.contourEnd[Ee];ze+=this.contourSize[Ee])Be=ze*this.scene.dataScale[Ee],insertIfNewLevel(Ue[Ee],Be);if($e){var Qe=[[],[],[]];for(Ee=0;Ee<3;++Ee)this.showContour[Ee]&&(Qe[Ee]=We[Ee]?Ue[Ee]:this.scene.contourLevels[Ee]);this.surface.update({levels:Qe})}},ct.update=function(Ee){var ze,Be,Ue,$e,et=this.scene,ct=et.fullSceneLayout,ft=this.surface,xt=Ee.opacity,kt=tt(Ee,xt),Ut=et.dataScale,er=Ee.z[0].length,tr=Ee._ylength,rr=et.contourLevels;this.data=Ee;var ar=[];for(ze=0;ze<3;ze++)for(ar[ze]=[],Be=0;Be<er;Be++)ar[ze][Be]=[];for(Be=0;Be<er;Be++)for(Ue=0;Ue<tr;Ue++)ar[0][Be][Ue]=this.getXat(Be,Ue,Ee.xcalendar,ct.xaxis),ar[1][Be][Ue]=this.getYat(Be,Ue,Ee.ycalendar,ct.yaxis),ar[2][Be][Ue]=this.getZat(Be,Ue,Ee.zcalendar,ct.zaxis);if(Ee.connectgaps)for(Ee._emptypoints=it(ar[2]),at(ar[2],Ee._emptypoints),Ee._interpolatedZ=[],Be=0;Be<er;Be++)for(Ee._interpolatedZ[Be]=[],Ue=0;Ue<tr;Ue++)Ee._interpolatedZ[Be][Ue]=ar[2][Be][Ue];for(ze=0;ze<3;ze++)for(Be=0;Be<er;Be++)for(Ue=0;Ue<tr;Ue++)null==($e=ar[ze][Be][Ue])?ar[ze][Be][Ue]=NaN:$e=ar[ze][Be][Ue]*=Ut[ze];for(ze=0;ze<3;ze++)for(Be=0;Be<er;Be++)for(Ue=0;Ue<tr;Ue++)null!=($e=ar[ze][Be][Ue])&&(this.minValues[ze]>$e&&(this.minValues[ze]=$e),this.maxValues[ze]<$e&&(this.maxValues[ze]=$e));for(ze=0;ze<3;ze++)this.objectOffset[ze]=.5*(this.minValues[ze]+this.maxValues[ze]);for(ze=0;ze<3;ze++)for(Be=0;Be<er;Be++)for(Ue=0;Ue<tr;Ue++)null!=($e=ar[ze][Be][Ue])&&(ar[ze][Be][Ue]-=this.objectOffset[ze]);var Lr=[We(new Float32Array(er*tr),[er,tr]),We(new Float32Array(er*tr),[er,tr]),We(new Float32Array(er*tr),[er,tr])];Qe(Lr[0],(function(Ee,ze){return ar[0][Ee][ze]})),Qe(Lr[1],(function(Ee,ze){return ar[1][Ee][ze]})),Qe(Lr[2],(function(Ee,ze){return ar[2][Ee][ze]})),ar=[];var Qr={colormap:kt,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!Ee.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:Ee.opacity},on=nt(Ee);if(Qr.intensityBounds=[on.min,on.max],Ee.surfacecolor){var sn=We(new Float32Array(er*tr),[er,tr]);Qe(sn,(function(ze,Be){return Ee.surfacecolor[Be][ze]})),Lr.push(sn)}else Qr.intensityBounds[0]*=Ut[2],Qr.intensityBounds[1]*=Ut[2];(Lt<Lr[0].shape[0]||Lt<Lr[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(Lr[0].shape[0],0),this.dataScaleY=this.estimateScale(Lr[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(Lr)),Ee.surfacecolor&&(Qr.intensity=Lr.pop());var ln=[!0,!0,!0],cn=["x","y","z"];for(ze=0;ze<3;++ze){var un=Ee.contours[cn[ze]];ln[ze]=un.highlight,Qr.showContour[ze]=un.show||un.highlight,Qr.showContour[ze]&&(Qr.contourProject[ze]=[un.project.x,un.project.y,un.project.z],un.show?(this.showContour[ze]=!0,Qr.levels[ze]=rr[ze],ft.highlightColor[ze]=Qr.contourColor[ze]=rt(un.color),un.usecolormap?ft.highlightTint[ze]=Qr.contourTint[ze]=0:ft.highlightTint[ze]=Qr.contourTint[ze]=1,Qr.contourWidth[ze]=un.width,this.contourStart[ze]=un.start,this.contourEnd[ze]=un.end,this.contourSize[ze]=un.size):(this.showContour[ze]=!1,this.contourStart[ze]=null,this.contourEnd[ze]=null,this.contourSize[ze]=0),un.highlight&&(Qr.dynamicColor[ze]=rt(un.highlightcolor),Qr.dynamicWidth[ze]=un.highlightwidth))}(function isColormapCircular(Ee){var ze=Ee[0].rgb,Be=Ee[Ee.length-1].rgb;return ze[0]===Be[0]&&ze[1]===Be[1]&&ze[2]===Be[2]&&ze[3]===Be[3]})(kt)&&(Qr.vertexColor=!0),Qr.objectOffset=this.objectOffset,Qr.coords=Lr,ft.update(Qr),ft.visible=Ee.visible,ft.enableDynamic=ln,ft.enableHighlight=ln,ft.snapToData=!0,"lighting"in Ee&&(ft.ambientLight=Ee.lighting.ambient,ft.diffuseLight=Ee.lighting.diffuse,ft.specularLight=Ee.lighting.specular,ft.roughness=Ee.lighting.roughness,ft.fresnel=Ee.lighting.fresnel),"lightposition"in Ee&&(ft.lightPosition=[Ee.lightposition.x,Ee.lightposition.y,Ee.lightposition.z]),xt&&xt<1&&(ft.supportsTransparency=!0)},ct.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},Ee.exports=function createSurfaceTrace(Ee,ze){var Be=Ee.glplot.gl,We=Ue({gl:Be}),$e=new SurfaceTrace(Ee,We,ze.uid);return We._trace=$e,$e.update(ze),Ee.glplot.add(We),$e}},bae5:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("371e"),$e=Be("0642"),Qe=Be("b1a4").pointsAccessorFunction,et=Be("6c77"),tt=et.COMPARISON_OPS,rt=et.INTERVAL_OPS,nt=et.SET_OPS;ze.moduleType="transform",ze.name="filter",ze.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(tt).concat(rt).concat(nt),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},ze.supplyDefaults=function(Ee){var Be={};function coerce(We,$e){return Ue.coerce(Ee,Be,ze.attributes,We,$e)}if(coerce("enabled")){var $e=coerce("target");if(Ue.isArrayOrTypedArray($e)&&0===$e.length)return Be.enabled=!1,Be;coerce("preservegaps"),coerce("operation"),coerce("value");var Qe=We.getComponentMethod("calendars","handleDefaults");Qe(Ee,Be,"valuecalendar",null),Qe(Ee,Be,"targetcalendar",null)}return Be},ze.calcTransform=function(Ee,ze,Be){if(Be.enabled){var We=Ue.getTargetArray(ze,Be);if(We){var et=Be.target,at=We.length;ze._length&&(at=Math.min(at,ze._length));var it=Be.targetcalendar,ct=ze._arrayAttrs,ft=Be.preservegaps;if("string"==typeof et){var xt=Ue.nestedProperty(ze,et+"calendar").get();xt&&(it=xt)}var kt,Lt,Ut=function getFilterFunc(Ee,ze,Be){var Ue=Ee.operation,We=Ee.value,$e=Array.isArray(We);function isOperationIn(Ee){return-1!==Ee.indexOf(Ue)}var Qe,d2cValue=function(Be){return ze(Be,0,Ee.valuecalendar)},d2cTarget=function(Ee){return ze(Ee,0,Be)};isOperationIn(tt)?Qe=d2cValue($e?We[0]:We):isOperationIn(rt)?Qe=$e?[d2cValue(We[0]),d2cValue(We[1])]:[d2cValue(We),d2cValue(We)]:isOperationIn(nt)&&(Qe=$e?We.map(d2cValue):[d2cValue(We)]);switch(Ue){case"=":return function(Ee){return d2cTarget(Ee)===Qe};case"!=":return function(Ee){return d2cTarget(Ee)!==Qe};case"<":return function(Ee){return d2cTarget(Ee)<Qe};case"<=":return function(Ee){return d2cTarget(Ee)<=Qe};case">":return function(Ee){return d2cTarget(Ee)>Qe};case">=":return function(Ee){return d2cTarget(Ee)>=Qe};case"[]":return function(Ee){var ze=d2cTarget(Ee);return ze>=Qe[0]&&ze<=Qe[1]};case"()":return function(Ee){var ze=d2cTarget(Ee);return ze>Qe[0]&&ze<Qe[1]};case"[)":return function(Ee){var ze=d2cTarget(Ee);return ze>=Qe[0]&&ze<Qe[1]};case"(]":return function(Ee){var ze=d2cTarget(Ee);return ze>Qe[0]&&ze<=Qe[1]};case"][":return function(Ee){var ze=d2cTarget(Ee);return ze<=Qe[0]||ze>=Qe[1]};case")(":return function(Ee){var ze=d2cTarget(Ee);return ze<Qe[0]||ze>Qe[1]};case"](":return function(Ee){var ze=d2cTarget(Ee);return ze<=Qe[0]||ze>Qe[1]};case")[":return function(Ee){var ze=d2cTarget(Ee);return ze<Qe[0]||ze>=Qe[1]};case"{}":return function(Ee){return-1!==Qe.indexOf(d2cTarget(Ee))};case"}{":return function(Ee){return-1===Qe.indexOf(d2cTarget(Ee))}}}(Be,$e.getDataToCoordFunc(Ee,ze,et,We),it),er={},tr={},rr=0;ft?(kt=function(Ee){er[Ee.astr]=Ue.extendDeep([],Ee.get()),Ee.set(new Array(at))},Lt=function(Ee,ze){var Be=er[Ee.astr][ze];Ee.get()[ze]=Be}):(kt=function(Ee){er[Ee.astr]=Ue.extendDeep([],Ee.get()),Ee.set([])},Lt=function(Ee,ze){var Be=er[Ee.astr][ze];Ee.get().push(Be)}),forAllAttrs(kt);for(var ar=Qe(ze.transforms,Be),Lr=0;Lr<at;Lr++){Ut(We[Lr])?(forAllAttrs(Lt,Lr),tr[rr++]=ar(Lr)):ft&&rr++}Be._indexToPoints=tr,ze._length=rr}}function forAllAttrs(Ee,Be){for(var We=0;We<ct.length;We++){Ee(Ue.nestedProperty(ze,ct[We]),Be)}}}},bae6:function(Ee,ze,Be){"use strict";Ee.exports=Be("a297")()?Math.sign:Be("ef7a")},baec:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("7f20"),$e=Be("0642"),Qe=Be("fc26"),et=Be("0379"),tt=Be("83d1"),rt=Be("c258"),nt=Be("0a3e"),at=nt.keyFun,it=nt.repeat,ct=nt.unwrap,ft=Be("2ee6"),xt=Be("f7a4"),kt=Be("1db7"),Lt=Be("3af0");function findExtreme(Ee,ze,Be){return Qe.aggNums(Ee,null,ze,Be)}function findExtremes(Ee,ze){return fixExtremes(findExtreme(Math.min,Ee,ze),findExtreme(Math.max,Ee,ze))}function dimensionExtent(Ee){var ze=Ee.range;return ze?fixExtremes(ze[0],ze[1]):findExtremes(Ee.values,Ee._length)}function fixExtremes(Ee,ze){return!isNaN(Ee)&&isFinite(Ee)||(Ee=0),!isNaN(ze)&&isFinite(ze)||(ze=0),Ee===ze&&(0===Ee?(Ee-=1,ze+=1):(Ee*=.9,ze*=1.1)),[Ee,ze]}function domainScale(Ee,ze,Be,We,$e){var Qe=dimensionExtent(Be);return We?Ue.scale.ordinal().domain(We.map(function toText(Ee,ze){return ze?function(Be,Ue){var We=ze[Ue];return null==We?Ee(Be):We}:Ee}(Ue.format(Be.tickformat),$e))).range(We.map((function(Be){var Ue=(Be-Qe[0])/(Qe[1]-Qe[0]);return Ee-ze+Ue*(2*ze-Ee)}))):Ue.scale.linear().domain(Qe).range([Ee-ze,ze])}function ordinalScale(Ee){if(Ee.tickvals){var ze=dimensionExtent(Ee);return Ue.scale.ordinal().domain(Ee.tickvals).range(Ee.tickvals.map((function(Ee){return(Ee-ze[0])/(ze[1]-ze[0])})))}}function unitToColorScale(Ee){var ze=Ee.map((function(Ee){return Ee[0]})),Be=Ee.map((function(Ee){var ze=We(Ee[1]);return Ue.rgb("rgb("+ze[0]+","+ze[1]+","+ze[2]+")")})),$e="rgb".split("").map((function(Ee){return Ue.scale.linear().clamp(!0).domain(ze).range(Be.map((We=Ee,function(Ee){return Ee[We]})));var We}));return function(Ee){return $e.map((function(ze){return ze(Ee)}))}}function someFiltersActive(Ee){return Ee.dimensions.some((function(Ee){return Ee.brush.filterSpecified}))}function model(Ee,ze,Be){var $e=ct(ze),et=$e.trace,tt=ft.convertTypedArray($e.lineColor),nt=et.line,at={color:We(xt.deselectedLineColor)},it=rt.extractOpts(nt),kt=it.reversescale?rt.flipScale($e.cscale):$e.cscale,Lt=et.domain,Ut=et.dimensions,er=Ee.width,tr=et.labelangle,rr=et.labelside,ar=et.labelfont,Lr=et.tickfont,Qr=et.rangefont,on=Qe.extendDeepNoArrays({},nt,{color:tt.map(Ue.scale.linear().domain(dimensionExtent({values:tt,range:[it.min,it.max],_length:et._length}))),blockLineCount:xt.blockLineCount,canvasOverdrag:xt.overdrag*xt.canvasPixelRatio}),sn=Math.floor(er*(Lt.x[1]-Lt.x[0])),ln=Math.floor(Ee.height*(Lt.y[1]-Lt.y[0])),cn=Ee.margin||{l:80,r:80,t:100,b:80},un=sn,hn=ln;return{key:Be,colCount:Ut.filter(ft.isVisible).length,dimensions:Ut,tickDistance:xt.tickDistance,unitToColor:unitToColorScale(kt),lines:on,deselectedLines:at,labelAngle:tr,labelSide:rr,labelFont:ar,tickFont:Lr,rangeFont:Qr,layoutWidth:er,layoutHeight:Ee.height,domain:Lt,translateX:Lt.x[0]*er,translateY:Ee.height-Lt.y[1]*Ee.height,pad:cn,canvasWidth:un*xt.canvasPixelRatio+2*on.canvasOverdrag,canvasHeight:hn*xt.canvasPixelRatio,width:un,height:hn,canvasPixelRatio:xt.canvasPixelRatio}}function viewModel(Ee,ze,Be){var We=Be.width,$e=Be.height,et=Be.dimensions,tt=Be.canvasPixelRatio,xScale=function(Ee){return We*Ee/Math.max(1,Be.colCount-1)},rt=xt.verticalPadding/$e,nt=function unitToPaddedPx(Ee,ze){return Ue.scale.linear().range([ze,Ee-ze])}($e,xt.verticalPadding),at={key:Be.key,xScale:xScale,model:Be,inBrushDrag:!1},it={};return at.dimensions=et.filter(ft.isVisible).map((function(We,et){var ct=function domainToPaddedUnitScale(Ee,ze){return Ue.scale.linear().domain(dimensionExtent(Ee)).range([ze,1-ze])}(We,rt),Lt=it[We.label];it[We.label]=(Lt||0)+1;var Ut=We.label+(Lt?"__"+Lt:""),er=We.constraintrange,tr=er&&er.length;tr&&!Array.isArray(er[0])&&(er=[er]);var rr=tr?er.map((function(Ee){return Ee.map(ct)})):[[-1/0,1/0]],ar=We.values;ar.length>We._length&&(ar=ar.slice(0,We._length));var Lr,Qr=We.tickvals;function makeTickItem(Ee,ze){return{val:Ee,text:Lr[ze]}}function sortTickItem(Ee,ze){return Ee.val-ze.val}if(Array.isArray(Qr)&&Qr.length){Lr=We.ticktext,Array.isArray(Lr)&&Lr.length?Lr.length>Qr.length?Lr=Lr.slice(0,Qr.length):Qr.length>Lr.length&&(Qr=Qr.slice(0,Lr.length)):Lr=Qr.map(Ue.format(We.tickformat));for(var on=1;on<Qr.length;on++)if(Qr[on]<Qr[on-1]){for(var sn=Qr.map(makeTickItem).sort(sortTickItem),ln=0;ln<Qr.length;ln++)Qr[ln]=sn[ln].val,Lr[ln]=sn[ln].text;break}}else Qr=void 0;return ar=ft.convertTypedArray(ar),{key:Ut,label:We.label,tickFormat:We.tickformat,tickvals:Qr,ticktext:Lr,ordinal:ft.isOrdinal(We),multiselect:We.multiselect,xIndex:et,crossfilterDimensionIndex:et,visibleIndex:We._index,height:$e,values:ar,paddedUnitValues:ar.map(ct),unitTickvals:Qr&&Qr.map(ct),xScale:xScale,x:xScale(et),canvasX:xScale(et)*tt,unitToPaddedPx:nt,domainScale:domainScale($e,xt.verticalPadding,We,Qr,Lr),ordinalScale:ordinalScale(We),parent:at,model:Be,brush:kt.makeBrush(Ee,tr,rr,(function(){Ee.linePickActive(!1)}),(function(){var ze=at;ze.focusLayer&&ze.focusLayer.render(ze.panels,!0);var Be=someFiltersActive(ze);!Ee.contextShown()&&Be?(ze.contextLayer&&ze.contextLayer.render(ze.panels,!0),Ee.contextShown(!0)):Ee.contextShown()&&!Be&&(ze.contextLayer&&ze.contextLayer.render(ze.panels,!0,!0),Ee.contextShown(!1))}),(function(Be){if(at.focusLayer.render(at.panels,!0),at.pickLayer&&at.pickLayer.render(at.panels,!0),Ee.linePickActive(!0),ze&&ze.filterChanged){var Ue=ct.invert,$e=Be.map((function(Ee){return Ee.map(Ue).sort(Qe.sorterAsc)})).sort((function(Ee,ze){return Ee[0]-ze[0]}));ze.filterChanged(at.key,We._index,$e)}}))}})),at}function styleExtentTexts(Ee){Ee.classed(xt.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default").style("user-select","none")}function calcTilt(Ee,ze){var Be="top"===ze?1:-1,Ue=Ee*Math.PI/180;return{dir:Be,dx:Math.sin(Ue),dy:Math.cos(Ue),degrees:Ee}}function updatePanelLayout(Ee,ze){for(var Be=ze.panels||(ze.panels=[]),Ue=Ee.data(),We=0;We<Ue.length-1;We++){var $e=Be[We]||(Be[We]={}),Qe=Ue[We],et=Ue[We+1];$e.dim0=Qe,$e.dim1=et,$e.canvasX=Qe.canvasX,$e.panelSizeX=et.canvasX-Qe.canvasX,$e.panelSizeY=ze.model.canvasHeight,$e.y=0,$e.canvasY=0}}function linearFormat(Ee,ze){return $e.tickText(Ee._ax,ze,!1).text}function extremeText(Ee,ze){if(Ee.ordinal)return"";var Be=Ee.domainScale.domain(),Ue=Be[ze?Be.length-1:0];return linearFormat(Ee.model.dimensions[Ee.visibleIndex],Ue)}Ee.exports=function parcoords(Ee,ze,Be,We){var rt=Ee._fullLayout,nt=rt._toppaper,Ut=rt._glcontainer;!function calcAllTicks(Ee){for(var ze=0;ze<Ee.length;ze++)for(var Be=0;Be<Ee[ze].length;Be++)for(var Ue=Ee[ze][Be].trace,We=Ue.dimensions,Qe=0;Qe<We.length;Qe++){var et=We[Qe].values,tt=We[Qe]._ax;tt&&(tt.range?tt.range=fixExtremes(tt.range[0],tt.range[1]):tt.range=findExtremes(et,Ue._length),tt.dtick||(tt.dtick=.01*(Math.abs(tt.range[1]-tt.range[0])||1)),tt.tickformat=We[Qe].tickformat,$e.calcTicks(tt),tt.cleanRange())}}(ze);var er=function parcoordsInteractionState(){var Ee=!0,ze=!1;return{linePickActive:function(ze){return arguments.length?Ee=!!ze:Ee},contextShown:function(Ee){return arguments.length?ze=!!Ee:ze}}}(),tr=ze.filter((function(Ee){return ct(Ee).trace.visible})).map(model.bind(0,Be)).map(viewModel.bind(0,er,We));Ut.each((function(Ee,ze){return Qe.extendFlat(Ee,tr[ze])}));var rr=Ut.selectAll(".gl-canvas").each((function(Ee){Ee.viewModel=tr[0],Ee.model=Ee.viewModel?Ee.viewModel.model:null})),ar=null;rr.filter((function(Ee){return Ee.pick})).style("pointer-events","auto").on("mousemove",(function(Ee){if(er.linePickActive()&&Ee.lineLayer&&We&&We.hover){var ze=Ue.event,Be=this.width,$e=this.height,Qe=Ue.mouse(this),et=Qe[0],tt=Qe[1];if(et<0||tt<0||et>=Be||tt>=$e)return;var rt=Ee.lineLayer.readPixel(et,$e-1-tt),nt=0!==rt[3],at=nt?rt[2]+256*(rt[1]+256*rt[0]):null,it={x:et,y:tt,clientX:ze.clientX,clientY:ze.clientY,dataIndex:Ee.model.key,curveNumber:at};at!==ar&&(nt?We.hover(it):We.unhover&&We.unhover(it),ar=at)}})),rr.style("opacity",(function(Ee){return Ee.pick?0:1})),nt.style("background","rgba(255, 255, 255, 0)");var Lr=nt.selectAll("."+xt.cn.parcoords).data(tr,at);Lr.exit().remove(),Lr.enter().append("g").classed(xt.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Lr.attr("transform",(function(Ee){return"translate("+Ee.model.translateX+","+Ee.model.translateY+")"}));var Qr=Lr.selectAll("."+xt.cn.parcoordsControlView).data(it,at);Qr.enter().append("g").classed(xt.cn.parcoordsControlView,!0),Qr.attr("transform",(function(Ee){return"translate("+Ee.model.pad.l+","+Ee.model.pad.t+")"}));var on=Qr.selectAll("."+xt.cn.yAxis).data((function(Ee){return Ee.dimensions}),at);on.enter().append("g").classed(xt.cn.yAxis,!0),Qr.each((function(Ee){updatePanelLayout(on,Ee)})),rr.each((function(Ee){if(Ee.viewModel){!Ee.lineLayer||We?Ee.lineLayer=Lt(this,Ee):Ee.lineLayer.update(Ee),(Ee.key||0===Ee.key)&&(Ee.viewModel[Ee.key]=Ee.lineLayer);var ze=!Ee.context||We;Ee.lineLayer.render(Ee.viewModel.panels,ze)}})),on.attr("transform",(function(Ee){return"translate("+Ee.xScale(Ee.xIndex)+", 0)"})),on.call(Ue.behavior.drag().origin((function(Ee){return Ee})).on("drag",(function(Ee){var ze=Ee.parent;er.linePickActive(!1),Ee.x=Math.max(-xt.overdrag,Math.min(Ee.model.width+xt.overdrag,Ue.event.x)),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,on.sort((function(Ee,ze){return Ee.x-ze.x})).each((function(ze,Be){ze.xIndex=Be,ze.x=Ee===ze?ze.x:ze.xScale(ze.xIndex),ze.canvasX=ze.x*ze.model.canvasPixelRatio})),updatePanelLayout(on,ze),on.filter((function(ze){return 0!==Math.abs(Ee.xIndex-ze.xIndex)})).attr("transform",(function(Ee){return"translate("+Ee.xScale(Ee.xIndex)+", 0)"})),Ue.select(this).attr("transform","translate("+Ee.x+", 0)"),on.each((function(Be,Ue,We){We===Ee.parent.key&&(ze.dimensions[Ue]=Be)})),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!someFiltersActive(ze)),ze.focusLayer.render&&ze.focusLayer.render(ze.panels)})).on("dragend",(function(Ee){var ze=Ee.parent;Ee.x=Ee.xScale(Ee.xIndex),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,updatePanelLayout(on,ze),Ue.select(this).attr("transform",(function(Ee){return"translate("+Ee.x+", 0)"})),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!someFiltersActive(ze)),ze.focusLayer&&ze.focusLayer.render(ze.panels),ze.pickLayer&&ze.pickLayer.render(ze.panels,!0),er.linePickActive(!0),We&&We.axesMoved&&We.axesMoved(ze.key,ze.dimensions.map((function(Ee){return Ee.crossfilterDimensionIndex})))}))),on.exit().remove();var sn=on.selectAll("."+xt.cn.axisOverlays).data(it,at);sn.enter().append("g").classed(xt.cn.axisOverlays,!0),sn.selectAll("."+xt.cn.axis).remove();var ln=sn.selectAll("."+xt.cn.axis).data(it,at);ln.enter().append("g").classed(xt.cn.axis,!0),ln.each((function(Ee){var ze=Ee.model.height/Ee.model.tickDistance,Be=Ee.domainScale,We=Be.domain();Ue.select(this).call(Ue.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ze,Ee.tickFormat).tickValues(Ee.ordinal?We:null).tickFormat((function(ze){return ft.isOrdinal(Ee)?ze:linearFormat(Ee.model.dimensions[Ee.visibleIndex],ze)})).scale(Be)),tt.font(ln.selectAll("text"),Ee.model.tickFont)})),ln.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ln.selectAll("text").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var cn=sn.selectAll("."+xt.cn.axisHeading).data(it,at);cn.enter().append("g").classed(xt.cn.axisHeading,!0);var un=cn.selectAll("."+xt.cn.axisTitle).data(it,at);un.enter().append("text").classed(xt.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),un.text((function(Ee){return Ee.label})).each((function(ze){var Be=Ue.select(this);tt.font(Be,ze.model.labelFont),et.convertToTspans(Be,Ee)})).attr("transform",(function(Ee){var ze=calcTilt(Ee.model.labelAngle,Ee.model.labelSide),Be=xt.axisTitleOffset;return(ze.dir>0?"":"translate(0,"+(2*Be+Ee.model.height)+")")+"rotate("+ze.degrees+")translate("+-Be*ze.dx+","+-Be*ze.dy+")"})).attr("text-anchor",(function(Ee){var ze=calcTilt(Ee.model.labelAngle,Ee.model.labelSide);return 2*Math.abs(ze.dx)>Math.abs(ze.dy)?ze.dir*ze.dx<0?"start":"end":"middle"}));var hn=sn.selectAll("."+xt.cn.axisExtent).data(it,at);hn.enter().append("g").classed(xt.cn.axisExtent,!0);var dn=hn.selectAll("."+xt.cn.axisExtentTop).data(it,at);dn.enter().append("g").classed(xt.cn.axisExtentTop,!0),dn.attr("transform","translate(0,"+-xt.axisExtentOffset+")");var vn=dn.selectAll("."+xt.cn.axisExtentTopText).data(it,at);vn.enter().append("text").classed(xt.cn.axisExtentTopText,!0).call(styleExtentTexts),vn.text((function(Ee){return extremeText(Ee,!0)})).each((function(Ee){tt.font(Ue.select(this),Ee.model.rangeFont)}));var yn=hn.selectAll("."+xt.cn.axisExtentBottom).data(it,at);yn.enter().append("g").classed(xt.cn.axisExtentBottom,!0),yn.attr("transform",(function(Ee){return"translate(0,"+(Ee.model.height+xt.axisExtentOffset)+")"}));var _n=yn.selectAll("."+xt.cn.axisExtentBottomText).data(it,at);_n.enter().append("text").classed(xt.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(styleExtentTexts),_n.text((function(Ee){return extremeText(Ee,!1)})).each((function(Ee){tt.font(Ue.select(this),Ee.model.rangeFont)})),kt.ensureAxisBrush(sn)}},baf5:function(Ee,ze,Be){"use strict";Ee.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,textGap:40,itemGap:5}},bb14:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Ue._,$e=Be("0642"),Qe=Be("e806").BADNUM;function ptFunc(Ee,ze,Be,Ue){return{o:Ee,h:ze,l:Be,c:Ue}}function calcCommon(Ee,ze,Be,et,tt){for(var rt=et.makeCalcdata(ze,"open"),nt=et.makeCalcdata(ze,"high"),at=et.makeCalcdata(ze,"low"),it=et.makeCalcdata(ze,"close"),ct=Array.isArray(ze.text),ft=Array.isArray(ze.hovertext),xt=!0,kt=null,Lt=[],Ut=0;Ut<Be.length;Ut++){var er=Be[Ut],tr=rt[Ut],rr=nt[Ut],ar=at[Ut],Lr=it[Ut];if(er!==Qe&&tr!==Qe&&rr!==Qe&&ar!==Qe&&Lr!==Qe){Lr===tr?null!==kt&&Lr!==kt&&(xt=Lr>kt):xt=Lr>tr,kt=Lr;var Qr=tt(tr,rr,ar,Lr);Qr.pos=er,Qr.yc=(tr+Lr)/2,Qr.i=Ut,Qr.dir=xt?"increasing":"decreasing",Qr.x=Qr.pos,Qr.y=[ar,rr],ct&&(Qr.tx=ze.text[Ut]),ft&&(Qr.htx=ze.hovertext[Ut]),Lt.push(Qr)}else Lt.push({pos:er,empty:!0})}return ze._extremes[et._id]=$e.findExtremes(et,Ue.concat(at,nt),{padded:!0}),Lt.length&&(Lt[0].t={labels:{open:We(Ee,"open:")+" ",high:We(Ee,"high:")+" ",low:We(Ee,"low:")+" ",close:We(Ee,"close:")+" "}}),Lt}Ee.exports={calc:function calc(Ee,ze){var Be=$e.getFromId(Ee,ze.xaxis),We=$e.getFromId(Ee,ze.yaxis),Qe=function convertTickWidth(Ee,ze,Be){var We=Be._minDiff;if(!We){var $e,Qe=Ee._fullData,et=[];for(We=1/0,$e=0;$e<Qe.length;$e++){var tt=Qe[$e];if("ohlc"===tt.type&&!0===tt.visible&&tt.xaxis===ze._id){et.push(tt);var rt=ze.makeCalcdata(tt,"x");tt._xcalc=rt;var nt=Ue.distinctVals(rt).minDiff;nt&&isFinite(nt)&&(We=Math.min(We,nt))}}for(We===1/0&&(We=1),$e=0;$e<et.length;$e++)et[$e]._minDiff=We}return We*Be.tickwidth}(Ee,Be,ze),et=ze._minDiff;ze._minDiff=null;var tt=ze._xcalc;ze._xcalc=null;var rt=calcCommon(Ee,ze,tt,We,ptFunc);return ze._extremes[Be._id]=$e.findExtremes(Be,tt,{vpad:et/2}),rt.length?(Ue.extendFlat(rt[0].t,{wHover:et/2,tickLen:Qe}),rt):[{t:{empty:!0}}]},calcCommon:calcCommon}},bb4a:function(Ee,ze,Be){"use strict";var Ue=Be("a935"),We=Be("9845"),$e=Be("d301"),Qe=Be("a651").templatedArray;Ee.exports=Qe("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:We({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:Ue.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:Ue.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",$e.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",$e.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",$e.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",$e.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:We({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},bb5b:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("e5ac"),Qe=Be("1729"),et=Be("bb4a");function handleAnnotationDefaults(Ee,ze,Be){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}var $e=coerce("visible"),tt=coerce("clicktoshow");if($e||tt){Qe(Ee,ze,Be,coerce);for(var rt=ze.showarrow,nt=["x","y"],at=[-10,-30],it={_fullLayout:Be},ct=0;ct<2;ct++){var ft=nt[ct],xt=We.coerceRef(Ee,ze,it,ft,"","paper");if("paper"!==xt)We.getFromId(it,xt)._annIndices.push(ze._index);if(We.coercePosition(ze,it,coerce,xt,ft,.5),rt){var kt="a"+ft,Lt=We.coerceRef(Ee,ze,it,kt,"pixel");"pixel"!==Lt&&Lt!==xt&&(Lt=ze[kt]="pixel");var Ut="pixel"===Lt?at[ct]:.4;We.coercePosition(ze,it,coerce,Lt,kt,Ut)}coerce(ft+"anchor"),coerce(ft+"shift")}if(Ue.noneOrAll(Ee,ze,["x","y"]),rt&&Ue.noneOrAll(Ee,ze,["ax","ay"]),tt){var er=coerce("xclick"),tr=coerce("yclick");ze._xclick=void 0===er?ze.x:We.cleanPosition(er,it,ze.xref),ze._yclick=void 0===tr?ze.y:We.cleanPosition(tr,it,ze.yref)}}}Ee.exports=function supplyLayoutDefaults(Ee,ze){$e(Ee,ze,{name:"annotations",handleItemDefaults:handleAnnotationDefaults})}},bb71:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("371e"),Qe=Be("6921"),et=Be("a651"),tt=Be("fc26"),rt=Be("d115"),nt=Be("e806").BADNUM,at=Be("3c1c"),it=Be("5b68"),ct=Be("a9cb"),ft=Be("ad62").getModuleCalcData,xt=tt.relinkPrivateKeys,kt=tt._,Lt=Ee.exports={};tt.extendFlat(Lt,$e),Lt.attributes=Be("a876"),Lt.attributes.type.values=Lt.allTypes,Lt.fontAttrs=Be("9845"),Lt.layoutAttributes=Be("a685"),Lt.fontWeight="normal";var Ut=Lt.transformsRegistry,er=Be("469b");Lt.executeAPICommand=er.executeAPICommand,Lt.computeAPICommandBindings=er.computeAPICommandBindings,Lt.manageCommandObserver=er.manageCommandObserver,Lt.hasSimpleAPICommandBindings=er.hasSimpleAPICommandBindings,Lt.redrawText=function(Ee){var ze=(Ee=tt.getGraphDiv(Ee))._fullLayout||{};if(!(!(ze._has&&ze._has("polar"))&&Ee.data&&Ee.data[0]&&Ee.data[0].r))return new Promise((function(ze){setTimeout((function(){$e.getComponentMethod("annotations","draw")(Ee),$e.getComponentMethod("legend","draw")(Ee),$e.getComponentMethod("colorbar","draw")(Ee),ze(Lt.previousPromises(Ee))}),300)}))},Lt.resize=function(Ee){var ze;Ee=tt.getGraphDiv(Ee);var Be=new Promise((function(Be,Ue){Ee&&!tt.isHidden(Ee)||Ue(new Error("Resize must be passed a displayed plot div element.")),Ee._redrawTimer&&clearTimeout(Ee._redrawTimer),Ee._resolveResize&&(ze=Ee._resolveResize),Ee._resolveResize=Be,Ee._redrawTimer=setTimeout((function(){if(!Ee.layout||Ee.layout.width&&Ee.layout.height||tt.isHidden(Ee))Be(Ee);else{delete Ee.layout.width,delete Ee.layout.height;var ze=Ee.changed;Ee.autoplay=!0,$e.call("relayout",Ee,{autosize:!0}).then((function(){Ee.changed=ze,Ee._resolveResize===Be&&(delete Ee._resolveResize,Be(Ee))}))}}),100)}));return ze&&ze(Be),Be},Lt.previousPromises=function(Ee){if((Ee._promises||[]).length)return Promise.all(Ee._promises).then((function(){Ee._promises=[]}))},Lt.addLinks=function(Ee){if(Ee._context.showLink||Ee._context.showSources){var ze=Ee._fullLayout,Be=tt.ensureSingle(ze._paper,"text","js-plot-link-container",(function(Ee){Ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:rt.defaultLine,"pointer-events":"all"}).each((function(){var Ee=Ue.select(this);Ee.append("tspan").classed("js-link-to-tool",!0),Ee.append("tspan").classed("js-link-spacer",!0),Ee.append("tspan").classed("js-sourcelinks",!0)}))})),We=Be.node(),$e={y:ze._paper.attr("height")-9};document.body.contains(We)&&We.getComputedTextLength()>=ze.width-20?($e["text-anchor"]="start",$e.x=5):($e["text-anchor"]="end",$e.x=ze._paper.attr("width")-7),Be.attr($e);var Qe=Be.select(".js-link-to-tool"),et=Be.select(".js-link-spacer"),nt=Be.select(".js-sourcelinks");Ee._context.showSources&&Ee._context.showSources(Ee),Ee._context.showLink&&function positionPlayWithData(Ee,ze){ze.text("");var Be=ze.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Ee._context.linkText+" "+String.fromCharCode(187));if(Ee._context.sendData)Be.on("click",(function(){Lt.sendDataToCloud(Ee)}));else{var Ue=window.location.pathname.split("/"),We=window.location.search;Be.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Ue[2].split(".")[0]+"/"+Ue[1]+We})}}(Ee,Qe),et.text(Qe.text()&&nt.text()?" - ":"")}},Lt.sendDataToCloud=function(Ee){Ee.emit("plotly_beforeexport");var ze=(window.PLOTLYENV||{}).BASE_URL||Ee._context.plotlyServerURL,Be=Ue.select(Ee).append("div").attr("id","hiddenform").style("display","none"),We=Be.append("form").attr({action:ze+"/external",method:"post",target:"_blank"});return We.append("input").attr({type:"text",name:"data"}).node().value=Lt.graphJson(Ee,!1,"keepdata"),We.node().submit(),Be.remove(),Ee.emit("plotly_afterexport"),!1};var tr=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],rr=["year","month","dayMonth","dayMonthYear"];function getFormatObj(Ee,ze){var Be=Ee._context.locale,Ue=!1,We={};function includeFormat(Ee){for(var Be=!0,$e=0;$e<ze.length;$e++){var Qe=ze[$e];We[Qe]||(Ee[Qe]?We[Qe]=Ee[Qe]:Be=!1)}Be&&(Ue=!0)}for(var Qe=0;Qe<2;Qe++){for(var et=Ee._context.locales,tt=0;tt<2;tt++){var rt=(et[Be]||{}).format;if(rt&&(includeFormat(rt),Ue))break;et=$e.localeRegistry}var nt=Be.split("-")[0];if(Ue||nt===Be)break;Be=nt}return Ue||includeFormat($e.localeRegistry.en.format),We}function findMainSubplot(Ee,ze){var Be={_fullLayout:ze},Ue="x"===Ee._id.charAt(0),We=Ee._mainAxis._anchorAxis,$e="",Qe="",et="";if(We&&(et=We._mainAxis._id,$e=Ue?Ee._id+et:et+Ee._id),!$e||!ze._plots[$e]){$e="";for(var tt=Ee._counterAxes,rt=0;rt<tt.length;rt++){var nt=tt[rt],it=Ue?Ee._id+nt:nt+Ee._id;Qe||(Qe=it);var ct=at.getFromId(Be,nt);if(et&&ct.overlaying===et){$e=it;break}}}return $e||Qe}function hasMakesDataTransform(Ee){var ze=Ee.transforms;if(Array.isArray(ze)&&ze.length)for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be],We=Ue._module||Ut[Ue.type];if(We&&We.makesData)return!0}return!1}function applyTransforms(Ee,ze,Be,Ue){for(var We=Ee.transforms,$e=[Ee],Qe=0;Qe<We.length;Qe++){var et=We[Qe],tt=Ut[et.type];tt&&tt.transform&&($e=tt.transform($e,{transform:et,fullTrace:Ee,fullData:ze,layout:Be,fullLayout:Ue,transformIndex:Qe}))}return $e}function initMargins(Ee){var ze=Ee.margin;if(!Ee._size){var Be=Ee._size={l:Math.round(ze.l),r:Math.round(ze.r),t:Math.round(ze.t),b:Math.round(ze.b),p:Math.round(ze.pad)};Be.w=Math.round(Ee.width)-Be.l-Be.r,Be.h=Math.round(Ee.height)-Be.t-Be.b}Ee._pushmargin||(Ee._pushmargin={}),Ee._pushmarginIds||(Ee._pushmarginIds={})}Lt.supplyDefaults=function(Ee,ze){var Be=ze&&ze.skipUpdateCalc,We=Ee._fullLayout||{};if(We._skipDefaults)delete We._skipDefaults;else{var Qe,et=Ee._fullLayout={},rt=Ee.layout||{},nt=Ee._fullData||[],at=Ee._fullData=[],it=Ee.data||[],ct=Ee.calcdata||[],ft=Ee._context||{};Ee._transitionData||Lt.createTransitionData(Ee),et._dfltTitle={plot:kt(Ee,"Click to enter Plot title"),x:kt(Ee,"Click to enter X axis title"),y:kt(Ee,"Click to enter Y axis title"),colorbar:kt(Ee,"Click to enter Colorscale title"),annotation:kt(Ee,"new text")},et._traceWord=kt(Ee,"trace");var Ut=getFormatObj(Ee,tr);if(et._mapboxAccessToken=ft.mapboxAccessToken,We._initialAutoSizeIsDone){var er=We.width,ar=We.height;Lt.supplyLayoutGlobalDefaults(rt,et,Ut),rt.width||(et.width=er),rt.height||(et.height=ar),Lt.sanitizeMargins(et)}else{Lt.supplyLayoutGlobalDefaults(rt,et,Ut);var Lr=!rt.width||!rt.height,Qr=et.autosize,on=ft.autosizable;Lr&&(Qr||on)?Lt.plotAutoSize(Ee,rt,et):Lr&&Lt.sanitizeMargins(et),!Qr&&Lr&&(rt.width=et.width,rt.height=et.height)}et._d3locale=function getFormatter(Ee,ze){return Ee.decimal=ze.charAt(0),Ee.thousands=ze.charAt(1),Ue.locale(Ee)}(Ut,et.separators),et._extraFormat=getFormatObj(Ee,rr),et._initialAutoSizeIsDone=!0,et._dataLength=it.length,et._modules=[],et._visibleModules=[],et._basePlotModules=[];var sn=et._subplots=function emptySubplotLists(){var Ee,ze,Be=$e.collectableSubplotTypes,Ue={};if(!Be){Be=[];var We=$e.subplotsRegistry;for(var Qe in We){var et=We[Qe].attr;if(et&&(Be.push(Qe),Array.isArray(et)))for(ze=0;ze<et.length;ze++)tt.pushUnique(Be,et[ze])}}for(Ee=0;Ee<Be.length;Ee++)Ue[Be[Ee]]=[];return Ue}(),ln=et._splomAxes={x:{},y:{}},cn=et._splomSubplots={};et._splomGridDflt={},et._scatterStackOpts={},et._firstScatter={},et._alignmentOpts={},et._colorAxes={},et._requestRangeslider={},et._traceUids=function getTraceUids(Ee,ze){var Be,Ue,We=ze.length,$e=[];for(Be=0;Be<Ee.length;Be++){var Qe=Ee[Be]._fullInput;Qe!==Ue&&$e.push(Qe),Ue=Qe}var et=$e.length,rt=new Array(We),nt={};function setUid(Ee,ze){rt[ze]=Ee,nt[Ee]=1}function tryUid(Ee,ze){if(Ee&&"string"==typeof Ee&&!nt[Ee])return setUid(Ee,ze),!0}for(Be=0;Be<We;Be++){var at=ze[Be].uid;"number"==typeof at&&(at=String(at)),tryUid(at,Be)||(Be<et&&tryUid($e[Be].uid,Be)||setUid(tt.randstr(nt),Be))}return rt}(nt,it),et._globalTransforms=(Ee._context||{}).globalTransforms,Lt.supplyDataDefaults(it,at,rt,et);var un=Object.keys(ln.x),hn=Object.keys(ln.y);if(un.length>1&&hn.length>1){for($e.getComponentMethod("grid","sizeDefaults")(rt,et),Qe=0;Qe<un.length;Qe++)tt.pushUnique(sn.xaxis,un[Qe]);for(Qe=0;Qe<hn.length;Qe++)tt.pushUnique(sn.yaxis,hn[Qe]);for(var dn in cn)tt.pushUnique(sn.cartesian,dn)}if(et._has=Lt._hasPlotType.bind(et),nt.length===at.length)for(Qe=0;Qe<at.length;Qe++)xt(at[Qe],nt[Qe]);Lt.supplyLayoutModuleDefaults(rt,et,at,Ee._transitionData);var vn=et._visibleModules,yn=[];for(Qe=0;Qe<vn.length;Qe++){var _n=vn[Qe].crossTraceDefaults;_n&&tt.pushUnique(yn,_n)}for(Qe=0;Qe<yn.length;Qe++)yn[Qe](at,et);et._hasOnlyLargeSploms=1===et._basePlotModules.length&&"splom"===et._basePlotModules[0].name&&un.length>15&&hn.length>15&&0===et.shapes.length&&0===et.images.length,et._hasCartesian=et._has("cartesian"),et._hasGeo=et._has("geo"),et._hasGL3D=et._has("gl3d"),et._hasGL2D=et._has("gl2d"),et._hasTernary=et._has("ternary"),et._hasPie=et._has("pie"),Lt.linkSubplots(at,et,nt,We),Lt.cleanPlot(at,et,nt,We),We._zoomlayer&&!Ee._dragging&&We._zoomlayer.selectAll(".select-outline").remove(),function fillMetaTextHelpers(Ee,ze){var Be,Ue=[];ze.meta&&(Be=ze._meta={meta:ze.meta,layout:{meta:ze.meta}});for(var We=0;We<Ee.length;We++){var $e=Ee[We];$e.meta?Ue[$e.index]=$e._meta={meta:$e.meta}:ze.meta&&($e._meta={meta:ze.meta}),ze.meta&&($e._meta.layout={meta:ze.meta})}Ue.length&&(Be||(Be=ze._meta={}),Be.data=Ue)}(at,et),xt(et,We),$e.getComponentMethod("colorscale","crossTraceDefaults")(at,et),et._preGUI||(et._preGUI={}),et._tracePreGUI||(et._tracePreGUI={});var Mn,Cn=et._tracePreGUI,En={};for(Mn in Cn)En[Mn]="old";for(Qe=0;Qe<at.length;Qe++)En[Mn=at[Qe]._fullInput.uid]||(Cn[Mn]={}),En[Mn]="new";for(Mn in En)"old"===En[Mn]&&delete Cn[Mn];initMargins(et),$e.getComponentMethod("rangeslider","makeData")(et),Be||ct.length!==at.length||Lt.supplyDefaultsUpdateCalc(ct,at)}},Lt.supplyDefaultsUpdateCalc=function(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be],We=(Ee[Be]||[])[0];if(We&&We.trace){var $e=We.trace;if($e._hasCalcTransform){var Qe,et,rt,nt=$e._arrayAttrs;for(Qe=0;Qe<nt.length;Qe++)et=nt[Qe],rt=tt.nestedProperty($e,et).get().slice(),tt.nestedProperty(Ue,et).set(rt)}We.trace=Ue}}},Lt.createTransitionData=function(Ee){Ee._transitionData||(Ee._transitionData={}),Ee._transitionData._frames||(Ee._transitionData._frames=[]),Ee._transitionData._frameHash||(Ee._transitionData._frameHash={}),Ee._transitionData._counter||(Ee._transitionData._counter=0),Ee._transitionData._interruptCallbacks||(Ee._transitionData._interruptCallbacks=[])},Lt._hasPlotType=function(Ee){var ze,Be=this._basePlotModules||[];for(ze=0;ze<Be.length;ze++)if(Be[ze].name===Ee)return!0;var Ue=this._modules||[];for(ze=0;ze<Ue.length;ze++){var We=Ue[ze].name;if(We===Ee)return!0;var Qe=$e.modules[We];if(Qe&&Qe.categories[Ee])return!0}return!1},Lt.cleanPlot=function(Ee,ze,Be,Ue){var We,$e,Qe=Ue._basePlotModules||[];for(We=0;We<Qe.length;We++){var et=Qe[We];et.clean&&et.clean(Ee,ze,Be,Ue)}var tt=Ue._has&&Ue._has("gl"),rt=ze._has&&ze._has("gl");tt&&!rt&&void 0!==Ue._glcontainer&&(Ue._glcontainer.selectAll(".gl-canvas").remove(),Ue._glcontainer.selectAll(".no-webgl").remove(),Ue._glcanvas=null);var nt=!!Ue._infolayer;e:for(We=0;We<Be.length;We++){var at=Be[We].uid;for($e=0;$e<Ee.length;$e++){if(at===Ee[$e].uid)continue e}nt&&Ue._infolayer.select(".cb"+at).remove()}},Lt.linkSubplots=function(Ee,ze,Be,Ue){var We,Qe,et=Ue._plots||{},rt=ze._plots={},nt=ze._subplots,it={_fullData:Ee,_fullLayout:ze},ct=nt.cartesian.concat(nt.gl2d||[]);for(We=0;We<ct.length;We++){var ft,xt=ct[We],kt=et[xt],Lt=at.getFromId(it,xt,"x"),Ut=at.getFromId(it,xt,"y");for(kt?ft=rt[xt]=kt:(ft=rt[xt]={}).id=xt,Lt._counterAxes.push(Ut._id),Ut._counterAxes.push(Lt._id),Lt._subplotsWith.push(xt),Ut._subplotsWith.push(xt),ft.xaxis=Lt,ft.yaxis=Ut,ft._hasClipOnAxisFalse=!1,Qe=0;Qe<Ee.length;Qe++){var er=Ee[Qe];if(er.xaxis===ft.xaxis._id&&er.yaxis===ft.yaxis._id&&!1===er.cliponaxis){ft._hasClipOnAxisFalse=!0;break}}}var tr,rr=at.list(it,null,!0);for(We=0;We<rr.length;We++){var ar=null;(tr=rr[We]).overlaying&&(ar=at.getFromId(it,tr.overlaying))&&ar.overlaying&&(tr.overlaying=!1,ar=null),tr._mainAxis=ar||tr,ar&&(tr.domain=ar.domain.slice()),tr._anchorAxis="free"===tr.anchor?null:at.getFromId(it,tr.anchor)}for(We=0;We<rr.length;We++)if((tr=rr[We])._counterAxes.sort(at.idSort),tr._subplotsWith.sort(tt.subplotSort),tr._mainSubplot=findMainSubplot(tr,ze),tr._counterAxes.length&&(tr.spikemode&&-1!==tr.spikemode.indexOf("across")||tr.automargin&&tr.mirror&&"free"!==tr.anchor||$e.getComponentMethod("rangeslider","isVisible")(tr))){var Lr=1,Qr=0;for(Qe=0;Qe<tr._counterAxes.length;Qe++){var on=at.getFromId(it,tr._counterAxes[Qe]);Lr=Math.min(Lr,on.domain[0]),Qr=Math.max(Qr,on.domain[1])}Lr<Qr&&(tr._counterDomainMin=Lr,tr._counterDomainMax=Qr)}},Lt.clearExpandedTraceDefaultColors=function(Ee){var ze,Be,Ue;for(Be=[],(ze=Ee._module._colorAttrs)||(Ee._module._colorAttrs=ze=[],Qe.crawl(Ee._module.attributes,(function locateColorAttrs(Ee,Ue,We,$e){Be[$e]=Ue,Be.length=$e+1,"color"===Ee.valType&&void 0===Ee.dflt&&ze.push(Be.join("."))}))),Ue=0;Ue<ze.length;Ue++){tt.nestedProperty(Ee,"_input."+ze[Ue]).get()||tt.nestedProperty(Ee,ze[Ue]).set(null)}},Lt.supplyDataDefaults=function(Ee,ze,Be,Ue){var We,Qe,rt,nt=Ue._modules,at=Ue._visibleModules,it=Ue._basePlotModules,ct=0,ft=0;function pushModule(Ee){ze.push(Ee);var Be=Ee._module;Be&&(tt.pushUnique(nt,Be),!0===Ee.visible&&tt.pushUnique(at,Be),tt.pushUnique(it,Ee._module.basePlotModule),ct++,!1!==Ee._input.visible&&ft++)}Ue._transformModules=[];var kt={},Ut=[],er=(Be.template||{}).data||{},tr=et.traceTemplater(er);for(We=0;We<Ee.length;We++){if(rt=Ee[We],(Qe=tr.newTrace(rt)).uid=Ue._traceUids[We],Lt.supplyTraceDefaults(rt,Qe,ft,Ue,We),Qe.index=We,Qe._input=rt,Qe._expandedIndex=ct,Qe.transforms&&Qe.transforms.length)for(var rr=!1!==rt.visible&&!1===Qe.visible,ar=applyTransforms(Qe,ze,Be,Ue),Lr=0;Lr<ar.length;Lr++){var Qr=ar[Lr],on={_template:Qe._template,type:Qe.type,uid:Qe.uid+Lr};rr&&!1===Qr.visible&&delete Qr.visible,Lt.supplyTraceDefaults(Qr,on,ct,Ue,We),xt(on,Qr),on.index=We,on._input=rt,on._fullInput=Qe,on._expandedIndex=ct,on._expandedInput=Qr,pushModule(on)}else Qe._fullInput=Qe,Qe._expandedInput=Qe,pushModule(Qe);$e.traceIs(Qe,"carpetAxis")&&(kt[Qe.carpet]=Qe),$e.traceIs(Qe,"carpetDependent")&&Ut.push(We)}for(We=0;We<Ut.length;We++)if((Qe=ze[Ut[We]]).visible){var sn=kt[Qe.carpet];Qe._carpet=sn,sn&&sn.visible?(Qe.xaxis=sn.xaxis,Qe.yaxis=sn.yaxis):Qe.visible=!1}},Lt.supplyAnimationDefaults=function(Ee){var ze;Ee=Ee||{};var Be={};function coerce(ze,Ue){return tt.coerce(Ee||{},Be,it,ze,Ue)}if(coerce("mode"),coerce("direction"),coerce("fromcurrent"),Array.isArray(Ee.frame))for(Be.frame=[],ze=0;ze<Ee.frame.length;ze++)Be.frame[ze]=Lt.supplyAnimationFrameDefaults(Ee.frame[ze]||{});else Be.frame=Lt.supplyAnimationFrameDefaults(Ee.frame||{});if(Array.isArray(Ee.transition))for(Be.transition=[],ze=0;ze<Ee.transition.length;ze++)Be.transition[ze]=Lt.supplyAnimationTransitionDefaults(Ee.transition[ze]||{});else Be.transition=Lt.supplyAnimationTransitionDefaults(Ee.transition||{});return Be},Lt.supplyAnimationFrameDefaults=function(Ee){var ze={};function coerce(Be,Ue){return tt.coerce(Ee||{},ze,it.frame,Be,Ue)}return coerce("duration"),coerce("redraw"),ze},Lt.supplyAnimationTransitionDefaults=function(Ee){var ze={};function coerce(Be,Ue){return tt.coerce(Ee||{},ze,it.transition,Be,Ue)}return coerce("duration"),coerce("easing"),ze},Lt.supplyFrameDefaults=function(Ee){var ze={};function coerce(Be,Ue){return tt.coerce(Ee,ze,ct,Be,Ue)}return coerce("group"),coerce("name"),coerce("traces"),coerce("baseframe"),coerce("data"),coerce("layout"),ze},Lt.supplyTraceDefaults=function(Ee,ze,Be,Ue,We){var Qe,et=Ue.colorway||rt.defaults,nt=et[Be%et.length];function coerce(Be,Ue){return tt.coerce(Ee,ze,Lt.attributes,Be,Ue)}var at=coerce("visible");coerce("type"),coerce("name",Ue._traceWord+" "+We),coerce("uirevision",Ue.uirevision);var it=Lt.getModule(ze);if(ze._module=it,it){var ct=it.basePlotModule,ft=ct.attr,xt=ct.attributes;if(ft&&xt){var kt=Ue._subplots,Ut="";if("gl2d"!==ct.name||at){if(Array.isArray(ft))for(Qe=0;Qe<ft.length;Qe++){var er=ft[Qe],tr=tt.coerce(Ee,ze,xt,er);kt[er]&&tt.pushUnique(kt[er],tr),Ut+=tr}else Ut=tt.coerce(Ee,ze,xt,ft);kt[ct.name]&&tt.pushUnique(kt[ct.name],Ut)}}}return at&&(coerce("customdata"),coerce("ids"),coerce("meta"),$e.traceIs(ze,"showLegend")?(tt.coerce(Ee,ze,it.attributes.showlegend?it.attributes:Lt.attributes,"showlegend"),coerce("legendgroup"),ze._dfltShowLegend=!0):ze._dfltShowLegend=!1,it&&it.supplyDefaults(Ee,ze,nt,Ue),$e.traceIs(ze,"noOpacity")||coerce("opacity"),$e.traceIs(ze,"notLegendIsolatable")&&(ze.visible=!!ze.visible),$e.traceIs(ze,"noHover")||(ze.hovertemplate||tt.coerceHoverinfo(Ee,ze,Ue),"parcats"!==ze.type&&$e.getComponentMethod("fx","supplyDefaults")(Ee,ze,nt,Ue)),it&&it.selectPoints&&coerce("selectedpoints"),Lt.supplyTransformDefaults(Ee,ze,Ue)),ze},Lt.hasMakesDataTransform=hasMakesDataTransform,Lt.supplyTransformDefaults=function(Ee,ze,Be){if(ze._length||hasMakesDataTransform(Ee)){var Ue=Be._globalTransforms||[],We=Be._transformModules||[];if(Array.isArray(Ee.transforms)||0!==Ue.length)for(var $e=Ee.transforms||[],Qe=Ue.concat($e),et=ze.transforms=[],rt=0;rt<Qe.length;rt++){var nt,at=Qe[rt],it=at.type,ct=Ut[it],ft=!(at._module&&at._module===ct),xt=ct&&"function"==typeof ct.transform;ct||tt.warn("Unrecognized transform type "+it+"."),ct&&ct.supplyDefaults&&(ft||xt)?((nt=ct.supplyDefaults(at,ze,Be,Ee)).type=it,nt._module=ct,tt.pushUnique(We,ct)):nt=tt.extendFlat({},at),et.push(nt)}}},Lt.supplyLayoutGlobalDefaults=function(Ee,ze,Be){function coerce(Be,Ue){return tt.coerce(Ee,ze,Lt.layoutAttributes,Be,Ue)}var Ue=Ee.template;tt.isPlainObject(Ue)&&(ze.template=Ue,ze._template=Ue.layout,ze._dataTemplate=Ue.data);var We=tt.coerceFont(coerce,"font");coerce("title.text",ze._dfltTitle.plot),tt.coerceFont(coerce,"title.font",{family:We.family,size:Math.round(1.4*We.size),color:We.color}),coerce("title.xref"),coerce("title.yref"),coerce("title.x"),coerce("title.y"),coerce("title.xanchor"),coerce("title.yanchor"),coerce("title.pad.t"),coerce("title.pad.r"),coerce("title.pad.b"),coerce("title.pad.l"),coerce("uniformtext.mode")&&coerce("uniformtext.minsize"),coerce("autosize",!(Ee.width&&Ee.height)),coerce("width"),coerce("height"),coerce("margin.l"),coerce("margin.r"),coerce("margin.t"),coerce("margin.b"),coerce("margin.pad"),coerce("margin.autoexpand"),Ee.width&&Ee.height&&Lt.sanitizeMargins(ze),$e.getComponentMethod("grid","sizeDefaults")(Ee,ze),coerce("paper_bgcolor"),coerce("separators",Be.decimal+Be.thousands),coerce("hidesources"),coerce("colorway"),coerce("datarevision");var Qe=coerce("uirevision");coerce("editrevision",Qe),coerce("selectionrevision",Qe),coerce("modebar.orientation"),coerce("modebar.bgcolor",rt.addOpacity(ze.paper_bgcolor,.5));var et=rt.contrast(rt.rgb(ze.modebar.bgcolor));coerce("modebar.color",rt.addOpacity(et,.3)),coerce("modebar.activecolor",rt.addOpacity(et,.7)),coerce("modebar.uirevision",Qe),coerce("meta"),tt.isPlainObject(Ee.transition)&&(coerce("transition.duration"),coerce("transition.easing"),coerce("transition.ordering")),$e.getComponentMethod("calendars","handleDefaults")(Ee,ze,"calendar"),$e.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Ee,ze,coerce)},Lt.plotAutoSize=function plotAutoSize(Ee,ze,Be){var Ue,$e,Qe=Ee._context||{},et=Qe.frameMargins,rt=tt.isPlotDiv(Ee);if(rt&&Ee.emit("plotly_autosize"),Qe.fillFrame)Ue=window.innerWidth,$e=window.innerHeight,document.body.style.overflow="hidden";else{var nt=rt?window.getComputedStyle(Ee):{};if(Ue=parseFloat(nt.width)||parseFloat(nt.maxWidth)||Be.width,$e=parseFloat(nt.height)||parseFloat(nt.maxHeight)||Be.height,We(et)&&et>0){var at=1-2*et;Ue=Math.round(at*Ue),$e=Math.round(at*$e)}}var it=Lt.layoutAttributes.width.min,ct=Lt.layoutAttributes.height.min;Ue<it&&(Ue=it),$e<ct&&($e=ct);var ft=!ze.width&&Math.abs(Be.width-Ue)>1,xt=!ze.height&&Math.abs(Be.height-$e)>1;(xt||ft)&&(ft&&(Be.width=Ue),xt&&(Be.height=$e)),Ee._initialAutoSize||(Ee._initialAutoSize={width:Ue,height:$e}),Lt.sanitizeMargins(Be)},Lt.supplyLayoutModuleDefaults=function(Ee,ze,Be,Ue){var We,Qe,et,rt=$e.componentsRegistry,nt=ze._basePlotModules,at=$e.subplotsRegistry.cartesian;for(We in rt)(et=rt[We]).includeBasePlot&&et.includeBasePlot(Ee,ze);for(var it in nt.length||nt.push(at),ze._has("cartesian")&&($e.getComponentMethod("grid","contentDefaults")(Ee,ze),at.finalizeSubplots(Ee,ze)),ze._subplots)ze._subplots[it].sort(tt.subplotSort);for(Qe=0;Qe<nt.length;Qe++)(et=nt[Qe]).supplyLayoutDefaults&&et.supplyLayoutDefaults(Ee,ze,Be);var ct=ze._modules;for(Qe=0;Qe<ct.length;Qe++)(et=ct[Qe]).supplyLayoutDefaults&&et.supplyLayoutDefaults(Ee,ze,Be);var ft=ze._transformModules;for(Qe=0;Qe<ft.length;Qe++)(et=ft[Qe]).supplyLayoutDefaults&&et.supplyLayoutDefaults(Ee,ze,Be,Ue);for(We in rt)(et=rt[We]).supplyLayoutDefaults&&et.supplyLayoutDefaults(Ee,ze,Be)},Lt.purge=function(Ee){var ze=Ee._fullLayout||{};void 0!==ze._glcontainer&&(ze._glcontainer.selectAll(".gl-canvas").remove(),ze._glcontainer.remove(),ze._glcanvas=null),ze._modeBar&&ze._modeBar.destroy(),Ee._transitionData&&(Ee._transitionData._interruptCallbacks&&(Ee._transitionData._interruptCallbacks.length=0),Ee._transitionData._animationRaf&&window.cancelAnimationFrame(Ee._transitionData._animationRaf)),tt.clearThrottle(),tt.clearResponsive(Ee),delete Ee.data,delete Ee.layout,delete Ee._fullData,delete Ee._fullLayout,delete Ee.calcdata,delete Ee.framework,delete Ee.empty,delete Ee.fid,delete Ee.undoqueue,delete Ee.undonum,delete Ee.autoplay,delete Ee.changed,delete Ee._promises,delete Ee._redrawTimer,delete Ee._hmlumcount,delete Ee._hmpixcount,delete Ee._transitionData,delete Ee._transitioning,delete Ee._initialAutoSize,delete Ee._transitioningWithDuration,delete Ee._dragging,delete Ee._dragged,delete Ee._dragdata,delete Ee._hoverdata,delete Ee._snapshotInProgress,delete Ee._editing,delete Ee._mouseDownTime,delete Ee._legendMouseDownTime,Ee.removeAllListeners&&Ee.removeAllListeners()},Lt.style=function(Ee){var ze,Be=Ee._fullLayout._visibleModules,Ue=[];for(ze=0;ze<Be.length;ze++){var We=Be[ze];We.style&&tt.pushUnique(Ue,We.style)}for(ze=0;ze<Ue.length;ze++)Ue[ze](Ee)},Lt.sanitizeMargins=function(Ee){if(Ee&&Ee.margin){var ze,Be=Ee.width,Ue=Ee.height,We=Ee.margin,$e=Be-(We.l+We.r),Qe=Ue-(We.t+We.b);$e<0&&(ze=(Be-1)/(We.l+We.r),We.l=Math.floor(ze*We.l),We.r=Math.floor(ze*We.r)),Qe<0&&(ze=(Ue-1)/(We.t+We.b),We.t=Math.floor(ze*We.t),We.b=Math.floor(ze*We.b))}},Lt.clearAutoMarginIds=function(Ee){Ee._fullLayout._pushmarginIds={}},Lt.allowAutoMargin=function(Ee,ze){Ee._fullLayout._pushmarginIds[ze]=1},Lt.autoMargin=function(Ee,ze,Be){var Ue=Ee._fullLayout,We=Ue._pushmargin,$e=Ue._pushmarginIds;if(!1!==Ue.margin.autoexpand){if(Be){var Qe=Be.pad;if(void 0===Qe){var et=Ue.margin;Qe=Math.min(12,et.l,et.r,et.t,et.b)}Be.l+Be.r>.5*Ue.width&&(tt.log("Margin push",ze,"is too big in x, dropping"),Be.l=Be.r=0),Be.b+Be.t>.5*Ue.height&&(tt.log("Margin push",ze,"is too big in y, dropping"),Be.b=Be.t=0);var rt=void 0!==Be.xl?Be.xl:Be.x,nt=void 0!==Be.xr?Be.xr:Be.x,at=void 0!==Be.yt?Be.yt:Be.y,it=void 0!==Be.yb?Be.yb:Be.y;We[ze]={l:{val:rt,size:Be.l+Qe},r:{val:nt,size:Be.r+Qe},b:{val:it,size:Be.b+Qe},t:{val:at,size:Be.t+Qe}},$e[ze]=1}else delete We[ze],delete $e[ze];if(!Ue._replotting)return Lt.doAutoMargin(Ee)}},Lt.doAutoMargin=function(Ee){var ze=Ee._fullLayout;ze._size||(ze._size={}),initMargins(ze);var Be=ze._size,Ue=ze.margin,Qe=tt.extendFlat({},Be),et=Ue.l,rt=Ue.r,nt=Ue.t,at=Ue.b,it=ze.width,ct=ze.height,ft=ze._pushmargin,xt=ze._pushmarginIds;if(!1!==ze.margin.autoexpand){for(var kt in ft)xt[kt]||delete ft[kt];for(var Ut in ft.base={l:{val:0,size:et},r:{val:1,size:rt},t:{val:1,size:nt},b:{val:0,size:at}},ft){var er=ft[Ut].l||{},tr=ft[Ut].b||{},rr=er.val,ar=er.size,Lr=tr.val,Qr=tr.size;for(var on in ft){if(We(ar)&&ft[on].r){var sn=ft[on].r.val,ln=ft[on].r.size;if(sn>rr){var cn=(ar*sn+(ln-it)*rr)/(sn-rr),un=(ln*(1-rr)+(ar-it)*(1-sn))/(sn-rr);cn>=0&&un>=0&&it-(cn+un)>0&&cn+un>et+rt&&(et=cn,rt=un)}}if(We(Qr)&&ft[on].t){var hn=ft[on].t.val,dn=ft[on].t.size;if(hn>Lr){var vn=(Qr*hn+(dn-ct)*Lr)/(hn-Lr),yn=(dn*(1-Lr)+(Qr-ct)*(1-hn))/(hn-Lr);vn>=0&&yn>=0&&ct-(yn+vn)>0&&vn+yn>at+nt&&(at=vn,nt=yn)}}}}}if(Be.l=Math.round(et),Be.r=Math.round(rt),Be.t=Math.round(nt),Be.b=Math.round(at),Be.p=Math.round(Ue.pad),Be.w=Math.round(it)-Be.l-Be.r,Be.h=Math.round(ct)-Be.t-Be.b,!ze._replotting&&Lt.didMarginChange(Qe,Be)){"_redrawFromAutoMarginCount"in ze?ze._redrawFromAutoMarginCount++:ze._redrawFromAutoMarginCount=1;var _n=3*(1+Object.keys(xt).length);if(ze._redrawFromAutoMarginCount<_n)return $e.call("plot",Ee);tt.warn("Too many auto-margin redraws.")}};var ar=["l","r","t","b","p","w","h"];function _transition(Ee,ze,Be){var Ue=!1;var We=[Lt.previousPromises,function interruptPreviousTransitions(){if(Ee._transitionData)return Ee._transitioning=!1,function executeCallbacks(Ee){var ze=Promise.resolve();if(!Ee)return ze;for(;Ee.length;)ze=ze.then(Ee.shift());return ze}(Ee._transitionData._interruptCallbacks)},Be.prepareFn,Lt.rehover,function executeTransitions(){return Ee.emit("plotly_transitioning",[]),new Promise((function(We){Ee._transitioning=!0,ze.duration>0&&(Ee._transitioningWithDuration=!0),Ee._transitionData._interruptCallbacks.push((function(){Ue=!0})),Be.redraw&&Ee._transitionData._interruptCallbacks.push((function(){return $e.call("redraw",Ee)})),Ee._transitionData._interruptCallbacks.push((function(){Ee.emit("plotly_transitioninterrupted",[])}));var Qe=0,et=0;function makeCallback(){return Qe++,function(){et++,Ue||et!==Qe||function completeTransition(ze){if(!Ee._transitionData)return;return function flushCallbacks(Ee){if(Ee)for(;Ee.length;)Ee.shift()}(Ee._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(Be.redraw)return $e.call("redraw",Ee)})).then((function(){Ee._transitioning=!1,Ee._transitioningWithDuration=!1,Ee.emit("plotly_transitioned",[])})).then(ze)}(We)}}Be.runFn(makeCallback),setTimeout(makeCallback())}))}],Qe=tt.syncOrAsync(We,Ee);return Qe&&Qe.then||(Qe=Promise.resolve()),Qe.then((function(){return Ee}))}Lt.didMarginChange=function(Ee,ze){for(var Be=0;Be<ar.length;Be++){var Ue=ar[Be],$e=Ee[Ue],Qe=ze[Ue];if(!We($e)||Math.abs(Qe-$e)>1)return!0}return!1},Lt.graphJson=function(Ee,ze,Be,Ue,We){(We&&ze&&!Ee._fullData||We&&!ze&&!Ee._fullLayout)&&Lt.supplyDefaults(Ee);var $e=We?Ee._fullData:Ee.data,Qe=We?Ee._fullLayout:Ee.layout,et=(Ee._transitionData||{})._frames;function stripObj(Ee){if("function"==typeof Ee)return null;if(tt.isPlainObject(Ee)){var ze,Ue,We={};for(ze in Ee)if("function"!=typeof Ee[ze]&&-1===["_","["].indexOf(ze.charAt(0))){if("keepdata"===Be){if("src"===ze.substr(ze.length-3))continue}else if("keepstream"===Be){if("string"==typeof(Ue=Ee[ze+"src"])&&Ue.indexOf(":")>0&&!tt.isPlainObject(Ee.stream))continue}else if("keepall"!==Be&&"string"==typeof(Ue=Ee[ze+"src"])&&Ue.indexOf(":")>0)continue;We[ze]=stripObj(Ee[ze])}return We}return Array.isArray(Ee)?Ee.map(stripObj):tt.isTypedArray(Ee)?tt.simpleMap(Ee,tt.identity):tt.isJSDate(Ee)?tt.ms2DateTimeLocal(+Ee):Ee}var rt={data:($e||[]).map((function(Ee){var Be=stripObj(Ee);return ze&&delete Be.fit,Be}))};return ze||(rt.layout=stripObj(Qe)),Ee.framework&&Ee.framework.isPolar&&(rt=Ee.framework.getConfig()),et&&(rt.frames=stripObj(et)),"object"===Ue?rt:JSON.stringify(rt)},Lt.modifyFrames=function(Ee,ze){var Be,Ue,We,$e=Ee._transitionData._frames,Qe=Ee._transitionData._frameHash;for(Be=0;Be<ze.length;Be++)switch((Ue=ze[Be]).type){case"replace":We=Ue.value;var et=($e[Ue.index]||{}).name,tt=We.name;$e[Ue.index]=Qe[tt]=We,tt!==et&&(delete Qe[et],Qe[tt]=We);break;case"insert":Qe[(We=Ue.value).name]=We,$e.splice(Ue.index,0,We);break;case"delete":delete Qe[(We=$e[Ue.index]).name],$e.splice(Ue.index,1)}return Promise.resolve()},Lt.computeFrame=function(Ee,ze){var Be,Ue,We,$e,Qe=Ee._transitionData._frameHash;if(!ze)throw new Error("computeFrame must be given a string frame name");var et=Qe[ze.toString()];if(!et)return!1;for(var tt=[et],rt=[et.name];et.baseframe&&(et=Qe[et.baseframe.toString()])&&-1===rt.indexOf(et.name);)tt.push(et),rt.push(et.name);for(var nt={};et=tt.pop();)if(et.layout&&(nt.layout=Lt.extendLayout(nt.layout,et.layout)),et.data){if(nt.data||(nt.data=[]),!(Ue=et.traces))for(Ue=[],Be=0;Be<et.data.length;Be++)Ue[Be]=Be;for(nt.traces||(nt.traces=[]),Be=0;Be<et.data.length;Be++)null!=(We=Ue[Be])&&(-1===($e=nt.traces.indexOf(We))&&($e=nt.data.length,nt.traces[$e]=We),nt.data[$e]=Lt.extendTrace(nt.data[$e],et.data[Be]))}return nt},Lt.recomputeFrameHash=function(Ee){for(var ze=Ee._transitionData._frameHash={},Be=Ee._transitionData._frames,Ue=0;Ue<Be.length;Ue++){var We=Be[Ue];We&&We.name&&(ze[We.name]=We)}},Lt.extendObjectWithContainers=function(Ee,ze,Be){var Ue,We,$e,Qe,et,rt,nt,at=tt.extendDeepNoArrays({},ze||{}),it=tt.expandObjectPaths(at),ct={};if(Be&&Be.length)for($e=0;$e<Be.length;$e++)void 0===(We=(Ue=tt.nestedProperty(it,Be[$e])).get())?tt.nestedProperty(ct,Be[$e]).set(null):(Ue.set(null),tt.nestedProperty(ct,Be[$e]).set(We));if(Ee=tt.extendDeepNoArrays(Ee||{},it),Be&&Be.length)for($e=0;$e<Be.length;$e++)if(rt=tt.nestedProperty(ct,Be[$e]).get()){for(nt=(et=tt.nestedProperty(Ee,Be[$e])).get(),Array.isArray(nt)||(nt=[],et.set(nt)),Qe=0;Qe<rt.length;Qe++){var ft=rt[Qe];nt[Qe]=null===ft?null:Lt.extendObjectWithContainers(nt[Qe],ft)}et.set(nt)}return Ee},Lt.dataArrayContainers=["transforms","dimensions"],Lt.layoutArrayContainers=$e.layoutArrayContainers,Lt.extendTrace=function(Ee,ze){return Lt.extendObjectWithContainers(Ee,ze,Lt.dataArrayContainers)},Lt.extendLayout=function(Ee,ze){return Lt.extendObjectWithContainers(Ee,ze,Lt.layoutArrayContainers)},Lt.transition=function(Ee,ze,Be,Ue,We,$e){var Qe={redraw:We.redraw},et={},rt=[];return Qe.prepareFn=function(){for(var We=Array.isArray(ze)?ze.length:0,$e=Ue.slice(0,We),Qe=0;Qe<$e.length;Qe++){var nt=$e[Qe],at=Ee._fullData[nt]._module;if(at){if(at.animatable){var it=at.basePlotModule.name;et[it]||(et[it]=[]),et[it].push(nt)}Ee.data[$e[Qe]]=Lt.extendTrace(Ee.data[$e[Qe]],ze[Qe])}}var ct=tt.expandObjectPaths(tt.extendDeepNoArrays({},Be)),ft=/^[xy]axis[0-9]*$/;for(var xt in ct)ft.test(xt)&&delete ct[xt].range;Lt.extendLayout(Ee.layout,ct),delete Ee.calcdata,Lt.supplyDefaults(Ee),Lt.doCalcdata(Ee);var kt=tt.expandObjectPaths(Be);if(kt){var Ut=Ee._fullLayout._plots;for(var er in Ut){var tr=Ut[er],rr=tr.xaxis,ar=tr.yaxis,Lr=rr.range.slice(),Qr=ar.range.slice(),on=null,sn=null,ln=null,cn=null;Array.isArray(kt[rr._name+".range"])?on=kt[rr._name+".range"].slice():Array.isArray((kt[rr._name]||{}).range)&&(on=kt[rr._name].range.slice()),Array.isArray(kt[ar._name+".range"])?sn=kt[ar._name+".range"].slice():Array.isArray((kt[ar._name]||{}).range)&&(sn=kt[ar._name].range.slice()),Lr&&on&&(rr.r2l(Lr[0])!==rr.r2l(on[0])||rr.r2l(Lr[1])!==rr.r2l(on[1]))&&(ln={xr0:Lr,xr1:on}),Qr&&sn&&(ar.r2l(Qr[0])!==ar.r2l(sn[0])||ar.r2l(Qr[1])!==ar.r2l(sn[1]))&&(cn={yr0:Qr,yr1:sn}),(ln||cn)&&rt.push(tt.extendFlat({plotinfo:tr},ln,cn))}}return Promise.resolve()},Qe.runFn=function(ze){var Ue,We,Qe=Ee._fullLayout._basePlotModules,nt=rt.length;if(Be)for(We=0;We<Qe.length;We++)Qe[We].transitionAxes&&Qe[We].transitionAxes(Ee,rt,$e,ze);for(var at in nt?((Ue=tt.extendFlat({},$e)).duration=0,delete et.cartesian):Ue=$e,et){var it=et[at];Ee._fullData[it[0]]._module.basePlotModule.plot(Ee,it,Ue,ze)}},_transition(Ee,$e,Qe)},Lt.transitionFromReact=function(Ee,ze,Be,Ue){var We=Ee._fullLayout,$e=We.transition,Qe={},et=[];return Qe.prepareFn=function(){var Ee=We._plots;for(var $e in Qe.redraw=!1,"some"===ze.anim&&(Qe.redraw=!0),"some"===Be.anim&&(Qe.redraw=!0),Ee){var rt=Ee[$e],nt=rt.xaxis,at=rt.yaxis,it=Ue[nt._name].range.slice(),ct=Ue[at._name].range.slice(),ft=nt.range.slice(),xt=at.range.slice();nt.setScale(),at.setScale();var kt=null,Lt=null;nt.r2l(it[0])===nt.r2l(ft[0])&&nt.r2l(it[1])===nt.r2l(ft[1])||(kt={xr0:it,xr1:ft}),at.r2l(ct[0])===at.r2l(xt[0])&&at.r2l(ct[1])===at.r2l(xt[1])||(Lt={yr0:ct,yr1:xt}),(kt||Lt)&&et.push(tt.extendFlat({plotinfo:rt},kt,Lt))}return Promise.resolve()},Qe.runFn=function(Be){for(var Ue,We,Qe,rt=Ee._fullData,nt=Ee._fullLayout._basePlotModules,at=[],it=0;it<rt.length;it++)at.push(it);function transitionAxes(){for(var ze=0;ze<nt.length;ze++)nt[ze].transitionAxes&&nt[ze].transitionAxes(Ee,et,Ue,Be)}function transitionTraces(){for(var ze=0;ze<nt.length;ze++)nt[ze].plot(Ee,Qe,We,Be)}et.length&&ze.anim?"traces first"===$e.ordering?(Ue=tt.extendFlat({},$e,{duration:0}),Qe=at,We=$e,setTimeout(transitionAxes,$e.duration),transitionTraces()):(Ue=$e,Qe=null,We=tt.extendFlat({},$e,{duration:0}),setTimeout(transitionTraces,Ue.duration),transitionAxes()):et.length?(Ue=$e,transitionAxes()):ze.anim&&(Qe=at,We=$e,transitionTraces())},_transition(Ee,$e,Qe)},Lt.doCalcdata=function(Ee,ze){var Be,Ue,We,et,rt=at.list(Ee),it=Ee._fullData,ct=Ee._fullLayout,ft=new Array(it.length),xt=(Ee.calcdata||[]).slice();for(Ee.calcdata=ft,ct._numBoxes=0,ct._numViolins=0,ct._violinScaleGroupStats={},Ee._hmpixcount=0,Ee._hmlumcount=0,ct._piecolormap={},ct._sunburstcolormap={},ct._treemapcolormap={},ct._funnelareacolormap={},We=0;We<it.length;We++)Array.isArray(ze)&&-1===ze.indexOf(We)&&(ft[We]=xt[We]);for(We=0;We<it.length;We++)(Be=it[We])._arrayAttrs=Qe.findArrayAttributes(Be),Be._extremes={};var kt=ct._subplots.polar||[];for(We=0;We<kt.length;We++)rt.push(ct[kt[We]].radialaxis,ct[kt[We]].angularaxis);for(var Lt in ct._colorAxes){var er=ct[Lt];!1!==er.cauto&&(delete er.cmin,delete er.cmax)}var tr=!1;function transformCalci(ze){if(Be=it[ze],Ue=Be._module,!0===Be.visible&&Be.transforms){if(Ue&&Ue.calc){var We=Ue.calc(Ee,Be);We[0]&&We[0].t&&We[0].t._scene&&delete We[0].t._scene.dirty}for(et=0;et<Be.transforms.length;et++){var $e=Be.transforms[et];(Ue=Ut[$e.type])&&Ue.calcTransform&&(Be._hasCalcTransform=!0,tr=!0,Ue.calcTransform(Ee,Be,$e))}}}function calci(ze,We){if(Be=it[ze],!!(Ue=Be._module).isContainer===We){var $e=[];if(!0===Be.visible&&0!==Be._length){delete Be._indexToPoints;var Qe=Be.transforms||[];for(et=Qe.length-1;et>=0;et--)if(Qe[et].enabled){Be._indexToPoints=Qe[et]._indexToPoints;break}Ue&&Ue.calc&&($e=Ue.calc(Ee,Be))}Array.isArray($e)&&$e[0]||($e=[{x:nt,y:nt}]),$e[0].t||($e[0].t={}),$e[0].trace=Be,ft[ze]=$e}}for(setupAxisCategories(rt,it),We=0;We<it.length;We++)calci(We,!0);for(We=0;We<it.length;We++)transformCalci(We);for(tr&&setupAxisCategories(rt,it),We=0;We<it.length;We++)calci(We,!0);for(We=0;We<it.length;We++)calci(We,!1);doCrossTraceCalc(Ee);var rr=function sortAxisCategoriesByValue(Ee,ze){var Be,Ue,We,Qe,et,rt=[];function zMapCategory(Ee,Be,Ue){var We=Be._id.charAt(0);if("histogram2dcontour"===Ee){var $e=Be._counterAxes[0],Qe=at.getFromId(ze,$e),et="x"===We||"x"===$e&&"category"===Qe.type,tt="y"===We||"y"===$e&&"category"===Qe.type;return function(Ee,ze){return 0===Ee||0===ze||et&&Ee===Ue[ze].length-1||tt&&ze===Ue.length-1?-1:("y"===We?ze:Ee)-1}}return function(Ee,ze){return"y"===We?ze:Ee}}var nt={min:function(Ee){return tt.aggNums(Math.min,null,Ee)},max:function(Ee){return tt.aggNums(Math.max,null,Ee)},sum:function(Ee){return tt.aggNums((function(Ee,ze){return Ee+ze}),null,Ee)},total:function(Ee){return tt.aggNums((function(Ee,ze){return Ee+ze}),null,Ee)},mean:function(Ee){return tt.mean(Ee)},median:function(Ee){return tt.median(Ee)}};for(Be=0;Be<Ee.length;Be++){var it=Ee[Be];if("category"===it.type){var ct=it.categoryorder.match(Lr);if(ct){var ft=ct[1],xt=ct[2],kt=[];for(Ue=0;Ue<it._categories.length;Ue++)kt.push([it._categories[Ue],[]]);for(Ue=0;Ue<it._traceIndices.length;Ue++){var Lt=it._traceIndices[Ue],Ut=ze._fullData[Lt],er=it._id.charAt(0);if(!0===Ut.visible){var tr=Ut.type;$e.traceIs(Ut,"histogram")&&(delete Ut._xautoBinFinished,delete Ut._yautoBinFinished);var rr=ze.calcdata[Lt];for(We=0;We<rr.length;We++){var ar,Qr,on,sn=rr[We];if("splom"===tr){var ln=Ut._axesDim[it._id];if("y"===er){var cn=Ut._diag[ln][0];cn&&(it=ze._fullLayout[at.id2name(cn)])}var un=sn.trace.dimensions[ln].values;for(Qe=0;Qe<un.length;Qe++)for(ar=un[Qe],Qr=it._categoriesMap[ar],et=0;et<sn.trace.dimensions.length;et++)if(et!==ln){var hn=sn.trace.dimensions[et];kt[Qr][1].push(hn.values[Qe])}}else if("scattergl"===tr){for(Qe=0;Qe<sn.t.x.length;Qe++)"x"===er&&(ar=sn.t.x[Qe],Qr=ar,on=sn.t.y[Qe]),"y"===er&&(ar=sn.t.y[Qe],Qr=ar,on=sn.t.x[Qe]),kt[Qr][1].push(on);sn.t&&sn.t._scene&&delete sn.t._scene.dirty}else if(sn.hasOwnProperty("z")){on=sn.z;var dn=zMapCategory(Ut.type,it,on);for(Qe=0;Qe<on.length;Qe++)for(et=0;et<on[Qe].length;et++)(Qr=dn(et,Qe))+1&&kt[Qr][1].push(on[Qe][et])}else for("x"===er?(ar=sn.p+1?sn.p:sn.x,on=sn.s||sn.v||sn.y):"y"===er&&(ar=sn.p+1?sn.p:sn.y,on=sn.s||sn.v||sn.x),Array.isArray(on)||(on=[on]),Qe=0;Qe<on.length;Qe++)kt[ar][1].push(on[Qe])}}}it._categoriesValue=kt;var vn=[];for(Ue=0;Ue<kt.length;Ue++)vn.push([kt[Ue][0],nt[ft](kt[Ue][1])]);vn.sort((function(Ee,ze){return Ee[1]-ze[1]})),it._categoriesAggregatedValue=vn,it._initialCategories=vn.map((function(Ee){return Ee[0]})),"descending"===xt&&it._initialCategories.reverse(),rt=rt.concat(it.sortByInitialCategories())}}}return rt}(rt,Ee);if(rr.length){for(ct._numBoxes=0,ct._numViolins=0,We=0;We<rr.length;We++)calci(rr[We],!0);for(We=0;We<rr.length;We++)calci(rr[We],!1);doCrossTraceCalc(Ee)}$e.getComponentMethod("fx","calc")(Ee),$e.getComponentMethod("errorbars","calc")(Ee)};var Lr=/(total|sum|min|max|mean|median) (ascending|descending)/;function setupAxisCategories(Ee,ze){for(var Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];Ue.clearCalc(),"multicategory"===Ue.type&&Ue.setupMultiCategory(ze)}}function doCrossTraceCalc(Ee){var ze,Be,Ue,We=Ee._fullLayout,$e=We._visibleModules,Qe={};for(Be=0;Be<$e.length;Be++){var et=$e[Be],rt=et.crossTraceCalc;if(rt){var nt=et.basePlotModule.name;Qe[nt]?tt.pushUnique(Qe[nt],rt):Qe[nt]=[rt]}}for(Ue in Qe){var at=Qe[Ue],it=We._subplots[Ue];if(Array.isArray(it))for(ze=0;ze<it.length;ze++){var ct=it[ze],ft="cartesian"===Ue?We._plots[ct]:We[ct];for(Be=0;Be<at.length;Be++)at[Be](Ee,ft,ct)}else for(Be=0;Be<at.length;Be++)at[Be](Ee)}}Lt.rehover=function(Ee){Ee._fullLayout._rehover&&Ee._fullLayout._rehover()},Lt.redrag=function(Ee){Ee._fullLayout._redrag&&Ee._fullLayout._redrag()},Lt.generalUpdatePerTraceModule=function(Ee,ze,Be,Ue){var We,$e=ze.traceHash,Qe={};for(We=0;We<Be.length;We++){var et=Be[We],rt=et[0].trace;rt.visible&&(Qe[rt.type]=Qe[rt.type]||[],Qe[rt.type].push(et))}for(var nt in $e)if(!Qe[nt]){var at=$e[nt][0];at[0].trace.visible=!1,Qe[nt]=[at]}for(var it in Qe){var ct=Qe[it];ct[0][0].trace._module.plot(Ee,ze,tt.filterVisible(ct),Ue)}ze.traceHash=Qe},Lt.plotBasePlot=function(Ee,ze,Be,Ue,We){var Qe=$e.getModule(Ee),et=ft(ze.calcdata,Qe)[0];Qe.plot(ze,et,Ue,We)},Lt.cleanBasePlot=function(Ee,ze,Be,Ue,We){var $e=We._has&&We._has(Ee),Qe=Be._has&&Be._has(Ee);$e&&!Qe&&We["_"+Ee+"layer"].selectAll("g.trace").remove()}},bb86:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("2093"),$e=Be("927d");Ee.exports=function supplyLayoutGlobalDefaults(Ee,ze){We(Ee,ze,(function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}))}},bb88:function(Ee,ze,Be){"use strict";var Ue,We,$e=Be("04a4"),Qe=$e.createCamera,et=$e.createScene,tt=Be("6ceb"),rt=Be("1477"),nt=Be("371e"),at=Be("fc26"),it=Be("0642"),ct=Be("a5c4"),ft=Be("f977"),xt=Be("609c"),kt=Be("f98d"),Lt=Be("76fe"),Ut=Be("33ae"),er=Be("019a");function render(Ee){var ze,Be=Ee.graphDiv,Ue=Ee.svgContainer,We=Ee.container.getBoundingClientRect(),$e=We.width,Qe=We.height;Ue.setAttributeNS(null,"viewBox","0 0 "+$e+" "+Qe),Ue.setAttributeNS(null,"width",$e),Ue.setAttributeNS(null,"height",Qe),er(Ee),Ee.glplot.axes.update(Ee.axesOptions);for(var et,tt=Object.keys(Ee.traces),rt=null,nt=Ee.glplot.selection,ft=0;ft<tt.length;++ft)"skip"!==(ze=Ee.traces[tt[ft]]).data.hoverinfo&&ze.handlePick(nt)&&(rt=ze),ze.setContourLevels&&ze.setContourLevels();function formatter(ze,Be){var Ue=Ee.fullSceneLayout[ze];return it.tickText(Ue,Ue.d2l(Be),"hover").text}if(null!==rt){var xt=kt(Ee.glplot.cameraParams,nt.dataCoordinate);ze=rt.data;var Lt,Ut=Be._fullData[ze.index],tr=nt.index,rr={xLabel:formatter("xaxis",nt.traceCoordinate[0]),yLabel:formatter("yaxis",nt.traceCoordinate[1]),zLabel:formatter("zaxis",nt.traceCoordinate[2])},ar=ct.castHoverinfo(Ut,Ee.fullLayout,tr),Lr=(ar||"").split("+"),Qr=ar&&"all"===ar;Ut.hovertemplate||Qr||(-1===Lr.indexOf("x")&&(rr.xLabel=void 0),-1===Lr.indexOf("y")&&(rr.yLabel=void 0),-1===Lr.indexOf("z")&&(rr.zLabel=void 0),-1===Lr.indexOf("text")&&(nt.textLabel=void 0),-1===Lr.indexOf("name")&&(rt.name=void 0));var on=[];"cone"===ze.type||"streamtube"===ze.type?(rr.uLabel=formatter("xaxis",nt.traceCoordinate[3]),(Qr||-1!==Lr.indexOf("u"))&&on.push("u: "+rr.uLabel),rr.vLabel=formatter("yaxis",nt.traceCoordinate[4]),(Qr||-1!==Lr.indexOf("v"))&&on.push("v: "+rr.vLabel),rr.wLabel=formatter("zaxis",nt.traceCoordinate[5]),(Qr||-1!==Lr.indexOf("w"))&&on.push("w: "+rr.wLabel),rr.normLabel=nt.traceCoordinate[6].toPrecision(3),(Qr||-1!==Lr.indexOf("norm"))&&on.push("norm: "+rr.normLabel),"streamtube"===ze.type&&(rr.divergenceLabel=nt.traceCoordinate[7].toPrecision(3),(Qr||-1!==Lr.indexOf("divergence"))&&on.push("divergence: "+rr.divergenceLabel)),nt.textLabel&&on.push(nt.textLabel),Lt=on.join("<br>")):"isosurface"===ze.type||"volume"===ze.type?(rr.valueLabel=it.tickText(Ee.mockAxis,Ee.mockAxis.d2l(nt.traceCoordinate[3]),"hover").text,on.push("value: "+rr.valueLabel),nt.textLabel&&on.push(nt.textLabel),Lt=on.join("<br>")):Lt=nt.textLabel;var sn={x:nt.traceCoordinate[0],y:nt.traceCoordinate[1],z:nt.traceCoordinate[2],data:Ut._input,fullData:Ut,curveNumber:Ut.index,pointNumber:tr};ct.appendArrayPointValue(sn,Ut,tr),ze._module.eventData&&(sn=Ut._module.eventData(sn,nt,Ut,{},tr));var ln={points:[sn]};Ee.fullSceneLayout.hovermode&&ct.loneHover({trace:Ut,x:(.5+.5*xt[0]/xt[3])*$e,y:(.5-.5*xt[1]/xt[3])*Qe,xLabel:rr.xLabel,yLabel:rr.yLabel,zLabel:rr.zLabel,text:Lt,name:rt.name,color:ct.castHoverOption(Ut,tr,"bgcolor")||rt.color,borderColor:ct.castHoverOption(Ut,tr,"bordercolor"),fontFamily:ct.castHoverOption(Ut,tr,"font.family"),fontSize:ct.castHoverOption(Ut,tr,"font.size"),fontColor:ct.castHoverOption(Ut,tr,"font.color"),nameLength:ct.castHoverOption(Ut,tr,"namelength"),textAlign:ct.castHoverOption(Ut,tr,"align"),hovertemplate:at.castOption(Ut,tr,"hovertemplate"),hovertemplateLabels:at.extendFlat({},sn,rr),eventData:[sn]},{container:Ue,gd:Be}),nt.buttons&&nt.distance<5?Be.emit("plotly_click",ln):Be.emit("plotly_hover",ln),et=ln}else ct.loneUnhover(Ue),Be.emit("plotly_unhover",et);Ee.drawAnnotations(Ee)}function initializeGLPlot(Ee,ze,Be){if(Ee.initializeGLCamera(),!function tryCreatePlot(Ee,ze,Be,$e,Qe){var rt={canvas:$e,gl:Qe,container:Ee.container,axes:Ee.axesOptions,spikes:Ee.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:ze,pixelRatio:Be};if(Ee.staticMode){if(!(We||(Ue=document.createElement("canvas"),We=tt({canvas:Ue,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");rt.pixelRatio=Ee.pixelRatio,rt.gl=We,rt.canvas=Ue}var nt=0;try{Ee.glplot=et(rt)}catch(ze){nt++;try{Ee.glplot=et(rt)}catch(Ee){nt++}}return nt<2}(Ee,Ee.camera,Ee.pixelRatio,ze,Be))return xt(Ee);var $e=Ee.graphDiv,Qe=$e.layout,makeUpdate=function(){var ze={};return Ee.isCameraChanged(Qe)&&(ze[Ee.id+".camera"]=Ee.getCamera()),Ee.isAspectChanged(Qe)&&(ze[Ee.id+".aspectratio"]=Ee.glplot.getAspectratio()),ze},relayoutCallback=function(Ee){if(!1!==Ee.fullSceneLayout.dragmode){var ze=makeUpdate();Ee.saveLayout(Qe),Ee.graphDiv.emit("plotly_relayout",ze)}};return Ee.glplot.canvas.addEventListener("mouseup",(function(){relayoutCallback(Ee)})),Ee.glplot.canvas.addEventListener("wheel",(function(ze){if($e._context._scrollZoom.gl3d){if(Ee.glplot.camera._ortho){var Be=ze.deltaX>ze.deltaY?1.1:1/1.1,Ue=Ee.glplot.getAspectratio();Ee.glplot.setAspectratio({x:Be*Ue.x,y:Be*Ue.y,z:Be*Ue.z})}relayoutCallback(Ee)}}),!!rt&&{passive:!1}),Ee.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==Ee.fullSceneLayout.dragmode&&0!==Ee.camera.mouseListener.buttons){var ze=makeUpdate();Ee.graphDiv.emit("plotly_relayouting",ze)}})),Ee.staticMode||Ee.glplot.canvas.addEventListener("webglcontextlost",(function(ze){$e&&$e.emit&&$e.emit("plotly_webglcontextlost",{event:ze,layer:Ee.id})}),!1),Ee.glplot.camera=Ee.camera,Ee.glplot.oncontextloss=function(){Ee.recoverContext()},Ee.glplot.onrender=render.bind(null,Ee),Ee.traces={},Ee.make4thDimension(),!0}function Scene(Ee,ze){var Be=document.createElement("div"),Ue=Ee.container;this.graphDiv=Ee.graphDiv;var We=document.createElementNS("http://www.w3.org/2000/svg","svg");We.style.position="absolute",We.style.top=We.style.left="0px",We.style.width=We.style.height="100%",We.style["z-index"]=20,We.style["pointer-events"]="none",Be.appendChild(We),this.svgContainer=We,Be.id=Ee.id,Be.style.position="absolute",Be.style.top=Be.style.left="0px",Be.style.width=Be.style.height="100%",Ue.appendChild(Be),this.fullLayout=ze,this.id=Ee.id||"scene",this.fullSceneLayout=ze[this.id],this.plotArgs=[[],{},{}],this.axesOptions=Lt(ze,ze[this.id]),this.spikeOptions=Ut(ze[this.id]),this.container=Be,this.staticMode=!!Ee.staticPlot,this.pixelRatio=this.pixelRatio||Ee.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=nt.getComponentMethod("annotations3d","convert"),this.drawAnnotations=nt.getComponentMethod("annotations3d","draw"),initializeGLPlot(this)}var tr=Scene.prototype;tr.initializeGLCamera=function(){var Ee=this.fullSceneLayout.camera,ze="orthographic"===Ee.projection.type;this.camera=Qe(this.container,{center:[Ee.center.x,Ee.center.y,Ee.center.z],eye:[Ee.eye.x,Ee.eye.y,Ee.eye.z],up:[Ee.up.x,Ee.up.y,Ee.up.z],_ortho:ze,zoomMin:.01,zoomMax:100,mode:"orbit"})},tr.recoverContext=function(){var Ee=this,ze=this.glplot.gl,Be=this.glplot.canvas;this.glplot.dispose(),requestAnimationFrame((function tryRecover(){ze.isContextLost()?requestAnimationFrame(tryRecover):initializeGLPlot(Ee,Be,ze)?Ee.plot.apply(Ee,Ee.plotArgs):at.error("Catastrophic and unrecoverable WebGL error. Context lost.")}))};var rr=["xaxis","yaxis","zaxis"];function computeTraceBounds(Ee,ze,Be){for(var Ue=Ee.fullSceneLayout,We=0;We<3;We++){var $e=rr[We],Qe=$e.charAt(0),et=Ue[$e],tt=ze[Qe],rt=ze[Qe+"calendar"],nt=ze["_"+Qe+"length"];if(at.isArrayOrTypedArray(tt))for(var it,ct=0;ct<(nt||tt.length);ct++)if(at.isArrayOrTypedArray(tt[ct]))for(var ft=0;ft<tt[ct].length;++ft)it=et.d2l(tt[ct][ft],0,rt),!isNaN(it)&&isFinite(it)&&(Be[0][We]=Math.min(Be[0][We],it),Be[1][We]=Math.max(Be[1][We],it));else it=et.d2l(tt[ct],0,rt),!isNaN(it)&&isFinite(it)&&(Be[0][We]=Math.min(Be[0][We],it),Be[1][We]=Math.max(Be[1][We],it));else Be[0][We]=Math.min(Be[0][We],0),Be[1][We]=Math.max(Be[1][We],nt-1)}}tr.plot=function(Ee,ze,Be){if(this.plotArgs=[Ee,ze,Be],!this.glplot.contextLost){var Ue,We,$e,Qe,et,tt,rt=ze[this.id],nt=Be[this.id];rt.bgcolor?this.glplot.clearColor=ft(rt.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullLayout=ze,this.fullSceneLayout=rt,this.glplotLayout=rt,this.axesOptions.merge(ze,rt),this.spikeOptions.merge(rt),this.setViewport(rt),this.updateFx(rt.dragmode,rt.hovermode),this.camera.enableWheel=this.graphDiv._context._scrollZoom.gl3d,this.glplot.update({}),this.setConvert(et),Ee?Array.isArray(Ee)||(Ee=[Ee]):Ee=[];var at=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for($e=0;$e<Ee.length;++$e)!0===(Ue=Ee[$e]).visible&&0!==Ue._length&&computeTraceBounds(this,Ue,at);!function computeAnnotationBounds(Ee,ze){for(var Be=Ee.fullSceneLayout,Ue=Be.annotations||[],We=0;We<3;We++)for(var $e=rr[We],Qe=$e.charAt(0),et=Be[$e],tt=0;tt<Ue.length;tt++){var rt=Ue[tt];if(rt.visible){var nt=et.r2l(rt[Qe]);!isNaN(nt)&&isFinite(nt)&&(ze[0][We]=Math.min(ze[0][We],nt),ze[1][We]=Math.max(ze[1][We],nt))}}}(this,at);var it=[1,1,1];for(Qe=0;Qe<3;++Qe)at[1][Qe]===at[0][Qe]?it[Qe]=1:it[Qe]=1/(at[1][Qe]-at[0][Qe]);for(this.dataScale=it,this.convertAnnotations(this),$e=0;$e<Ee.length;++$e)!0===(Ue=Ee[$e]).visible&&0!==Ue._length&&((We=this.traces[Ue.uid])?We.data.type===Ue.type?We.update(Ue):(We.dispose(),We=Ue._module.plot(this,Ue),this.traces[Ue.uid]=We):(We=Ue._module.plot(this,Ue),this.traces[Ue.uid]=We),We.name=Ue.name);var ct=Object.keys(this.traces);e:for($e=0;$e<ct.length;++$e){for(Qe=0;Qe<Ee.length;++Qe)if(Ee[Qe].uid===ct[$e]&&!0===Ee[Qe].visible&&0!==Ee[Qe]._length)continue e;(We=this.traces[ct[$e]]).dispose(),delete this.traces[ct[$e]]}this.glplot.objects.sort((function(Ee,ze){return Ee._trace.data.index-ze._trace.data.index}));var xt=[[0,0,0],[0,0,0]],kt=[],Lt={};for($e=0;$e<3;++$e){if((tt=(et=rt[rr[$e]]).type)in Lt?(Lt[tt].acc*=it[$e],Lt[tt].count+=1):Lt[tt]={acc:it[$e],count:1},et.autorange){xt[0][$e]=1/0,xt[1][$e]=-1/0;var Ut=this.glplot.objects,er=this.fullSceneLayout.annotations||[],tr=et._name.charAt(0);for(Qe=0;Qe<Ut.length;Qe++){var ar=Ut[Qe],Lr=ar.bounds,Qr=ar._trace.data._pad||0;"ErrorBars"===ar.constructor.name&&et._lowerLogErrorBound?xt[0][$e]=Math.min(xt[0][$e],et._lowerLogErrorBound):xt[0][$e]=Math.min(xt[0][$e],Lr[0][$e]/it[$e]-Qr),xt[1][$e]=Math.max(xt[1][$e],Lr[1][$e]/it[$e]+Qr)}for(Qe=0;Qe<er.length;Qe++){var on=er[Qe];if(on.visible){var sn=et.r2l(on[tr]);xt[0][$e]=Math.min(xt[0][$e],sn),xt[1][$e]=Math.max(xt[1][$e],sn)}}if("rangemode"in et&&"tozero"===et.rangemode&&(xt[0][$e]=Math.min(xt[0][$e],0),xt[1][$e]=Math.max(xt[1][$e],0)),xt[0][$e]>xt[1][$e])xt[0][$e]=-1,xt[1][$e]=1;else{var ln=xt[1][$e]-xt[0][$e];xt[0][$e]-=ln/32,xt[1][$e]+=ln/32}if("reversed"===et.autorange){var cn=xt[0][$e];xt[0][$e]=xt[1][$e],xt[1][$e]=cn}}else{var un=et.range;xt[0][$e]=et.r2l(un[0]),xt[1][$e]=et.r2l(un[1])}xt[0][$e]===xt[1][$e]&&(xt[0][$e]-=1,xt[1][$e]+=1),kt[$e]=xt[1][$e]-xt[0][$e],this.glplot.bounds[0][$e]=xt[0][$e]*it[$e],this.glplot.bounds[1][$e]=xt[1][$e]*it[$e]}var hn=[1,1,1];for($e=0;$e<3;++$e){var dn=Lt[tt=(et=rt[rr[$e]]).type];hn[$e]=Math.pow(dn.acc,1/dn.count)/it[$e]}var vn;if("auto"===rt.aspectmode)vn=Math.max.apply(null,hn)/Math.min.apply(null,hn)<=4?hn:[1,1,1];else if("cube"===rt.aspectmode)vn=[1,1,1];else if("data"===rt.aspectmode)vn=hn;else{if("manual"!==rt.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var yn=rt.aspectratio;vn=[yn.x,yn.y,yn.z]}rt.aspectratio.x=nt.aspectratio.x=vn[0],rt.aspectratio.y=nt.aspectratio.y=vn[1],rt.aspectratio.z=nt.aspectratio.z=vn[2],this.glplot.setAspectratio(rt.aspectratio),this.viewInitial.aspectratio||(this.viewInitial.aspectratio={x:rt.aspectratio.x,y:rt.aspectratio.y,z:rt.aspectratio.z});var _n=rt.domain||null,Mn=ze._size||null;if(_n&&Mn){var Cn=this.container.style;Cn.position="absolute",Cn.left=Mn.l+_n.x[0]*Mn.w+"px",Cn.top=Mn.t+(1-_n.y[1])*Mn.h+"px",Cn.width=Mn.w*(_n.x[1]-_n.x[0])+"px",Cn.height=Mn.h*(_n.y[1]-_n.y[0])+"px"}this.glplot.redraw()}},tr.destroy=function(){this.glplot&&(this.camera.mouseListener.enabled=!1,this.container.removeEventListener("wheel",this.camera.wheelListener),this.camera=this.glplot.camera=null,this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null)},tr.getCamera=function(){return this.glplot.camera.view.recalcMatrix(this.camera.view.lastT()),function getLayoutCamera(Ee){return{up:{x:Ee.up[0],y:Ee.up[1],z:Ee.up[2]},center:{x:Ee.center[0],y:Ee.center[1],z:Ee.center[2]},eye:{x:Ee.eye[0],y:Ee.eye[1],z:Ee.eye[2]},projection:{type:!0===Ee._ortho?"orthographic":"perspective"}}}(this.glplot.camera)},tr.setViewport=function(Ee){var ze=Ee.camera;this.glplot.camera.lookAt.apply(this,function getCameraArrays(Ee){return[[Ee.eye.x,Ee.eye.y,Ee.eye.z],[Ee.center.x,Ee.center.y,Ee.center.z],[Ee.up.x,Ee.up.y,Ee.up.z]]}(ze)),this.glplot.setAspectratio(Ee.aspectratio);var Be="orthographic"===ze.projection.type;if(Be!==this.glplot.camera._ortho){this.glplot.redraw();var Ue=this.glplot.clearColor;this.glplot.gl.clearColor(Ue[0],Ue[1],Ue[2],Ue[3]),this.glplot.gl.clear(this.glplot.gl.DEPTH_BUFFER_BIT|this.glplot.gl.COLOR_BUFFER_BIT),this.glplot.dispose(),initializeGLPlot(this),this.glplot.camera._ortho=Be}},tr.isCameraChanged=function(Ee){var ze=this.getCamera(),Be=at.nestedProperty(Ee,this.id+".camera").get();function same(Ee,ze,Be,Ue){var We=["up","center","eye"],$e=["x","y","z"];return ze[We[Be]]&&Ee[We[Be]][$e[Ue]]===ze[We[Be]][$e[Ue]]}var Ue=!1;if(void 0===Be)Ue=!0;else{for(var We=0;We<3;We++)for(var $e=0;$e<3;$e++)if(!same(ze,Be,We,$e)){Ue=!0;break}(!Be.projection||ze.projection&&ze.projection.type!==Be.projection.type)&&(Ue=!0)}return Ue},tr.isAspectChanged=function(Ee){var ze=this.glplot.getAspectratio(),Be=at.nestedProperty(Ee,this.id+".aspectratio").get();return void 0===Be||Be.x!==ze.x||Be.y!==ze.y||Be.z!==ze.z},tr.saveLayout=function(Ee){var ze,Be,Ue,We,$e,Qe,et=this.fullLayout,tt=this.isCameraChanged(Ee),rt=this.isAspectChanged(Ee),it=tt||rt;if(it){var ct={};if(tt&&(ze=this.getCamera(),Ue=(Be=at.nestedProperty(Ee,this.id+".camera")).get(),ct[this.id+".camera"]=Ue),rt&&(We=this.glplot.getAspectratio(),Qe=($e=at.nestedProperty(Ee,this.id+".aspectratio")).get(),ct[this.id+".aspectratio"]=Qe),nt.call("_storeDirectGUIEdit",Ee,et._preGUI,ct),tt)Be.set(ze),at.nestedProperty(et,this.id+".camera").set(ze);if(rt)$e.set(We),at.nestedProperty(et,this.id+".aspectratio").set(We),this.glplot.redraw()}return it},tr.updateFx=function(Ee,ze){var Be=this.camera;if(Be)if("orbit"===Ee)Be.mode="orbit",Be.keyBindingMode="rotate";else if("turntable"===Ee){Be.up=[0,0,1],Be.mode="turntable",Be.keyBindingMode="rotate";var Ue=this.graphDiv,We=Ue._fullLayout,$e=this.fullSceneLayout.camera,Qe=$e.up.x,et=$e.up.y,tt=$e.up.z;if(tt/Math.sqrt(Qe*Qe+et*et+tt*tt)<.999){var rt=this.id+".camera.up",it={x:0,y:0,z:1},ct={};ct[rt]=it;var ft=Ue.layout;nt.call("_storeDirectGUIEdit",ft,We._preGUI,ct),$e.up=it,at.nestedProperty(ft,rt).set(it)}}else Be.keyBindingMode=Ee;this.fullSceneLayout.hovermode=ze},tr.toImage=function(Ee){Ee||(Ee="png"),this.staticMode&&this.container.appendChild(Ue),this.glplot.redraw();var ze=this.glplot.gl,Be=ze.drawingBufferWidth,We=ze.drawingBufferHeight;ze.bindFramebuffer(ze.FRAMEBUFFER,null);var $e=new Uint8Array(Be*We*4);ze.readPixels(0,0,Be,We,ze.RGBA,ze.UNSIGNED_BYTE,$e);for(var Qe=0,et=We-1;Qe<et;++Qe,--et)for(var tt=0;tt<Be;++tt)for(var rt=0;rt<4;++rt){var nt=$e[4*(Be*Qe+tt)+rt];$e[4*(Be*Qe+tt)+rt]=$e[4*(Be*et+tt)+rt],$e[4*(Be*et+tt)+rt]=nt}var at=document.createElement("canvas");at.width=Be,at.height=We;var it,ct=at.getContext("2d"),ft=ct.createImageData(Be,We);switch(ft.data.set($e),ct.putImageData(ft,0,0),Ee){case"jpeg":it=at.toDataURL("image/jpeg");break;case"webp":it=at.toDataURL("image/webp");break;default:it=at.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(Ue),it},tr.setConvert=function(){for(var Ee=0;Ee<3;Ee++){var ze=this.fullSceneLayout[rr[Ee]];it.setConvert(ze,this.fullLayout),ze.setScale=at.noop}},tr.make4thDimension=function(){var Ee=this.graphDiv._fullLayout;this.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},it.setConvert(this.mockAxis,Ee)},Ee.exports=Scene},bc17:function(Ee,ze,Be){"use strict";var ascending=function(Ee,ze){return Ee<ze?-1:Ee>ze?1:Ee>=ze?0:NaN};var Ue;1===(Ue=ascending).length&&(Ue=function ascendingComparator(Ee){return function(ze,Be){return ascending(Ee(ze),Be)}}(Ue));var number=function(Ee){return null===Ee?NaN:+Ee},We=Array.prototype;We.slice,We.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var src_max=function(Ee,ze){var Be,Ue,We=Ee.length,$e=-1;if(null==ze){for(;++$e<We;)if(null!=(Be=Ee[$e])&&Be>=Be)for(Ue=Be;++$e<We;)null!=(Be=Ee[$e])&&Be>Ue&&(Ue=Be)}else for(;++$e<We;)if(null!=(Be=ze(Ee[$e],$e,Ee))&&Be>=Be)for(Ue=Be;++$e<We;)null!=(Be=ze(Ee[$e],$e,Ee))&&Be>Ue&&(Ue=Be);return Ue},src_mean=function(Ee,ze){var Be,Ue=Ee.length,We=Ue,$e=-1,Qe=0;if(null==ze)for(;++$e<Ue;)isNaN(Be=number(Ee[$e]))?--We:Qe+=Be;else for(;++$e<Ue;)isNaN(Be=number(ze(Ee[$e],$e,Ee)))?--We:Qe+=Be;if(We)return Qe/We},src_min=function(Ee,ze){var Be,Ue,We=Ee.length,$e=-1;if(null==ze){for(;++$e<We;)if(null!=(Be=Ee[$e])&&Be>=Be)for(Ue=Be;++$e<We;)null!=(Be=Ee[$e])&&Ue>Be&&(Ue=Be)}else for(;++$e<We;)if(null!=(Be=ze(Ee[$e],$e,Ee))&&Be>=Be)for(Ue=Be;++$e<We;)null!=(Be=ze(Ee[$e],$e,Ee))&&Ue>Be&&(Ue=Be);return Ue},src_sum=function(Ee,ze){var Be,Ue=Ee.length,We=-1,$e=0;if(null==ze)for(;++We<Ue;)(Be=+Ee[We])&&($e+=Be);else for(;++We<Ue;)(Be=+ze(Ee[We],We,Ee))&&($e+=Be);return $e};Be.d(ze,"a",(function(){return ascending})),Be.d(ze,"b",(function(){return src_max})),Be.d(ze,"c",(function(){return src_mean})),Be.d(ze,"d",(function(){return src_min})),Be.d(ze,"e",(function(){return src_sum}))},bc6b:function(Ee,ze,Be){"use strict";Ee.exports=function endPlus(Ee){return Ee.end+Ee.size/1e6}},bc74:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("cba1");Ee.exports=function supplyDefaults(Ee,ze,Be){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}coerce("x"),coerce("y"),coerce("xbounds"),coerce("ybounds"),Ee.xy&&Ee.xy instanceof Float32Array&&(ze.xy=Ee.xy),Ee.indices&&Ee.indices instanceof Int32Array&&(ze.indices=Ee.indices),coerce("text"),coerce("marker.color",Be),coerce("marker.opacity"),coerce("marker.blend"),coerce("marker.sizemin"),coerce("marker.sizemax"),coerce("marker.border.color",Be),coerce("marker.border.arearatio"),ze._length=null}},bc7f:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("c258"),$e=Be("bc6b");Ee.exports=function makeColorMap(Ee){var ze=Ee.contours,Be=ze.start,Qe=$e(ze),et=ze.size||1,tt=Math.floor((Qe-Be)/et)+1,rt="lines"===ze.coloring?0:1,nt=We.extractOpts(Ee);isFinite(et)||(et=1,tt=1);var at,it,ct=nt.reversescale?We.flipScale(nt.colorscale):nt.colorscale,ft=ct.length,xt=new Array(ft),kt=new Array(ft);if("heatmap"===ze.coloring){var Lt=nt.min,Ut=nt.max;for(it=0;it<ft;it++)at=ct[it],xt[it]=at[0]*(Ut-Lt)+Lt,kt[it]=at[1];var er=Ue.extent([Lt,Ut,ze.start,ze.start+et*(tt-1)]),tr=er[Lt<Ut?0:1],rr=er[Lt<Ut?1:0];tr!==Lt&&(xt.splice(0,0,tr),kt.splice(0,0,kt[0])),rr!==Ut&&(xt.push(rr),kt.push(kt[kt.length-1]))}else for(it=0;it<ft;it++)at=ct[it],xt[it]=(at[0]*(tt+rt-1)-rt/2)*et+Be,kt[it]=at[1];return We.makeColorScaleFunc({domain:xt,range:kt},{noNumericCheck:!0})}},bcd9:function(Ee,ze,Be){"use strict";var Ue=Be("66cb").mix,We=Be("fc26"),$e=Be("a651"),Qe=Be("bf38"),et=Be("b5e2"),tt=Be("7118"),rt=["xaxis","yaxis","zaxis"];Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){var nt,at;function coerce(Ee,ze){return We.coerce(nt,at,Qe,Ee,ze)}for(var it=0;it<rt.length;it++){var ct=rt[it];nt=Ee[ct]||{},(at=$e.newContainer(ze,ct))._id=ct[0]+Be.scene,at._name=ct,et(nt,at,coerce,Be),tt(nt,at,coerce,{font:Be.font,letter:ct[0],data:Be.data,showGrid:!0,noTickson:!0,bgColor:Be.bgColor,calendar:Be.calendar},Be.fullLayout),coerce("gridcolor",Ue(at.color,Be.bgColor,13600/187).toRgbString()),coerce("title.text",ct[0]),at.setScale=We.noop,coerce("showspikes")&&(coerce("spikesides"),coerce("spikethickness"),coerce("spikecolor",at.color)),coerce("showaxeslabels"),coerce("showbackground")&&coerce("backgroundcolor")}}},bd31:function(Ee,ze,Be){var Ue={identity:Be("fec5"),translate:Be("6f51"),multiply:Be("1417"),create:Be("dcc8"),scale:Be("9ca2"),fromRotationTranslation:Be("e034")},We=(Ue.create(),Ue.create());Ee.exports=function recomposeMat4(Ee,ze,Be,$e,Qe,et){return Ue.identity(Ee),Ue.fromRotationTranslation(Ee,et,ze),Ee[3]=Qe[0],Ee[7]=Qe[1],Ee[11]=Qe[2],Ee[15]=Qe[3],Ue.identity(We),0!==$e[2]&&(We[9]=$e[2],Ue.multiply(Ee,Ee,We)),0!==$e[1]&&(We[9]=0,We[8]=$e[1],Ue.multiply(Ee,Ee,We)),0!==$e[0]&&(We[8]=0,We[4]=$e[0],Ue.multiply(Ee,Ee,We)),Ue.scale(Ee,Ee,Be),Ee}},bd75:function(Ee,ze,Be){"use strict";Ee.exports=Be("3b80")},bd9b:function(Ee,ze,Be){"use strict";var Ue=Be("8a6e"),We=Be("c20e"),$e=Be("94d5").texttemplateAttrs;Ee.exports={mode:Ue.mode,r:Ue.r,theta:Ue.theta,r0:Ue.r0,dr:Ue.dr,theta0:Ue.theta0,dtheta:Ue.dtheta,thetaunit:Ue.thetaunit,text:Ue.text,texttemplate:$e({editType:"plot"},{keys:["r","theta","text"]}),hovertext:Ue.hovertext,hovertemplate:Ue.hovertemplate,line:We.line,connectgaps:We.connectgaps,marker:We.marker,fill:We.fill,fillcolor:We.fillcolor,textposition:We.textposition,textfont:We.textfont,hoverinfo:Ue.hoverinfo,selected:Ue.selected,unselected:Ue.unselected}},be00:function(Ee,ze,Be){"use strict";Ee.exports=function normalize(Ee,ze){if(!Ee||null==Ee.length)throw Error("Argument should be an array");ze=null==ze?1:Math.floor(ze);for(var Be=Array(2*ze),Ue=0;Ue<ze;Ue++){for(var We=-1/0,$e=1/0,Qe=Ue,et=Ee.length;Qe<et;Qe+=ze)Ee[Qe]>We&&(We=Ee[Qe]),Ee[Qe]<$e&&($e=Ee[Qe]);Be[Ue]=$e,Be[ze+Ue]=We}return Be}},be2a:function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("94d5").hovertemplateAttrs,$e=Be("6b50"),Qe=Be("a876"),et=Be("9092").extendFlat,tt={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:We({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),showlegend:et({},Qe.showlegend,{dflt:!1})};et(tt,Ue("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));["opacity","lightposition","lighting"].forEach((function(Ee){tt[Ee]=$e[Ee]})),tt.hoverinfo=et({},Qe.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),tt.transforms=void 0,Ee.exports=tt},be64:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("371e"),Qe=Math.PI/180,et=180/Math.PI,tt={cursor:"pointer"},rt={cursor:"auto"};function initZoom(Ee,ze){return Ue.behavior.zoom().translate(ze.translate()).scale(ze.scale())}function sync(Ee,ze,Be){var Ue=Ee.id,Qe=Ee.graphDiv,et=Qe.layout,tt=et[Ue],rt=Qe._fullLayout,nt=rt[Ue],at={},it={};function set(Ee,ze){at[Ue+"."+Ee]=We.nestedProperty(tt,Ee).get(),$e.call("_storeDirectGUIEdit",et,rt._preGUI,at);var Be=We.nestedProperty(nt,Ee);Be.get()!==ze&&(Be.set(ze),We.nestedProperty(tt,Ee).set(ze),it[Ue+"."+Ee]=ze)}Be(set),set("projection.scale",ze.scale()/Ee.fitScale),set("fitbounds",!1),Qe.emit("plotly_relayout",it)}function zoomScoped(Ee,ze){var Be=initZoom(0,ze);function syncCb(Be){var Ue=ze.invert(Ee.midPt);Be("center.lon",Ue[0]),Be("center.lat",Ue[1])}return Be.on("zoomstart",(function handleZoomstart(){Ue.select(this).style(tt)})).on("zoom",(function handleZoom(){ze.scale(Ue.event.scale).translate(Ue.event.translate),Ee.render();var Be=ze.invert(Ee.midPt);Ee.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":ze.scale()/Ee.fitScale,"geo.center.lon":Be[0],"geo.center.lat":Be[1]})})).on("zoomend",(function handleZoomend(){Ue.select(this).style(rt),sync(Ee,ze,syncCb)})),Be}function zoomNonClipped(Ee,ze){var Be,We,$e,Qe,et,nt,at,it,ct,ft=initZoom(0,ze);function position(Ee){return ze.invert(Ee)}function syncCb(Be){var Ue=ze.rotate(),We=ze.invert(Ee.midPt);Be("projection.rotation.lon",-Ue[0]),Be("center.lon",We[0]),Be("center.lat",We[1])}return ft.on("zoomstart",(function handleZoomstart(){Ue.select(this).style(tt),Be=Ue.mouse(this),We=ze.rotate(),$e=ze.translate(),Qe=We,et=position(Be)})).on("zoom",(function handleZoom(){if(nt=Ue.mouse(this),function outside(Ee){var Be=position(Ee);if(!Be)return!0;var Ue=ze(Be);return Math.abs(Ue[0]-Ee[0])>2||Math.abs(Ue[1]-Ee[1])>2}(Be))return ft.scale(ze.scale()),void ft.translate(ze.translate());ze.scale(Ue.event.scale),ze.translate([$e[0],Ue.event.translate[1]]),et?position(nt)&&(it=position(nt),at=[Qe[0]+(it[0]-et[0]),We[1],We[2]],ze.rotate(at),Qe=at):et=position(Be=nt),ct=!0,Ee.render();var tt=ze.rotate(),rt=ze.invert(Ee.midPt);Ee.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":ze.scale()/Ee.fitScale,"geo.center.lon":rt[0],"geo.center.lat":rt[1],"geo.projection.rotation.lon":-tt[0]})})).on("zoomend",(function handleZoomend(){Ue.select(this).style(rt),ct&&sync(Ee,ze,syncCb)})),ft}function zoomClipped(Ee,ze){var Be,We={r:ze.rotate(),k:ze.scale()},$e=initZoom(0,ze),Qe=function d3eventDispatch(Ee){var ze=0,Be=arguments.length,We=[];for(;++ze<Be;)We.push(arguments[ze]);var $e=Ue.dispatch.apply(null,We);return $e.of=function(ze,Be){return function(We){var Qe;try{Qe=We.sourceEvent=Ue.event,We.target=Ee,Ue.event=We,$e[We.type].apply(ze,Be)}finally{Ue.event=Qe}}},$e}($e,"zoomstart","zoom","zoomend"),et=0,nt=$e.on;function zoomstarted(Ee){et++||Ee({type:"zoomstart"})}function zoomed(Ee){Ee({type:"zoom"})}function zoomended(Ee){--et||Ee({type:"zoomend"})}function syncCb(Ee){var Be=ze.rotate();Ee("projection.rotation.lon",-Be[0]),Ee("projection.rotation.lat",-Be[1])}return $e.on("zoomstart",(function(){Ue.select(this).style(tt);var Ee=Ue.mouse(this),et=ze.rotate(),rt=et,at=ze.translate(),it=quaternionFromEuler(et);Be=position(ze,Ee),nt.call($e,"zoom",(function(){var $e=Ue.mouse(this);if(ze.scale(We.k=Ue.event.scale),Be){if(position(ze,$e)){ze.rotate(et).translate(at);var tt=position(ze,$e),nt=rotateBetween(Be,tt),ct=eulerFromQuaternion(multiply(it,nt)),ft=We.r=unRoll(ct,Be,rt);isFinite(ft[0])&&isFinite(ft[1])&&isFinite(ft[2])||(ft=rt),ze.rotate(ft),rt=ft}}else Be=position(ze,Ee=$e);zoomed(Qe.of(this,arguments))})),zoomstarted(Qe.of(this,arguments))})).on("zoomend",(function(){Ue.select(this).style(rt),nt.call($e,"zoom",null),zoomended(Qe.of(this,arguments)),sync(Ee,ze,syncCb)})).on("zoom.redraw",(function(){Ee.render();var Be=ze.rotate();Ee.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":ze.scale()/Ee.fitScale,"geo.projection.rotation.lon":-Be[0],"geo.projection.rotation.lat":-Be[1]})})),Ue.rebind($e,Qe,"on")}function position(Ee,ze){var Be=Ee.invert(ze);return Be&&isFinite(Be[0])&&isFinite(Be[1])&&function cartesian(Ee){var ze=Ee[0]*Qe,Be=Ee[1]*Qe,Ue=Math.cos(Be);return[Ue*Math.cos(ze),Ue*Math.sin(ze),Math.sin(Be)]}(Be)}function quaternionFromEuler(Ee){var ze=.5*Ee[0]*Qe,Be=.5*Ee[1]*Qe,Ue=.5*Ee[2]*Qe,We=Math.sin(ze),$e=Math.cos(ze),et=Math.sin(Be),tt=Math.cos(Be),rt=Math.sin(Ue),nt=Math.cos(Ue);return[$e*tt*nt+We*et*rt,We*tt*nt-$e*et*rt,$e*et*nt+We*tt*rt,$e*tt*rt-We*et*nt]}function multiply(Ee,ze){var Be=Ee[0],Ue=Ee[1],We=Ee[2],$e=Ee[3],Qe=ze[0],et=ze[1],tt=ze[2],rt=ze[3];return[Be*Qe-Ue*et-We*tt-$e*rt,Be*et+Ue*Qe+We*rt-$e*tt,Be*tt-Ue*rt+We*Qe+$e*et,Be*rt+Ue*tt-We*et+$e*Qe]}function rotateBetween(Ee,ze){if(Ee&&ze){var Be=function cross(Ee,ze){return[Ee[1]*ze[2]-Ee[2]*ze[1],Ee[2]*ze[0]-Ee[0]*ze[2],Ee[0]*ze[1]-Ee[1]*ze[0]]}(Ee,ze),Ue=Math.sqrt(dot(Be,Be)),We=.5*Math.acos(Math.max(-1,Math.min(1,dot(Ee,ze)))),$e=Math.sin(We)/Ue;return Ue&&[Math.cos(We),Be[2]*$e,-Be[1]*$e,Be[0]*$e]}}function unRoll(Ee,ze,Be){var Ue=rotateCartesian(ze,2,Ee[0]);Ue=rotateCartesian(Ue,1,Ee[1]),Ue=rotateCartesian(Ue,0,Ee[2]-Be[2]);var We,$e,Qe=ze[0],tt=ze[1],rt=ze[2],nt=Ue[0],at=Ue[1],it=Ue[2],ct=Math.atan2(tt,Qe)*et,ft=Math.sqrt(Qe*Qe+tt*tt);Math.abs(at)>ft?($e=(at>0?90:-90)-ct,We=0):($e=Math.asin(at/ft)*et-ct,We=Math.sqrt(ft*ft-at*at));var xt=180-$e-2*ct,kt=(Math.atan2(it,nt)-Math.atan2(rt,We))*et,Lt=(Math.atan2(it,nt)-Math.atan2(rt,-We))*et;return angleDistance(Be[0],Be[1],$e,kt)<=angleDistance(Be[0],Be[1],xt,Lt)?[$e,kt,Be[2]]:[xt,Lt,Be[2]]}function angleDistance(Ee,ze,Be,Ue){var We=angleMod(Be-Ee),$e=angleMod(Ue-ze);return Math.sqrt(We*We+$e*$e)}function angleMod(Ee){return(Ee%360+540)%360-180}function rotateCartesian(Ee,ze,Be){var Ue=Be*Qe,We=Ee.slice(),$e=0===ze?1:0,et=2===ze?1:2,tt=Math.cos(Ue),rt=Math.sin(Ue);return We[$e]=Ee[$e]*tt-Ee[et]*rt,We[et]=Ee[et]*tt+Ee[$e]*rt,We}function eulerFromQuaternion(Ee){return[Math.atan2(2*(Ee[0]*Ee[1]+Ee[2]*Ee[3]),1-2*(Ee[1]*Ee[1]+Ee[2]*Ee[2]))*et,Math.asin(Math.max(-1,Math.min(1,2*(Ee[0]*Ee[2]-Ee[3]*Ee[1]))))*et,Math.atan2(2*(Ee[0]*Ee[3]+Ee[1]*Ee[2]),1-2*(Ee[2]*Ee[2]+Ee[3]*Ee[3]))*et]}function dot(Ee,ze){for(var Be=0,Ue=0,We=Ee.length;Ue<We;++Ue)Be+=Ee[Ue]*ze[Ue];return Be}Ee.exports=function createGeoZoom(Ee,ze){var Be=Ee.projection;return(ze._isScoped?zoomScoped:ze._isClipped?zoomClipped:zoomNonClipped)(Ee,Be)}},becc:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function HebrewCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}function mod(Ee,ze){return Ee-ze*Math.floor(Ee/ze)}HebrewCalendar.prototype=new Ue.baseCalendar,We(HebrewCalendar.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return this._leapYear(ze.year())},_leapYear:function(Ee){return mod(7*(Ee=Ee<0?Ee+1:Ee)+1,19)<7},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),this._leapYear(Ee.year?Ee.year():Ee)?13:12},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInYear:function(Ee){return Ee=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear).year(),this.toJD(-1===Ee?1:Ee+1,7,1)-this.toJD(Ee,7,1)},daysInMonth:function(Ee,ze){return Ee.year&&(ze=Ee.month(),Ee=Ee.year()),this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth),12===ze&&this.leapYear(Ee)||8===ze&&5===mod(this.daysInYear(Ee),10)?30:9===ze&&3===mod(this.daysInYear(Ee),10)?29:this.daysPerMonth[ze-1]},weekDay:function(Ee,ze,Be){return 6!==this.dayOfWeek(Ee,ze,Be)},extraInfo:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return{yearType:(this.leapYear(We)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(We)%10-3]}},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);Ee=We.year(),ze=We.month(),Be=We.day();var $e=Ee<=0?Ee+1:Ee,Qe=this.jdEpoch+this._delay1($e)+this._delay2($e)+Be+1;if(ze<7){for(var et=7;et<=this.monthsInYear(Ee);et++)Qe+=this.daysInMonth(Ee,et);for(et=1;et<ze;et++)Qe+=this.daysInMonth(Ee,et)}else for(et=7;et<ze;et++)Qe+=this.daysInMonth(Ee,et);return Qe},_delay1:function(Ee){var ze=Math.floor((235*Ee-234)/19),Be=12084+13753*ze,Ue=29*ze+Math.floor(Be/25920);return mod(3*(Ue+1),7)<3&&Ue++,Ue},_delay2:function(Ee){var ze=this._delay1(Ee-1),Be=this._delay1(Ee);return this._delay1(Ee+1)-Be==356?2:Be-ze==382?1:0},fromJD:function(Ee){Ee=Math.floor(Ee)+.5;for(var ze=Math.floor(98496*(Ee-this.jdEpoch)/35975351)-1;Ee>=this.toJD(-1===ze?1:ze+1,7,1);)ze++;for(var Be=Ee<this.toJD(ze,1,1)?7:1;Ee>this.toJD(ze,Be,this.daysInMonth(ze,Be));)Be++;var Ue=Ee-this.toJD(ze,Be,1)+1;return this.newDate(ze,Be,Ue)}}),Ue.calendars.hebrew=HebrewCalendar},bf14:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"cone",basePlotModule:Be("134c"),categories:["gl3d","showLegend"],attributes:Be("24fd"),supplyDefaults:Be("e00d"),colorbar:{min:"cmin",max:"cmax"},calc:Be("e2d7"),plot:Be("a5fa"),eventData:function(Ee,ze){return Ee.norm=ze.traceCoordinate[6],Ee},meta:{}}},bf38:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("d798"),$e=Be("9092").extendFlat,Qe=Be("cb34").overrideAll;Ee.exports=Qe({visible:We.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:Ue.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:We.color,categoryorder:We.categoryorder,categoryarray:We.categoryarray,title:{text:We.title.text,font:We.title.font},type:$e({},We.type,{values:["-","linear","log","date","category"]}),autorange:We.autorange,rangemode:We.rangemode,range:$e({},We.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:We.tickmode,nticks:We.nticks,tick0:We.tick0,dtick:We.dtick,tickvals:We.tickvals,ticktext:We.ticktext,ticks:We.ticks,mirror:We.mirror,ticklen:We.ticklen,tickwidth:We.tickwidth,tickcolor:We.tickcolor,showticklabels:We.showticklabels,tickfont:We.tickfont,tickangle:We.tickangle,tickprefix:We.tickprefix,showtickprefix:We.showtickprefix,ticksuffix:We.ticksuffix,showticksuffix:We.showticksuffix,showexponent:We.showexponent,exponentformat:We.exponentformat,separatethousands:We.separatethousands,tickformat:We.tickformat,tickformatstops:We.tickformatstops,hoverformat:We.hoverformat,showline:We.showline,linecolor:We.linecolor,linewidth:We.linewidth,showgrid:We.showgrid,gridcolor:$e({},We.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:We.gridwidth,zeroline:We.zeroline,zerolinecolor:We.zerolinecolor,zerolinewidth:We.zerolinewidth,_deprecated:{title:We._deprecated.title,titlefont:We._deprecated.titlefont}},"plot","from-root")},bf66:function(Ee,ze){Ee.exports=function squaredDistance(Ee,ze){var Be=ze[0]-Ee[0],Ue=ze[1]-Ee[1],We=ze[2]-Ee[2],$e=ze[3]-Ee[3];return Be*Be+Ue*Ue+We*We+$e*$e}},bfb6:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("0379"),et=Be("c8b8"),tt=Be("da8c").styleOne,rt=Be("23cc"),nt=Be("fb56"),at=Be("6962"),it=Be("e17d").formatSliceLabel;Ee.exports=function drawDescendants(Ee,ze,Be,ct,ft){var xt=ft.width,kt=ft.height,Lt=ft.viewX,Ut=ft.viewY,er=ft.pathSlice,tr=ft.toMoveInsideSlice,rr=ft.strTransform,ar=ft.hasTransition,Lr=ft.handleSlicesExit,Qr=ft.makeUpdateSliceInterpolator,on=ft.makeUpdateTextInterpolator,sn=ft.prevEntry,ln=Ee._fullLayout,cn=ze[0].trace,un=-1!==cn.textposition.indexOf("left"),hn=-1!==cn.textposition.indexOf("right"),dn=-1!==cn.textposition.indexOf("bottom"),vn=!dn&&!cn.marker.pad.t||dn&&!cn.marker.pad.b,yn=et(Be,[xt,kt],{packing:cn.tiling.packing,squarifyratio:cn.tiling.squarifyratio,flipX:cn.tiling.flip.indexOf("x")>-1,flipY:cn.tiling.flip.indexOf("y")>-1,pad:{inner:cn.tiling.pad,top:cn.marker.pad.t,left:cn.marker.pad.l,right:cn.marker.pad.r,bottom:cn.marker.pad.b}}).descendants(),_n=1/0,Mn=-1/0;yn.forEach((function(Ee){var ze=Ee.depth;ze>=cn._maxDepth?(Ee.x0=Ee.x1=(Ee.x0+Ee.x1)/2,Ee.y0=Ee.y1=(Ee.y0+Ee.y1)/2):(_n=Math.min(_n,ze),Mn=Math.max(Mn,ze))})),ct=ct.data(yn,nt.getPtId),cn._maxVisibleLayers=isFinite(Mn)?Mn-_n+1:0,ct.enter().append("g").classed("slice",!0),Lr(ct,!1,{},[xt,kt],er),ct.order();var Cn=null;if(ar&&sn){var En=nt.getPtId(sn);ct.each((function(Ee){null===Cn&&nt.getPtId(Ee)===En&&(Cn={x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1})}))}var getRefRect=function(){return Cn||{x0:0,x1:xt,y0:0,y1:kt}},Pn=ct;return ar&&(Pn=Pn.transition().each("end",(function(){var ze=Ue.select(this);nt.setSliceCursor(ze,Ee,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})}))),Pn.each((function(et){var ct=nt.isHeader(et,cn);et._hoverX=Lt(et.x1-cn.marker.pad.r),et._hoverY=Ut(dn?et.y1-cn.marker.pad.b/2:et.y0+cn.marker.pad.t/2);var ft=Ue.select(this),Lr=We.ensureSingle(ft,"path","surface",(function(Ee){Ee.style("pointer-events","all")}));ar?Lr.transition().attrTween("d",(function(Ee){var ze=Qr(Ee,!1,getRefRect(),[xt,kt]);return function(Ee){return er(ze(Ee))}})):Lr.attr("d",er),ft.call(at,Be,Ee,ze,{styleOne:tt,eventDataKeys:rt.eventDataKeys,transitionTime:rt.CLICK_TRANSITION_TIME,transitionEasing:rt.CLICK_TRANSITION_EASING}).call(nt.setSliceCursor,Ee,{isTransitioning:Ee._transitioning}),Lr.call(tt,et,cn,{hovered:!1}),et.x0===et.x1||et.y0===et.y1?et._text="":et._text=ct?vn?"":nt.getPtLabel(et)||"":it(et,Be,cn,ze,ln)||"";var sn=We.ensureSingle(ft,"g","slicetext"),yn=We.ensureSingle(sn,"text","",(function(Ee){Ee.attr("data-notex",1)})),_n=We.ensureUniformFontSize(Ee,nt.determineTextFont(cn,et,ln.font));yn.text(et._text||" ").classed("slicetext",!0).attr("text-anchor",hn?"end":un||ct?"start":"middle").call($e.font,_n).call(Qe.convertToTspans,Ee),et.textBB=$e.bBox(yn.node()),et.transform=tr(et,{fontSize:_n.size,isHeader:ct}),et.transform.fontSize=_n.size,ar?yn.transition().attrTween("transform",(function(Ee){var ze=on(Ee,!1,getRefRect(),[xt,kt]);return function(Ee){return rr(ze(Ee))}})):yn.attr("transform",rr(et))})),Cn}},c005:function(Ee,ze,Be){"use strict";Ee.exports={percent:function(Ee,ze){for(var Be=Ee.length,Ue=100/ze,We=0;We<Be;We++)Ee[We]*=Ue},probability:function(Ee,ze){for(var Be=Ee.length,Ue=0;Ue<Be;Ue++)Ee[Ue]/=ze},density:function(Ee,ze,Be,Ue){var We=Ee.length;Ue=Ue||1;for(var $e=0;$e<We;$e++)Ee[$e]*=Be[$e]*Ue},"probability density":function(Ee,ze,Be,Ue){var We=Ee.length;Ue&&(ze/=Ue);for(var $e=0;$e<We;$e++)Ee[$e]*=Be[$e]/ze}}},c01c:function(Ee,ze,Be){"use strict";Ee.exports=function twoProduct(Ee,ze,Be){var We=Ee*ze,$e=Ue*Ee,Qe=$e-($e-Ee),et=Ee-Qe,tt=Ue*ze,rt=tt-(tt-ze),nt=ze-rt,at=et*nt-(We-Qe*rt-et*rt-Qe*nt);if(Be)return Be[0]=at,Be[1]=We,Be;return[at,We]};var Ue=+(Math.pow(2,27)+1)},c029:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:Be("c07c"),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:Be("bd9b"),supplyDefaults:Be("60d4"),colorbar:Be("f3cf"),formatLabels:Be("5e46"),calc:Be("0af2"),plot:Be("8e56"),hoverPoints:Be("02e4").hoverPoints,selectPoints:Be("f177"),meta:{}}},c04e:function(Ee,ze,Be){var Ue=Be("861d");Ee.exports=function(Ee,ze){if(!Ue(Ee))return Ee;var Be,We;if(ze&&"function"==typeof(Be=Ee.toString)&&!Ue(We=Be.call(Ee)))return We;if("function"==typeof(Be=Ee.valueOf)&&!Ue(We=Be.call(Ee)))return We;if(!ze&&"function"==typeof(Be=Ee.toString)&&!Ue(We=Be.call(Ee)))return We;throw TypeError("Can't convert object to primitive value")}},c05e:function(Ee,ze,Be){"use strict";var Ue=new Float64Array(4),We=new Float64Array(4),$e=new Float64Array(4);Ee.exports=function closestPoint2d(Ee,ze,Be,Qe,et){Ue.length<Qe.length&&(Ue=new Float64Array(Qe.length),We=new Float64Array(Qe.length),$e=new Float64Array(Qe.length));for(var tt=0;tt<Qe.length;++tt)Ue[tt]=Ee[tt]-Qe[tt],We[tt]=ze[tt]-Ee[tt],$e[tt]=Be[tt]-Ee[tt];var rt=0,nt=0,at=0,it=0,ct=0,ft=0;for(tt=0;tt<Qe.length;++tt){var xt=We[tt],kt=$e[tt],Lt=Ue[tt];rt+=xt*xt,nt+=xt*kt,at+=kt*kt,it+=Lt*xt,ct+=Lt*kt,ft+=Lt*Lt}var Ut,er,tr,rr,ar,Lr=Math.abs(rt*at-nt*nt),Qr=nt*ct-at*it,on=nt*it-rt*ct;if(Qr+on<=Lr)if(Qr<0)on<0&&it<0?(on=0,-it>=rt?(Qr=1,Ut=rt+2*it+ft):Ut=it*(Qr=-it/rt)+ft):(Qr=0,ct>=0?(on=0,Ut=ft):-ct>=at?(on=1,Ut=at+2*ct+ft):Ut=ct*(on=-ct/at)+ft);else if(on<0)on=0,it>=0?(Qr=0,Ut=ft):-it>=rt?(Qr=1,Ut=rt+2*it+ft):Ut=it*(Qr=-it/rt)+ft;else{var sn=1/Lr;Ut=(Qr*=sn)*(rt*Qr+nt*(on*=sn)+2*it)+on*(nt*Qr+at*on+2*ct)+ft}else Qr<0?(tr=at+ct)>(er=nt+it)?(rr=tr-er)>=(ar=rt-2*nt+at)?(Qr=1,on=0,Ut=rt+2*it+ft):Ut=(Qr=rr/ar)*(rt*Qr+nt*(on=1-Qr)+2*it)+on*(nt*Qr+at*on+2*ct)+ft:(Qr=0,tr<=0?(on=1,Ut=at+2*ct+ft):ct>=0?(on=0,Ut=ft):Ut=ct*(on=-ct/at)+ft):on<0?(tr=rt+it)>(er=nt+ct)?(rr=tr-er)>=(ar=rt-2*nt+at)?(on=1,Qr=0,Ut=at+2*ct+ft):Ut=(Qr=1-(on=rr/ar))*(rt*Qr+nt*on+2*it)+on*(nt*Qr+at*on+2*ct)+ft:(on=0,tr<=0?(Qr=1,Ut=rt+2*it+ft):it>=0?(Qr=0,Ut=ft):Ut=it*(Qr=-it/rt)+ft):(rr=at+ct-nt-it)<=0?(Qr=0,on=1,Ut=at+2*ct+ft):rr>=(ar=rt-2*nt+at)?(Qr=1,on=0,Ut=rt+2*it+ft):Ut=(Qr=rr/ar)*(rt*Qr+nt*(on=1-Qr)+2*it)+on*(nt*Qr+at*on+2*ct)+ft;var ln=1-Qr-on;for(tt=0;tt<Qe.length;++tt)et[tt]=ln*Ee[tt]+Qr*ze[tt]+on*Be[tt];return Ut<0?0:Ut}},c07c:function(Ee,ze,Be){"use strict";var Ue=Be("ad62").getSubplotCalcData,We=Be("fc26").counterRegex,$e=Be("59ce"),Qe=Be("f510"),et=Qe.attr,tt=Qe.name,rt=We(tt),nt={};nt[et]={valType:"subplotid",dflt:tt,editType:"calc"},Ee.exports={attr:et,name:tt,idRoot:tt,idRegex:rt,attrRegex:rt,attributes:nt,layoutAttributes:Be("ddde"),supplyLayoutDefaults:Be("122d"),plot:function plot(Ee){for(var ze=Ee._fullLayout,Be=Ee.calcdata,We=ze._subplots[tt],Qe=0;Qe<We.length;Qe++){var et=We[Qe],rt=Ue(Be,tt,et),nt=ze[et]._subplot;nt||(nt=$e(Ee,et),ze[et]._subplot=nt),nt.plot(rt,ze,Ee._promises)}},clean:function clean(Ee,ze,Be,Ue){for(var We=Ue._subplots[tt]||[],$e=Ue._has&&Ue._has("gl"),Qe=ze._has&&ze._has("gl"),et=$e&&!Qe,rt=0;rt<We.length;rt++){var nt=We[rt],at=Ue[nt]._subplot;if(!ze[nt]&&at)for(var it in at.framework.remove(),at.layers["radial-axis-title"].remove(),at.clipPaths)at.clipPaths[it].remove();et&&at._scene&&(at._scene.destroy(),at._scene=null)}},toSVG:Be("91cd").toSVG}},c0af:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("bb71"),$e=Be("a5c4"),Qe=Be("d115"),et=Be("83d1"),tt=Be("fc26"),rt=Be("0379"),nt=Be("93a6"),at=nt.recordMinTextSize,it=nt.clearMinTextSize,ct=Be("59e0"),ft=Be("8898"),xt=Be("fc26").isValidTextValue;function attachFxHandlers(Ee,ze,Be){var We=Be[0],Qe=We.trace,et=We.cx,rt=We.cy;"_hasHoverLabel"in Qe||(Qe._hasHoverLabel=!1),"_hasHoverEvent"in Qe||(Qe._hasHoverEvent=!1),Ee.on("mouseover",(function(Ee){var Be=ze._fullLayout,nt=ze._fullData[Qe.index];if(!ze._dragging&&!1!==Be.hovermode){var at=nt.hoverinfo;if(Array.isArray(at)&&(at=$e.castHoverinfo({hoverinfo:[ct.castOption(at,Ee.pts)],_module:Qe._module},Be,0)),"all"===at&&(at="label+text+value+percent+name"),nt.hovertemplate||"none"!==at&&"skip"!==at&&at){var it=Ee.rInscribed||0,xt=et+Ee.pxmid[0]*(1-it),kt=rt+Ee.pxmid[1]*(1-it),Lt=Be.separators,Ut=[];if(at&&-1!==at.indexOf("label")&&Ut.push(Ee.label),Ee.text=ct.castOption(nt.hovertext||nt.text,Ee.pts),at&&-1!==at.indexOf("text")){var er=Ee.text;tt.isValidTextValue(er)&&Ut.push(er)}Ee.value=Ee.v,Ee.valueLabel=ct.formatPieValue(Ee.v,Lt),at&&-1!==at.indexOf("value")&&Ut.push(Ee.valueLabel),Ee.percent=Ee.v/We.vTotal,Ee.percentLabel=ct.formatPiePercent(Ee.percent,Lt),at&&-1!==at.indexOf("percent")&&Ut.push(Ee.percentLabel);var tr=nt.hoverlabel,rr=tr.font;$e.loneHover({trace:Qe,x0:xt-it*We.r,x1:xt+it*We.r,y:kt,text:Ut.join("<br>"),name:nt.hovertemplate||-1!==at.indexOf("name")?nt.name:void 0,idealAlign:Ee.pxmid[0]<0?"left":"right",color:ct.castOption(tr.bgcolor,Ee.pts)||Ee.color,borderColor:ct.castOption(tr.bordercolor,Ee.pts),fontFamily:ct.castOption(rr.family,Ee.pts),fontSize:ct.castOption(rr.size,Ee.pts),fontColor:ct.castOption(rr.color,Ee.pts),nameLength:ct.castOption(tr.namelength,Ee.pts),textAlign:ct.castOption(tr.align,Ee.pts),hovertemplate:ct.castOption(nt.hovertemplate,Ee.pts),hovertemplateLabels:Ee,eventData:[ft(Ee,nt)]},{container:Be._hoverlayer.node(),outerContainer:Be._paper.node(),gd:ze}),Qe._hasHoverLabel=!0}Qe._hasHoverEvent=!0,ze.emit("plotly_hover",{points:[ft(Ee,nt)],event:Ue.event})}})),Ee.on("mouseout",(function(Ee){var Be=ze._fullLayout,We=ze._fullData[Qe.index],et=Ue.select(this).datum();Qe._hasHoverEvent&&(Ee.originalEvent=Ue.event,ze.emit("plotly_unhover",{points:[ft(et,We)],event:Ue.event}),Qe._hasHoverEvent=!1),Qe._hasHoverLabel&&($e.loneUnhover(Be._hoverlayer.node()),Qe._hasHoverLabel=!1)})),Ee.on("click",(function(Ee){var Be=ze._fullLayout,We=ze._fullData[Qe.index];ze._dragging||!1===Be.hovermode||(ze._hoverdata=[ft(Ee,We)],$e.click(ze,Ue.event))}))}function determineInsideTextFont(Ee,ze,Be){var Ue=ct.castOption(Ee.insidetextfont.color,ze.pts);!Ue&&Ee._input.textfont&&(Ue=ct.castOption(Ee._input.textfont.color,ze.pts));var We=ct.castOption(Ee.insidetextfont.family,ze.pts)||ct.castOption(Ee.textfont.family,ze.pts)||Be.family,$e=ct.castOption(Ee.insidetextfont.size,ze.pts)||ct.castOption(Ee.textfont.size,ze.pts)||Be.size;return{color:Ue||Qe.contrast(ze.color),family:We,size:$e}}function prerenderTitles(Ee,ze){for(var Be,Ue,We=0;We<Ee.length;We++)if((Ue=(Be=Ee[We][0]).trace).title.text){var $e=Ue.title.text;Ue._meta&&($e=tt.templateString($e,Ue._meta));var Qe=et.tester.append("text").attr("data-notex",1).text($e).call(et.font,Ue.title.font).call(rt.convertToTspans,ze),nt=et.bBox(Qe.node(),!0);Be.titleBox={width:nt.width,height:nt.height},Qe.remove()}}function transformInsideText(Ee,ze,Be){var Ue,We=Math.sqrt(Ee.width*Ee.width+Ee.height*Ee.height),$e=ze.halfangle,Qe=ze.midangle,et=ze.ring,tt=ze.rInscribed,rt=Be.r||ze.rpx1,nt=Be.trace.insidetextorientation,at="horizontal"===nt,it="tangential"===nt,ct="radial"===nt,ft="auto"===nt,xt=1===et&&Math.abs(ze.startangle-ze.stopangle)===2*Math.PI,kt=[];if(!ft){var Lt,considerCrossing=function(Be,We){if(function isCrossing(Ee,ze){var Be=Ee.startangle,Ue=Ee.stopangle;return Be>ze&&ze>Ue||Be<ze&&ze<Ue}(ze,Be)){var $e=Math.abs(Be-ze.startangle),Qe=Math.abs(Be-ze.stopangle),tt=$e<Qe?$e:Qe;(Ue="tan"===We?calcTanTransform(Ee,rt,et,tt,0):calcRadTransform(Ee,rt,et,tt,Math.PI/2)).textPosAngle=Be,kt.push(Ue)}};if(at||it){for(Lt=4;Lt>=-4;Lt-=2)considerCrossing(Math.PI*Lt,"tan");for(Lt=4;Lt>=-4;Lt-=2)considerCrossing(Math.PI*(Lt+1),"tan")}if(at||ct){for(Lt=4;Lt>=-4;Lt-=2)considerCrossing(Math.PI*(Lt+1.5),"rad");for(Lt=4;Lt>=-4;Lt-=2)considerCrossing(Math.PI*(Lt+.5),"rad")}}if(xt||ft||at){if((Ue={scale:tt*rt*2/We,rCenter:1-tt,rotate:0}).textPosAngle=(ze.startangle+ze.stopangle)/2,Ue.scale>=1)return Ue;kt.push(Ue)}(ft||ct)&&((Ue=calcRadTransform(Ee,rt,et,$e,Qe)).textPosAngle=(ze.startangle+ze.stopangle)/2,kt.push(Ue)),(ft||it)&&((Ue=calcTanTransform(Ee,rt,et,$e,Qe)).textPosAngle=(ze.startangle+ze.stopangle)/2,kt.push(Ue));for(var Ut=0,er=0,tr=0;tr<kt.length;tr++){var rr=kt[tr].scale;if(er<rr&&(er=rr,Ut=tr),!ft&&er>=1)break}return kt[Ut]}function calcRadTransform(Ee,ze,Be,Ue,We){var $e=Ee.width/Ee.height,Qe=calcMaxHalfSize($e,Ue,ze,Be);return{scale:2*Qe/Ee.height,rCenter:calcRCenter($e,Qe/ze),rotate:calcRotate(We)}}function calcTanTransform(Ee,ze,Be,Ue,We){var $e=Ee.height/Ee.width,Qe=calcMaxHalfSize($e,Ue,ze,Be);return{scale:2*Qe/Ee.width,rCenter:calcRCenter($e,Qe/ze),rotate:calcRotate(We+Math.PI/2)}}function calcRCenter(Ee,ze){return Math.cos(ze)-Ee*ze}function calcRotate(Ee){return(180/Math.PI*Ee+720)%180-90}function calcMaxHalfSize(Ee,ze,Be,Ue){var We=Ee+1/(2*Math.tan(ze));return Be*Math.min(1/(Math.sqrt(We*We+.5)+We),Ue/(Math.sqrt(Ee*Ee+Ue/2)+Ee))}function getInscribedRadiusFraction(Ee,ze){return Ee.v!==ze.vTotal||ze.trace.hole?Math.min(1/(1+1/Math.sin(Ee.halfangle)),Ee.ring/2):1}function transformOutsideText(Ee,ze){var Be=ze.pxmid[0],Ue=ze.pxmid[1],We=Ee.width/2,$e=Ee.height/2;return Be<0&&(We*=-1),Ue<0&&($e*=-1),{scale:1,rCenter:1,rotate:0,x:We+Math.abs($e)*(We>0?1:-1)/2,y:$e/(1+Be*Be/(Ue*Ue)),outside:!0}}function positionTitleOutside(Ee,ze){var Be,Ue,We,$e=Ee.trace,Qe={x:Ee.cx,y:Ee.cy},et={tx:0,ty:0};et.ty+=$e.title.font.size,We=getMaxPull($e),-1!==$e.title.position.indexOf("top")?(Qe.y-=(1+We)*Ee.r,et.ty-=Ee.titleBox.height):-1!==$e.title.position.indexOf("bottom")&&(Qe.y+=(1+We)*Ee.r);var tt=function applyAspectRatio(Ee,ze){return Ee/(void 0===ze?1:ze)}(Ee.r,Ee.trace.aspectratio),rt=ze.w*($e.domain.x[1]-$e.domain.x[0])/2;return-1!==$e.title.position.indexOf("left")?(rt+=tt,Qe.x-=(1+We)*tt,et.tx+=Ee.titleBox.width/2):-1!==$e.title.position.indexOf("center")?rt*=2:-1!==$e.title.position.indexOf("right")&&(rt+=tt,Qe.x+=(1+We)*tt,et.tx-=Ee.titleBox.width/2),Be=rt/Ee.titleBox.width,Ue=getTitleSpace(Ee,ze)/Ee.titleBox.height,{x:Qe.x,y:Qe.y,scale:Math.min(Be,Ue),tx:et.tx,ty:et.ty}}function getTitleSpace(Ee,ze){var Be=Ee.trace,Ue=ze.h*(Be.domain.y[1]-Be.domain.y[0]);return Math.min(Ee.titleBox.height,Ue/2)}function getMaxPull(Ee){var ze,Be=Ee.pull;if(!Be)return 0;if(Array.isArray(Be))for(Be=0,ze=0;ze<Ee.pull.length;ze++)Ee.pull[ze]>Be&&(Be=Ee.pull[ze]);return Be}function layoutAreas(Ee,ze){for(var Be=[],Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue][0],$e=We.trace,Qe=$e.domain,et=ze.w*(Qe.x[1]-Qe.x[0]),tt=ze.h*(Qe.y[1]-Qe.y[0]);$e.title.text&&"middle center"!==$e.title.position&&(tt-=getTitleSpace(We,ze));var rt=et/2,nt=tt/2;"funnelarea"!==$e.type||$e.scalegroup||(nt/=$e.aspectratio),We.r=Math.min(rt,nt)/(1+getMaxPull($e)),We.cx=ze.l+ze.w*($e.domain.x[1]+$e.domain.x[0])/2,We.cy=ze.t+ze.h*(1-$e.domain.y[0])-tt/2,$e.title.text&&-1!==$e.title.position.indexOf("bottom")&&(We.cy-=getTitleSpace(We,ze)),$e.scalegroup&&-1===Be.indexOf($e.scalegroup)&&Be.push($e.scalegroup)}!function groupScale(Ee,ze){for(var Be,Ue,We,$e=0;$e<ze.length;$e++){var Qe=1/0,et=ze[$e];for(Ue=0;Ue<Ee.length;Ue++)if(Be=Ee[Ue][0],(We=Be.trace).scalegroup===et){var tt;if("pie"===We.type)tt=Be.r*Be.r;else if("funnelarea"===We.type){var rt,nt;We.aspectratio>1?(rt=Be.r,nt=rt/We.aspectratio):(nt=Be.r,rt=nt*We.aspectratio),rt*=(1+We.baseratio)/2,tt=rt*nt}Qe=Math.min(Qe,tt/Be.vTotal)}for(Ue=0;Ue<Ee.length;Ue++)if(Be=Ee[Ue][0],(We=Be.trace).scalegroup===et){var at=Qe*Be.vTotal;"funnelarea"===We.type&&(at/=(1+We.baseratio)/2,at/=We.aspectratio),Be.r=Math.sqrt(at)}}}(Ee,Be)}function getCoords(Ee,ze){return[Ee*Math.sin(ze),-Ee*Math.cos(ze)]}function formatSliceLabel(Ee,ze,Be){var Ue=Ee._fullLayout,We=Be.trace,$e=We.texttemplate,Qe=We.textinfo;if(!$e&&Qe&&"none"!==Qe){var et,rt=Qe.split("+"),hasFlag=function(Ee){return-1!==rt.indexOf(Ee)},nt=hasFlag("label"),at=hasFlag("text"),it=hasFlag("value"),ft=hasFlag("percent"),kt=Ue.separators;if(et=nt?[ze.label]:[],at){var Lt=ct.getFirstFilled(We.text,ze.pts);xt(Lt)&&et.push(Lt)}it&&et.push(ct.formatPieValue(ze.v,kt)),ft&&et.push(ct.formatPiePercent(ze.v/Be.vTotal,kt)),ze.text=et.join("<br>")}if($e){var Ut=tt.castOption(We,ze.i,"texttemplate");if(Ut){var er=function makeTemplateVariables(Ee){return{label:Ee.label,value:Ee.v,valueLabel:ct.formatPieValue(Ee.v,Ue.separators),percent:Ee.v/Be.vTotal,percentLabel:ct.formatPiePercent(Ee.v/Be.vTotal,Ue.separators),color:Ee.color,text:Ee.text,customdata:tt.castOption(We,Ee.i,"customdata")}}(ze),tr=ct.getFirstFilled(We.text,ze.pts);(xt(tr)||""===tr)&&(er.text=tr),ze.text=tt.texttemplateString(Ut,er,Ee._fullLayout._d3locale,er,We._meta||{})}else ze.text=""}}function computeTransform(Ee,ze){var Be=Ee.rotate,Ue=Ee.scale;Ue>1&&(Ue=1);var We=Be*Math.PI/180,$e=Math.cos(We),Qe=Math.sin(We),et=(ze.left+ze.right)/2,tt=(ze.top+ze.bottom)/2;Ee.textX=et*$e-tt*Qe,Ee.textY=et*Qe+tt*$e,Ee.noCenter=!0}Ee.exports={plot:function plot(Ee,ze){var Be=Ee._fullLayout,$e=Be._size;it("pie",Be),prerenderTitles(ze,Ee),layoutAreas(ze,$e);var nt=tt.makeTraceGroups(Be._pielayer,ze,"trace").each((function(ze){var nt=Ue.select(this),it=ze[0],ft=it.trace;!function setCoords(Ee){var ze,Be,Ue,We=Ee[0],$e=We.r,Qe=We.trace,et=Qe.rotation*Math.PI/180,tt=2*Math.PI/We.vTotal,rt="px0",nt="px1";if("counterclockwise"===Qe.direction){for(ze=0;ze<Ee.length&&Ee[ze].hidden;ze++);if(ze===Ee.length)return;et+=tt*Ee[ze].v,tt*=-1,rt="px1",nt="px0"}for(Ue=getCoords($e,et),ze=0;ze<Ee.length;ze++)(Be=Ee[ze]).hidden||(Be[rt]=Ue,Be.startangle=et,et+=tt*Be.v/2,Be.pxmid=getCoords($e,et),Be.midangle=et,et+=tt*Be.v/2,Ue=getCoords($e,et),Be.stopangle=et,Be[nt]=Ue,Be.largeArc=Be.v>We.vTotal/2?1:0,Be.halfangle=Math.PI*Math.min(Be.v/We.vTotal,.5),Be.ring=1-Qe.hole,Be.rInscribed=getInscribedRadiusFraction(Be,We))}(ze),nt.attr("stroke-linejoin","round"),nt.each((function(){var xt=Ue.select(this).selectAll("g.slice").data(ze);xt.enter().append("g").classed("slice",!0),xt.exit().remove();var kt=[[[],[]],[[],[]]],Lt=!1;xt.each((function(We,$e){if(We.hidden)Ue.select(this).selectAll("path,g").remove();else{We.pointNumber=We.i,We.curveNumber=ft.index,kt[We.pxmid[1]<0?0:1][We.pxmid[0]<0?0:1].push(We);var Qe=it.cx,nt=it.cy,xt=Ue.select(this),Ut=xt.selectAll("path.surface").data([We]);if(Ut.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),xt.call(attachFxHandlers,Ee,ze),ft.pull){var er=+ct.castOption(ft.pull,We.pts)||0;er>0&&(Qe+=er*We.pxmid[0],nt+=er*We.pxmid[1])}We.cxFinal=Qe,We.cyFinal=nt;var tr=ft.hole;if(We.v===it.vTotal){var rr="M"+(Qe+We.px0[0])+","+(nt+We.px0[1])+arc(We.px0,We.pxmid,!0,1)+arc(We.pxmid,We.px0,!0,1)+"Z";tr?Ut.attr("d","M"+(Qe+tr*We.px0[0])+","+(nt+tr*We.px0[1])+arc(We.px0,We.pxmid,!1,tr)+arc(We.pxmid,We.px0,!1,tr)+"Z"+rr):Ut.attr("d",rr)}else{var ar=arc(We.px0,We.px1,!0,1);if(tr){var Lr=1-tr;Ut.attr("d","M"+(Qe+tr*We.px1[0])+","+(nt+tr*We.px1[1])+arc(We.px1,We.px0,!1,tr)+"l"+Lr*We.px0[0]+","+Lr*We.px0[1]+ar+"Z")}else Ut.attr("d","M"+Qe+","+nt+"l"+We.px0[0]+","+We.px0[1]+ar+"Z")}formatSliceLabel(Ee,We,it);var Qr=ct.castOption(ft.textposition,We.pts),on=xt.selectAll("g.slicetext").data(We.text&&"none"!==Qr?[0]:[]);on.enter().append("g").classed("slicetext",!0),on.exit().remove(),on.each((function(){var xt=tt.ensureSingle(Ue.select(this),"text","",(function(Ee){Ee.attr("data-notex",1)})),kt=tt.ensureUniformFontSize(Ee,"outside"===Qr?function determineOutsideTextFont(Ee,ze,Be){var Ue=ct.castOption(Ee.outsidetextfont.color,ze.pts)||ct.castOption(Ee.textfont.color,ze.pts)||Be.color,We=ct.castOption(Ee.outsidetextfont.family,ze.pts)||ct.castOption(Ee.textfont.family,ze.pts)||Be.family,$e=ct.castOption(Ee.outsidetextfont.size,ze.pts)||ct.castOption(Ee.textfont.size,ze.pts)||Be.size;return{color:Ue,family:We,size:$e}}(ft,We,Be.font):determineInsideTextFont(ft,We,Be.font));xt.text(We.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(et.font,kt).call(rt.convertToTspans,Ee);var Ut,er=et.bBox(xt.node());if("outside"===Qr)Ut=transformOutsideText(er,We);else if(Ut=transformInsideText(er,We,it),"auto"===Qr&&Ut.scale<1){var tr=tt.ensureUniformFontSize(Ee,ft.outsidetextfont);xt.call(et.font,tr),Ut=transformOutsideText(er=et.bBox(xt.node()),We)}var rr=Ut.textPosAngle,ar=void 0===rr?We.pxmid:getCoords(it.r,rr);if(Ut.targetX=Qe+ar[0]*Ut.rCenter+(Ut.x||0),Ut.targetY=nt+ar[1]*Ut.rCenter+(Ut.y||0),computeTransform(Ut,er),Ut.outside){var Lr=Ut.targetY;We.yLabelMin=Lr-er.height/2,We.yLabelMid=Lr,We.yLabelMax=Lr+er.height/2,We.labelExtraX=0,We.labelExtraY=0,Lt=!0}Ut.fontSize=kt.size,at(ft.type,Ut,Be),ze[$e].transform=Ut,xt.attr("transform",tt.getTextTransform(Ut))}))}function arc(Ee,ze,Be,Ue){var $e=Ue*(ze[0]-Ee[0]),Qe=Ue*(ze[1]-Ee[1]);return"a"+Ue*it.r+","+Ue*it.r+" 0 "+We.largeArc+(Be?" 1 ":" 0 ")+$e+","+Qe}}));var Ut=Ue.select(this).selectAll("g.titletext").data(ft.title.text?[0]:[]);if(Ut.enter().append("g").classed("titletext",!0),Ut.exit().remove(),Ut.each((function(){var ze,Be=tt.ensureSingle(Ue.select(this),"text","",(function(Ee){Ee.attr("data-notex",1)})),We=ft.title.text;ft._meta&&(We=tt.templateString(We,ft._meta)),Be.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(et.font,ft.title.font).call(rt.convertToTspans,Ee),ze="middle center"===ft.title.position?function positionTitleInside(Ee){var ze=Math.sqrt(Ee.titleBox.width*Ee.titleBox.width+Ee.titleBox.height*Ee.titleBox.height);return{x:Ee.cx,y:Ee.cy,scale:Ee.trace.hole*Ee.r*2/ze,tx:0,ty:-Ee.titleBox.height/2+Ee.trace.title.font.size}}(it):positionTitleOutside(it,$e),Be.attr("transform","translate("+ze.x+","+ze.y+")"+(ze.scale<1?"scale("+ze.scale+")":"")+"translate("+ze.tx+","+ze.ty+")")})),Lt&&function scootLabels(Ee,ze){var Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ft,xt;function topFirst(Ee,ze){return Ee.pxmid[1]-ze.pxmid[1]}function bottomFirst(Ee,ze){return ze.pxmid[1]-Ee.pxmid[1]}function scootOneLabel(Ee,Be){Be||(Be={});var We,rt,nt,it,ft=Be.labelExtraY+(Ue?Be.yLabelMax:Be.yLabelMin),xt=Ue?Ee.yLabelMin:Ee.yLabelMax,kt=Ue?Ee.yLabelMax:Ee.yLabelMin,Lt=Ee.cyFinal+Qe(Ee.px0[1],Ee.px1[1]),Ut=ft-xt;if(Ut*tt>0&&(Ee.labelExtraY=Ut),Array.isArray(ze.pull))for(rt=0;rt<at.length;rt++)(nt=at[rt])===Ee||(ct.castOption(ze.pull,Ee.pts)||0)>=(ct.castOption(ze.pull,nt.pts)||0)||((Ee.pxmid[1]-nt.pxmid[1])*tt>0?(Ut=nt.cyFinal+Qe(nt.px0[1],nt.px1[1])-xt-Ee.labelExtraY)*tt>0&&(Ee.labelExtraY+=Ut):(kt+Ee.labelExtraY-Lt)*tt>0&&(We=3*et*Math.abs(rt-at.indexOf(Ee)),(it=nt.cxFinal+$e(nt.px0[0],nt.px1[0])+We-(Ee.cxFinal+Ee.pxmid[0])-Ee.labelExtraX)*et>0&&(Ee.labelExtraX+=it)))}for(Ue=0;Ue<2;Ue++)for(We=Ue?topFirst:bottomFirst,Qe=Ue?Math.max:Math.min,tt=Ue?1:-1,Be=0;Be<2;Be++){for($e=Be?Math.max:Math.min,et=Be?1:-1,(rt=Ee[Ue][Be]).sort(We),nt=Ee[1-Ue][Be],at=nt.concat(rt),ft=[],it=0;it<rt.length;it++)void 0!==rt[it].yLabelMid&&ft.push(rt[it]);for(xt=!1,it=0;Ue&&it<nt.length;it++)if(void 0!==nt[it].yLabelMid){xt=nt[it];break}for(it=0;it<ft.length;it++){var kt=it&&ft[it-1];xt&&!it&&(kt=xt),scootOneLabel(ft[it],kt)}}}(kt,ft),function plotTextLines(Ee,ze){Ee.each((function(Ee){var Be=Ue.select(this);if(Ee.labelExtraX||Ee.labelExtraY){var We=Be.select("g.slicetext text");Ee.transform.targetX+=Ee.labelExtraX,Ee.transform.targetY+=Ee.labelExtraY,We.attr("transform",tt.getTextTransform(Ee.transform));var $e=Ee.cxFinal+Ee.pxmid[0],et="M"+$e+","+(Ee.cyFinal+Ee.pxmid[1]),rt=(Ee.yLabelMax-Ee.yLabelMin)*(Ee.pxmid[0]<0?-1:1)/4;if(Ee.labelExtraX){var nt=Ee.labelExtraX*Ee.pxmid[1]/Ee.pxmid[0],at=Ee.yLabelMid+Ee.labelExtraY-(Ee.cyFinal+Ee.pxmid[1]);Math.abs(nt)>Math.abs(at)?et+="l"+at*Ee.pxmid[0]/Ee.pxmid[1]+","+at+"H"+($e+Ee.labelExtraX+rt):et+="l"+Ee.labelExtraX+","+nt+"v"+(at-nt)+"h"+rt}else et+="V"+(Ee.yLabelMid+Ee.labelExtraY)+"h"+rt;tt.ensureSingle(Be,"path","textline").call(Qe.stroke,ze.outsidetextfont.color).attr({"stroke-width":Math.min(2,ze.outsidetextfont.size/8),d:et,fill:"none"})}else Be.select("path.textline").remove()}))}(xt,ft),Lt&&ft.automargin){var er=et.bBox(nt.node()),tr=ft.domain,rr=$e.w*(tr.x[1]-tr.x[0]),ar=$e.h*(tr.y[1]-tr.y[0]),Lr=(.5*rr-it.r)/$e.w,Qr=(.5*ar-it.r)/$e.h;We.autoMargin(Ee,"pie."+ft.uid+".automargin",{xl:tr.x[0]-Lr,xr:tr.x[1]+Lr,yb:tr.y[0]-Qr,yt:tr.y[1]+Qr,l:Math.max(it.cx-it.r-er.left,0),r:Math.max(er.right-(it.cx+it.r),0),b:Math.max(er.bottom-(it.cy+it.r),0),t:Math.max(it.cy-it.r-er.top,0),pad:5})}}))}));setTimeout((function(){nt.selectAll("tspan").each((function(){var Ee=Ue.select(this);Ee.attr("dy")&&Ee.attr("dy",Ee.attr("dy"))}))}),0)},formatSliceLabel:formatSliceLabel,transformInsideText:transformInsideText,determineInsideTextFont:determineInsideTextFont,positionTitleOutside:positionTitleOutside,prerenderTitles:prerenderTitles,layoutAreas:layoutAreas,attachFxHandlers:attachFxHandlers,computeTransform:computeTransform}},c107:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function NepaliCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}NepaliCalendar.prototype=new Ue.baseCalendar,We(NepaliCalendar.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(Ee){return this.daysInYear(Ee)!==this.daysPerYear},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInYear:function(Ee){if(Ee=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[Ee])return this.daysPerYear;for(var ze=0,Be=this.minMonth;Be<=12;Be++)ze+=this.NEPALI_CALENDAR_DATA[Ee][Be];return ze},daysInMonth:function(Ee,ze){return Ee.year&&(ze=Ee.month(),Ee=Ee.year()),this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[Ee]?this.daysPerMonth[ze-1]:this.NEPALI_CALENDAR_DATA[Ee][ze]},weekDay:function(Ee,ze,Be){return 6!==this.dayOfWeek(Ee,ze,Be)},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);Ee=We.year(),ze=We.month(),Be=We.day();var $e=Ue.instance(),Qe=0,et=ze,tt=Ee;this._createMissingCalendarData(Ee);var rt=Ee-(et>9||9===et&&Be>=this.NEPALI_CALENDAR_DATA[tt][0]?56:57);for(9!==ze&&(Qe=Be,et--);9!==et;)et<=0&&(et=12,tt--),Qe+=this.NEPALI_CALENDAR_DATA[tt][et],et--;return 9===ze?(Qe+=Be-this.NEPALI_CALENDAR_DATA[tt][0])<0&&(Qe+=$e.daysInYear(rt)):Qe+=this.NEPALI_CALENDAR_DATA[tt][9]-this.NEPALI_CALENDAR_DATA[tt][0],$e.newDate(rt,1,1).add(Qe,"d").toJD()},fromJD:function(Ee){var ze=Ue.instance().fromJD(Ee),Be=ze.year(),We=ze.dayOfYear(),$e=Be+56;this._createMissingCalendarData($e);for(var Qe=9,et=this.NEPALI_CALENDAR_DATA[$e][0],tt=this.NEPALI_CALENDAR_DATA[$e][Qe]-et+1;We>tt;)++Qe>12&&(Qe=1,$e++),tt+=this.NEPALI_CALENDAR_DATA[$e][Qe];var rt=this.NEPALI_CALENDAR_DATA[$e][Qe]-(tt-We);return this.newDate($e,Qe,rt)},_createMissingCalendarData:function(Ee){var ze=this.daysPerMonth.slice(0);ze.unshift(17);for(var Be=Ee-1;Be<Ee+2;Be++)void 0===this.NEPALI_CALENDAR_DATA[Be]&&(this.NEPALI_CALENDAR_DATA[Be]=ze)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),Ue.calendars.nepali=NepaliCalendar},c14d:function(Ee,ze){Ee.exports={create:function(){var Ee={root:{root:!0,next:null},exists:function(ze){return null!==ze&&ze!==Ee.root},isEmpty:function(){return null===Ee.root.next},getHead:function(){return Ee.root.next},insertBefore:function(ze,Be){for(var Ue=Ee.root,We=Ee.root.next;null!==We;){if(Be(We))return ze.prev=We.prev,ze.next=We,We.prev.next=ze,void(We.prev=ze);Ue=We,We=We.next}Ue.next=ze,ze.prev=Ue,ze.next=null},findTransition:function(ze){for(var Be=Ee.root,Ue=Ee.root.next;null!==Ue&&!ze(Ue);)Be=Ue,Ue=Ue.next;return{before:Be===Ee.root?null:Be,after:Ue,insert:function(Ee){return Ee.prev=Be,Ee.next=Ue,Be.next=Ee,null!==Ue&&(Ue.prev=Ee),Ee}}}};return Ee},node:function(Ee){return Ee.prev=null,Ee.next=null,Ee.remove=function(){Ee.prev.next=Ee.next,Ee.next&&(Ee.next.prev=Ee.prev),Ee.prev=null,Ee.next=null},Ee}}},c17d:function(Ee,ze,Be){"use strict";Ee.exports=Be("c4e0")},c185:function(Ee,ze,Be){"use strict";var Ue=Be("e98f"),We=Be("28dd"),$e=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),Qe=Ue(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);ze.line=function(Ee){return We(Ee,$e,Qe,null,[{name:"position",type:"vec3"}])};var et=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),tt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);ze.text=function(Ee){return We(Ee,et,tt,null,[{name:"position",type:"vec3"}])};var rt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),nt=Ue(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);ze.bg=function(Ee){return We(Ee,rt,nt,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},c1a7:function(Ee,ze,Be){"use strict";var Ue=Be("8c75");function VertexAttribute(Ee,ze,Be,Ue,We,$e){this.location=Ee,this.dimension=ze,this.a=Be,this.b=Ue,this.c=We,this.d=$e}function VAONative(Ee,ze,Be){this.gl=Ee,this._ext=ze,this.handle=Be,this._attribs=[],this._useElements=!1,this._elementsType=Ee.UNSIGNED_SHORT}VertexAttribute.prototype.bind=function(Ee){switch(this.dimension){case 1:Ee.vertexAttrib1f(this.location,this.a);break;case 2:Ee.vertexAttrib2f(this.location,this.a,this.b);break;case 3:Ee.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:Ee.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},VAONative.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var Ee=0;Ee<this._attribs.length;++Ee)this._attribs[Ee].bind(this.gl)},VAONative.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},VAONative.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},VAONative.prototype.update=function(Ee,ze,Be){if(this.bind(),Ue(this.gl,ze,Ee),this.unbind(),this._attribs.length=0,Ee)for(var We=0;We<Ee.length;++We){var $e=Ee[We];"number"==typeof $e?this._attribs.push(new VertexAttribute(We,1,$e)):Array.isArray($e)&&this._attribs.push(new VertexAttribute(We,$e.length,$e[0],$e[1],$e[2],$e[3]))}this._useElements=!!ze,this._elementsType=Be||this.gl.UNSIGNED_SHORT},VAONative.prototype.draw=function(Ee,ze,Be){Be=Be||0;var Ue=this.gl;this._useElements?Ue.drawElements(Ee,ze,this._elementsType,Be):Ue.drawArrays(Ee,Be,ze)},Ee.exports=function createVAONative(Ee,ze){return new VAONative(Ee,ze,ze.createVertexArrayOES())}},c1d8:function(Ee,ze,Be){"use strict";var Ue=Be("106b"),We=Be("09bd");Ee.exports=function calc(Ee,ze){var Be=[{x:!1,y:!1,trace:ze,t:{}}];return Ue(Be,ze),We(Ee,ze),Be}},c20e:function(Ee,ze,Be){"use strict";var Ue=Be("a876"),We=Be("107c"),$e=Be("f4e9"),Qe=Be("9092").extendFlat,et=Be("cb34").overrideAll,tt=Be("b326").DASHES,rt=We.line,nt=We.marker,at=nt.line,it=Ee.exports=et({x:We.x,x0:We.x0,dx:We.dx,y:We.y,y0:We.y0,dy:We.dy,text:We.text,hovertext:We.hovertext,textposition:We.textposition,textfont:We.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:rt.color,width:rt.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:Object.keys(tt),dflt:"solid"}},marker:Qe({},$e("marker"),{symbol:nt.symbol,size:nt.size,sizeref:nt.sizeref,sizemin:nt.sizemin,sizemode:nt.sizemode,opacity:nt.opacity,colorbar:nt.colorbar,line:Qe({},$e("marker.line"),{width:at.width})}),connectgaps:We.connectgaps,fill:Qe({},We.fill,{dflt:"none"}),fillcolor:We.fillcolor,selected:{marker:We.selected.marker,textfont:We.selected.textfont},unselected:{marker:We.unselected.marker,textfont:We.unselected.textfont},opacity:Ue.opacity},"calc","nested");it.x.editType=it.y.editType=it.x0.editType=it.y0.editType="calc+clearAxisTypes",it.hovertemplate=We.hovertemplate,it.texttemplate=We.texttemplate},c243:function(Ee,ze,Be){"use strict";var Ue=Be("b7d1"),We=Be("1c4d").isSize,$e=a2o(Be("fe73")),Qe=a2o(Be("6dd0")),et=a2o(Be("7a18")),tt=a2o(Be("489b")),rt=a2o(Be("cbc3")),nt={normal:1,"small-caps":1},at={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},it="1rem",ct="serif";function verify(Ee,ze){if(Ee&&!ze[Ee]&&!$e[Ee])throw Error("Unknown keyword `"+Ee+"`");return Ee}function a2o(Ee){for(var ze={},Be=0;Be<Ee.length;Be++)ze[Ee[Be]]=1;return ze}Ee.exports=function stringifyFont(Ee){if((Ee=Ue(Ee,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return Ee.system&&verify(Ee.system,Qe),Ee.system;if(verify(Ee.style,tt),verify(Ee.variant,nt),verify(Ee.weight,et),verify(Ee.stretch,rt),null==Ee.size&&(Ee.size=it),"number"==typeof Ee.size&&(Ee.size+="px"),!We)throw Error("Bad size value `"+Ee.size+"`");Ee.family||(Ee.family=ct),Array.isArray(Ee.family)&&(Ee.family.length||(Ee.family=[ct]),Ee.family=Ee.family.map((function(Ee){return at[Ee]?Ee:'"'+Ee+'"'})).join(", "));var ze=[];return ze.push(Ee.style),Ee.variant!==Ee.style&&ze.push(Ee.variant),Ee.weight!==Ee.variant&&Ee.weight!==Ee.style&&ze.push(Ee.weight),Ee.stretch!==Ee.weight&&Ee.stretch!==Ee.variant&&Ee.stretch!==Ee.style&&ze.push(Ee.stretch),ze.push(Ee.size+(null==Ee.lineHeight||"normal"===Ee.lineHeight||Ee.lineHeight+""=="1"?"":"/"+Ee.lineHeight)),ze.push(Ee.family),ze.filter(Boolean).join(" ")}},c258:function(Ee,ze,Be){"use strict";var Ue=Be("4852"),We=Be("215c");Ee.exports={moduleType:"component",name:"colorscale",attributes:Be("f4e9"),layoutAttributes:Be("0dd7"),supplyLayoutDefaults:Be("739b"),handleDefaults:Be("4183"),crossTraceDefaults:Be("1db7e"),calc:Be("3aa8"),scales:Ue.scales,defaultScale:Ue.defaultScale,getScale:Ue.get,isValidScale:Ue.isValid,hasColorscale:We.hasColorscale,extractOpts:We.extractOpts,extractScale:We.extractScale,flipScale:We.flipScale,makeColorScaleFunc:We.makeColorScaleFunc,makeColorScaleFuncFromTrace:We.makeColorScaleFuncFromTrace}},c29d:function(Ee,ze){Ee.exports=function transformMat4(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=Be[3]*Ue+Be[7]*We+Be[11]*$e+Be[15];return Qe=Qe||1,Ee[0]=(Be[0]*Ue+Be[4]*We+Be[8]*$e+Be[12])/Qe,Ee[1]=(Be[1]*Ue+Be[5]*We+Be[9]*$e+Be[13])/Qe,Ee[2]=(Be[2]*Ue+Be[6]*We+Be[10]*$e+Be[14])/Qe,Ee}},c2c0:function(Ee,ze){var naiveFallback=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};Ee.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(Ee){return naiveFallback()}try{return __global__||naiveFallback()}finally{delete Object.prototype.__global__}}()},c2e7:function(Ee,ze){Ee.exports=function absolutize(Ee){var ze=0,Be=0,Ue=0,We=0;return Ee.map((function(Ee){var $e=(Ee=Ee.slice())[0],Qe=$e.toUpperCase();if($e!=Qe)switch(Ee[0]=Qe,$e){case"a":Ee[6]+=Ue,Ee[7]+=We;break;case"v":Ee[1]+=We;break;case"h":Ee[1]+=Ue;break;default:for(var et=1;et<Ee.length;)Ee[et++]+=Ue,Ee[et++]+=We}switch(Qe){case"Z":Ue=ze,We=Be;break;case"H":Ue=Ee[1];break;case"V":We=Ee[1];break;case"M":Ue=ze=Ee[1],We=Be=Ee[2];break;default:Ue=Ee[Ee.length-2],We=Ee[Ee.length-1]}return Ee}))}},c2ef:function(Ee,ze,Be){"use strict";var Ue=Be("c01c"),We=Be("a026"),$e=Be("0dd1"),Qe=Be("2dd9");function cofactor(Ee,ze){for(var Be=new Array(Ee.length-1),Ue=1;Ue<Ee.length;++Ue)for(var We=Be[Ue-1]=new Array(Ee.length-1),$e=0,Qe=0;$e<Ee.length;++$e)$e!==ze&&(We[Qe++]=Ee[Ue][$e]);return Be}function matrix(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be){ze[Be]=new Array(Ee);for(var Ue=0;Ue<Ee;++Ue)ze[Be][Ue]=["m[",Be,"][",Ue,"]"].join("")}return ze}function determinant(Ee){if(2===Ee.length)return["sum(prod(",Ee[0][0],",",Ee[1][1],"),prod(-",Ee[0][1],",",Ee[1][0],"))"].join("");for(var ze=[],Be=0;Be<Ee.length;++Be)ze.push(["scale(",determinant(cofactor(Ee,Be)),",",(Ue=Be,1&Ue?"-":""),Ee[0][Be],")"].join(""));return function generateSum(Ee){if(1===Ee.length)return Ee[0];if(2===Ee.length)return["sum(",Ee[0],",",Ee[1],")"].join("");var ze=Ee.length>>1;return["sum(",generateSum(Ee.slice(0,ze)),",",generateSum(Ee.slice(ze)),")"].join("")}(ze);var Ue}function compileDeterminant(Ee){return new Function("sum","scale","prod","compress",["function robustDeterminant",Ee,"(m){return compress(",determinant(matrix(Ee)),")};return robustDeterminant",Ee].join(""))(We,$e,Ue,Qe)}var et=[function robustDeterminant0(){return[0]},function robustDeterminant1(Ee){return[Ee[0][0]]}];!function generateDispatch(){for(;et.length<6;)et.push(compileDeterminant(et.length));for(var ze=[],Be=["function robustDeterminant(m){switch(m.length){"],Ue=0;Ue<6;++Ue)ze.push("det"+Ue),Be.push("case ",Ue,":return det",Ue,"(m);");Be.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),ze.push("CACHE","gen",Be.join(""));var We=Function.apply(void 0,ze);for(Ee.exports=We.apply(void 0,et.concat([et,compileDeterminant])),Ue=0;Ue<et.length;++Ue)Ee.exports[Ue]=et[Ue]}()},c351:function(Ee,ze,Be){"use strict";var Ue=Be("e9bd"),We=Be("1a94"),$e=Be("692b"),Qe=Be("8a50"),et=Array.isArray,tt=Function.prototype.call,rt=Array.prototype.some;Ee.exports=function(Ee,ze){var Be,nt,at,it,ct,ft,xt,kt,Lt=arguments[2];if(et(Ee)||Ue(Ee)?Be="array":$e(Ee)?Be="string":Ee=Qe(Ee),We(ze),at=function(){it=!0},"array"!==Be)if("string"!==Be)for(nt=Ee.next();!nt.done;){if(tt.call(ze,Lt,nt.value,at),it)return;nt=Ee.next()}else for(ft=Ee.length,ct=0;ct<ft&&(xt=Ee[ct],ct+1<ft&&(kt=xt.charCodeAt(0))>=55296&&kt<=56319&&(xt+=Ee[++ct]),tt.call(ze,Lt,xt,at),!it);++ct);else rt.call(Ee,(function(Ee){return tt.call(ze,Lt,Ee,at),it}))}},c3a9:function(Ee,ze){Ee.exports=function add(Ee,ze,Be){return Ee[0]=ze[0]+Be[0],Ee[1]=ze[1]+Be[1],Ee[2]=ze[2]+Be[2],Ee[3]=ze[3]+Be[3],Ee}},c3de:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("b1a4").pointsAccessorFunction;ze.moduleType="transform",ze.name="sort",ze.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},ze.supplyDefaults=function(Ee){var Be={};function coerce(We,$e){return Ue.coerce(Ee,Be,ze.attributes,We,$e)}return coerce("enabled")&&(coerce("target"),coerce("order")),Be},ze.calcTransform=function(Ee,ze,Be){if(Be.enabled){var Qe=Ue.getTargetArray(ze,Be);if(Qe){var et=Be.target,tt=Qe.length;ze._length&&(tt=Math.min(tt,ze._length));var rt,nt,at=ze._arrayAttrs,it=function getIndices(Ee,ze,Be,Ue){var We,$e=new Array(Ue),Qe=new Array(Ue);for(We=0;We<Ue;We++)$e[We]={v:ze[We],i:We};for($e.sort(function getSortFunc(Ee,ze){switch(Ee.order){case"ascending":return function(Ee,Be){return ze(Ee.v)-ze(Be.v)};case"descending":return function(Ee,Be){return ze(Be.v)-ze(Ee.v)}}}(Ee,Be)),We=0;We<Ue;We++)Qe[We]=$e[We].i;return Qe}(Be,Qe,We.getDataToCoordFunc(Ee,ze,et,Qe),tt),ct=$e(ze.transforms,Be),ft={};for(rt=0;rt<at.length;rt++){var xt=Ue.nestedProperty(ze,at[rt]),kt=xt.get(),Lt=new Array(tt);for(nt=0;nt<tt;nt++)Lt[nt]=kt[it[nt]];xt.set(Lt)}for(nt=0;nt<tt;nt++)ft[nt]=ct(it[nt]);Be._indexToPoints=ft,ze._length=tt}}}},c3e7:function(Ee,ze,Be){"use strict";var Ue=Be("1d9e"),We=Be("b5e4").traceLayerPrefix;function DensityMapbox(Ee,ze){this.type="densitymapbox",this.subplot=Ee,this.uid=ze,this.sourceId="source-"+ze,this.layerList=[["heatmap",We+ze+"-heatmap"]],this.below=null}var $e=DensityMapbox.prototype;$e.update=function(Ee){var ze=this.subplot,Be=this.layerList,We=Ue(Ee),$e=ze.belowLookup["trace-"+this.uid];ze.map.getSource(this.sourceId).setData(We.geojson),$e!==this.below&&(this._removeLayers(),this._addLayers(We,$e),this.below=$e);for(var Qe=0;Qe<Be.length;Qe++){var et=Be[Qe],tt=et[0],rt=et[1],nt=We[tt];ze.setOptions(rt,"setLayoutProperty",nt.layout),"visible"===nt.layout.visibility&&ze.setOptions(rt,"setPaintProperty",nt.paint)}},$e._addLayers=function(Ee,ze){for(var Be=this.subplot,Ue=this.layerList,We=this.sourceId,$e=0;$e<Ue.length;$e++){var Qe=Ue[$e],et=Qe[0],tt=Ee[et];Be.addLayer({type:et,id:Qe[1],source:We,layout:tt.layout,paint:tt.paint},ze)}},$e._removeLayers=function(){for(var Ee=this.subplot.map,ze=this.layerList,Be=ze.length-1;Be>=0;Be--)Ee.removeLayer(ze[Be][1])},$e.dispose=function(){var Ee=this.subplot.map;this._removeLayers(),Ee.removeSource(this.sourceId)},Ee.exports=function createDensityMapbox(Ee,ze){var Be=ze[0].trace,We=new DensityMapbox(Ee,Be.uid),$e=We.sourceId,Qe=Ue(ze),et=We.below=Ee.belowLookup["trace-"+Be.uid];return Ee.map.addSource($e,{type:"geojson",data:Qe.geojson}),We._addLayers(Qe,et),We}},c400:function(Ee,ze,Be){"use strict";var Ue=Ee.exports={},We=Be("0804").locationmodeToLayer,$e=Be("e018").feature;Ue.getTopojsonName=function(Ee){return[Ee.scope.replace(/ /g,"-"),"_",Ee.resolution.toString(),"m"].join("")},Ue.getTopojsonPath=function(Ee,ze){return Ee+ze+".json"},Ue.getTopojsonFeatures=function(Ee,ze){var Be=We[Ee.locationmode],Ue=ze.objects[Be];return $e(ze,Ue).features}},c430:function(Ee,ze){Ee.exports=!1},c437:function(Ee,ze,Be){"use strict";var Ue=Be("6e58");Ee.exports=function style(Ee){Ue.select(Ee).selectAll(".hm image").style("opacity",(function(Ee){return Ee.trace.opacity}))}},c449:function(Ee,ze,Be){(function(ze){for(var Ue=Be("6d08"),We="undefined"==typeof window?ze:window,$e=["moz","webkit"],Qe="AnimationFrame",et=We["request"+Qe],tt=We["cancel"+Qe]||We["cancelRequest"+Qe],rt=0;!et&&rt<$e.length;rt++)et=We[$e[rt]+"Request"+Qe],tt=We[$e[rt]+"Cancel"+Qe]||We[$e[rt]+"CancelRequest"+Qe];if(!et||!tt){var nt=0,at=0,it=[];et=function(Ee){if(0===it.length){var ze=Ue(),Be=Math.max(0,1e3/60-(ze-nt));nt=Be+ze,setTimeout((function(){var Ee=it.slice(0);it.length=0;for(var ze=0;ze<Ee.length;ze++)if(!Ee[ze].cancelled)try{Ee[ze].callback(nt)}catch(Ee){setTimeout((function(){throw Ee}),0)}}),Math.round(Be))}return it.push({handle:++at,callback:Ee,cancelled:!1}),at},tt=function(Ee){for(var ze=0;ze<it.length;ze++)it[ze].handle===Ee&&(it[ze].cancelled=!0)}}Ee.exports=function(Ee){return et.call(We,Ee)},Ee.exports.cancel=function(){tt.apply(We,arguments)},Ee.exports.polyfill=function(Ee){Ee||(Ee=We),Ee.requestAnimationFrame=et,Ee.cancelAnimationFrame=tt}}).call(this,Be("c8ba"))},c451:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("52e8").stylePoints;Ee.exports=function style(Ee){var ze=Ue.select(Ee).selectAll("g.trace.violins");ze.style("opacity",(function(Ee){return Ee[0].trace.opacity})),ze.each((function(ze){var Be=ze[0].trace,Qe=Ue.select(this),et=Be.box||{},tt=et.line||{},rt=Be.meanline||{},nt=rt.width;Qe.selectAll("path.violin").style("stroke-width",Be.line.width+"px").call(We.stroke,Be.line.color).call(We.fill,Be.fillcolor),Qe.selectAll("path.box").style("stroke-width",tt.width+"px").call(We.stroke,tt.color).call(We.fill,et.fillcolor);var at={"stroke-width":nt+"px","stroke-dasharray":2*nt+"px,"+nt+"px"};Qe.selectAll("path.mean").style(at).call(We.stroke,rt.color),Qe.selectAll("path.meanline").style(at).call(We.stroke,rt.color),$e(Qe,Be,Ee)}))}},c497:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("5928"),$e=Be("371e"),Qe=Be("fc26"),et=Be("bb71"),tt=Be("3c1c"),rt=Be("d115"),nt=tt.cleanId,at=tt.getFromTrace,it=$e.traceIs;function cleanAxRef(Ee,ze){var Be=Ee[ze],Ue=ze.charAt(0);Be&&"paper"!==Be&&(Ee[ze]=nt(Be,Ue))}function cleanTitle(Ee){function rewireAttr(ze,Be){var Ue=Ee[ze],We=Ee.title&&Ee.title[Be];Ue&&!We&&(Ee.title||(Ee.title={}),Ee.title[Be]=Ee[ze],delete Ee[ze])}Ee&&("string"!=typeof Ee.title&&"number"!=typeof Ee.title||(Ee.title={text:Ee.title}),rewireAttr("titlefont","font"),rewireAttr("titleposition","position"),rewireAttr("titleside","side"),rewireAttr("titleoffset","offset"))}function cleanFinanceDir(Ee){if(!Qe.isPlainObject(Ee))return!1;var ze=Ee.name;return delete Ee.name,delete Ee.showlegend,("string"==typeof ze||"number"==typeof ze)&&String(ze)}function commonPrefix(Ee,ze,Be,Ue){if(Be&&!Ue)return Ee;if(Ue&&!Be)return ze;if(!Ee.trim())return ze;if(!ze.trim())return Ee;var We,$e=Math.min(Ee.length,ze.length);for(We=0;We<$e&&Ee.charAt(We)===ze.charAt(We);We++);return Ee.substr(0,We).trim()}function cleanTextPosition(Ee){var ze="middle",Be="center";return"string"==typeof Ee&&(-1!==Ee.indexOf("top")?ze="top":-1!==Ee.indexOf("bottom")&&(ze="bottom"),-1!==Ee.indexOf("left")?Be="left":-1!==Ee.indexOf("right")&&(Be="right")),ze+" "+Be}function emptyContainer(Ee,ze){return ze in Ee&&"object"==typeof Ee[ze]&&0===Object.keys(Ee[ze]).length}ze.clearPromiseQueue=function(Ee){Array.isArray(Ee._promises)&&Ee._promises.length>0&&Qe.log("Clearing previous rejected promises from queue."),Ee._promises=[]},ze.cleanLayout=function(Ee){var Be,Ue;Ee||(Ee={}),Ee.xaxis1&&(Ee.xaxis||(Ee.xaxis=Ee.xaxis1),delete Ee.xaxis1),Ee.yaxis1&&(Ee.yaxis||(Ee.yaxis=Ee.yaxis1),delete Ee.yaxis1),Ee.scene1&&(Ee.scene||(Ee.scene=Ee.scene1),delete Ee.scene1);var $e=(et.subplotsRegistry.cartesian||{}).attrRegex,tt=(et.subplotsRegistry.polar||{}).attrRegex,at=(et.subplotsRegistry.ternary||{}).attrRegex,it=(et.subplotsRegistry.gl3d||{}).attrRegex,ct=Object.keys(Ee);for(Be=0;Be<ct.length;Be++){var ft=ct[Be];if($e&&$e.test(ft)){var xt=Ee[ft];xt.anchor&&"free"!==xt.anchor&&(xt.anchor=nt(xt.anchor)),xt.overlaying&&(xt.overlaying=nt(xt.overlaying)),xt.type||(xt.isdate?xt.type="date":xt.islog?xt.type="log":!1===xt.isdate&&!1===xt.islog&&(xt.type="linear")),"withzero"!==xt.autorange&&"tozero"!==xt.autorange||(xt.autorange=!0,xt.rangemode="tozero"),delete xt.islog,delete xt.isdate,delete xt.categories,emptyContainer(xt,"domain")&&delete xt.domain,void 0!==xt.autotick&&(void 0===xt.tickmode&&(xt.tickmode=xt.autotick?"auto":"linear"),delete xt.autotick),cleanTitle(xt)}else if(tt&&tt.test(ft)){cleanTitle(Ee[ft].radialaxis)}else if(at&&at.test(ft)){var kt=Ee[ft];cleanTitle(kt.aaxis),cleanTitle(kt.baxis),cleanTitle(kt.caxis)}else if(it&&it.test(ft)){var Lt=Ee[ft],Ut=Lt.cameraposition;if(Array.isArray(Ut)&&4===Ut[0].length){var er=Ut[0],tr=Ut[1],rr=Ut[2],ar=We([],er),Lr=[];for(Ue=0;Ue<3;++Ue)Lr[Ue]=tr[Ue]+rr*ar[2+4*Ue];Lt.camera={eye:{x:Lr[0],y:Lr[1],z:Lr[2]},center:{x:tr[0],y:tr[1],z:tr[2]},up:{x:0,y:0,z:1}},delete Lt.cameraposition}cleanTitle(Lt.xaxis),cleanTitle(Lt.yaxis),cleanTitle(Lt.zaxis)}}var Qr=Array.isArray(Ee.annotations)?Ee.annotations.length:0;for(Be=0;Be<Qr;Be++){var on=Ee.annotations[Be];Qe.isPlainObject(on)&&(on.ref&&("paper"===on.ref?(on.xref="paper",on.yref="paper"):"data"===on.ref&&(on.xref="x",on.yref="y"),delete on.ref),cleanAxRef(on,"xref"),cleanAxRef(on,"yref"))}var sn=Array.isArray(Ee.shapes)?Ee.shapes.length:0;for(Be=0;Be<sn;Be++){var ln=Ee.shapes[Be];Qe.isPlainObject(ln)&&(cleanAxRef(ln,"xref"),cleanAxRef(ln,"yref"))}var cn=Ee.legend;return cn&&(cn.x>3?(cn.x=1.02,cn.xanchor="left"):cn.x<-2&&(cn.x=-.02,cn.xanchor="right"),cn.y>3?(cn.y=1.02,cn.yanchor="bottom"):cn.y<-2&&(cn.y=-.02,cn.yanchor="top")),cleanTitle(Ee),"rotate"===Ee.dragmode&&(Ee.dragmode="orbit"),rt.clean(Ee),Ee.template&&Ee.template.layout&&ze.cleanLayout(Ee.template.layout),Ee},ze.cleanData=function(Ee){for(var Be=0;Be<Ee.length;Be++){var Ue,We=Ee[Be];if("histogramy"===We.type&&"xbins"in We&&!("ybins"in We)&&(We.ybins=We.xbins,delete We.xbins),We.error_y&&"opacity"in We.error_y){var tt=rt.defaults,at=We.error_y.color||(it(We,"bar")?rt.defaultLine:tt[Be%tt.length]);We.error_y.color=rt.addOpacity(rt.rgb(at),rt.opacity(at)*We.error_y.opacity),delete We.error_y.opacity}if("bardir"in We&&("h"!==We.bardir||!it(We,"bar")&&"histogram"!==We.type.substr(0,9)||(We.orientation="h",ze.swapXYData(We)),delete We.bardir),"histogramy"===We.type&&ze.swapXYData(We),"histogramx"!==We.type&&"histogramy"!==We.type||(We.type="histogram"),"scl"in We&&!("colorscale"in We)&&(We.colorscale=We.scl,delete We.scl),"reversescl"in We&&!("reversescale"in We)&&(We.reversescale=We.reversescl,delete We.reversescl),We.xaxis&&(We.xaxis=nt(We.xaxis,"x")),We.yaxis&&(We.yaxis=nt(We.yaxis,"y")),it(We,"gl3d")&&We.scene&&(We.scene=et.subplotsRegistry.gl3d.cleanId(We.scene)),!it(We,"pie-like")&&!it(We,"bar-like"))if(Array.isArray(We.textposition))for(Ue=0;Ue<We.textposition.length;Ue++)We.textposition[Ue]=cleanTextPosition(We.textposition[Ue]);else We.textposition&&(We.textposition=cleanTextPosition(We.textposition));var ct=$e.getModule(We);if(ct&&ct.colorbar){var ft=ct.colorbar.container,xt=ft?We[ft]:We;xt&&xt.colorscale&&("YIGnBu"===xt.colorscale&&(xt.colorscale="YlGnBu"),"YIOrRd"===xt.colorscale&&(xt.colorscale="YlOrRd"))}if("surface"===We.type&&Qe.isPlainObject(We.contours)){var kt=["x","y","z"];for(Ue=0;Ue<kt.length;Ue++){var Lt=We.contours[kt[Ue]];Qe.isPlainObject(Lt)&&(Lt.highlightColor&&(Lt.highlightcolor=Lt.highlightColor,delete Lt.highlightColor),Lt.highlightWidth&&(Lt.highlightwidth=Lt.highlightWidth,delete Lt.highlightWidth))}}if("candlestick"===We.type||"ohlc"===We.type){var Ut=!1!==(We.increasing||{}).showlegend,er=!1!==(We.decreasing||{}).showlegend,tr=cleanFinanceDir(We.increasing),rr=cleanFinanceDir(We.decreasing);if(!1!==tr&&!1!==rr){var ar=commonPrefix(tr,rr,Ut,er);ar&&(We.name=ar)}else!tr&&!rr||We.name||(We.name=tr||rr)}if(Array.isArray(We.transforms)){var Lr=We.transforms;for(Ue=0;Ue<Lr.length;Ue++){var Qr=Lr[Ue];if(Qe.isPlainObject(Qr))switch(Qr.type){case"filter":Qr.filtersrc&&(Qr.target=Qr.filtersrc,delete Qr.filtersrc),Qr.calendar&&(Qr.valuecalendar||(Qr.valuecalendar=Qr.calendar),delete Qr.calendar);break;case"groupby":if(Qr.styles=Qr.styles||Qr.style,Qr.styles&&!Array.isArray(Qr.styles)){var on=Qr.styles,sn=Object.keys(on);Qr.styles=[];for(var ln=0;ln<sn.length;ln++)Qr.styles.push({target:sn[ln],value:on[sn[ln]]})}}}}emptyContainer(We,"line")&&delete We.line,"marker"in We&&(emptyContainer(We.marker,"line")&&delete We.marker.line,emptyContainer(We,"marker")&&delete We.marker),rt.clean(We),We.autobinx&&(delete We.autobinx,delete We.xbins),We.autobiny&&(delete We.autobiny,delete We.ybins),cleanTitle(We),We.colorbar&&cleanTitle(We.colorbar),We.marker&&We.marker.colorbar&&cleanTitle(We.marker.colorbar),We.line&&We.line.colorbar&&cleanTitle(We.line.colorbar),We.aaxis&&cleanTitle(We.aaxis),We.baxis&&cleanTitle(We.baxis)}},ze.swapXYData=function(Ee){var ze;if(Qe.swapAttrs(Ee,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(Ee.z)&&Array.isArray(Ee.z[0])&&(Ee.transpose?delete Ee.transpose:Ee.transpose=!0),Ee.error_x&&Ee.error_y){var Be=Ee.error_y,Ue="copy_ystyle"in Be?Be.copy_ystyle:!(Be.color||Be.thickness||Be.width);Qe.swapAttrs(Ee,["error_?.copy_ystyle"]),Ue&&Qe.swapAttrs(Ee,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof Ee.hoverinfo){var We=Ee.hoverinfo.split("+");for(ze=0;ze<We.length;ze++)"x"===We[ze]?We[ze]="y":"y"===We[ze]&&(We[ze]="x");Ee.hoverinfo=We.join("+")}},ze.coerceTraceIndices=function(Ee,ze){if(Ue(ze))return[ze];if(!Array.isArray(ze)||!ze.length)return Ee.data.map((function(Ee,ze){return ze}));if(Array.isArray(ze)){for(var Be=[],We=0;We<ze.length;We++)Qe.isIndex(ze[We],Ee.data.length)?Be.push(ze[We]):Qe.warn("trace index (",ze[We],") is not a number or is out of bounds");return Be}return ze},ze.manageArrayContainers=function(Ee,ze,Be){var We=Ee.obj,$e=Ee.parts,et=$e.length,tt=$e[et-1],rt=Ue(tt);if(rt&&null===ze){var nt=$e.slice(0,et-1).join(".");Qe.nestedProperty(We,nt).get().splice(tt,1)}else rt&&void 0===Ee.get()?(void 0===Ee.get()&&(Be[Ee.astr]=null),Ee.set(ze)):Ee.set(ze)};var ct=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function getParent(Ee){var ze=Ee.search(ct);if(ze>0)return Ee.substr(0,ze)}ze.hasParent=function(Ee,ze){for(var Be=getParent(ze);Be;){if(Be in Ee)return!0;Be=getParent(Be)}return!1};var ft=["x","y","z"];ze.clearAxisTypes=function(Ee,ze,Be){for(var Ue=0;Ue<ze.length;Ue++)for(var We=Ee._fullData[Ue],$e=0;$e<3;$e++){var et=at(Ee,We,ft[$e]);if(et&&"log"!==et.type){var tt=et._name,rt=et._id.substr(1);if("scene"===rt.substr(0,5)){if(void 0!==Be[rt])continue;tt=rt+"."+tt}var nt=tt+".type";void 0===Be[tt]&&void 0===Be[nt]&&Qe.nestedProperty(Ee.layout,nt).set(null)}}}},c4c7:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");ze.getSubplot=function getSubplot(Ee){return Ee.subplot||Ee.xaxis+Ee.yaxis||Ee.geo},ze.isTraceInSubplots=function isTraceInSubplots(Ee,Be){if("splom"===Ee.type){for(var Ue=Ee.xaxes||[],We=Ee.yaxes||[],$e=0;$e<Ue.length;$e++)for(var Qe=0;Qe<We.length;Qe++)if(-1!==Be.indexOf(Ue[$e]+We[Qe]))return!0;return!1}return-1!==Be.indexOf(ze.getSubplot(Ee))},ze.flat=function flat(Ee,ze){for(var Be=new Array(Ee.length),Ue=0;Ue<Ee.length;Ue++)Be[Ue]=ze;return Be},ze.p2c=function p2c(Ee,ze){for(var Be=new Array(Ee.length),Ue=0;Ue<Ee.length;Ue++)Be[Ue]=Ee[Ue].p2c(ze);return Be},ze.getDistanceFunction=function getDistanceFunction(Ee,Be,Ue,We){return"closest"===Ee?We||ze.quadrature(Be,Ue):"x"===Ee?Be:Ue},ze.getClosest=function getClosest(Ee,ze,Be){if(!1!==Be.index)Be.index>=0&&Be.index<Ee.length?Be.distance=0:Be.index=!1;else for(var Ue=0;Ue<Ee.length;Ue++){var We=ze(Ee[Ue]);We<=Be.distance&&(Be.index=Ue,Be.distance=We)}return Be},ze.inbox=function inbox(Ee,ze,Be){return Ee*ze<0||0===Ee?Be:1/0},ze.quadrature=function quadrature(Ee,ze){return function(Be){var Ue=Ee(Be),We=ze(Be);return Math.sqrt(Ue*Ue+We*We)}},ze.makeEventData=function makeEventData(Ee,Be,Ue){var We="index"in Ee?Ee.index:Ee.pointNumber,$e={data:Be._input,fullData:Be,curveNumber:Be.index,pointNumber:We};if(Be._indexToPoints){var Qe=Be._indexToPoints[We];1===Qe.length?$e.pointIndex=Qe[0]:$e.pointIndices=Qe}else $e.pointIndex=We;return Be._module.eventData?$e=Be._module.eventData($e,Ee,Be,Ue,We):("xVal"in Ee?$e.x=Ee.xVal:"x"in Ee&&($e.x=Ee.x),"yVal"in Ee?$e.y=Ee.yVal:"y"in Ee&&($e.y=Ee.y),Ee.xa&&($e.xaxis=Ee.xa),Ee.ya&&($e.yaxis=Ee.ya),void 0!==Ee.zLabelVal&&($e.z=Ee.zLabelVal)),ze.appendArrayPointValue($e,Be,We),$e},ze.appendArrayPointValue=function(Ee,ze,Be){var We=ze._arrayAttrs;if(We)for(var $e=0;$e<We.length;$e++){var Qe=We[$e],et=getPointKey(Qe);if(void 0===Ee[et]){var tt=getPointData(Ue.nestedProperty(ze,Qe).get(),Be);void 0!==tt&&(Ee[et]=tt)}}},ze.appendArrayMultiPointValues=function(Ee,ze,Be){var We=ze._arrayAttrs;if(We)for(var $e=0;$e<We.length;$e++){var Qe=We[$e],et=getPointKey(Qe);if(void 0===Ee[et]){for(var tt=Ue.nestedProperty(ze,Qe).get(),rt=new Array(Be.length),nt=0;nt<Be.length;nt++)rt[nt]=getPointData(tt,Be[nt]);Ee[et]=rt}}};var We={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function getPointKey(Ee){return We[Ee]||Ee}function getPointData(Ee,ze){return Array.isArray(ze)?Array.isArray(Ee)&&Array.isArray(Ee[ze[0]])?Ee[ze[0]][ze[1]]:void 0:Ee[ze]}},c4e0:function(Ee,ze,Be){"use strict";ze.version="1.52.1",Be("1368").polyfill(),Be("046b"),Be("76b2")();for(var Ue=Be("371e"),We=ze.register=Ue.register,$e=Be("442f"),Qe=Object.keys($e),et=0;et<Qe.length;et++){var tt=Qe[et];"_"!==tt.charAt(0)&&(ze[tt]=$e[tt]),We({moduleType:"apiMethod",name:tt,fn:$e[tt]})}We(Be("5e8f")),We([Be("a5c4"),Be("9778"),Be("70f9"),Be("c9bc"),Be("3273"),Be("7c9f"),Be("cd19"),Be("eeb3"),Be("1c0b8"),Be("04ad"),Be("7974"),Be("7eee"),Be("c258"),Be("fcb2")]),We([Be("1ea6"),Be("1e03")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(We(window.PlotlyLocales),delete window.PlotlyLocales),ze.Icons=Be("7559"),ze.Plots=Be("bb71"),ze.Fx=Be("a5c4"),ze.Snapshot=Be("ca67"),ze.PlotSchema=Be("6921"),ze.Queue=Be("c6b6b"),ze.d3=Be("6e58")},c4f4:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("e5ac"),Qe=Be("1729"),et=Be("14b6");function handleAnnotationDefaults(Ee,ze,Be,$e){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}function coercePosition(Ee){var Ue=Ee+"axis",$e={_fullLayout:{}};return $e._fullLayout[Ue]=Be[Ue],We.coercePosition(ze,$e,coerce,Ee,Ee,.5)}coerce("visible")&&(Qe(Ee,ze,$e.fullLayout,coerce),coercePosition("x"),coercePosition("y"),coercePosition("z"),Ue.noneOrAll(Ee,ze,["x","y","z"]),ze.xref="x",ze.yref="y",ze.zref="z",coerce("xanchor"),coerce("yanchor"),coerce("xshift"),coerce("yshift"),ze.showarrow&&(ze.axref="pixel",ze.ayref="pixel",coerce("ax",-10),coerce("ay",-30),Ue.noneOrAll(Ee,ze,["ax","ay"])))}Ee.exports=function handleDefaults(Ee,ze,Be){$e(Ee,ze,{name:"annotations",handleItemDefaults:handleAnnotationDefaults,fullLayout:Be.fullLayout})}},c535:function(Ee,ze,Be){"use strict";var Ue=Be("cea5"),We=32;function getMallocFree(Ee){switch(Ee){case"uint8":return[Ue.mallocUint8,Ue.freeUint8];case"uint16":return[Ue.mallocUint16,Ue.freeUint16];case"uint32":return[Ue.mallocUint32,Ue.freeUint32];case"int8":return[Ue.mallocInt8,Ue.freeInt8];case"int16":return[Ue.mallocInt16,Ue.freeInt16];case"int32":return[Ue.mallocInt32,Ue.freeInt32];case"float32":return[Ue.mallocFloat,Ue.freeFloat];case"float64":return[Ue.mallocDouble,Ue.freeDouble];default:return null}}function shapeArgs(Ee){for(var ze=[],Be=0;Be<Ee;++Be)ze.push("s"+Be);for(Be=0;Be<Ee;++Be)ze.push("n"+Be);for(Be=1;Be<Ee;++Be)ze.push("d"+Be);for(Be=1;Be<Ee;++Be)ze.push("e"+Be);for(Be=1;Be<Ee;++Be)ze.push("f"+Be);return ze}Ee.exports=function compileSort(Ee,ze){var Be=["'use strict'"],Ue=["ndarraySortWrapper",Ee.join("d"),ze].join("");Be.push(["function ",Ue,"(",["array"].join(","),"){"].join(""));for(var $e=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],Qe=0;Qe<Ee.length;++Qe)$e.push(["s",Qe,"=stride[",Qe,"]|0,n",Qe,"=shape[",Qe,"]|0"].join(""));var et=new Array(Ee.length),tt=[];for(Qe=0;Qe<Ee.length;++Qe){0!==(at=Ee[Qe])&&(0===tt.length?et[at]="1":et[at]=tt.join("*"),tt.push("n"+at))}var rt=-1,nt=-1;for(Qe=0;Qe<Ee.length;++Qe){var at,it=Ee[Qe];0!==it&&(rt>0?$e.push(["d",it,"=s",it,"-d",rt,"*n",rt].join("")):$e.push(["d",it,"=s",it].join("")),rt=it),0!==(at=Ee.length-1-Qe)&&(nt>0?$e.push(["e",at,"=s",at,"-e",nt,"*n",nt,",f",at,"=",et[at],"-f",nt,"*n",nt].join("")):$e.push(["e",at,"=s",at,",f",at,"=",et[at]].join("")),nt=at)}Be.push("var "+$e.join(","));var ct=["0","n0-1","data","offset"].concat(shapeArgs(Ee.length));Be.push(["if(n0<=",We,"){","insertionSort(",ct.join(","),")}else{","quickSort(",ct.join(","),")}"].join("")),Be.push("}return "+Ue);var ft=new Function("insertionSort","quickSort",Be.join("\n")),xt=function createInsertionSort(Ee,ze){var Be=["'use strict'"],Ue=["ndarrayInsertionSort",Ee.join("d"),ze].join(""),We=["left","right","data","offset"].concat(shapeArgs(Ee.length)),$e=getMallocFree(ze),Qe=["i,j,cptr,ptr=left*s0+offset"];if(Ee.length>1){for(var et=[],tt=1;tt<Ee.length;++tt)Qe.push("i"+tt),et.push("n"+tt);$e?Qe.push("scratch=malloc("+et.join("*")+")"):Qe.push("scratch=new Array("+et.join("*")+")"),Qe.push("dptr","sptr","a","b")}else Qe.push("scratch");function dataRead(Ee){return"generic"===ze?["data.get(",Ee,")"].join(""):["data[",Ee,"]"].join("")}function dataWrite(Ee,Be){return"generic"===ze?["data.set(",Ee,",",Be,")"].join(""):["data[",Ee,"]=",Be].join("")}if(Be.push(["function ",Ue,"(",We.join(","),"){var ",Qe.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),Ee.length>1){Be.push("dptr=0;sptr=ptr");for(tt=Ee.length-1;tt>=0;--tt){0!==(rt=Ee[tt])&&Be.push(["for(i",rt,"=0;i",rt,"<n",rt,";++i",rt,"){"].join(""))}Be.push("scratch[dptr++]=",dataRead("sptr"));for(tt=0;tt<Ee.length;++tt){0!==(rt=Ee[tt])&&Be.push("sptr+=d"+rt,"}")}Be.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0");for(tt=1;tt<Ee.length;++tt)1===tt&&Be.push("__l:"),Be.push(["for(i",tt,"=0;i",tt,"<n",tt,";++i",tt,"){"].join(""));Be.push(["a=",dataRead("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(tt=Ee.length-1;tt>=1;--tt)Be.push("sptr+=e"+tt,"dptr+=f"+tt,"}");Be.push("dptr=cptr;sptr=cptr-s0");for(tt=Ee.length-1;tt>=0;--tt){0!==(rt=Ee[tt])&&Be.push(["for(i",rt,"=0;i",rt,"<n",rt,";++i",rt,"){"].join(""))}Be.push(dataWrite("dptr",dataRead("sptr")));for(tt=0;tt<Ee.length;++tt){0!==(rt=Ee[tt])&&Be.push(["dptr+=d",rt,";sptr+=d",rt].join(""),"}")}Be.push("cptr-=s0\n}"),Be.push("dptr=cptr;sptr=0");for(tt=Ee.length-1;tt>=0;--tt){0!==(rt=Ee[tt])&&Be.push(["for(i",rt,"=0;i",rt,"<n",rt,";++i",rt,"){"].join(""))}Be.push(dataWrite("dptr","scratch[sptr++]"));for(tt=0;tt<Ee.length;++tt){var rt;0!==(rt=Ee[tt])&&Be.push("dptr+=d"+rt,"}")}}else Be.push("scratch="+dataRead("ptr"),"while((j--\x3eleft)&&("+dataRead("cptr-s0")+">scratch)){",dataWrite("cptr",dataRead("cptr-s0")),"cptr-=s0","}",dataWrite("cptr","scratch"));return Be.push("}"),Ee.length>1&&$e&&Be.push("free(scratch)"),Be.push("} return "+Ue),$e?new Function("malloc","free",Be.join("\n"))($e[0],$e[1]):new Function(Be.join("\n"))()}(Ee,ze),kt=function createQuickSort(Ee,ze,Be){var Ue=["'use strict'"],$e=["ndarrayQuickSort",Ee.join("d"),ze].join(""),Qe=["left","right","data","offset"].concat(shapeArgs(Ee.length)),et=getMallocFree(ze),tt=0;Ue.push(["function ",$e,"(",Qe.join(","),"){"].join(""));var rt=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(Ee.length>1){for(var nt=[],at=1;at<Ee.length;++at)nt.push("n"+at),rt.push("i"+at);for(at=0;at<8;++at)rt.push("b_ptr"+at);rt.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+nt.join("*")),et?rt.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):rt.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else rt.push("pivot1","pivot2");function toPointer(Ee){return["(offset+",Ee,"*s0)"].join("")}function dataRead(Ee){return"generic"===ze?["data.get(",Ee,")"].join(""):["data[",Ee,"]"].join("")}function dataWrite(Ee,Be){return"generic"===ze?["data.set(",Ee,",",Be,")"].join(""):["data[",Ee,"]=",Be].join("")}function cacheLoop(ze,Be,We){if(1===ze.length)Ue.push("ptr0="+toPointer(ze[0]));else for(var $e=0;$e<ze.length;++$e)Ue.push(["b_ptr",$e,"=s0*",ze[$e]].join(""));Be&&Ue.push("pivot_ptr=0"),Ue.push("ptr_shift=offset");for($e=Ee.length-1;$e>=0;--$e){0!==(Qe=Ee[$e])&&Ue.push(["for(i",Qe,"=0;i",Qe,"<n",Qe,";++i",Qe,"){"].join(""))}if(ze.length>1)for($e=0;$e<ze.length;++$e)Ue.push(["ptr",$e,"=b_ptr",$e,"+ptr_shift"].join(""));Ue.push(We),Be&&Ue.push("++pivot_ptr");for($e=0;$e<Ee.length;++$e){var Qe;0!==(Qe=Ee[$e])&&(ze.length>1?Ue.push("ptr_shift+=d"+Qe):Ue.push("ptr0+=d"+Qe),Ue.push("}"))}}function lexicoLoop(ze,Be,We,$e){if(1===Be.length)Ue.push("ptr0="+toPointer(Be[0]));else{for(var Qe=0;Qe<Be.length;++Qe)Ue.push(["b_ptr",Qe,"=s0*",Be[Qe]].join(""));Ue.push("ptr_shift=offset")}We&&Ue.push("pivot_ptr=0"),ze&&Ue.push(ze+":");for(Qe=1;Qe<Ee.length;++Qe)Ue.push(["for(i",Qe,"=0;i",Qe,"<n",Qe,";++i",Qe,"){"].join(""));if(Be.length>1)for(Qe=0;Qe<Be.length;++Qe)Ue.push(["ptr",Qe,"=b_ptr",Qe,"+ptr_shift"].join(""));Ue.push($e);for(Qe=Ee.length-1;Qe>=1;--Qe)We&&Ue.push("pivot_ptr+=f"+Qe),Be.length>1?Ue.push("ptr_shift+=e"+Qe):Ue.push("ptr0+=e"+Qe),Ue.push("}")}function cleanUp(){Ee.length>1&&et&&Ue.push("free(pivot1)","free(pivot2)")}function compareSwap(ze,Be){var We="el"+ze,$e="el"+Be;if(Ee.length>1){var Qe="__l"+ ++tt;lexicoLoop(Qe,[We,$e],!1,["comp=",dataRead("ptr0"),"-",dataRead("ptr1"),"\n","if(comp>0){tmp0=",We,";",We,"=",$e,";",$e,"=tmp0;break ",Qe,"}\n","if(comp<0){break ",Qe,"}"].join(""))}else Ue.push(["if(",dataRead(toPointer(We)),">",dataRead(toPointer($e)),"){tmp0=",We,";",We,"=",$e,";",$e,"=tmp0}"].join(""))}function moveElement(ze,Be){Ee.length>1?cacheLoop([ze,Be],!1,dataWrite("ptr0",dataRead("ptr1"))):Ue.push(dataWrite(toPointer(ze),dataRead(toPointer(Be))))}function comparePivot(ze,Be,We){if(Ee.length>1){var $e="__l"+ ++tt;lexicoLoop($e,[Be],!0,[ze,"=",dataRead("ptr0"),"-pivot",We,"[pivot_ptr]\n","if(",ze,"!==0){break ",$e,"}"].join(""))}else Ue.push([ze,"=",dataRead(toPointer(Be)),"-pivot",We].join(""))}function swapElements(ze,Be){Ee.length>1?cacheLoop([ze,Be],!1,["tmp=",dataRead("ptr0"),"\n",dataWrite("ptr0",dataRead("ptr1")),"\n",dataWrite("ptr1","tmp")].join("")):Ue.push(["ptr0=",toPointer(ze),"\n","ptr1=",toPointer(Be),"\n","tmp=",dataRead("ptr0"),"\n",dataWrite("ptr0",dataRead("ptr1")),"\n",dataWrite("ptr1","tmp")].join(""))}function tripleSwap(ze,Be,We){Ee.length>1?(cacheLoop([ze,Be,We],!1,["tmp=",dataRead("ptr0"),"\n",dataWrite("ptr0",dataRead("ptr1")),"\n",dataWrite("ptr1",dataRead("ptr2")),"\n",dataWrite("ptr2","tmp")].join("")),Ue.push("++"+Be,"--"+We)):Ue.push(["ptr0=",toPointer(ze),"\n","ptr1=",toPointer(Be),"\n","ptr2=",toPointer(We),"\n","++",Be,"\n","--",We,"\n","tmp=",dataRead("ptr0"),"\n",dataWrite("ptr0",dataRead("ptr1")),"\n",dataWrite("ptr1",dataRead("ptr2")),"\n",dataWrite("ptr2","tmp")].join(""))}function swapAndDecrement(Ee,ze){swapElements(Ee,ze),Ue.push("--"+ze)}function storePivot(ze,Be,We){Ee.length>1?cacheLoop([ze,Be],!0,[dataWrite("ptr0",dataRead("ptr1")),"\n",dataWrite("ptr1",["pivot",We,"[pivot_ptr]"].join(""))].join("")):Ue.push(dataWrite(toPointer(ze),dataRead(toPointer(Be))),dataWrite(toPointer(Be),"pivot"+We))}function doSort(ze,Be){Ue.push(["if((",Be,"-",ze,")<=",We,"){\n","insertionSort(",ze,",",Be,",data,offset,",shapeArgs(Ee.length).join(","),")\n","}else{\n",$e,"(",ze,",",Be,",data,offset,",shapeArgs(Ee.length).join(","),")\n","}"].join(""))}function walkPointer(ze,Be,We){Ee.length>1?(Ue.push(["__l",++tt,":while(true){"].join("")),cacheLoop([ze],!0,["if(",dataRead("ptr0"),"!==pivot",Be,"[pivot_ptr]){break __l",tt,"}"].join("")),Ue.push(We,"}")):Ue.push(["while(",dataRead(toPointer(ze)),"===pivot",Be,"){",We,"}"].join(""))}return Ue.push("var "+rt.join(",")),compareSwap(1,2),compareSwap(4,5),compareSwap(1,3),compareSwap(2,3),compareSwap(1,4),compareSwap(3,4),compareSwap(2,5),compareSwap(2,3),compareSwap(4,5),Ee.length>1?cacheLoop(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",dataRead("ptr1"),"\n","pivot2[pivot_ptr]=",dataRead("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",dataRead("ptr0"),"\n","y=",dataRead("ptr2"),"\n","z=",dataRead("ptr4"),"\n",dataWrite("ptr5","x"),"\n",dataWrite("ptr6","y"),"\n",dataWrite("ptr7","z")].join("")):Ue.push(["pivot1=",dataRead(toPointer("el2")),"\n","pivot2=",dataRead(toPointer("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",dataRead(toPointer("el1")),"\n","y=",dataRead(toPointer("el3")),"\n","z=",dataRead(toPointer("el5")),"\n",dataWrite(toPointer("index1"),"x"),"\n",dataWrite(toPointer("index3"),"y"),"\n",dataWrite(toPointer("index5"),"z")].join("")),moveElement("index2","left"),moveElement("index4","right"),Ue.push("if(pivots_are_equal){"),Ue.push("for(k=less;k<=great;++k){"),comparePivot("comp","k",1),Ue.push("if(comp===0){continue}"),Ue.push("if(comp<0){"),Ue.push("if(k!==less){"),swapElements("k","less"),Ue.push("}"),Ue.push("++less"),Ue.push("}else{"),Ue.push("while(true){"),comparePivot("comp","great",1),Ue.push("if(comp>0){"),Ue.push("great--"),Ue.push("}else if(comp<0){"),tripleSwap("k","less","great"),Ue.push("break"),Ue.push("}else{"),swapAndDecrement("k","great"),Ue.push("break"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}else{"),Ue.push("for(k=less;k<=great;++k){"),comparePivot("comp_pivot1","k",1),Ue.push("if(comp_pivot1<0){"),Ue.push("if(k!==less){"),swapElements("k","less"),Ue.push("}"),Ue.push("++less"),Ue.push("}else{"),comparePivot("comp_pivot2","k",2),Ue.push("if(comp_pivot2>0){"),Ue.push("while(true){"),comparePivot("comp","great",2),Ue.push("if(comp>0){"),Ue.push("if(--great<k){break}"),Ue.push("continue"),Ue.push("}else{"),comparePivot("comp","great",1),Ue.push("if(comp<0){"),tripleSwap("k","less","great"),Ue.push("}else{"),swapAndDecrement("k","great"),Ue.push("}"),Ue.push("break"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),storePivot("left","(less-1)",1),storePivot("right","(great+1)",2),doSort("left","(less-2)"),doSort("(great+2)","right"),Ue.push("if(pivots_are_equal){"),cleanUp(),Ue.push("return"),Ue.push("}"),Ue.push("if(less<index1&&great>index5){"),walkPointer("less",1,"++less"),walkPointer("great",2,"--great"),Ue.push("for(k=less;k<=great;++k){"),comparePivot("comp_pivot1","k",1),Ue.push("if(comp_pivot1===0){"),Ue.push("if(k!==less){"),swapElements("k","less"),Ue.push("}"),Ue.push("++less"),Ue.push("}else{"),comparePivot("comp_pivot2","k",2),Ue.push("if(comp_pivot2===0){"),Ue.push("while(true){"),comparePivot("comp","great",2),Ue.push("if(comp===0){"),Ue.push("if(--great<k){break}"),Ue.push("continue"),Ue.push("}else{"),comparePivot("comp","great",1),Ue.push("if(comp<0){"),tripleSwap("k","less","great"),Ue.push("}else{"),swapAndDecrement("k","great"),Ue.push("}"),Ue.push("break"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),Ue.push("}"),cleanUp(),doSort("less","great"),Ue.push("}return "+$e),Ee.length>1&&et?new Function("insertionSort","malloc","free",Ue.join("\n"))(Be,et[0],et[1]):new Function("insertionSort",Ue.join("\n"))(Be)}(Ee,ze,xt);return ft(xt,kt)}},c586:function(Ee,ze,Be){"use strict";Ee.exports=function edgeToAdjacency(Ee,ze){var Be=Ee.length;if("number"!=typeof ze){ze=0;for(var We=0;We<Be;++We){var $e=Ee[We];ze=Math.max(ze,$e[0],$e[1])}ze=1+(0|ze)}ze|=0;var Qe=new Array(ze);for(We=0;We<ze;++We)Qe[We]=[];for(We=0;We<Be;++We){$e=Ee[We];Qe[$e[0]].push($e[1]),Qe[$e[1]].push($e[0])}for(var et=0;et<ze;++et)Ue(Qe[et],(function(Ee,ze){return Ee-ze}));return Qe};var Ue=Be("175e")},c5f4:function(Ee,ze,Be){"use strict";var Ue=Be("bae6"),We=Math.abs,$e=Math.floor;Ee.exports=function(Ee){return isNaN(Ee)?0:0!==(Ee=Number(Ee))&&isFinite(Ee)?Ue(Ee)*$e(We(Ee)):Ee}},c63d:function(Ee,ze,Be){"use strict";var Ue=Be("402e"),We=Be("f977"),$e=Be("ce56").findExtremes,Qe=Be("feed");function Pointcloud(Ee,ze){this.scene=Ee,this.uid=ze,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=Ue(Ee.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var et=Pointcloud.prototype;et.handlePick=function(Ee){var ze=this.idToIndex[Ee.pointId];return{trace:this,dataCoord:Ee.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*ze],this.pickXYData[2*ze+1]]:[this.pickXData[ze],this.pickYData[ze]],textLabel:Array.isArray(this.textLabels)?this.textLabels[ze]:this.textLabels,color:this.color,name:this.name,pointIndex:ze,hoverinfo:this.hoverinfo}},et.update=function(Ee){this.index=Ee.index,this.textLabels=Ee.text,this.name=Ee.name,this.hoverinfo=Ee.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(Ee),this.color=Qe(Ee,{})},et.updateFast=function(Ee){var ze,Be,Ue,Qe,et,tt,rt=this.xData=this.pickXData=Ee.x,nt=this.yData=this.pickYData=Ee.y,at=this.pickXYData=Ee.xy,it=Ee.xbounds&&Ee.ybounds,ct=Ee.indices,ft=this.bounds;if(at){if(Ue=at,ze=at.length>>>1,it)ft[0]=Ee.xbounds[0],ft[2]=Ee.xbounds[1],ft[1]=Ee.ybounds[0],ft[3]=Ee.ybounds[1];else for(tt=0;tt<ze;tt++)Qe=Ue[2*tt],et=Ue[2*tt+1],Qe<ft[0]&&(ft[0]=Qe),Qe>ft[2]&&(ft[2]=Qe),et<ft[1]&&(ft[1]=et),et>ft[3]&&(ft[3]=et);if(ct)Be=ct;else for(Be=new Int32Array(ze),tt=0;tt<ze;tt++)Be[tt]=tt}else for(ze=rt.length,Ue=new Float32Array(2*ze),Be=new Int32Array(ze),tt=0;tt<ze;tt++)Qe=rt[tt],et=nt[tt],Be[tt]=tt,Ue[2*tt]=Qe,Ue[2*tt+1]=et,Qe<ft[0]&&(ft[0]=Qe),Qe>ft[2]&&(ft[2]=Qe),et<ft[1]&&(ft[1]=et),et>ft[3]&&(ft[3]=et);this.idToIndex=Be,this.pointcloudOptions.idToIndex=Be,this.pointcloudOptions.positions=Ue;var xt=We(Ee.marker.color),kt=We(Ee.marker.border.color),Lt=Ee.opacity*Ee.marker.opacity;xt[3]*=Lt,this.pointcloudOptions.color=xt;var Ut=Ee.marker.blend;if(null===Ut){Ut=rt.length<100||nt.length<100}this.pointcloudOptions.blend=Ut,kt[3]*=Lt,this.pointcloudOptions.borderColor=kt;var er=Ee.marker.sizemin,tr=Math.max(Ee.marker.sizemax,Ee.marker.sizemin);this.pointcloudOptions.sizeMin=er,this.pointcloudOptions.sizeMax=tr,this.pointcloudOptions.areaRatio=Ee.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var rr=this.scene.xaxis,ar=this.scene.yaxis,Lr=tr/2||.5;Ee._extremes[rr._id]=$e(rr,[ft[0],ft[2]],{ppad:Lr}),Ee._extremes[ar._id]=$e(ar,[ft[1],ft[3]],{ppad:Lr})},et.dispose=function(){this.pointcloud.dispose()},Ee.exports=function createPointcloud(Ee,ze){var Be=new Pointcloud(Ee,ze.uid);return Be.update(ze),Be}},c6b6:function(Ee,ze){var Be={}.toString;Ee.exports=function(Ee){return Be.call(Ee).slice(8,-1)}},c6b6b:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3ff5").dfltConfig;var $e={add:function(Ee,ze,Be,Ue,$e){var Qe,et;Ee.undoQueue=Ee.undoQueue||{index:0,queue:[],sequence:!1},et=Ee.undoQueue.index,Ee.autoplay?Ee.undoQueue.inSequence||(Ee.autoplay=!1):(!Ee.undoQueue.sequence||Ee.undoQueue.beginSequence?(Qe={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},Ee.undoQueue.queue.splice(et,Ee.undoQueue.queue.length-et,Qe),Ee.undoQueue.index+=1):Qe=Ee.undoQueue.queue[et-1],Ee.undoQueue.beginSequence=!1,Qe&&(Qe.undo.calls.unshift(ze),Qe.undo.args.unshift(Be),Qe.redo.calls.push(Ue),Qe.redo.args.push($e)),Ee.undoQueue.queue.length>We.queueLength&&(Ee.undoQueue.queue.shift(),Ee.undoQueue.index--))},startSequence:function(Ee){Ee.undoQueue=Ee.undoQueue||{index:0,queue:[],sequence:!1},Ee.undoQueue.sequence=!0,Ee.undoQueue.beginSequence=!0},stopSequence:function(Ee){Ee.undoQueue=Ee.undoQueue||{index:0,queue:[],sequence:!1},Ee.undoQueue.sequence=!1,Ee.undoQueue.beginSequence=!1},undo:function undo(Ee){var ze,Be;if(Ee.framework&&Ee.framework.isPolar)Ee.framework.undo();else if(!(void 0===Ee.undoQueue||isNaN(Ee.undoQueue.index)||Ee.undoQueue.index<=0)){for(Ee.undoQueue.index--,ze=Ee.undoQueue.queue[Ee.undoQueue.index],Ee.undoQueue.inSequence=!0,Be=0;Be<ze.undo.calls.length;Be++)$e.plotDo(Ee,ze.undo.calls[Be],ze.undo.args[Be]);Ee.undoQueue.inSequence=!1,Ee.autoplay=!1}},redo:function redo(Ee){var ze,Be;if(Ee.framework&&Ee.framework.isPolar)Ee.framework.redo();else if(!(void 0===Ee.undoQueue||isNaN(Ee.undoQueue.index)||Ee.undoQueue.index>=Ee.undoQueue.queue.length)){for(ze=Ee.undoQueue.queue[Ee.undoQueue.index],Ee.undoQueue.inSequence=!0,Be=0;Be<ze.redo.calls.length;Be++)$e.plotDo(Ee,ze.redo.calls[Be],ze.redo.args[Be]);Ee.undoQueue.inSequence=!1,Ee.autoplay=!1,Ee.undoQueue.index++}}};$e.plotDo=function(Ee,ze,Be){Ee.autoplay=!0,Be=function copyArgArray(Ee,ze){for(var Be,We=[],$e=0;$e<ze.length;$e++)Be=ze[$e],We[$e]=Be===Ee?Be:"object"==typeof Be?Array.isArray(Be)?Ue.extendDeep([],Be):Ue.extendDeepAll({},Be):Be;return We}(Ee,Be),ze.apply(null,Be)},Ee.exports=$e},c6cd:function(Ee,ze,Be){var Ue=Be("da84"),We=Be("ce4e"),$e=Ue["__core-js_shared__"]||We("__core-js_shared__",{});Ee.exports=$e},c6e8:function(Ee,ze,Be){"use strict";Ee.exports=function triangulateCube(Ee){if(Ee<0)return[];if(0===Ee)return[[0]];for(var ze=0|Math.round($e(Ee+1)),Be=[],Qe=0;Qe<ze;++Qe){for(var et=Ue.unrank(Ee,Qe),tt=[0],rt=0,nt=0;nt<et.length;++nt)rt+=1<<et[nt],tt.push(rt);We(et)<1&&(tt[0]=rt,tt[Ee]=0),Be.push(tt)}return Be};var Ue=Be("26cf"),We=Be("7c67"),$e=Be("69f1")},c715:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("dfb3"),$e=Be("d798"),Qe=Be("cb34").overrideAll;Be("78df").FORMAT_LINK,Be("78df").TIME_FORMAT_LINK;Ee.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:Ue({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},tickfont:Ue({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc"},tickformatstops:Qe($e.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:We.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgridcolor:{valType:"color",dflt:We.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:Ue({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},c791:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("fc26"),Qe=Be("0379"),et=Be("d115"),tt=Be("83d1"),rt=Be("371e"),nt=Be("0642").tickText,at=Be("93a6"),it=at.recordMinTextSize,ct=at.clearMinTextSize,ft=Be("2df3"),xt=Be("6833"),kt=Be("1a5e"),Lt=Be("fb5a"),Ut=Lt.text,er=Lt.textposition,tr=Be("c4c7").appendArrayPointValue,rr=kt.TEXTPAD;function keyFunc(Ee){return Ee.id}function getKeyFunc(Ee){if(Ee.ids)return keyFunc}function dirSign(Ee,ze){return Ee<ze?1:-1}function transition(Ee,ze,Be,Ue){var We;return!ze.uniformtext.mode&&hasTransition(Be)?(Ue&&(We=Ue()),Ee.transition().duration(Be.duration).ease(Be.easing).each("end",(function(){We&&We()})).each("interrupt",(function(){We&&We()}))):Ee}function hasTransition(Ee){return Ee&&Ee.duration>0}function getRotateFromAngle(Ee){return"auto"===Ee?0:Ee}function getRotatedTextSize(Ee,ze){var Be=Math.PI/180*ze,Ue=Math.abs(Math.sin(Be)),We=Math.abs(Math.cos(Be));return{x:Ee.width*We+Ee.height*Ue,y:Ee.width*Ue+Ee.height*We}}function toMoveInsideBar(Ee,ze,Be,Ue,We,$e){var Qe=!!$e.isHorizontal,et=!!$e.constrained,tt=$e.angle||0,rt=$e.anchor||"end",nt="end"===rt,at="start"===rt,it=(($e.leftToRight||0)+1)/2,ct=1-it,ft=We.width,xt=We.height,kt=Math.abs(ze-Ee),Lt=Math.abs(Ue-Be),Ut=kt>2*rr&&Lt>2*rr?rr:0;kt-=2*Ut,Lt-=2*Ut;var er=getRotateFromAngle(tt);"auto"!==tt||ft<=kt&&xt<=Lt||!(ft>kt||xt>Lt)||(ft>Lt||xt>kt)&&ft<xt==kt<Lt||(er+=90);var tr=getRotatedTextSize(We,er),ar=1;et&&(ar=Math.min(1,kt/tr.x,Lt/tr.y));var Lr=We.left*ct+We.right*it,Qr=(We.top+We.bottom)/2,on=(Ee+rr)*ct+(ze-rr)*it,sn=(Be+Ue)/2,ln=0,cn=0;if(at||nt){var un=(Qe?tr.x:tr.y)/2,hn=Qe?dirSign(Ee,ze):dirSign(Be,Ue);Qe?at?(on=Ee+hn*Ut,ln=-hn*un):(on=ze-hn*Ut,ln=hn*un):at?(sn=Be+hn*Ut,cn=-hn*un):(sn=Ue-hn*Ut,cn=hn*un)}return{textX:Lr,textY:Qr,targetX:on,targetY:sn,anchorX:ln,anchorY:cn,scale:ar,rotate:er}}Ee.exports={plot:function plot(Ee,ze,Be,at,kt,Lt){var ar=ze.xaxis,Lr=ze.yaxis,Qr=Ee._fullLayout;kt||(kt={mode:Qr.barmode,norm:Qr.barmode,gap:Qr.bargap,groupgap:Qr.bargroupgap},ct("bar",Qr));var on=$e.makeTraceGroups(at,Be,"trace bars").each((function(Be){var rt=Ue.select(this),at=Be[0].trace,ct="waterfall"===at.type,on="funnel"===at.type,sn="bar"===at.type||on,ln=0;ct&&at.connector.visible&&"between"===at.connector.mode&&(ln=at.connector.line.width/2);var cn="h"===at.orientation,un=$e.ensureSingle(rt,"g","points"),hn=getKeyFunc(at),dn=un.selectAll("g.point").data($e.identity,hn);dn.enter().append("g").classed("point",!0),dn.exit().remove(),dn.each((function(rt,ct){var on,un,hn=Ue.select(this),dn=function getXY(Ee,ze,Be,Ue){var We=[],$e=[],Qe=Ue?ze:Be,et=Ue?Be:ze;return We[0]=Qe.c2p(Ee.s0,!0),$e[0]=et.c2p(Ee.p0,!0),We[1]=Qe.c2p(Ee.s1,!0),$e[1]=et.c2p(Ee.p1,!0),Ue?[We,$e]:[$e,We]}(rt,ar,Lr,cn),vn=dn[0][0],yn=dn[0][1],_n=dn[1][0],Mn=dn[1][1],Cn=!(vn!==yn&&_n!==Mn&&We(vn)&&We(yn)&&We(_n)&&We(Mn));if(Cn&&sn&&xt.getLineWidth(at,rt)&&(cn?yn-vn==0:Mn-_n==0)&&(Cn=!1),rt.isBlank=Cn,Cn&&cn&&(yn=vn),Cn&&!cn&&(Mn=_n),ln&&!Cn&&(cn?(vn-=dirSign(vn,yn)*ln,yn+=dirSign(vn,yn)*ln):(_n-=dirSign(_n,Mn)*ln,Mn+=dirSign(_n,Mn)*ln)),"waterfall"===at.type){if(!Cn){var En=at[rt.dir].marker;on=En.line.width,un=En.color}}else on=xt.getLineWidth(at,rt),un=rt.mc||at.marker.color;var Pn=Ue.round(on/2%1,2);function roundWithLine(Ee){return 0===kt.gap&&0===kt.groupgap?Ue.round(Math.round(Ee)-Pn,2):Ee}if(!Ee._context.staticPlot){var In=et.opacity(un)<1||on>.01?roundWithLine:function expandToVisible(Ee,ze){return Math.abs(Ee-ze)>=2?roundWithLine(Ee):Ee>ze?Math.ceil(Ee):Math.floor(Ee)};vn=In(vn,yn),yn=In(yn,vn),_n=In(_n,Mn),Mn=In(Mn,_n)}var Bn=transition($e.ensureSingle(hn,"path"),Qr,kt,Lt);if(Bn.style("vector-effect","non-scaling-stroke").attr("d","M"+vn+","+_n+"V"+Mn+"H"+yn+"V"+_n+"Z").call(tt.setClipUrl,ze.layerClipId,Ee),!Qr.uniformtext.mode&&hasTransition(kt)){var Hn=tt.makePointStyleFns(at);tt.singlePointStyle(rt,Bn,at,Hn,Ee)}!function appendBarText(Ee,ze,Be,Ue,We,et,rt,at,ct,kt,Lt){var ar,Lr=ze.xaxis,Qr=ze.yaxis,on=Ee._fullLayout;function appendTextNode(ze,Be,Ue){return $e.ensureSingle(ze,"text").text(Be).attr({class:"bartext bartext-"+ar,"text-anchor":"middle","data-notex":1}).call(tt.font,Ue).call(Qe.convertToTspans,Ee)}var sn=Ue[0].trace,ln="h"===sn.orientation,cn=function getText(Ee,ze,Be,Ue,We){var Qe,et=ze[0].trace;Qe=et.texttemplate?function calcTexttemplate(Ee,ze,Be,Ue,We){var Qe=ze[0].trace,et=$e.castOption(Qe,Be,"texttemplate");if(!et)return"";var tt,rt,at,it,ct="waterfall"===Qe.type,ft="funnel"===Qe.type;"h"===Qe.orientation?(tt="y",rt=We,at="x",it=Ue):(tt="x",rt=Ue,at="y",it=We);function formatNumber(Ee){return nt(it,+Ee,!0).text}var xt=ze[Be],kt={};kt.label=xt.p,kt.labelLabel=kt[tt+"Label"]=function formatLabel(Ee){return nt(rt,Ee,!0).text}(xt.p);var Lt=$e.castOption(Qe,xt.i,"text");(0===Lt||Lt)&&(kt.text=Lt);kt.value=xt.s,kt.valueLabel=kt[at+"Label"]=formatNumber(xt.s);var Ut={};tr(Ut,Qe,xt.i),ct&&(kt.delta=+xt.rawS||xt.s,kt.deltaLabel=formatNumber(kt.delta),kt.final=xt.v,kt.finalLabel=formatNumber(kt.final),kt.initial=kt.final-kt.delta,kt.initialLabel=formatNumber(kt.initial));ft&&(kt.value=xt.s,kt.valueLabel=formatNumber(kt.value),kt.percentInitial=xt.begR,kt.percentInitialLabel=$e.formatPercent(xt.begR),kt.percentPrevious=xt.difR,kt.percentPreviousLabel=$e.formatPercent(xt.difR),kt.percentTotal=xt.sumR,kt.percenTotalLabel=$e.formatPercent(xt.sumR));var er=$e.castOption(Qe,xt.i,"customdata");er&&(kt.customdata=er);return $e.texttemplateString(et,kt,Ee._d3locale,Ut,kt,Qe._meta||{})}(Ee,ze,Be,Ue,We):et.textinfo?function calcTextinfo(Ee,ze,Be,Ue){var We=Ee[0].trace,Qe="h"===We.orientation,et="waterfall"===We.type,tt="funnel"===We.type;function formatNumber(Ee){return nt(Qe?Be:Ue,+Ee,!0).text}var rt,at=We.textinfo,it=Ee[ze],ct=at.split("+"),ft=[],hasFlag=function(Ee){return-1!==ct.indexOf(Ee)};hasFlag("label")&&ft.push(function formatLabel(Ee){return nt(Qe?Ue:Be,Ee,!0).text}(Ee[ze].p));hasFlag("text")&&(0===(rt=$e.castOption(We,it.i,"text"))||rt)&&ft.push(rt);if(et){var xt=+it.rawS||it.s,kt=it.v,Lt=kt-xt;hasFlag("initial")&&ft.push(formatNumber(Lt)),hasFlag("delta")&&ft.push(formatNumber(xt)),hasFlag("final")&&ft.push(formatNumber(kt))}if(tt){hasFlag("value")&&ft.push(formatNumber(it.s));var Ut=0;hasFlag("percent initial")&&Ut++,hasFlag("percent previous")&&Ut++,hasFlag("percent total")&&Ut++;var er=Ut>1;hasFlag("percent initial")&&(rt=$e.formatPercent(it.begR),er&&(rt+=" of initial"),ft.push(rt)),hasFlag("percent previous")&&(rt=$e.formatPercent(it.difR),er&&(rt+=" of previous"),ft.push(rt)),hasFlag("percent total")&&(rt=$e.formatPercent(it.sumR),er&&(rt+=" of total"),ft.push(rt))}return ft.join("<br>")}(ze,Be,Ue,We):xt.getValue(et.text,Be);return xt.coerceString(Ut,Qe)}(on,Ue,We,Lr,Qr);ar=function getTextPosition(Ee,ze){var Be=xt.getValue(Ee.textposition,ze);return xt.coerceEnumerated(er,Be)}(sn,We);var un="stack"===kt.mode||"relative"===kt.mode,hn=Ue[We],dn=!un||hn._outmost;if(!cn||"none"===ar||(hn.isBlank||et===rt||at===ct)&&("auto"===ar||"inside"===ar))return void Be.select("text").remove();var vn=on.font,yn=ft.getBarColor(Ue[We],sn),_n=ft.getInsideTextFont(sn,We,vn,yn),Mn=ft.getOutsideTextFont(sn,We,vn),Cn=Be.datum();ln?"log"===Lr.type&&Cn.s0<=0&&(et=Lr.range[0]<Lr.range[1]?0:Lr._length):"log"===Qr.type&&Cn.s0<=0&&(at=Qr.range[0]<Qr.range[1]?Qr._length:0);var En,Pn,In,Bn,Hn,Kn=Math.abs(rt-et)-2*rr,Jn=Math.abs(ct-at)-2*rr;"outside"===ar&&(dn||hn.hasB||(ar="inside"));if("auto"===ar)if(dn){ar="inside",Hn=$e.ensureUniformFontSize(Ee,_n),En=appendTextNode(Be,cn,Hn),Pn=tt.bBox(En.node()),In=Pn.width,Bn=Pn.height;var Ma=In<=Kn&&Bn<=Jn,Sa=In<=Jn&&Bn<=Kn,La=ln?Kn>=In*(Jn/Bn):Jn>=Bn*(Kn/In);In>0&&Bn>0&&(Ma||Sa||La)?ar="inside":(ar="outside",En.remove(),En=null)}else ar="inside";if(!En){Hn=$e.ensureUniformFontSize(Ee,"outside"===ar?Mn:_n);var Ia=(En=appendTextNode(Be,cn,Hn)).attr("transform");if(En.attr("transform",""),Pn=tt.bBox(En.node()),In=Pn.width,Bn=Pn.height,En.attr("transform",Ia),In<=0||Bn<=0)return void En.remove()}var Ra,Na,Ua=sn.textangle;"outside"===ar?(Na="both"===sn.constraintext||"outside"===sn.constraintext,Ra=function toMoveOutsideBar(Ee,ze,Be,Ue,We,$e){var Qe,et=!!$e.isHorizontal,tt=!!$e.constrained,rt=$e.angle||0,nt=We.width,at=We.height,it=Math.abs(ze-Ee),ct=Math.abs(Ue-Be);Qe=et?ct>2*rr?rr:0:it>2*rr?rr:0;var ft=1;tt&&(ft=et?Math.min(1,ct/at):Math.min(1,it/nt));var xt=getRotateFromAngle(rt),kt=getRotatedTextSize(We,xt),Lt=(et?kt.x:kt.y)/2,Ut=(We.left+We.right)/2,er=(We.top+We.bottom)/2,tr=(Ee+ze)/2,ar=(Be+Ue)/2,Lr=0,Qr=0,on=et?dirSign(ze,Ee):dirSign(Be,Ue);et?(tr=ze-on*Qe,Lr=on*Lt):(ar=Ue+on*Qe,Qr=-on*Lt);return{textX:Ut,textY:er,targetX:tr,targetY:ar,anchorX:Lr,anchorY:Qr,scale:ft,rotate:xt}}(et,rt,at,ct,Pn,{isHorizontal:ln,constrained:Na,angle:Ua})):(Na="both"===sn.constraintext||"inside"===sn.constraintext,Ra=toMoveInsideBar(et,rt,at,ct,Pn,{isHorizontal:ln,constrained:Na,angle:Ua,anchor:sn.insidetextanchor}));Ra.fontSize=Hn.size,it(sn.type,Ra,on),hn.transform=Ra,transition(En,on,kt,Lt).attr("transform",$e.getTextTransform(Ra))}(Ee,ze,hn,Be,ct,vn,yn,_n,Mn,kt,Lt),ze.layerClipId&&tt.hideOutsideRangePoint(rt,hn.select("text"),ar,Lr,at.xcalendar,at.ycalendar)}));var vn=!1===at.cliponaxis;tt.setClipUrl(rt,vn?null:ze.layerClipId,Ee)}));rt.getComponentMethod("errorbars","plot")(Ee,on,ze,kt)},toMoveInsideBar:toMoveInsideBar}},c7c2:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"treemap",basePlotModule:Be("b6de"),categories:[],animatable:!0,attributes:Be("97d1"),layoutAttributes:Be("3e8e"),supplyDefaults:Be("2a27"),supplyLayoutDefaults:Be("4aa8"),calc:Be("fc7b").calc,crossTraceCalc:Be("fc7b").crossTraceCalc,plot:Be("57da"),style:Be("da8c").style,colorbar:Be("f3cf"),meta:{}}},c808:function(Ee,ze,Be){Ee.exports=Be("40ce")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},c80f:function(Ee,ze,Be){"use strict";Ee.exports=Be("7a7d")},c879:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("d7f3"),$e=Be("0103"),Qe=Be("371e"),et=Be("fc26"),tt=Be("83d1"),rt=Be("3c1c"),nt=Be("765f").formatColor,at=Be("de81"),it=Be("1978"),ct=Be("50da"),ft=Be("b326"),xt=Be("72a4").DESELECTDIM,kt={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},Lt=Be("c4c7").appendArrayPointValue;function convertTextStyle(Ee,ze){var Be,We=Ee._fullLayout,$e=ze._length,Qe=ze.textfont,tt=ze.textposition,rt=Array.isArray(tt)?tt:[tt],nt=Qe.color,at=Qe.size,it=Qe.family,ct={},ft=ze.texttemplate;if(ft){ct.text=[];var xt=We._d3locale,kt=Array.isArray(ft),Ut=kt?Math.min(ft.length,$e):$e,er=kt?function(Ee){return ft[Ee]}:function(){return ft};for(Be=0;Be<Ut;Be++){var tr={i:Be},rr=ze._module.formatLabels(tr,ze,We),ar={};Lt(ar,ze,Be);var Lr=ze._meta||{};ct.text.push(et.texttemplateString(er(Be),rr,xt,ar,tr,Lr))}}else Array.isArray(ze.text)&&ze.text.length<$e?ct.text=ze.text.slice():ct.text=ze.text;if(Array.isArray(ct.text))for(Be=ct.text.length;Be<$e;Be++)ct.text[Be]="";for(ct.opacity=ze.opacity,ct.font={},ct.align=[],ct.baseline=[],Be=0;Be<rt.length;Be++){var Qr=rt[Be].split(/\s+/);switch(Qr[1]){case"left":ct.align.push("right");break;case"right":ct.align.push("left");break;default:ct.align.push(Qr[1])}switch(Qr[0]){case"top":ct.baseline.push("bottom");break;case"bottom":ct.baseline.push("top");break;default:ct.baseline.push(Qr[0])}}if(Array.isArray(nt))for(ct.color=new Array($e),Be=0;Be<$e;Be++)ct.color[Be]=nt[Be];else ct.color=nt;if(et.isArrayOrTypedArray(at)||Array.isArray(it))for(ct.font=new Array($e),Be=0;Be<$e;Be++){var on=ct.font[Be]={};on.size=et.isTypedArray(at)?at[Be]:Array.isArray(at)?Ue(at[Be])?at[Be]:0:at,on.family=Array.isArray(it)?it[Be]:it}else ct.font={size:at,family:it};return ct}function convertMarkerStyle(Ee){var ze,Be,Ue=Ee._length,We=Ee.marker,Qe={},tt=et.isArrayOrTypedArray(We.symbol),rt=et.isArrayOrTypedArray(We.color),at=et.isArrayOrTypedArray(We.line.color),ft=et.isArrayOrTypedArray(We.opacity),xt=et.isArrayOrTypedArray(We.size),kt=et.isArrayOrTypedArray(We.line.width);if(tt||(Be=ct.isOpenSymbol(We.symbol)),tt||rt||at||ft){Qe.colors=new Array(Ue),Qe.borderColors=new Array(Ue);var Lt=nt(We,We.opacity,Ue),Ut=nt(We.line,We.opacity,Ue);if(!Array.isArray(Ut[0])){var er=Ut;for(Ut=Array(Ue),ze=0;ze<Ue;ze++)Ut[ze]=er}if(!Array.isArray(Lt[0])){var tr=Lt;for(Lt=Array(Ue),ze=0;ze<Ue;ze++)Lt[ze]=tr}for(Qe.colors=Lt,Qe.borderColors=Ut,ze=0;ze<Ue;ze++){if(tt){var rr=We.symbol[ze];Be=ct.isOpenSymbol(rr)}Be&&(Ut[ze]=Lt[ze].slice(),Lt[ze]=Lt[ze].slice(),Lt[ze][3]=0)}Qe.opacity=Ee.opacity}else Be?(Qe.color=$e(We.color,"uint8"),Qe.color[3]=0,Qe.borderColor=$e(We.color,"uint8")):(Qe.color=$e(We.color,"uint8"),Qe.borderColor=$e(We.line.color,"uint8")),Qe.opacity=Ee.opacity*We.opacity;if(tt)for(Qe.markers=new Array(Ue),ze=0;ze<Ue;ze++)Qe.markers[ze]=getSymbolSdf(We.symbol[ze]);else Qe.marker=getSymbolSdf(We.symbol);var ar,Lr=it(Ee);if(xt||kt){var Qr,on=Qe.sizes=new Array(Ue),sn=Qe.borderSizes=new Array(Ue),ln=0;if(xt){for(ze=0;ze<Ue;ze++)on[ze]=Lr(We.size[ze]),ln+=on[ze];Qr=ln/Ue}else for(ar=Lr(We.size),ze=0;ze<Ue;ze++)on[ze]=ar;if(kt)for(ze=0;ze<Ue;ze++)sn[ze]=We.line.width[ze]/2;else for(ar=We.line.width/2,ze=0;ze<Ue;ze++)sn[ze]=ar;Qe.sizeAvg=Qr}else Qe.size=Lr(We&&We.size||10),Qe.borderSizes=Lr(We.line.width);return Qe}function convertMarkerSelection(Ee,ze){var Be=Ee.marker,Ue={};return ze?(ze.marker&&ze.marker.symbol?Ue=convertMarkerStyle(et.extendFlat({},Be,ze.marker)):ze.marker&&(ze.marker.size&&(Ue.size=ze.marker.size/2),ze.marker.color&&(Ue.colors=ze.marker.color),void 0!==ze.marker.opacity&&(Ue.opacity=ze.marker.opacity)),Ue):Ue}function convertTextSelection(Ee,ze,Be){var Ue={};if(!Be)return Ue;if(Be.textfont){var We={opacity:1,text:ze.text,texttemplate:ze.texttemplate,textposition:ze.textposition,textfont:et.extendFlat({},ze.textfont)};Be.textfont&&et.extendFlat(We.textfont,Be.textfont),Ue=convertTextStyle(Ee,We)}return Ue}function convertErrorBarStyle(Ee,ze){var Be={capSize:2*ze.width,lineWidth:ze.thickness,color:ze.color};return ze.copy_ystyle&&(Be=Ee.error_y),Be}var Ut=ft.SYMBOL_SDF_SIZE,er=ft.SYMBOL_SIZE,tr=ft.SYMBOL_STROKE,rr={},ar=tt.symbolFuncs[0](.05*er);function getSymbolSdf(Ee){if("circle"===Ee)return null;var ze,Be,Ue=tt.symbolNumber(Ee),$e=tt.symbolFuncs[Ue%100],Qe=!!tt.symbolNoDot[Ue%100],et=!!tt.symbolNoFill[Ue%100],rt=ct.isDotSymbol(Ee);return rr[Ee]?rr[Ee]:(ze=rt&&!Qe?$e(1.1*er)+ar:$e(er),Be=We(ze,{w:Ut,h:Ut,viewBox:[-er,-er,er,er],stroke:et?tr:-tr}),rr[Ee]=Be,Be||null)}Ee.exports={style:function convertStyle(Ee,ze){var Be,Ue={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0};if(!0!==ze.visible)return Ue;if(at.hasText(ze)&&(Ue.text=convertTextStyle(Ee,ze),Ue.textSel=convertTextSelection(Ee,ze,ze.selected),Ue.textUnsel=convertTextSelection(Ee,ze,ze.unselected)),at.hasMarkers(ze)&&(Ue.marker=convertMarkerStyle(ze),Ue.markerSel=convertMarkerSelection(ze,ze.selected),Ue.markerUnsel=convertMarkerSelection(ze,ze.unselected),!ze.unselected&&et.isArrayOrTypedArray(ze.marker.opacity))){var We=ze.marker.opacity;for(Ue.markerUnsel.opacity=new Array(We.length),Be=0;Be<We.length;Be++)Ue.markerUnsel.opacity[Be]=xt*We[Be]}if(at.hasLines(ze)){Ue.line={overlay:!0,thickness:ze.line.width,color:ze.line.color,opacity:ze.opacity};var $e=(ft.DASHES[ze.line.dash]||[1]).slice();for(Be=0;Be<$e.length;++Be)$e[Be]*=ze.line.width;Ue.line.dashes=$e}return ze.error_x&&ze.error_x.visible&&(Ue.errorX=convertErrorBarStyle(ze,ze.error_x)),ze.error_y&&ze.error_y.visible&&(Ue.errorY=convertErrorBarStyle(ze,ze.error_y)),ze.fill&&"none"!==ze.fill&&(Ue.fill={closed:!0,fill:ze.fillcolor,thickness:0}),Ue},markerStyle:convertMarkerStyle,markerSelection:convertMarkerSelection,linePositions:function convertLinePositions(Ee,ze,Be){var Ue,We,$e=Be.length,Qe=$e/2;if(at.hasLines(ze)&&Qe)if("hv"===ze.line.shape){for(Ue=[],We=0;We<Qe-1;We++)isNaN(Be[2*We])||isNaN(Be[2*We+1])?Ue.push(NaN,NaN,NaN,NaN):(Ue.push(Be[2*We],Be[2*We+1]),isNaN(Be[2*We+2])||isNaN(Be[2*We+3])?Ue.push(NaN,NaN):Ue.push(Be[2*We+2],Be[2*We+1]));Ue.push(Be[$e-2],Be[$e-1])}else if("hvh"===ze.line.shape){for(Ue=[],We=0;We<Qe-1;We++)if(isNaN(Be[2*We])||isNaN(Be[2*We+1])||isNaN(Be[2*We+2])||isNaN(Be[2*We+3]))isNaN(Be[2*We])||isNaN(Be[2*We+1])?Ue.push(NaN,NaN):Ue.push(Be[2*We],Be[2*We+1]),Ue.push(NaN,NaN);else{var et=(Be[2*We]+Be[2*We+2])/2;Ue.push(Be[2*We],Be[2*We+1],et,Be[2*We+1],et,Be[2*We+3])}Ue.push(Be[$e-2],Be[$e-1])}else if("vhv"===ze.line.shape){for(Ue=[],We=0;We<Qe-1;We++)if(isNaN(Be[2*We])||isNaN(Be[2*We+1])||isNaN(Be[2*We+2])||isNaN(Be[2*We+3]))isNaN(Be[2*We])||isNaN(Be[2*We+1])?Ue.push(NaN,NaN):Ue.push(Be[2*We],Be[2*We+1]),Ue.push(NaN,NaN);else{var tt=(Be[2*We+1]+Be[2*We+3])/2;Ue.push(Be[2*We],Be[2*We+1],Be[2*We],tt,Be[2*We+2],tt)}Ue.push(Be[$e-2],Be[$e-1])}else if("vh"===ze.line.shape){for(Ue=[],We=0;We<Qe-1;We++)isNaN(Be[2*We])||isNaN(Be[2*We+1])?Ue.push(NaN,NaN,NaN,NaN):(Ue.push(Be[2*We],Be[2*We+1]),isNaN(Be[2*We+2])||isNaN(Be[2*We+3])?Ue.push(NaN,NaN):Ue.push(Be[2*We],Be[2*We+3]));Ue.push(Be[$e-2],Be[$e-1])}else Ue=Be;var rt=!1;for(We=0;We<Ue.length;We++)if(isNaN(Ue[We])){rt=!0;break}var nt=rt||Ue.length>ft.TOO_MANY_POINTS||at.hasMarkers(ze)?"rect":"round";if(rt&&ze.connectgaps){var it=Ue[0],ct=Ue[1];for(We=0;We<Ue.length;We+=2)isNaN(Ue[We])||isNaN(Ue[We+1])?(Ue[We]=it,Ue[We+1]=ct):(it=Ue[We],ct=Ue[We+1])}return{join:nt,positions:Ue}},errorBarPositions:function convertErrorBarPositions(Ee,ze,Be,We,$e){var et=Qe.getComponentMethod("errorbars","makeComputeError"),tt=rt.getFromId(Ee,ze.xaxis),nt=rt.getFromId(Ee,ze.yaxis),at=Be.length/2,it={};function convertOneAxis(Ee,We){var $e=We._id.charAt(0),Qe=ze["error_"+$e];if(Qe&&Qe.visible&&("linear"===We.type||"log"===We.type)){for(var tt=et(Qe),rt={x:0,y:1}[$e],nt={x:[0,1,2,3],y:[2,3,0,1]}[$e],ct=new Float64Array(4*at),ft=1/0,xt=-1/0,kt=0,Lt=0;kt<at;kt++,Lt+=4){var Ut=Ee[kt];if(Ue(Ut)){var er=Be[2*kt+rt],tr=tt(Ut,kt),rr=tr[0],ar=tr[1];if(Ue(rr)&&Ue(ar)){var Lr=Ut-rr,Qr=Ut+ar;ct[Lt+nt[0]]=er-We.c2l(Lr),ct[Lt+nt[1]]=We.c2l(Qr)-er,ct[Lt+nt[2]]=0,ct[Lt+nt[3]]=0,ft=Math.min(ft,Ut-rr),xt=Math.max(xt,Ut+ar)}}}it[$e]={positions:Be,errors:ct,_bnds:[ft,xt]}}}return convertOneAxis(We,tt),convertOneAxis($e,nt),it},textPosition:function convertTextPosition(Ee,ze,Be,Ue){var We,$e=ze._length,Qe={};if(at.hasMarkers(ze)){var et=Be.font,tt=Be.align,rt=Be.baseline;for(Qe.offset=new Array($e),We=0;We<$e;We++){var nt=Ue.sizes?Ue.sizes[We]:Ue.size,it=Array.isArray(et)?et[We].size:et.size,ct=Array.isArray(tt)?tt.length>1?tt[We]:tt[0]:tt,ft=Array.isArray(rt)?rt.length>1?rt[We]:rt[0]:rt,xt=kt[ct],Lt=kt[ft],Ut=nt?nt/.8+1:0,er=-Lt*Ut-.5*Lt;Qe.offset[We]=[xt*Ut/it,er/it]}}return Qe}}},c8ac:function(Ee,ze,Be){"use strict";Ee.exports=function createRBTree(Ee){return new RedBlackTree(Ee||defaultCompare,null)};function RBNode(Ee,ze,Be,Ue,We,$e){this._color=Ee,this.key=ze,this.value=Be,this.left=Ue,this.right=We,this._count=$e}function cloneNode(Ee){return new RBNode(Ee._color,Ee.key,Ee.value,Ee.left,Ee.right,Ee._count)}function repaint(Ee,ze){return new RBNode(Ee,ze.key,ze.value,ze.left,ze.right,ze._count)}function recount(Ee){Ee._count=1+(Ee.left?Ee.left._count:0)+(Ee.right?Ee.right._count:0)}function RedBlackTree(Ee,ze){this._compare=Ee,this.root=ze}var Ue=RedBlackTree.prototype;function doVisitFull(Ee,ze){var Be;if(ze.left&&(Be=doVisitFull(Ee,ze.left)))return Be;return(Be=Ee(ze.key,ze.value))||(ze.right?doVisitFull(Ee,ze.right):void 0)}function doVisitHalf(Ee,ze,Be,Ue){if(ze(Ee,Ue.key)<=0){var We;if(Ue.left)if(We=doVisitHalf(Ee,ze,Be,Ue.left))return We;if(We=Be(Ue.key,Ue.value))return We}if(Ue.right)return doVisitHalf(Ee,ze,Be,Ue.right)}function doVisit(Ee,ze,Be,Ue,We){var $e,Qe=Be(Ee,We.key),et=Be(ze,We.key);if(Qe<=0){if(We.left&&($e=doVisit(Ee,ze,Be,Ue,We.left)))return $e;if(et>0&&($e=Ue(We.key,We.value)))return $e}if(et>0&&We.right)return doVisit(Ee,ze,Be,Ue,We.right)}function RedBlackTreeIterator(Ee,ze){this.tree=Ee,this._stack=ze}Object.defineProperty(Ue,"keys",{get:function(){var Ee=[];return this.forEach((function(ze,Be){Ee.push(ze)})),Ee}}),Object.defineProperty(Ue,"values",{get:function(){var Ee=[];return this.forEach((function(ze,Be){Ee.push(Be)})),Ee}}),Object.defineProperty(Ue,"length",{get:function(){return this.root?this.root._count:0}}),Ue.insert=function(Ee,ze){for(var Be=this._compare,Ue=this.root,We=[],$e=[];Ue;){var Qe=Be(Ee,Ue.key);We.push(Ue),$e.push(Qe),Ue=Qe<=0?Ue.left:Ue.right}We.push(new RBNode(0,Ee,ze,null,null,1));for(var et=We.length-2;et>=0;--et){Ue=We[et];$e[et]<=0?We[et]=new RBNode(Ue._color,Ue.key,Ue.value,We[et+1],Ue.right,Ue._count+1):We[et]=new RBNode(Ue._color,Ue.key,Ue.value,Ue.left,We[et+1],Ue._count+1)}for(et=We.length-1;et>1;--et){var tt=We[et-1];Ue=We[et];if(1===tt._color||1===Ue._color)break;var rt=We[et-2];if(rt.left===tt)if(tt.left===Ue){if(!(nt=rt.right)||0!==nt._color){if(rt._color=0,rt.left=tt.right,tt._color=1,tt.right=rt,We[et-2]=tt,We[et-1]=Ue,recount(rt),recount(tt),et>=3)(at=We[et-3]).left===rt?at.left=tt:at.right=tt;break}tt._color=1,rt.right=repaint(1,nt),rt._color=0,et-=1}else{if(!(nt=rt.right)||0!==nt._color){if(tt.right=Ue.left,rt._color=0,rt.left=Ue.right,Ue._color=1,Ue.left=tt,Ue.right=rt,We[et-2]=Ue,We[et-1]=tt,recount(rt),recount(tt),recount(Ue),et>=3)(at=We[et-3]).left===rt?at.left=Ue:at.right=Ue;break}tt._color=1,rt.right=repaint(1,nt),rt._color=0,et-=1}else if(tt.right===Ue){if(!(nt=rt.left)||0!==nt._color){if(rt._color=0,rt.right=tt.left,tt._color=1,tt.left=rt,We[et-2]=tt,We[et-1]=Ue,recount(rt),recount(tt),et>=3)(at=We[et-3]).right===rt?at.right=tt:at.left=tt;break}tt._color=1,rt.left=repaint(1,nt),rt._color=0,et-=1}else{var nt;if(!(nt=rt.left)||0!==nt._color){var at;if(tt.left=Ue.right,rt._color=0,rt.right=Ue.left,Ue._color=1,Ue.right=tt,Ue.left=rt,We[et-2]=Ue,We[et-1]=tt,recount(rt),recount(tt),recount(Ue),et>=3)(at=We[et-3]).right===rt?at.right=Ue:at.left=Ue;break}tt._color=1,rt.left=repaint(1,nt),rt._color=0,et-=1}}return We[0]._color=1,new RedBlackTree(Be,We[0])},Ue.forEach=function rbTreeForEach(Ee,ze,Be){if(this.root)switch(arguments.length){case 1:return doVisitFull(Ee,this.root);case 2:return doVisitHalf(ze,this._compare,Ee,this.root);case 3:if(this._compare(ze,Be)>=0)return;return doVisit(ze,Be,this._compare,Ee,this.root)}},Object.defineProperty(Ue,"begin",{get:function(){for(var Ee=[],ze=this.root;ze;)Ee.push(ze),ze=ze.left;return new RedBlackTreeIterator(this,Ee)}}),Object.defineProperty(Ue,"end",{get:function(){for(var Ee=[],ze=this.root;ze;)Ee.push(ze),ze=ze.right;return new RedBlackTreeIterator(this,Ee)}}),Ue.at=function(Ee){if(Ee<0)return new RedBlackTreeIterator(this,[]);for(var ze=this.root,Be=[];;){if(Be.push(ze),ze.left){if(Ee<ze.left._count){ze=ze.left;continue}Ee-=ze.left._count}if(!Ee)return new RedBlackTreeIterator(this,Be);if(Ee-=1,!ze.right)break;if(Ee>=ze.right._count)break;ze=ze.right}return new RedBlackTreeIterator(this,[])},Ue.ge=function(Ee){for(var ze=this._compare,Be=this.root,Ue=[],We=0;Be;){var $e=ze(Ee,Be.key);Ue.push(Be),$e<=0&&(We=Ue.length),Be=$e<=0?Be.left:Be.right}return Ue.length=We,new RedBlackTreeIterator(this,Ue)},Ue.gt=function(Ee){for(var ze=this._compare,Be=this.root,Ue=[],We=0;Be;){var $e=ze(Ee,Be.key);Ue.push(Be),$e<0&&(We=Ue.length),Be=$e<0?Be.left:Be.right}return Ue.length=We,new RedBlackTreeIterator(this,Ue)},Ue.lt=function(Ee){for(var ze=this._compare,Be=this.root,Ue=[],We=0;Be;){var $e=ze(Ee,Be.key);Ue.push(Be),$e>0&&(We=Ue.length),Be=$e<=0?Be.left:Be.right}return Ue.length=We,new RedBlackTreeIterator(this,Ue)},Ue.le=function(Ee){for(var ze=this._compare,Be=this.root,Ue=[],We=0;Be;){var $e=ze(Ee,Be.key);Ue.push(Be),$e>=0&&(We=Ue.length),Be=$e<0?Be.left:Be.right}return Ue.length=We,new RedBlackTreeIterator(this,Ue)},Ue.find=function(Ee){for(var ze=this._compare,Be=this.root,Ue=[];Be;){var We=ze(Ee,Be.key);if(Ue.push(Be),0===We)return new RedBlackTreeIterator(this,Ue);Be=We<=0?Be.left:Be.right}return new RedBlackTreeIterator(this,[])},Ue.remove=function(Ee){var ze=this.find(Ee);return ze?ze.remove():this},Ue.get=function(Ee){for(var ze=this._compare,Be=this.root;Be;){var Ue=ze(Ee,Be.key);if(0===Ue)return Be.value;Be=Ue<=0?Be.left:Be.right}};var We=RedBlackTreeIterator.prototype;function swapNode(Ee,ze){Ee.key=ze.key,Ee.value=ze.value,Ee.left=ze.left,Ee.right=ze.right,Ee._color=ze._color,Ee._count=ze._count}function defaultCompare(Ee,ze){return Ee<ze?-1:Ee>ze?1:0}Object.defineProperty(We,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(We,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),We.clone=function(){return new RedBlackTreeIterator(this.tree,this._stack.slice())},We.remove=function(){var Ee=this._stack;if(0===Ee.length)return this.tree;var ze=new Array(Ee.length),Be=Ee[Ee.length-1];ze[ze.length-1]=new RBNode(Be._color,Be.key,Be.value,Be.left,Be.right,Be._count);for(var Ue=Ee.length-2;Ue>=0;--Ue){(Be=Ee[Ue]).left===Ee[Ue+1]?ze[Ue]=new RBNode(Be._color,Be.key,Be.value,ze[Ue+1],Be.right,Be._count):ze[Ue]=new RBNode(Be._color,Be.key,Be.value,Be.left,ze[Ue+1],Be._count)}if((Be=ze[ze.length-1]).left&&Be.right){var We=ze.length;for(Be=Be.left;Be.right;)ze.push(Be),Be=Be.right;var $e=ze[We-1];ze.push(new RBNode(Be._color,$e.key,$e.value,Be.left,Be.right,Be._count)),ze[We-1].key=Be.key,ze[We-1].value=Be.value;for(Ue=ze.length-2;Ue>=We;--Ue)Be=ze[Ue],ze[Ue]=new RBNode(Be._color,Be.key,Be.value,Be.left,ze[Ue+1],Be._count);ze[We-1].left=ze[We]}if(0===(Be=ze[ze.length-1])._color){var Qe=ze[ze.length-2];Qe.left===Be?Qe.left=null:Qe.right===Be&&(Qe.right=null),ze.pop();for(Ue=0;Ue<ze.length;++Ue)ze[Ue]._count--;return new RedBlackTree(this.tree._compare,ze[0])}if(Be.left||Be.right){Be.left?swapNode(Be,Be.left):Be.right&&swapNode(Be,Be.right),Be._color=1;for(Ue=0;Ue<ze.length-1;++Ue)ze[Ue]._count--;return new RedBlackTree(this.tree._compare,ze[0])}if(1===ze.length)return new RedBlackTree(this.tree._compare,null);for(Ue=0;Ue<ze.length;++Ue)ze[Ue]._count--;var et=ze[ze.length-2];return function fixDoubleBlack(Ee){for(var ze,Be,Ue,We,$e=Ee.length-1;$e>=0;--$e){if(ze=Ee[$e],0===$e)return void(ze._color=1);if((Be=Ee[$e-1]).left===ze){if((Ue=Be.right).right&&0===Ue.right._color){if(We=(Ue=Be.right=cloneNode(Ue)).right=cloneNode(Ue.right),Be.right=Ue.left,Ue.left=Be,Ue.right=We,Ue._color=Be._color,ze._color=1,Be._color=1,We._color=1,recount(Be),recount(Ue),$e>1)(Qe=Ee[$e-2]).left===Be?Qe.left=Ue:Qe.right=Ue;return void(Ee[$e-1]=Ue)}if(Ue.left&&0===Ue.left._color){if(We=(Ue=Be.right=cloneNode(Ue)).left=cloneNode(Ue.left),Be.right=We.left,Ue.left=We.right,We.left=Be,We.right=Ue,We._color=Be._color,Be._color=1,Ue._color=1,ze._color=1,recount(Be),recount(Ue),recount(We),$e>1)(Qe=Ee[$e-2]).left===Be?Qe.left=We:Qe.right=We;return void(Ee[$e-1]=We)}if(1===Ue._color){if(0===Be._color)return Be._color=1,void(Be.right=repaint(0,Ue));Be.right=repaint(0,Ue);continue}Ue=cloneNode(Ue),Be.right=Ue.left,Ue.left=Be,Ue._color=Be._color,Be._color=0,recount(Be),recount(Ue),$e>1&&((Qe=Ee[$e-2]).left===Be?Qe.left=Ue:Qe.right=Ue),Ee[$e-1]=Ue,Ee[$e]=Be,$e+1<Ee.length?Ee[$e+1]=ze:Ee.push(ze),$e+=2}else{if((Ue=Be.left).left&&0===Ue.left._color){if(We=(Ue=Be.left=cloneNode(Ue)).left=cloneNode(Ue.left),Be.left=Ue.right,Ue.right=Be,Ue.left=We,Ue._color=Be._color,ze._color=1,Be._color=1,We._color=1,recount(Be),recount(Ue),$e>1)(Qe=Ee[$e-2]).right===Be?Qe.right=Ue:Qe.left=Ue;return void(Ee[$e-1]=Ue)}if(Ue.right&&0===Ue.right._color){if(We=(Ue=Be.left=cloneNode(Ue)).right=cloneNode(Ue.right),Be.left=We.right,Ue.right=We.left,We.right=Be,We.left=Ue,We._color=Be._color,Be._color=1,Ue._color=1,ze._color=1,recount(Be),recount(Ue),recount(We),$e>1)(Qe=Ee[$e-2]).right===Be?Qe.right=We:Qe.left=We;return void(Ee[$e-1]=We)}if(1===Ue._color){if(0===Be._color)return Be._color=1,void(Be.left=repaint(0,Ue));Be.left=repaint(0,Ue);continue}var Qe;Ue=cloneNode(Ue),Be.left=Ue.right,Ue.right=Be,Ue._color=Be._color,Be._color=0,recount(Be),recount(Ue),$e>1&&((Qe=Ee[$e-2]).right===Be?Qe.right=Ue:Qe.left=Ue),Ee[$e-1]=Ue,Ee[$e]=Be,$e+1<Ee.length?Ee[$e+1]=ze:Ee.push(ze),$e+=2}}}(ze),et.left===Be?et.left=null:et.right=null,new RedBlackTree(this.tree._compare,ze[0])},Object.defineProperty(We,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(We,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(We,"index",{get:function(){var Ee=0,ze=this._stack;if(0===ze.length){var Be=this.tree.root;return Be?Be._count:0}ze[ze.length-1].left&&(Ee=ze[ze.length-1].left._count);for(var Ue=ze.length-2;Ue>=0;--Ue)ze[Ue+1]===ze[Ue].right&&(++Ee,ze[Ue].left&&(Ee+=ze[Ue].left._count));return Ee},enumerable:!0}),We.next=function(){var Ee=this._stack;if(0!==Ee.length){var ze=Ee[Ee.length-1];if(ze.right)for(ze=ze.right;ze;)Ee.push(ze),ze=ze.left;else for(Ee.pop();Ee.length>0&&Ee[Ee.length-1].right===ze;)ze=Ee[Ee.length-1],Ee.pop()}},Object.defineProperty(We,"hasNext",{get:function(){var Ee=this._stack;if(0===Ee.length)return!1;if(Ee[Ee.length-1].right)return!0;for(var ze=Ee.length-1;ze>0;--ze)if(Ee[ze-1].left===Ee[ze])return!0;return!1}}),We.update=function(Ee){var ze=this._stack;if(0===ze.length)throw new Error("Can't update empty node!");var Be=new Array(ze.length),Ue=ze[ze.length-1];Be[Be.length-1]=new RBNode(Ue._color,Ue.key,Ee,Ue.left,Ue.right,Ue._count);for(var We=ze.length-2;We>=0;--We)(Ue=ze[We]).left===ze[We+1]?Be[We]=new RBNode(Ue._color,Ue.key,Ue.value,Be[We+1],Ue.right,Ue._count):Be[We]=new RBNode(Ue._color,Ue.key,Ue.value,Ue.left,Be[We+1],Ue._count);return new RedBlackTree(this.tree._compare,Be[0])},We.prev=function(){var Ee=this._stack;if(0!==Ee.length){var ze=Ee[Ee.length-1];if(ze.left)for(ze=ze.left;ze;)Ee.push(ze),ze=ze.right;else for(Ee.pop();Ee.length>0&&Ee[Ee.length-1].left===ze;)ze=Ee[Ee.length-1],Ee.pop()}},Object.defineProperty(We,"hasPrev",{get:function(){var Ee=this._stack;if(0===Ee.length)return!1;if(Ee[Ee.length-1].left)return!0;for(var ze=Ee.length-1;ze>0;--ze)if(Ee[ze-1].right===Ee[ze])return!0;return!1}})},c8b8:function(Ee,ze,Be){"use strict";var Ue=Be("c947");Ee.exports=function partition(Ee,ze,Be){var We,$e=Be.flipX,Qe=Be.flipY,et="dice-slice"===Be.packing,tt=Be.pad[Qe?"bottom":"top"],rt=Be.pad[$e?"right":"left"],nt=Be.pad[$e?"left":"right"],at=Be.pad[Qe?"top":"bottom"];et&&(We=rt,rt=tt,tt=We,We=nt,nt=at,at=We);var it=Ue.treemap().tile(function getTilingMethod(Ee,ze){switch(Ee){case"squarify":return Ue.treemapSquarify.ratio(ze);case"binary":return Ue.treemapBinary;case"dice":return Ue.treemapDice;case"slice":return Ue.treemapSlice;default:return Ue.treemapSliceDice}}(Be.packing,Be.squarifyratio)).paddingInner(Be.pad.inner).paddingLeft(rt).paddingRight(nt).paddingTop(tt).paddingBottom(at).size(et?[ze[1],ze[0]]:ze)(Ee);return(et||$e||Qe)&&function flipTree(Ee,ze,Be){var Ue;Be.swapXY&&(Ue=Ee.x0,Ee.x0=Ee.y0,Ee.y0=Ue,Ue=Ee.x1,Ee.x1=Ee.y1,Ee.y1=Ue);Be.flipX&&(Ue=Ee.x0,Ee.x0=ze[0]-Ee.x1,Ee.x1=ze[0]-Ue);Be.flipY&&(Ue=Ee.y0,Ee.y0=ze[1]-Ee.y1,Ee.y1=ze[1]-Ue);var We=Ee.children;if(We)for(var $e=0;$e<We.length;$e++)flipTree(We[$e],ze,Be)}(it,ze,{swapXY:et,flipX:$e,flipY:Qe}),it}},c8ba:function(Ee,ze){var Be;Be=function(){return this}();try{Be=Be||new Function("return this")()}catch(Ee){"object"==typeof window&&(Be=window)}Ee.exports=Be},c8f0:function(Ee,ze,Be){"use strict";Ee.exports=function handleStyleDefaults(Ee,ze,Be){!1===Be("zsmooth")&&(Be("xgap"),Be("ygap")),Be("zhoverformat")}},c947:function(Ee,ze,Be){"use strict";function defaultSeparation(Ee,ze){return Ee.parent===ze.parent?1:2}function meanXReduce(Ee,ze){return Ee+ze.x}function maxYReduce(Ee,ze){return Math.max(Ee,ze.y)}Be.r(ze);var cluster=function(){var Ee=defaultSeparation,ze=1,Be=1,Ue=!1;function cluster(We){var $e,Qe=0;We.eachAfter((function(ze){var Be=ze.children;Be?(ze.x=function meanX(Ee){return Ee.reduce(meanXReduce,0)/Ee.length}(Be),ze.y=function maxY(Ee){return 1+Ee.reduce(maxYReduce,0)}(Be)):(ze.x=$e?Qe+=Ee(ze,$e):0,ze.y=0,$e=ze)}));var et=function leafLeft(Ee){for(var ze;ze=Ee.children;)Ee=ze[0];return Ee}(We),tt=function leafRight(Ee){for(var ze;ze=Ee.children;)Ee=ze[ze.length-1];return Ee}(We),rt=et.x-Ee(et,tt)/2,nt=tt.x+Ee(tt,et)/2;return We.eachAfter(Ue?function(Ee){Ee.x=(Ee.x-We.x)*ze,Ee.y=(We.y-Ee.y)*Be}:function(Ee){Ee.x=(Ee.x-rt)/(nt-rt)*ze,Ee.y=(1-(We.y?Ee.y/We.y:1))*Be})}return cluster.separation=function(ze){return arguments.length?(Ee=ze,cluster):Ee},cluster.size=function(Ee){return arguments.length?(Ue=!1,ze=+Ee[0],Be=+Ee[1],cluster):Ue?null:[ze,Be]},cluster.nodeSize=function(Ee){return arguments.length?(Ue=!0,ze=+Ee[0],Be=+Ee[1],cluster):Ue?[ze,Be]:null},cluster};function count(Ee){var ze=0,Be=Ee.children,Ue=Be&&Be.length;if(Ue)for(;--Ue>=0;)ze+=Be[Ue].value;else ze=1;Ee.value=ze}function hierarchy(Ee,ze){var Be,Ue,We,$e,Qe,et=new Node(Ee),tt=+Ee.value&&(et.value=Ee.value),rt=[et];for(null==ze&&(ze=defaultChildren);Be=rt.pop();)if(tt&&(Be.value=+Be.data.value),(We=ze(Be.data))&&(Qe=We.length))for(Be.children=new Array(Qe),$e=Qe-1;$e>=0;--$e)rt.push(Ue=Be.children[$e]=new Node(We[$e])),Ue.parent=Be,Ue.depth=Be.depth+1;return et.eachBefore(computeHeight)}function defaultChildren(Ee){return Ee.children}function copyData(Ee){Ee.data=Ee.data.data}function computeHeight(Ee){var ze=0;do{Ee.height=ze}while((Ee=Ee.parent)&&Ee.height<++ze)}function Node(Ee){this.data=Ee,this.depth=this.height=0,this.parent=null}Node.prototype=hierarchy.prototype={constructor:Node,count:function(){return this.eachAfter(count)},each:function(Ee){var ze,Be,Ue,We,$e=this,Qe=[$e];do{for(ze=Qe.reverse(),Qe=[];$e=ze.pop();)if(Ee($e),Be=$e.children)for(Ue=0,We=Be.length;Ue<We;++Ue)Qe.push(Be[Ue])}while(Qe.length);return this},eachAfter:function(Ee){for(var ze,Be,Ue,We=this,$e=[We],Qe=[];We=$e.pop();)if(Qe.push(We),ze=We.children)for(Be=0,Ue=ze.length;Be<Ue;++Be)$e.push(ze[Be]);for(;We=Qe.pop();)Ee(We);return this},eachBefore:function(Ee){for(var ze,Be,Ue=this,We=[Ue];Ue=We.pop();)if(Ee(Ue),ze=Ue.children)for(Be=ze.length-1;Be>=0;--Be)We.push(ze[Be]);return this},sum:function(Ee){return this.eachAfter((function(ze){for(var Be=+Ee(ze.data)||0,Ue=ze.children,We=Ue&&Ue.length;--We>=0;)Be+=Ue[We].value;ze.value=Be}))},sort:function(Ee){return this.eachBefore((function(ze){ze.children&&ze.children.sort(Ee)}))},path:function(Ee){for(var ze=this,Be=function leastCommonAncestor(Ee,ze){if(Ee===ze)return Ee;var Be=Ee.ancestors(),Ue=ze.ancestors(),We=null;Ee=Be.pop(),ze=Ue.pop();for(;Ee===ze;)We=Ee,Ee=Be.pop(),ze=Ue.pop();return We}(ze,Ee),Ue=[ze];ze!==Be;)ze=ze.parent,Ue.push(ze);for(var We=Ue.length;Ee!==Be;)Ue.splice(We,0,Ee),Ee=Ee.parent;return Ue},ancestors:function(){for(var Ee=this,ze=[Ee];Ee=Ee.parent;)ze.push(Ee);return ze},descendants:function(){var Ee=[];return this.each((function(ze){Ee.push(ze)})),Ee},leaves:function(){var Ee=[];return this.eachBefore((function(ze){ze.children||Ee.push(ze)})),Ee},links:function(){var Ee=this,ze=[];return Ee.each((function(Be){Be!==Ee&&ze.push({source:Be.parent,target:Be})})),ze},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)}};var Ue=Array.prototype.slice;var enclose=function(Ee){for(var ze,Be,We=0,$e=(Ee=function shuffle(Ee){for(var ze,Be,Ue=Ee.length;Ue;)Be=Math.random()*Ue--|0,ze=Ee[Ue],Ee[Ue]=Ee[Be],Ee[Be]=ze;return Ee}(Ue.call(Ee))).length,Qe=[];We<$e;)ze=Ee[We],Be&&enclosesWeak(Be,ze)?++We:(Be=encloseBasis(Qe=extendBasis(Qe,ze)),We=0);return Be};function extendBasis(Ee,ze){var Be,Ue;if(enclosesWeakAll(ze,Ee))return[ze];for(Be=0;Be<Ee.length;++Be)if(enclosesNot(ze,Ee[Be])&&enclosesWeakAll(encloseBasis2(Ee[Be],ze),Ee))return[Ee[Be],ze];for(Be=0;Be<Ee.length-1;++Be)for(Ue=Be+1;Ue<Ee.length;++Ue)if(enclosesNot(encloseBasis2(Ee[Be],Ee[Ue]),ze)&&enclosesNot(encloseBasis2(Ee[Be],ze),Ee[Ue])&&enclosesNot(encloseBasis2(Ee[Ue],ze),Ee[Be])&&enclosesWeakAll(encloseBasis3(Ee[Be],Ee[Ue],ze),Ee))return[Ee[Be],Ee[Ue],ze];throw new Error}function enclosesNot(Ee,ze){var Be=Ee.r-ze.r,Ue=ze.x-Ee.x,We=ze.y-Ee.y;return Be<0||Be*Be<Ue*Ue+We*We}function enclosesWeak(Ee,ze){var Be=Ee.r-ze.r+1e-6,Ue=ze.x-Ee.x,We=ze.y-Ee.y;return Be>0&&Be*Be>Ue*Ue+We*We}function enclosesWeakAll(Ee,ze){for(var Be=0;Be<ze.length;++Be)if(!enclosesWeak(Ee,ze[Be]))return!1;return!0}function encloseBasis(Ee){switch(Ee.length){case 1:return function encloseBasis1(Ee){return{x:Ee.x,y:Ee.y,r:Ee.r}}(Ee[0]);case 2:return encloseBasis2(Ee[0],Ee[1]);case 3:return encloseBasis3(Ee[0],Ee[1],Ee[2])}}function encloseBasis2(Ee,ze){var Be=Ee.x,Ue=Ee.y,We=Ee.r,$e=ze.x,Qe=ze.y,et=ze.r,tt=$e-Be,rt=Qe-Ue,nt=et-We,at=Math.sqrt(tt*tt+rt*rt);return{x:(Be+$e+tt/at*nt)/2,y:(Ue+Qe+rt/at*nt)/2,r:(at+We+et)/2}}function encloseBasis3(Ee,ze,Be){var Ue=Ee.x,We=Ee.y,$e=Ee.r,Qe=ze.x,et=ze.y,tt=ze.r,rt=Be.x,nt=Be.y,at=Be.r,it=Ue-Qe,ct=Ue-rt,ft=We-et,xt=We-nt,kt=tt-$e,Lt=at-$e,Ut=Ue*Ue+We*We-$e*$e,er=Ut-Qe*Qe-et*et+tt*tt,tr=Ut-rt*rt-nt*nt+at*at,rr=ct*ft-it*xt,ar=(ft*tr-xt*er)/(2*rr)-Ue,Lr=(xt*kt-ft*Lt)/rr,Qr=(ct*er-it*tr)/(2*rr)-We,on=(it*Lt-ct*kt)/rr,sn=Lr*Lr+on*on-1,ln=2*($e+ar*Lr+Qr*on),cn=ar*ar+Qr*Qr-$e*$e,un=-(sn?(ln+Math.sqrt(ln*ln-4*sn*cn))/(2*sn):cn/ln);return{x:Ue+ar+Lr*un,y:We+Qr+on*un,r:un}}function place(Ee,ze,Be){var Ue,We,$e,Qe,et=Ee.x-ze.x,tt=Ee.y-ze.y,rt=et*et+tt*tt;rt?(We=ze.r+Be.r,We*=We,Qe=Ee.r+Be.r,We>(Qe*=Qe)?(Ue=(rt+Qe-We)/(2*rt),$e=Math.sqrt(Math.max(0,Qe/rt-Ue*Ue)),Be.x=Ee.x-Ue*et-$e*tt,Be.y=Ee.y-Ue*tt+$e*et):(Ue=(rt+We-Qe)/(2*rt),$e=Math.sqrt(Math.max(0,We/rt-Ue*Ue)),Be.x=ze.x+Ue*et-$e*tt,Be.y=ze.y+Ue*tt+$e*et)):(Be.x=ze.x+Be.r,Be.y=ze.y)}function intersects(Ee,ze){var Be=Ee.r+ze.r-1e-6,Ue=ze.x-Ee.x,We=ze.y-Ee.y;return Be>0&&Be*Be>Ue*Ue+We*We}function score(Ee){var ze=Ee._,Be=Ee.next._,Ue=ze.r+Be.r,We=(ze.x*Be.r+Be.x*ze.r)/Ue,$e=(ze.y*Be.r+Be.y*ze.r)/Ue;return We*We+$e*$e}function siblings_Node(Ee){this._=Ee,this.next=null,this.previous=null}function packEnclose(Ee){if(!(We=Ee.length))return 0;var ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at;if((ze=Ee[0]).x=0,ze.y=0,!(We>1))return ze.r;if(Be=Ee[1],ze.x=-Be.r,Be.x=ze.r,Be.y=0,!(We>2))return ze.r+Be.r;place(Be,ze,Ue=Ee[2]),ze=new siblings_Node(ze),Be=new siblings_Node(Be),Ue=new siblings_Node(Ue),ze.next=Ue.previous=Be,Be.next=ze.previous=Ue,Ue.next=Be.previous=ze;e:for(et=3;et<We;++et){place(ze._,Be._,Ue=Ee[et]),Ue=new siblings_Node(Ue),tt=Be.next,rt=ze.previous,nt=Be._.r,at=ze._.r;do{if(nt<=at){if(intersects(tt._,Ue._)){Be=tt,ze.next=Be,Be.previous=ze,--et;continue e}nt+=tt._.r,tt=tt.next}else{if(intersects(rt._,Ue._)){(ze=rt).next=Be,Be.previous=ze,--et;continue e}at+=rt._.r,rt=rt.previous}}while(tt!==rt.next);for(Ue.previous=ze,Ue.next=Be,ze.next=Be.previous=Be=Ue,$e=score(ze);(Ue=Ue.next)!==Be;)(Qe=score(Ue))<$e&&(ze=Ue,$e=Qe);Be=ze.next}for(ze=[Be._],Ue=Be;(Ue=Ue.next)!==Be;)ze.push(Ue._);for(Ue=enclose(ze),et=0;et<We;++et)(ze=Ee[et]).x-=Ue.x,ze.y-=Ue.y;return Ue.r}var siblings=function(Ee){return packEnclose(Ee),Ee};function optional(Ee){return null==Ee?null:required(Ee)}function required(Ee){if("function"!=typeof Ee)throw new Error;return Ee}function constantZero(){return 0}var constant=function(Ee){return function(){return Ee}};function defaultRadius(Ee){return Math.sqrt(Ee.value)}var src_pack=function(){var Ee=null,ze=1,Be=1,Ue=constantZero;function pack(We){return We.x=ze/2,We.y=Be/2,Ee?We.eachBefore(radiusLeaf(Ee)).eachAfter(packChildren(Ue,.5)).eachBefore(translateChild(1)):We.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(Ue,We.r/Math.min(ze,Be))).eachBefore(translateChild(Math.min(ze,Be)/(2*We.r))),We}return pack.radius=function(ze){return arguments.length?(Ee=optional(ze),pack):Ee},pack.size=function(Ee){return arguments.length?(ze=+Ee[0],Be=+Ee[1],pack):[ze,Be]},pack.padding=function(Ee){return arguments.length?(Ue="function"==typeof Ee?Ee:constant(+Ee),pack):Ue},pack};function radiusLeaf(Ee){return function(ze){ze.children||(ze.r=Math.max(0,+Ee(ze)||0))}}function packChildren(Ee,ze){return function(Be){if(Ue=Be.children){var Ue,We,$e,Qe=Ue.length,et=Ee(Be)*ze||0;if(et)for(We=0;We<Qe;++We)Ue[We].r+=et;if($e=packEnclose(Ue),et)for(We=0;We<Qe;++We)Ue[We].r-=et;Be.r=$e+et}}}function translateChild(Ee){return function(ze){var Be=ze.parent;ze.r*=Ee,Be&&(ze.x=Be.x+Ee*ze.x,ze.y=Be.y+Ee*ze.y)}}var treemap_round=function(Ee){Ee.x0=Math.round(Ee.x0),Ee.y0=Math.round(Ee.y0),Ee.x1=Math.round(Ee.x1),Ee.y1=Math.round(Ee.y1)},dice=function(Ee,ze,Be,Ue,We){for(var $e,Qe=Ee.children,et=-1,tt=Qe.length,rt=Ee.value&&(Ue-ze)/Ee.value;++et<tt;)($e=Qe[et]).y0=Be,$e.y1=We,$e.x0=ze,$e.x1=ze+=$e.value*rt},src_partition=function(){var Ee=1,ze=1,Be=0,Ue=!1;function partition(We){var $e=We.height+1;return We.x0=We.y0=Be,We.x1=Ee,We.y1=ze/$e,We.eachBefore(function positionNode(Ee,ze){return function(Ue){Ue.children&&dice(Ue,Ue.x0,Ee*(Ue.depth+1)/ze,Ue.x1,Ee*(Ue.depth+2)/ze);var We=Ue.x0,$e=Ue.y0,Qe=Ue.x1-Be,et=Ue.y1-Be;Qe<We&&(We=Qe=(We+Qe)/2),et<$e&&($e=et=($e+et)/2),Ue.x0=We,Ue.y0=$e,Ue.x1=Qe,Ue.y1=et}}(ze,$e)),Ue&&We.eachBefore(treemap_round),We}return partition.round=function(Ee){return arguments.length?(Ue=!!Ee,partition):Ue},partition.size=function(Be){return arguments.length?(Ee=+Be[0],ze=+Be[1],partition):[Ee,ze]},partition.padding=function(Ee){return arguments.length?(Be=+Ee,partition):Be},partition},We={depth:-1},$e={};function defaultId(Ee){return Ee.id}function defaultParentId(Ee){return Ee.parentId}var src_stratify=function(){var Ee=defaultId,ze=defaultParentId;function stratify(Be){var Ue,Qe,et,tt,rt,nt,at,it=Be.length,ct=new Array(it),ft={};for(Qe=0;Qe<it;++Qe)Ue=Be[Qe],rt=ct[Qe]=new Node(Ue),null!=(nt=Ee(Ue,Qe,Be))&&(nt+="")&&(ft[at="$"+(rt.id=nt)]=at in ft?$e:rt);for(Qe=0;Qe<it;++Qe)if(rt=ct[Qe],null!=(nt=ze(Be[Qe],Qe,Be))&&(nt+="")){if(!(tt=ft["$"+nt]))throw new Error("missing: "+nt);if(tt===$e)throw new Error("ambiguous: "+nt);tt.children?tt.children.push(rt):tt.children=[rt],rt.parent=tt}else{if(et)throw new Error("multiple roots");et=rt}if(!et)throw new Error("no root");if(et.parent=We,et.eachBefore((function(Ee){Ee.depth=Ee.parent.depth+1,--it})).eachBefore(computeHeight),et.parent=null,it>0)throw new Error("cycle");return et}return stratify.id=function(ze){return arguments.length?(Ee=required(ze),stratify):Ee},stratify.parentId=function(Ee){return arguments.length?(ze=required(Ee),stratify):ze},stratify};function tree_defaultSeparation(Ee,ze){return Ee.parent===ze.parent?1:2}function nextLeft(Ee){var ze=Ee.children;return ze?ze[0]:Ee.t}function nextRight(Ee){var ze=Ee.children;return ze?ze[ze.length-1]:Ee.t}function moveSubtree(Ee,ze,Be){var Ue=Be/(ze.i-Ee.i);ze.c-=Ue,ze.s+=Be,Ee.c+=Ue,ze.z+=Be,ze.m+=Be}function nextAncestor(Ee,ze,Be){return Ee.a.parent===ze.parent?Ee.a:Be}function TreeNode(Ee,ze){this._=Ee,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ze}TreeNode.prototype=Object.create(Node.prototype);var tree=function(){var Ee=tree_defaultSeparation,ze=1,Be=1,Ue=null;function tree(We){var $e=function treeRoot(Ee){for(var ze,Be,Ue,We,$e,Qe=new TreeNode(Ee,0),et=[Qe];ze=et.pop();)if(Ue=ze._.children)for(ze.children=new Array($e=Ue.length),We=$e-1;We>=0;--We)et.push(Be=ze.children[We]=new TreeNode(Ue[We],We)),Be.parent=ze;return(Qe.parent=new TreeNode(null,0)).children=[Qe],Qe}(We);if($e.eachAfter(firstWalk),$e.parent.m=-$e.z,$e.eachBefore(secondWalk),Ue)We.eachBefore(sizeNode);else{var Qe=We,et=We,tt=We;We.eachBefore((function(Ee){Ee.x<Qe.x&&(Qe=Ee),Ee.x>et.x&&(et=Ee),Ee.depth>tt.depth&&(tt=Ee)}));var rt=Qe===et?1:Ee(Qe,et)/2,nt=rt-Qe.x,at=ze/(et.x+rt+nt),it=Be/(tt.depth||1);We.eachBefore((function(Ee){Ee.x=(Ee.x+nt)*at,Ee.y=Ee.depth*it}))}return We}function firstWalk(ze){var Be=ze.children,Ue=ze.parent.children,We=ze.i?Ue[ze.i-1]:null;if(Be){!function executeShifts(Ee){for(var ze,Be=0,Ue=0,We=Ee.children,$e=We.length;--$e>=0;)(ze=We[$e]).z+=Be,ze.m+=Be,Be+=ze.s+(Ue+=ze.c)}(ze);var $e=(Be[0].z+Be[Be.length-1].z)/2;We?(ze.z=We.z+Ee(ze._,We._),ze.m=ze.z-$e):ze.z=$e}else We&&(ze.z=We.z+Ee(ze._,We._));ze.parent.A=function apportion(ze,Be,Ue){if(Be){for(var We,$e=ze,Qe=ze,et=Be,tt=$e.parent.children[0],rt=$e.m,nt=Qe.m,at=et.m,it=tt.m;et=nextRight(et),$e=nextLeft($e),et&&$e;)tt=nextLeft(tt),(Qe=nextRight(Qe)).a=ze,(We=et.z+at-$e.z-rt+Ee(et._,$e._))>0&&(moveSubtree(nextAncestor(et,ze,Ue),ze,We),rt+=We,nt+=We),at+=et.m,rt+=$e.m,it+=tt.m,nt+=Qe.m;et&&!nextRight(Qe)&&(Qe.t=et,Qe.m+=at-nt),$e&&!nextLeft(tt)&&(tt.t=$e,tt.m+=rt-it,Ue=ze)}return Ue}(ze,We,ze.parent.A||Ue[0])}function secondWalk(Ee){Ee._.x=Ee.z+Ee.parent.m,Ee.m+=Ee.parent.m}function sizeNode(Ee){Ee.x*=ze,Ee.y=Ee.depth*Be}return tree.separation=function(ze){return arguments.length?(Ee=ze,tree):Ee},tree.size=function(Ee){return arguments.length?(Ue=!1,ze=+Ee[0],Be=+Ee[1],tree):Ue?null:[ze,Be]},tree.nodeSize=function(Ee){return arguments.length?(Ue=!0,ze=+Ee[0],Be=+Ee[1],tree):Ue?[ze,Be]:null},tree},treemap_slice=function(Ee,ze,Be,Ue,We){for(var $e,Qe=Ee.children,et=-1,tt=Qe.length,rt=Ee.value&&(We-Be)/Ee.value;++et<tt;)($e=Qe[et]).x0=ze,$e.x1=Ue,$e.y0=Be,$e.y1=Be+=$e.value*rt},Qe=(1+Math.sqrt(5))/2;function squarifyRatio(Ee,ze,Be,Ue,We,$e){for(var Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt=[],Ut=ze.children,er=0,tr=0,rr=Ut.length,ar=ze.value;er<rr;){tt=We-Be,rt=$e-Ue;do{nt=Ut[tr++].value}while(!nt&&tr<rr);for(at=it=nt,kt=nt*nt*(xt=Math.max(rt/tt,tt/rt)/(ar*Ee)),ft=Math.max(it/kt,kt/at);tr<rr;++tr){if(nt+=et=Ut[tr].value,et<at&&(at=et),et>it&&(it=et),kt=nt*nt*xt,(ct=Math.max(it/kt,kt/at))>ft){nt-=et;break}ft=ct}Lt.push(Qe={value:nt,dice:tt<rt,children:Ut.slice(er,tr)}),Qe.dice?dice(Qe,Be,Ue,We,ar?Ue+=rt*nt/ar:$e):treemap_slice(Qe,Be,Ue,ar?Be+=tt*nt/ar:We,$e),ar-=nt,er=tr}return Lt}var et=function custom(Ee){function squarify(ze,Be,Ue,We,$e){squarifyRatio(Ee,ze,Be,Ue,We,$e)}return squarify.ratio=function(Ee){return custom((Ee=+Ee)>1?Ee:1)},squarify}(Qe),src_treemap=function(){var Ee=et,ze=!1,Be=1,Ue=1,We=[0],$e=constantZero,Qe=constantZero,tt=constantZero,rt=constantZero,nt=constantZero;function treemap(Ee){return Ee.x0=Ee.y0=0,Ee.x1=Be,Ee.y1=Ue,Ee.eachBefore(positionNode),We=[0],ze&&Ee.eachBefore(treemap_round),Ee}function positionNode(ze){var Be=We[ze.depth],Ue=ze.x0+Be,et=ze.y0+Be,at=ze.x1-Be,it=ze.y1-Be;at<Ue&&(Ue=at=(Ue+at)/2),it<et&&(et=it=(et+it)/2),ze.x0=Ue,ze.y0=et,ze.x1=at,ze.y1=it,ze.children&&(Be=We[ze.depth+1]=$e(ze)/2,Ue+=nt(ze)-Be,et+=Qe(ze)-Be,(at-=tt(ze)-Be)<Ue&&(Ue=at=(Ue+at)/2),(it-=rt(ze)-Be)<et&&(et=it=(et+it)/2),Ee(ze,Ue,et,at,it))}return treemap.round=function(Ee){return arguments.length?(ze=!!Ee,treemap):ze},treemap.size=function(Ee){return arguments.length?(Be=+Ee[0],Ue=+Ee[1],treemap):[Be,Ue]},treemap.tile=function(ze){return arguments.length?(Ee=required(ze),treemap):Ee},treemap.padding=function(Ee){return arguments.length?treemap.paddingInner(Ee).paddingOuter(Ee):treemap.paddingInner()},treemap.paddingInner=function(Ee){return arguments.length?($e="function"==typeof Ee?Ee:constant(+Ee),treemap):$e},treemap.paddingOuter=function(Ee){return arguments.length?treemap.paddingTop(Ee).paddingRight(Ee).paddingBottom(Ee).paddingLeft(Ee):treemap.paddingTop()},treemap.paddingTop=function(Ee){return arguments.length?(Qe="function"==typeof Ee?Ee:constant(+Ee),treemap):Qe},treemap.paddingRight=function(Ee){return arguments.length?(tt="function"==typeof Ee?Ee:constant(+Ee),treemap):tt},treemap.paddingBottom=function(Ee){return arguments.length?(rt="function"==typeof Ee?Ee:constant(+Ee),treemap):rt},treemap.paddingLeft=function(Ee){return arguments.length?(nt="function"==typeof Ee?Ee:constant(+Ee),treemap):nt},treemap},binary=function(Ee,ze,Be,Ue,We){var $e,Qe,et=Ee.children,tt=et.length,rt=new Array(tt+1);for(rt[0]=Qe=$e=0;$e<tt;++$e)rt[$e+1]=Qe+=et[$e].value;!function partition(Ee,ze,Be,Ue,We,$e,Qe){if(Ee>=ze-1){var tt=et[Ee];return tt.x0=Ue,tt.y0=We,tt.x1=$e,void(tt.y1=Qe)}var nt=rt[Ee],at=Be/2+nt,it=Ee+1,ct=ze-1;for(;it<ct;){var ft=it+ct>>>1;rt[ft]<at?it=ft+1:ct=ft}at-rt[it-1]<rt[it]-at&&Ee+1<it&&--it;var xt=rt[it]-nt,kt=Be-xt;if($e-Ue>Qe-We){var Lt=(Ue*kt+$e*xt)/Be;partition(Ee,it,xt,Ue,We,Lt,Qe),partition(it,ze,kt,Lt,We,$e,Qe)}else{var Ut=(We*kt+Qe*xt)/Be;partition(Ee,it,xt,Ue,We,$e,Ut),partition(it,ze,kt,Ue,Ut,$e,Qe)}}(0,tt,Ee.value,ze,Be,Ue,We)},sliceDice=function(Ee,ze,Be,Ue,We){(1&Ee.depth?treemap_slice:dice)(Ee,ze,Be,Ue,We)},tt=function custom(Ee){function resquarify(ze,Be,Ue,We,$e){if((Qe=ze._squarify)&&Qe.ratio===Ee)for(var Qe,et,tt,rt,nt,at=-1,it=Qe.length,ct=ze.value;++at<it;){for(tt=(et=Qe[at]).children,rt=et.value=0,nt=tt.length;rt<nt;++rt)et.value+=tt[rt].value;et.dice?dice(et,Be,Ue,We,Ue+=($e-Ue)*et.value/ct):treemap_slice(et,Be,Ue,Be+=(We-Be)*et.value/ct,$e),ct-=et.value}else ze._squarify=Qe=squarifyRatio(Ee,ze,Be,Ue,We,$e),Qe.ratio=Ee}return resquarify.ratio=function(Ee){return custom((Ee=+Ee)>1?Ee:1)},resquarify}(Qe);Be.d(ze,"cluster",(function(){return cluster})),Be.d(ze,"hierarchy",(function(){return hierarchy})),Be.d(ze,"pack",(function(){return src_pack})),Be.d(ze,"packSiblings",(function(){return siblings})),Be.d(ze,"packEnclose",(function(){return enclose})),Be.d(ze,"partition",(function(){return src_partition})),Be.d(ze,"stratify",(function(){return src_stratify})),Be.d(ze,"tree",(function(){return tree})),Be.d(ze,"treemap",(function(){return src_treemap})),Be.d(ze,"treemapBinary",(function(){return binary})),Be.d(ze,"treemapDice",(function(){return dice})),Be.d(ze,"treemapSlice",(function(){return treemap_slice})),Be.d(ze,"treemapSliceDice",(function(){return sliceDice})),Be.d(ze,"treemapSquarify",(function(){return et})),Be.d(ze,"treemapResquarify",(function(){return tt}))},c953:function(Ee,ze,Be){"use strict";var Ue=Be("0f37"),We="data-savedcursor";Ee.exports=function overrideCursor(Ee,ze){var Be=Ee.attr(We);if(ze){if(!Be){for(var $e=(Ee.attr("class")||"").split(" "),Qe=0;Qe<$e.length;Qe++){var et=$e[Qe];0===et.indexOf("cursor-")&&Ee.attr(We,et.substr(7)).classed(et,!1)}Ee.attr(We)||Ee.attr(We,"!!")}Ue(Ee,ze)}else Be&&(Ee.attr(We,null),"!!"===Be?Ue(Ee):Ue(Ee,Be))}},c997:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze){var Be,Ue=Ee[0],We=Ue.z;switch(ze.type){case"levels":var $e=Math.min(We[0][0],We[0][1]);for(Be=0;Be<Ee.length;Be++){var Qe=Ee[Be];Qe.prefixBoundary=!Qe.edgepaths.length&&($e>Qe.level||Qe.starts.length&&$e===Qe.level)}break;case"constraint":if(Ue.prefixBoundary=!1,Ue.edgepaths.length)return;var et=Ue.x.length,tt=Ue.y.length,rt=-1/0,nt=1/0;for(Be=0;Be<tt;Be++)nt=Math.min(nt,We[Be][0]),nt=Math.min(nt,We[Be][et-1]),rt=Math.max(rt,We[Be][0]),rt=Math.max(rt,We[Be][et-1]);for(Be=1;Be<et-1;Be++)nt=Math.min(nt,We[0][Be]),nt=Math.min(nt,We[tt-1][Be]),rt=Math.max(rt,We[0][Be]),rt=Math.max(rt,We[tt-1][Be]);var at,it,ct=ze.value;switch(ze._operation){case">":ct>rt&&(Ue.prefixBoundary=!0);break;case"<":(ct<nt||Ue.starts.length&&ct===nt)&&(Ue.prefixBoundary=!0);break;case"[]":at=Math.min(ct[0],ct[1]),((it=Math.max(ct[0],ct[1]))<nt||at>rt||Ue.starts.length&&it===nt)&&(Ue.prefixBoundary=!0);break;case"][":at=Math.min(ct[0],ct[1]),it=Math.max(ct[0],ct[1]),at<nt&&it>rt&&(Ue.prefixBoundary=!0)}}}},c99f:function(Ee,ze,Be){"use strict";var Ue=Be("fb5a"),We=Be("107c").line,$e=Be("a876"),Qe=Be("94d5").hovertemplateAttrs,et=Be("94d5").texttemplateAttrs,tt=Be("b205c"),rt=Be("9092").extendFlat,nt=Be("d115");Ee.exports={x:Ue.x,x0:Ue.x0,dx:Ue.dx,y:Ue.y,y0:Ue.y0,dy:Ue.dy,hovertext:Ue.hovertext,hovertemplate:Qe({},{keys:tt.eventDataKeys}),hoverinfo:rt({},$e.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:et({editType:"plot"},{keys:tt.eventDataKeys.concat(["label","value"])}),text:Ue.text,textposition:rt({},Ue.textposition,{dflt:"auto"}),insidetextanchor:rt({},Ue.insidetextanchor,{dflt:"middle"}),textangle:rt({},Ue.textangle,{dflt:0}),textfont:Ue.textfont,insidetextfont:Ue.insidetextfont,outsidetextfont:Ue.outsidetextfont,constraintext:Ue.constraintext,cliponaxis:Ue.cliponaxis,orientation:rt({},Ue.orientation,{}),offset:rt({},Ue.offset,{arrayOk:!1}),width:rt({},Ue.width,{arrayOk:!1}),marker:Ue.marker,connector:{fillcolor:{valType:"color",editType:"style"},line:{color:rt({},We.color,{dflt:nt.defaultLine}),width:rt({},We.width,{dflt:0,editType:"plot"}),dash:We.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:Ue.offsetgroup,alignmentgroup:Ue.alignmentgroup}},c9bc:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26");Ee.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:Be("14b6")}}},layoutAttributes:Be("14b6"),handleDefaults:Be("c4f4"),includeBasePlot:function includeGL3D(Ee,ze){var Be=Ue.subplotsRegistry.gl3d;if(!Be)return;for(var $e=Be.attrRegex,Qe=Object.keys(Ee),et=0;et<Qe.length;et++){var tt=Qe[et];$e.test(tt)&&(Ee[tt].annotations||[]).length&&(We.pushUnique(ze._basePlotModules,Be),We.pushUnique(ze._subplots.gl3d,tt))}},convert:Be("de22"),draw:Be("f422")}},c9ce:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("f604"),$e=Be("a5c4"),Qe=Be("d115"),et=Be("fc26"),tt=Be("05d6").cn,rt=et._;function renderableValuePresent(Ee){return""!==Ee}function ownTrace(Ee,ze){return Ee.filter((function(Ee){return Ee.key===ze.traceId}))}function makeTranslucent(Ee,ze){Ue.select(Ee).select("path").style("fill-opacity",ze),Ue.select(Ee).select("rect").style("fill-opacity",ze)}function makeTextContrasty(Ee){Ue.select(Ee).select("text.name").style("fill","black")}function relatedLinks(Ee){return function(ze){return-1!==Ee.node.sourceLinks.indexOf(ze.link)||-1!==Ee.node.targetLinks.indexOf(ze.link)}}function relatedNodes(Ee){return function(ze){return-1!==ze.node.sourceLinks.indexOf(Ee.link)||-1!==ze.node.targetLinks.indexOf(Ee.link)}}function nodeHoveredStyle(Ee,ze,Be){ze&&Be&&ownTrace(Be,ze).selectAll("."+tt.sankeyLink).filter(relatedLinks(ze)).call(linkHoveredStyle.bind(0,ze,Be,!1))}function nodeNonHoveredStyle(Ee,ze,Be){ze&&Be&&ownTrace(Be,ze).selectAll("."+tt.sankeyLink).filter(relatedLinks(ze)).call(linkNonHoveredStyle.bind(0,ze,Be,!1))}function linkHoveredStyle(Ee,ze,Be,Ue){var We=Ue.datum().link.label;Ue.style("fill-opacity",(function(Ee){if(!Ee.link.concentrationscale)return.4})),We&&ownTrace(ze,Ee).selectAll("."+tt.sankeyLink).filter((function(Ee){return Ee.link.label===We})).style("fill-opacity",(function(Ee){if(!Ee.link.concentrationscale)return.4})),Be&&ownTrace(ze,Ee).selectAll("."+tt.sankeyNode).filter(relatedNodes(Ee)).call(nodeHoveredStyle)}function linkNonHoveredStyle(Ee,ze,Be,Ue){var We=Ue.datum().link.label;Ue.style("fill-opacity",(function(Ee){return Ee.tinyColorAlpha})),We&&ownTrace(ze,Ee).selectAll("."+tt.sankeyLink).filter((function(Ee){return Ee.link.label===We})).style("fill-opacity",(function(Ee){return Ee.tinyColorAlpha})),Be&&ownTrace(ze,Ee).selectAll(tt.sankeyNode).filter(relatedNodes(Ee)).call(nodeNonHoveredStyle)}function castHoverOption(Ee,ze){var Be=Ee.hoverlabel||{},Ue=et.nestedProperty(Be,ze).get();return!Array.isArray(Ue)&&Ue}Ee.exports=function plot(Ee,ze){for(var Be=Ee._fullLayout,et=Be._paper,nt=Be._size,at=0;at<Ee._fullData.length;at++)if(Ee._fullData[at].visible&&Ee._fullData[at].type===tt.sankey&&!Ee._fullData[at]._viewInitial){var it=Ee._fullData[at].node;Ee._fullData[at]._viewInitial={node:{groups:it.groups.slice(),x:it.x.slice(),y:it.y.slice()}}}var ct=rt(Ee,"source:")+" ",ft=rt(Ee,"target:")+" ",xt=rt(Ee,"concentration:")+" ",kt=rt(Ee,"incoming flow count:")+" ",Lt=rt(Ee,"outgoing flow count:")+" ";We(Ee,et,ze,{width:nt.w,height:nt.h,margin:{t:nt.t,r:nt.r,b:nt.b,l:nt.l}},{linkEvents:{hover:function(ze,Be,We){!1!==Ee._fullLayout.hovermode&&(Ue.select(ze).call(linkHoveredStyle.bind(0,Be,We,!0)),"skip"!==Be.link.trace.link.hoverinfo&&(Be.link.fullData=Be.link.trace,Ee.emit("plotly_hover",{event:Ue.event,points:[Be.link]})))},follow:function(ze,We){if(!1!==Ee._fullLayout.hovermode){var et=We.link.trace.link;if("none"!==et.hoverinfo&&"skip"!==et.hoverinfo){for(var tt=[],rt=0,nt=0;nt<We.flow.links.length;nt++){var at=We.flow.links[nt];if("closest"!==Ee._fullLayout.hovermode||We.link.pointNumber===at.pointNumber){We.link.pointNumber===at.pointNumber&&(rt=nt),at.fullData=at.trace,et=We.link.trace.link;var it=hoverCenterPosition(at),kt={valueLabel:Ue.format(We.valueFormat)(at.value)+We.valueSuffix};tt.push({x:it[0],y:it[1],name:kt.valueLabel,text:[at.label||"",ct+at.source.label,ft+at.target.label,at.concentrationscale?xt+Ue.format("%0.2f")(at.flow.labelConcentration):""].filter(renderableValuePresent).join("<br>"),color:castHoverOption(et,"bgcolor")||Qe.addOpacity(at.color,1),borderColor:castHoverOption(et,"bordercolor"),fontFamily:castHoverOption(et,"font.family"),fontSize:castHoverOption(et,"font.size"),fontColor:castHoverOption(et,"font.color"),nameLength:castHoverOption(et,"namelength"),textAlign:castHoverOption(et,"align"),idealAlign:Ue.event.x<it[0]?"right":"left",hovertemplate:et.hovertemplate,hovertemplateLabels:kt,eventData:[at]})}}$e.loneHover(tt,{container:Be._hoverlayer.node(),outerContainer:Be._paper.node(),gd:Ee,anchorIndex:rt}).each((function(){We.link.concentrationscale||makeTranslucent(this,.65),makeTextContrasty(this)}))}}function hoverCenterPosition(Ee){var ze,Be;Ee.circular?(ze=(Ee.circularPathData.leftInnerExtent+Ee.circularPathData.rightInnerExtent)/2,Be=Ee.circularPathData.verticalFullExtent):(ze=(Ee.source.x1+Ee.target.x0)/2,Be=(Ee.y0+Ee.y1)/2);var Ue=[ze,Be];return"v"===Ee.trace.orientation&&Ue.reverse(),Ue[0]+=We.parent.translateX,Ue[1]+=We.parent.translateY,Ue}},unhover:function(ze,We,Qe){!1!==Ee._fullLayout.hovermode&&(Ue.select(ze).call(linkNonHoveredStyle.bind(0,We,Qe,!0)),"skip"!==We.link.trace.link.hoverinfo&&(We.link.fullData=We.link.trace,Ee.emit("plotly_unhover",{event:Ue.event,points:[We.link]})),$e.loneUnhover(Be._hoverlayer.node()))},select:function(ze,Be){var We=Be.link;We.originalEvent=Ue.event,Ee._hoverdata=[We],$e.click(Ee,{target:!0})}},nodeEvents:{hover:function(ze,Be,We){!1!==Ee._fullLayout.hovermode&&(Ue.select(ze).call(nodeHoveredStyle,Be,We),"skip"!==Be.node.trace.node.hoverinfo&&(Be.node.fullData=Be.node.trace,Ee.emit("plotly_hover",{event:Ue.event,points:[Be.node]})))},follow:function(ze,We){if(!1!==Ee._fullLayout.hovermode){var Qe=We.node.trace.node;if("none"!==Qe.hoverinfo&&"skip"!==Qe.hoverinfo){var et=Ue.select(ze).select("."+tt.nodeRect),rt=Ee._fullLayout._paperdiv.node().getBoundingClientRect(),nt=et.node().getBoundingClientRect(),at=nt.left-2-rt.left,it=nt.right+2-rt.left,ct=nt.top+nt.height/4-rt.top,ft={valueLabel:Ue.format(We.valueFormat)(We.node.value)+We.valueSuffix};We.node.fullData=We.node.trace;var xt=$e.loneHover({x0:at,x1:it,y:ct,name:Ue.format(We.valueFormat)(We.node.value)+We.valueSuffix,text:[We.node.label,kt+We.node.targetLinks.length,Lt+We.node.sourceLinks.length].filter(renderableValuePresent).join("<br>"),color:castHoverOption(Qe,"bgcolor")||We.tinyColorHue,borderColor:castHoverOption(Qe,"bordercolor"),fontFamily:castHoverOption(Qe,"font.family"),fontSize:castHoverOption(Qe,"font.size"),fontColor:castHoverOption(Qe,"font.color"),nameLength:castHoverOption(Qe,"namelength"),textAlign:castHoverOption(Qe,"align"),idealAlign:"left",hovertemplate:Qe.hovertemplate,hovertemplateLabels:ft,eventData:[We.node]},{container:Be._hoverlayer.node(),outerContainer:Be._paper.node(),gd:Ee});makeTranslucent(xt,.85),makeTextContrasty(xt)}}},unhover:function(ze,We,Qe){!1!==Ee._fullLayout.hovermode&&(Ue.select(ze).call(nodeNonHoveredStyle,We,Qe),"skip"!==We.node.trace.node.hoverinfo&&(We.node.fullData=We.node.trace,Ee.emit("plotly_unhover",{event:Ue.event,points:[We.node]})),$e.loneUnhover(Be._hoverlayer.node()))},select:function(ze,Be,We){var Qe=Be.node;Qe.originalEvent=Ue.event,Ee._hoverdata=[Qe],Ue.select(ze).call(nodeNonHoveredStyle,Be,We),$e.click(Ee,{target:!0})}}})}},c9eb:function(Ee,ze,Be){var Ue=Be("e98f");ze.pointVertex=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),ze.pointFragment=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),ze.pickVertex=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),ze.pickFragment=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},ca23:function(Ee,ze,Be){"use strict";Ee.exports=function monotoneConvexHull2D(Ee){var ze=Ee.length;if(ze<3){for(var Be=new Array(ze),We=0;We<ze;++We)Be[We]=We;return 2===ze&&Ee[0][0]===Ee[1][0]&&Ee[0][1]===Ee[1][1]?[0]:Be}var $e=new Array(ze);for(We=0;We<ze;++We)$e[We]=We;$e.sort((function(ze,Be){var Ue=Ee[ze][0]-Ee[Be][0];return Ue||Ee[ze][1]-Ee[Be][1]}));var Qe=[$e[0],$e[1]],et=[$e[0],$e[1]];for(We=2;We<ze;++We){for(var tt=$e[We],rt=Ee[tt],nt=Qe.length;nt>1&&Ue(Ee[Qe[nt-2]],Ee[Qe[nt-1]],rt)<=0;)nt-=1,Qe.pop();for(Qe.push(tt),nt=et.length;nt>1&&Ue(Ee[et[nt-2]],Ee[et[nt-1]],rt)>=0;)nt-=1,et.pop();et.push(tt)}Be=new Array(et.length+Qe.length-2);for(var at=0,it=(We=0,Qe.length);We<it;++We)Be[at++]=Qe[We];for(var ct=et.length-2;ct>0;--ct)Be[at++]=et[ct];return Be};var Ue=Be("92ba")[3]},ca39:function(Ee,ze,Be){"use strict";Ee.exports=function convexHullnD(Ee,ze){try{return Ue(Ee,!0)}catch(Qe){var Be=We(Ee);if(Be.length<=ze)return[];var $e=function permute(Ee,ze){for(var Be=Ee.length,Ue=new Array(Be),We=0;We<ze.length;++We)Ue[We]=Ee[ze[We]];var $e=ze.length;for(We=0;We<Be;++We)ze.indexOf(We)<0&&(Ue[$e++]=Ee[We]);return Ue}(Ee,Be);return function invPermute(Ee,ze){for(var Be=Ee.length,Ue=ze.length,We=0;We<Be;++We)for(var $e=Ee[We],Qe=0;Qe<$e.length;++Qe){var et=$e[Qe];if(et<Ue)$e[Qe]=ze[et];else{et-=Ue;for(var tt=0;tt<Ue;++tt)et>=ze[tt]&&(et+=1);$e[Qe]=et}}return Ee}(Ue($e,!0),Be)}};var Ue=Be("0000"),We=Be("7899")},ca67:function(Ee,ze,Be){"use strict";var Ue=Be("4248"),We={getDelay:Ue.getDelay,getRedrawFunc:Ue.getRedrawFunc,clone:Be("d18e"),toSVG:Be("cb04"),svgToImg:Be("4ebd"),toImage:Be("ee92"),downloadImage:Be("ad91")};Ee.exports=We},ca84:function(Ee,ze,Be){var Ue=Be("5135"),We=Be("fc6a"),$e=Be("4d64").indexOf,Qe=Be("d012");Ee.exports=function(Ee,ze){var Be,et=We(Ee),tt=0,rt=[];for(Be in et)!Ue(Qe,Be)&&Ue(et,Be)&&rt.push(Be);for(;ze.length>tt;)Ue(et,Be=ze[tt++])&&(~$e(rt,Be)||rt.push(Be));return rt}},ca92:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("fa10"),Qe=Be("0681");Ee.exports=function hoverPoints(Ee,ze,Be,et,tt){var rt,nt,at=Ee.cd,it=at[0].trace,ct=it.hoveron,ft=-1!==ct.indexOf("violins"),xt=-1!==ct.indexOf("kde"),kt=[];if(ft||xt){var Lt=$e.hoverOnBoxes(Ee,ze,Be,et);if(xt&&Lt.length>0){var Ut,er,tr,rr,ar,Lr=Ee.xa,Qr=Ee.ya;"h"===it.orientation?(ar=ze,Ut="y",tr=Qr,er="x",rr=Lr):(ar=Be,Ut="x",tr=Lr,er="y",rr=Qr);var on=at[Ee.index];if(ar>=on.span[0]&&ar<=on.span[1]){var sn=Ue.extendFlat({},Ee),ln=rr.c2p(ar,!0),cn=Qe.getKdeValue(on,it,ar),un=Qe.getPositionOnKdePath(on,it,ln),hn=tr._offset,dn=tr._length;sn[Ut+"0"]=un[0],sn[Ut+"1"]=un[1],sn[er+"0"]=sn[er+"1"]=ln,sn[er+"Label"]=er+": "+We.hoverLabelText(rr,ar)+", "+at[0].t.labels.kde+" "+cn.toFixed(3),sn.spikeDistance=Lt[0].spikeDistance;var vn=Ut+"Spike";sn[vn]=Lt[0][vn],Lt[0].spikeDistance=void 0,Lt[0][vn]=void 0,sn.hovertemplate=!1,kt.push(sn),(nt={stroke:Ee.color})[Ut+"1"]=Ue.constrain(hn+un[0],hn,hn+dn),nt[Ut+"2"]=Ue.constrain(hn+un[1],hn,hn+dn),nt[er+"1"]=nt[er+"2"]=rr._offset+ln}}ft&&(kt=kt.concat(Lt))}-1!==ct.indexOf("points")&&(rt=$e.hoverOnPoints(Ee,ze,Be));var yn=tt.selectAll(".violinline-"+it.uid).data(nt?[0]:[]);return yn.enter().append("line").classed("violinline-"+it.uid,!0).attr("stroke-width",1.5),yn.exit().remove(),yn.attr(nt),"closest"===et?rt?[rt]:kt:rt?(kt.push(rt),kt):kt}},cac1:function(Ee,ze,Be){Ee.exports=Be("615d")},caf7:function(Ee,ze,Be){"use strict";var Ue=Be("551a"),We=Be("765f").parseColorScale,$e=Be("f977"),Qe=Be("c258").extractOpts,et=Be("569b"),findNearestOnAxis=function(Ee,ze){for(var Be=ze.length-1;Be>0;Be--){var Ue=Math.min(ze[Be],ze[Be-1]),We=Math.max(ze[Be],ze[Be-1]);if(We>Ue&&Ue<Ee&&Ee<=We)return{id:Be,distRatio:(We-Ee)/(We-Ue)}}return{id:0,distRatio:0}};function IsosurfaceTrace(Ee,ze,Be){this.scene=Ee,this.uid=Be,this.mesh=ze,this.name="",this.data=null,this.showContour=!1}var tt=IsosurfaceTrace.prototype;tt.handlePick=function(Ee){if(Ee.object===this.mesh){var ze=Ee.data.index,Be=this.data._meshX[ze],Ue=this.data._meshY[ze],We=this.data._meshZ[ze],$e=this.data._Ys.length,Qe=this.data._Zs.length,et=findNearestOnAxis(Be,this.data._Xs).id,tt=findNearestOnAxis(Ue,this.data._Ys).id,rt=findNearestOnAxis(We,this.data._Zs).id,nt=Ee.index=rt+Qe*tt+Qe*$e*et;Ee.traceCoordinate=[this.data._meshX[nt],this.data._meshY[nt],this.data._meshZ[nt],this.data._value[nt]];var at=this.data.hovertext||this.data.text;return Array.isArray(at)&&void 0!==at[nt]?Ee.textLabel=at[nt]:at&&(Ee.textLabel=at),!0}},tt.update=function(Ee){var ze=this.scene,Be=ze.fullSceneLayout;function toDataCoords(Ee,ze,Be,Ue){return ze.map((function(ze){return Ee.d2l(ze,0,Ue)*Be}))}this.data=generateIsoMeshes(Ee);var Ue={positions:et(toDataCoords(Be.xaxis,Ee._meshX,ze.dataScale[0],Ee.xcalendar),toDataCoords(Be.yaxis,Ee._meshY,ze.dataScale[1],Ee.ycalendar),toDataCoords(Be.zaxis,Ee._meshZ,ze.dataScale[2],Ee.zcalendar)),cells:et(Ee._meshI,Ee._meshJ,Ee._meshK),lightPosition:[Ee.lightposition.x,Ee.lightposition.y,Ee.lightposition.z],ambient:Ee.lighting.ambient,diffuse:Ee.lighting.diffuse,specular:Ee.lighting.specular,roughness:Ee.lighting.roughness,fresnel:Ee.lighting.fresnel,vertexNormalsEpsilon:Ee.lighting.vertexnormalsepsilon,faceNormalsEpsilon:Ee.lighting.facenormalsepsilon,opacity:Ee.opacity,contourEnable:Ee.contour.show,contourColor:$e(Ee.contour.color).slice(0,3),contourWidth:Ee.contour.width,useFacetNormals:Ee.flatshading},tt=Qe(Ee);Ue.vertexIntensity=Ee._meshIntensity,Ue.vertexIntensityBounds=[tt.min,tt.max],Ue.colormap=We(Ee),this.mesh.update(Ue)},tt.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var rt=["xyz","xzy","yxz","yzx","zxy","zyx"];function generateIsoMeshes(Ee){Ee._meshI=[],Ee._meshJ=[],Ee._meshK=[];var ze,Be,Ue,We,$e,Qe,et,tt=Ee.surface.show,nt=Ee.spaceframe.show,at=Ee.surface.fill,it=Ee.spaceframe.fill,ct=!1,ft=!1,xt=0,kt=Ee._Xs,Lt=Ee._Ys,Ut=Ee._Zs,er=kt.length,tr=Lt.length,rr=Ut.length,ar=rt.indexOf(Ee._gridFill.replace(/-/g,"").replace(/\+/g,"")),getIndex=function(Ee,ze,Be){switch(ar){case 5:return Be+rr*ze+rr*tr*Ee;case 4:return Be+rr*Ee+rr*er*ze;case 3:return ze+tr*Be+tr*rr*Ee;case 2:return ze+tr*Ee+tr*er*Be;case 1:return Ee+er*Be+er*rr*ze;default:return Ee+er*ze+er*tr*Be}},Lr=Ee._minValues,Qr=Ee._maxValues,on=Ee._vMin,sn=Ee._vMax;function findVertexId(Ee,ze,et){for(var tt=Qe.length,rt=Be;rt<tt;rt++)if(Ee===Ue[rt]&&ze===We[rt]&&et===$e[rt])return rt;return-1}function beginGroup(){Be=ze}function emptyVertices(){Ue=[],We=[],$e=[],Qe=[],ze=0,beginGroup()}function addVertex(Ee,Be,et,tt){return Ue.push(Ee),We.push(Be),$e.push(et),Qe.push(tt),++ze-1}function getBetween(Ee,ze,Be){for(var Ue=[],We=0;We<Ee.length;We++)Ue[We]=Ee[We]*(1-Be)+Be*ze[We];return Ue}function setFill(Ee){et=Ee}function styleIncludes(Ee,ze){return"all"===Ee||null===Ee||Ee.indexOf(ze)>-1}function mapValue(Ee,ze){return null===Ee?ze:Ee}function drawTri(ze,Be,Ue){beginGroup();var We,$e,Qe,tt=[Be],rt=[Ue];if(et>=1)tt=[Be],rt=[Ue];else if(et>0){var nt=function createOpenTri(Ee,ze){var Be=Ee[0],Ue=Ee[1],We=Ee[2],$e=function getCenter(Ee,ze,Be){for(var Ue=[],We=0;We<Ee.length;We++)Ue[We]=(Ee[We]+ze[We]+Be[We])/3;return Ue}(Be,Ue,We),Qe=Math.sqrt(1-et),tt=getBetween($e,Be,Qe),rt=getBetween($e,Ue,Qe),nt=getBetween($e,We,Qe),at=ze[0],it=ze[1],ct=ze[2];return{xyzv:[[Be,Ue,rt],[rt,tt,Be],[Ue,We,nt],[nt,rt,Ue],[We,Be,tt],[tt,nt,We]],abc:[[at,it,-1],[-1,-1,at],[it,ct,-1],[-1,-1,it],[ct,at,-1],[-1,-1,ct]]}}(Be,Ue);tt=nt.xyzv,rt=nt.abc}for(var at=0;at<tt.length;at++){Be=tt[at],Ue=rt[at];for(var it=[],ct=0;ct<3;ct++){var ft=Be[ct][0],kt=Be[ct][1],Lt=Be[ct][2],Ut=Be[ct][3],er=Ue[ct]>-1?Ue[ct]:findVertexId(ft,kt,Lt);it[ct]=er>-1?er:addVertex(ft,kt,Lt,mapValue(ze,Ut))}We=it[0],$e=it[1],Qe=it[2],Ee._meshI.push(We),Ee._meshJ.push($e),Ee._meshK.push(Qe),++xt}}function calcIntersection(Ee,ze,Be,Ue){var We=Ee[3];We<Be&&(We=Be),We>Ue&&(We=Ue);for(var $e=(Ee[3]-We)/(Ee[3]-ze[3]+1e-9),Qe=[],et=0;et<4;et++)Qe[et]=(1-$e)*Ee[et]+$e*ze[et];return Qe}function inRange(Ee,ze,Be){return Ee>=ze&&Ee<=Be}function almostInFinalRange(Ee){var ze=.001*(sn-on);return Ee>=on-ze&&Ee<=sn+ze}function getXYZV(ze){for(var Be=[],Ue=0;Ue<4;Ue++){var We=ze[Ue];Be.push([Ee._x[We],Ee._y[We],Ee._z[We],Ee._value[We]])}return Be}function tryCreateTri(Ee,ze,Be,Ue,We,$e){$e||($e=1),Be=[-1,-1,-1];var Qe=!1,et=[inRange(ze[0][3],Ue,We),inRange(ze[1][3],Ue,We),inRange(ze[2][3],Ue,We)];if(!et[0]&&!et[1]&&!et[2])return!1;var tryDrawTri=function(Ee,ze,Be){return almostInFinalRange(ze[0][3])&&almostInFinalRange(ze[1][3])&&almostInFinalRange(ze[2][3])?(drawTri(Ee,ze,Be),!0):$e<3&&tryCreateTri(Ee,ze,Be,on,sn,++$e)};if(et[0]&&et[1]&&et[2])return tryDrawTri(Ee,ze,Be)||Qe;var tt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach((function($e){if(et[$e[0]]&&et[$e[1]]&&!et[$e[2]]){var rt=ze[$e[0]],nt=ze[$e[1]],at=ze[$e[2]],it=calcIntersection(at,rt,Ue,We),ct=calcIntersection(at,nt,Ue,We);Qe=tryDrawTri(Ee,[ct,it,rt],[-1,-1,Be[$e[0]]])||Qe,Qe=tryDrawTri(Ee,[rt,nt,ct],[Be[$e[0]],Be[$e[1]],-1])||Qe,tt=!0}})),tt||[[0,1,2],[1,2,0],[2,0,1]].forEach((function($e){if(et[$e[0]]&&!et[$e[1]]&&!et[$e[2]]){var rt=ze[$e[0]],nt=ze[$e[1]],at=ze[$e[2]],it=calcIntersection(nt,rt,Ue,We),ct=calcIntersection(at,rt,Ue,We);Qe=tryDrawTri(Ee,[ct,it,rt],[-1,-1,Be[$e[0]]])||Qe,tt=!0}})),Qe}function tryCreateTetra(Ee,ze,Be,Ue){var We=!1,$e=getXYZV(ze),Qe=[inRange($e[0][3],Be,Ue),inRange($e[1][3],Be,Ue),inRange($e[2][3],Be,Ue),inRange($e[3][3],Be,Ue)];if(!(Qe[0]||Qe[1]||Qe[2]||Qe[3]))return We;if(Qe[0]&&Qe[1]&&Qe[2]&&Qe[3])return ft&&(We=function drawTetra(Ee,ze,Be){var makeTri=function(Ue,We,$e){drawTri(Ee,[ze[Ue],ze[We],ze[$e]],[Be[Ue],Be[We],Be[$e]])};makeTri(0,1,2),makeTri(3,0,1),makeTri(2,3,0),makeTri(1,2,3)}(Ee,$e,ze)||We),We;var et=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach((function(tt){if(Qe[tt[0]]&&Qe[tt[1]]&&Qe[tt[2]]&&!Qe[tt[3]]){var rt=$e[tt[0]],nt=$e[tt[1]],at=$e[tt[2]],it=$e[tt[3]];if(ft)We=drawTri(Ee,[rt,nt,at],[ze[tt[0]],ze[tt[1]],ze[tt[2]]])||We;else{var ct=calcIntersection(it,rt,Be,Ue),xt=calcIntersection(it,nt,Be,Ue),kt=calcIntersection(it,at,Be,Ue);We=drawTri(null,[ct,xt,kt],[-1,-1,-1])||We}et=!0}})),et?We:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach((function(tt){if(Qe[tt[0]]&&Qe[tt[1]]&&!Qe[tt[2]]&&!Qe[tt[3]]){var rt=$e[tt[0]],nt=$e[tt[1]],at=$e[tt[2]],it=$e[tt[3]],ct=calcIntersection(at,rt,Be,Ue),xt=calcIntersection(at,nt,Be,Ue),kt=calcIntersection(it,nt,Be,Ue),Lt=calcIntersection(it,rt,Be,Ue);ft?(We=drawTri(Ee,[rt,Lt,ct],[ze[tt[0]],-1,-1])||We,We=drawTri(Ee,[nt,xt,kt],[ze[tt[1]],-1,-1])||We):We=function drawQuad(Ee,ze,Be){var makeTri=function(Ue,We,$e){drawTri(Ee,[ze[Ue],ze[We],ze[$e]],[Be[Ue],Be[We],Be[$e]])};makeTri(0,1,2),makeTri(2,3,0)}(null,[ct,xt,kt,Lt],[-1,-1,-1,-1])||We,et=!0}})),et||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach((function(tt){if(Qe[tt[0]]&&!Qe[tt[1]]&&!Qe[tt[2]]&&!Qe[tt[3]]){var rt=$e[tt[0]],nt=$e[tt[1]],at=$e[tt[2]],it=$e[tt[3]],ct=calcIntersection(nt,rt,Be,Ue),xt=calcIntersection(at,rt,Be,Ue),kt=calcIntersection(it,rt,Be,Ue);ft?(We=drawTri(Ee,[rt,ct,xt],[ze[tt[0]],-1,-1])||We,We=drawTri(Ee,[rt,xt,kt],[ze[tt[0]],-1,-1])||We,We=drawTri(Ee,[rt,kt,ct],[ze[tt[0]],-1,-1])||We):We=drawTri(null,[ct,xt,kt],[-1,-1,-1])||We,et=!0}})),We)}function addCube(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at=!1;return ct&&(styleIncludes(Ee,"A")&&(at=tryCreateTetra(null,[ze,Be,Ue,$e],rt,nt)||at),styleIncludes(Ee,"B")&&(at=tryCreateTetra(null,[Be,Ue,We,tt],rt,nt)||at),styleIncludes(Ee,"C")&&(at=tryCreateTetra(null,[Be,$e,Qe,tt],rt,nt)||at),styleIncludes(Ee,"D")&&(at=tryCreateTetra(null,[Ue,$e,et,tt],rt,nt)||at),styleIncludes(Ee,"E")&&(at=tryCreateTetra(null,[Be,Ue,$e,tt],rt,nt)||at)),ft&&(at=tryCreateTetra(Ee,[Be,Ue,$e,tt],rt,nt)||at),at}function addRect(Ee,ze,Be,Ue,We,$e,Qe,et){return[!0===et[0]||tryCreateTri(Ee,getXYZV([ze,Be,Ue]),[ze,Be,Ue],$e,Qe),!0===et[1]||tryCreateTri(Ee,getXYZV([Ue,We,ze]),[Ue,We,ze],$e,Qe)]}function begin2dCell(Ee,ze,Be,Ue,We,$e,Qe,et,tt){return et?addRect(Ee,ze,Be,We,Ue,$e,Qe,tt):addRect(Ee,Be,We,Ue,ze,$e,Qe,tt)}function beginSection(Ee,ze,Be,Ue,We,$e,Qe){var et,tt,rt,nt,at=!1,makeSection=function(){at=tryCreateTri(Ee,[et,tt,rt],[-1,-1,-1],We,$e)||at,at=tryCreateTri(Ee,[rt,nt,et],[-1,-1,-1],We,$e)||at},it=Qe[0],ct=Qe[1],ft=Qe[2];return it&&(et=getBetween(getXYZV([getIndex(ze,Be-0,Ue-0)])[0],getXYZV([getIndex(ze-1,Be-0,Ue-0)])[0],it),tt=getBetween(getXYZV([getIndex(ze,Be-0,Ue-1)])[0],getXYZV([getIndex(ze-1,Be-0,Ue-1)])[0],it),rt=getBetween(getXYZV([getIndex(ze,Be-1,Ue-1)])[0],getXYZV([getIndex(ze-1,Be-1,Ue-1)])[0],it),nt=getBetween(getXYZV([getIndex(ze,Be-1,Ue-0)])[0],getXYZV([getIndex(ze-1,Be-1,Ue-0)])[0],it),makeSection()),ct&&(et=getBetween(getXYZV([getIndex(ze-0,Be,Ue-0)])[0],getXYZV([getIndex(ze-0,Be-1,Ue-0)])[0],ct),tt=getBetween(getXYZV([getIndex(ze-0,Be,Ue-1)])[0],getXYZV([getIndex(ze-0,Be-1,Ue-1)])[0],ct),rt=getBetween(getXYZV([getIndex(ze-1,Be,Ue-1)])[0],getXYZV([getIndex(ze-1,Be-1,Ue-1)])[0],ct),nt=getBetween(getXYZV([getIndex(ze-1,Be,Ue-0)])[0],getXYZV([getIndex(ze-1,Be-1,Ue-0)])[0],ct),makeSection()),ft&&(et=getBetween(getXYZV([getIndex(ze-0,Be-0,Ue)])[0],getXYZV([getIndex(ze-0,Be-0,Ue-1)])[0],ft),tt=getBetween(getXYZV([getIndex(ze-0,Be-1,Ue)])[0],getXYZV([getIndex(ze-0,Be-1,Ue-1)])[0],ft),rt=getBetween(getXYZV([getIndex(ze-1,Be-1,Ue)])[0],getXYZV([getIndex(ze-1,Be-1,Ue-1)])[0],ft),nt=getBetween(getXYZV([getIndex(ze-1,Be-0,Ue)])[0],getXYZV([getIndex(ze-1,Be-0,Ue-1)])[0],ft),makeSection()),at}function begin3dCell(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at){var it=Ee;return at?(ct&&"even"===Ee&&(it=null),addCube(it,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt)):(ct&&"odd"===Ee&&(it=null),addCube(it,tt,et,Qe,$e,We,Ue,Be,ze,rt,nt))}function draw2dX(Ee,ze,Be,Ue,We){for(var $e=[],Qe=0,et=0;et<ze.length;et++)for(var tt=ze[et],rt=1;rt<rr;rt++)for(var nt=1;nt<tr;nt++)$e.push(begin2dCell(Ee,getIndex(tt,nt-1,rt-1),getIndex(tt,nt-1,rt),getIndex(tt,nt,rt-1),getIndex(tt,nt,rt),Be,Ue,(tt+nt+rt)%2,We&&We[Qe]?We[Qe]:[])),Qe++;return $e}function draw2dY(Ee,ze,Be,Ue,We){for(var $e=[],Qe=0,et=0;et<ze.length;et++)for(var tt=ze[et],rt=1;rt<er;rt++)for(var nt=1;nt<rr;nt++)$e.push(begin2dCell(Ee,getIndex(rt-1,tt,nt-1),getIndex(rt,tt,nt-1),getIndex(rt-1,tt,nt),getIndex(rt,tt,nt),Be,Ue,(rt+tt+nt)%2,We&&We[Qe]?We[Qe]:[])),Qe++;return $e}function draw2dZ(Ee,ze,Be,Ue,We){for(var $e=[],Qe=0,et=0;et<ze.length;et++)for(var tt=ze[et],rt=1;rt<tr;rt++)for(var nt=1;nt<er;nt++)$e.push(begin2dCell(Ee,getIndex(nt-1,rt-1,tt),getIndex(nt-1,rt,tt),getIndex(nt,rt-1,tt),getIndex(nt,rt,tt),Be,Ue,(nt+rt+tt)%2,We&&We[Qe]?We[Qe]:[])),Qe++;return $e}function draw3d(Ee,ze,Be){for(var Ue=1;Ue<rr;Ue++)for(var We=1;We<tr;We++)for(var $e=1;$e<er;$e++)begin3dCell(Ee,getIndex($e-1,We-1,Ue-1),getIndex($e-1,We-1,Ue),getIndex($e-1,We,Ue-1),getIndex($e-1,We,Ue),getIndex($e,We-1,Ue-1),getIndex($e,We-1,Ue),getIndex($e,We,Ue-1),getIndex($e,We,Ue),ze,Be,($e+We+Ue)%2)}function drawSectionX(Ee,ze,Be,Ue,We,$e){for(var Qe=[],et=0,tt=0;tt<ze.length;tt++)for(var rt=ze[tt],nt=1;nt<rr;nt++)for(var at=1;at<tr;at++)Qe.push(beginSection(Ee,rt,at,nt,Be,Ue,We[tt],$e&&$e[et]&&$e[et])),et++;return Qe}function drawSectionY(Ee,ze,Be,Ue,We,$e){for(var Qe=[],et=0,tt=0;tt<ze.length;tt++)for(var rt=ze[tt],nt=1;nt<er;nt++)for(var at=1;at<rr;at++)Qe.push(beginSection(Ee,nt,rt,at,Be,Ue,We[tt],$e&&$e[et]&&$e[et])),et++;return Qe}function drawSectionZ(Ee,ze,Be,Ue,We,$e){for(var Qe=[],et=0,tt=0;tt<ze.length;tt++)for(var rt=ze[tt],nt=1;nt<tr;nt++)for(var at=1;at<er;at++)Qe.push(beginSection(Ee,at,nt,rt,Be,Ue,We[tt],$e&&$e[et]&&$e[et])),et++;return Qe}function createRange(Ee,ze){for(var Be=[],Ue=Ee;Ue<ze;Ue++)Be.push(Ue);return Be}return function drawAll(){if(emptyVertices(),function insertGridPoints(){for(var ze=0;ze<er;ze++)for(var Be=0;Be<tr;Be++)for(var Ue=0;Ue<rr;Ue++){var We=getIndex(ze,Be,Ue);addVertex(Ee._x[We],Ee._y[We],Ee._z[We],Ee._value[We])}}(),nt&&it&&(setFill(it),function drawSpaceframe(Ee,ze,Be){ft=!0,draw3d(Ee,ze,Be),ft=!1}(null,on,sn)),tt&&at){setFill(at);for(var ze=Ee.surface.pattern,Be=Ee.surface.count,et=0;et<Be;et++){var rt=1===Be?.5:et/(Be-1),ar=(1-rt)*on+rt*sn,ln=Math.abs(ar-Lr)>Math.abs(ar-Qr)?[Lr,ar]:[ar,Qr];ct=!0,draw3d(ze,ln[0],ln[1]),ct=!1}}var cn=[[Math.min(on,Qr),Math.max(on,Qr)],[Math.min(Lr,sn),Math.max(Lr,sn)]];["x","y","z"].forEach((function(ze){for(var Be=[],Ue=0;Ue<cn.length;Ue++){var We=0,$e=cn[Ue][0],Qe=cn[Ue][1],et=Ee.slices[ze];if(et.show&&et.fill){setFill(et.fill);var tt=[],rt=[],nt=[];if(et.locations.length)for(var at=0;at<et.locations.length;at++){var it=findNearestOnAxis(et.locations[at],"x"===ze?kt:"y"===ze?Lt:Ut);0===it.distRatio?tt.push(it.id):it.id>0&&(rt.push(it.id),"x"===ze?nt.push([it.distRatio,0,0]):"y"===ze?nt.push([0,it.distRatio,0]):nt.push([0,0,it.distRatio]))}else tt=createRange(1,"x"===ze?er-1:"y"===ze?tr-1:rr-1);rt.length>0&&(Be[We]="x"===ze?drawSectionX(null,rt,$e,Qe,nt,Be[We]):"y"===ze?drawSectionY(null,rt,$e,Qe,nt,Be[We]):drawSectionZ(null,rt,$e,Qe,nt,Be[We]),We++),tt.length>0&&(Be[We]="x"===ze?draw2dX(null,tt,$e,Qe,Be[We]):"y"===ze?draw2dY(null,tt,$e,Qe,Be[We]):draw2dZ(null,tt,$e,Qe,Be[We]),We++)}var ct=Ee.caps[ze];ct.show&&ct.fill&&(setFill(ct.fill),Be[We]="x"===ze?draw2dX(null,[0,er-1],$e,Qe,Be[We]):"y"===ze?draw2dY(null,[0,tr-1],$e,Qe,Be[We]):draw2dZ(null,[0,rr-1],$e,Qe,Be[We]),We++)}})),0===xt&&emptyVertices(),Ee._meshX=Ue,Ee._meshY=We,Ee._meshZ=$e,Ee._meshIntensity=Qe,Ee._Xs=kt,Ee._Ys=Lt,Ee._Zs=Ut}(),Ee}Ee.exports={findNearestOnAxis:findNearestOnAxis,generateIsoMeshes:generateIsoMeshes,createIsosurfaceTrace:function createIsosurfaceTrace(Ee,ze){var Be=Ee.glplot.gl,We=Ue({gl:Be}),$e=new IsosurfaceTrace(Ee,We,ze.uid);return We._trace=$e,$e.update(ze),Ee.glplot.add(We),$e}}},caff:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("1c1c").handleGroupingDefaults,$e=Be("1c1c").handleText,Qe=Be("076f"),et=Be("c99f"),tt=Be("d115");Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,We){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}if(Qe(Ee,ze,We,coerce)){coerce("orientation",ze.y&&!ze.x?"v":"h"),coerce("offset"),coerce("width");var rt=coerce("text");coerce("hovertext"),coerce("hovertemplate");var nt=coerce("textposition");$e(Ee,ze,We,coerce,nt,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===ze.textposition||ze.texttemplate||coerce("textinfo",Array.isArray(rt)?"text+value":"value");var at=coerce("marker.color",Be);if(coerce("marker.line.color",tt.defaultLine),coerce("marker.line.width"),coerce("connector.visible"))coerce("connector.fillcolor",function defaultFillColor(Ee){var ze=Ue.isArrayOrTypedArray(Ee)?"#000":Ee;return tt.addOpacity(ze,.5*tt.opacity(ze))}(at)),coerce("connector.line.width")&&(coerce("connector.line.color"),coerce("connector.line.dash"))}else ze.visible=!1},crossTraceDefaults:function crossTraceDefaults(Ee,ze){var Be,$e;function coerce(Ee){return Ue.coerce($e._input,$e,et,Ee)}if("group"===ze.funnelmode)for(var Qe=0;Qe<Ee.length;Qe++)Be=($e=Ee[Qe])._input,We(Be,$e,ze,coerce)}}},cb04:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1"),Qe=Be("d115"),et=Be("73c9"),tt=/"/g,rt=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");Ee.exports=function toSVG(Ee,ze,Be){var nt,at=Ee._fullLayout,it=at._paper,ct=at._toppaper,ft=at.width,xt=at.height;it.insert("rect",":first-child").call($e.setRect,0,0,ft,xt).call(Qe.fill,at.paper_bgcolor);var kt=at._basePlotModules||[];for(nt=0;nt<kt.length;nt++){var Lt=kt[nt];Lt.toSVG&&Lt.toSVG(Ee)}if(ct){var Ut=ct.node().childNodes,er=Array.prototype.slice.call(Ut);for(nt=0;nt<er.length;nt++){var tr=er[nt];tr.childNodes.length&&it.node().appendChild(tr)}}if(at._draggers&&at._draggers.remove(),it.node().style.background="",it.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var Ee=Ue.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){Ee.style({visibility:null,display:null});var ze=this.style.fontFamily;ze&&-1!==ze.indexOf('"')&&Ee.style("font-family",ze.replace(tt,"TOBESTRIPPED"))}else Ee.remove()})),at._gradientUrlQueryParts){var rr=[];for(var ar in at._gradientUrlQueryParts)rr.push(ar);rr.length&&it.selectAll(rr.join(",")).each((function(){var Ee=Ue.select(this),ze=this.style.fill;ze&&-1!==ze.indexOf("url(")&&Ee.style("fill",ze.replace(tt,"TOBESTRIPPED"));var Be=this.style.stroke;Be&&-1!==Be.indexOf("url(")&&Ee.style("stroke",Be.replace(tt,"TOBESTRIPPED"))}))}"pdf"!==ze&&"eps"!==ze||it.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),it.node().setAttributeNS(et.xmlns,"xmlns",et.svg),it.node().setAttributeNS(et.xmlns,"xmlns:xlink",et.xlink),"svg"===ze&&Be&&(it.attr("width",Be*ft),it.attr("height",Be*xt),it.attr("viewBox","0 0 "+ft+" "+xt));var Lr=(new window.XMLSerializer).serializeToString(it.node());return Lr=(Lr=function xmlEntityEncode(Ee){return Ee.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(Lr=function htmlEntityDecode(Ee){var ze=Ue.select("body").append("div").style({display:"none"}).html(""),Be=Ee.replace(/(&[^;]*;)/gi,(function(Ee){return"&lt;"===Ee?"&#60;":"&rt;"===Ee?"&#62;":-1!==Ee.indexOf("<")||-1!==Ee.indexOf(">")?"":ze.html(Ee).text()}));return ze.remove(),Be}(Lr))).replace(rt,"'"),We.isIE()&&(Lr=(Lr=(Lr=Lr.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),Lr}},cb34:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Ue.extendFlat,$e=Ue.isPlainObject,Qe={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},et={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},tt=Qe.flags.slice().concat(["fullReplot"]),rt=et.flags.slice().concat("layoutReplot");function falseObj(Ee){for(var ze={},Be=0;Be<Ee.length;Be++)ze[Ee[Be]]=!1;return ze}function overrideAll(Ee,ze,Be){var Ue=We({},Ee);for(var Qe in Ue){var et=Ue[Qe];$e(et)&&(Ue[Qe]=overrideOne(et,ze,Be,Qe))}return"from-root"===Be&&(Ue.editType=ze),Ue}function overrideOne(Ee,ze,Be,Ue){if(Ee.valType){var $e=We({},Ee);if($e.editType=ze,Array.isArray(Ee.items)){$e.items=new Array(Ee.items.length);for(var Qe=0;Qe<Ee.items.length;Qe++)$e.items[Qe]=overrideOne(Ee.items[Qe],ze,"from-root")}return $e}return overrideAll(Ee,ze,"_"===Ue.charAt(0)?"nested":"from-root")}Ee.exports={traces:Qe,layout:et,traceFlags:function(){return falseObj(tt)},layoutFlags:function(){return falseObj(rt)},update:function(Ee,ze){var Be=ze.editType;if(Be&&"none"!==Be)for(var Ue=Be.split("+"),We=0;We<Ue.length;We++)Ee[Ue[We]]=!0},overrideAll:overrideAll}},cb8e:function(Ee,ze,Be){"use strict";var Ue=Be("e98f");ze.boxVertex=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),ze.boxFragment=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},cba1:function(Ee,ze,Be){"use strict";var Ue=Be("107c");Ee.exports={x:Ue.x,y:Ue.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:Ue.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},cba5:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("5348"),$e=Be("07dd").supplyIsoDefaults;Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}$e(Ee,ze,Be,Qe,coerce);var et=coerce("opacityscale");"max"===et?ze.opacityscale=[[0,.1],[1,1]]:"min"===et?ze.opacityscale=[[0,1],[1,.1]]:"extremes"===et?ze.opacityscale=function createWave(Ee,ze){for(var Be=[],Ue=0;Ue<32;Ue++){var We=Ue/31,$e=ze+(1-ze)*(1-Math.pow(Math.sin(Ee*We*Math.PI),2));Be.push([We,Math.max(1,Math.min(0,$e))])}return Be}(1,.1):function isValidScaleArray(Ee){var ze=0;if(!Array.isArray(Ee)||Ee.length<2)return!1;if(!Ee[0]||!Ee[Ee.length-1])return!1;if(0!=+Ee[0][0]||1!=+Ee[Ee.length-1][0])return!1;for(var Be=0;Be<Ee.length;Be++){var Ue=Ee[Be];if(2!==Ue.length||+Ue[0]<ze)return!1;ze=+Ue[0]}return!0}(et)||(ze.opacityscale=void 0)}},cbb8:function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("fc26"),$e=Be("000c");Ee.exports=function hoverPoints(Ee,ze,Be){var Qe=Ee.cd[0],et=Qe.trace,tt=Ee.xa,rt=Ee.ya;if(!(Ue.inbox(ze-Qe.x0,ze-(Qe.x0+Qe.w*et.dx),0)>0||Ue.inbox(Be-Qe.y0,Be-(Qe.y0+Qe.h*et.dy),0)>0)){var nt=Math.floor((ze-Qe.x0)/et.dx),at=Math.floor(Math.abs(Be-Qe.y0)/et.dy);if(Qe.z[at][nt]){var it,ct=Qe.hi||et.hoverinfo;if(ct){var ft=ct.split("+");-1!==ft.indexOf("all")&&(ft=["color"]),-1!==ft.indexOf("color")&&(it=!0)}var xt,kt=et.colormodel,Lt=kt.length,Ut=et._scaler(Qe.z[at][nt]),er=$e.colormodel[kt].suffix,tr=[];(et.hovertemplate||it)&&(tr.push("["+[Ut[0]+er[0],Ut[1]+er[1],Ut[2]+er[2]].join(", ")),4===Lt&&tr.push(", "+Ut[3]+er[3]),tr.push("]"),tr=tr.join(""),Ee.extraText=kt.toUpperCase()+": "+tr),Array.isArray(et.hovertext)&&Array.isArray(et.hovertext[at])?xt=et.hovertext[at][nt]:Array.isArray(et.text)&&Array.isArray(et.text[at])&&(xt=et.text[at][nt]);var rr=rt.c2p(Qe.y0+(at+.5)*et.dy),ar=Qe.x0+(nt+.5)*et.dx,Lr=Qe.y0+(at+.5)*et.dy,Qr="["+Qe.z[at][nt].slice(0,et.colormodel.length).join(", ")+"]";return[We.extendFlat(Ee,{index:[at,nt],x0:tt.c2p(Qe.x0+nt*et.dx),x1:tt.c2p(Qe.x0+(nt+1)*et.dx),y0:rr,y1:rr,color:Ut,xVal:ar,xLabelVal:ar,yVal:Lr,yLabelVal:Lr,zLabelVal:Qr,text:xt,hovertemplateLabels:{zLabel:Qr,colorLabel:tr,"color[0]Label":Ut[0]+er[0],"color[1]Label":Ut[1]+er[1],"color[2]Label":Ut[2]+er[2],"color[3]Label":Ut[3]+er[3]}})]}}}},cbbe:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){return Ee||0===Ee?Ee.toString():""}},cbc3:function(Ee){Ee.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},cbd4:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a462"),$e=Be("2093");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){var et=Ue.extendFlat({},Qe.hoverlabel);ze.hovertemplate&&(et.namelength=-1),$e(Ee,ze,(function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}),et)}},cbeb:function(Ee,ze,Be){"use strict";var Ue=Be("c01c"),We=Be("a026");Ee.exports=function robustDotProduct(Ee,ze){for(var Be=Ue(Ee[0],ze[0]),$e=1;$e<Ee.length;++$e)Be=We(Be,Ue(Ee[$e],ze[$e]));return Be}},cc12:function(Ee,ze,Be){var Ue=Be("da84"),We=Be("861d"),$e=Ue.document,Qe=We($e)&&We($e.createElement);Ee.exports=function(Ee){return Qe?$e.createElement(Ee):{}}},cc12a:function(Ee,ze){Ee.exports=1e-6},cc77:function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We){var $e=["function ",Ee,"(a,l,h,",Ue.join(","),"){",We?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return We?ze.indexOf("c")<0?$e.push(";if(x===y){return m}else if(x<=y){"):$e.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):$e.push(";if(",ze,"){i=m;"),Be?$e.push("l=m+1}else{h=m-1}"):$e.push("h=m-1}else{l=m+1}"),$e.push("}"),We?$e.push("return -1};"):$e.push("return i};"),$e.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},cca6:function(Ee,ze,Be){var Ue=Be("23e7"),We=Be("60da");Ue({target:"Object",stat:!0,forced:Object.assign!==We},{assign:We})},cd19:function(Ee,ze,Be){"use strict";var Ue=Be("3d2e");Ee.exports={moduleType:"component",name:Ue.name,layoutAttributes:Be("42dc"),supplyLayoutDefaults:Be("dcc2"),draw:Be("fd80")}},cd84:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("2595").draw;function annAutorange(Ee){var ze=Ee._fullLayout;Ue.filterVisible(ze.annotations).forEach((function(ze){var Be=We.getFromId(Ee,ze.xref),Ue=We.getFromId(Ee,ze.yref);ze._extremes={},Be&&calcAxisExpansion(ze,Be),Ue&&calcAxisExpansion(ze,Ue)}))}function calcAxisExpansion(Ee,ze){var Be,Ue=ze._id,$e=Ue.charAt(0),Qe=Ee[$e],et=Ee["a"+$e],tt=Ee[$e+"ref"],rt=Ee["a"+$e+"ref"],nt=Ee["_"+$e+"padplus"],at=Ee["_"+$e+"padminus"],it={x:1,y:-1}[$e]*Ee[$e+"shift"],ct=3*Ee.arrowsize*Ee.arrowwidth||0,ft=ct+it,xt=ct-it,kt=3*Ee.startarrowsize*Ee.arrowwidth||0,Lt=kt+it,Ut=kt-it;if(rt===tt){var er=We.findExtremes(ze,[ze.r2c(Qe)],{ppadplus:ft,ppadminus:xt}),tr=We.findExtremes(ze,[ze.r2c(et)],{ppadplus:Math.max(nt,Lt),ppadminus:Math.max(at,Ut)});Be={min:[er.min[0],tr.min[0]],max:[er.max[0],tr.max[0]]}}else Lt=et?Lt+et:Lt,Ut=et?Ut-et:Ut,Be=We.findExtremes(ze,[ze.r2c(Qe)],{ppadplus:Math.max(nt,ft,Lt),ppadminus:Math.max(at,xt,Ut)});Ee._extremes[Ue]=Be}Ee.exports=function calcAutorange(Ee){var ze=Ee._fullLayout;if(Ue.filterVisible(ze.annotations).length&&Ee._fullData.length)return Ue.syncOrAsync([$e,annAutorange],Ee)}},cdaf:function(Ee,ze,Be){"use strict";Ee.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},ce20:function(Ee,ze,Be){"use strict";var Ue=Be("215c").hasColorscale,We=Be("3aa8"),$e=Be("424b"),Qe=Be("0cec").setGroupPositions,et=Be("4136"),tt=Be("371e").traceIs,rt=Be("fc26").extendFlat;Ee.exports={calc:function calc(Ee,ze){for(var Be=Ee._fullLayout,Qe=ze.subplot,tt=Be[Qe].radialaxis,rt=Be[Qe].angularaxis,nt=tt.makeCalcdata(ze,"r"),at=rt.makeCalcdata(ze,"theta"),it=ze._length,ct=new Array(it),ft=nt,xt=at,kt=0;kt<it;kt++)ct[kt]={p:xt[kt],s:ft[kt]};function d2c(Ee){var Be=ze[Ee];void 0!==Be&&(ze["_"+Ee]=Array.isArray(Be)?rt.makeCalcdata(ze,Ee):rt.d2c(Be,ze.thetaunit))}return"linear"===rt.type&&(d2c("width"),d2c("offset")),Ue(ze,"marker")&&We(Ee,ze,{vals:ze.marker.color,containerStr:"marker",cLetter:"c"}),Ue(ze,"marker.line")&&We(Ee,ze,{vals:ze.marker.line.color,containerStr:"marker.line",cLetter:"c"}),$e(ct,ze),et(ct,ze),ct},crossTraceCalc:function crossTraceCalc(Ee,ze,Be){for(var Ue=Ee.calcdata,We=[],$e=0;$e<Ue.length;$e++){var et=Ue[$e],nt=et[0].trace;!0===nt.visible&&tt(nt,"bar")&&nt.subplot===Be&&We.push(et)}var at=rt({},ze.radialaxis,{_id:"x"}),it=ze.angularaxis;Qe(Ee,it,at,We,{mode:ze.barmode,norm:ze.barnorm,gap:ze.bargap,groupgap:ze.bargroupgap})}}},ce4e:function(Ee,ze,Be){var Ue=Be("da84"),We=Be("9112");Ee.exports=function(Ee,ze){try{We(Ue,Ee,ze)}catch(Be){Ue[Ee]=ze}return ze}},ce56:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("e806").FP_SAFE,Qe=Be("371e");function getAutoRange(Ee,ze){var Be,Ue,$e=[],Qe=makePadFn(ze),et=concatExtremes(Ee,ze),tt=et.min,rt=et.max;if(0===tt.length||0===rt.length)return We.simpleMap(ze.range,ze.r2l);var nt=tt[0].val,at=rt[0].val;for(Be=1;Be<tt.length&&nt===at;Be++)nt=Math.min(nt,tt[Be].val);for(Be=1;Be<rt.length&&nt===at;Be++)at=Math.max(at,rt[Be].val);var it=!1;if(ze.range){var ct=We.simpleMap(ze.range,ze.r2l);it=ct[1]<ct[0]}"reversed"===ze.autorange&&(it=!0,ze.autorange=!0);var ft,xt,kt,Lt,Ut,er,tr=ze.rangemode,rr="tozero"===tr,ar="nonnegative"===tr,Lr=ze._length,Qr=Lr/10,on=0;for(Be=0;Be<tt.length;Be++)for(ft=tt[Be],Ue=0;Ue<rt.length;Ue++)(er=(xt=rt[Ue]).val-ft.val)>0&&((Ut=Lr-Qe(ft)-Qe(xt))>Qr?er/Ut>on&&(kt=ft,Lt=xt,on=er/Ut):er/Lr>on&&(kt={val:ft.val,pad:0},Lt={val:xt.val,pad:0},on=er/Lr));if(nt===at){var sn=nt-1,ln=nt+1;if(rr)if(0===nt)$e=[0,1];else{var cn=(nt>0?rt:tt).reduce((function getMaxPad(Ee,ze){return Math.max(Ee,Qe(ze))}),0),un=nt/(1-Math.min(.5,cn/Lr));$e=nt>0?[0,un]:[un,0]}else $e=ar?[Math.max(0,sn),Math.max(1,ln)]:[sn,ln]}else rr?(kt.val>=0&&(kt={val:0,pad:0}),Lt.val<=0&&(Lt={val:0,pad:0})):ar&&(kt.val-on*Qe(kt)<0&&(kt={val:0,pad:0}),Lt.val<=0&&(Lt={val:1,pad:0})),on=(Lt.val-kt.val)/(Lr-Qe(kt)-Qe(Lt)),$e=[kt.val-on*Qe(kt),Lt.val+on*Qe(Lt)];return it&&$e.reverse(),We.simpleMap($e,ze.l2r||Number)}function makePadFn(Ee){var ze=Ee._length/20;return"domain"===Ee.constrain&&Ee._inputDomain&&(ze*=(Ee._inputDomain[1]-Ee._inputDomain[0])/(Ee.domain[1]-Ee.domain[0])),function getPad(Ee){return Ee.pad+(Ee.extrapad?ze:0)}}function concatExtremes(Ee,ze){var Be,Ue,We,$e=ze._id,Qe=Ee._fullData,et=Ee._fullLayout,tt=[],rt=[];function _concat(Ee,ze){for(Be=0;Be<ze.length;Be++){var Qe=Ee[ze[Be]],et=(Qe._extremes||{})[$e];if(!0===Qe.visible&&et){for(Ue=0;Ue<et.min.length;Ue++)We=et.min[Ue],collapseMinArray(tt,We.val,We.pad,{extrapad:We.extrapad});for(Ue=0;Ue<et.max.length;Ue++)We=et.max[Ue],collapseMaxArray(rt,We.val,We.pad,{extrapad:We.extrapad})}}}return _concat(Qe,ze._traceIndices),_concat(et.annotations||[],ze._annIndices||[]),_concat(et.shapes||[],ze._shapeIndices||[]),{min:tt,max:rt}}function collapseMinArray(Ee,ze,Be,Ue){collapseArray(Ee,ze,Be,Ue,lessOrEqual)}function collapseMaxArray(Ee,ze,Be,Ue){collapseArray(Ee,ze,Be,Ue,greaterOrEqual)}function collapseArray(Ee,ze,Be,Ue,We){for(var $e=Ue.tozero,Qe=Ue.extrapad,et=!0,tt=0;tt<Ee.length&&et;tt++){var rt=Ee[tt];if(We(rt.val,ze)&&rt.pad>=Be&&(rt.extrapad||!Qe)){et=!1;break}We(ze,rt.val)&&rt.pad<=Be&&(Qe||!rt.extrapad)&&(Ee.splice(tt,1),tt--)}if(et){var nt=$e&&0===ze;Ee.push({val:ze,pad:nt?0:Be,extrapad:!nt&&Qe})}}function goodNumber(Ee){return Ue(Ee)&&Math.abs(Ee)<$e}function lessOrEqual(Ee,ze){return Ee<=ze}function greaterOrEqual(Ee,ze){return Ee>=ze}Ee.exports={getAutoRange:getAutoRange,makePadFn:makePadFn,doAutoRange:function doAutoRange(Ee,ze){if(ze.setScale(),ze.autorange){ze.range=getAutoRange(Ee,ze),ze._r=ze.range.slice(),ze._rl=We.simpleMap(ze._r,ze.r2l);var Be=ze._input,Ue={};Ue[ze._attr+".range"]=ze.range,Ue[ze._attr+".autorange"]=ze.autorange,Qe.call("_storeDirectGUIEdit",Ee.layout,Ee._fullLayout._preGUI,Ue),Be.range=ze.range.slice(),Be.autorange=ze.autorange}var $e=ze._anchorAxis;if($e&&$e.rangeslider){var et=$e.rangeslider[ze._name];et&&"auto"===et.rangemode&&(et.range=getAutoRange(Ee,ze)),$e._input.rangeslider[ze._name]=We.extendFlat({},et)}},findExtremes:function findExtremes(Ee,ze,Be){Be||(Be={});Ee._m||Ee.setScale();var We,Qe,et,tt,rt,nt,at,it,ct,ft=[],xt=[],kt=ze.length,Lt=Be.padded||!1,Ut=Be.tozero&&("linear"===Ee.type||"-"===Ee.type),er="log"===Ee.type,tr=!1,rr=Be.vpadLinearized||!1;function makePadAccessor(Ee){if(Array.isArray(Ee))return tr=!0,function(ze){return Math.max(Number(Ee[ze]||0),0)};var ze=Math.max(Number(Ee||0),0);return function(){return ze}}var ar=makePadAccessor((Ee._m>0?Be.ppadplus:Be.ppadminus)||Be.ppad||0),Lr=makePadAccessor((Ee._m>0?Be.ppadminus:Be.ppadplus)||Be.ppad||0),Qr=makePadAccessor(Be.vpadplus||Be.vpad),on=makePadAccessor(Be.vpadminus||Be.vpad);if(!tr){if(it=1/0,ct=-1/0,er)for(We=0;We<kt;We++)(Qe=ze[We])<it&&Qe>0&&(it=Qe),Qe>ct&&Qe<$e&&(ct=Qe);else for(We=0;We<kt;We++)(Qe=ze[We])<it&&Qe>-$e&&(it=Qe),Qe>ct&&Qe<$e&&(ct=Qe);ze=[it,ct],kt=2}var sn={tozero:Ut,extrapad:Lt};function addItem(Be){et=ze[Be],Ue(et)&&(nt=ar(Be),at=Lr(Be),rr?(tt=Ee.c2l(et)-on(Be),rt=Ee.c2l(et)+Qr(Be)):(it=et-on(Be),ct=et+Qr(Be),er&&it<ct/10&&(it=ct/10),tt=Ee.c2l(it),rt=Ee.c2l(ct)),Ut&&(tt=Math.min(0,tt),rt=Math.max(0,rt)),goodNumber(tt)&&collapseMinArray(ft,tt,at,sn),goodNumber(rt)&&collapseMaxArray(xt,rt,nt,sn))}var ln=Math.min(6,kt);for(We=0;We<ln;We++)addItem(We);for(We=kt-1;We>=ln;We--)addItem(We);return{min:ft,max:xt,opts:Be}},concatExtremes:concatExtremes}},ce65:function(Ee,ze,Be){"use strict";var Ue=Be("94d5").hovertemplateAttrs,We=Be("94d5").texttemplateAttrs,$e=Be("107c"),Qe=Be("a876"),et=Be("f4e9"),tt=Be("db54").dash,rt=Be("9092").extendFlat,nt=$e.marker,at=$e.line,it=nt.line;Ee.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:rt({},$e.mode,{dflt:"markers"}),text:rt({},$e.text,{}),texttemplate:We({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:rt({},$e.hovertext,{}),line:{color:at.color,width:at.width,dash:tt,shape:rt({},at.shape,{values:["linear","spline"]}),smoothing:at.smoothing,editType:"calc"},connectgaps:$e.connectgaps,cliponaxis:$e.cliponaxis,fill:rt({},$e.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:$e.fillcolor,marker:rt({symbol:nt.symbol,opacity:nt.opacity,maxdisplayed:nt.maxdisplayed,size:nt.size,sizeref:nt.sizeref,sizemin:nt.sizemin,sizemode:nt.sizemode,line:rt({width:it.width,editType:"calc"},et("marker.line")),gradient:nt.gradient,editType:"calc"},et("marker")),textfont:$e.textfont,textposition:$e.textposition,selected:$e.selected,unselected:$e.unselected,hoverinfo:rt({},Qe.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:$e.hoveron,hovertemplate:Ue()}},ce83:function(Ee,ze){Ee.exports=function min(Ee,ze,Be){return Ee[0]=Math.min(ze[0],Be[0]),Ee[1]=Math.min(ze[1],Be[1]),Ee[2]=Math.min(ze[2],Be[2]),Ee}},ce8f:function(Ee,ze,Be){"use strict";Ee.exports=function trimLeaves(Ee,ze){for(var Be=Ue(Ee,ze.length),We=new Array(ze.length),$e=new Array(ze.length),Qe=[],et=0;et<ze.length;++et){var tt=Be[et].length;$e[et]=tt,We[et]=!0,tt<=1&&Qe.push(et)}for(;Qe.length>0;){var rt=Qe.pop();We[rt]=!1;var nt=Be[rt];for(et=0;et<nt.length;++et){var at=nt[et];0==--$e[at]&&Qe.push(at)}}var it=new Array(ze.length),ct=[];for(et=0;et<ze.length;++et)if(We[et]){rt=ct.length;it[et]=rt,ct.push(ze[et])}else it[et]=-1;var ft=[];for(et=0;et<Ee.length;++et){var xt=Ee[et];We[xt[0]]&&We[xt[1]]&&ft.push([it[xt[0]],it[xt[1]]])}return[ft,ct]};var Ue=Be("c586")},cea5:function(Ee,ze,Be){"use strict";(function(Ee){var Ue=Be("a48a"),We=Be("84af"),$e=Be("b639").Buffer;Ee.__TYPEDARRAY_POOL||(Ee.__TYPEDARRAY_POOL={UINT8:We([32,0]),UINT16:We([32,0]),UINT32:We([32,0]),BIGUINT64:We([32,0]),INT8:We([32,0]),INT16:We([32,0]),INT32:We([32,0]),BIGINT64:We([32,0]),FLOAT:We([32,0]),DOUBLE:We([32,0]),DATA:We([32,0]),UINT8C:We([32,0]),BUFFER:We([32,0])});var Qe="undefined"!=typeof Uint8ClampedArray,et="undefined"!=typeof BigUint64Array,tt="undefined"!=typeof BigInt64Array,rt=Ee.__TYPEDARRAY_POOL;rt.UINT8C||(rt.UINT8C=We([32,0])),rt.BIGUINT64||(rt.BIGUINT64=We([32,0])),rt.BIGINT64||(rt.BIGINT64=We([32,0])),rt.BUFFER||(rt.BUFFER=We([32,0]));var nt=rt.DATA,at=rt.BUFFER;function freeArrayBuffer(Ee){if(Ee){var ze=Ee.length||Ee.byteLength,Be=Ue.log2(ze);nt[Be].push(Ee)}}function mallocArrayBuffer(Ee){Ee=Ue.nextPow2(Ee);var ze=Ue.log2(Ee),Be=nt[ze];return Be.length>0?Be.pop():new ArrayBuffer(Ee)}function mallocUint8(Ee){return new Uint8Array(mallocArrayBuffer(Ee),0,Ee)}function mallocUint16(Ee){return new Uint16Array(mallocArrayBuffer(2*Ee),0,Ee)}function mallocUint32(Ee){return new Uint32Array(mallocArrayBuffer(4*Ee),0,Ee)}function mallocInt8(Ee){return new Int8Array(mallocArrayBuffer(Ee),0,Ee)}function mallocInt16(Ee){return new Int16Array(mallocArrayBuffer(2*Ee),0,Ee)}function mallocInt32(Ee){return new Int32Array(mallocArrayBuffer(4*Ee),0,Ee)}function mallocFloat(Ee){return new Float32Array(mallocArrayBuffer(4*Ee),0,Ee)}function mallocDouble(Ee){return new Float64Array(mallocArrayBuffer(8*Ee),0,Ee)}function mallocUint8Clamped(Ee){return Qe?new Uint8ClampedArray(mallocArrayBuffer(Ee),0,Ee):mallocUint8(Ee)}function mallocBigUint64(Ee){return et?new BigUint64Array(mallocArrayBuffer(8*Ee),0,Ee):null}function mallocBigInt64(Ee){return tt?new BigInt64Array(mallocArrayBuffer(8*Ee),0,Ee):null}function mallocDataView(Ee){return new DataView(mallocArrayBuffer(Ee),0,Ee)}function mallocBuffer(Ee){Ee=Ue.nextPow2(Ee);var ze=Ue.log2(Ee),Be=at[ze];return Be.length>0?Be.pop():new $e(Ee)}ze.free=function free(Ee){if($e.isBuffer(Ee))at[Ue.log2(Ee.length)].push(Ee);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(Ee)&&(Ee=Ee.buffer),!Ee)return;var ze=Ee.length||Ee.byteLength,Be=0|Ue.log2(ze);nt[Be].push(Ee)}},ze.freeUint8=ze.freeUint16=ze.freeUint32=ze.freeBigUint64=ze.freeInt8=ze.freeInt16=ze.freeInt32=ze.freeBigInt64=ze.freeFloat32=ze.freeFloat=ze.freeFloat64=ze.freeDouble=ze.freeUint8Clamped=ze.freeDataView=function freeTypedArray(Ee){freeArrayBuffer(Ee.buffer)},ze.freeArrayBuffer=freeArrayBuffer,ze.freeBuffer=function freeBuffer(Ee){at[Ue.log2(Ee.length)].push(Ee)},ze.malloc=function malloc(Ee,ze){if(void 0===ze||"arraybuffer"===ze)return mallocArrayBuffer(Ee);switch(ze){case"uint8":return mallocUint8(Ee);case"uint16":return mallocUint16(Ee);case"uint32":return mallocUint32(Ee);case"int8":return mallocInt8(Ee);case"int16":return mallocInt16(Ee);case"int32":return mallocInt32(Ee);case"float":case"float32":return mallocFloat(Ee);case"double":case"float64":return mallocDouble(Ee);case"uint8_clamped":return mallocUint8Clamped(Ee);case"bigint64":return mallocBigInt64(Ee);case"biguint64":return mallocBigUint64(Ee);case"buffer":return mallocBuffer(Ee);case"data":case"dataview":return mallocDataView(Ee);default:return null}return null},ze.mallocArrayBuffer=mallocArrayBuffer,ze.mallocUint8=mallocUint8,ze.mallocUint16=mallocUint16,ze.mallocUint32=mallocUint32,ze.mallocInt8=mallocInt8,ze.mallocInt16=mallocInt16,ze.mallocInt32=mallocInt32,ze.mallocFloat32=ze.mallocFloat=mallocFloat,ze.mallocFloat64=ze.mallocDouble=mallocDouble,ze.mallocUint8Clamped=mallocUint8Clamped,ze.mallocBigUint64=mallocBigUint64,ze.mallocBigInt64=mallocBigInt64,ze.mallocDataView=mallocDataView,ze.mallocBuffer=mallocBuffer,ze.clearCache=function clearCache(){for(var Ee=0;Ee<32;++Ee)rt.UINT8[Ee].length=0,rt.UINT16[Ee].length=0,rt.UINT32[Ee].length=0,rt.INT8[Ee].length=0,rt.INT16[Ee].length=0,rt.INT32[Ee].length=0,rt.FLOAT[Ee].length=0,rt.DOUBLE[Ee].length=0,rt.BIGUINT64[Ee].length=0,rt.BIGINT64[Ee].length=0,rt.UINT8C[Ee].length=0,nt[Ee].length=0,at[Ee].length=0}}).call(this,Be("c8ba"))},cebf:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("d115"),Qe=Be("52e8"),et=Qe.stylePoints,tt=Qe.styleText;Ee.exports=function style(Ee,ze){ze&&function styleTrace(Ee,ze){var Be=ze[0].trace,Qe=ze[0].node3;Qe.style("opacity",ze[0].trace.opacity),et(Qe,Be,Ee),tt(Qe,Be,Ee),Qe.selectAll("path.js-line").style("fill","none").each((function(Ee){var ze=Ue.select(this),Be=Ee.trace,Qe=Be.line||{};ze.call($e.stroke,Qe.color).call(We.dashLine,Qe.dash||"",Qe.width||0),"none"!==Be.fill&&ze.call($e.fill,Be.fillcolor)}))}(Ee,ze)}},cec7:function(Ee,ze){Ee.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},cecf:function(Ee,ze,Be){"use strict";var Ue=Be("1a94"),We=Be("96ae"),$e=Function.prototype.bind,Qe=Function.prototype.call,et=Object.keys,tt=Object.prototype.propertyIsEnumerable;Ee.exports=function(Ee,ze){return function(Be,rt){var nt,at=arguments[2],it=arguments[3];return Be=Object(We(Be)),Ue(rt),nt=et(Be),it&&nt.sort("function"==typeof it?$e.call(it,Be):void 0),"function"!=typeof Ee&&(Ee=nt[Ee]),Qe.call(Ee,nt,(function(Ee,Ue){return tt.call(Be,Ee)?Qe.call(rt,at,Be[Ee],Ee,Be,Ue):ze}))}}},cee0:function(Ee,ze,Be){"use strict";Ee.exports=function simplifyPolygon(Ee,ze,Be){for(var $e=ze.length,Qe=Ee.length,et=new Array($e),tt=new Array($e),rt=new Array($e),nt=new Array($e),at=0;at<$e;++at)et[at]=tt[at]=-1,rt[at]=1/0,nt[at]=!1;for(at=0;at<Qe;++at){var it=Ee[at];if(2!==it.length)throw new Error("Input must be a graph");var ct=it[1],ft=it[0];-1!==tt[ft]?tt[ft]=-2:tt[ft]=ct,-1!==et[ct]?et[ct]=-2:et[ct]=ft}function computeWeight(Ee){if(nt[Ee])return 1/0;var Be=et[Ee],We=tt[Ee];return Be<0||We<0?1/0:function errorWeight(Ee,ze,Be){var We=Math.abs(Ue(Ee,ze,Be)),$e=Math.sqrt(Math.pow(ze[0]-Be[0],2)+Math.pow(ze[1]-Be[1],2));return We/$e}(ze[Ee],ze[Be],ze[We])}function heapSwap(Ee,ze){var Be=xt[Ee],Ue=xt[ze];xt[Ee]=Ue,xt[ze]=Be,kt[Be]=ze,kt[Ue]=Ee}function heapWeight(Ee){return rt[xt[Ee]]}function heapParent(Ee){return 1&Ee?Ee-1>>1:(Ee>>1)-1}function heapDown(Ee){for(var ze=heapWeight(Ee);;){var Be=ze,Ue=2*Ee+1,We=2*(Ee+1),$e=Ee;if(Ue<Lt){var Qe=heapWeight(Ue);Qe<Be&&($e=Ue,Be=Qe)}if(We<Lt)heapWeight(We)<Be&&($e=We);if($e===Ee)return Ee;heapSwap(Ee,$e),Ee=$e}}function heapUp(Ee){for(var ze=heapWeight(Ee);Ee>0;){var Be=heapParent(Ee);if(Be>=0)if(ze<heapWeight(Be)){heapSwap(Ee,Be),Ee=Be;continue}return Ee}}function heapPop(){if(Lt>0){var Ee=xt[0];return heapSwap(0,Lt-1),Lt-=1,heapDown(0),Ee}return-1}function heapUpdate(Ee,ze){var Be=xt[Ee];return rt[Be]===ze?Ee:(rt[Be]=-1/0,heapUp(Ee),heapPop(),rt[Be]=ze,heapUp((Lt+=1)-1))}function kill(Ee){if(!nt[Ee]){nt[Ee]=!0;var ze=et[Ee],Be=tt[Ee];et[Be]>=0&&(et[Be]=ze),tt[ze]>=0&&(tt[ze]=Be),kt[ze]>=0&&heapUpdate(kt[ze],computeWeight(ze)),kt[Be]>=0&&heapUpdate(kt[Be],computeWeight(Be))}}var xt=[],kt=new Array($e);for(at=0;at<$e;++at){(rt[at]=computeWeight(at))<1/0?(kt[at]=xt.length,xt.push(at)):kt[at]=-1}var Lt=xt.length;for(at=Lt>>1;at>=0;--at)heapDown(at);for(;;){var Ut=heapPop();if(Ut<0||rt[Ut]>Be)break;kill(Ut)}var er=[];for(at=0;at<$e;++at)nt[at]||(kt[at]=er.length,er.push(ze[at].slice()));er.length;function tortoiseHare(Ee,ze){if(Ee[ze]<0)return ze;var Be=ze,Ue=ze;do{var We=Ee[Ue];if(!nt[Ue]||We<0||We===Ue)break;if(We=Ee[Ue=We],!nt[Ue]||We<0||We===Ue)break;Ue=We,Be=Ee[Be]}while(Be!==Ue);for(var $e=ze;$e!==Ue;$e=Ee[$e])Ee[$e]=Ue;return Ue}var tr=[];return Ee.forEach((function(Ee){var ze=tortoiseHare(et,Ee[0]),Be=tortoiseHare(tt,Ee[1]);if(ze>=0&&Be>=0&&ze!==Be){var Ue=kt[ze],We=kt[Be];Ue!==We&&tr.push([Ue,We])}})),We.unique(We.normalize(tr)),{positions:er,edges:tr}};var Ue=Be("92ba"),We=Be("ff85")},cef0:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("d858"),Qe=Be("fdc7");function calcXPaddingOptions(Ee){return calcPaddingOptions(Ee.line.width,Ee.xsizemode,Ee.x0,Ee.x1,Ee.path,!1)}function calcYPaddingOptions(Ee){return calcPaddingOptions(Ee.line.width,Ee.ysizemode,Ee.y0,Ee.y1,Ee.path,!0)}function calcPaddingOptions(Ee,ze,Be,We,et,tt){var rt=Ee/2,nt=tt;if("pixel"===ze){var at=et?Qe.extractPathCoords(et,tt?$e.paramIsY:$e.paramIsX):[Be,We],it=Ue.aggNums(Math.max,null,at),ct=Ue.aggNums(Math.min,null,at),ft=ct<0?Math.abs(ct)+rt:rt,xt=it>0?it+rt:rt;return{ppad:rt,ppadplus:nt?ft:xt,ppadminus:nt?xt:ft}}return{ppad:rt}}function shapeBounds(Ee,ze,Be,Ue,We){var et="category"===Ee.type||"multicategory"===Ee.type?Ee.r2c:Ee.d2c;if(void 0!==ze)return[et(ze),et(Be)];if(Ue){var tt,rt,nt,at,it=1/0,ct=-1/0,ft=Ue.match($e.segmentRE);for("date"===Ee.type&&(et=Qe.decodeDate(et)),tt=0;tt<ft.length;tt++)void 0!==(rt=We[ft[tt].charAt(0)].drawn)&&(!(nt=ft[tt].substr(1).match($e.paramRE))||nt.length<rt||((at=et(nt[rt]))<it&&(it=at),at>ct&&(ct=at)));return ct>=it?[it,ct]:void 0}}Ee.exports=function calcAutorange(Ee){var ze=Ee._fullLayout,Be=Ue.filterVisible(ze.shapes);if(Be.length&&Ee._fullData.length)for(var Qe=0;Qe<Be.length;Qe++){var et,tt,rt=Be[Qe];if(rt._extremes={},"paper"!==rt.xref){var nt="pixel"===rt.xsizemode?rt.xanchor:rt.x0,at="pixel"===rt.xsizemode?rt.xanchor:rt.x1;(tt=shapeBounds(et=We.getFromId(Ee,rt.xref),nt,at,rt.path,$e.paramIsX))&&(rt._extremes[et._id]=We.findExtremes(et,tt,calcXPaddingOptions(rt)))}if("paper"!==rt.yref){var it="pixel"===rt.ysizemode?rt.yanchor:rt.y0,ct="pixel"===rt.ysizemode?rt.yanchor:rt.y1;(tt=shapeBounds(et=We.getFromId(Ee,rt.yref),it,ct,rt.path,$e.paramIsY))&&(rt._extremes[et._id]=We.findExtremes(et,tt,calcYPaddingOptions(rt)))}}}},cf42:function(Ee,ze,Be){"use strict";(function(ze){var Ue=Be("609c"),We=Be("7dbb");Ee.exports=function prepareRegl(Ee,Be){var $e=Ee._fullLayout,Qe=!0;return $e._glcanvas.each((function(Ue){if(!Ue.regl&&(!Ue.pick||$e._has("parcoords"))){try{Ue.regl=We({canvas:this,attributes:{antialias:!Ue.pick,preserveDrawingBuffer:!0},pixelRatio:Ee._context.plotGlPixelRatio||ze.devicePixelRatio,extensions:Be||[]})}catch(Ee){Qe=!1}Qe&&this.addEventListener("webglcontextlost",(function(ze){Ee&&Ee.emit&&Ee.emit("plotly_webglcontextlost",{event:ze,layer:Ue.key})}),!1)}})),Qe||Ue({container:$e._glcontainer.node()}),Qe}}).call(this,Be("c8ba"))},cf6c:function(Ee,ze,Be){"use strict";function compileSearch(Ee,ze,Be,Ue,We,$e){var Qe=["function ",Ee,"(a,l,h,",Ue.join(","),"){",$e?"":"var i=",Be?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",We?".get(m)":"[m]"];return $e?ze.indexOf("c")<0?Qe.push(";if(x===y){return m}else if(x<=y){"):Qe.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):Qe.push(";if(",ze,"){i=m;"),Be?Qe.push("l=m+1}else{h=m-1}"):Qe.push("h=m-1}else{l=m+1}"),Qe.push("}"),$e?Qe.push("return -1};"):Qe.push("return i};"),Qe.join("")}function compileBoundsSearch(Ee,ze,Be,Ue){return new Function([compileSearch("A","x"+Ee+"y",ze,["y"],!1,Ue),compileSearch("B","x"+Ee+"y",ze,["y"],!0,Ue),compileSearch("P","c(x,y)"+Ee+"0",ze,["y","c"],!1,Ue),compileSearch("Q","c(x,y)"+Ee+"0",ze,["y","c"],!0,Ue),"function dispatchBsearch",Be,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",Be].join(""))()}Ee.exports={ge:compileBoundsSearch(">=",!1,"GE"),gt:compileBoundsSearch(">",!1,"GT"),lt:compileBoundsSearch("<",!0,"LT"),le:compileBoundsSearch("<=",!0,"LE"),eq:compileBoundsSearch("-",!0,"EQ",!0)}},cf8b:function(Ee,ze){Ee.exports=function create(){var Ee=new Float32Array(3);return Ee[0]=0,Ee[1]=0,Ee[2]=0,Ee}},cf9f:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("b5e3"),$e=Be("a5c4"),Qe=Be("fc26"),et=Be("83d1"),tt=Be("66cb"),rt=Be("0379");function performPlot(Ee,ze,Be,We){var $e=Ee.map(createParcatsViewModel.bind(0,ze,Be)),tt=We.selectAll("g.parcatslayer").data([null]);tt.enter().append("g").attr("class","parcatslayer").style("pointer-events","all");var nt=tt.selectAll("g.trace.parcats").data($e,key),at=nt.enter().append("g").attr("class","trace parcats");nt.attr("transform",(function(Ee){return"translate("+Ee.x+", "+Ee.y+")"})),at.append("g").attr("class","paths");var it=nt.select("g.paths").selectAll("path.path").data((function(Ee){return Ee.paths}),key);it.attr("fill",(function(Ee){return Ee.model.color}));var ct=it.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",(function(Ee){return Ee.model.color})).attr("fill-opacity",0);stylePathsNoHover(ct),it.attr("d",(function(Ee){return Ee.svgD})),ct.empty()||it.sort(compareRawColor),it.exit().remove(),it.on("mouseover",mouseoverPath).on("mouseout",mouseoutPath).on("click",clickPath),at.append("g").attr("class","dimensions");var ft=nt.select("g.dimensions").selectAll("g.dimension").data((function(Ee){return Ee.dimensions}),key);ft.enter().append("g").attr("class","dimension"),ft.attr("transform",(function(Ee){return"translate("+Ee.x+", 0)"})),ft.exit().remove();var xt=ft.selectAll("g.category").data((function(Ee){return Ee.categories}),key),kt=xt.enter().append("g").attr("class","category");xt.attr("transform",(function(Ee){return"translate(0, "+Ee.y+")"})),kt.append("rect").attr("class","catrect").attr("pointer-events","none"),xt.select("rect.catrect").attr("fill","none").attr("width",(function(Ee){return Ee.width})).attr("height",(function(Ee){return Ee.height})),styleCategoriesNoHover(kt);var Lt=xt.selectAll("rect.bandrect").data((function(Ee){return Ee.bands}),key);Lt.each((function(){Qe.raiseToTop(this)})),Lt.attr("fill",(function(Ee){return Ee.color}));var Ut=Lt.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",(function(Ee){return Ee.color})).attr("fill-opacity",0);Lt.attr("fill",(function(Ee){return Ee.color})).attr("width",(function(Ee){return Ee.width})).attr("height",(function(Ee){return Ee.height})).attr("y",(function(Ee){return Ee.y})).attr("cursor",(function(Ee){return"fixed"===Ee.parcatsViewModel.arrangement?"default":"perpendicular"===Ee.parcatsViewModel.arrangement?"ns-resize":"move"})),styleBandsNoHover(Ut),Lt.exit().remove(),kt.append("text").attr("class","catlabel").attr("pointer-events","none");var er=ze._fullLayout.paper_bgcolor;xt.select("text.catlabel").attr("text-anchor",(function(Ee){return catInRightDim(Ee)?"start":"end"})).attr("alignment-baseline","middle").style("text-shadow",er+" -1px  1px 2px, "+er+" 1px  1px 2px, "+er+"  1px -1px 2px, "+er+" -1px -1px 2px").style("fill","rgb(0, 0, 0)").attr("x",(function(Ee){return catInRightDim(Ee)?Ee.width+5:-5})).attr("y",(function(Ee){return Ee.height/2})).text((function(Ee){return Ee.model.categoryLabel})).each((function(Ee){et.font(Ue.select(this),Ee.parcatsViewModel.categorylabelfont),rt.convertToTspans(Ue.select(this),ze)})),kt.append("text").attr("class","dimlabel"),xt.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",(function(Ee){return"fixed"===Ee.parcatsViewModel.arrangement?"default":"ew-resize"})).attr("x",(function(Ee){return Ee.width/2})).attr("y",-5).text((function(Ee,ze){return 0===ze?Ee.parcatsViewModel.model.dimensions[Ee.model.dimensionInd].dimensionLabel:null})).each((function(Ee){et.font(Ue.select(this),Ee.parcatsViewModel.labelfont)})),xt.selectAll("rect.bandrect").on("mouseover",mouseoverCategoryBand).on("mouseout",mouseoutCategory),xt.exit().remove(),ft.call(Ue.behavior.drag().origin((function(Ee){return{x:Ee.x,y:0}})).on("dragstart",dragDimensionStart).on("drag",dragDimension).on("dragend",dragDimensionEnd)),nt.each((function(Ee){Ee.traceSelection=Ue.select(this),Ee.pathSelection=Ue.select(this).selectAll("g.paths").selectAll("path.path"),Ee.dimensionSelection=Ue.select(this).selectAll("g.dimensions").selectAll("g.dimension")})),nt.exit().remove()}function key(Ee){return Ee.key}function catInRightDim(Ee){var ze=Ee.parcatsViewModel.dimensions.length,Be=Ee.parcatsViewModel.dimensions[ze-1].model.dimensionInd;return Ee.model.dimensionInd===Be}function compareRawColor(Ee,ze){return Ee.model.rawColor>ze.model.rawColor?1:Ee.model.rawColor<ze.model.rawColor?-1:0}function mouseoverPath(Ee){if(!Ee.parcatsViewModel.dragDimension&&-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("skip")){Qe.raiseToTop(this),stylePathsHover(Ue.select(this));var ze=buildPointsArrayForPath(Ee),Be=buildConstraintsForPath(Ee);if(Ee.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ze,event:Ue.event,constraints:Be}),-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("none")){var We,et,rt,nt=Ue.mouse(this)[0],at=Ee.parcatsViewModel.graphDiv,it=Ee.parcatsViewModel.trace,ct=at._fullLayout,ft=ct._paperdiv.node().getBoundingClientRect(),xt=Ee.parcatsViewModel.graphDiv.getBoundingClientRect();for(rt=0;rt<Ee.leftXs.length-1;rt++)if(Ee.leftXs[rt]+Ee.dimWidths[rt]-2<=nt&&nt<=Ee.leftXs[rt+1]+2){var kt=Ee.parcatsViewModel.dimensions[rt],Lt=Ee.parcatsViewModel.dimensions[rt+1];We=(kt.x+kt.width+Lt.x)/2,et=(Ee.topYs[rt]+Ee.topYs[rt+1]+Ee.height)/2;break}var Ut=Ee.parcatsViewModel.x+We,er=Ee.parcatsViewModel.y+et,tr=tt.mostReadable(Ee.model.color,["black","white"]),rr=Ee.model.count,ar=rr/Ee.parcatsViewModel.model.count,Lr={countLabel:rr,probabilityLabel:ar.toFixed(3)},Qr=[];-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("count")&&Qr.push(["Count:",Lr.countLabel].join(" ")),-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Qr.push(["P:",Lr.probabilityLabel].join(" "));var on=Qr.join("<br>"),sn=Ue.mouse(at)[0];$e.loneHover({trace:it,x:Ut-ft.left+xt.left,y:er-ft.top+xt.top,text:on,color:Ee.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:tr,idealAlign:sn<Ut?"right":"left",hovertemplate:(it.line||{}).hovertemplate,hovertemplateLabels:Lr,eventData:[{data:it._input,fullData:it,count:rr,probability:ar}]},{container:ct._hoverlayer.node(),outerContainer:ct._paper.node(),gd:at})}}}function mouseoutPath(Ee){if(!Ee.parcatsViewModel.dragDimension&&(stylePathsNoHover(Ue.select(this)),$e.loneUnhover(Ee.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Ee.parcatsViewModel.pathSelection.sort(compareRawColor),-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var ze=buildPointsArrayForPath(Ee),Be=buildConstraintsForPath(Ee);Ee.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ze,event:Ue.event,constraints:Be})}}function buildPointsArrayForPath(Ee){for(var ze=[],Be=getTraceIndex(Ee.parcatsViewModel),Ue=0;Ue<Ee.model.valueInds.length;Ue++){var We=Ee.model.valueInds[Ue];ze.push({curveNumber:Be,pointNumber:We})}return ze}function buildConstraintsForPath(Ee){for(var ze={},Be=Ee.parcatsViewModel.model.dimensions,Ue=0;Ue<Be.length;Ue++){var We=Be[Ue],$e=We.categories[Ee.model.categoryInds[Ue]];ze[We.containerInd]=$e.categoryValue}return void 0!==Ee.model.rawColor&&(ze.color=Ee.model.rawColor),ze}function clickPath(Ee){if(-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("skip")){var ze=buildPointsArrayForPath(Ee),Be=buildConstraintsForPath(Ee);Ee.parcatsViewModel.graphDiv.emit("plotly_click",{points:ze,event:Ue.event,constraints:Be})}}function stylePathsNoHover(Ee){Ee.attr("fill",(function(Ee){return Ee.model.color})).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function stylePathsHover(Ee){Ee.attr("fill-opacity",.8).attr("stroke",(function(Ee){return tt.mostReadable(Ee.model.color,["black","white"])})).attr("stroke-width",.3)}function styleCategoriesNoHover(Ee){Ee.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function styleBandsNoHover(Ee){Ee.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function selectPathsThroughCategoryBandColor(Ee){var ze=Ee.parcatsViewModel.pathSelection,Be=Ee.categoryViewModel.model.dimensionInd,Ue=Ee.categoryViewModel.model.categoryInd;return ze.filter((function(ze){return ze.model.categoryInds[Be]===Ue&&ze.model.color===Ee.color}))}function emitPointsEventCategoryHovermode(Ee,ze,Be){var We=Ue.select(Ee).datum(),$e=We.categoryViewModel.model,Qe=We.parcatsViewModel.graphDiv,et=Ue.select(Ee.parentNode).selectAll("rect.bandrect"),tt=[];et.each((function(Ee){selectPathsThroughCategoryBandColor(Ee).each((function(Ee){Array.prototype.push.apply(tt,buildPointsArrayForPath(Ee))}))}));var rt={};rt[$e.dimensionInd]=$e.categoryValue,Qe.emit(ze,{points:tt,event:Be,constraints:rt})}function emitPointsEventColorHovermode(Ee,ze,Be){var We=Ue.select(Ee).datum(),$e=We.categoryViewModel.model,Qe=We.parcatsViewModel.graphDiv,et=selectPathsThroughCategoryBandColor(We),tt=[];et.each((function(Ee){Array.prototype.push.apply(tt,buildPointsArrayForPath(Ee))}));var rt={};rt[$e.dimensionInd]=$e.categoryValue,void 0!==We.rawColor&&(rt.color=We.rawColor),Qe.emit(ze,{points:tt,event:Be,constraints:rt})}function createHoverLabelForCategoryHovermode(Ee,ze){var Be,We,$e=Ue.select(ze.parentNode).select("rect.catrect"),Qe=$e.node().getBoundingClientRect(),et=$e.datum(),tt=et.parcatsViewModel,rt=tt.model.dimensions[et.model.dimensionInd],nt=tt.trace,at=Qe.top+Qe.height/2;tt.dimensions.length>1&&rt.displayInd===tt.dimensions.length-1?(Be=Qe.left,We="left"):(Be=Qe.left+Qe.width,We="right");var it=et.model.count,ct=et.model.categoryLabel,ft=it/et.parcatsViewModel.model.count,xt={countLabel:it,categoryLabel:ct,probabilityLabel:ft.toFixed(3)},kt=[];-1!==et.parcatsViewModel.hoverinfoItems.indexOf("count")&&kt.push(["Count:",xt.countLabel].join(" ")),-1!==et.parcatsViewModel.hoverinfoItems.indexOf("probability")&&kt.push(["P("+xt.categoryLabel+"):",xt.probabilityLabel].join(" "));var Lt=kt.join("<br>");return{trace:nt,x:Be-Ee.left,y:at-Ee.top,text:Lt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:We,hovertemplate:nt.hovertemplate,hovertemplateLabels:xt,eventData:[{data:nt._input,fullData:nt,count:it,category:ct,probability:ft}]}}function mouseoverCategoryBand(Ee){if(!Ee.parcatsViewModel.dragDimension&&-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(Ue.mouse(this)[1]<-1)return;var ze,Be=Ee.parcatsViewModel.graphDiv,We=Be._fullLayout,et=We._paperdiv.node().getBoundingClientRect(),rt=Ee.parcatsViewModel.hoveron;if("color"===rt?(!function styleForColorHovermode(Ee){var ze=Ue.select(Ee).datum(),Be=selectPathsThroughCategoryBandColor(ze);stylePathsHover(Be),Be.each((function(){Qe.raiseToTop(this)})),Ue.select(Ee.parentNode).selectAll("rect.bandrect").filter((function(Ee){return Ee.color===ze.color})).each((function(){Qe.raiseToTop(this),function styleBandsHover(Ee){Ee.attr("stroke","black").attr("stroke-width",1.5)}(Ue.select(this))}))}(this),emitPointsEventColorHovermode(this,"plotly_hover",Ue.event)):(!function styleForCategoryHovermode(Ee){Ue.select(Ee.parentNode).selectAll("rect.bandrect").each((function(Ee){var ze=selectPathsThroughCategoryBandColor(Ee);stylePathsHover(ze),ze.each((function(){Qe.raiseToTop(this)}))})),function styleCategoryHover(Ee){Ee.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(Ue.select(Ee.parentNode))}(this),emitPointsEventCategoryHovermode(this,"plotly_hover",Ue.event)),-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("none"))"category"===rt?ze=createHoverLabelForCategoryHovermode(et,this):"color"===rt?ze=function createHoverLabelForColorHovermode(Ee,ze){var Be,We,$e=ze.getBoundingClientRect(),Qe=Ue.select(ze).datum(),et=Qe.categoryViewModel,rt=et.parcatsViewModel,nt=rt.model.dimensions[et.model.dimensionInd],at=rt.trace,it=$e.y+$e.height/2;rt.dimensions.length>1&&nt.displayInd===rt.dimensions.length-1?(Be=$e.left,We="left"):(Be=$e.left+$e.width,We="right");var ct=et.model.categoryLabel,ft=Qe.parcatsViewModel.model.count,xt=0;Qe.categoryViewModel.bands.forEach((function(Ee){Ee.color===Qe.color&&(xt+=Ee.count)}));var kt=et.model.count,Lt=0;rt.pathSelection.each((function(Ee){Ee.model.color===Qe.color&&(Lt+=Ee.model.count)}));var Ut=xt/ft,er=xt/Lt,tr=xt/kt,rr={countLabel:ft,categoryLabel:ct,probabilityLabel:Ut.toFixed(3)},ar=[];-1!==et.parcatsViewModel.hoverinfoItems.indexOf("count")&&ar.push(["Count:",rr.countLabel].join(" ")),-1!==et.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(ar.push("P(color ∩ "+ct+"): "+rr.probabilityLabel),ar.push("P("+ct+" | color): "+er.toFixed(3)),ar.push("P(color | "+ct+"): "+tr.toFixed(3)));var Lr=ar.join("<br>"),Qr=tt.mostReadable(Qe.color,["black","white"]);return{trace:at,x:Be-Ee.left,y:it-Ee.top,text:Lr,color:Qe.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Qr,fontSize:10,idealAlign:We,hovertemplate:at.hovertemplate,hovertemplateLabels:rr,eventData:[{data:at._input,fullData:at,category:ct,count:ft,probability:Ut,categorycount:kt,colorcount:Lt,bandcolorcount:xt}]}}(et,this):"dimension"===rt&&(ze=function createHoverLabelForDimensionHovermode(Ee,ze){var Be=[];return Ue.select(ze.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each((function(){Be.push(createHoverLabelForCategoryHovermode(Ee,this))})),Be}(et,this)),ze&&$e.loneHover(ze,{container:We._hoverlayer.node(),outerContainer:We._paper.node(),gd:Be})}}function mouseoutCategory(Ee){var ze=Ee.parcatsViewModel;if(!ze.dragDimension&&(stylePathsNoHover(ze.pathSelection),styleCategoriesNoHover(ze.dimensionSelection.selectAll("g.category")),styleBandsNoHover(ze.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),$e.loneUnhover(ze.graphDiv._fullLayout._hoverlayer.node()),ze.pathSelection.sort(compareRawColor),-1===ze.hoverinfoItems.indexOf("skip"))){"color"===Ee.parcatsViewModel.hoveron?emitPointsEventColorHovermode(this,"plotly_unhover",Ue.event):emitPointsEventCategoryHovermode(this,"plotly_unhover",Ue.event)}}function dragDimensionStart(Ee){"fixed"!==Ee.parcatsViewModel.arrangement&&(Ee.dragDimensionDisplayInd=Ee.model.displayInd,Ee.initialDragDimensionDisplayInds=Ee.parcatsViewModel.model.dimensions.map((function(Ee){return Ee.displayInd})),Ee.dragHasMoved=!1,Ee.dragCategoryDisplayInd=null,Ue.select(this).selectAll("g.category").select("rect.catrect").each((function(ze){var Be=Ue.mouse(this)[0],We=Ue.mouse(this)[1];-2<=Be&&Be<=ze.width+2&&-2<=We&&We<=ze.height+2&&(Ee.dragCategoryDisplayInd=ze.model.displayInd,Ee.initialDragCategoryDisplayInds=Ee.model.categories.map((function(Ee){return Ee.displayInd})),ze.model.dragY=ze.y,Qe.raiseToTop(this.parentNode),Ue.select(this.parentNode).selectAll("rect.bandrect").each((function(ze){ze.y<We&&We<=ze.y+ze.height&&(Ee.potentialClickBand=this)})))})),Ee.parcatsViewModel.dragDimension=Ee,$e.loneUnhover(Ee.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function dragDimension(Ee){if("fixed"!==Ee.parcatsViewModel.arrangement&&(Ee.dragHasMoved=!0,null!==Ee.dragDimensionDisplayInd)){var ze=Ee.dragDimensionDisplayInd,Be=ze-1,We=ze+1,$e=Ee.parcatsViewModel.dimensions[ze];if(null!==Ee.dragCategoryDisplayInd){var Qe=$e.categories[Ee.dragCategoryDisplayInd];Qe.model.dragY+=Ue.event.dy;var et=Qe.model.dragY,tt=Qe.model.displayInd,rt=$e.categories,nt=rt[tt-1],at=rt[tt+1];void 0!==nt&&et<nt.y+nt.height/2&&(Qe.model.displayInd=nt.model.displayInd,nt.model.displayInd=tt),void 0!==at&&et+Qe.height>at.y+at.height/2&&(Qe.model.displayInd=at.model.displayInd,at.model.displayInd=tt),Ee.dragCategoryDisplayInd=Qe.model.displayInd}if(null===Ee.dragCategoryDisplayInd||"freeform"===Ee.parcatsViewModel.arrangement){$e.model.dragX=Ue.event.x;var it=Ee.parcatsViewModel.dimensions[Be],ct=Ee.parcatsViewModel.dimensions[We];void 0!==it&&$e.model.dragX<it.x+it.width&&($e.model.displayInd=it.model.displayInd,it.model.displayInd=ze),void 0!==ct&&$e.model.dragX+$e.width>ct.x&&($e.model.displayInd=ct.model.displayInd,ct.model.displayInd=Ee.dragDimensionDisplayInd),Ee.dragDimensionDisplayInd=$e.model.displayInd}updateDimensionViewModels(Ee.parcatsViewModel),updatePathViewModels(Ee.parcatsViewModel),updateSvgCategories(Ee.parcatsViewModel),updateSvgPaths(Ee.parcatsViewModel)}}function dragDimensionEnd(Ee){if("fixed"!==Ee.parcatsViewModel.arrangement&&null!==Ee.dragDimensionDisplayInd){Ue.select(this).selectAll("text").attr("font-weight","normal");var ze={},Be=getTraceIndex(Ee.parcatsViewModel),$e=Ee.parcatsViewModel.model.dimensions.map((function(Ee){return Ee.displayInd})),Qe=Ee.initialDragDimensionDisplayInds.some((function(Ee,ze){return Ee!==$e[ze]}));Qe&&$e.forEach((function(Be,Ue){var We=Ee.parcatsViewModel.model.dimensions[Ue].containerInd;ze["dimensions["+We+"].displayindex"]=Be}));var et=!1;if(null!==Ee.dragCategoryDisplayInd){var tt=Ee.model.categories.map((function(Ee){return Ee.displayInd}));if(et=Ee.initialDragCategoryDisplayInds.some((function(Ee,ze){return Ee!==tt[ze]}))){var rt=Ee.model.categories.slice().sort((function(Ee,ze){return Ee.displayInd-ze.displayInd})),nt=rt.map((function(Ee){return Ee.categoryValue})),at=rt.map((function(Ee){return Ee.categoryLabel}));ze["dimensions["+Ee.model.containerInd+"].categoryarray"]=[nt],ze["dimensions["+Ee.model.containerInd+"].ticktext"]=[at],ze["dimensions["+Ee.model.containerInd+"].categoryorder"]="array"}}if(-1===Ee.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!Ee.dragHasMoved&&Ee.potentialClickBand&&("color"===Ee.parcatsViewModel.hoveron?emitPointsEventColorHovermode(Ee.potentialClickBand,"plotly_click",Ue.event.sourceEvent):emitPointsEventCategoryHovermode(Ee.potentialClickBand,"plotly_click",Ue.event.sourceEvent)),Ee.model.dragX=null,null!==Ee.dragCategoryDisplayInd)Ee.parcatsViewModel.dimensions[Ee.dragDimensionDisplayInd].categories[Ee.dragCategoryDisplayInd].model.dragY=null,Ee.dragCategoryDisplayInd=null;Ee.dragDimensionDisplayInd=null,Ee.parcatsViewModel.dragDimension=null,Ee.dragHasMoved=null,Ee.potentialClickBand=null,updateDimensionViewModels(Ee.parcatsViewModel),updatePathViewModels(Ee.parcatsViewModel),Ue.transition().duration(300).ease("cubic-in-out").each((function(){updateSvgCategories(Ee.parcatsViewModel,!0),updateSvgPaths(Ee.parcatsViewModel,!0)})).each("end",(function(){(Qe||et)&&We.restyle(Ee.parcatsViewModel.graphDiv,ze,[Be])}))}}function getTraceIndex(Ee){for(var ze,Be=Ee.graphDiv._fullData,Ue=0;Ue<Be.length;Ue++)if(Ee.key===Be[Ue].uid){ze=Ue;break}return ze}function updateSvgPaths(Ee,ze){void 0===ze&&(ze=!1),Ee.pathSelection.data((function(Ee){return Ee.paths}),key),function transition(Ee){return ze?Ee.transition():Ee}(Ee.pathSelection).attr("d",(function(Ee){return Ee.svgD}))}function updateSvgCategories(Ee,ze){function transition(Ee){return ze?Ee.transition():Ee}void 0===ze&&(ze=!1),Ee.dimensionSelection.data((function(Ee){return Ee.dimensions}),key);var Be=Ee.dimensionSelection.selectAll("g.category").data((function(Ee){return Ee.categories}),key);transition(Ee.dimensionSelection).attr("transform",(function(Ee){return"translate("+Ee.x+", 0)"})),transition(Be).attr("transform",(function(Ee){return"translate(0, "+Ee.y+")"})),Be.select(".dimlabel").text((function(Ee,ze){return 0===ze?Ee.parcatsViewModel.model.dimensions[Ee.model.dimensionInd].dimensionLabel:null})),Be.select(".catlabel").attr("text-anchor",(function(Ee){return catInRightDim(Ee)?"start":"end"})).attr("x",(function(Ee){return catInRightDim(Ee)?Ee.width+5:-5})).each((function(Ee){var ze,Be;catInRightDim(Ee)?(ze=Ee.width+5,Be="start"):(ze=-5,Be="end"),Ue.select(this).selectAll("tspan").attr("x",ze).attr("text-anchor",Be)}));var We=Be.selectAll("rect.bandrect").data((function(Ee){return Ee.bands}),key),$e=We.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",(function(Ee){return Ee.color})).attr("fill-opacity",0);We.attr("fill",(function(Ee){return Ee.color})).attr("width",(function(Ee){return Ee.width})).attr("height",(function(Ee){return Ee.height})).attr("y",(function(Ee){return Ee.y})),styleBandsNoHover($e),We.each((function(){Qe.raiseToTop(this)})),We.exit().remove()}function createParcatsViewModel(Ee,ze,Be){var Ue,We=Be[0],$e=ze.margin||{l:80,r:80,t:100,b:80},Qe=We.trace,et=Qe.domain,tt=ze.width,rt=ze.height,nt=Math.floor(tt*(et.x[1]-et.x[0])),at=Math.floor(rt*(et.y[1]-et.y[0])),it=et.x[0]*tt+$e.l,ct=ze.height-et.y[1]*ze.height+$e.t,ft=Qe.line.shape;Ue="all"===Qe.hoverinfo?["count","probability"]:(Qe.hoverinfo||"").split("+");var xt={trace:Qe,key:Qe.uid,model:We,x:it,y:ct,width:nt,height:at,hoveron:Qe.hoveron,hoverinfoItems:Ue,arrangement:Qe.arrangement,bundlecolors:Qe.bundlecolors,sortpaths:Qe.sortpaths,labelfont:Qe.labelfont,categorylabelfont:Qe.tickfont,pathShape:ft,dragDimension:null,margin:$e,paths:[],dimensions:[],graphDiv:Ee,traceSelection:null,pathSelection:null,dimensionSelection:null};return We.dimensions&&(updateDimensionViewModels(xt),updatePathViewModels(xt)),xt}function buildSvgPath(Ee,ze,Be,We,$e){var Qe,et,tt=[],rt=[];for(et=0;et<Be.length-1;et++)Qe=Ue.interpolateNumber(Be[et]+Ee[et],Ee[et+1]),tt.push(Qe($e)),rt.push(Qe(1-$e));var nt="M "+Ee[0]+","+ze[0];for(nt+="l"+Be[0]+",0 ",et=1;et<Be.length;et++)nt+="C"+tt[et-1]+","+ze[et-1]+" "+rt[et-1]+","+ze[et]+" "+Ee[et]+","+ze[et],nt+="l"+Be[et]+",0 ";for(nt+="l0,"+We+" ",nt+="l -"+Be[Be.length-1]+",0 ",et=Be.length-2;et>=0;et--)nt+="C"+rt[et]+","+(ze[et+1]+We)+" "+tt[et]+","+(ze[et]+We)+" "+(Ee[et]+Be[et])+","+(ze[et]+We),nt+="l-"+Be[et]+",0 ";return nt+="Z"}function updatePathViewModels(Ee){var ze=Ee.dimensions,Be=Ee.model,Ue=ze.map((function(Ee){return Ee.categories.map((function(Ee){return Ee.y}))})),We=Ee.model.dimensions.map((function(Ee){return Ee.categories.map((function(Ee){return Ee.displayInd}))})),$e=Ee.model.dimensions.map((function(Ee){return Ee.displayInd})),Qe=Ee.dimensions.map((function(Ee){return Ee.model.dimensionInd})),et=ze.map((function(Ee){return Ee.x})),tt=ze.map((function(Ee){return Ee.width})),rt=[];for(var nt in Be.paths)Be.paths.hasOwnProperty(nt)&&rt.push(Be.paths[nt]);function pathDisplayCategoryInds(Ee){var ze=Ee.categoryInds.map((function(Ee,ze){return We[ze][Ee]}));return Qe.map((function(Ee){return ze[Ee]}))}rt.sort((function(ze,Be){var Ue=pathDisplayCategoryInds(ze),We=pathDisplayCategoryInds(Be);return"backward"===Ee.sortpaths&&(Ue.reverse(),We.reverse()),Ue.push(ze.valueInds[0]),We.push(Be.valueInds[0]),Ee.bundlecolors&&(Ue.unshift(ze.rawColor),We.unshift(Be.rawColor)),Ue<We?-1:Ue>We?1:0}));for(var at=new Array(rt.length),it=ze[0].model.count,ct=ze[0].categories.map((function(Ee){return Ee.height})).reduce((function(Ee,ze){return Ee+ze})),ft=0;ft<rt.length;ft++){var xt,kt=rt[ft];xt=it>0?ct*(kt.count/it):0;for(var Lt,Ut=new Array(Ue.length),er=0;er<kt.categoryInds.length;er++){var tr=kt.categoryInds[er],rr=We[er][tr],ar=$e[er];Ut[ar]=Ue[ar][rr],Ue[ar][rr]+=xt;var Lr=Ee.dimensions[ar].categories[rr],Qr=Lr.bands.length,on=Lr.bands[Qr-1];if(void 0===on||kt.rawColor!==on.rawColor){var sn=void 0===on?0:on.y+on.height;Lr.bands.push({key:sn,color:kt.color,rawColor:kt.rawColor,height:xt,width:Lr.width,count:kt.count,y:sn,categoryViewModel:Lr,parcatsViewModel:Ee})}else{var ln=Lr.bands[Qr-1];ln.height+=xt,ln.count+=kt.count}}Lt="hspline"===Ee.pathShape?buildSvgPath(et,Ut,tt,xt,.5):buildSvgPath(et,Ut,tt,xt,0),at[ft]={key:kt.valueInds[0],model:kt,height:xt,leftXs:et,topYs:Ut,dimWidths:tt,svgD:Lt,parcatsViewModel:Ee}}Ee.paths=at}function updateDimensionViewModels(Ee){var ze=Ee.model.dimensions.map((function(Ee){return{displayInd:Ee.displayInd,dimensionInd:Ee.dimensionInd}}));ze.sort((function(Ee,ze){return Ee.displayInd-ze.displayInd}));var Be=[];for(var Ue in ze){var We=ze[Ue].dimensionInd,$e=Ee.model.dimensions[We];Be.push(createDimensionViewModel(Ee,$e))}Ee.dimensions=Be}function createDimensionViewModel(Ee,ze){var Be,Ue=Ee.model.dimensions.length,We=ze.displayInd;Be=40+(Ue>1?(Ee.width-80-16)/(Ue-1):0)*We;var $e,Qe,et,tt,rt,nt=[],at=Ee.model.maxCats,it=ze.categories.length,ct=ze.count,ft=Ee.height-8*(at-1),xt=8*(at-it)/2,kt=ze.categories.map((function(Ee){return{displayInd:Ee.displayInd,categoryInd:Ee.categoryInd}}));for(kt.sort((function(Ee,ze){return Ee.displayInd-ze.displayInd})),rt=0;rt<it;rt++)tt=kt[rt].categoryInd,Qe=ze.categories[tt],$e=ct>0?Qe.count/ct*ft:0,et={key:Qe.valueInds[0],model:Qe,width:16,height:$e,y:null!==Qe.dragY?Qe.dragY:xt,bands:[],parcatsViewModel:Ee},xt=xt+$e+8,nt.push(et);return{key:ze.dimensionInd,x:null!==ze.dragX?ze.dragX:Be,y:0,width:16,model:ze,categories:nt,parcatsViewModel:Ee,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}Ee.exports=function(Ee,ze,Be,Ue){performPlot(Be,Ee,Ue,ze)}},d012:function(Ee,ze){Ee.exports={}},d039:function(Ee,ze){Ee.exports=function(Ee){try{return!!Ee()}catch(Ee){return!0}}},d064:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("e806").BADNUM;Ee.exports=function convertColumnData(Ee,ze,Be,$e,Qe,et){var tt,rt,nt,at,it=Ee._length,ct=ze.makeCalcdata(Ee,$e),ft=Be.makeCalcdata(Ee,Qe),xt=Ee.text,kt=void 0!==xt&&Ue.isArray1D(xt),Lt=Ee.hovertext,Ut=void 0!==Lt&&Ue.isArray1D(Lt),er=Ue.distinctVals(ct),tr=er.vals,rr=Ue.distinctVals(ft),ar=rr.vals,Lr=[];for(tt=0;tt<et.length;tt++)Lr[tt]=Ue.init2dArray(ar.length,tr.length);kt&&(nt=Ue.init2dArray(ar.length,tr.length)),Ut&&(at=Ue.init2dArray(ar.length,tr.length));var Qr=Ue.init2dArray(ar.length,tr.length);for(tt=0;tt<it;tt++)if(ct[tt]!==We&&ft[tt]!==We){var on=Ue.findBin(ct[tt]+er.minDiff/2,tr),sn=Ue.findBin(ft[tt]+rr.minDiff/2,ar);for(rt=0;rt<et.length;rt++){var ln=Ee[et[rt]];Lr[rt][sn][on]=ln[tt],Qr[sn][on]=tt}kt&&(nt[sn][on]=xt[tt]),Ut&&(at[sn][on]=Lt[tt])}for(Ee["_"+$e]=tr,Ee["_"+Qe]=ar,rt=0;rt<et.length;rt++)Ee["_"+et[rt]]=Lr[rt];kt&&(Ee._text=nt),Ut&&(Ee._hovertext=at),ze&&"category"===ze.type&&(Ee["_"+$e+"CategoryMap"]=tr.map((function(Ee){return ze._categories[Ee]}))),Be&&"category"===Be.type&&(Ee["_"+Qe+"CategoryMap"]=ar.map((function(Ee){return Be._categories[Ee]}))),Ee._after2before=Qr}},d064b:function(Ee,ze,Be){"use strict";var Ue=Be("eb73"),We=Be("a3fd");function identity(Ee){return new Function("y","return function(){return y}")(Ee)}function makeVector(Ee,ze){for(var Be=new Array(Ee),Ue=0;Ue<Ee;++Ue)Be[Ue]=ze;return Be}Ee.exports=function createUniformWrapper(Ee,ze,Be,$e){function makePropSetter(Ee,ze,Be){switch(Be){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+ze+"],obj"+Ee+")";case"float":return"gl.uniform1f(locations["+ze+"],obj"+Ee+")";default:var Ue=Be.indexOf("vec");if(!(0<=Ue&&Ue<=1&&Be.length===4+Ue)){if(0===Be.indexOf("mat")&&4===Be.length){var $e;if(($e=Be.charCodeAt(Be.length-1)-48)<2||$e>4)throw new We("","Invalid uniform dimension type for matrix "+name+": "+Be);return"gl.uniformMatrix"+$e+"fv(locations["+ze+"],false,obj"+Ee+")"}throw new We("","Unknown uniform data type for "+name+": "+Be)}if(($e=Be.charCodeAt(Be.length-1)-48)<2||$e>4)throw new We("","Invalid data type");switch(Be.charAt(0)){case"b":case"i":return"gl.uniform"+$e+"iv(locations["+ze+"],obj"+Ee+")";case"v":return"gl.uniform"+$e+"fv(locations["+ze+"],obj"+Ee+")";default:throw new We("","Unrecognized data type for vector "+name+": "+Be)}}}function makeSetter(ze){for(var Ue=["return function updateProperty(obj){"],We=function enumerateIndices(Ee,ze){if("object"!=typeof ze)return[[Ee,ze]];var Be=[];for(var Ue in ze){var We=ze[Ue],$e=Ee;parseInt(Ue)+""===Ue?$e+="["+Ue+"]":$e+="."+Ue,"object"==typeof We?Be.push.apply(Be,enumerateIndices($e,We)):Be.push([$e,We])}return Be}("",ze),Qe=0;Qe<We.length;++Qe){var et=We[Qe],tt=et[0],rt=et[1];$e[rt]&&Ue.push(makePropSetter(tt,rt,Be[rt].type))}return Ue.push("return obj}"),new Function("gl","locations",Ue.join("\n"))(Ee,$e)}function storeProperty(Ue,Qe,et){if("object"==typeof et){var tt=processObject(et);Object.defineProperty(Ue,Qe,{get:identity(tt),set:makeSetter(et),enumerable:!0,configurable:!1})}else $e[et]?Object.defineProperty(Ue,Qe,{get:(rt=et,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+rt+"])}")(Ee,ze,$e)),set:makeSetter(et),enumerable:!0,configurable:!1}):Ue[Qe]=function defaultValue(Ee){switch(Ee){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var ze=Ee.indexOf("vec");if(0<=ze&&ze<=1&&Ee.length===4+ze){if((Be=Ee.charCodeAt(Ee.length-1)-48)<2||Be>4)throw new We("","Invalid data type");return"b"===Ee.charAt(0)?makeVector(Be,!1):makeVector(Be,0)}if(0===Ee.indexOf("mat")&&4===Ee.length){var Be;if((Be=Ee.charCodeAt(Ee.length-1)-48)<2||Be>4)throw new We("","Invalid uniform dimension type for matrix "+name+": "+Ee);return makeVector(Be*Be,0)}throw new We("","Unknown uniform data type for "+name+": "+Ee)}}(Be[et].type);var rt}function processObject(Ee){var ze;if(Array.isArray(Ee)){ze=new Array(Ee.length);for(var Be=0;Be<Ee.length;++Be)storeProperty(ze,Be,Ee[Be])}else for(var Ue in ze={},Ee)storeProperty(ze,Ue,Ee[Ue]);return ze}var Qe=Ue(Be,!0);return{get:identity(processObject(Qe)),set:makeSetter(Qe),enumerable:!0,configurable:!0}}},d066:function(Ee,ze,Be){var Ue=Be("428f"),We=Be("da84"),aFunction=function(Ee){return"function"==typeof Ee?Ee:void 0};Ee.exports=function(Ee,ze){return arguments.length<2?aFunction(Ue[Ee])||aFunction(We[Ee]):Ue[Ee]&&Ue[Ee][ze]||We[Ee]&&We[Ee][ze]}},d06d:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("de81"),Qe=Be("5047"),et=Be("59be"),tt=Be("e9f7"),rt=Be("9036");Ee.exports=function supplyDefaults(Ee,ze,Be,nt){function coerce(Be,Ue){return We.coerce(Ee,ze,rt,Be,Ue)}if(function handleXYZDefaults(Ee,ze,Be,We){var $e=0,Qe=Be("x"),et=Be("y"),tt=Be("z");Ue.getComponentMethod("calendars","handleTraceDefaults")(Ee,ze,["x","y","z"],We),Qe&&et&&tt&&($e=Math.min(Qe.length,et.length,tt.length),ze._length=ze._xlength=ze._ylength=ze._zlength=$e);return $e}(Ee,ze,coerce,nt)){coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("mode"),$e.hasLines(ze)&&(coerce("connectgaps"),et(Ee,ze,Be,nt,coerce)),$e.hasMarkers(ze)&&Qe(Ee,ze,Be,nt,coerce,{noSelect:!0}),$e.hasText(ze)&&(coerce("texttemplate"),tt(Ee,ze,nt,coerce,{noSelect:!0}));var at=(ze.line||{}).color,it=(ze.marker||{}).color;coerce("surfaceaxis")>=0&&coerce("surfacecolor",at||it);for(var ct=["x","y","z"],ft=0;ft<3;++ft){var xt="projection."+ct[ft];coerce(xt+".show")&&(coerce(xt+".opacity"),coerce(xt+".scale"))}var kt=Ue.getComponentMethod("errorbars","supplyDefaults");kt(Ee,ze,at||it||Be,{axis:"z"}),kt(Ee,ze,at||it||Be,{axis:"y",inherit:"z"}),kt(Ee,ze,at||it||Be,{axis:"x",inherit:"z"})}else ze.visible=!1}},d0ad:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("e806").BADNUM,$e=Be("3aa8"),Qe=Be("106b"),et=Be("4136");function isNonBlankString(Ee){return Ee&&"string"==typeof Ee}Ee.exports=function calc(Ee,ze){var Be,tt=ze._length,rt=new Array(tt);Be=ze.geojson?function(Ee){return isNonBlankString(Ee)||Ue(Ee)}:isNonBlankString;for(var nt=0;nt<tt;nt++){var at=rt[nt]={},it=ze.locations[nt],ct=ze.z[nt];Be(it)&&Ue(ct)?(at.loc=it,at.z=ct):(at.loc=null,at.z=We),at.index=nt}return Qe(rt,ze),$e(Ee,ze,{vals:ze.z,containerStr:"",cLetter:"z"}),et(rt,ze),rt}},d0b7:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function convertTextOpts(Ee,ze){var Be=Ee.split(" "),We=Be[0],$e=Be[1],Qe=Ue.isArrayOrTypedArray(ze)?Ue.mean(ze):ze,et=.5+Qe/100,tt=1.5+Qe/100,rt=["",""],nt=[0,0];switch(We){case"top":rt[0]="top",nt[1]=-tt;break;case"bottom":rt[0]="bottom",nt[1]=tt}switch($e){case"left":rt[1]="right",nt[0]=-et;break;case"right":rt[1]="left",nt[0]=et}return{anchor:rt[0]&&rt[1]?rt.join("-"):rt[0]?rt[0]:rt[1]?rt[1]:"center",offset:nt}}},d0d2:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d0b7"),$e=Be("b5e4");function MapboxLayer(Ee,ze){this.subplot=Ee,this.uid=Ee.uid+"-"+ze,this.index=ze,this.idSource="source-"+this.uid,this.idLayer=$e.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var Qe=MapboxLayer.prototype;function isVisible(Ee){if(!Ee.visible)return!1;var ze=Ee.source;if(Array.isArray(ze)&&ze.length>0){for(var Be=0;Be<ze.length;Be++)if("string"!=typeof ze[Be]||0===ze[Be].length)return!1;return!0}return Ue.isPlainObject(ze)||"string"==typeof ze&&ze.length>0}function convertOpts(Ee){var ze={},Be={};switch(Ee.type){case"circle":Ue.extendFlat(Be,{"circle-radius":Ee.circle.radius,"circle-color":Ee.color,"circle-opacity":Ee.opacity});break;case"line":Ue.extendFlat(Be,{"line-width":Ee.line.width,"line-color":Ee.color,"line-opacity":Ee.opacity,"line-dasharray":Ee.line.dash});break;case"fill":Ue.extendFlat(Be,{"fill-color":Ee.color,"fill-outline-color":Ee.fill.outlinecolor,"fill-opacity":Ee.opacity});break;case"symbol":var $e=Ee.symbol,Qe=We($e.textposition,$e.iconsize);Ue.extendFlat(ze,{"icon-image":$e.icon+"-15","icon-size":$e.iconsize/10,"text-field":$e.text,"text-size":$e.textfont.size,"text-anchor":Qe.anchor,"text-offset":Qe.offset,"symbol-placement":$e.placement}),Ue.extendFlat(Be,{"icon-color":Ee.color,"text-color":$e.textfont.color,"text-opacity":Ee.opacity});break;case"raster":Ue.extendFlat(Be,{"raster-fade-duration":0})}return{layout:ze,paint:Be}}Qe.update=function update(Ee){this.visible?this.needsNewImage(Ee)?this.updateImage(Ee):this.needsNewSource(Ee)?(this.removeLayer(),this.updateSource(Ee),this.updateLayer(Ee)):this.needsNewLayer(Ee)?this.updateLayer(Ee):this.updateStyle(Ee):(this.updateSource(Ee),this.updateLayer(Ee)),this.visible=isVisible(Ee)},Qe.needsNewImage=function(Ee){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===Ee.sourcetype&&(this.source!==Ee.source||JSON.stringify(this.coordinates)!==JSON.stringify(Ee.coordinates))},Qe.needsNewSource=function(Ee){return this.sourceType!==Ee.sourcetype||this.source!==Ee.source||this.layerType!==Ee.type},Qe.needsNewLayer=function(Ee){return this.layerType!==Ee.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},Qe.updateImage=function(Ee){this.subplot.map.getSource(this.idSource).updateImage({url:Ee.source,coordinates:Ee.coordinates})},Qe.updateSource=function(Ee){var ze=this.subplot.map;if(ze.getSource(this.idSource)&&ze.removeSource(this.idSource),this.sourceType=Ee.sourcetype,this.source=Ee.source,isVisible(Ee)){var Be=function convertSourceOpts(Ee){var ze,Be=Ee.sourcetype,Ue=Ee.source,We={type:Be};"geojson"===Be?ze="data":"vector"===Be?ze="string"==typeof Ue?"url":"tiles":"raster"===Be?(ze="tiles",We.tileSize=256):"image"===Be&&(ze="url",We.coordinates=Ee.coordinates);We[ze]=Ue,Ee.sourceattribution&&(We.attribution=Ee.sourceattribution);return We}(Ee);ze.addSource(this.idSource,Be)}},Qe.updateLayer=function(Ee){var ze,Be=this.subplot,Ue=convertOpts(Ee),We=this.subplot.belowLookup["layout-"+this.index];if("traces"===We)for(var Qe=Be.getMapLayers(),et=0;et<Qe.length;et++){var tt=Qe[et].id;if("string"==typeof tt&&0===tt.indexOf($e.traceLayerPrefix)){ze=tt;break}}else ze=We;this.removeLayer(),isVisible(Ee)&&Be.addLayer({id:this.idLayer,source:this.idSource,"source-layer":Ee.sourcelayer||"",type:Ee.type,minzoom:Ee.minzoom,maxzoom:Ee.maxzoom,layout:Ue.layout,paint:Ue.paint},ze),this.layerType=Ee.type,this.below=We},Qe.updateStyle=function(Ee){if(isVisible(Ee)){var ze=convertOpts(Ee);this.subplot.setOptions(this.idLayer,"setLayoutProperty",ze.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",ze.paint)}},Qe.removeLayer=function(){var Ee=this.subplot.map;Ee.getLayer(this.idLayer)&&Ee.removeLayer(this.idLayer)},Qe.dispose=function(){var Ee=this.subplot.map;Ee.getLayer(this.idLayer)&&Ee.removeLayer(this.idLayer),Ee.getSource(this.idSource)&&Ee.removeSource(this.idSource)},Ee.exports=function createMapboxLayer(Ee,ze,Be){var Ue=new MapboxLayer(Ee,ze);return Ue.update(Be),Ue}},d115:function(Ee,ze,Be){"use strict";var Ue=Be("66cb"),We=Be("19b2"),$e=Ee.exports={},Qe=Be("dfb3");$e.defaults=Qe.defaults;var et=$e.defaultLine=Qe.defaultLine;$e.lightLine=Qe.lightLine;var tt=$e.background=Qe.background;function cleanOne(Ee){if(We(Ee)||"string"!=typeof Ee)return Ee;var ze=Ee.trim();if("rgb"!==ze.substr(0,3))return Ee;var Be=ze.match(/^rgba?\s*\(([^()]*)\)$/);if(!Be)return Ee;var Ue=Be[1].trim().split(/\s*[\s,]\s*/),$e="a"===ze.charAt(3)&&4===Ue.length;if(!$e&&3!==Ue.length)return Ee;for(var Qe=0;Qe<Ue.length;Qe++){if(!Ue[Qe].length)return Ee;if(Ue[Qe]=Number(Ue[Qe]),!(Ue[Qe]>=0))return Ee;if(3===Qe)Ue[Qe]>1&&(Ue[Qe]=1);else if(Ue[Qe]>=1)return Ee}var et=Math.round(255*Ue[0])+", "+Math.round(255*Ue[1])+", "+Math.round(255*Ue[2]);return $e?"rgba("+et+", "+Ue[3]+")":"rgb("+et+")"}$e.tinyRGB=function(Ee){var ze=Ee.toRgb();return"rgb("+Math.round(ze.r)+", "+Math.round(ze.g)+", "+Math.round(ze.b)+")"},$e.rgb=function(Ee){return $e.tinyRGB(Ue(Ee))},$e.opacity=function(Ee){return Ee?Ue(Ee).getAlpha():0},$e.addOpacity=function(Ee,ze){var Be=Ue(Ee).toRgb();return"rgba("+Math.round(Be.r)+", "+Math.round(Be.g)+", "+Math.round(Be.b)+", "+ze+")"},$e.combine=function(Ee,ze){var Be=Ue(Ee).toRgb();if(1===Be.a)return Ue(Ee).toRgbString();var We=Ue(ze||tt).toRgb(),$e=1===We.a?We:{r:255*(1-We.a)+We.r*We.a,g:255*(1-We.a)+We.g*We.a,b:255*(1-We.a)+We.b*We.a},Qe={r:$e.r*(1-Be.a)+Be.r*Be.a,g:$e.g*(1-Be.a)+Be.g*Be.a,b:$e.b*(1-Be.a)+Be.b*Be.a};return Ue(Qe).toRgbString()},$e.contrast=function(Ee,ze,Be){var We=Ue(Ee);return 1!==We.getAlpha()&&(We=Ue($e.combine(Ee,tt))),(We.isDark()?ze?We.lighten(ze):tt:Be?We.darken(Be):et).toString()},$e.stroke=function(Ee,ze){var Be=Ue(ze);Ee.style({stroke:$e.tinyRGB(Be),"stroke-opacity":Be.getAlpha()})},$e.fill=function(Ee,ze){var Be=Ue(ze);Ee.style({fill:$e.tinyRGB(Be),"fill-opacity":Be.getAlpha()})},$e.clean=function(Ee){if(Ee&&"object"==typeof Ee){var ze,Be,Ue,We,Qe=Object.keys(Ee);for(ze=0;ze<Qe.length;ze++)if(We=Ee[Ue=Qe[ze]],"color"===Ue.substr(Ue.length-5))if(Array.isArray(We))for(Be=0;Be<We.length;Be++)We[Be]=cleanOne(We[Be]);else Ee[Ue]=cleanOne(We);else if("colorscale"===Ue.substr(Ue.length-10)&&Array.isArray(We))for(Be=0;Be<We.length;Be++)Array.isArray(We[Be])&&(We[Be][1]=cleanOne(We[Be][1]));else if(Array.isArray(We)){var et=We[0];if(!Array.isArray(et)&&et&&"object"==typeof et)for(Be=0;Be<We.length;Be++)$e.clean(We[Be])}else We&&"object"==typeof We&&$e.clean(We)}}},d18b:function(Ee,ze,Be){"use strict";Ee.exports=function handleCategoryOrderDefaults(Ee,ze,Be,Ue){if("category"===ze.type){var We,$e=Ee.categoryarray,Qe=Array.isArray($e)&&$e.length>0;Qe&&(We="array");var et,tt=Be("categoryorder",We);"array"===tt&&(et=Be("categoryarray")),Qe||"array"!==tt||(tt=ze.categoryorder="trace"),"trace"===tt?ze._initialCategories=[]:"array"===tt?ze._initialCategories=et.slice():(et=function findCategories(Ee,ze){var Be,Ue,We,$e=ze.dataAttr||Ee._id.charAt(0),Qe={};if(ze.axData)Be=ze.axData;else for(Be=[],Ue=0;Ue<ze.data.length;Ue++){var et=ze.data[Ue];et[$e+"axis"]===Ee._id&&Be.push(et)}for(Ue=0;Ue<Be.length;Ue++){var tt=Be[Ue][$e];for(We=0;We<tt.length;We++){var rt=tt[We];null!=rt&&(Qe[rt]=1)}}return Object.keys(Qe)}(ze,Ue).sort(),"category ascending"===tt?ze._initialCategories=et:"category descending"===tt&&(ze._initialCategories=et.reverse()))}}},d18e:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=We.extendFlat,Qe=We.extendDeep;function cloneLayoutOverride(Ee){var ze;switch(Ee){case"themes__thumb":ze={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":ze={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:ze={}}return ze}Ee.exports=function clonePlot(Ee,ze){var Be;Ee.framework&&Ee.framework.isPolar&&(Ee=Ee.framework.getConfig());var We,et=Ee.data,tt=Ee.layout,rt=Qe([],et),nt=Qe({},tt,cloneLayoutOverride(ze.tileClass)),at=Ee._context||{};if(ze.width&&(nt.width=ze.width),ze.height&&(nt.height=ze.height),"thumbnail"===ze.tileClass||"themes__thumb"===ze.tileClass){nt.annotations=[];var it=Object.keys(nt);for(Be=0;Be<it.length;Be++)We=it[Be],["xaxis","yaxis","zaxis"].indexOf(We.slice(0,5))>-1&&(nt[it[Be]].title={text:""});for(Be=0;Be<rt.length;Be++){var ct=rt[Be];ct.showscale=!1,ct.marker&&(ct.marker.showscale=!1),Ue.traceIs(ct,"pie-like")&&(ct.textposition="none")}}if(Array.isArray(ze.annotations))for(Be=0;Be<ze.annotations.length;Be++)nt.annotations.push(ze.annotations[Be]);var ft=Object.keys(nt).filter((function(Ee){return Ee.match(/^scene\d*$/)}));if(ft.length){var xt={};for("thumbnail"===ze.tileClass&&(xt={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),Be=0;Be<ft.length;Be++){var kt=nt[ft[Be]];kt.xaxis||(kt.xaxis={}),kt.yaxis||(kt.yaxis={}),kt.zaxis||(kt.zaxis={}),$e(kt.xaxis,xt),$e(kt.yaxis,xt),$e(kt.zaxis,xt),kt._scene=null}}var Lt=document.createElement("div");ze.tileClass&&(Lt.className=ze.tileClass);var Ut={gd:Lt,td:Lt,layout:nt,data:rt,config:{staticPlot:void 0===ze.staticPlot||ze.staticPlot,plotGlPixelRatio:void 0===ze.plotGlPixelRatio?2:ze.plotGlPixelRatio,displaylogo:ze.displaylogo||!1,showLink:ze.showLink||!1,showTips:ze.showTips||!1,mapboxAccessToken:at.mapboxAccessToken}};return"transparent"!==ze.setBackground&&(Ut.config.setBackground=ze.setBackground||"opaque"),Ut.gd.defaultLayout=cloneLayoutOverride(ze.tileClass),Ut}},d1b2:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("535c"),supplyDefaults:Be("654e"),colorbar:Be("fcb3"),formatLabels:Be("0316"),calc:Be("55f6"),plot:Be("c3e7"),hoverPoints:Be("e725"),eventData:Be("850f"),getBelow:function(Ee,ze){for(var Be=ze.getMapLayers(),Ue=0;Ue<Be.length;Ue++){var We=Be[Ue],$e=We.id;if("symbol"===We.type&&"string"==typeof $e&&-1===$e.indexOf("plotly-"))return $e}},moduleType:"trace",name:"densitymapbox",basePlotModule:Be("860b"),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},d1bd:function(Ee,ze,Be){"use strict";Ee.exports=function fastTwoSum(Ee,ze,Be){var Ue=Ee+ze,We=Ue-Ee,$e=ze-We,Qe=Ee-(Ue-We);if(Be)return Be[0]=Qe+$e,Be[1]=Ue,Be;return[Qe+$e,Ue]}},d1e7:function(Ee,ze,Be){"use strict";var Ue={}.propertyIsEnumerable,We=Object.getOwnPropertyDescriptor,$e=We&&!Ue.call({1:2},1);ze.f=$e?function propertyIsEnumerable(Ee){var ze=We(this,Ee);return!!ze&&ze.enumerable}:Ue},d26e:function(Ee,ze){Ee.exports=function transformQuat(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=Be[0],et=Be[1],tt=Be[2],rt=Be[3],nt=rt*Ue+et*$e-tt*We,at=rt*We+tt*Ue-Qe*$e,it=rt*$e+Qe*We-et*Ue,ct=-Qe*Ue-et*We-tt*$e;return Ee[0]=nt*rt+ct*-Qe+at*-tt-it*-et,Ee[1]=at*rt+ct*-et+it*-Qe-nt*-tt,Ee[2]=it*rt+ct*-tt+nt*-et-at*-Qe,Ee[3]=ze[3],Ee}},d28d:function(Ee,ze){Ee.exports=function add(Ee,ze,Be){return Ee[0]=ze[0]+Be[0],Ee[1]=ze[1]+Be[1],Ee[2]=ze[2]+Be[2],Ee}},d2d4:function(Ee,ze,Be){"use strict";Ee.exports=Be("c3de")},d2d9:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("dfb3"),$e=(0,Be("a651").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});Ee.exports={visible:{valType:"boolean",editType:"plot"},buttons:$e,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:Ue({editType:"plot"}),bgcolor:{valType:"color",dflt:We.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:We.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},d301:function(Ee,ze,Be){"use strict";var Ue=Be("055a").counter;Ee.exports={idRegex:{x:Ue("x"),y:Ue("y")},attrRegex:Ue("[xy]axis"),xAxisMatch:Ue("xaxis"),yAxisMatch:Ue("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},d345:function(Ee,ze,Be){"use strict";Ee.exports=Be("2292")()?WeakMap:Be("1c1a")},d34f:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("fc26"),$e=Be("83d1");function plotBoxAndWhiskers(Ee,ze,Be,$e){var Qe,et,tt=ze.pos,rt=ze.val,nt=$e.bPos,at=$e.wdPos||0,it=$e.bPosPxOffset||0,ct=Be.whiskerwidth||0,ft=Be.notched||!1,xt=ft?1-2*Be.notchwidth:1;Array.isArray($e.bdPos)?(Qe=$e.bdPos[0],et=$e.bdPos[1]):(Qe=$e.bdPos,et=$e.bdPos);var kt=Ee.selectAll("path.box").data("violin"!==Be.type||Be.box.visible?We.identity:[]);kt.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),kt.exit().remove(),kt.each((function(Ee){if(Ee.empty)return"M0,0Z";var ze=tt.c2l(Ee.pos+nt,!0),$e=tt.l2p(ze)+it,kt=tt.l2p(ze-Qe)+it,Lt=tt.l2p(ze+et)+it,Ut=tt.l2p(ze-at)+it,er=tt.l2p(ze+at)+it,tr=tt.l2p(ze-Qe*xt)+it,rr=tt.l2p(ze+et*xt)+it,ar=rt.c2p(Ee.q1,!0),Lr=rt.c2p(Ee.q3,!0),Qr=We.constrain(rt.c2p(Ee.med,!0),Math.min(ar,Lr)+1,Math.max(ar,Lr)-1),on=void 0===Ee.lf||!1===Be.boxpoints,sn=rt.c2p(on?Ee.min:Ee.lf,!0),ln=rt.c2p(on?Ee.max:Ee.uf,!0),cn=rt.c2p(Ee.ln,!0),un=rt.c2p(Ee.un,!0);"h"===Be.orientation?Ue.select(this).attr("d","M"+Qr+","+tr+"V"+rr+"M"+ar+","+kt+"V"+Lt+(ft?"H"+cn+"L"+Qr+","+rr+"L"+un+","+Lt:"")+"H"+Lr+"V"+kt+(ft?"H"+un+"L"+Qr+","+tr+"L"+cn+","+kt:"")+"ZM"+ar+","+$e+"H"+sn+"M"+Lr+","+$e+"H"+ln+(0===ct?"":"M"+sn+","+Ut+"V"+er+"M"+ln+","+Ut+"V"+er)):Ue.select(this).attr("d","M"+tr+","+Qr+"H"+rr+"M"+kt+","+ar+"H"+Lt+(ft?"V"+cn+"L"+rr+","+Qr+"L"+Lt+","+un:"")+"V"+Lr+"H"+kt+(ft?"V"+un+"L"+tr+","+Qr+"L"+kt+","+cn:"")+"ZM"+$e+","+ar+"V"+sn+"M"+$e+","+Lr+"V"+ln+(0===ct?"":"M"+Ut+","+sn+"H"+er+"M"+Ut+","+ln+"H"+er))}))}function plotPoints(Ee,ze,Be,Ue){var Qe=ze.x,et=ze.y,tt=Ue.bdPos,rt=Ue.bPos,nt=Be.boxpoints||Be.points;We.seedPseudoRandom();var at=Ee.selectAll("g.points").data(nt?function(Ee){return Ee.forEach((function(Ee){Ee.t=Ue,Ee.trace=Be})),Ee}:[]);at.enter().append("g").attr("class","points"),at.exit().remove();var it=at.selectAll("path").data((function(Ee){var ze,Ue,$e=Ee.pts2,Qe=Math.max((Ee.max-Ee.min)/10,Ee.q3-Ee.q1),et=1e-9*Qe,at=.01*Qe,it=[],ct=0;if(Be.jitter){if(0===Qe)for(ct=1,it=new Array($e.length),ze=0;ze<$e.length;ze++)it[ze]=1;else for(ze=0;ze<$e.length;ze++){var ft=Math.max(0,ze-5),xt=$e[ft].v,kt=Math.min($e.length-1,ze+5),Lt=$e[kt].v;"all"!==nt&&($e[ze].v<Ee.lf?Lt=Math.min(Lt,Ee.lf):xt=Math.max(xt,Ee.uf));var Ut=Math.sqrt(at*(kt-ft)/(Lt-xt+et))||0;Ut=We.constrain(Math.abs(Ut),0,1),it.push(Ut),ct=Math.max(Ut,ct)}Ue=2*Be.jitter/(ct||1)}for(ze=0;ze<$e.length;ze++){var er=$e[ze],tr=er.v,rr=Be.jitter?Ue*it[ze]*(We.pseudoRandom()-.5):0,ar=Ee.pos+rt+tt*(Be.pointpos+rr);"h"===Be.orientation?(er.y=ar,er.x=tr):(er.x=ar,er.y=tr),"suspectedoutliers"===nt&&tr<Ee.uo&&tr>Ee.lo&&(er.so=!0)}return $e}));it.enter().append("path").classed("point",!0),it.exit().remove(),it.call($e.translatePoints,Qe,et)}function plotBoxMean(Ee,ze,Be,$e){var Qe,et,tt=ze.pos,rt=ze.val,nt=$e.bPos,at=$e.bPosPxOffset||0,it=Be.boxmean||(Be.meanline||{}).visible;Array.isArray($e.bdPos)?(Qe=$e.bdPos[0],et=$e.bdPos[1]):(Qe=$e.bdPos,et=$e.bdPos);var ct=Ee.selectAll("path.mean").data("box"===Be.type&&Be.boxmean||"violin"===Be.type&&Be.box.visible&&Be.meanline.visible?We.identity:[]);ct.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),ct.exit().remove(),ct.each((function(Ee){var ze=tt.c2l(Ee.pos+nt,!0),We=tt.l2p(ze)+at,$e=tt.l2p(ze-Qe)+at,ct=tt.l2p(ze+et)+at,ft=rt.c2p(Ee.mean,!0),xt=rt.c2p(Ee.mean-Ee.sd,!0),kt=rt.c2p(Ee.mean+Ee.sd,!0);"h"===Be.orientation?Ue.select(this).attr("d","M"+ft+","+$e+"V"+ct+("sd"===it?"m0,0L"+xt+","+We+"L"+ft+","+$e+"L"+kt+","+We+"Z":"")):Ue.select(this).attr("d","M"+$e+","+ft+"H"+ct+("sd"===it?"m0,0L"+We+","+xt+"L"+$e+","+ft+"L"+We+","+kt+"Z":""))}))}Ee.exports={plot:function plot(Ee,ze,Be,$e){var Qe=ze.xaxis,et=ze.yaxis;We.makeTraceGroups($e,Be,"trace boxes").each((function(Ee){var ze,Be,We=Ue.select(this),$e=Ee[0],tt=$e.t,rt=$e.trace;(tt.wdPos=tt.bdPos*rt.whiskerwidth,!0!==rt.visible||tt.empty)?We.remove():("h"===rt.orientation?(ze=et,Be=Qe):(ze=Qe,Be=et),plotBoxAndWhiskers(We,{pos:ze,val:Be},rt,tt),plotPoints(We,{x:Qe,y:et},rt,tt),plotBoxMean(We,{pos:ze,val:Be},rt,tt))}))},plotBoxAndWhiskers:plotBoxAndWhiskers,plotPoints:plotPoints,plotBoxMean:plotBoxMean}},d37d:function(Ee,ze,Be){"use strict";var Ue=Be("4c18");Ee.exports=function createThunk(Ee){var ze=["'use strict'","var CACHED={}"],Be=[],We=Ee.funcName+"_cwise_thunk";ze.push(["return function ",We,"(",Ee.shimArgs.join(","),"){"].join(""));for(var $e=[],Qe=[],et=[["array",Ee.arrayArgs[0],".shape.slice(",Math.max(0,Ee.arrayBlockIndices[0]),Ee.arrayBlockIndices[0]<0?","+Ee.arrayBlockIndices[0]+")":")"].join("")],tt=[],rt=[],nt=0;nt<Ee.arrayArgs.length;++nt){var at=Ee.arrayArgs[nt];Be.push(["t",at,"=array",at,".dtype,","r",at,"=array",at,".order"].join("")),$e.push("t"+at),$e.push("r"+at),Qe.push("t"+at),Qe.push("r"+at+".join()"),et.push("array"+at+".data"),et.push("array"+at+".stride"),et.push("array"+at+".offset|0"),nt>0&&(tt.push("array"+Ee.arrayArgs[0]+".shape.length===array"+at+".shape.length+"+(Math.abs(Ee.arrayBlockIndices[0])-Math.abs(Ee.arrayBlockIndices[nt]))),rt.push("array"+Ee.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,Ee.arrayBlockIndices[0])+"]===array"+at+".shape[shapeIndex+"+Math.max(0,Ee.arrayBlockIndices[nt])+"]"))}for(Ee.arrayArgs.length>1&&(ze.push("if (!("+tt.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),ze.push("for(var shapeIndex=array"+Ee.arrayArgs[0]+".shape.length-"+Math.abs(Ee.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),ze.push("if (!("+rt.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),ze.push("}")),nt=0;nt<Ee.scalarArgs.length;++nt)et.push("scalar"+Ee.scalarArgs[nt]);return Be.push(["type=[",Qe.join(","),"].join()"].join("")),Be.push("proc=CACHED[type]"),ze.push("var "+Be.join(",")),ze.push(["if(!proc){","CACHED[type]=proc=compile([",$e.join(","),"])}","return proc(",et.join(","),")}"].join("")),Ee.debug&&console.log("-----Generated thunk:\n"+ze.join("\n")+"\n----------"),new Function("compile",ze.join("\n"))(Ue.bind(void 0,Ee))}},d3c2:function(Ee,ze,Be){"use strict";Ee.exports=function cubicHermite(Ee,ze,Be,Ue,We,$e){var Qe=We-1,et=We*We,tt=Qe*Qe,rt=(1+2*We)*tt,nt=We*tt,at=et*(3-2*We),it=et*Qe;if(Ee.length){$e||($e=new Array(Ee.length));for(var ct=Ee.length-1;ct>=0;--ct)$e[ct]=rt*Ee[ct]+nt*ze[ct]+at*Be[ct]+it*Ue[ct];return $e}return rt*Ee+nt*ze+at*Be+it*Ue},Ee.exports.derivative=function dcubicHermite(Ee,ze,Be,Ue,We,$e){var Qe=6*We*We-6*We,et=3*We*We-4*We+1,tt=-6*We*We+6*We,rt=3*We*We-2*We;if(Ee.length){$e||($e=new Array(Ee.length));for(var nt=Ee.length-1;nt>=0;--nt)$e[nt]=Qe*Ee[nt]+et*ze[nt]+tt*Be[nt]+rt*Ue[nt];return $e}return Qe*Ee+et*ze+tt*Be[nt]+rt*Ue}},d3d4:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("f977");function Axes2DOptions(Ee){this.scene=Ee,this.gl=Ee.gl,this.pixelRatio=Ee.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var $e=Axes2DOptions.prototype,Qe=["xaxis","yaxis"];$e.merge=function(Ee){var ze,Be,Ue,$e,et,tt,rt,nt,at,it,ct;for(this.titleEnable=!1,this.backgroundColor=We(Ee.plot_bgcolor),it=0;it<2;++it){var ft=(ze=Qe[it]).charAt(0);for(Ue=(Be=Ee[this.scene[ze]._name]).title.text===this.scene.fullLayout._dfltTitle[ft]?"":Be.title.text,ct=0;ct<=2;ct+=2)this.labelEnable[it+ct]=!1,this.labels[it+ct]=Ue,this.labelColor[it+ct]=We(Be.title.font.color),this.labelFont[it+ct]=Be.title.font.family,this.labelSize[it+ct]=Be.title.font.size,this.labelPad[it+ct]=this.getLabelPad(ze,Be),this.tickEnable[it+ct]=!1,this.tickColor[it+ct]=We((Be.tickfont||{}).color),this.tickAngle[it+ct]="auto"===Be.tickangle?0:Math.PI*-Be.tickangle/180,this.tickPad[it+ct]=this.getTickPad(Be),this.tickMarkLength[it+ct]=0,this.tickMarkWidth[it+ct]=Be.tickwidth||0,this.tickMarkColor[it+ct]=We(Be.tickcolor),this.borderLineEnable[it+ct]=!1,this.borderLineColor[it+ct]=We(Be.linecolor),this.borderLineWidth[it+ct]=Be.linewidth||0;rt=this.hasSharedAxis(Be),et=this.hasAxisInDfltPos(ze,Be)&&!rt,tt=this.hasAxisInAltrPos(ze,Be)&&!rt,$e=Be.mirror||!1,nt=rt?-1!==String($e).indexOf("all"):!!$e,at=rt?"allticks"===$e:-1!==String($e).indexOf("ticks"),et?this.labelEnable[it]=!0:tt&&(this.labelEnable[it+2]=!0),et?this.tickEnable[it]=Be.showticklabels:tt&&(this.tickEnable[it+2]=Be.showticklabels),(et||nt)&&(this.borderLineEnable[it]=Be.showline),(tt||nt)&&(this.borderLineEnable[it+2]=Be.showline),(et||at)&&(this.tickMarkLength[it]=this.getTickMarkLength(Be)),(tt||at)&&(this.tickMarkLength[it+2]=this.getTickMarkLength(Be)),this.gridLineEnable[it]=Be.showgrid,this.gridLineColor[it]=We(Be.gridcolor),this.gridLineWidth[it]=Be.gridwidth,this.zeroLineEnable[it]=Be.zeroline,this.zeroLineColor[it]=We(Be.zerolinecolor),this.zeroLineWidth[it]=Be.zerolinewidth}},$e.hasSharedAxis=function(Ee){var ze=this.scene,Be=ze.fullLayout._subplots.gl2d;return 0!==Ue.findSubplotsWithAxis(Be,Ee).indexOf(ze.id)},$e.hasAxisInDfltPos=function(Ee,ze){var Be=ze.side;return"xaxis"===Ee?"bottom"===Be:"yaxis"===Ee?"left"===Be:void 0},$e.hasAxisInAltrPos=function(Ee,ze){var Be=ze.side;return"xaxis"===Ee?"top"===Be:"yaxis"===Ee?"right"===Be:void 0},$e.getLabelPad=function(Ee,ze){var Be=ze.title.font.size,Ue=ze.showticklabels;return"xaxis"===Ee?"top"===ze.side?Be*(1.5+(Ue?1:0))-10:Be*(1.5+(Ue?.5:0))-10:"yaxis"===Ee?"right"===ze.side?10+Be*(1.5+(Ue?1:.5)):10+Be*(1.5+(Ue?.5:0)):void 0},$e.getTickPad=function(Ee){return"outside"===Ee.ticks?10+Ee.ticklen:15},$e.getTickMarkLength=function(Ee){if(!Ee.ticks)return 0;var ze=Ee.ticklen;return"inside"===Ee.ticks?-ze:ze},Ee.exports=function createAxes2D(Ee){return new Axes2DOptions(Ee)}},d3dc:function(Ee,ze,Be){"use strict";Ee.exports={mod:function mod(Ee,ze){var Be=Ee%ze;return Be<0?Be+ze:Be},modHalf:function modHalf(Ee,ze){return Math.abs(Ee)>ze/2?Ee-Math.round(Ee/ze)*ze:Ee}}},d402:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function DiscworldCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}DiscworldCalendar.prototype=new Ue.baseCalendar,We(DiscworldCalendar.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),!1},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),13},daysInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear),400},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/8)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(Ee,ze,Be){return(this._validate(Ee,ze,Be,Ue.local.invalidDate).day()+1)%8},weekDay:function(Ee,ze,Be){var Ue=this.dayOfWeek(Ee,ze,Be);return Ue>=2&&Ue<=6},extraInfo:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return{century:$e[Math.floor((We.year()-1)/100)+1]||""}},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return Ee=We.year()+(We.year()<0?1:0),ze=We.month(),(Be=We.day())+(ze>1?16:0)+(ze>2?32*(ze-2):0)+400*(Ee-1)+this.jdEpoch-1},fromJD:function(Ee){Ee=Math.floor(Ee+.5)-Math.floor(this.jdEpoch)-1;var ze=Math.floor(Ee/400)+1;Ee-=400*(ze-1),Ee+=Ee>15?16:0;var Be=Math.floor(Ee/32)+1,Ue=Ee-32*(Be-1)+1;return this.newDate(ze<=0?ze-1:ze,Be,Ue)}});var $e={20:"Fruitbat",21:"Anchovy"};Ue.calendars.discworld=DiscworldCalendar},d40d:function(Ee,ze,Be){Ee.exports=Be("ef49")},d41a:function(Ee,ze,Be){"use strict";ze.uniforms=function runtimeUniforms(Ee,ze){for(var Be=Ee.getProgramParameter(ze,Ee.ACTIVE_UNIFORMS),Ue=[],We=0;We<Be;++We){var $e=Ee.getActiveUniform(ze,We);if($e){var Qe=getType(Ee,$e.type);if($e.size>1)for(var et=0;et<$e.size;++et)Ue.push({name:$e.name.replace("[0]","["+et+"]"),type:Qe});else Ue.push({name:$e.name,type:Qe})}}return Ue},ze.attributes=function runtimeAttributes(Ee,ze){for(var Be=Ee.getProgramParameter(ze,Ee.ACTIVE_ATTRIBUTES),Ue=[],We=0;We<Be;++We){var $e=Ee.getActiveAttrib(ze,We);$e&&Ue.push({name:$e.name,type:getType(Ee,$e.type)})}return Ue};var Ue={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},We=null;function getType(Ee,ze){if(!We){var Be=Object.keys(Ue);We={};for(var $e=0;$e<Be.length;++$e){var Qe=Be[$e];We[Ee[Qe]]=Ue[Qe]}}return We[ze]}},d41c:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be){return Ee.x="xVal"in ze?ze.xVal:ze.x,Ee.y="yVal"in ze?ze.yVal:ze.y,ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),"h"===Be.orientation?(Ee.label=Ee.y,Ee.value=Ee.x):(Ee.label=Ee.x,Ee.value=Ee.y),Ee}},d44e:function(Ee,ze,Be){var Ue=Be("9bf2").f,We=Be("5135"),$e=Be("b622")("toStringTag");Ee.exports=function(Ee,ze,Be){Ee&&!We(Ee=Be?Ee:Ee.prototype,$e)&&Ue(Ee,$e,{configurable:!0,value:ze})}},d47b:function(Ee,ze,Be){"use strict";Ee.exports=Be("d1b2")},d494:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("215c").hasColorscale,$e=Be("4183"),Qe=Be("81f0").defaults,et=Be("e5ac"),tt=Be("0642"),rt=Be("f67b"),nt=Be("1db7"),at=Be("f7a4").maxDimensionCount,it=Be("8cdc");function dimensionDefaults(Ee,ze,Be,We){function coerce(Be,We){return Ue.coerce(Ee,ze,rt.dimensions,Be,We)}var $e=coerce("values"),Qe=coerce("visible");if($e&&$e.length||(Qe=ze.visible=!1),Qe){coerce("label"),coerce("tickvals"),coerce("ticktext"),coerce("tickformat");var et=coerce("range");ze._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:et},tt.setConvert(ze._ax,We.layout),coerce("multiselect");var at=coerce("constraintrange");at&&(ze.constraintrange=nt.cleanRanges(at,ze))}}Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,We){return Ue.coerce(Ee,ze,rt,Be,We)}var nt=Ee.dimensions;Array.isArray(nt)&&nt.length>at&&(Ue.log("parcoords traces support up to "+at+" dimensions at the moment"),nt.splice(at));var ct=et(Ee,ze,{name:"dimensions",layout:tt,handleItemDefaults:dimensionDefaults}),ft=function handleLineDefaults(Ee,ze,Be,Qe,et){var tt=et("line.color",Be);if(We(Ee,"line")&&Ue.isArrayOrTypedArray(tt)){if(tt.length)return et("line.colorscale"),$e(Ee,ze,Qe,et,{prefix:"line.",cLetter:"c"}),tt.length;ze.line.color=Be}return 1/0}(Ee,ze,Be,tt,coerce);Qe(ze,tt,coerce),Array.isArray(ct)&&ct.length||(ze.visible=!1),it(ze,ct,"values",ft);var xt={family:tt.font.family,size:Math.round(tt.font.size/1.2),color:tt.font.color};Ue.coerceFont(coerce,"labelfont",xt),Ue.coerceFont(coerce,"tickfont",xt),Ue.coerceFont(coerce,"rangefont",xt),coerce("labelangle"),coerce("labelside")}},d4b5:function(Ee,ze,Be){"use strict";Ee.exports=function isPath(Ee){return"string"==typeof Ee&&(Ee=Ee.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(Ee)&&/[\dz]$/i.test(Ee)&&Ee.length>4))}},d53b:function(Ee,ze,Be){"use strict";var Ue=Be("c5f4"),We=Math.max;Ee.exports=function(Ee){return We(0,Ue(Ee))}},d577:function(Ee,ze,Be){"use strict";Ee.exports=function makeClipPath(Ee,ze,Be,Ue){var We,$e,Qe,et=[],tt=!!Be.smoothing,rt=!!Ue.smoothing,nt=Ee[0].length-1,at=Ee.length-1;for(We=0,$e=[],Qe=[];We<=nt;We++)$e[We]=Ee[0][We],Qe[We]=ze[0][We];for(et.push({x:$e,y:Qe,bicubic:tt}),We=0,$e=[],Qe=[];We<=at;We++)$e[We]=Ee[We][nt],Qe[We]=ze[We][nt];for(et.push({x:$e,y:Qe,bicubic:rt}),We=nt,$e=[],Qe=[];We>=0;We--)$e[nt-We]=Ee[at][We],Qe[nt-We]=ze[at][We];for(et.push({x:$e,y:Qe,bicubic:tt}),We=at,$e=[],Qe=[];We>=0;We--)$e[at-We]=Ee[We][0],Qe[at-We]=ze[We][0];return et.push({x:$e,y:Qe,bicubic:rt}),et}},d58b:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("7678");Ee.exports=function(Ee,ze,Be){var $e=!1;function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}for(var Qe=0;Qe<Be.length;Qe++){var et=Be[Qe];if(et.visible&&"funnel"===et.type){$e=!0;break}}$e&&(coerce("funnelmode"),coerce("funnelgap",.2),coerce("funnelgroupgap"))}},d58f:function(Ee,ze,Be){var Ue=Be("1c0b"),We=Be("7b0b"),$e=Be("44ad"),Qe=Be("50c4"),createMethod=function(Ee){return function(ze,Be,et,tt){Ue(Be);var rt=We(ze),nt=$e(rt),at=Qe(rt.length),it=Ee?at-1:0,ct=Ee?-1:1;if(et<2)for(;;){if(it in nt){tt=nt[it],it+=ct;break}if(it+=ct,Ee?it<0:at<=it)throw TypeError("Reduce of empty array with no initial value")}for(;Ee?it>=0:at>it;it+=ct)it in nt&&(tt=Be(tt,nt[it],it,rt));return tt}};Ee.exports={left:createMethod(!1),right:createMethod(!0)}},d5e3:function(Ee,ze,Be){"use strict";(function(ze){Ee.exports=function createTextSprites(Ee,ze,Be,$e,et,tt){var rt=Ue(Ee),nt=We(Ee,[{buffer:rt,size:3}]),at=Qe(Ee);at.attributes.position.location=0;var it=new TextSprites(Ee,at,rt,nt);return it.update(ze,Be,$e,et,tt),it};var Ue=Be("efce"),We=Be("b205"),$e=Be("b993"),Qe=Be("c185").text,et=window||ze.global||{},tt=et.__TEXT_CACHE||{};et.__TEXT_CACHE={};function TextSprites(Ee,ze,Be,Ue){this.gl=Ee,this.shader=ze,this.buffer=Be,this.vao=Ue,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var rt=TextSprites.prototype,nt=[0,0];rt.bind=function(Ee,ze,Be,Ue){this.vao.bind(),this.shader.bind();var We=this.shader.uniforms;We.model=Ee,We.view=ze,We.projection=Be,We.pixelScale=Ue,nt[0]=this.gl.drawingBufferWidth,nt[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=nt},rt.unbind=function(){this.vao.unbind()},rt.update=function(Ee,ze,Be,Ue,We){var Qe=[];function addItem(Ee,ze,Be,Ue,We,et){var rt=tt[Be];rt||(rt=tt[Be]={});var nt=rt[ze];nt||(nt=rt[ze]=function tryVectorizeText(Ee,ze){try{return $e(Ee,ze)}catch(ze){return console.warn('error vectorizing text:"'+Ee+'" error:',ze),{cells:[],positions:[]}}}(ze,{triangles:!0,font:Be,textAlign:"center",textBaseline:"middle",lineSpacing:We,styletags:et}));for(var at=(Ue||12)/12,it=nt.positions,ct=nt.cells,ft=0,xt=ct.length;ft<xt;++ft)for(var kt=ct[ft],Lt=2;Lt>=0;--Lt){var Ut=it[kt[Lt]];Qe.push(at*Ut[0],-at*Ut[1],Ee)}}for(var et=[0,0,0],rt=[0,0,0],nt=[0,0,0],at=[0,0,0],it={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},ct=0;ct<3;++ct){nt[ct]=Qe.length/3|0,addItem(.5*(Ee[0][ct]+Ee[1][ct]),ze[ct],Be[ct],12,1.25,it),at[ct]=(Qe.length/3|0)-nt[ct],et[ct]=Qe.length/3|0;for(var ft=0;ft<Ue[ct].length;++ft)Ue[ct][ft].text&&addItem(Ue[ct][ft].x,Ue[ct][ft].text,Ue[ct][ft].font||We,Ue[ct][ft].fontSize||12,1.25,it);rt[ct]=(Qe.length/3|0)-et[ct]}this.buffer.update(Qe),this.tickOffset=et,this.tickCount=rt,this.labelOffset=nt,this.labelCount=at},rt.drawTicks=function(Ee,ze,Be,Ue,We,$e,Qe,et){this.tickCount[Ee]&&(this.shader.uniforms.axis=$e,this.shader.uniforms.color=We,this.shader.uniforms.angle=Be,this.shader.uniforms.scale=ze,this.shader.uniforms.offset=Ue,this.shader.uniforms.alignDir=Qe,this.shader.uniforms.alignOpt=et,this.vao.draw(this.gl.TRIANGLES,this.tickCount[Ee],this.tickOffset[Ee]))},rt.drawLabel=function(Ee,ze,Be,Ue,We,$e,Qe,et){this.labelCount[Ee]&&(this.shader.uniforms.axis=$e,this.shader.uniforms.color=We,this.shader.uniforms.angle=Be,this.shader.uniforms.scale=ze,this.shader.uniforms.offset=Ue,this.shader.uniforms.alignDir=Qe,this.shader.uniforms.alignOpt=et,this.vao.draw(this.gl.TRIANGLES,this.labelCount[Ee],this.labelOffset[Ee]))},rt.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,Be("4362"))},d60a:function(Ee,ze){Ee.exports=function isBuffer(Ee){return Ee&&"object"==typeof Ee&&"function"==typeof Ee.copy&&"function"==typeof Ee.fill&&"function"==typeof Ee.readUInt8}},d61b:function(Ee,ze,Be){"use strict";Ee.exports=function handleContourDefaults(Ee,ze,Be,Ue){var We=Ue("contours.start"),$e=Ue("contours.end"),Qe=!1===We||!1===$e,et=Be("contours.size");!(Qe?ze.autocontour=!0:Be("autocontour",!1))&&et||Be("ncontours")}},d66f:function(Ee,ze,Be){"use strict";var Ue=Be("b185"),We=Be("2031"),$e=Be("96ae");Ee.exports=function(Ee){var ze=Object($e(Ee)),Be=arguments[1],Qe=Object(arguments[2]);if(ze!==Ee&&!Be)return ze;var et={};return Be?Ue(Be,(function(ze){(Qe.ensure||ze in Ee)&&(et[ze]=Ee[ze])})):We(et,Ee),et}},d678:function(Ee,ze,Be){"use strict";Ee.exports=function normalize(Ee){for(var ze,Be=[],We=0,$e=0,Qe=0,et=0,tt=null,rt=null,nt=0,at=0,it=0,ct=Ee.length;it<ct;it++){var ft=Ee[it],xt=ft[0];switch(xt){case"M":Qe=ft[1],et=ft[2];break;case"A":var kt=Ue({px:nt,py:at,cx:ft[6],cy:ft[7],rx:ft[1],ry:ft[2],xAxisRotation:ft[3],largeArcFlag:ft[4],sweepFlag:ft[5]});if(!kt.length)continue;for(var Lt,Ut=0;Ut<kt.length;Ut++)Lt=kt[Ut],ft=["C",Lt.x1,Lt.y1,Lt.x2,Lt.y2,Lt.x,Lt.y],Ut<kt.length-1&&Be.push(ft);break;case"S":var er=nt,tr=at;"C"!=ze&&"S"!=ze||(er+=er-We,tr+=tr-$e),ft=["C",er,tr,ft[1],ft[2],ft[3],ft[4]];break;case"T":"Q"==ze||"T"==ze?(tt=2*nt-tt,rt=2*at-rt):(tt=nt,rt=at),ft=quadratic(nt,at,tt,rt,ft[1],ft[2]);break;case"Q":tt=ft[1],rt=ft[2],ft=quadratic(nt,at,ft[1],ft[2],ft[3],ft[4]);break;case"L":ft=line(nt,at,ft[1],ft[2]);break;case"H":ft=line(nt,at,ft[1],at);break;case"V":ft=line(nt,at,nt,ft[1]);break;case"Z":ft=line(nt,at,Qe,et)}ze=xt,nt=ft[ft.length-2],at=ft[ft.length-1],ft.length>4?(We=ft[ft.length-4],$e=ft[ft.length-3]):(We=nt,$e=at),Be.push(ft)}return Be};var Ue=Be("0b89");function line(Ee,ze,Be,Ue){return["C",Ee,ze,Be,Ue,Be,Ue]}function quadratic(Ee,ze,Be,Ue,We,$e){return["C",Ee/3+2/3*Be,ze/3+2/3*Ue,We/3+2/3*Be,$e/3+2/3*Ue,We,$e]}},d6d8:function(Ee,ze,Be){"use strict";var Ue=Be("ef33"),We=Be("fc26").ensureArray;function inferCubicControlPoint(Ee,ze,Be){var Ue=-.5*Be[0]+1.5*ze[0],We=-.5*Be[1]+1.5*ze[1];return[(2*Ue+Ee[0])/3,(2*We+Ee[1])/3]}Ee.exports=function computeControlPoints(Ee,ze,Be,$e,Qe,et){var tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut=Be[0].length,er=Be.length,tr=Qe?3*Ut-2:Ut,rr=et?3*er-2:er;for(Ee=We(Ee,rr),ze=We(ze,rr),nt=0;nt<rr;nt++)Ee[nt]=We(Ee[nt],tr),ze[nt]=We(ze[nt],tr);for(rt=0,at=0;rt<er;rt++,at+=et?3:1)for(it=Ee[at],ct=ze[at],ft=Be[rt],xt=$e[rt],tt=0,nt=0;tt<Ut;tt++,nt+=Qe?3:1)it[nt]=ft[tt],ct[nt]=xt[tt];if(Qe)for(rt=0,at=0;rt<er;rt++,at+=et?3:1){for(tt=1,nt=3;tt<Ut-1;tt++,nt+=3)kt=Ue([Be[rt][tt-1],$e[rt][tt-1]],[Be[rt][tt],$e[rt][tt]],[Be[rt][tt+1],$e[rt][tt+1]],Qe),Ee[at][nt-1]=kt[0][0],ze[at][nt-1]=kt[0][1],Ee[at][nt+1]=kt[1][0],ze[at][nt+1]=kt[1][1];Lt=inferCubicControlPoint([Ee[at][0],ze[at][0]],[Ee[at][2],ze[at][2]],[Ee[at][3],ze[at][3]]),Ee[at][1]=Lt[0],ze[at][1]=Lt[1],Lt=inferCubicControlPoint([Ee[at][tr-1],ze[at][tr-1]],[Ee[at][tr-3],ze[at][tr-3]],[Ee[at][tr-4],ze[at][tr-4]]),Ee[at][tr-2]=Lt[0],ze[at][tr-2]=Lt[1]}if(et)for(nt=0;nt<tr;nt++){for(at=3;at<rr-3;at+=3)kt=Ue([Ee[at-3][nt],ze[at-3][nt]],[Ee[at][nt],ze[at][nt]],[Ee[at+3][nt],ze[at+3][nt]],et),Ee[at-1][nt]=kt[0][0],ze[at-1][nt]=kt[0][1],Ee[at+1][nt]=kt[1][0],ze[at+1][nt]=kt[1][1];Lt=inferCubicControlPoint([Ee[0][nt],ze[0][nt]],[Ee[2][nt],ze[2][nt]],[Ee[3][nt],ze[3][nt]]),Ee[1][nt]=Lt[0],ze[1][nt]=Lt[1],Lt=inferCubicControlPoint([Ee[rr-1][nt],ze[rr-1][nt]],[Ee[rr-3][nt],ze[rr-3][nt]],[Ee[rr-4][nt],ze[rr-4][nt]]),Ee[rr-2][nt]=Lt[0],ze[rr-2][nt]=Lt[1]}if(Qe&&et)for(at=1;at<rr;at+=(at+1)%3==0?2:1){for(nt=3;nt<tr-3;nt+=3)kt=Ue([Ee[at][nt-3],ze[at][nt-3]],[Ee[at][nt],ze[at][nt]],[Ee[at][nt+3],ze[at][nt+3]],Qe),Ee[at][nt-1]=.5*(Ee[at][nt-1]+kt[0][0]),ze[at][nt-1]=.5*(ze[at][nt-1]+kt[0][1]),Ee[at][nt+1]=.5*(Ee[at][nt+1]+kt[1][0]),ze[at][nt+1]=.5*(ze[at][nt+1]+kt[1][1]);Lt=inferCubicControlPoint([Ee[at][0],ze[at][0]],[Ee[at][2],ze[at][2]],[Ee[at][3],ze[at][3]]),Ee[at][1]=.5*(Ee[at][1]+Lt[0]),ze[at][1]=.5*(ze[at][1]+Lt[1]),Lt=inferCubicControlPoint([Ee[at][tr-1],ze[at][tr-1]],[Ee[at][tr-3],ze[at][tr-3]],[Ee[at][tr-4],ze[at][tr-4]]),Ee[at][tr-2]=.5*(Ee[at][tr-2]+Lt[0]),ze[at][tr-2]=.5*(ze[at][tr-2]+Lt[1])}return[Ee,ze]}},d6fb:function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("fc26"),$e=Be("0642"),Qe=Be("c258").extractOpts;Ee.exports=function hoverPoints(Ee,ze,Be,et,tt,rt){var nt,at,it,ct,ft=Ee.cd[0],xt=ft.trace,kt=Ee.xa,Lt=Ee.ya,Ut=ft.x,er=ft.y,tr=ft.z,rr=ft.xCenter,ar=ft.yCenter,Lr=ft.zmask,Qr=xt.zhoverformat,on=Ut,sn=er;if(!1!==Ee.index){try{it=Math.round(Ee.index[1]),ct=Math.round(Ee.index[0])}catch(ze){return void We.error("Error hovering on heatmap, pointNumber must be [row,col], found:",Ee.index)}if(it<0||it>=tr[0].length||ct<0||ct>tr.length)return}else{if(Ue.inbox(ze-Ut[0],ze-Ut[Ut.length-1],0)>0||Ue.inbox(Be-er[0],Be-er[er.length-1],0)>0)return;if(rt){var ln;for(on=[2*Ut[0]-Ut[1]],ln=1;ln<Ut.length;ln++)on.push((Ut[ln]+Ut[ln-1])/2);for(on.push([2*Ut[Ut.length-1]-Ut[Ut.length-2]]),sn=[2*er[0]-er[1]],ln=1;ln<er.length;ln++)sn.push((er[ln]+er[ln-1])/2);sn.push([2*er[er.length-1]-er[er.length-2]])}it=Math.max(0,Math.min(on.length-2,We.findBin(ze,on))),ct=Math.max(0,Math.min(sn.length-2,We.findBin(Be,sn)))}var cn=kt.c2p(Ut[it]),un=kt.c2p(Ut[it+1]),hn=Lt.c2p(er[ct]),dn=Lt.c2p(er[ct+1]);rt?(un=cn,nt=Ut[it],dn=hn,at=er[ct]):(nt=rr?rr[it]:(Ut[it]+Ut[it+1])/2,at=ar?ar[ct]:(er[ct]+er[ct+1])/2,kt&&"category"===kt.type&&(nt=Ut[it]),Lt&&"category"===Lt.type&&(at=er[ct]),xt.zsmooth&&(cn=un=kt.c2p(nt),hn=dn=Lt.c2p(at)));var vn=tr[ct][it];if(Lr&&!Lr[ct][it]&&(vn=void 0),void 0!==vn||xt.hoverongaps){var yn;Array.isArray(ft.hovertext)&&Array.isArray(ft.hovertext[ct])?yn=ft.hovertext[ct][it]:Array.isArray(ft.text)&&Array.isArray(ft.text[ct])&&(yn=ft.text[ct][it]);var _n=Qe(xt),Mn={type:"linear",range:[_n.min,_n.max],hoverformat:Qr,_separators:kt._separators,_numFormat:kt._numFormat},Cn=$e.tickText(Mn,vn,"hover").text;return[We.extendFlat(Ee,{index:xt._after2before?xt._after2before[ct][it]:[ct,it],distance:Ee.maxHoverDistance,spikeDistance:Ee.maxSpikeDistance,x0:cn,x1:un,y0:hn,y1:dn,xLabelVal:nt,yLabelVal:at,zLabelVal:vn,zLabel:Cn,text:yn})]}}},d706:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26").isArrayOrTypedArray;Ee.exports=function makeBoundArray(Ee,ze,Be,$e,Qe,et){var tt,rt,nt,at=[],it=Ue.traceIs(Ee,"contour"),ct=Ue.traceIs(Ee,"histogram"),ft=Ue.traceIs(Ee,"gl2d");if(We(ze)&&ze.length>1&&!ct&&"category"!==et.type){var xt=ze.length;if(!(xt<=Qe))return it?ze.slice(0,Qe):ze.slice(0,Qe+1);if(it||ft)at=ze.slice(0,Qe);else if(1===Qe)at=[ze[0]-.5,ze[0]+.5];else{for(at=[1.5*ze[0]-.5*ze[1]],nt=1;nt<xt;nt++)at.push(.5*(ze[nt-1]+ze[nt]));at.push(1.5*ze[xt-1]-.5*ze[xt-2])}if(xt<Qe){var kt=at[at.length-1],Lt=kt-at[at.length-2];for(nt=xt;nt<Qe;nt++)kt+=Lt,at.push(kt)}}else{var Ut=Ee[et._id.charAt(0)+"calendar"];if(ct)tt=et.r2c(Be,0,Ut);else if(We(ze)&&1===ze.length)tt=ze[0];else if(void 0===Be)tt=0;else{tt=("log"===et.type?et.d2c:et.r2c)(Be,0,Ut)}for(rt=$e||1,nt=it||ft?0:-.5;nt<Qe;nt++)at.push(tt+rt*nt)}return at}},d72e:function(Ee,ze,Be){"use strict";var Ue=Be("d301"),We=Be("a651").templatedArray;Ee.exports=We("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",Ue.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",Ue.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},d784:function(Ee,ze,Be){"use strict";Be("ac1f");var Ue=Be("6eeb"),We=Be("d039"),$e=Be("b622"),Qe=Be("9263"),et=Be("9112"),tt=$e("species"),rt=!We((function(){var Ee=/./;return Ee.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"7"!=="".replace(Ee,"$<a>")})),nt="$0"==="a".replace(/./,"$0"),at=$e("replace"),it=!!/./[at]&&""===/./[at]("a","$0"),ct=!We((function(){var Ee=/(?:)/,ze=Ee.exec;Ee.exec=function(){return ze.apply(this,arguments)};var Be="ab".split(Ee);return 2!==Be.length||"a"!==Be[0]||"b"!==Be[1]}));Ee.exports=function(Ee,ze,Be,at){var ft=$e(Ee),xt=!We((function(){var ze={};return ze[ft]=function(){return 7},7!=""[Ee](ze)})),kt=xt&&!We((function(){var ze=!1,Be=/a/;return"split"===Ee&&((Be={}).constructor={},Be.constructor[tt]=function(){return Be},Be.flags="",Be[ft]=/./[ft]),Be.exec=function(){return ze=!0,null},Be[ft](""),!ze}));if(!xt||!kt||"replace"===Ee&&(!rt||!nt||it)||"split"===Ee&&!ct){var Lt=/./[ft],Ut=Be(ft,""[Ee],(function(Ee,ze,Be,Ue,We){return ze.exec===Qe?xt&&!We?{done:!0,value:Lt.call(ze,Be,Ue)}:{done:!0,value:Ee.call(Be,ze,Ue)}:{done:!1}}),{REPLACE_KEEPS_$0:nt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:it}),er=Ut[0],tr=Ut[1];Ue(String.prototype,Ee,er),Ue(RegExp.prototype,ft,2==ze?function(Ee,ze){return tr.call(Ee,this,ze)}:function(Ee){return tr.call(Ee,this)})}at&&et(RegExp.prototype[ft],"sham",!0)}},d78f:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("215c").hasColorscale,$e=Be("3aa8"),Qe=Be("424b"),et=Be("4136");Ee.exports=function calc(Ee,ze){var Be,tt,rt=Ue.getFromId(Ee,ze.xaxis||"x"),nt=Ue.getFromId(Ee,ze.yaxis||"y");"h"===ze.orientation?(Be=rt.makeCalcdata(ze,"x"),tt=nt.makeCalcdata(ze,"y")):(Be=nt.makeCalcdata(ze,"y"),tt=rt.makeCalcdata(ze,"x"));for(var at=Math.min(tt.length,Be.length),it=new Array(at),ct=0;ct<at;ct++)it[ct]={p:tt[ct],s:Be[ct]},ze.ids&&(it[ct].id=String(ze.ids[ct]));return We(ze,"marker")&&$e(Ee,ze,{vals:ze.marker.color,containerStr:"marker",cLetter:"c"}),We(ze,"marker.line")&&$e(Ee,ze,{vals:ze.marker.line.color,containerStr:"marker.line",cLetter:"c"}),Qe(it,ze),et(it,ze),it}},d798:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("dfb3"),$e=Be("db54").dash,Qe=Be("9092").extendFlat,et=Be("a651").templatedArray,tt=(Be("78df").FORMAT_LINK,Be("78df").DATE_FORMAT_LINK,Be("d301"));Ee.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:We.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:Ue({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[tt.idRegex.x.toString(),tt.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[tt.idRegex.x.toString(),tt.idRegex.y.toString()],editType:"calc"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:We.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:Qe({},$e,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",editType:"none"},tickfont:Ue({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:et("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:We.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:We.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:We.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:We.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",tt.idRegex.x.toString(),tt.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",tt.idRegex.x.toString(),tt.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:Ue({editType:"ticks"})}}},d7e2:function(Ee,ze,Be){"use strict";var Ue=Be("91b8"),We=Be("a5dd"),$e=Be("8b98"),Qe=Be("d301"),et=Be("1477");function Camera2D(Ee,ze){this.element=Ee,this.plot=ze,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}Ee.exports=function createCamera(Ee){var ze=Ee.mouseContainer,Be=Ee.glplot,tt=new Camera2D(ze,Be);function unSetAutoRange(){Ee.xaxis.autorange=!1,Ee.yaxis.autorange=!1}function handleInteraction(ze,Ue,We){var $e,et,rt=Ee.calcDataBox(),nt=Be.viewBox,at=tt.lastPos[0],it=tt.lastPos[1],ct=Qe.MINDRAG*Be.pixelRatio,ft=Qe.MINZOOM*Be.pixelRatio;function updateRange(ze,Be,Ue){var We=Math.min(Be,Ue),$e=Math.max(Be,Ue);We!==$e?(rt[ze]=We,rt[ze+2]=$e,tt.dataBox=rt,Ee.setRanges(rt)):(Ee.selectBox.selectBox=[0,0,1,1],Ee.glplot.setDirty())}switch(Ue*=Be.pixelRatio,We*=Be.pixelRatio,We=nt[3]-nt[1]-We,Ee.fullLayout.dragmode){case"zoom":if(ze){var xt=Ue/(nt[2]-nt[0])*(rt[2]-rt[0])+rt[0],kt=We/(nt[3]-nt[1])*(rt[3]-rt[1])+rt[1];tt.boxInited||(tt.boxStart[0]=xt,tt.boxStart[1]=kt,tt.dragStart[0]=Ue,tt.dragStart[1]=We),tt.boxEnd[0]=xt,tt.boxEnd[1]=kt,tt.boxInited=!0,tt.boxEnabled||tt.boxStart[0]===tt.boxEnd[0]&&tt.boxStart[1]===tt.boxEnd[1]||(tt.boxEnabled=!0);var Lt=Math.abs(tt.dragStart[0]-Ue)<ft,Ut=Math.abs(tt.dragStart[1]-We)<ft;if(!function getSubplotConstraint(){for(var ze=Ee.graphDiv._fullLayout._axisConstraintGroups,Be=Ee.xaxis._id,Ue=Ee.yaxis._id,We=0;We<ze.length;We++)if(-1!==ze[We][Be]){if(-1!==ze[We][Ue])return!0;break}return!1}()||Lt&&Ut)Lt&&(tt.boxEnd[0]=tt.boxStart[0]),Ut&&(tt.boxEnd[1]=tt.boxStart[1]);else{$e=tt.boxEnd[0]-tt.boxStart[0],et=tt.boxEnd[1]-tt.boxStart[1];var er=(rt[3]-rt[1])/(rt[2]-rt[0]);Math.abs($e*er)>Math.abs(et)?(tt.boxEnd[1]=tt.boxStart[1]+Math.abs($e)*er*(et>=0?1:-1),tt.boxEnd[1]<rt[1]?(tt.boxEnd[1]=rt[1],tt.boxEnd[0]=tt.boxStart[0]+(rt[1]-tt.boxStart[1])/Math.abs(er)):tt.boxEnd[1]>rt[3]&&(tt.boxEnd[1]=rt[3],tt.boxEnd[0]=tt.boxStart[0]+(rt[3]-tt.boxStart[1])/Math.abs(er))):(tt.boxEnd[0]=tt.boxStart[0]+Math.abs(et)/er*($e>=0?1:-1),tt.boxEnd[0]<rt[0]?(tt.boxEnd[0]=rt[0],tt.boxEnd[1]=tt.boxStart[1]+(rt[0]-tt.boxStart[0])*Math.abs(er)):tt.boxEnd[0]>rt[2]&&(tt.boxEnd[0]=rt[2],tt.boxEnd[1]=tt.boxStart[1]+(rt[2]-tt.boxStart[0])*Math.abs(er)))}}else tt.boxEnabled?($e=tt.boxStart[0]!==tt.boxEnd[0],et=tt.boxStart[1]!==tt.boxEnd[1],$e||et?($e&&(updateRange(0,tt.boxStart[0],tt.boxEnd[0]),Ee.xaxis.autorange=!1),et&&(updateRange(1,tt.boxStart[1],tt.boxEnd[1]),Ee.yaxis.autorange=!1),Ee.relayoutCallback()):Ee.glplot.setDirty(),tt.boxEnabled=!1,tt.boxInited=!1):tt.boxInited&&(tt.boxInited=!1);break;case"pan":tt.boxEnabled=!1,tt.boxInited=!1,ze?(tt.panning||(tt.dragStart[0]=Ue,tt.dragStart[1]=We),Math.abs(tt.dragStart[0]-Ue)<ct&&(Ue=tt.dragStart[0]),Math.abs(tt.dragStart[1]-We)<ct&&(We=tt.dragStart[1]),$e=(at-Ue)*(rt[2]-rt[0])/(Be.viewBox[2]-Be.viewBox[0]),et=(it-We)*(rt[3]-rt[1])/(Be.viewBox[3]-Be.viewBox[1]),rt[0]+=$e,rt[2]+=$e,rt[1]+=et,rt[3]+=et,Ee.setRanges(rt),tt.panning=!0,tt.lastInputTime=Date.now(),unSetAutoRange(),Ee.cameraChanged(),Ee.handleAnnotations()):tt.panning&&(tt.panning=!1,Ee.relayoutCallback())}tt.lastPos[0]=Ue,tt.lastPos[1]=We}return tt.mouseListener=Ue(ze,handleInteraction),ze.addEventListener("touchstart",(function(Ee){var Be=$e(Ee.changedTouches[0],ze);handleInteraction(0,Be[0],Be[1]),handleInteraction(1,Be[0],Be[1]),Ee.preventDefault()}),!!et&&{passive:!1}),ze.addEventListener("touchmove",(function(Ee){Ee.preventDefault();var Be=$e(Ee.changedTouches[0],ze);handleInteraction(1,Be[0],Be[1]),Ee.preventDefault()}),!!et&&{passive:!1}),ze.addEventListener("touchend",(function(Ee){handleInteraction(0,tt.lastPos[0],tt.lastPos[1]),Ee.preventDefault()}),!!et&&{passive:!1}),tt.wheelListener=We(ze,(function(ze,Ue){if(!Ee.scrollZoom)return!1;var We=Ee.calcDataBox(),$e=Be.viewBox,Qe=tt.lastPos[0],et=tt.lastPos[1],rt=Math.exp(5*Ue/($e[3]-$e[1])),nt=Qe/($e[2]-$e[0])*(We[2]-We[0])+We[0],at=et/($e[3]-$e[1])*(We[3]-We[1])+We[1];return We[0]=(We[0]-nt)*rt+nt,We[2]=(We[2]-nt)*rt+nt,We[1]=(We[1]-at)*rt+at,We[3]=(We[3]-at)*rt+at,Ee.setRanges(We),tt.lastInputTime=Date.now(),unSetAutoRange(),Ee.cameraChanged(),Ee.handleAnnotations(),Ee.relayoutCallback(),!0}),!0),tt}},d7f3:function(Ee,ze,Be){"use strict";var Ue,We=Be("4a53"),$e=Be("e440"),Qe=Be("e0d7"),et=Be("d4b5"),tt=Be("dda6"),rt=document.createElement("canvas"),nt=rt.getContext("2d");Ee.exports=function pathSdf(Ee,ze){if(!et(Ee))throw Error("Argument should be valid svg path string");ze||(ze={});var Be,at;ze.shape?(Be=ze.shape[0],at=ze.shape[1]):(Be=rt.width=ze.w||ze.width||200,at=rt.height=ze.h||ze.height||200);var it=Math.min(Be,at),ct=ze.stroke||0,ft=ze.viewbox||ze.viewBox||We(Ee),xt=[Be/(ft[2]-ft[0]),at/(ft[3]-ft[1])],kt=Math.min(xt[0]||0,xt[1]||0)/2;nt.fillStyle="black",nt.fillRect(0,0,Be,at),nt.fillStyle="white",ct&&("number"!=typeof ct&&(ct=1),nt.strokeStyle=ct>0?"white":"black",nt.lineWidth=Math.abs(ct));if(nt.translate(.5*Be,.5*at),nt.scale(kt,kt),function isPath2DSupported(){if(null!=Ue)return Ue;var Ee=document.createElement("canvas").getContext("2d");if(Ee.canvas.width=Ee.canvas.height=1,!window.Path2D)return Ue=!1;var ze=new Path2D("M0,0h1v1h-1v-1Z");Ee.fillStyle="black",Ee.fill(ze);var Be=Ee.getImageData(0,0,1,1);return Ue=Be&&Be.data&&255===Be.data[3]}()){var Lt=new Path2D(Ee);nt.fill(Lt),ct&&nt.stroke(Lt)}else{var Ut=$e(Ee);Qe(nt,Ut),nt.fill(),ct&&nt.stroke()}return nt.setTransform(1,0,0,1,0,0),tt(nt,{cutoff:null!=ze.cutoff?ze.cutoff:.5,radius:null!=ze.radius?ze.radius:.5*it})}},d81d:function(Ee,ze,Be){"use strict";var Ue=Be("23e7"),We=Be("b727").map,$e=Be("1dde"),Qe=Be("ae40"),et=$e("map"),tt=Qe("map");Ue({target:"Array",proto:!0,forced:!et||!tt},{map:function map(Ee){return We(this,Ee,arguments.length>1?arguments[1]:void 0)}})},d831:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"funnelarea",basePlotModule:Be("a8f9"),categories:["pie-like","funnelarea","showLegend"],attributes:Be("ecc5"),layoutAttributes:Be("f3df"),supplyDefaults:Be("e485"),supplyLayoutDefaults:Be("fcd6"),calc:Be("3936").calc,crossTraceCalc:Be("3936").crossTraceCalc,plot:Be("7c43"),style:Be("a41d"),styleOne:Be("a708"),meta:{}}},d844:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze,Be,Ue,We){if(ze.xa&&(Ee.xaxis=ze.xa),ze.ya&&(Ee.yaxis=ze.ya),Ue[We]){var $e=Ue[We];Ee.a=$e.a,Ee.b=$e.b,Ee.c=$e.c}else Ee.a=ze.a,Ee.b=ze.b,Ee.c=ze.c;return Ee}},d858:function(Ee,ze,Be){"use strict";Ee.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},d92f:function(Ee,ze,Be){"use strict";var Ue=Be("da6a");Ee.exports=function handleTickValueDefaults(Ee,ze,Be,We){var $e;"array"!==Ee.tickmode||"log"!==We&&"date"!==We?$e=Be("tickmode",Array.isArray(Ee.tickvals)?"array":Ee.dtick?"linear":"auto"):$e=ze.tickmode="auto";if("auto"===$e)Be("nticks");else if("linear"===$e){var Qe=ze.dtick=Ue.dtick(Ee.dtick,We);ze.tick0=Ue.tick0(Ee.tick0,We,ze.calendar,Qe)}else if("multicategory"!==We){void 0===Be("tickvals")?ze.tickmode="auto":Be("ticktext")}}},d945:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26"),$e=Be("a5c4"),Qe=Be("d115"),et=Be("fc26").fillText,tt=Be("b8ce"),rt={increasing:tt.INCREASING.SYMBOL,decreasing:tt.DECREASING.SYMBOL};function getClosestPoint(Ee,ze,Be,Ue){var We,et,tt=Ee.cd,rt=Ee.xa,nt=tt[0].trace,at=tt[0].t,it=nt.type,ct="ohlc"===it?"l":"min",ft="ohlc"===it?"h":"max",xt=at.bPos||0,kt=at.bdPos||at.tickLen,Lt=at.wHover,Ut=Math.min(1,kt/Math.abs(rt.r2c(rt.range[1])-rt.r2c(rt.range[0])));function dx(Ee){var Be=function(Ee){return Ee.pos+xt-ze}(Ee);return $e.inbox(Be-Lt,Be+Lt,We)}function dy(Ee){var ze=Ee[ct],Ue=Ee[ft];return ze===Ue||$e.inbox(ze-Be,Ue-Be,We)}function dxy(Ee){return(dx(Ee)+dy(Ee))/2}We=Ee.maxHoverDistance-Ut,et=Ee.maxSpikeDistance-Ut;var er=$e.getDistanceFunction(Ue,dx,dy,dxy);if($e.getClosest(tt,er,Ee),!1===Ee.index)return null;var tr=tt[Ee.index];if(tr.empty)return null;var rr=nt[tr.dir],ar=rr.line.color;return Qe.opacity(ar)&&rr.line.width?Ee.color=ar:Ee.color=rr.fillcolor,Ee.x0=rt.c2p(tr.pos+xt-kt,!0),Ee.x1=rt.c2p(tr.pos+xt+kt,!0),Ee.xLabelVal=tr.pos,Ee.spikeDistance=dxy(tr)*et/We,Ee.xSpike=rt.c2p(tr.pos,!0),Ee}function hoverSplit(Ee,ze,Be,$e){var Qe=Ee.cd,et=Ee.ya,tt=Qe[0].trace,rt=Qe[0].t,nt=[],at=getClosestPoint(Ee,ze,Be,$e);if(!at)return[];var it=Qe[at.index].hi||tt.hoverinfo,ct=it.split("+");if(!("all"===it||-1!==ct.indexOf("y")))return[];for(var ft=["high","open","close","low"],xt={},kt=0;kt<ft.length;kt++){var Lt,Ut=ft[kt],er=tt[Ut][at.index],tr=et.c2p(er,!0);er in xt?(Lt=xt[er]).yLabel+="<br>"+rt.labels[Ut]+Ue.hoverLabelText(et,er):((Lt=We.extendFlat({},at)).y0=Lt.y1=tr,Lt.yLabelVal=er,Lt.yLabel=rt.labels[Ut]+Ue.hoverLabelText(et,er),Lt.name="",nt.push(Lt),xt[er]=Lt)}return nt}function hoverOnPoints(Ee,ze,Be,We){var $e=Ee.cd,Qe=Ee.ya,tt=$e[0].trace,nt=$e[0].t,at=getClosestPoint(Ee,ze,Be,We);if(!at)return[];var it=$e[at.index],ct=at.index=it.i,ft=it.dir;function getLabelLine(Ee){return nt.labels[Ee]+Ue.hoverLabelText(Qe,tt[Ee][ct])}var xt=it.hi||tt.hoverinfo,kt=xt.split("+"),Lt="all"===xt,Ut=Lt||-1!==kt.indexOf("y"),er=Lt||-1!==kt.indexOf("text"),tr=Ut?[getLabelLine("open"),getLabelLine("high"),getLabelLine("low"),getLabelLine("close")+"  "+rt[ft]]:[];return er&&et(it,tt,tr),at.extraText=tr.join("<br>"),at.y0=at.y1=Qe.c2p(it.yc,!0),[at]}Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,Ue){return Ee.cd[0].trace.hoverlabel.split?hoverSplit(Ee,ze,Be,Ue):hoverOnPoints(Ee,ze,Be,Ue)},hoverSplit:hoverSplit,hoverOnPoints:hoverOnPoints}},d9c2:function(Ee,ze){Ee.exports=function scale(Ee,ze,Be){return Ee[0]=ze[0]*Be,Ee[1]=ze[1]*Be,Ee[2]=ze[2]*Be,Ee[3]=ze[3]*Be,Ee}},da69:function(Ee,ze,Be){"use strict";var Ue,We=Be("cc77");function FaceIndex(Ee,ze,Be,Ue,We,$e,Qe){this.cells=Ee,this.neighbor=ze,this.flags=Ue,this.constraint=Be,this.active=We,this.next=$e,this.boundary=Qe}function compareCell(Ee,ze){return Ee[0]-ze[0]||Ee[1]-ze[1]||Ee[2]-ze[2]}Ee.exports=function classifyFaces(Ee,ze,Be){var Ue=function indexCells(Ee,ze){for(var Be=Ee.cells(),Ue=Be.length,We=0;We<Ue;++We){var $e=(xt=Be[We])[0],Qe=xt[1],et=xt[2];Qe<et?Qe<$e&&(xt[0]=Qe,xt[1]=et,xt[2]=$e):et<$e&&(xt[0]=et,xt[1]=$e,xt[2]=Qe)}Be.sort(compareCell);var tt=new Array(Ue);for(We=0;We<tt.length;++We)tt[We]=0;var rt=[],nt=[],at=new Array(3*Ue),it=new Array(3*Ue),ct=null;ze&&(ct=[]);var ft=new FaceIndex(Be,at,it,tt,rt,nt,ct);for(We=0;We<Ue;++We)for(var xt=Be[We],kt=0;kt<3;++kt){$e=xt[kt],Qe=xt[(kt+1)%3];var Lt=at[3*We+kt]=ft.locate(Qe,$e,Ee.opposite(Qe,$e)),Ut=it[3*We+kt]=Ee.isConstraint($e,Qe);Lt<0&&(Ut?nt.push(We):(rt.push(We),tt[We]=1),ze&&ct.push([Qe,$e,-1]))}return ft}(Ee,Be);if(0===ze)return Be?Ue.cells.concat(Ue.boundary):Ue.cells;var We=1,$e=Ue.active,Qe=Ue.next,et=Ue.flags,tt=Ue.cells,rt=Ue.constraint,nt=Ue.neighbor;for(;$e.length>0||Qe.length>0;){for(;$e.length>0;){var at=$e.pop();if(et[at]!==-We){et[at]=We;tt[at];for(var it=0;it<3;++it){var ct=nt[3*at+it];ct>=0&&0===et[ct]&&(rt[3*at+it]?Qe.push(ct):($e.push(ct),et[ct]=We))}}}var ft=Qe;Qe=$e,$e=ft,Qe.length=0,We=-We}var xt=function filterCells(Ee,ze,Be){for(var Ue=0,We=0;We<Ee.length;++We)ze[We]===Be&&(Ee[Ue++]=Ee[We]);return Ee.length=Ue,Ee}(tt,et,ze);if(Be)return xt.concat(Ue.boundary);return xt},FaceIndex.prototype.locate=(Ue=[0,0,0],function(Ee,ze,Be){var $e=Ee,Qe=ze,et=Be;return ze<Be?ze<Ee&&($e=ze,Qe=Be,et=Ee):Be<Ee&&($e=Be,Qe=Ee,et=ze),$e<0?-1:(Ue[0]=$e,Ue[1]=Qe,Ue[2]=et,We.eq(this.cells,Ue,compareCell))})},da6a:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26"),$e=Be("e806").ONEDAY;ze.dtick=function(Ee,ze){var Be="log"===ze,We="date"===ze,Qe="category"===ze,et=We?$e:1;if(!Ee)return et;if(Ue(Ee))return(Ee=Number(Ee))<=0?et:Qe?Math.max(1,Math.round(Ee)):We?Math.max(.1,Ee):Ee;if("string"!=typeof Ee||!We&&!Be)return et;var tt=Ee.charAt(0),rt=Ee.substr(1);return(rt=Ue(rt)?Number(rt):0)<=0||!(We&&"M"===tt&&rt===Math.round(rt)||Be&&"L"===tt||Be&&"D"===tt&&(1===rt||2===rt))?et:Ee},ze.tick0=function(Ee,ze,Be,$e){return"date"===ze?We.cleanDate(Ee,We.dateTick0(Be)):"D1"!==$e&&"D2"!==$e?Ue(Ee)?Number(Ee):0:void 0}},da84:function(Ee,ze,Be){(function(ze){var check=function(Ee){return Ee&&Ee.Math==Math&&Ee};Ee.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof ze&&ze)||Function("return this")()}).call(this,Be("c8ba"))},da89:function(Ee,ze,Be){"use strict";var Ue=Be("8e43");function getMarchingIndex(Ee,ze){var Be=(ze[0][0]>Ee?0:1)+(ze[0][1]>Ee?0:2)+(ze[1][1]>Ee?0:4)+(ze[1][0]>Ee?0:8);return 5===Be||10===Be?Ee>(ze[0][0]+ze[0][1]+ze[1][0]+ze[1][1])/4?5===Be?713:1114:5===Be?104:208:15===Be?0:Be}Ee.exports=function makeCrossings(Ee){var ze,Be,We,$e,Qe,et,tt,rt,nt,at=Ee[0].z,it=at.length,ct=at[0].length,ft=2===it||2===ct;for(Be=0;Be<it-1;Be++)for($e=[],0===Be&&($e=$e.concat(Ue.BOTTOMSTART)),Be===it-2&&($e=$e.concat(Ue.TOPSTART)),ze=0;ze<ct-1;ze++)for(We=$e.slice(),0===ze&&(We=We.concat(Ue.LEFTSTART)),ze===ct-2&&(We=We.concat(Ue.RIGHTSTART)),Qe=ze+","+Be,et=[[at[Be][ze],at[Be][ze+1]],[at[Be+1][ze],at[Be+1][ze+1]]],nt=0;nt<Ee.length;nt++)(tt=getMarchingIndex((rt=Ee[nt]).level,et))&&(rt.crossings[Qe]=tt,-1!==We.indexOf(tt)&&(rt.starts.push([ze,Be]),ft&&-1!==We.indexOf(tt,We.indexOf(tt)+1)&&rt.starts.push([ze,Be])))}},da8c:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("fc26"),Qe=Be("fb56"),et=Be("93a6").resizeText;function styleOne(Ee,ze,Be,Ue){var et,tt,rt=(Ue||{}).hovered,nt=ze.data.data,at=nt.i,it=nt.color,ct=Qe.isHierarchyRoot(ze),ft=1;if(rt)et=Be._hovered.marker.line.color,tt=Be._hovered.marker.line.width;else if(ct&&"rgba(0,0,0,0)"===it)ft=0,et="rgba(0,0,0,0)",tt=0;else if(et=$e.castOption(Be,at,"marker.line.color")||We.defaultLine,tt=$e.castOption(Be,at,"marker.line.width")||0,!Be._hasColorscale&&!ze.onPathbar){var xt=Be.marker.depthfade;if(xt){var kt,Lt=We.combine(We.addOpacity(Be._backgroundColor,.75),it);if(!0===xt){var Ut=Qe.getMaxDepth(Be);kt=isFinite(Ut)?Qe.isLeaf(ze)?0:Be._maxVisibleLayers-(ze.data.depth-Be._entryDepth):ze.data.height+1}else kt=ze.data.depth-Be._entryDepth,Be._atRootLevel||kt++;if(kt>0)for(var er=0;er<kt;er++){var tr=.5*er/kt;it=We.combine(We.addOpacity(Lt,tr),it)}}}Ee.style("stroke-width",tt).call(We.fill,it).call(We.stroke,et).style("opacity",ft)}Ee.exports={style:function style(Ee){var ze=Ee._fullLayout._treemaplayer.selectAll(".trace");et(Ee,ze,"treemap"),ze.each((function(Ee){var ze=Ue.select(this),Be=Ee[0].trace;ze.style("opacity",Be.opacity),ze.selectAll("path.surface").each((function(Ee){Ue.select(this).call(styleOne,Ee,Be,{hovered:!1})}))}))},styleOne:styleOne}},db3f:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("371e"),$e=Be("0642"),Qe=Be("fc26"),et=Be("3c31");function calcOneAxis(Ee,ze,Be,We){var tt=ze["error_"+We]||{},rt=[];if(tt.visible&&-1!==["linear","log"].indexOf(Be.type)){for(var nt=et(tt),at=0;at<Ee.length;at++){var it=Ee[at],ct=it.i;if(void 0===ct)ct=at;else if(null===ct)continue;var ft=it[We];if(Ue(Be.c2l(ft))){var xt=nt(ft,ct);if(Ue(xt[0])&&Ue(xt[1])){var kt=it[We+"s"]=ft-xt[0],Lt=it[We+"h"]=ft+xt[1];rt.push(kt,Lt)}}}var Ut=Be._id,er=ze._extremes[Ut],tr=$e.findExtremes(Be,rt,Qe.extendFlat({tozero:er.opts.tozero},{padded:!0}));er.min=er.min.concat(tr.min),er.max=er.max.concat(tr.max)}}Ee.exports=function calc(Ee){for(var ze=Ee.calcdata,Be=0;Be<ze.length;Be++){var Ue=ze[Be],Qe=Ue[0].trace;if(!0===Qe.visible&&We.traceIs(Qe,"errorBarsOK")){var et=$e.getFromId(Ee,Qe.xaxis),tt=$e.getFromId(Ee,Qe.yaxis);calcOneAxis(Ue,Qe,et,"x"),calcOneAxis(Ue,Qe,tt,"y")}}}},db54:function(Ee,ze,Be){"use strict";ze.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},dbb4:function(Ee,ze,Be){var Ue=Be("23e7"),We=Be("83ab"),$e=Be("56ef"),Qe=Be("fc6a"),et=Be("06cf"),tt=Be("8418");Ue({target:"Object",stat:!0,sham:!We},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(Ee){for(var ze,Be,Ue=Qe(Ee),We=et.f,rt=$e(Ue),nt={},at=0;rt.length>at;)void 0!==(Be=We(Ue,ze=rt[at++]))&&tt(nt,ze,Be);return nt}})},dbc7:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("fc26"),Qe=Be("d115"),et=Be("83d1"),tt=Be("a5c4"),rt=Be("bb71"),nt=Be("0642"),at=Be("ce56").getAutoRange,it=Be("4efe"),ct=Be("1876").prepSelect,ft=Be("1876").selectOnClick,xt=Be("be64"),kt=Be("0804"),Lt=Be("0919"),Ut=Be("c400"),er=Be("e018").feature;function Geo(Ee){this.id=Ee.id,this.graphDiv=Ee.graphDiv,this.container=Ee.container,this.topojsonURL=Ee.topojsonURL,this.isStatic=Ee.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}Be("4b8c")(Ue);var tr=Geo.prototype;function makeRangeBox(Ee,ze){var Be=kt.clipPad,Ue=Ee[0]+Be,We=Ee[1]-Be,$e=ze[0]+Be,Qe=ze[1]-Be;Ue>0&&We<0&&(We+=360);var et=(We-Ue)/4;return{type:"Polygon",coordinates:[[[Ue,$e],[Ue,Qe],[Ue+et,Qe],[Ue+2*et,Qe],[Ue+3*et,Qe],[We,Qe],[We,$e],[We-et,$e],[We-2*et,$e],[We-3*et,$e],[Ue,$e]]]}}Ee.exports=function createGeo(Ee){return new Geo(Ee)},tr.plot=function(Ee,ze,Be){var Ue=this,We=ze[this.id],$e=[],Qe=!1;for(var et in kt.layerNameToAdjective)if("frame"!==et&&We["show"+et]){Qe=!0;break}for(var tt=0;tt<Ee.length;tt++)if(Ee[0][0].trace.locationmode){Qe=!0;break}if(Qe){var rt=Ut.getTopojsonName(We);null!==Ue.topojson&&rt===Ue.topojsonName||(Ue.topojsonName=rt,void 0===PlotlyGeoAssets.topojson[Ue.topojsonName]&&$e.push(Ue.fetchTopojson()))}$e=$e.concat(Lt.fetchTraceGeoData(Ee)),Be.push(new Promise((function(Be,We){Promise.all($e).then((function(){Ue.topojson=PlotlyGeoAssets.topojson[Ue.topojsonName],Ue.update(Ee,ze),Be()})).catch(We)})))},tr.fetchTopojson=function(){var Ee=this,ze=Ut.getTopojsonPath(Ee.topojsonURL,Ee.topojsonName);return new Promise((function(Be,We){Ue.json(ze,(function(Ue,$e){if(Ue)return 404===Ue.status?We(new Error(["plotly.js could not find topojson file at",ze,".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):We(new Error(["unexpected error while fetching topojson file at",ze].join(" ")));PlotlyGeoAssets.topojson[Ee.topojsonName]=$e,Be()}))}))},tr.update=function(Ee,ze){var Be=ze[this.id];this.hasChoropleth=!1;for(var Ue=0;Ue<Ee.length;Ue++){var We=Ee[Ue],$e=We[0].trace;"choropleth"===$e.type&&(this.hasChoropleth=!0),!0===$e.visible&&$e._length>0&&$e._module.calcGeoJSON(We,ze)}if(!this.updateProjection(Ee,ze)){this.viewInitial&&this.scope===Be.scope||this.saveViewInitial(Be),this.scope=Be.scope,this.updateBaseLayers(ze,Be),this.updateDims(ze,Be),this.updateFx(ze,Be),rt.generalUpdatePerTraceModule(this.graphDiv,this,Ee,Be);var Qe=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=Qe.selectAll(".point"),this.dataPoints.text=Qe.selectAll("text"),this.dataPaths.line=Qe.selectAll(".js-line");var et=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=et.selectAll("path"),this.render()}},tr.updateProjection=function(Ee,ze){var Be=this.graphDiv,Qe=ze[this.id],et=ze._size,tt=Qe.domain,rt=Qe.projection,nt=Qe.lonaxis,it=Qe.lataxis,ct=nt._ax,ft=it._ax,xt=this.projection=function getProjection(Ee){for(var ze=Ee.projection.type,Be=Ue.geo[kt.projNames[ze]](),We=Ee._isClipped?kt.lonaxisSpan[ze]/2:null,$e=["center","rotate","parallels","clipExtent"],dummyFn=function(Ee){return Ee?Be:[]},Qe=0;Qe<$e.length;Qe++){var et=$e[Qe];"function"!=typeof Be[et]&&(Be[et]=dummyFn)}Be.isLonLatOverEdges=function(Ee){if(null===Be(Ee))return!0;if(We){var ze=Be.rotate();return Ue.geo.distance(Ee,[-ze[0],-ze[1]])>We*Math.PI/180}return!1},Be.getPath=function(){return Ue.geo.path().projection(Be)},Be.getBounds=function(Ee){return Be.getPath().bounds(Ee)},Be.fitExtent=function(Ee,ze){var Ue=Ee[1][0]-Ee[0][0],We=Ee[1][1]-Ee[0][1],$e=Be.clipExtent&&Be.clipExtent();Be.scale(150).translate([0,0]),$e&&Be.clipExtent(null);var Qe=Be.getBounds(ze),et=Math.min(Ue/(Qe[1][0]-Qe[0][0]),We/(Qe[1][1]-Qe[0][1])),tt=+Ee[0][0]+(Ue-et*(Qe[1][0]+Qe[0][0]))/2,rt=+Ee[0][1]+(We-et*(Qe[1][1]+Qe[0][1]))/2;return $e&&Be.clipExtent($e),Be.scale(150*et).translate([tt,rt])},Be.precision(kt.precision),We&&Be.clipAngle(We-kt.clipPad);return Be}(Qe),Lt=[[et.l+et.w*tt.x[0],et.t+et.h*(1-tt.y[1])],[et.l+et.w*tt.x[1],et.t+et.h*(1-tt.y[0])]],Ut=Qe.center||{},er=rt.rotation||{},tr=nt.range||[],rr=it.range||[];if(Qe.fitbounds){ct._length=Lt[1][0]-Lt[0][0],ft._length=Lt[1][1]-Lt[0][1],ct.range=at(Be,ct),ft.range=at(Be,ft);var ar=(ct.range[0]+ct.range[1])/2,Lr=(ft.range[0]+ft.range[1])/2;if(Qe._isScoped)Ut={lon:ar,lat:Lr};else if(Qe._isClipped){Ut={lon:ar,lat:Lr},er={lon:ar,lat:Lr,roll:er.roll};var Qr=rt.type,on=kt.lonaxisSpan[Qr]/2||180,sn=kt.lataxisSpan[Qr]/2||180;tr=[ar-on,ar+on],rr=[Lr-sn,Lr+sn]}else Ut={lon:ar,lat:Lr},er={lon:ar,lat:er.lat,roll:er.roll}}xt.center([Ut.lon-er.lon,Ut.lat-er.lat]).rotate([-er.lon,-er.lat,er.roll]).parallels(rt.parallels);var ln=makeRangeBox(tr,rr);xt.fitExtent(Lt,ln);var cn=this.bounds=xt.getBounds(ln),un=this.fitScale=xt.scale(),hn=xt.translate();if(!isFinite(cn[0][0])||!isFinite(cn[0][1])||!isFinite(cn[1][0])||!isFinite(cn[1][1])||isNaN(hn[0])||isNaN(hn[0])){for(var dn=["fitbounds","projection.rotation","center","lonaxis.range","lataxis.range"],vn="Invalid geo settings, relayout'ing to default view.",yn={},_n=0;_n<dn.length;_n++)yn[this.id+"."+dn[_n]]=null;return this.viewInitial=null,$e.warn(vn),Be._promises.push(We.call("relayout",Be,yn)),vn}if(Qe.fitbounds){var Mn=xt.getBounds(makeRangeBox(ct.range,ft.range)),Cn=Math.min((cn[1][0]-cn[0][0])/(Mn[1][0]-Mn[0][0]),(cn[1][1]-cn[0][1])/(Mn[1][1]-Mn[0][1]));isFinite(Cn)?xt.scale(Cn*un):$e.warn("Something went wrong during"+this.id+"fitbounds computations.")}else xt.scale(rt.scale*un);var En=this.midPt=[(cn[0][0]+cn[1][0])/2,(cn[0][1]+cn[1][1])/2];if(xt.translate([hn[0]+(En[0]-hn[0]),hn[1]+(En[1]-hn[1])]).clipExtent(cn),Qe._isAlbersUsa){var Pn=xt([Ut.lon,Ut.lat]),In=xt.translate();xt.translate([In[0]-(Pn[0]-In[0]),In[1]-(Pn[1]-In[1])])}},tr.updateBaseLayers=function(Ee,ze){var Be=this,We=Be.topojson,$e=Be.layers,tt=Be.basePaths;function isAxisLayer(Ee){return"lonaxis"===Ee||"lataxis"===Ee}function isLineLayer(Ee){return Boolean(kt.lineLayers[Ee])}function isFillLayer(Ee){return Boolean(kt.fillLayers[Ee])}var rt=(this.hasChoropleth?kt.layersForChoropleth:kt.layers).filter((function(Ee){return isLineLayer(Ee)||isFillLayer(Ee)?ze["show"+Ee]:!isAxisLayer(Ee)||ze[Ee].showgrid})),at=Be.framework.selectAll(".layer").data(rt,String);at.exit().each((function(Ee){delete $e[Ee],delete tt[Ee],Ue.select(this).remove()})),at.enter().append("g").attr("class",(function(Ee){return"layer "+Ee})).each((function(Ee){var ze=$e[Ee]=Ue.select(this);"bg"===Ee?Be.bgRect=ze.append("rect").style("pointer-events","all"):isAxisLayer(Ee)?tt[Ee]=ze.append("path").style("fill","none"):"backplot"===Ee?ze.append("g").classed("choroplethlayer",!0):"frontplot"===Ee?ze.append("g").classed("scatterlayer",!0):isLineLayer(Ee)?tt[Ee]=ze.append("path").style("fill","none").style("stroke-miterlimit",2):isFillLayer(Ee)&&(tt[Ee]=ze.append("path").style("stroke","none"))})),at.order(),at.each((function(Be){var Ue=tt[Be],$e=kt.layerNameToAdjective[Be];"frame"===Be?Ue.datum(kt.sphereSVG):isLineLayer(Be)||isFillLayer(Be)?Ue.datum(er(We,We.objects[Be])):isAxisLayer(Be)&&Ue.datum(function makeGraticule(Ee,ze,Be){var Ue,We,$e,Qe=ze[Ee],et=kt.scopeDefaults[ze.scope];"lonaxis"===Ee?(Ue=et.lonaxisRange,We=et.lataxisRange,$e=function(Ee,ze){return[Ee,ze]}):"lataxis"===Ee&&(Ue=et.lataxisRange,We=et.lonaxisRange,$e=function(Ee,ze){return[ze,Ee]});var tt={type:"linear",range:[Ue[0],Ue[1]-1e-6],tick0:Qe.tick0,dtick:Qe.dtick};nt.setConvert(tt,Be);var rt=nt.calcTicks(tt);ze.isScoped||"lonaxis"!==Ee||rt.pop();for(var at=rt.length,it=new Array(at),ct=0;ct<at;ct++)for(var ft=rt[ct].x,xt=it[ct]=[],Lt=We[0];Lt<We[1]+2.5;Lt+=2.5)xt.push($e(ft,Lt));return{type:"MultiLineString",coordinates:it}}(Be,ze,Ee)).call(Qe.stroke,ze[Be].gridcolor).call(et.dashLine,"",ze[Be].gridwidth),isLineLayer(Be)?Ue.call(Qe.stroke,ze[$e+"color"]).call(et.dashLine,"",ze[$e+"width"]):isFillLayer(Be)&&Ue.call(Qe.fill,ze[$e+"color"])}))},tr.updateDims=function(Ee,ze){var Be=this.bounds,Ue=(ze.framewidth||0)/2,We=Be[0][0]-Ue,$e=Be[0][1]-Ue,tt=Be[1][0]-We+Ue,rt=Be[1][1]-$e+Ue;et.setRect(this.clipRect,We,$e,tt,rt),this.bgRect.call(et.setRect,We,$e,tt,rt).call(Qe.fill,ze.bgcolor),this.xaxis._offset=We,this.xaxis._length=tt,this.yaxis._offset=$e,this.yaxis._length=rt},tr.updateFx=function(Ee,ze){var Be=this,$e=Be.graphDiv,Qe=Be.bgRect,et=Ee.dragmode,rt=Ee.clickmode;if(!Be.isStatic){var nt;"select"===et?nt=function(Ee,ze){(Ee.range={})[Be.id]=[invert([ze.xmin,ze.ymin]),invert([ze.xmax,ze.ymax])]}:"lasso"===et&&(nt=function(Ee,ze,Ue){(Ee.lassoPoints={})[Be.id]=Ue.filtered.map(invert)});var at={element:Be.bgRect.node(),gd:$e,plotinfo:{id:Be.id,xaxis:Be.xaxis,yaxis:Be.yaxis,fillRangeItems:nt},xaxes:[Be.xaxis],yaxes:[Be.yaxis],subplot:Be.id,clickFn:function(ze){2===ze&&Ee._zoomlayer.selectAll(".select-outline").remove()}};"pan"===et?(Qe.node().onmousedown=null,Qe.call(xt(Be,ze)),Qe.on("dblclick.zoom",(function zoomReset(){var Ee=Be.viewInitial,ze={};for(var Ue in Ee)ze[Be.id+"."+Ue]=Ee[Ue];We.call("_guiRelayout",$e,ze),$e.emit("plotly_doubleclick",null)})),$e._context._scrollZoom.geo||Qe.on("wheel.zoom",null)):"select"!==et&&"lasso"!==et||(Qe.on(".zoom",null),at.prepFn=function(Ee,ze,Be){ct(Ee,ze,Be,at,et)},it.init(at)),Qe.on("mousemove",(function(){var Ee=Be.projection.invert(Ue.mouse(this));if(!Ee||isNaN(Ee[0])||isNaN(Ee[1]))return it.unhover($e,Ue.event);Be.xaxis.p2c=function(){return Ee[0]},Be.yaxis.p2c=function(){return Ee[1]},tt.hover($e,Ue.event,Be.id)})),Qe.on("mouseout",(function(){$e._dragging||it.unhover($e,Ue.event)})),Qe.on("click",(function(){"select"!==et&&"lasso"!==et&&(rt.indexOf("select")>-1&&ft(Ue.event,$e,[Be.xaxis],[Be.yaxis],Be.id,at),rt.indexOf("event")>-1&&tt.click($e,Ue.event))}))}function invert(Ee){return Be.projection.invert([Ee[0]+Be.xaxis._offset,Ee[1]+Be.yaxis._offset])}},tr.makeFramework=function(){var Ee=this,ze=Ee.graphDiv,Be=ze._fullLayout,We="clip"+Be._uid+Ee.id;Ee.clipDef=Be._clips.append("clipPath").attr("id",We),Ee.clipRect=Ee.clipDef.append("rect"),Ee.framework=Ue.select(Ee.container).append("g").attr("class","geo "+Ee.id).call(et.setClipUrl,We,ze),Ee.project=function(ze){var Be=Ee.projection(ze);return Be?[Be[0]-Ee.xaxis._offset,Be[1]-Ee.yaxis._offset]:[null,null]},Ee.xaxis={_id:"x",c2p:function(ze){return Ee.project(ze)[0]}},Ee.yaxis={_id:"y",c2p:function(ze){return Ee.project(ze)[1]}},Ee.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},nt.setConvert(Ee.mockAxis,Be)},tr.saveViewInitial=function(Ee){var ze,Be=Ee.center||{},Ue=Ee.projection,We=Ue.rotation||{};this.viewInitial={fitbounds:Ee.fitbounds,"projection.scale":Ue.scale},ze=Ee._isScoped?{"center.lon":Be.lon,"center.lat":Be.lat}:Ee._isClipped?{"projection.rotation.lon":We.lon,"projection.rotation.lat":We.lat}:{"center.lon":Be.lon,"center.lat":Be.lat,"projection.rotation.lon":We.lon},$e.extendFlat(this.viewInitial,ze)},tr.render=function(){var Ee,ze=this.projection,Be=ze.getPath();function translatePoints(Ee){var Be=ze(Ee.lonlat);return Be?"translate("+Be[0]+","+Be[1]+")":null}function hideShowPoints(Ee){return ze.isLonLatOverEdges(Ee.lonlat)?"none":null}for(Ee in this.basePaths)this.basePaths[Ee].attr("d",Be);for(Ee in this.dataPaths)this.dataPaths[Ee].attr("d",(function(Ee){return Be(Ee.geojson)}));for(Ee in this.dataPoints)this.dataPoints[Ee].attr("display",hideShowPoints).attr("transform",translatePoints)}},dbd1:function(Ee,ze,Be){"use strict";Ee.exports=function createAxes(Ee,ze){var Be=new Axes(Ee);return Be.update(ze),Be};var Ue=Be("d5e3"),We=Be("487e"),$e=Be("3146"),Qe=Be("a4f3"),et=Be("605a"),tt=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function copyVec3(Ee,ze){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee}function Axes(Ee){this.gl=Ee,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=$e(Ee)}var rt=Axes.prototype;function OffsetInfo(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}rt.update=function(Ee){function parseOption(ze,Be,Ue){if(Ue in Ee){var We,$e=Ee[Ue],Qe=this[Ue];(ze?Array.isArray($e)&&Array.isArray($e[0]):Array.isArray($e))?this[Ue]=We=[Be($e[0]),Be($e[1]),Be($e[2])]:this[Ue]=We=[Be($e),Be($e),Be($e)];for(var et=0;et<3;++et)if(We[et]!==Qe[et])return!0}return!1}Ee=Ee||{};var ze,Be=parseOption.bind(this,!1,Number),$e=parseOption.bind(this,!1,Boolean),Qe=parseOption.bind(this,!1,String),tt=parseOption.bind(this,!0,(function(Ee){if(Array.isArray(Ee)){if(3===Ee.length)return[+Ee[0],+Ee[1],+Ee[2],1];if(4===Ee.length)return[+Ee[0],+Ee[1],+Ee[2],+Ee[3]]}return[0,0,0,1]})),rt=!1,nt=!1;if("bounds"in Ee)for(var at=Ee.bounds,it=0;it<2;++it)for(var ct=0;ct<3;++ct)at[it][ct]!==this.bounds[it][ct]&&(nt=!0),this.bounds[it][ct]=at[it][ct];if("ticks"in Ee){ze=Ee.ticks,rt=!0,this.autoTicks=!1;for(it=0;it<3;++it)this.tickSpacing[it]=0}else Be("tickSpacing")&&(this.autoTicks=!0,nt=!0);if(this._firstInit&&("ticks"in Ee||"tickSpacing"in Ee||(this.autoTicks=!0),nt=!0,rt=!0,this._firstInit=!1),nt&&this.autoTicks&&(ze=et.create(this.bounds,this.tickSpacing),rt=!0),rt){for(it=0;it<3;++it)ze[it].sort((function(Ee,ze){return Ee.x-ze.x}));et.equal(ze,this.ticks)?rt=!1:this.ticks=ze}$e("tickEnable"),Qe("tickFont")&&(rt=!0),Be("tickSize"),Be("tickAngle"),Be("tickPad"),tt("tickColor");var ft=Qe("labels");Qe("labelFont")&&(ft=!0),$e("labelEnable"),Be("labelSize"),Be("labelPad"),tt("labelColor"),$e("lineEnable"),$e("lineMirror"),Be("lineWidth"),tt("lineColor"),$e("lineTickEnable"),$e("lineTickMirror"),Be("lineTickLength"),Be("lineTickWidth"),tt("lineTickColor"),$e("gridEnable"),Be("gridWidth"),tt("gridColor"),$e("zeroEnable"),tt("zeroLineColor"),Be("zeroLineWidth"),$e("backgroundEnable"),tt("backgroundColor"),this._text?this._text&&(ft||rt)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=Ue(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&rt&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=We(this.gl,this.bounds,this.ticks))};var nt=[new OffsetInfo,new OffsetInfo,new OffsetInfo];function computeLineOffset(Ee,ze,Be,Ue,We){for(var $e=Ee.primalOffset,Qe=Ee.primalMinor,et=Ee.mirrorOffset,tt=Ee.mirrorMinor,rt=Ue[ze],nt=0;nt<3;++nt)if(ze!==nt){var at=$e,it=et,ct=Qe,ft=tt;rt&1<<nt&&(at=et,it=$e,ct=tt,ft=Qe),at[nt]=Be[0][nt],it[nt]=Be[1][nt],We[nt]>0?(ct[nt]=-1,ft[nt]=0):(ct[nt]=0,ft[nt]=1)}}var at=[0,0,0],it={model:tt,view:tt,projection:tt,_ortho:!1};rt.isOpaque=function(){return!0},rt.isTransparent=function(){return!1},rt.drawTransparent=function(Ee){};var ct=[0,0,0],ft=[0,0,0],xt=[0,0,0];rt.draw=function(Ee){Ee=Ee||it;for(var ze=this.gl,Be=Ee.model||tt,Ue=Ee.view||tt,We=Ee.projection||tt,$e=this.bounds,et=Ee._ortho||!1,rt=Qe(Be,Ue,We,$e,et),kt=rt.cubeEdges,Lt=rt.axis,Ut=Ue[12],er=Ue[13],tr=Ue[14],rr=Ue[15],ar=(et?2:1)*this.pixelRatio*(We[3]*Ut+We[7]*er+We[11]*tr+We[15]*rr)/ze.drawingBufferHeight,Lr=0;Lr<3;++Lr)this.lastCubeProps.cubeEdges[Lr]=kt[Lr],this.lastCubeProps.axis[Lr]=Lt[Lr];var Qr=nt;for(Lr=0;Lr<3;++Lr)computeLineOffset(nt[Lr],Lr,this.bounds,kt,Lt);ze=this.gl;var on,sn=at;for(Lr=0;Lr<3;++Lr)this.backgroundEnable[Lr]?sn[Lr]=Lt[Lr]:sn[Lr]=0;this._background.draw(Be,Ue,We,$e,sn,this.backgroundColor),this._lines.bind(Be,Ue,We,this);for(Lr=0;Lr<3;++Lr){var ln=[0,0,0];Lt[Lr]>0?ln[Lr]=$e[1][Lr]:ln[Lr]=$e[0][Lr];for(var cn=0;cn<2;++cn){var un=(Lr+1+cn)%3,hn=(Lr+1+(1^cn))%3;this.gridEnable[un]&&this._lines.drawGrid(un,hn,this.bounds,ln,this.gridColor[un],this.gridWidth[un]*this.pixelRatio)}for(cn=0;cn<2;++cn){un=(Lr+1+cn)%3,hn=(Lr+1+(1^cn))%3;this.zeroEnable[hn]&&Math.min($e[0][hn],$e[1][hn])<=0&&Math.max($e[0][hn],$e[1][hn])>=0&&this._lines.drawZero(un,hn,this.bounds,ln,this.zeroLineColor[hn],this.zeroLineWidth[hn]*this.pixelRatio)}}for(Lr=0;Lr<3;++Lr){this.lineEnable[Lr]&&this._lines.drawAxisLine(Lr,this.bounds,Qr[Lr].primalOffset,this.lineColor[Lr],this.lineWidth[Lr]*this.pixelRatio),this.lineMirror[Lr]&&this._lines.drawAxisLine(Lr,this.bounds,Qr[Lr].mirrorOffset,this.lineColor[Lr],this.lineWidth[Lr]*this.pixelRatio);var dn=copyVec3(ct,Qr[Lr].primalMinor),vn=copyVec3(ft,Qr[Lr].mirrorMinor),yn=this.lineTickLength;for(cn=0;cn<3;++cn){var _n=ar/Be[5*cn];dn[cn]*=yn[cn]*_n,vn[cn]*=yn[cn]*_n}this.lineTickEnable[Lr]&&this._lines.drawAxisTicks(Lr,Qr[Lr].primalOffset,dn,this.lineTickColor[Lr],this.lineTickWidth[Lr]*this.pixelRatio),this.lineTickMirror[Lr]&&this._lines.drawAxisTicks(Lr,Qr[Lr].mirrorOffset,vn,this.lineTickColor[Lr],this.lineTickWidth[Lr]*this.pixelRatio)}this._lines.unbind(),this._text.bind(Be,Ue,We,this.pixelRatio);var Mn,Cn;function alignTo(Ee){(Cn=[0,0,0])[Ee]=1}function solveTickAlignments(Ee,ze,Be){var Ue=(Ee+1)%3,We=(Ee+2)%3,$e=ze[Ue],Qe=ze[We],et=Be[Ue],tt=Be[We];$e>0&&tt>0||$e>0&&tt<0||$e<0&&tt>0||$e<0&&tt<0?alignTo(Ue):(Qe>0&&et>0||Qe>0&&et<0||Qe<0&&et>0||Qe<0&&et<0)&&alignTo(We)}for(Lr=0;Lr<3;++Lr){var En=Qr[Lr].primalMinor,Pn=Qr[Lr].mirrorMinor,In=copyVec3(xt,Qr[Lr].primalOffset);for(cn=0;cn<3;++cn)this.lineTickEnable[Lr]&&(In[cn]+=ar*En[cn]*Math.max(this.lineTickLength[cn],0)/Be[5*cn]);var Bn=[0,0,0];if(Bn[Lr]=1,this.tickEnable[Lr]){-3600===this.tickAngle[Lr]?(this.tickAngle[Lr]=0,this.tickAlign[Lr]="auto"):this.tickAlign[Lr]=-1,Mn=1,"auto"===(on=[this.tickAlign[Lr],.5,Mn])[0]?on[0]=0:on[0]=parseInt(""+on[0]),Cn=[0,0,0],solveTickAlignments(Lr,En,Pn);for(cn=0;cn<3;++cn)In[cn]+=ar*En[cn]*this.tickPad[cn]/Be[5*cn];this._text.drawTicks(Lr,this.tickSize[Lr],this.tickAngle[Lr],In,this.tickColor[Lr],Bn,Cn,on)}if(this.labelEnable[Lr]){Mn=0,Cn=[0,0,0],this.labels[Lr].length>4&&(alignTo(Lr),Mn=1),"auto"===(on=[this.labelAlign[Lr],.5,Mn])[0]?on[0]=0:on[0]=parseInt(""+on[0]);for(cn=0;cn<3;++cn)In[cn]+=ar*En[cn]*this.labelPad[cn]/Be[5*cn];In[Lr]+=.5*($e[0][Lr]+$e[1][Lr]),this._text.drawLabel(Lr,this.labelSize[Lr],this.labelAngle[Lr],In,this.labelColor[Lr],[0,0,0],Cn,on)}}this._text.unbind()},rt.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},dc6f:function(Ee,ze,Be){Ee.exports=function equals(Ee,ze){var Be=Ee[0],We=Ee[1],$e=Ee[2],Qe=ze[0],et=ze[1],tt=ze[2];return Math.abs(Be-Qe)<=Ue*Math.max(1,Math.abs(Be),Math.abs(Qe))&&Math.abs(We-et)<=Ue*Math.max(1,Math.abs(We),Math.abs(et))&&Math.abs($e-tt)<=Ue*Math.max(1,Math.abs($e),Math.abs(tt))};var Ue=Be("cc12a")},dc75:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("ae13"),$e=Be("306c");function lessThan(Ee,ze){return Ee<ze}function lessOrEqual(Ee,ze){return Ee<=ze}function greaterThan(Ee,ze){return Ee>ze}function greaterOrEqual(Ee,ze){return Ee>=ze}ze.findBin=function(Ee,ze,Be){if(Ue(ze.start))return Be?Math.ceil((Ee-ze.start)/ze.size-1e-9)-1:Math.floor((Ee-ze.start)/ze.size+1e-9);var $e,Qe,et=0,tt=ze.length,rt=0,nt=tt>1?(ze[tt-1]-ze[0])/(tt-1):1;for(Qe=nt>=0?Be?lessThan:lessOrEqual:Be?greaterOrEqual:greaterThan,Ee+=1e-9*nt*(Be?-1:1)*(nt>=0?1:-1);et<tt&&rt++<100;)Qe(ze[$e=Math.floor((et+tt)/2)],Ee)?et=$e+1:tt=$e;return rt>90&&We.log("Long binary search..."),et-1},ze.sorterAsc=function(Ee,ze){return Ee-ze},ze.sorterDes=function(Ee,ze){return ze-Ee},ze.distinctVals=function(Ee){var Be=Ee.slice();Be.sort(ze.sorterAsc);for(var Ue=Be.length-1,We=Be[Ue]-Be[0]||1,$e=We/(Ue||1)/1e4,Qe=[Be[0]],et=0;et<Ue;et++)Be[et+1]>Be[et]+$e&&(We=Math.min(We,Be[et+1]-Be[et]),Qe.push(Be[et+1]));return{vals:Qe,minDiff:We}},ze.roundUp=function(Ee,ze,Be){for(var Ue,We=0,$e=ze.length-1,Qe=0,et=Be?0:1,tt=Be?1:0,rt=Be?Math.ceil:Math.floor;We<$e&&Qe++<100;)ze[Ue=rt((We+$e)/2)]<=Ee?We=Ue+et:$e=Ue-tt;return ze[We]},ze.sort=function(Ee,ze){for(var Be=0,Ue=0,We=1;We<Ee.length;We++){var $e=ze(Ee[We],Ee[We-1]);if($e<0?Be=1:$e>0&&(Ue=1),Be&&Ue)return Ee.sort(ze)}return Ue?Ee:Ee.reverse()},ze.findIndexOfMin=function(Ee,ze){ze=ze||$e;for(var Be,Ue=1/0,We=0;We<Ee.length;We++){var Qe=ze(Ee[We]);Qe<Ue&&(Ue=Qe,Be=We)}return Be}},dc98:function(Ee,ze,Be){"use strict";Ee.exports={plot:Be("8c16"),attributes:Be("9036"),markerSymbols:Be("014c"),supplyDefaults:Be("d06d"),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:Be("c1d8"),moduleType:"trace",name:"scatter3d",basePlotModule:Be("134c"),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},dca5:function(Ee,ze,Be){"use strict";function UnionFind(Ee){this.roots=new Array(Ee),this.ranks=new Array(Ee);for(var ze=0;ze<Ee;++ze)this.roots[ze]=ze,this.ranks[ze]=0}Ee.exports=UnionFind;var Ue=UnionFind.prototype;Object.defineProperty(Ue,"length",{get:function(){return this.roots.length}}),Ue.makeSet=function(){var Ee=this.roots.length;return this.roots.push(Ee),this.ranks.push(0),Ee},Ue.find=function(Ee){for(var ze=Ee,Be=this.roots;Be[Ee]!==Ee;)Ee=Be[Ee];for(;Be[ze]!==Ee;){var Ue=Be[ze];Be[ze]=Ee,ze=Ue}return Ee},Ue.link=function(Ee,ze){var Be=this.find(Ee),Ue=this.find(ze);if(Be!==Ue){var We=this.ranks,$e=this.roots,Qe=We[Be],et=We[Ue];Qe<et?$e[Be]=Ue:et<Qe?$e[Ue]=Be:($e[Ue]=Be,++We[Be])}}},dcc2:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("e5ac"),$e=Be("42dc"),Qe=Be("3d2e").name,et=$e.buttons;function menuDefaults(Ee,ze,Be){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}coerce("visible",We(Ee,ze,{name:"buttons",handleItemDefaults:buttonDefaults}).length>0)&&(coerce("active"),coerce("direction"),coerce("type"),coerce("showactive"),coerce("x"),coerce("y"),Ue.noneOrAll(Ee,ze,["x","y"]),coerce("xanchor"),coerce("yanchor"),coerce("pad.t"),coerce("pad.r"),coerce("pad.b"),coerce("pad.l"),Ue.coerceFont(coerce,"font",Be.font),coerce("bgcolor",Be.paper_bgcolor),coerce("bordercolor"),coerce("borderwidth"))}function buttonDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}coerce("visible","skip"===Ee.method||Array.isArray(Ee.args))&&(coerce("method"),coerce("args"),coerce("args2"),coerce("label"),coerce("execute"))}Ee.exports=function updateMenusDefaults(Ee,ze){We(Ee,ze,{name:Qe,handleItemDefaults:menuDefaults})}},dcc8:function(Ee,ze){Ee.exports=function create(){var Ee=new Float32Array(16);return Ee[0]=1,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=1,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=1,Ee[11]=0,Ee[12]=0,Ee[13]=0,Ee[14]=0,Ee[15]=1,Ee}},dcf3:function(Ee,ze){Ee.exports=!0},dd05:function(Ee,ze){Ee.exports=function max(Ee,ze,Be){return Ee[0]=Math.max(ze[0],Be[0]),Ee[1]=Math.max(ze[1],Be[1]),Ee[2]=Math.max(ze[2],Be[2]),Ee[3]=Math.max(ze[3],Be[3]),Ee}},dd86:function(Ee,ze){Ee.exports=function multiply(Ee,ze,Be){return Ee[0]=ze[0]*Be[0],Ee[1]=ze[1]*Be[1],Ee[2]=ze[2]*Be[2],Ee[3]=ze[3]*Be[3],Ee}},dd8f:function(Ee,ze,Be){Ee.exports=Be("40ce")},dda6:function(Ee,ze,Be){"use strict";var Ue=Be("53a5");Ee.exports=function calcSDF(Ee,ze){ze||(ze={});var Be,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt=null==ze.cutoff?.25:ze.cutoff,kt=null==ze.radius?8:ze.radius,Lt=ze.channel||0;if(ArrayBuffer.isView(Ee)||Array.isArray(Ee)){if(!ze.width||!ze.height)throw Error("For raw data width and height should be provided by options");Be=ze.width,$e=ze.height,et=Ee,rt=ze.stride?ze.stride:Math.floor(Ee.length/Be/$e)}else window.HTMLCanvasElement&&Ee instanceof window.HTMLCanvasElement?(nt=(at=Ee).getContext("2d"),Be=at.width,$e=at.height,it=nt.getImageData(0,0,Be,$e),et=it.data,rt=4):window.CanvasRenderingContext2D&&Ee instanceof window.CanvasRenderingContext2D?(at=Ee.canvas,nt=Ee,Be=at.width,$e=at.height,it=nt.getImageData(0,0,Be,$e),et=it.data,rt=4):window.ImageData&&Ee instanceof window.ImageData&&(it=Ee,Be=Ee.width,$e=Ee.height,et=it.data,rt=4);if(Qe=Math.max(Be,$e),window.Uint8ClampedArray&&et instanceof window.Uint8ClampedArray||window.Uint8Array&&et instanceof window.Uint8Array)for(tt=et,et=Array(Be*$e),ct=0,ft=tt.length;ct<ft;ct++)et[ct]=tt[ct*rt+Lt]/255;else if(1!==rt)throw Error("Raw data can have only 1 value per pixel");var Ut=Array(Be*$e),er=Array(Be*$e),tr=Array(Qe),rr=Array(Qe),ar=Array(Qe+1),Lr=Array(Qe);for(ct=0,ft=Be*$e;ct<ft;ct++){var Qr=et[ct];Ut[ct]=1===Qr?0:0===Qr?We:Math.pow(Math.max(0,.5-Qr),2),er[ct]=1===Qr?We:0===Qr?0:Math.pow(Math.max(0,Qr-.5),2)}edt(Ut,Be,$e,tr,rr,Lr,ar),edt(er,Be,$e,tr,rr,Lr,ar);var on=window.Float32Array?new Float32Array(Be*$e):new Array(Be*$e);for(ct=0,ft=Be*$e;ct<ft;ct++)on[ct]=Ue(1-((Ut[ct]-er[ct])/kt+xt),0,1);return on};var We=1e20;function edt(Ee,ze,Be,Ue,We,$e,Qe){for(var et=0;et<ze;et++){for(var tt=0;tt<Be;tt++)Ue[tt]=Ee[tt*ze+et];for(edt1d(Ue,We,$e,Qe,Be),tt=0;tt<Be;tt++)Ee[tt*ze+et]=We[tt]}for(tt=0;tt<Be;tt++){for(et=0;et<ze;et++)Ue[et]=Ee[tt*ze+et];for(edt1d(Ue,We,$e,Qe,ze),et=0;et<ze;et++)Ee[tt*ze+et]=Math.sqrt(We[et])}}function edt1d(Ee,ze,Be,Ue,$e){Be[0]=0,Ue[0]=-We,Ue[1]=+We;for(var Qe=1,et=0;Qe<$e;Qe++){for(var tt=(Ee[Qe]+Qe*Qe-(Ee[Be[et]]+Be[et]*Be[et]))/(2*Qe-2*Be[et]);tt<=Ue[et];)et--,tt=(Ee[Qe]+Qe*Qe-(Ee[Be[et]]+Be[et]*Be[et]))/(2*Qe-2*Be[et]);Be[++et]=Qe,Ue[et]=tt,Ue[et+1]=+We}for(Qe=0,et=0;Qe<$e;Qe++){for(;Ue[et+1]<Qe;)et++;ze[Qe]=(Qe-Be[et])*(Qe-Be[et])+Ee[Be[et]]}}},ddde:function(Ee,ze,Be){"use strict";var Ue=Be("dfb3"),We=Be("d798"),$e=Be("81f0").attributes,Qe=Be("fc26").extendFlat,et=Be("cb34").overrideAll,tt=et({color:We.color,showline:Qe({},We.showline,{dflt:!0}),linecolor:We.linecolor,linewidth:We.linewidth,showgrid:Qe({},We.showgrid,{dflt:!0}),gridcolor:We.gridcolor,gridwidth:We.gridwidth},"plot","from-root"),rt=et({tickmode:We.tickmode,nticks:We.nticks,tick0:We.tick0,dtick:We.dtick,tickvals:We.tickvals,ticktext:We.ticktext,ticks:We.ticks,ticklen:We.ticklen,tickwidth:We.tickwidth,tickcolor:We.tickcolor,showticklabels:We.showticklabels,showtickprefix:We.showtickprefix,tickprefix:We.tickprefix,showticksuffix:We.showticksuffix,ticksuffix:We.ticksuffix,showexponent:We.showexponent,exponentformat:We.exponentformat,separatethousands:We.separatethousands,tickfont:We.tickfont,tickangle:We.tickangle,tickformat:We.tickformat,tickformatstops:We.tickformatstops,layer:We.layer},"plot","from-root"),nt={visible:Qe({},We.visible,{dflt:!0}),type:Qe({},We.type,{values:["-","linear","log","date","category"]}),autorange:Qe({},We.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:Qe({},We.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:We.categoryorder,categoryarray:We.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:Qe({},We.title.text,{editType:"plot",dflt:""}),font:Qe({},We.title.font,{editType:"plot"}),editType:"plot"},hoverformat:We.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:We._deprecated.title,titlefont:We._deprecated.titlefont}};Qe(nt,tt,rt);var at={visible:Qe({},We.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},categoryorder:We.categoryorder,categoryarray:We.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:We.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};Qe(at,tt,rt),Ee.exports={domain:$e({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:Ue.background},radialaxis:nt,angularaxis:at,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},de22:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642");function mockAnnAxes(Ee,ze){var Be=ze.fullSceneLayout.domain,$e=ze.fullLayout._size,Qe={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};Ee._xa={},Ue.extendFlat(Ee._xa,Qe),We.setConvert(Ee._xa),Ee._xa._offset=$e.l+Be.x[0]*$e.w,Ee._xa.l2p=function(){return.5*(1+Ee._pdata[0]/Ee._pdata[3])*$e.w*(Be.x[1]-Be.x[0])},Ee._ya={},Ue.extendFlat(Ee._ya,Qe),We.setConvert(Ee._ya),Ee._ya._offset=$e.t+(1-Be.y[1])*$e.h,Ee._ya.l2p=function(){return.5*(1-Ee._pdata[1]/Ee._pdata[3])*$e.h*(Be.y[1]-Be.y[0])}}Ee.exports=function convert(Ee){for(var ze=Ee.fullSceneLayout.annotations,Be=0;Be<ze.length;Be++)mockAnnAxes(ze[Be],Ee);Ee.fullLayout._infolayer.selectAll(".annotation-"+Ee.id).remove()}},de229:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("000c"),$e=Be("19b2"),Qe=Be("0642"),et=Be("fc26").maxRowLength;function scale(Ee,ze,Be,We){return function($e){return Ue.constrain(($e-Ee)*ze,Be,We)}}function constrain(Ee,ze){return function(Be){return Ue.constrain(Be,Ee,ze)}}Ee.exports=function calc(Ee,ze){var Be,Ue=Qe.getFromId(Ee,ze.xaxis||"x"),tt=Qe.getFromId(Ee,ze.yaxis||"y"),rt=Ue.d2c(ze.x0)-ze.dx/2,nt=tt.d2c(ze.y0)-ze.dy/2,at=ze.z.length,it=et(ze.z),ct=[rt,rt+it*ze.dx],ft=[nt,nt+at*ze.dy];if(Ue&&"log"===Ue.type)for(Be=0;Be<it;Be++)ct.push(rt+Be*ze.dx);if(tt&&"log"===tt.type)for(Be=0;Be<at;Be++)ft.push(nt+Be*ze.dy);return ze._extremes[Ue._id]=Qe.findExtremes(Ue,ct),ze._extremes[tt._id]=Qe.findExtremes(tt,ft),ze._scaler=function makeScaler(Ee){var ze=Ee.colormodel,Be=ze.length,Ue=We.colormodel[ze];Ee._sArray=[];for(var Qe=0;Qe<Be;Qe++)Ue.min[Qe]!==Ee.zmin[Qe]||Ue.max[Qe]!==Ee.zmax[Qe]?Ee._sArray.push(scale(Ee.zmin[Qe],(Ue.max[Qe]-Ue.min[Qe])/(Ee.zmax[Qe]-Ee.zmin[Qe]),Ue.min[Qe],Ue.max[Qe])):Ee._sArray.push(constrain(Ue.min[Qe],Ue.max[Qe]));return function(ze){for(var Ue=ze.slice(0,Be),We=0;We<Be;We++){var Qe=Ue[We];if(!$e(Qe))return!1;Ue[We]=Ee._sArray[We](Qe)}return Ue}}(ze),[{x0:rt,y0:nt,z:ze.z,w:it,h:at}]}},de69:function(Ee,ze,Be){"use strict";Ee.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},de81:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports={hasLines:function(Ee){return Ee.visible&&Ee.mode&&-1!==Ee.mode.indexOf("lines")},hasMarkers:function(Ee){return Ee.visible&&(Ee.mode&&-1!==Ee.mode.indexOf("markers")||"splom"===Ee.type)},hasText:function(Ee){return Ee.visible&&Ee.mode&&-1!==Ee.mode.indexOf("text")},isBubble:function(Ee){return Ue.isPlainObject(Ee.marker)&&Ue.isArrayOrTypedArray(Ee.marker.size)}}},de96:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("09bd"),$e=Be("c879").markerStyle;Ee.exports=function editStyle(Ee,ze){var Be=ze.trace,Qe=Ee._fullLayout._splomScenes[Be.uid];if(Qe){We(Ee,Be),Ue.extendFlat(Qe.matrixOptions,$e(Be));var et=Ue.extendFlat({},Qe.matrixOptions,Qe.viewOpts);Qe.matrix.update(et,null)}}},dea6:function(Ee,ze,Be){Ee.exports=function vectorizeText(Ee,ze,Be,Ue){var $e=64,Qe=1.25,et={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};Ue&&(Ue.size&&Ue.size>0&&($e=Ue.size),Ue.lineSpacing&&Ue.lineSpacing>0&&(Qe=Ue.lineSpacing),Ue.styletags&&Ue.styletags.breaklines&&(et.breaklines=!!Ue.styletags.breaklines),Ue.styletags&&Ue.styletags.bolds&&(et.bolds=!!Ue.styletags.bolds),Ue.styletags&&Ue.styletags.italics&&(et.italics=!!Ue.styletags.italics),Ue.styletags&&Ue.styletags.subscripts&&(et.subscripts=!!Ue.styletags.subscripts),Ue.styletags&&Ue.styletags.superscripts&&(et.superscripts=!!Ue.styletags.superscripts));return Be.font=[Ue.fontStyle,Ue.fontVariant,Ue.fontWeight,$e+"px",Ue.font].filter((function(Ee){return Ee})).join(" "),Be.textAlign="start",Be.textBaseline="alphabetic",Be.direction="ltr",processPixels(function getPixels(Ee,ze,Be,Ue,$e,Qe){Be=Be.replace(/\n/g,""),Be=!0===Qe.breaklines?Be.replace(/\<br\>/g,"\n"):Be.replace(/\<br\>/g," ");var et="",tt=[];for(it=0;it<Be.length;++it)tt[it]=et;!0===Qe.bolds&&(tt=parseTag("b","b|",Be,tt));!0===Qe.italics&&(tt=parseTag("i","i|",Be,tt));!0===Qe.superscripts&&(tt=parseTag("sup","+1",Be,tt));!0===Qe.subscripts&&(tt=parseTag("sub","-1",Be,tt));var rt=[],nt="";for(it=0;it<Be.length;++it)null!==tt[it]&&(nt+=Be[it],rt.push(tt[it]));var at,it,ct,ft,xt,kt=nt.split("\n"),Lt=kt.length,Ut=Math.round($e*Ue),er=Ue,tr=2*Ue,rr=0,ar=Lt*Ut+tr;Ee.height<ar&&(Ee.height=ar);ze.fillStyle="#000",ze.fillRect(0,0,Ee.width,Ee.height),ze.fillStyle="#fff";var Lr=0,Qr="";function writeBuffer(){if(""!==Qr){var Ee=ze.measureText(Qr).width;ze.fillText(Qr,er+ct,tr+ft),ct+=Ee}}function getTextFontSize(){return Math.round(xt)+"px "}function changeStyle(Ee,Be){var Ue=""+ze.font;if(!0===Qe.subscripts){var We=Ee.indexOf("-"),$e=Be.indexOf("-"),et=We>-1?parseInt(Ee[1+We]):0,tt=$e>-1?parseInt(Be[1+$e]):0;et!==tt&&(Ue=Ue.replace(getTextFontSize(),"?px "),xt*=Math.pow(.75,tt-et),Ue=Ue.replace("?px ",getTextFontSize())),ft+=.25*Ut*(tt-et)}if(!0===Qe.superscripts){var rt=Ee.indexOf("+"),nt=Be.indexOf("+"),at=rt>-1?parseInt(Ee[1+rt]):0,it=nt>-1?parseInt(Be[1+nt]):0;at!==it&&(Ue=Ue.replace(getTextFontSize(),"?px "),xt*=Math.pow(.75,it-at),Ue=Ue.replace("?px ",getTextFontSize())),ft-=.25*Ut*(it-at)}if(!0===Qe.bolds){var ct=Ee.indexOf("b|")>-1,kt=Be.indexOf("b|")>-1;!ct&&kt&&(Ue=Lt?Ue.replace("italic ","italic bold "):"bold "+Ue),ct&&!kt&&(Ue=Ue.replace("bold ",""))}if(!0===Qe.italics){var Lt=Ee.indexOf("i|")>-1,er=Be.indexOf("i|")>-1;!Lt&&er&&(Ue="italic "+Ue),Lt&&!er&&(Ue=Ue.replace("italic ",""))}ze.font=Ue}for(at=0;at<Lt;++at){var on=kt[at]+"\n";for(ct=0,ft=at*Ut,xt=Ue,Qr="",it=0;it<on.length;++it){var sn=it+Lr<rt.length?rt[it+Lr]:rt[rt.length-1];et===sn?Qr+=on[it]:(writeBuffer(),Qr=on[it],void 0!==sn&&(changeStyle(et,sn),et=sn))}writeBuffer(),Lr+=on.length;var ln=0|Math.round(ct+2*er);rr<ln&&(rr=ln)}var cn=rr,un=tr+Ut*Lt;return We(ze.getImageData(0,0,cn,un).data,[un,cn,4]).pick(-1,-1,0).transpose(1,0)}(ze,Be,Ee,$e,Qe,et),Ue,$e)},Ee.exports.processPixels=processPixels;var Ue=Be("b077"),We=Be("b5bb"),$e=Be("cee0"),Qe=Be("f144"),et=Be("962a"),tt=Be("e706");function parseTag(Ee,ze,Be,Ue){for(var We="<"+Ee+">",$e="</"+Ee+">",Qe=We.length,et=$e.length,tt="+"===ze[0]||"-"===ze[0],rt=0,nt=-et;rt>-1&&-1!==(rt=Be.indexOf(We,rt))&&-1!==(nt=Be.indexOf($e,rt+Qe))&&!(nt<=rt);){for(var at=rt;at<nt+et;++at)if(at<rt+Qe||at>=nt)Ue[at]=null,Be=Be.substr(0,at)+" "+Be.substr(at+1);else if(null!==Ue[at]){var it=Ue[at].indexOf(ze[0]);-1===it?Ue[at]+=ze:tt&&(Ue[at]=Ue[at].substr(0,it+1)+(1+parseInt(Ue[at][it+1]))+Ue[at].substr(it+2))}var ct=rt+Qe,ft=Be.substr(ct,nt-ct).indexOf(We);rt=-1!==ft?ft:nt+et}return Ue}function getContour(Ee,ze){var Be=Ue(Ee,128);return ze?$e(Be.cells,Be.positions,.25):{edges:Be.cells,positions:Be.positions}}function processPixelsImpl(Ee,ze,Be,Ue){var We=getContour(Ee,Ue),$e=function transformPositions(Ee,ze,Be){for(var Ue=ze.textAlign||"start",We=ze.textBaseline||"alphabetic",$e=[1<<30,1<<30],Qe=[0,0],et=Ee.length,tt=0;tt<et;++tt)for(var rt=Ee[tt],nt=0;nt<2;++nt)$e[nt]=0|Math.min($e[nt],rt[nt]),Qe[nt]=0|Math.max(Qe[nt],rt[nt]);var at=0;switch(Ue){case"center":at=-.5*($e[0]+Qe[0]);break;case"right":case"end":at=-Qe[0];break;case"left":case"start":at=-$e[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+Ue+"'")}var it=0;switch(We){case"hanging":case"top":it=-$e[1];break;case"middle":it=-.5*($e[1]+Qe[1]);break;case"alphabetic":case"ideographic":it=-3*Be;break;case"bottom":it=-Qe[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+We+"'")}var ct=1/Be;return"lineHeight"in ze?ct*=+ze.lineHeight:"width"in ze?ct=ze.width/(Qe[0]-$e[0]):"height"in ze&&(ct=ze.height/(Qe[1]-$e[1])),Ee.map((function(Ee){return[ct*(Ee[0]+at),ct*(Ee[1]+it)]}))}(We.positions,ze,Be),rt=We.edges,nt="ccw"===ze.orientation;if(Qe($e,rt),ze.polygons||ze.polygon||ze.polyline){for(var at=tt(rt,$e),it=new Array(at.length),ct=0;ct<at.length;++ct){for(var ft=at[ct],xt=new Array(ft.length),kt=0;kt<ft.length;++kt){for(var Lt=ft[kt],Ut=new Array(Lt.length),er=0;er<Lt.length;++er)Ut[er]=$e[Lt[er]].slice();nt&&Ut.reverse(),xt[kt]=Ut}it[ct]=xt}return it}return ze.triangles||ze.triangulate||ze.triangle?{cells:et($e,rt,{delaunay:!1,exterior:!1,interior:!0}),positions:$e}:{edges:rt,positions:$e}}function processPixels(Ee,ze,Be){try{return processPixelsImpl(Ee,ze,Be,!0)}catch(Ee){}try{return processPixelsImpl(Ee,ze,Be,!1)}catch(Ee){}return ze.polygons||ze.polyline||ze.polygon?[]:ze.triangles||ze.triangulate||ze.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},def6:function(Ee,ze,Be){"use strict";var Ue=Be("399f"),We=Be("abc0");Ee.exports=function num2bn(Ee){var ze=We.exponent(Ee);return ze<52?new Ue(Ee):new Ue(Ee*Math.pow(2,52-ze)).ushln(ze-52)}},df0c:function(Ee,ze,Be){"use strict";var Ue=Be("3068"),We=Be("fe73"),$e=Be("6dd0"),Qe=Be("7a18"),et=Be("489b"),tt=Be("cbc3"),rt=Be("e071"),nt=Be("1c4d").isSize;Ee.exports=parseFont;var at=parseFont.cache={};function parseFont(Ee){if("string"!=typeof Ee)throw new Error("Font argument must be a string.");if(at[Ee])return at[Ee];if(""===Ee)throw new Error("Cannot parse an empty string.");if(-1!==$e.indexOf(Ee))return at[Ee]={system:Ee};for(var ze,Be={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},it=rt(Ee,/\s+/);ze=it.shift();){if(-1!==We.indexOf(ze))return["style","variant","weight","stretch"].forEach((function(Ee){Be[Ee]=ze})),at[Ee]=Be;if(-1===et.indexOf(ze))if("normal"!==ze&&"small-caps"!==ze)if(-1===tt.indexOf(ze)){if(-1===Qe.indexOf(ze)){if(nt(ze)){var ct=rt(ze,"/");if(Be.size=ct[0],null!=ct[1]?Be.lineHeight=parseLineHeight(ct[1]):"/"===it[0]&&(it.shift(),Be.lineHeight=parseLineHeight(it.shift())),!it.length)throw new Error("Missing required font-family.");return Be.family=rt(it.join(" "),/\s*,\s*/).map(Ue),at[Ee]=Be}throw new Error("Unknown or unsupported font token: "+ze)}Be.weight=ze}else Be.stretch=ze;else Be.variant=ze;else Be.style=ze}throw new Error("Missing required font-size.")}function parseLineHeight(Ee){var ze=parseFloat(Ee);return ze.toString()===Ee?ze:Ee}},df75:function(Ee,ze,Be){var Ue=Be("ca84"),We=Be("7839");Ee.exports=Object.keys||function keys(Ee){return Ue(Ee,We)}},df7c:function(Ee,ze,Be){(function(Ee){function normalizeArray(Ee,ze){for(var Be=0,Ue=Ee.length-1;Ue>=0;Ue--){var We=Ee[Ue];"."===We?Ee.splice(Ue,1):".."===We?(Ee.splice(Ue,1),Be++):Be&&(Ee.splice(Ue,1),Be--)}if(ze)for(;Be--;Be)Ee.unshift("..");return Ee}function filter(Ee,ze){if(Ee.filter)return Ee.filter(ze);for(var Be=[],Ue=0;Ue<Ee.length;Ue++)ze(Ee[Ue],Ue,Ee)&&Be.push(Ee[Ue]);return Be}ze.resolve=function(){for(var ze="",Be=!1,Ue=arguments.length-1;Ue>=-1&&!Be;Ue--){var We=Ue>=0?arguments[Ue]:Ee.cwd();if("string"!=typeof We)throw new TypeError("Arguments to path.resolve must be strings");We&&(ze=We+"/"+ze,Be="/"===We.charAt(0))}return(Be?"/":"")+(ze=normalizeArray(filter(ze.split("/"),(function(Ee){return!!Ee})),!Be).join("/"))||"."},ze.normalize=function(Ee){var Ue=ze.isAbsolute(Ee),We="/"===Be(Ee,-1);return(Ee=normalizeArray(filter(Ee.split("/"),(function(Ee){return!!Ee})),!Ue).join("/"))||Ue||(Ee="."),Ee&&We&&(Ee+="/"),(Ue?"/":"")+Ee},ze.isAbsolute=function(Ee){return"/"===Ee.charAt(0)},ze.join=function(){var Ee=Array.prototype.slice.call(arguments,0);return ze.normalize(filter(Ee,(function(Ee,ze){if("string"!=typeof Ee)throw new TypeError("Arguments to path.join must be strings");return Ee})).join("/"))},ze.relative=function(Ee,Be){function trim(Ee){for(var ze=0;ze<Ee.length&&""===Ee[ze];ze++);for(var Be=Ee.length-1;Be>=0&&""===Ee[Be];Be--);return ze>Be?[]:Ee.slice(ze,Be-ze+1)}Ee=ze.resolve(Ee).substr(1),Be=ze.resolve(Be).substr(1);for(var Ue=trim(Ee.split("/")),We=trim(Be.split("/")),$e=Math.min(Ue.length,We.length),Qe=$e,et=0;et<$e;et++)if(Ue[et]!==We[et]){Qe=et;break}var tt=[];for(et=Qe;et<Ue.length;et++)tt.push("..");return(tt=tt.concat(We.slice(Qe))).join("/")},ze.sep="/",ze.delimiter=":",ze.dirname=function(Ee){if("string"!=typeof Ee&&(Ee+=""),0===Ee.length)return".";for(var ze=Ee.charCodeAt(0),Be=47===ze,Ue=-1,We=!0,$e=Ee.length-1;$e>=1;--$e)if(47===(ze=Ee.charCodeAt($e))){if(!We){Ue=$e;break}}else We=!1;return-1===Ue?Be?"/":".":Be&&1===Ue?"/":Ee.slice(0,Ue)},ze.basename=function(Ee,ze){var Be=function basename(Ee){"string"!=typeof Ee&&(Ee+="");var ze,Be=0,Ue=-1,We=!0;for(ze=Ee.length-1;ze>=0;--ze)if(47===Ee.charCodeAt(ze)){if(!We){Be=ze+1;break}}else-1===Ue&&(We=!1,Ue=ze+1);return-1===Ue?"":Ee.slice(Be,Ue)}(Ee);return ze&&Be.substr(-1*ze.length)===ze&&(Be=Be.substr(0,Be.length-ze.length)),Be},ze.extname=function(Ee){"string"!=typeof Ee&&(Ee+="");for(var ze=-1,Be=0,Ue=-1,We=!0,$e=0,Qe=Ee.length-1;Qe>=0;--Qe){var et=Ee.charCodeAt(Qe);if(47!==et)-1===Ue&&(We=!1,Ue=Qe+1),46===et?-1===ze?ze=Qe:1!==$e&&($e=1):-1!==ze&&($e=-1);else if(!We){Be=Qe+1;break}}return-1===ze||-1===Ue||0===$e||1===$e&&ze===Ue-1&&ze===Be+1?"":Ee.slice(ze,Ue)};var Be="b"==="ab".substr(-1)?function(Ee,ze,Be){return Ee.substr(ze,Be)}:function(Ee,ze,Be){return ze<0&&(ze=Ee.length+ze),Ee.substr(ze,Be)}}).call(this,Be("4362"))},dfb0:function(Ee,ze,Be){"use strict";var Ue=Be("4cd5"),We=Be("dc75").findBin,$e=Be("d6d8"),Qe=Be("56fc"),et=Be("f09f"),tt=Be("f5e6");Ee.exports=function setConvert(Ee){var ze=Ee._a,Be=Ee._b,rt=ze.length,nt=Be.length,at=Ee.aaxis,it=Ee.baxis,ct=ze[0],ft=ze[rt-1],xt=Be[0],kt=Be[nt-1],Lt=ze[ze.length-1]-ze[0],Ut=Be[Be.length-1]-Be[0],er=Lt*Ue.RELATIVE_CULL_TOLERANCE,tr=Ut*Ue.RELATIVE_CULL_TOLERANCE;ct-=er,ft+=er,xt-=tr,kt+=tr,Ee.isVisible=function(Ee,ze){return Ee>ct&&Ee<ft&&ze>xt&&ze<kt},Ee.isOccluded=function(Ee,ze){return Ee<ct||Ee>ft||ze<xt||ze>kt},Ee.setScale=function(){var ze=Ee._x,Be=Ee._y,Ue=$e(Ee._xctrl,Ee._yctrl,ze,Be,at.smoothing,it.smoothing);Ee._xctrl=Ue[0],Ee._yctrl=Ue[1],Ee.evalxy=Qe([Ee._xctrl,Ee._yctrl],rt,nt,at.smoothing,it.smoothing),Ee.dxydi=et([Ee._xctrl,Ee._yctrl],at.smoothing,it.smoothing),Ee.dxydj=tt([Ee._xctrl,Ee._yctrl],at.smoothing,it.smoothing)},Ee.i2a=function(Ee){var Be=Math.max(0,Math.floor(Ee[0]),rt-2),Ue=Ee[0]-Be;return(1-Ue)*ze[Be]+Ue*ze[Be+1]},Ee.j2b=function(Ee){var ze=Math.max(0,Math.floor(Ee[1]),rt-2),Ue=Ee[1]-ze;return(1-Ue)*Be[ze]+Ue*Be[ze+1]},Ee.ij2ab=function(ze){return[Ee.i2a(ze[0]),Ee.j2b(ze[1])]},Ee.a2i=function(Ee){var Be=Math.max(0,Math.min(We(Ee,ze),rt-2)),Ue=ze[Be],$e=ze[Be+1];return Math.max(0,Math.min(rt-1,Be+(Ee-Ue)/($e-Ue)))},Ee.b2j=function(Ee){var ze=Math.max(0,Math.min(We(Ee,Be),nt-2)),Ue=Be[ze],$e=Be[ze+1];return Math.max(0,Math.min(nt-1,ze+(Ee-Ue)/($e-Ue)))},Ee.ab2ij=function(ze){return[Ee.a2i(ze[0]),Ee.b2j(ze[1])]},Ee.i2c=function(ze,Be){return Ee.evalxy([],ze,Be)},Ee.ab2xy=function(Ue,We,$e){if(!$e&&(Ue<ze[0]||Ue>ze[rt-1]|We<Be[0]||We>Be[nt-1]))return[!1,!1];var Qe=Ee.a2i(Ue),et=Ee.b2j(We),tt=Ee.evalxy([],Qe,et);if($e){var at,it,ct,ft,xt=0,kt=0,Lt=[];Ue<ze[0]?(at=0,it=0,xt=(Ue-ze[0])/(ze[1]-ze[0])):Ue>ze[rt-1]?(at=rt-2,it=1,xt=(Ue-ze[rt-1])/(ze[rt-1]-ze[rt-2])):it=Qe-(at=Math.max(0,Math.min(rt-2,Math.floor(Qe)))),We<Be[0]?(ct=0,ft=0,kt=(We-Be[0])/(Be[1]-Be[0])):We>Be[nt-1]?(ct=nt-2,ft=1,kt=(We-Be[nt-1])/(Be[nt-1]-Be[nt-2])):ft=et-(ct=Math.max(0,Math.min(nt-2,Math.floor(et)))),xt&&(Ee.dxydi(Lt,at,ct,it,ft),tt[0]+=Lt[0]*xt,tt[1]+=Lt[1]*xt),kt&&(Ee.dxydj(Lt,at,ct,it,ft),tt[0]+=Lt[0]*kt,tt[1]+=Lt[1]*kt)}return tt},Ee.c2p=function(Ee,ze,Be){return[ze.c2p(Ee[0]),Be.c2p(Ee[1])]},Ee.p2x=function(Ee,ze,Be){return[ze.p2c(Ee[0]),Be.p2c(Ee[1])]},Ee.dadi=function(Ee){var Be=Math.max(0,Math.min(ze.length-2,Ee));return ze[Be+1]-ze[Be]},Ee.dbdj=function(Ee){var ze=Math.max(0,Math.min(Be.length-2,Ee));return Be[ze+1]-Be[ze]},Ee.dxyda=function(ze,Be,Ue,We){var $e=Ee.dxydi(null,ze,Be,Ue,We),Qe=Ee.dadi(ze,Ue);return[$e[0]/Qe,$e[1]/Qe]},Ee.dxydb=function(ze,Be,Ue,We){var $e=Ee.dxydj(null,ze,Be,Ue,We),Qe=Ee.dbdj(Be,We);return[$e[0]/Qe,$e[1]/Qe]},Ee.dxyda_rough=function(ze,Be,Ue){var We=Lt*(Ue||.1),$e=Ee.ab2xy(ze+We,Be,!0),Qe=Ee.ab2xy(ze-We,Be,!0);return[.5*($e[0]-Qe[0])/We,.5*($e[1]-Qe[1])/We]},Ee.dxydb_rough=function(ze,Be,Ue){var We=Ut*(Ue||.1),$e=Ee.ab2xy(ze,Be+We,!0),Qe=Ee.ab2xy(ze,Be-We,!0);return[.5*($e[0]-Qe[0])/We,.5*($e[1]-Qe[1])/We]},Ee.dpdx=function(Ee){return Ee._m},Ee.dpdy=function(Ee){return Ee._m}}},dfb3:function(Ee,ze,Be){"use strict";ze.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ze.defaultLine="#444",ze.lightLine="#eee",ze.background="#fff",ze.borderLine="#BEC8D9",ze.lightFraction=1e3/11},dfdf:function(Ee,ze,Be){"use strict";Ee.exports=function createViewController(Ee){var ze=(Ee=Ee||{}).eye||[0,0,1],Be=Ee.center||[0,0,0],Qe=Ee.up||[0,1,0],et=Ee.distanceLimits||[0,1/0],tt=Ee.mode||"turntable",rt=Ue(),nt=We(),at=$e();return rt.setDistanceLimits(et[0],et[1]),rt.lookAt(0,ze,Be,Qe),nt.setDistanceLimits(et[0],et[1]),nt.lookAt(0,ze,Be,Qe),at.setDistanceLimits(et[0],et[1]),at.lookAt(0,ze,Be,Qe),new ViewController({turntable:rt,orbit:nt,matrix:at},tt)};var Ue=Be("ec76"),We=Be("61e6"),$e=Be("4168");function ViewController(Ee,ze){this._controllerNames=Object.keys(Ee),this._controllerList=this._controllerNames.map((function(ze){return Ee[ze]})),this._mode=ze,this._active=Ee[ze],this._active||(this._mode="turntable",this._active=Ee.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var Qe=ViewController.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach((function(Ee){for(var ze=Ee[0],Be=[],Ue=0;Ue<Ee[1];++Ue)Be.push("a"+Ue);var We="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+Ee[0]+"("+Be.join()+")}";Qe[ze]=Function.apply(null,Be.concat(We))})),Qe.recalcMatrix=function(Ee){this._active.recalcMatrix(Ee)},Qe.getDistance=function(Ee){return this._active.getDistance(Ee)},Qe.getDistanceLimits=function(Ee){return this._active.getDistanceLimits(Ee)},Qe.lastT=function(){return this._active.lastT()},Qe.setMode=function(Ee){if(Ee!==this._mode){var ze=this._controllerNames.indexOf(Ee);if(!(ze<0)){var Be=this._active,Ue=this._controllerList[ze],We=Math.max(Be.lastT(),Ue.lastT());Be.recalcMatrix(We),Ue.setMatrix(We,Be.computedMatrix),this._active=Ue,this._mode=Ee,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},Qe.getMode=function(){return this._mode}},dff2:function(Ee,ze,Be){"use strict";Ee.exports=Be("00fe")},e00d:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4183"),$e=Be("24fd");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var et=coerce("u"),tt=coerce("v"),rt=coerce("w"),nt=coerce("x"),at=coerce("y"),it=coerce("z");et&&et.length&&tt&&tt.length&&rt&&rt.length&&nt&&nt.length&&at&&at.length&&it&&it.length?(coerce("sizeref"),coerce("sizemode"),coerce("anchor"),coerce("lighting.ambient"),coerce("lighting.diffuse"),coerce("lighting.specular"),coerce("lighting.roughness"),coerce("lighting.fresnel"),coerce("lightposition.x"),coerce("lightposition.y"),coerce("lightposition.z"),We(Ee,ze,Qe,coerce,{prefix:"",cLetter:"c"}),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),ze._length=null):ze.visible=!1}},e018:function(Ee,ze,Be){"use strict";Be.r(ze);var identity=function(Ee){return Ee},src_transform=function(Ee){if(null==(ze=Ee.transform))return identity;var ze,Be,Ue,We=ze.scale[0],$e=ze.scale[1],Qe=ze.translate[0],et=ze.translate[1];return function(Ee,ze){return ze||(Be=Ue=0),Ee[0]=(Be+=Ee[0])*We+Qe,Ee[1]=(Ue+=Ee[1])*$e+et,Ee}},src_bbox=function(Ee){var ze=Ee.bbox;function bboxPoint(Ee){$e[0]=Ee[0],$e[1]=Ee[1],We($e),$e[0]<Qe&&(Qe=$e[0]),$e[0]>tt&&(tt=$e[0]),$e[1]<et&&(et=$e[1]),$e[1]>rt&&(rt=$e[1])}function bboxGeometry(Ee){switch(Ee.type){case"GeometryCollection":Ee.geometries.forEach(bboxGeometry);break;case"Point":bboxPoint(Ee.coordinates);break;case"MultiPoint":Ee.coordinates.forEach(bboxPoint)}}if(!ze){var Be,Ue,We=src_transform(Ee),$e=new Array(2),Qe=1/0,et=Qe,tt=-Qe,rt=-Qe;for(Ue in Ee.arcs.forEach((function(Ee){for(var ze=-1,Ue=Ee.length;++ze<Ue;)Be=Ee[ze],$e[0]=Be[0],$e[1]=Be[1],We($e,ze),$e[0]<Qe&&(Qe=$e[0]),$e[0]>tt&&(tt=$e[0]),$e[1]<et&&(et=$e[1]),$e[1]>rt&&(rt=$e[1])})),Ee.objects)bboxGeometry(Ee.objects[Ue]);ze=Ee.bbox=[Qe,et,tt,rt]}return ze},feature=function(Ee,ze){return"GeometryCollection"===ze.type?{type:"FeatureCollection",features:ze.geometries.map((function(ze){return feature_feature(Ee,ze)}))}:feature_feature(Ee,ze)};function feature_feature(Ee,ze){var Be=ze.id,Ue=ze.bbox,We=null==ze.properties?{}:ze.properties,$e=feature_object(Ee,ze);return null==Be&&null==Ue?{type:"Feature",properties:We,geometry:$e}:null==Ue?{type:"Feature",id:Be,properties:We,geometry:$e}:{type:"Feature",id:Be,bbox:Ue,properties:We,geometry:$e}}function feature_object(Ee,ze){var Be=src_transform(Ee),Ue=Ee.arcs;function arc(Ee,ze){ze.length&&ze.pop();for(var We=Ue[Ee<0?~Ee:Ee],$e=0,Qe=We.length;$e<Qe;++$e)ze.push(Be(We[$e].slice(),$e));Ee<0&&function(Ee,ze){for(var Be,Ue=Ee.length,We=Ue-ze;We<--Ue;)Be=Ee[We],Ee[We++]=Ee[Ue],Ee[Ue]=Be}(ze,Qe)}function point(Ee){return Be(Ee.slice())}function line(Ee){for(var ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)arc(Ee[Be],ze);return ze.length<2&&ze.push(ze[0].slice()),ze}function ring(Ee){for(var ze=line(Ee);ze.length<4;)ze.push(ze[0].slice());return ze}function polygon(Ee){return Ee.map(ring)}return function geometry(Ee){var ze,Be=Ee.type;switch(Be){case"GeometryCollection":return{type:Be,geometries:Ee.geometries.map(geometry)};case"Point":ze=point(Ee.coordinates);break;case"MultiPoint":ze=Ee.coordinates.map(point);break;case"LineString":ze=line(Ee.arcs);break;case"MultiLineString":ze=Ee.arcs.map(line);break;case"Polygon":ze=polygon(Ee.arcs);break;case"MultiPolygon":ze=Ee.arcs.map(polygon);break;default:return null}return{type:Be,coordinates:ze}}(ze)}var stitch=function(Ee,ze){var Be={},Ue={},We={},$e=[],Qe=-1;function flush(Ee,ze){for(var Ue in Ee){var We=Ee[Ue];delete ze[We.start],delete We.start,delete We.end,We.forEach((function(Ee){Be[Ee<0?~Ee:Ee]=1})),$e.push(We)}}return ze.forEach((function(Be,Ue){var We,$e=Ee.arcs[Be<0?~Be:Be];$e.length<3&&!$e[1][0]&&!$e[1][1]&&(We=ze[++Qe],ze[Qe]=Be,ze[Ue]=We)})),ze.forEach((function(ze){var Be,$e,Qe=function ends(ze){var Be,Ue=Ee.arcs[ze<0?~ze:ze],We=Ue[0];Ee.transform?(Be=[0,0],Ue.forEach((function(Ee){Be[0]+=Ee[0],Be[1]+=Ee[1]}))):Be=Ue[Ue.length-1];return ze<0?[Be,We]:[We,Be]}(ze),et=Qe[0],tt=Qe[1];if(Be=We[et])if(delete We[Be.end],Be.push(ze),Be.end=tt,$e=Ue[tt]){delete Ue[$e.start];var rt=$e===Be?Be:Be.concat($e);Ue[rt.start=Be.start]=We[rt.end=$e.end]=rt}else Ue[Be.start]=We[Be.end]=Be;else if(Be=Ue[tt])if(delete Ue[Be.start],Be.unshift(ze),Be.start=et,$e=We[et]){delete We[$e.end];var nt=$e===Be?Be:$e.concat(Be);Ue[nt.start=$e.start]=We[nt.end=Be.end]=nt}else Ue[Be.start]=We[Be.end]=Be;else Ue[(Be=[ze]).start=et]=We[Be.end=tt]=Be})),flush(We,Ue),flush(Ue,We),ze.forEach((function(Ee){Be[Ee<0?~Ee:Ee]||$e.push([Ee])})),$e},mesh=function(Ee){return feature_object(Ee,meshArcs.apply(this,arguments))};function meshArcs(Ee,ze,Be){var Ue,We,$e;if(arguments.length>1)Ue=extractArcs(Ee,ze,Be);else for(We=0,Ue=new Array($e=Ee.arcs.length);We<$e;++We)Ue[We]=We;return{type:"MultiLineString",arcs:stitch(Ee,Ue)}}function extractArcs(Ee,ze,Be){var Ue,We=[],$e=[];function extract0(Ee){var ze=Ee<0?~Ee:Ee;($e[ze]||($e[ze]=[])).push({i:Ee,g:Ue})}function extract1(Ee){Ee.forEach(extract0)}function extract2(Ee){Ee.forEach(extract1)}return function geometry(Ee){switch(Ue=Ee,Ee.type){case"GeometryCollection":Ee.geometries.forEach(geometry);break;case"LineString":extract1(Ee.arcs);break;case"MultiLineString":case"Polygon":extract2(Ee.arcs);break;case"MultiPolygon":!function extract3(Ee){Ee.forEach(extract2)}(Ee.arcs)}}(ze),$e.forEach(null==Be?function(Ee){We.push(Ee[0].i)}:function(Ee){Be(Ee[0].g,Ee[Ee.length-1].g)&&We.push(Ee[0].i)}),We}var merge=function(Ee){return feature_object(Ee,mergeArcs.apply(this,arguments))};function mergeArcs(Ee,ze){var Be={},Ue=[],We=[];function extract(Ee){Ee.forEach((function(ze){ze.forEach((function(ze){(Be[ze=ze<0?~ze:ze]||(Be[ze]=[])).push(Ee)}))})),Ue.push(Ee)}function area(ze){return function planarRingArea(Ee){for(var ze,Be=-1,Ue=Ee.length,We=Ee[Ue-1],$e=0;++Be<Ue;)ze=We,We=Ee[Be],$e+=ze[0]*We[1]-ze[1]*We[0];return Math.abs($e)}(feature_object(Ee,{type:"Polygon",arcs:[ze]}).coordinates[0])}return ze.forEach((function geometry(Ee){switch(Ee.type){case"GeometryCollection":Ee.geometries.forEach(geometry);break;case"Polygon":extract(Ee.arcs);break;case"MultiPolygon":Ee.arcs.forEach(extract)}})),Ue.forEach((function(Ee){if(!Ee._){var ze=[],Ue=[Ee];for(Ee._=1,We.push(ze);Ee=Ue.pop();)ze.push(Ee),Ee.forEach((function(Ee){Ee.forEach((function(Ee){Be[Ee<0?~Ee:Ee].forEach((function(Ee){Ee._||(Ee._=1,Ue.push(Ee))}))}))}))}})),Ue.forEach((function(Ee){delete Ee._})),{type:"MultiPolygon",arcs:We.map((function(ze){var Ue,We=[];if(ze.forEach((function(Ee){Ee.forEach((function(Ee){Ee.forEach((function(Ee){Be[Ee<0?~Ee:Ee].length<2&&We.push(Ee)}))}))})),(Ue=(We=stitch(Ee,We)).length)>1)for(var $e,Qe,et=1,tt=area(We[0]);et<Ue;++et)($e=area(We[et]))>tt&&(Qe=We[0],We[0]=We[et],We[et]=Qe,tt=$e);return We}))}}var bisect=function(Ee,ze){for(var Be=0,Ue=Ee.length;Be<Ue;){var We=Be+Ue>>>1;Ee[We]<ze?Be=We+1:Ue=We}return Be},src_neighbors=function(Ee){var ze={},Be=Ee.map((function(){return[]}));function line(Ee,Be){Ee.forEach((function(Ee){Ee<0&&(Ee=~Ee);var Ue=ze[Ee];Ue?Ue.push(Be):ze[Ee]=[Be]}))}function polygon(Ee,ze){Ee.forEach((function(Ee){line(Ee,ze)}))}var Ue={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(Ee,ze){Ee.forEach((function(Ee){polygon(Ee,ze)}))}};for(var We in Ee.forEach((function geometry(Ee,ze){"GeometryCollection"===Ee.type?Ee.geometries.forEach((function(Ee){geometry(Ee,ze)})):Ee.type in Ue&&Ue[Ee.type](Ee.arcs,ze)})),ze)for(var $e=ze[We],Qe=$e.length,et=0;et<Qe;++et)for(var tt=et+1;tt<Qe;++tt){var rt,nt=$e[et],at=$e[tt];(rt=Be[nt])[We=bisect(rt,at)]!==at&&rt.splice(We,0,at),(rt=Be[at])[We=bisect(rt,nt)]!==nt&&rt.splice(We,0,nt)}return Be},quantize=function(Ee,ze){if(!((ze=Math.floor(ze))>=2))throw new Error("n must be ≥2");if(Ee.transform)throw new Error("already quantized");var Be,Ue=src_bbox(Ee),We=Ue[0],$e=(Ue[2]-We)/(ze-1)||1,Qe=Ue[1],et=(Ue[3]-Qe)/(ze-1)||1;function quantizePoint(Ee){Ee[0]=Math.round((Ee[0]-We)/$e),Ee[1]=Math.round((Ee[1]-Qe)/et)}function quantizeGeometry(Ee){switch(Ee.type){case"GeometryCollection":Ee.geometries.forEach(quantizeGeometry);break;case"Point":quantizePoint(Ee.coordinates);break;case"MultiPoint":Ee.coordinates.forEach(quantizePoint)}}for(Be in Ee.arcs.forEach((function(Ee){for(var ze,Be,Ue,tt=1,rt=1,nt=Ee.length,at=Ee[0],it=at[0]=Math.round((at[0]-We)/$e),ct=at[1]=Math.round((at[1]-Qe)/et);tt<nt;++tt)at=Ee[tt],Be=Math.round((at[0]-We)/$e),Ue=Math.round((at[1]-Qe)/et),Be===it&&Ue===ct||((ze=Ee[rt++])[0]=Be-it,it=Be,ze[1]=Ue-ct,ct=Ue);rt<2&&((ze=Ee[rt++])[0]=0,ze[1]=0),Ee.length=rt})),Ee.objects)quantizeGeometry(Ee.objects[Be]);return Ee.transform={scale:[$e,et],translate:[We,Qe]},Ee},untransform=function(Ee){if(null==(ze=Ee.transform))return identity;var ze,Be,Ue,We=ze.scale[0],$e=ze.scale[1],Qe=ze.translate[0],et=ze.translate[1];return function(Ee,ze){ze||(Be=Ue=0);var tt=Math.round((Ee[0]-Qe)/We),rt=Math.round((Ee[1]-et)/$e);return Ee[0]=tt-Be,Be=tt,Ee[1]=rt-Ue,Ue=rt,Ee}};Be.d(ze,"bbox",(function(){return src_bbox})),Be.d(ze,"feature",(function(){return feature})),Be.d(ze,"mesh",(function(){return mesh})),Be.d(ze,"meshArcs",(function(){return meshArcs})),Be.d(ze,"merge",(function(){return merge})),Be.d(ze,"mergeArcs",(function(){return mergeArcs})),Be.d(ze,"neighbors",(function(){return src_neighbors})),Be.d(ze,"quantize",(function(){return quantize})),Be.d(ze,"transform",(function(){return src_transform})),Be.d(ze,"untransform",(function(){return untransform}))},e034:function(Ee,ze){Ee.exports=function fromRotationTranslation(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=Ue+Ue,tt=We+We,rt=$e+$e,nt=Ue*et,at=Ue*tt,it=Ue*rt,ct=We*tt,ft=We*rt,xt=$e*rt,kt=Qe*et,Lt=Qe*tt,Ut=Qe*rt;return Ee[0]=1-(ct+xt),Ee[1]=at+Ut,Ee[2]=it-Lt,Ee[3]=0,Ee[4]=at-Ut,Ee[5]=1-(nt+xt),Ee[6]=ft+kt,Ee[7]=0,Ee[8]=it+Lt,Ee[9]=ft-kt,Ee[10]=1-(nt+ct),Ee[11]=0,Ee[12]=Be[0],Ee[13]=Be[1],Ee[14]=Be[2],Ee[15]=1,Ee}},e03f:function(Ee,ze,Be){"use strict";var Ue=Be("f508"),We=Be("7c4a").Symbol;Ee.exports=function(Ee){return Object.defineProperties(Ee,{hasInstance:Ue("",We&&We.hasInstance||Ee("hasInstance")),isConcatSpreadable:Ue("",We&&We.isConcatSpreadable||Ee("isConcatSpreadable")),iterator:Ue("",We&&We.iterator||Ee("iterator")),match:Ue("",We&&We.match||Ee("match")),replace:Ue("",We&&We.replace||Ee("replace")),search:Ue("",We&&We.search||Ee("search")),species:Ue("",We&&We.species||Ee("species")),split:Ue("",We&&We.split||Ee("split")),toPrimitive:Ue("",We&&We.toPrimitive||Ee("toPrimitive")),toStringTag:Ue("",We&&We.toStringTag||Ee("toStringTag")),unscopables:Ue("",We&&We.unscopables||Ee("unscopables"))})}},e071:function(Ee,ze,Be){"use strict";var Ue=Be("6726");Ee.exports=function splitBy(Ee,ze,Be){if(null==Ee)throw Error("First argument should be a string");if(null==ze)throw Error("Separator should be a string or a RegExp");Be?("string"==typeof Be||Array.isArray(Be))&&(Be={ignore:Be}):Be={},null==Be.escape&&(Be.escape=!0),null==Be.ignore?Be.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:("string"==typeof Be.ignore&&(Be.ignore=[Be.ignore]),Be.ignore=Be.ignore.map((function(Ee){return 1===Ee.length&&(Ee+=Ee),Ee})));var We=Ue.parse(Ee,{flat:!0,brackets:Be.ignore}),$e=We[0].split(ze);if(Be.escape){for(var Qe=[],et=0;et<$e.length;et++){var tt=$e[et],rt=$e[et+1];"\\"===tt[tt.length-1]&&"\\"!==tt[tt.length-2]?(Qe.push(tt+ze+rt),et++):Qe.push(tt)}$e=Qe}for(et=0;et<$e.length;et++)We[0]=$e[et],$e[et]=Ue.stringify(We,{flat:!0});return $e}},e0d7:function(Ee,ze,Be){var Ue=Be("c2e7"),We=Be("7c72"),$e={M:"moveTo",C:"bezierCurveTo"};Ee.exports=function(Ee,ze){Ee.beginPath(),We(Ue(ze)).forEach((function(ze){var Be=ze[0],Ue=ze.slice(1);Ee[$e[Be]].apply(Ee,Ue)})),Ee.closePath()}},e0f6:function(Ee,ze,Be){"use strict";Ee.exports=Be("9df0")()?Object.setPrototypeOf:Be("e19c")},e100:function(Ee,ze,Be){"use strict";Ee.exports=function robustSubtract(Ee,ze){var Be=0|Ee.length,Ue=0|ze.length;if(1===Be&&1===Ue)return function scalarScalar(Ee,ze){var Be=Ee+ze,Ue=Be-Ee,We=Ee-(Be-Ue)+(ze-Ue);if(We)return[We,Be];return[Be]}(Ee[0],-ze[0]);var We,$e,Qe=new Array(Be+Ue),et=0,tt=0,rt=0,nt=Math.abs,at=Ee[tt],it=nt(at),ct=-ze[rt],ft=nt(ct);it<ft?($e=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):($e=ct,(rt+=1)<Ue&&(ct=-ze[rt],ft=nt(ct)));tt<Be&&it<ft||rt>=Ue?(We=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):(We=ct,(rt+=1)<Ue&&(ct=-ze[rt],ft=nt(ct)));var xt,kt,Lt=We+$e,Ut=Lt-We,er=$e-Ut,tr=er,rr=Lt;for(;tt<Be&&rt<Ue;)it<ft?(We=at,(tt+=1)<Be&&(at=Ee[tt],it=nt(at))):(We=ct,(rt+=1)<Ue&&(ct=-ze[rt],ft=nt(ct))),(er=($e=tr)-(Ut=(Lt=We+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt;for(;tt<Be;)(er=($e=tr)-(Ut=(Lt=(We=at)+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt,(tt+=1)<Be&&(at=Ee[tt]);for(;rt<Ue;)(er=($e=tr)-(Ut=(Lt=(We=ct)+$e)-We))&&(Qe[et++]=er),tr=rr-((xt=rr+Lt)-(kt=xt-rr))+(Lt-kt),rr=xt,(rt+=1)<Ue&&(ct=-ze[rt]);tr&&(Qe[et++]=tr);rr&&(Qe[et++]=rr);et||(Qe[et++]=0);return Qe.length=et,Qe}},e13b:function(Ee,ze){Ee.exports=function squaredDistance(Ee,ze){var Be=ze[0]-Ee[0],Ue=ze[1]-Ee[1],We=ze[2]-Ee[2];return Be*Be+Ue*Ue+We*We}},e165:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("1c1c").handleGroupingDefaults,$e=Be("1c1c").handleText,Qe=Be("076f"),et=Be("0dfe"),tt=Be("d115"),rt=Be("b8ce"),nt=rt.INCREASING.COLOR,at=rt.DECREASING.COLOR;function handleDirection(Ee,ze,Be){Ee(ze+".marker.color",Be),Ee(ze+".marker.line.color",tt.defaultLine),Ee(ze+".marker.line.width")}Ee.exports={supplyDefaults:function supplyDefaults(Ee,ze,Be,We){function coerce(Be,We){return Ue.coerce(Ee,ze,et,Be,We)}if(Qe(Ee,ze,We,coerce)){coerce("measure"),coerce("orientation",ze.x&&!ze.y?"h":"v"),coerce("base"),coerce("offset"),coerce("width"),coerce("text"),coerce("hovertext"),coerce("hovertemplate");var tt=coerce("textposition");if($e(Ee,ze,We,coerce,tt,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==ze.textposition&&(coerce("texttemplate"),ze.texttemplate||coerce("textinfo")),handleDirection(coerce,"increasing",nt),handleDirection(coerce,"decreasing",at),handleDirection(coerce,"totals","#4499FF"),coerce("connector.visible"))coerce("connector.mode"),coerce("connector.line.width")&&(coerce("connector.line.color"),coerce("connector.line.dash"))}else ze.visible=!1},crossTraceDefaults:function crossTraceDefaults(Ee,ze){var Be,$e;function coerce(Ee){return Ue.coerce($e._input,$e,et,Ee)}if("group"===ze.waterfallmode)for(var Qe=0;Qe<Ee.length;Qe++)Be=($e=Ee[Qe])._input,We(Be,$e,ze,coerce)}}},e17d:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("c947"),$e=Be("83d1"),Qe=Be("fc26"),et=Be("0379"),tt=Be("93a6"),rt=tt.recordMinTextSize,nt=tt.clearMinTextSize,at=Be("c0af"),it=at.computeTransform,ct=at.transformInsideText,ft=Be("7594").styleOne,xt=Be("2df3").resizeText,kt=Be("6962"),Lt=Be("8ba9"),Ut=Be("fb56");function plotOne(Ee,Be,tt,nt){var at=Ee._fullLayout,xt=!at.uniformtext.mode&&Ut.hasTransition(nt),er=Ue.select(tt).selectAll("g.slice"),tr=Be[0],rr=tr.trace,ar=tr.hierarchy,Lr=Ut.findEntryWithLevel(ar,rr.level),Qr=Ut.getMaxDepth(rr),on=at._size,sn=rr.domain,ln=on.w*(sn.x[1]-sn.x[0]),cn=on.h*(sn.y[1]-sn.y[0]),un=.5*Math.min(ln,cn),hn=tr.cx=on.l+on.w*(sn.x[1]+sn.x[0])/2,dn=tr.cy=on.t+on.h*(1-sn.y[0])-cn/2;if(!Lr)return er.remove();var vn=null,yn={};xt&&er.each((function(Ee){yn[Ut.getPtId(Ee)]={rpx0:Ee.rpx0,rpx1:Ee.rpx1,x0:Ee.x0,x1:Ee.x1,transform:Ee.transform},!vn&&Ut.isEntry(Ee)&&(vn=Ee)}));var _n=function partition(Ee){return We.partition().size([2*Math.PI,Ee.height+1])(Ee)}(Lr).descendants(),Mn=Lr.height+1,Cn=0,En=Qr;tr.hasMultipleRoots&&Ut.isHierarchyRoot(Lr)&&(_n=_n.slice(1),Mn-=1,Cn=1,En+=1),_n=_n.filter((function(Ee){return Ee.y1<=En}));var Pn=Math.min(Mn,Qr),y2rpx=function(Ee){return(Ee-Cn)/Pn*un},rx2px=function(Ee,ze){return[Ee*Math.cos(ze),-Ee*Math.sin(ze)]},pathSlice=function(Ee){return Qe.pathAnnulus(Ee.rpx0,Ee.rpx1,Ee.x0,Ee.x1,hn,dn)},getTargetX=function(Ee){return hn+getTextXY(Ee)[0]*(Ee.transform.rCenter||0)+(Ee.transform.x||0)},getTargetY=function(Ee){return dn+getTextXY(Ee)[1]*(Ee.transform.rCenter||0)+(Ee.transform.y||0)};(er=er.data(_n,Ut.getPtId)).enter().append("g").classed("slice",!0),xt?er.exit().transition().each((function(){var Ee=Ue.select(this);Ee.select("path.surface").transition().attrTween("d",(function(Ee){var ze=function makeExitSliceInterpolator(Ee){var ze,Be=Ut.getPtId(Ee),We=yn[Be],$e=yn[Ut.getPtId(Lr)];if($e){var Qe=Ee.x1>$e.x1?2*Math.PI:0;ze=Ee.rpx1<$e.rpx1?{rpx0:0,rpx1:0}:{x0:Qe,x1:Qe}}else{var et,tt=Ut.getPtId(Ee.parent);er.each((function(Ee){if(Ut.getPtId(Ee)===tt)return et=Ee}));var rt,nt=et.children;nt.forEach((function(Ee,ze){if(Ut.getPtId(Ee)===Be)return rt=ze}));var at=nt.length,it=Ue.interpolate(et.x0,et.x1);ze={rpx0:un,rpx1:un,x0:it(rt/at),x1:it((rt+1)/at)}}return Ue.interpolate(We,ze)}(Ee);return function(Ee){return pathSlice(ze(Ee))}})),Ee.select("g.slicetext").attr("opacity",0)})).remove():er.exit().remove(),er.order();var In=null;if(xt&&vn){var Bn=Ut.getPtId(vn);er.each((function(Ee){null===In&&Ut.getPtId(Ee)===Bn&&(In=Ee.x1)}))}var Hn=er;function interpX0X1FromParent(Ee){var ze=Ee.parent,Be=yn[Ut.getPtId(ze)],We={};if(Be){var $e=ze.children,Qe=$e.indexOf(Ee),et=$e.length,tt=Ue.interpolate(Be.x0,Be.x1);We.x0=tt(Qe/et),We.x1=tt(Qe/et)}else We.x0=We.x1=0;return We}xt&&(Hn=Hn.transition().each("end",(function(){var ze=Ue.select(this);Ut.setSliceCursor(ze,Ee,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})}))),Hn.each((function(We){var tt=Ue.select(this),nt=Qe.ensureSingle(tt,"path","surface",(function(Ee){Ee.style("pointer-events","all")}));We.rpx0=y2rpx(We.y0),We.rpx1=y2rpx(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=rx2px(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(Qe.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=function getInscribedRadiusFraction(Ee){return 0===Ee.rpx0&&Qe.isFullCircle([Ee.x0,Ee.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Ee.halfangle)),Ee.ring/2))}(We),xt?nt.transition().attrTween("d",(function(Ee){var ze=function makeUpdateSliceInterpolator(Ee){var ze,Be=yn[Ut.getPtId(Ee)],We={x0:Ee.x0,x1:Ee.x1,rpx0:Ee.rpx0,rpx1:Ee.rpx1};if(Be)ze=Be;else if(vn)if(Ee.parent)if(In){var $e=Ee.x1>In?2*Math.PI:0;ze={x0:$e,x1:$e}}else ze={rpx0:un,rpx1:un},Qe.extendFlat(ze,interpX0X1FromParent(Ee));else ze={rpx0:0,rpx1:0};else ze={x0:0,x1:0};return Ue.interpolate(ze,We)}(Ee);return function(Ee){return pathSlice(ze(Ee))}})):nt.attr("d",pathSlice),tt.call(kt,Lr,Ee,Be,{eventDataKeys:Lt.eventDataKeys,transitionTime:Lt.CLICK_TRANSITION_TIME,transitionEasing:Lt.CLICK_TRANSITION_EASING}).call(Ut.setSliceCursor,Ee,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:Ee._transitioning}),nt.call(ft,We,rr);var er=Qe.ensureSingle(tt,"g","slicetext"),ar=Qe.ensureSingle(er,"text","",(function(Ee){Ee.attr("data-notex",1)})),Qr=Qe.ensureUniformFontSize(Ee,Ut.determineTextFont(rr,We,at.font));ar.text(ze.formatSliceLabel(We,Lr,rr,Be,at)).classed("slicetext",!0).attr("text-anchor","middle").call($e.font,Qr).call(et.convertToTspans,Ee);var on=$e.bBox(ar.node());We.transform=ct(on,We,tr),We.transform.targetX=getTargetX(We),We.transform.targetY=getTargetY(We);var strTransform=function(Ee,ze){var Be=Ee.transform;return it(Be,ze),Be.fontSize=Qr.size,rt(rr.type,Be,at),Qe.getTextTransform(Be)};xt?ar.transition().attrTween("transform",(function(Ee){var ze=function makeUpdateTextInterpolator(Ee){var ze,Be=yn[Ut.getPtId(Ee)],We=Ee.transform;if(Be)ze=Be;else if(ze={rpx1:Ee.rpx1,transform:{textPosAngle:We.textPosAngle,scale:0,rotate:We.rotate,rCenter:We.rCenter,x:We.x,y:We.y}},vn)if(Ee.parent)if(In){var $e=Ee.x1>In?2*Math.PI:0;ze.x0=ze.x1=$e}else Qe.extendFlat(ze,interpX0X1FromParent(Ee));else ze.x0=ze.x1=0;else ze.x0=ze.x1=0;var et=Ue.interpolate(ze.transform.textPosAngle,Ee.transform.textPosAngle),tt=Ue.interpolate(ze.rpx1,Ee.rpx1),nt=Ue.interpolate(ze.x0,Ee.x0),it=Ue.interpolate(ze.x1,Ee.x1),ct=Ue.interpolate(ze.transform.scale,We.scale),ft=Ue.interpolate(ze.transform.rotate,We.rotate),xt=0===We.rCenter?3:0===ze.transform.rCenter?1/3:1,kt=Ue.interpolate(ze.transform.rCenter,We.rCenter);return function(Ee){var ze=tt(Ee),Be=nt(Ee),Ue=it(Ee),$e=function(Ee){return kt(Math.pow(Ee,xt))}(Ee),Qe={pxmid:rx2px(ze,(Be+Ue)/2),rpx1:ze,transform:{textPosAngle:et(Ee),rCenter:$e,x:We.x,y:We.y}};return rt(rr.type,We,at),{transform:{targetX:getTargetX(Qe),targetY:getTargetY(Qe),scale:ct(Ee),rotate:ft(Ee),rCenter:$e}}}}(Ee);return function(Ee){return strTransform(ze(Ee),on)}})):ar.attr("transform",strTransform(We,on))}))}function getTextXY(Ee){return function getCoords(Ee,ze){return[Ee*Math.sin(ze),-Ee*Math.cos(ze)]}(Ee.rpx1,Ee.transform.textPosAngle)}ze.plot=function(Ee,ze,Be,We){var $e,Qe,et=Ee._fullLayout,tt=et._sunburstlayer,rt=!Be,at=!et.uniformtext.mode&&Ut.hasTransition(Be);(nt("sunburst",et),($e=tt.selectAll("g.trace.sunburst").data(ze,(function(Ee){return Ee[0].trace.uid}))).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),$e.order(),at)?(We&&(Qe=We()),Ue.transition().duration(Be.duration).ease(Be.easing).each("end",(function(){Qe&&Qe()})).each("interrupt",(function(){Qe&&Qe()})).each((function(){tt.selectAll("g.trace").each((function(ze){plotOne(Ee,ze,this,Be)}))}))):($e.each((function(ze){plotOne(Ee,ze,this,Be)})),et.uniformtext.mode&&xt(Ee,et._sunburstlayer.selectAll(".trace"),"sunburst"));rt&&$e.exit().remove()},ze.formatSliceLabel=function(Ee,ze,Be,Ue,We){var $e=Be.texttemplate,et=Be.textinfo;if(!($e||et&&"none"!==et))return"";var tt=We.separators,rt=Ue[0],nt=Ee.data.data,at=rt.hierarchy,it=Ut.isHierarchyRoot(Ee),ct=Ut.getParent(at,Ee),ft=Ut.getValue(Ee);if(!$e){var xt,kt=et.split("+"),hasFlag=function(Ee){return-1!==kt.indexOf(Ee)},Lt=[];if(hasFlag("label")&&nt.label&&Lt.push(nt.label),nt.hasOwnProperty("v")&&hasFlag("value")&&Lt.push(Ut.formatValue(nt.v,tt)),!it){hasFlag("current path")&&Lt.push(Ut.getPath(Ee.data));var er=0;hasFlag("percent parent")&&er++,hasFlag("percent entry")&&er++,hasFlag("percent root")&&er++;var tr=er>1;if(er){var rr,addPercent=function(Ee){xt=Ut.formatPercent(rr,tt),tr&&(xt+=" of "+Ee),Lt.push(xt)};hasFlag("percent parent")&&!it&&(rr=ft/Ut.getValue(ct),addPercent("parent")),hasFlag("percent entry")&&(rr=ft/Ut.getValue(ze),addPercent("entry")),hasFlag("percent root")&&(rr=ft/Ut.getValue(at),addPercent("root"))}}return hasFlag("text")&&(xt=Qe.castOption(Be,nt.i,"text"),Qe.isValidTextValue(xt)&&Lt.push(xt)),Lt.join("<br>")}var ar=Qe.castOption(Be,nt.i,"texttemplate");if(!ar)return"";var Lr={};nt.label&&(Lr.label=nt.label),nt.hasOwnProperty("v")&&(Lr.value=nt.v,Lr.valueLabel=Ut.formatValue(nt.v,tt)),Lr.currentPath=Ut.getPath(Ee.data),it||(Lr.percentParent=ft/Ut.getValue(ct),Lr.percentParentLabel=Ut.formatPercent(Lr.percentParent,tt),Lr.parent=Ut.getPtLabel(ct)),Lr.percentEntry=ft/Ut.getValue(ze),Lr.percentEntryLabel=Ut.formatPercent(Lr.percentEntry,tt),Lr.entry=Ut.getPtLabel(ze),Lr.percentRoot=ft/Ut.getValue(at),Lr.percentRootLabel=Ut.formatPercent(Lr.percentRoot,tt),Lr.root=Ut.getPtLabel(at),nt.hasOwnProperty("color")&&(Lr.color=nt.color);var Qr=Qe.castOption(Be,nt.i,"text");return(Qe.isValidTextValue(Qr)||""===Qr)&&(Lr.text=Qr),Lr.customdata=Qe.castOption(Be,nt.i,"customdata"),Qe.texttemplateString(ar,Lr,We._d3locale,Lr,Be._meta||{})}},e192:function(Ee,ze,Be){Ee.exports=function(){"use strict";var Ee,ze,Be;function define(Ue,We){if(Ee)if(ze){var $e="var sharedChunk = {}; ("+Ee+")(sharedChunk); ("+ze+")(sharedChunk);",Qe={};Ee(Qe),(Be=We(Qe)).workerUrl=window.URL.createObjectURL(new Blob([$e],{type:"text/javascript"}))}else ze=We;else Ee=We}return define(0,(function(Ee){function e(Ee,ze){return Ee(ze={exports:{}},ze.exports),ze.exports}var ze=n;function n(Ee,ze,Be,Ue){this.cx=3*Ee,this.bx=3*(Be-Ee)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*ze,this.by=3*(Ue-ze)-this.cy,this.ay=1-this.cy-this.by,this.p1x=Ee,this.p1y=Ue,this.p2x=Be,this.p2y=Ue}n.prototype.sampleCurveX=function(Ee){return((this.ax*Ee+this.bx)*Ee+this.cx)*Ee},n.prototype.sampleCurveY=function(Ee){return((this.ay*Ee+this.by)*Ee+this.cy)*Ee},n.prototype.sampleCurveDerivativeX=function(Ee){return(3*this.ax*Ee+2*this.bx)*Ee+this.cx},n.prototype.solveCurveX=function(Ee,ze){var Be,Ue,We,$e,Qe;for(void 0===ze&&(ze=1e-6),We=Ee,Qe=0;Qe<8;Qe++){if($e=this.sampleCurveX(We)-Ee,Math.abs($e)<ze)return We;var et=this.sampleCurveDerivativeX(We);if(Math.abs(et)<1e-6)break;We-=$e/et}if((We=Ee)<(Be=0))return Be;if(We>(Ue=1))return Ue;for(;Be<Ue;){if($e=this.sampleCurveX(We),Math.abs($e-Ee)<ze)return We;Ee>$e?Be=We:Ue=We,We=.5*(Ue-Be)+Be}return We},n.prototype.solve=function(Ee,ze){return this.sampleCurveY(this.solveCurveX(Ee,ze))};var Be=a;function a(Ee,ze){this.x=Ee,this.y=ze}function o(Ee,ze){if(Array.isArray(Ee)){if(!Array.isArray(ze)||Ee.length!==ze.length)return!1;for(var Be=0;Be<Ee.length;Be++)if(!o(Ee[Be],ze[Be]))return!1;return!0}if("object"==typeof Ee&&null!==Ee&&null!==ze){if("object"!=typeof ze)return!1;if(Object.keys(Ee).length!==Object.keys(ze).length)return!1;for(var Ue in Ee)if(!o(Ee[Ue],ze[Ue]))return!1;return!0}return Ee===ze}function s(Ee,Be,Ue,We){var $e=new ze(Ee,Be,Ue,We);return function(Ee){return $e.solve(Ee)}}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(Ee){return this.clone()._add(Ee)},sub:function(Ee){return this.clone()._sub(Ee)},multByPoint:function(Ee){return this.clone()._multByPoint(Ee)},divByPoint:function(Ee){return this.clone()._divByPoint(Ee)},mult:function(Ee){return this.clone()._mult(Ee)},div:function(Ee){return this.clone()._div(Ee)},rotate:function(Ee){return this.clone()._rotate(Ee)},rotateAround:function(Ee,ze){return this.clone()._rotateAround(Ee,ze)},matMult:function(Ee){return this.clone()._matMult(Ee)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(Ee){return this.x===Ee.x&&this.y===Ee.y},dist:function(Ee){return Math.sqrt(this.distSqr(Ee))},distSqr:function(Ee){var ze=Ee.x-this.x,Be=Ee.y-this.y;return ze*ze+Be*Be},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(Ee){return Math.atan2(this.y-Ee.y,this.x-Ee.x)},angleWith:function(Ee){return this.angleWithSep(Ee.x,Ee.y)},angleWithSep:function(Ee,ze){return Math.atan2(this.x*ze-this.y*Ee,this.x*Ee+this.y*ze)},_matMult:function(Ee){var ze=Ee[0]*this.x+Ee[1]*this.y,Be=Ee[2]*this.x+Ee[3]*this.y;return this.x=ze,this.y=Be,this},_add:function(Ee){return this.x+=Ee.x,this.y+=Ee.y,this},_sub:function(Ee){return this.x-=Ee.x,this.y-=Ee.y,this},_mult:function(Ee){return this.x*=Ee,this.y*=Ee,this},_div:function(Ee){return this.x/=Ee,this.y/=Ee,this},_multByPoint:function(Ee){return this.x*=Ee.x,this.y*=Ee.y,this},_divByPoint:function(Ee){return this.x/=Ee.x,this.y/=Ee.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var Ee=this.y;return this.y=this.x,this.x=-Ee,this},_rotate:function(Ee){var ze=Math.cos(Ee),Be=Math.sin(Ee),Ue=ze*this.x-Be*this.y,We=Be*this.x+ze*this.y;return this.x=Ue,this.y=We,this},_rotateAround:function(Ee,ze){var Be=Math.cos(Ee),Ue=Math.sin(Ee),We=ze.x+Be*(this.x-ze.x)-Ue*(this.y-ze.y),$e=ze.y+Ue*(this.x-ze.x)+Be*(this.y-ze.y);return this.x=We,this.y=$e,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(Ee){return Ee instanceof a?Ee:Array.isArray(Ee)?new a(Ee[0],Ee[1]):Ee};var Ue=s(.25,.1,.25,1);function l(Ee,ze,Be){return Math.min(Be,Math.max(ze,Ee))}function p(Ee,ze,Be){var Ue=Be-ze,We=((Ee-ze)%Ue+Ue)%Ue+ze;return We===ze?Be:We}function c(Ee){for(var ze=[],Be=arguments.length-1;Be-- >0;)ze[Be]=arguments[Be+1];for(var Ue=0,We=ze;Ue<We.length;Ue+=1){var $e=We[Ue];for(var Qe in $e)Ee[Qe]=$e[Qe]}return Ee}var We=1;function f(){return We++}function y(){return function t(Ee){return Ee?(Ee^16*Math.random()>>Ee/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(Ee){return!!Ee&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Ee)}function m(Ee,ze){Ee.forEach((function(Ee){ze[Ee]&&(ze[Ee]=ze[Ee].bind(ze))}))}function v(Ee,ze){return-1!==Ee.indexOf(ze,Ee.length-ze.length)}function g(Ee,ze,Be){var Ue={};for(var We in Ee)Ue[We]=ze.call(Be||this,Ee[We],We,Ee);return Ue}function x(Ee,ze,Be){var Ue={};for(var We in Ee)ze.call(Be||this,Ee[We],We,Ee)&&(Ue[We]=Ee[We]);return Ue}function b(Ee){return Array.isArray(Ee)?Ee.map(b):"object"==typeof Ee&&Ee?g(Ee,b):Ee}var $e={};function w(Ee){$e[Ee]||("undefined"!=typeof console&&console.warn(Ee),$e[Ee]=!0)}function A(Ee,ze,Be){return(Be.y-Ee.y)*(ze.x-Ee.x)>(ze.y-Ee.y)*(Be.x-Ee.x)}function k(Ee){for(var ze=0,Be=0,Ue=Ee.length,We=Ue-1,$e=void 0,Qe=void 0;Be<Ue;We=Be++)$e=Ee[Be],ze+=((Qe=Ee[We]).x-$e.x)*($e.y+Qe.y);return ze}function S(Ee){var ze={};if(Ee.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(Ee,Be,Ue,We){var $e=Ue||We;return ze[Be]=!$e||$e.toLowerCase(),""})),ze["max-age"]){var Be=parseInt(ze["max-age"],10);isNaN(Be)?delete ze["max-age"]:ze["max-age"]=Be}return ze}function z(Ee){try{var ze=self[Ee];return ze.setItem("_mapbox_test_",1),ze.removeItem("_mapbox_test_"),!0}catch(Ee){return!1}}var Qe,et,tt,rt,nt=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),at=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,it=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,ct={now:nt,frame:function(Ee){var ze=at(Ee);return{cancel:function(){return it(ze)}}},getImageData:function(Ee){var ze=self.document.createElement("canvas"),Be=ze.getContext("2d");if(!Be)throw new Error("failed to create canvas 2d context");return ze.width=Ee.width,ze.height=Ee.height,Be.drawImage(Ee,0,0,Ee.width,Ee.height),Be.getImageData(0,0,Ee.width,Ee.height)},resolveURL:function(Ee){return Qe||(Qe=self.document.createElement("a")),Qe.href=Ee,Qe.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==et&&(et=self.matchMedia("(prefers-reduced-motion: reduce)")),et.matches)}},ft={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},xt={supported:!1,testSupport:function(Ee){!kt&&rt&&(Lt?U(Ee):tt=Ee)}},kt=!1,Lt=!1;function U(Ee){var ze=Ee.createTexture();Ee.bindTexture(Ee.TEXTURE_2D,ze);try{if(Ee.texImage2D(Ee.TEXTURE_2D,0,Ee.RGBA,Ee.RGBA,Ee.UNSIGNED_BYTE,rt),Ee.isContextLost())return;xt.supported=!0}catch(Ee){}Ee.deleteTexture(ze),kt=!0}self.document&&((rt=self.document.createElement("img")).onload=function(){tt&&U(tt),tt=null,Lt=!0},rt.onerror=function(){kt=!0,tt=null},rt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ut="01",j=function(Ee,ze){this._transformRequestFn=Ee,this._customAccessToken=ze,this._createSkuToken()};function q(Ee){return 0===Ee.indexOf("mapbox:")}j.prototype._createSkuToken=function(){var Ee=function(){for(var Ee="",ze=0;ze<10;ze++)Ee+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ut,Ee].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=Ee.token,this._skuTokenExpiresAt=Ee.tokenExpiresAt},j.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},j.prototype.transformRequest=function(Ee,ze){return this._transformRequestFn&&this._transformRequestFn(Ee,ze)||{url:Ee}},j.prototype.normalizeStyleURL=function(Ee,ze){if(!q(Ee))return Ee;var Be=X(Ee);return Be.path="/styles/v1"+Be.path,this._makeAPIURL(Be,this._customAccessToken||ze)},j.prototype.normalizeGlyphsURL=function(Ee,ze){if(!q(Ee))return Ee;var Be=X(Ee);return Be.path="/fonts/v1"+Be.path,this._makeAPIURL(Be,this._customAccessToken||ze)},j.prototype.normalizeSourceURL=function(Ee,ze){if(!q(Ee))return Ee;var Be=X(Ee);return Be.path="/v4/"+Be.authority+".json",Be.params.push("secure"),this._makeAPIURL(Be,this._customAccessToken||ze)},j.prototype.normalizeSpriteURL=function(Ee,ze,Be,Ue){var We=X(Ee);return q(Ee)?(We.path="/styles/v1"+We.path+"/sprite"+ze+Be,this._makeAPIURL(We,this._customAccessToken||Ue)):(We.path+=""+ze+Be,G(We))},j.prototype.normalizeTileURL=function(Ee,ze,Be){if(this._isSkuTokenExpired()&&this._createSkuToken(),!ze||!q(ze))return Ee;var Ue=X(Ee),We=ct.devicePixelRatio>=2||512===Be?"@2x":"",$e=xt.supported?".webp":"$1";return Ue.path=Ue.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+We+$e),Ue.path=Ue.path.replace(/^.+\/v4\//,"/"),Ue.path="/v4"+Ue.path,ft.REQUIRE_ACCESS_TOKEN&&(ft.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&Ue.params.push("sku="+this._skuToken),this._makeAPIURL(Ue,this._customAccessToken)},j.prototype.canonicalizeTileURL=function(Ee){var ze=X(Ee);if(!ze.path.match(/(^\/v4\/)/)||!ze.path.match(/\.[\w]+$/))return Ee;var Be="mapbox://tiles/";Be+=ze.path.replace("/v4/","");var Ue=ze.params.filter((function(Ee){return!Ee.match(/^access_token=/)}));return Ue.length&&(Be+="?"+Ue.join("&")),Be},j.prototype.canonicalizeTileset=function(Ee,ze){if(!q(ze))return Ee.tiles||[];for(var Be=[],Ue=0,We=Ee.tiles;Ue<We.length;Ue+=1){var $e=We[Ue],Qe=this.canonicalizeTileURL($e);Be.push(Qe)}return Be},j.prototype._makeAPIURL=function(Ee,ze){var Be="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",Ue=X(ft.API_URL);if(Ee.protocol=Ue.protocol,Ee.authority=Ue.authority,"/"!==Ue.path&&(Ee.path=""+Ue.path+Ee.path),!ft.REQUIRE_ACCESS_TOKEN)return G(Ee);if(!(ze=ze||ft.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Be);if("s"===ze[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Be);return Ee.params=Ee.params.filter((function(Ee){return-1===Ee.indexOf("access_token")})),Ee.params.push("access_token="+ze),G(Ee)};var er=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(Ee){return er.test(Ee)}var tr=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function X(Ee){var ze=Ee.match(tr);if(!ze)throw new Error("Unable to parse URL object");return{protocol:ze[1],authority:ze[2],path:ze[3]||"/",params:ze[4]?ze[4].split("&"):[]}}function G(Ee){var ze=Ee.params.length?"?"+Ee.params.join("&"):"";return Ee.protocol+"://"+Ee.authority+Ee.path+ze}function J(Ee){if(!Ee)return null;var ze,Be=Ee.split(".");if(!Be||3!==Be.length)return null;try{return JSON.parse((ze=Be[1],decodeURIComponent(self.atob(ze).split("").map((function(Ee){return"%"+("00"+Ee.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(Ee){return null}}var H=function(Ee){this.type=Ee,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};H.prototype.getStorageKey=function(Ee){var ze,Be=J(ft.ACCESS_TOKEN),Ue="";return Be&&Be.u?(ze=Be.u,Ue=self.btoa(encodeURIComponent(ze).replace(/%([0-9A-F]{2})/g,(function(Ee,ze){return String.fromCharCode(Number("0x"+ze))})))):Ue=ft.ACCESS_TOKEN||"",Ee?"mapbox.eventData."+Ee+":"+Ue:"mapbox.eventData:"+Ue},H.prototype.fetchEventData=function(){var Ee=z("localStorage"),ze=this.getStorageKey(),Be=this.getStorageKey("uuid");if(Ee)try{var Ue=self.localStorage.getItem(ze);Ue&&(this.eventData=JSON.parse(Ue));var We=self.localStorage.getItem(Be);We&&(this.anonId=We)}catch(Ee){w("Unable to read from LocalStorage")}},H.prototype.saveEventData=function(){var Ee=z("localStorage"),ze=this.getStorageKey(),Be=this.getStorageKey("uuid");if(Ee)try{self.localStorage.setItem(Be,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(ze,JSON.stringify(this.eventData))}catch(Ee){w("Unable to write to LocalStorage")}},H.prototype.processRequests=function(Ee){},H.prototype.postEvent=function(Ee,ze,Be,Ue){var We=this;if(ft.EVENTS_URL){var $e=X(ft.EVENTS_URL);$e.params.push("access_token="+(Ue||ft.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(Ee).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.3.2",skuId:Ut,userId:this.anonId},et=ze?c(Qe,ze):Qe,tt={url:G($e),headers:{"Content-Type":"text/plain"},body:JSON.stringify([et])};this.pendingRequest=vt(tt,(function(Ee){We.pendingRequest=null,Be(Ee),We.saveEventData(),We.processRequests(Ue)}))}},H.prototype.queueRequest=function(Ee,ze){this.queue.push(Ee),this.processRequests(ze)};var rr,ar=function(Ee){function e(){Ee.call(this,"map.load"),this.success={},this.skuToken=""}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.postMapLoadEvent=function(Ee,ze,Be,Ue){this.skuToken=Be,(ft.EVENTS_URL&&Ue||ft.ACCESS_TOKEN&&Array.isArray(Ee)&&Ee.some((function(Ee){return q(Ee)||K(Ee)})))&&this.queueRequest({id:ze,timestamp:Date.now()},Ue)},e.prototype.processRequests=function(Ee){var ze=this;if(!this.pendingRequest&&0!==this.queue.length){var Be=this.queue.shift(),Ue=Be.id,We=Be.timestamp;Ue&&this.success[Ue]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(We,{skuToken:this.skuToken},(function(Ee){Ee||Ue&&(ze.success[Ue]=!0)}),Ee))}},e}(H),Lr=new(function(Ee){function e(ze){Ee.call(this,"appUserTurnstile"),this._customAccessToken=ze}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.postTurnstileEvent=function(Ee,ze){ft.EVENTS_URL&&ft.ACCESS_TOKEN&&Array.isArray(Ee)&&Ee.some((function(Ee){return q(Ee)||K(Ee)}))&&this.queueRequest(Date.now(),ze)},e.prototype.processRequests=function(Ee){var ze=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Be=J(ft.ACCESS_TOKEN),Ue=Be?Be.u:ft.ACCESS_TOKEN,We=Ue!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),We=!0);var $e=this.queue.shift();if(this.eventData.lastSuccess){var Qe=new Date(this.eventData.lastSuccess),et=new Date($e),tt=($e-this.eventData.lastSuccess)/864e5;We=We||tt>=1||tt<-1||Qe.getDate()!==et.getDate()}else We=!0;if(!We)return this.processRequests();this.postEvent($e,{"enabled.telemetry":!1},(function(Ee){Ee||(ze.eventData.lastSuccess=$e,ze.eventData.tokenU=Ue)}),Ee)}},e}(H)),Qr=Lr.postTurnstileEvent.bind(Lr),on=new ar,sn=on.postMapLoadEvent.bind(on),ln="mapbox-tiles",cn=500,un=50;function st(Ee){var ze=Ee.indexOf("?");return ze<0?Ee:Ee.slice(0,ze)}var hn=1/0,dn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dn);var vn=function(Ee){function e(ze,Be,Ue){401===Be&&K(Ue)&&(ze+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),Ee.call(this,ze),this.status=Be,this.url=Ue,this.name=this.constructor.name,this.message=ze}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function ht(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var yn=ht()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function yt(Ee,ze){var Be,Ue=new self.AbortController,We=new self.Request(Ee.url,{method:Ee.method||"GET",body:Ee.body,credentials:Ee.credentials,headers:Ee.headers,referrer:yn(),signal:Ue.signal}),$e=!1,Qe=!1,et=(Be=We.url).indexOf("sku=")>0&&K(Be);"json"===Ee.type&&We.headers.set("Accept","application/json");var u=function(Be,Ue,$e){if(!Qe){if(Be&&"SecurityError"!==Be.message&&w(Be),Ue&&$e)return l(Ue);var tt=Date.now();self.fetch(We).then((function(Be){if(Be.ok){var Ue=et?Be.clone():null;return l(Be,Ue,tt)}return ze(new vn(Be.statusText,Be.status,Ee.url))})).catch((function(Ee){20!==Ee.code&&ze(new Error(Ee.message))}))}},l=function(Be,Ue,et){("arrayBuffer"===Ee.type?Be.arrayBuffer():"json"===Ee.type?Be.json():Be.text()).then((function(Ee){Qe||(Ue&&et&&function ot(Ee,ze,Be){if(self.caches){var Ue={status:ze.status,statusText:ze.statusText,headers:new self.Headers};ze.headers.forEach((function(Ee,ze){return Ue.headers.set(ze,Ee)}));var We=S(ze.headers.get("Cache-Control")||"");We["no-store"]||(We["max-age"]&&Ue.headers.set("Expires",new Date(Be+1e3*We["max-age"]).toUTCString()),new Date(Ue.headers.get("Expires")).getTime()-Be<42e4||function(Ee,ze){if(void 0===rr)try{new Response(new ReadableStream),rr=!0}catch(Ee){rr=!1}rr?ze(Ee.body):Ee.blob().then(ze)}(ze,(function(ze){var Be=new self.Response(ze,Ue);self.caches.open(ln).then((function(ze){return ze.put(st(Ee.url),Be)})).catch((function(Ee){return w(Ee.message)}))})))}}(We,Ue,et),$e=!0,ze(null,Ee,Be.headers.get("Cache-Control"),Be.headers.get("Expires")))})).catch((function(Ee){return ze(new Error(Ee.message))}))};return et?function ut(Ee,ze){if(!self.caches)return ze(null);var Be=st(Ee.url);self.caches.open(ln).then((function(Ee){Ee.match(Be).then((function(Ue){var We=function(Ee){if(!Ee)return!1;var ze=new Date(Ee.headers.get("Expires")),Be=S(Ee.headers.get("Cache-Control")||"");return ze>Date.now()&&!Be["no-cache"]}(Ue);Ee.delete(Be),We&&Ee.put(Be,Ue.clone()),ze(null,Ue,We)})).catch(ze)})).catch(ze)}(We,u):u(null,null),{cancel:function(){Qe=!0,$e||Ue.abort()}}}var _n,Mn,dt=function(Ee,ze){if(Be=Ee.url,!(/^file:/.test(Be)||/^file:/.test(yn())&&!/^\w+:/.test(Be))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return yt(Ee,ze);if(ht()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",Ee,ze)}var Be;return function(Ee,ze){var Be=new self.XMLHttpRequest;for(var Ue in Be.open(Ee.method||"GET",Ee.url,!0),"arrayBuffer"===Ee.type&&(Be.responseType="arraybuffer"),Ee.headers)Be.setRequestHeader(Ue,Ee.headers[Ue]);return"json"===Ee.type&&(Be.responseType="text",Be.setRequestHeader("Accept","application/json")),Be.withCredentials="include"===Ee.credentials,Be.onerror=function(){ze(new Error(Be.statusText))},Be.onload=function(){if((Be.status>=200&&Be.status<300||0===Be.status)&&null!==Be.response){var Ue=Be.response;if("json"===Ee.type)try{Ue=JSON.parse(Be.response)}catch(Ee){return ze(Ee)}ze(null,Ue,Be.getResponseHeader("Cache-Control"),Be.getResponseHeader("Expires"))}else ze(new vn(Be.statusText,Be.status,Ee.url))},Be.send(Ee.body),{cancel:function(){return Be.abort()}}}(Ee,ze)},mt=function(Ee,ze){return dt(c(Ee,{type:"arrayBuffer"}),ze)},vt=function(Ee,ze){return dt(c(Ee,{method:"POST"}),ze)};_n=[],Mn=0;var bt=function(Ee,ze){if(Mn>=ft.MAX_PARALLEL_IMAGE_REQUESTS){var Be={requestParameters:Ee,callback:ze,cancelled:!1,cancel:function(){this.cancelled=!0}};return _n.push(Be),Be}Mn++;var Ue=!1,i=function(){if(!Ue)for(Ue=!0,Mn--;_n.length&&Mn<ft.MAX_PARALLEL_IMAGE_REQUESTS;){var Ee=_n.shift(),ze=Ee.requestParameters,Be=Ee.callback;Ee.cancelled||(Ee.cancel=bt(ze,Be).cancel)}},We=mt(Ee,(function(Ee,Be,Ue,We){if(i(),Ee)ze(Ee);else if(Be){var $e=new self.Image,Qe=self.URL||self.webkitURL;$e.onload=function(){ze(null,$e),Qe.revokeObjectURL($e.src)},$e.onerror=function(){return ze(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var et=new self.Blob([new Uint8Array(Be)],{type:"image/png"});$e.cacheControl=Ue,$e.expires=We,$e.src=Be.byteLength?Qe.createObjectURL(et):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){We.cancel(),i()}}};function _t(Ee,ze,Be){Be[Ee]&&-1!==Be[Ee].indexOf(ze)||(Be[Ee]=Be[Ee]||[],Be[Ee].push(ze))}function wt(Ee,ze,Be){if(Be&&Be[Ee]){var Ue=Be[Ee].indexOf(ze);-1!==Ue&&Be[Ee].splice(Ue,1)}}var At=function(Ee,ze){void 0===ze&&(ze={}),c(this,ze),this.type=Ee},Cn=function(Ee){function e(ze,Be){void 0===Be&&(Be={}),Ee.call(this,"error",c({error:ze},Be))}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e}(At),St=function(){};St.prototype.on=function(Ee,ze){return this._listeners=this._listeners||{},_t(Ee,ze,this._listeners),this},St.prototype.off=function(Ee,ze){return wt(Ee,ze,this._listeners),wt(Ee,ze,this._oneTimeListeners),this},St.prototype.once=function(Ee,ze){return this._oneTimeListeners=this._oneTimeListeners||{},_t(Ee,ze,this._oneTimeListeners),this},St.prototype.fire=function(Ee,ze){"string"==typeof Ee&&(Ee=new At(Ee,ze||{}));var Be=Ee.type;if(this.listens(Be)){Ee.target=this;for(var Ue=0,We=this._listeners&&this._listeners[Be]?this._listeners[Be].slice():[];Ue<We.length;Ue+=1)We[Ue].call(this,Ee);for(var $e=0,Qe=this._oneTimeListeners&&this._oneTimeListeners[Be]?this._oneTimeListeners[Be].slice():[];$e<Qe.length;$e+=1){var et=Qe[$e];wt(Be,et,this._oneTimeListeners),et.call(this,Ee)}var tt=this._eventedParent;tt&&(c(Ee,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),tt.fire(Ee))}else Ee instanceof Cn&&console.error(Ee.error);return this},St.prototype.listens=function(Ee){return this._listeners&&this._listeners[Ee]&&this._listeners[Ee].length>0||this._oneTimeListeners&&this._oneTimeListeners[Ee]&&this._oneTimeListeners[Ee].length>0||this._eventedParent&&this._eventedParent.listens(Ee)},St.prototype.setEventedParent=function(Ee,ze){return this._eventedParent=Ee,this._eventedParentData=ze,this};var En={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"},{"!":"text-variable-anchor"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},It=function(Ee,ze,Be,Ue){this.message=(Ee?Ee+": ":"")+Be,Ue&&(this.identifier=Ue),null!=ze&&ze.__line__&&(this.line=ze.__line__)};function Ct(Ee){var ze=Ee.key,Be=Ee.value;return Be?[new It(ze,Be,"constants have been deprecated as of v8")]:[]}function Bt(Ee){for(var ze=[],Be=arguments.length-1;Be-- >0;)ze[Be]=arguments[Be+1];for(var Ue=0,We=ze;Ue<We.length;Ue+=1){var $e=We[Ue];for(var Qe in $e)Ee[Qe]=$e[Qe]}return Ee}function Et(Ee){return Ee instanceof Number||Ee instanceof String||Ee instanceof Boolean}function Mt(Ee){return Et(Ee)?Ee.valueOf():Ee}function Pt(Ee){if(Array.isArray(Ee))return Ee.map(Pt);if(Ee instanceof Object&&!Et(Ee)){var ze={};for(var Be in Ee)ze[Be]=Pt(Ee[Be]);return ze}return Mt(Ee)}var Pn=function(Ee){function e(ze,Be){Ee.call(this,Be),this.message=Be,this.key=ze}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e}(Error),Vt=function(Ee,ze){void 0===ze&&(ze=[]),this.parent=Ee,this.bindings={};for(var Be=0,Ue=ze;Be<Ue.length;Be+=1){var We=Ue[Be],$e=We[0],Qe=We[1];this.bindings[$e]=Qe}};Vt.prototype.concat=function(Ee){return new Vt(this,Ee)},Vt.prototype.get=function(Ee){if(this.bindings[Ee])return this.bindings[Ee];if(this.parent)return this.parent.get(Ee);throw new Error(Ee+" not found in scope.")},Vt.prototype.has=function(Ee){return!!this.bindings[Ee]||!!this.parent&&this.parent.has(Ee)};var In={kind:"null"},Bn={kind:"number"},Hn={kind:"string"},Kn={kind:"boolean"},Jn={kind:"color"},Ma={kind:"object"},Sa={kind:"value"},La={kind:"collator"},Ia={kind:"formatted"};function Kt(Ee,ze){return{kind:"array",itemType:Ee,N:ze}}function Zt(Ee){if("array"===Ee.kind){var ze=Zt(Ee.itemType);return"number"==typeof Ee.N?"array<"+ze+", "+Ee.N+">":"value"===Ee.itemType.kind?"array":"array<"+ze+">"}return Ee.kind}var Ra=[In,Bn,Hn,Kn,Jn,Ia,Ma,Kt(Sa)];function Gt(Ee,ze){if("error"===ze.kind)return null;if("array"===Ee.kind){if("array"===ze.kind&&(0===ze.N&&"value"===ze.itemType.kind||!Gt(Ee.itemType,ze.itemType))&&("number"!=typeof Ee.N||Ee.N===ze.N))return null}else{if(Ee.kind===ze.kind)return null;if("value"===Ee.kind)for(var Be=0,Ue=Ra;Be<Ue.length;Be+=1)if(!Gt(Ue[Be],ze))return null}return"Expected "+Zt(Ee)+" but found "+Zt(ze)+" instead."}var Na=e((function(Ee,ze){var Be={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(Ee){return(Ee=Math.round(Ee))<0?0:Ee>255?255:Ee}function i(Ee){return Ee<0?0:Ee>1?1:Ee}function a(Ee){return"%"===Ee[Ee.length-1]?n(parseFloat(Ee)/100*255):n(parseInt(Ee))}function o(Ee){return"%"===Ee[Ee.length-1]?i(parseFloat(Ee)/100):i(parseFloat(Ee))}function s(Ee,ze,Be){return Be<0?Be+=1:Be>1&&(Be-=1),6*Be<1?Ee+(ze-Ee)*Be*6:2*Be<1?ze:3*Be<2?Ee+(ze-Ee)*(2/3-Be)*6:Ee}try{ze.parseCSSColor=function(Ee){var ze,Ue=Ee.replace(/ /g,"").toLowerCase();if(Ue in Be)return Be[Ue].slice();if("#"===Ue[0])return 4===Ue.length?(ze=parseInt(Ue.substr(1),16))>=0&&ze<=4095?[(3840&ze)>>4|(3840&ze)>>8,240&ze|(240&ze)>>4,15&ze|(15&ze)<<4,1]:null:7===Ue.length&&(ze=parseInt(Ue.substr(1),16))>=0&&ze<=16777215?[(16711680&ze)>>16,(65280&ze)>>8,255&ze,1]:null;var We=Ue.indexOf("("),$e=Ue.indexOf(")");if(-1!==We&&$e+1===Ue.length){var Qe=Ue.substr(0,We),et=Ue.substr(We+1,$e-(We+1)).split(","),tt=1;switch(Qe){case"rgba":if(4!==et.length)return null;tt=o(et.pop());case"rgb":return 3!==et.length?null:[a(et[0]),a(et[1]),a(et[2]),tt];case"hsla":if(4!==et.length)return null;tt=o(et.pop());case"hsl":if(3!==et.length)return null;var rt=(parseFloat(et[0])%360+360)%360/360,nt=o(et[1]),at=o(et[2]),it=at<=.5?at*(nt+1):at+nt-at*nt,ct=2*at-it;return[n(255*s(ct,it,rt+1/3)),n(255*s(ct,it,rt)),n(255*s(ct,it,rt-1/3)),tt];default:return null}}return null}}catch(Ee){}})).parseCSSColor,Ht=function(Ee,ze,Be,Ue){void 0===Ue&&(Ue=1),this.r=Ee,this.g=ze,this.b=Be,this.a=Ue};Ht.parse=function(Ee){if(Ee){if(Ee instanceof Ht)return Ee;if("string"==typeof Ee){var ze=Na(Ee);if(ze)return new Ht(ze[0]/255*ze[3],ze[1]/255*ze[3],ze[2]/255*ze[3],ze[3])}}},Ht.prototype.toString=function(){var Ee=this.toArray(),ze=Ee[0],Be=Ee[1],Ue=Ee[2],We=Ee[3];return"rgba("+Math.round(ze)+","+Math.round(Be)+","+Math.round(Ue)+","+We+")"},Ht.prototype.toArray=function(){var Ee=this.r,ze=this.g,Be=this.b,Ue=this.a;return 0===Ue?[0,0,0,0]:[255*Ee/Ue,255*ze/Ue,255*Be/Ue,Ue]},Ht.black=new Ht(0,0,0,1),Ht.white=new Ht(1,1,1,1),Ht.transparent=new Ht(0,0,0,0),Ht.red=new Ht(1,0,0,1);var Yt=function(Ee,ze,Be){this.sensitivity=Ee?ze?"variant":"case":ze?"accent":"base",this.locale=Be,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yt.prototype.compare=function(Ee,ze){return this.collator.compare(Ee,ze)},Yt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var $t=function(Ee,ze,Be,Ue){this.text=Ee,this.scale=ze,this.fontStack=Be,this.textColor=Ue},Wt=function(Ee){this.sections=Ee};function Qt(Ee,ze,Be,Ue){return"number"==typeof Ee&&Ee>=0&&Ee<=255&&"number"==typeof ze&&ze>=0&&ze<=255&&"number"==typeof Be&&Be>=0&&Be<=255?void 0===Ue||"number"==typeof Ue&&Ue>=0&&Ue<=1?null:"Invalid rgba value ["+[Ee,ze,Be,Ue].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof Ue?[Ee,ze,Be,Ue]:[Ee,ze,Be]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function te(Ee){if(null===Ee)return In;if("string"==typeof Ee)return Hn;if("boolean"==typeof Ee)return Kn;if("number"==typeof Ee)return Bn;if(Ee instanceof Ht)return Jn;if(Ee instanceof Yt)return La;if(Ee instanceof Wt)return Ia;if(Array.isArray(Ee)){for(var ze,Be=Ee.length,Ue=0,We=Ee;Ue<We.length;Ue+=1){var $e=te(We[Ue]);if(ze){if(ze===$e)continue;ze=Sa;break}ze=$e}return Kt(ze||Sa,Be)}return Ma}function ee(Ee){var ze=typeof Ee;return null===Ee?"":"string"===ze||"number"===ze||"boolean"===ze?String(Ee):Ee instanceof Ht||Ee instanceof Wt?Ee.toString():JSON.stringify(Ee)}Wt.fromString=function(Ee){return new Wt([new $t(Ee,null,null,null)])},Wt.prototype.toString=function(){return this.sections.map((function(Ee){return Ee.text})).join("")},Wt.prototype.serialize=function(){for(var Ee=["format"],ze=0,Be=this.sections;ze<Be.length;ze+=1){var Ue=Be[ze];Ee.push(Ue.text);var We={};Ue.fontStack&&(We["text-font"]=["literal",Ue.fontStack.split(",")]),Ue.scale&&(We["font-scale"]=Ue.scale),Ue.textColor&&(We["text-color"]=["rgba"].concat(Ue.textColor.toArray())),Ee.push(We)}return Ee};var re=function(Ee,ze){this.type=Ee,this.value=ze};re.parse=function(Ee,ze){if(2!==Ee.length)return ze.error("'literal' expression requires exactly one argument, but found "+(Ee.length-1)+" instead.");if(!function t(Ee){if(null===Ee)return!0;if("string"==typeof Ee)return!0;if("boolean"==typeof Ee)return!0;if("number"==typeof Ee)return!0;if(Ee instanceof Ht)return!0;if(Ee instanceof Yt)return!0;if(Ee instanceof Wt)return!0;if(Array.isArray(Ee)){for(var ze=0,Be=Ee;ze<Be.length;ze+=1)if(!t(Be[ze]))return!1;return!0}if("object"==typeof Ee){for(var Ue in Ee)if(!t(Ee[Ue]))return!1;return!0}return!1}(Ee[1]))return ze.error("invalid value");var Be=Ee[1],Ue=te(Be),We=ze.expectedType;return"array"!==Ue.kind||0!==Ue.N||!We||"array"!==We.kind||"number"==typeof We.N&&0!==We.N||(Ue=We),new re(Ue,Be)},re.prototype.evaluate=function(){return this.value},re.prototype.eachChild=function(){},re.prototype.possibleOutputs=function(){return[this.value]},re.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ht?["rgba"].concat(this.value.toArray()):this.value instanceof Wt?this.value.serialize():this.value};var ne=function(Ee){this.name="ExpressionEvaluationError",this.message=Ee};ne.prototype.toJSON=function(){return this.message};var Ua={string:Hn,number:Bn,boolean:Kn,object:Ma},ae=function(Ee,ze){this.type=Ee,this.args=ze};ae.parse=function(Ee,ze){if(Ee.length<2)return ze.error("Expected at least one argument.");var Be,Ue=1,We=Ee[0];if("array"===We){var $e,Qe;if(Ee.length>2){var et=Ee[1];if("string"!=typeof et||!(et in Ua)||"object"===et)return ze.error('The item type argument of "array" must be one of string, number, boolean',1);$e=Ua[et],Ue++}else $e=Sa;if(Ee.length>3){if(null!==Ee[2]&&("number"!=typeof Ee[2]||Ee[2]<0||Ee[2]!==Math.floor(Ee[2])))return ze.error('The length argument to "array" must be a positive integer literal',2);Qe=Ee[2],Ue++}Be=Kt($e,Qe)}else Be=Ua[We];for(var tt=[];Ue<Ee.length;Ue++){var rt=ze.parse(Ee[Ue],Ue,Sa);if(!rt)return null;tt.push(rt)}return new ae(Be,tt)},ae.prototype.evaluate=function(Ee){for(var ze=0;ze<this.args.length;ze++){var Be=this.args[ze].evaluate(Ee);if(!Gt(this.type,te(Be)))return Be;if(ze===this.args.length-1)throw new ne("Expected value to be of type "+Zt(this.type)+", but found "+Zt(te(Be))+" instead.")}return null},ae.prototype.eachChild=function(Ee){this.args.forEach(Ee)},ae.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.args.map((function(Ee){return Ee.possibleOutputs()})))},ae.prototype.serialize=function(){var Ee=this.type,ze=[Ee.kind];if("array"===Ee.kind){var Be=Ee.itemType;if("string"===Be.kind||"number"===Be.kind||"boolean"===Be.kind){ze.push(Be.kind);var Ue=Ee.N;("number"==typeof Ue||this.args.length>1)&&ze.push(Ue)}}return ze.concat(this.args.map((function(Ee){return Ee.serialize()})))};var oe=function(Ee){this.type=Ia,this.sections=Ee};oe.parse=function(Ee,ze){if(Ee.length<3)return ze.error("Expected at least two arguments.");if((Ee.length-1)%2!=0)return ze.error("Expected an even number of arguments.");for(var Be=[],Ue=1;Ue<Ee.length-1;Ue+=2){var We=ze.parse(Ee[Ue],1,Sa);if(!We)return null;var $e=We.type.kind;if("string"!==$e&&"value"!==$e&&"null"!==$e)return ze.error("Formatted text type must be 'string', 'value', or 'null'.");var Qe=Ee[Ue+1];if("object"!=typeof Qe||Array.isArray(Qe))return ze.error("Format options argument must be an object.");var et=null;if(Qe["font-scale"]&&!(et=ze.parse(Qe["font-scale"],1,Bn)))return null;var tt=null;if(Qe["text-font"]&&!(tt=ze.parse(Qe["text-font"],1,Kt(Hn))))return null;var rt=null;if(Qe["text-color"]&&!(rt=ze.parse(Qe["text-color"],1,Jn)))return null;Be.push({text:We,scale:et,font:tt,textColor:rt})}return new oe(Be)},oe.prototype.evaluate=function(Ee){return new Wt(this.sections.map((function(ze){return new $t(ee(ze.text.evaluate(Ee)),ze.scale?ze.scale.evaluate(Ee):null,ze.font?ze.font.evaluate(Ee).join(","):null,ze.textColor?ze.textColor.evaluate(Ee):null)})))},oe.prototype.eachChild=function(Ee){for(var ze=0,Be=this.sections;ze<Be.length;ze+=1){var Ue=Be[ze];Ee(Ue.text),Ue.scale&&Ee(Ue.scale),Ue.font&&Ee(Ue.font),Ue.textColor&&Ee(Ue.textColor)}},oe.prototype.possibleOutputs=function(){return[void 0]},oe.prototype.serialize=function(){for(var Ee=["format"],ze=0,Be=this.sections;ze<Be.length;ze+=1){var Ue=Be[ze];Ee.push(Ue.text.serialize());var We={};Ue.scale&&(We["font-scale"]=Ue.scale.serialize()),Ue.font&&(We["text-font"]=Ue.font.serialize()),Ue.textColor&&(We["text-color"]=Ue.textColor.serialize()),Ee.push(We)}return Ee};var qa={"to-boolean":Kn,"to-color":Jn,"to-number":Bn,"to-string":Hn},ue=function(Ee,ze){this.type=Ee,this.args=ze};ue.parse=function(Ee,ze){if(Ee.length<2)return ze.error("Expected at least one argument.");var Be=Ee[0];if(("to-boolean"===Be||"to-string"===Be)&&2!==Ee.length)return ze.error("Expected one argument.");for(var Ue=qa[Be],We=[],$e=1;$e<Ee.length;$e++){var Qe=ze.parse(Ee[$e],$e,Sa);if(!Qe)return null;We.push(Qe)}return new ue(Ue,We)},ue.prototype.evaluate=function(Ee){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(Ee));if("color"===this.type.kind){for(var ze,Be,Ue=0,We=this.args;Ue<We.length;Ue+=1){if(Be=null,(ze=We[Ue].evaluate(Ee))instanceof Ht)return ze;if("string"==typeof ze){var $e=Ee.parseColor(ze);if($e)return $e}else if(Array.isArray(ze)&&!(Be=ze.length<3||ze.length>4?"Invalid rbga value "+JSON.stringify(ze)+": expected an array containing either three or four numeric values.":Qt(ze[0],ze[1],ze[2],ze[3])))return new Ht(ze[0]/255,ze[1]/255,ze[2]/255,ze[3])}throw new ne(Be||"Could not parse color from value '"+("string"==typeof ze?ze:String(JSON.stringify(ze)))+"'")}if("number"===this.type.kind){for(var Qe=null,et=0,tt=this.args;et<tt.length;et+=1){if(null===(Qe=tt[et].evaluate(Ee)))return 0;var rt=Number(Qe);if(!isNaN(rt))return rt}throw new ne("Could not convert "+JSON.stringify(Qe)+" to number.")}return"formatted"===this.type.kind?Wt.fromString(ee(this.args[0].evaluate(Ee))):ee(this.args[0].evaluate(Ee))},ue.prototype.eachChild=function(Ee){this.args.forEach(Ee)},ue.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.args.map((function(Ee){return Ee.possibleOutputs()})))},ue.prototype.serialize=function(){if("formatted"===this.type.kind)return new oe([{text:this.args[0],scale:null,font:null,textColor:null}]).serialize();var Ee=["to-"+this.type.kind];return this.eachChild((function(ze){Ee.push(ze.serialize())})),Ee};var Ka=["Unknown","Point","LineString","Polygon"],pe=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={}};pe.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},pe.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Ka[this.feature.type]:this.feature.type:null},pe.prototype.properties=function(){return this.feature&&this.feature.properties||{}},pe.prototype.parseColor=function(Ee){var ze=this._parseColorCache[Ee];return ze||(ze=this._parseColorCache[Ee]=Ht.parse(Ee)),ze};var ce=function(Ee,ze,Be,Ue){this.name=Ee,this.type=ze,this._evaluate=Be,this.args=Ue};ce.prototype.evaluate=function(Ee){return this._evaluate(Ee,this.args)},ce.prototype.eachChild=function(Ee){this.args.forEach(Ee)},ce.prototype.possibleOutputs=function(){return[void 0]},ce.prototype.serialize=function(){return[this.name].concat(this.args.map((function(Ee){return Ee.serialize()})))},ce.parse=function(Ee,ze){var Be,Ue=Ee[0],We=ce.definitions[Ue];if(!We)return ze.error('Unknown expression "'+Ue+'". If you wanted a literal array, use ["literal", [...]].',0);for(var $e=Array.isArray(We)?We[0]:We.type,Qe=Array.isArray(We)?[[We[1],We[2]]]:We.overloads,et=Qe.filter((function(ze){var Be=ze[0];return!Array.isArray(Be)||Be.length===Ee.length-1})),tt=null,rt=0,nt=et;rt<nt.length;rt+=1){var at=nt[rt],it=at[0],ct=at[1];tt=new ve(ze.registry,ze.path,null,ze.scope);for(var ft=[],xt=!1,kt=1;kt<Ee.length;kt++){var Lt=Ee[kt],Ut=Array.isArray(it)?it[kt-1]:it.type,er=tt.parse(Lt,1+ft.length,Ut);if(!er){xt=!0;break}ft.push(er)}if(!xt)if(Array.isArray(it)&&it.length!==ft.length)tt.error("Expected "+it.length+" arguments, but found "+ft.length+" instead.");else{for(var tr=0;tr<ft.length;tr++){var rr=Array.isArray(it)?it[tr]:it.type,ar=ft[tr];tt.concat(tr+1).checkSubtype(rr,ar.type)}if(0===tt.errors.length)return new ce(Ue,$e,ct,ft)}}if(1===et.length)(Be=ze.errors).push.apply(Be,tt.errors);else{for(var Lr=(et.length?et:Qe).map((function(Ee){var ze;return ze=Ee[0],Array.isArray(ze)?"("+ze.map(Zt).join(", ")+")":"("+Zt(ze.type)+"...)"})).join(" | "),Qr=[],on=1;on<Ee.length;on++){var sn=ze.parse(Ee[on],1+Qr.length);if(!sn)return null;Qr.push(Zt(sn.type))}ze.error("Expected arguments of type "+Lr+", but found ("+Qr.join(", ")+") instead.")}return null},ce.register=function(Ee,ze){for(var Be in ce.definitions=ze,ze)Ee[Be]=ce};var he=function(Ee,ze,Be){this.type=La,this.locale=Be,this.caseSensitive=Ee,this.diacriticSensitive=ze};function fe(Ee){if(Ee instanceof ce){if("get"===Ee.name&&1===Ee.args.length)return!1;if("feature-state"===Ee.name)return!1;if("has"===Ee.name&&1===Ee.args.length)return!1;if("properties"===Ee.name||"geometry-type"===Ee.name||"id"===Ee.name)return!1;if(/^filter-/.test(Ee.name))return!1}var ze=!0;return Ee.eachChild((function(Ee){ze&&!fe(Ee)&&(ze=!1)})),ze}function ye(Ee){if(Ee instanceof ce&&"feature-state"===Ee.name)return!1;var ze=!0;return Ee.eachChild((function(Ee){ze&&!ye(Ee)&&(ze=!1)})),ze}function de(Ee,ze){if(Ee instanceof ce&&ze.indexOf(Ee.name)>=0)return!1;var Be=!0;return Ee.eachChild((function(Ee){Be&&!de(Ee,ze)&&(Be=!1)})),Be}he.parse=function(Ee,ze){if(2!==Ee.length)return ze.error("Expected one argument.");var Be=Ee[1];if("object"!=typeof Be||Array.isArray(Be))return ze.error("Collator options argument must be an object.");var Ue=ze.parse(void 0!==Be["case-sensitive"]&&Be["case-sensitive"],1,Kn);if(!Ue)return null;var We=ze.parse(void 0!==Be["diacritic-sensitive"]&&Be["diacritic-sensitive"],1,Kn);if(!We)return null;var $e=null;return Be.locale&&!($e=ze.parse(Be.locale,1,Hn))?null:new he(Ue,We,$e)},he.prototype.evaluate=function(Ee){return new Yt(this.caseSensitive.evaluate(Ee),this.diacriticSensitive.evaluate(Ee),this.locale?this.locale.evaluate(Ee):null)},he.prototype.eachChild=function(Ee){Ee(this.caseSensitive),Ee(this.diacriticSensitive),this.locale&&Ee(this.locale)},he.prototype.possibleOutputs=function(){return[void 0]},he.prototype.serialize=function(){var Ee={};return Ee["case-sensitive"]=this.caseSensitive.serialize(),Ee["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(Ee.locale=this.locale.serialize()),["collator",Ee]};var me=function(Ee,ze){this.type=ze.type,this.name=Ee,this.boundExpression=ze};me.parse=function(Ee,ze){if(2!==Ee.length||"string"!=typeof Ee[1])return ze.error("'var' expression requires exactly one string literal argument.");var Be=Ee[1];return ze.scope.has(Be)?new me(Be,ze.scope.get(Be)):ze.error('Unknown variable "'+Be+'". Make sure "'+Be+'" has been bound in an enclosing "let" expression before using it.',1)},me.prototype.evaluate=function(Ee){return this.boundExpression.evaluate(Ee)},me.prototype.eachChild=function(){},me.prototype.possibleOutputs=function(){return[void 0]},me.prototype.serialize=function(){return["var",this.name]};var ve=function(Ee,ze,Be,Ue,We){void 0===ze&&(ze=[]),void 0===Ue&&(Ue=new Vt),void 0===We&&(We=[]),this.registry=Ee,this.path=ze,this.key=ze.map((function(Ee){return"["+Ee+"]"})).join(""),this.scope=Ue,this.errors=We,this.expectedType=Be};function ge(Ee,ze){for(var Be,Ue,We=Ee.length-1,$e=0,Qe=We,et=0;$e<=Qe;)if(Be=Ee[et=Math.floor(($e+Qe)/2)],Ue=Ee[et+1],Be<=ze){if(et===We||ze<Ue)return et;$e=et+1}else{if(!(Be>ze))throw new ne("Input is not a number.");Qe=et-1}return 0}ve.prototype.parse=function(Ee,ze,Be,Ue,We){return void 0===We&&(We={}),ze?this.concat(ze,Be,Ue)._parse(Ee,We):this._parse(Ee,We)},ve.prototype._parse=function(Ee,ze){function r(Ee,ze,Be){return"assert"===Be?new ae(ze,[Ee]):"coerce"===Be?new ue(ze,[Ee]):Ee}if(null!==Ee&&"string"!=typeof Ee&&"boolean"!=typeof Ee&&"number"!=typeof Ee||(Ee=["literal",Ee]),Array.isArray(Ee)){if(0===Ee.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Be=Ee[0];if("string"!=typeof Be)return this.error("Expression name must be a string, but found "+typeof Be+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ue=this.registry[Be];if(Ue){var We=Ue.parse(Ee,this);if(!We)return null;if(this.expectedType){var $e=this.expectedType,Qe=We.type;if("string"!==$e.kind&&"number"!==$e.kind&&"boolean"!==$e.kind&&"object"!==$e.kind&&"array"!==$e.kind||"value"!==Qe.kind)if("color"!==$e.kind&&"formatted"!==$e.kind||"value"!==Qe.kind&&"string"!==Qe.kind){if(this.checkSubtype($e,Qe))return null}else We=r(We,$e,ze.typeAnnotation||"coerce");else We=r(We,$e,ze.typeAnnotation||"assert")}if(!(We instanceof re)&&function t(Ee){if(Ee instanceof me)return t(Ee.boundExpression);if(Ee instanceof ce&&"error"===Ee.name)return!1;if(Ee instanceof he)return!1;var ze=Ee instanceof ue||Ee instanceof ae,Be=!0;return Ee.eachChild((function(Ee){Be=ze?Be&&t(Ee):Be&&Ee instanceof re})),!!Be&&fe(Ee)&&de(Ee,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(We)){var et=new pe;try{We=new re(We.type,We.evaluate(et))}catch(Ee){return this.error(Ee.message),null}}return We}return this.error('Unknown expression "'+Be+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===Ee?this.error("'undefined' value invalid. Use null instead."):"object"==typeof Ee?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof Ee+" instead.")},ve.prototype.concat=function(Ee,ze,Be){var Ue="number"==typeof Ee?this.path.concat(Ee):this.path,We=Be?this.scope.concat(Be):this.scope;return new ve(this.registry,Ue,ze||null,We,this.errors)},ve.prototype.error=function(Ee){for(var ze=[],Be=arguments.length-1;Be-- >0;)ze[Be]=arguments[Be+1];var Ue=""+this.key+ze.map((function(Ee){return"["+Ee+"]"})).join("");this.errors.push(new Pn(Ue,Ee))},ve.prototype.checkSubtype=function(Ee,ze){var Be=Gt(Ee,ze);return Be&&this.error(Be),Be};var xe=function(Ee,ze,Be){this.type=Ee,this.input=ze,this.labels=[],this.outputs=[];for(var Ue=0,We=Be;Ue<We.length;Ue+=1){var $e=We[Ue],Qe=$e[0],et=$e[1];this.labels.push(Qe),this.outputs.push(et)}};function be(Ee,ze,Be){return Ee*(1-Be)+ze*Be}xe.parse=function(Ee,ze){if(Ee.length-1<4)return ze.error("Expected at least 4 arguments, but found only "+(Ee.length-1)+".");if((Ee.length-1)%2!=0)return ze.error("Expected an even number of arguments.");var Be=ze.parse(Ee[1],1,Bn);if(!Be)return null;var Ue=[],We=null;ze.expectedType&&"value"!==ze.expectedType.kind&&(We=ze.expectedType);for(var $e=1;$e<Ee.length;$e+=2){var Qe=1===$e?-1/0:Ee[$e],et=Ee[$e+1],tt=$e,rt=$e+1;if("number"!=typeof Qe)return ze.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',tt);if(Ue.length&&Ue[Ue.length-1][0]>=Qe)return ze.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',tt);var nt=ze.parse(et,rt,We);if(!nt)return null;We=We||nt.type,Ue.push([Qe,nt])}return new xe(We,Be,Ue)},xe.prototype.evaluate=function(Ee){var ze=this.labels,Be=this.outputs;if(1===ze.length)return Be[0].evaluate(Ee);var Ue=this.input.evaluate(Ee);if(Ue<=ze[0])return Be[0].evaluate(Ee);var We=ze.length;return Ue>=ze[We-1]?Be[We-1].evaluate(Ee):Be[ge(ze,Ue)].evaluate(Ee)},xe.prototype.eachChild=function(Ee){Ee(this.input);for(var ze=0,Be=this.outputs;ze<Be.length;ze+=1)Ee(Be[ze])},xe.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.outputs.map((function(Ee){return Ee.possibleOutputs()})))},xe.prototype.serialize=function(){for(var Ee=["step",this.input.serialize()],ze=0;ze<this.labels.length;ze++)ze>0&&Ee.push(this.labels[ze]),Ee.push(this.outputs[ze].serialize());return Ee};var ei=Object.freeze({number:be,color:function(Ee,ze,Be){return new Ht(be(Ee.r,ze.r,Be),be(Ee.g,ze.g,Be),be(Ee.b,ze.b,Be),be(Ee.a,ze.a,Be))},array:function(Ee,ze,Be){return Ee.map((function(Ee,Ue){return be(Ee,ze[Ue],Be)}))}}),ti=6/29,ri=3*ti*ti,ni=Math.PI/180,ai=180/Math.PI;function Me(Ee){return Ee>.008856451679035631?Math.pow(Ee,1/3):Ee/ri+4/29}function Pe(Ee){return Ee>ti?Ee*Ee*Ee:ri*(Ee-4/29)}function Te(Ee){return 255*(Ee<=.0031308?12.92*Ee:1.055*Math.pow(Ee,1/2.4)-.055)}function Ve(Ee){return(Ee/=255)<=.04045?Ee/12.92:Math.pow((Ee+.055)/1.055,2.4)}function Fe(Ee){var ze=Ve(Ee.r),Be=Ve(Ee.g),Ue=Ve(Ee.b),We=Me((.4124564*ze+.3575761*Be+.1804375*Ue)/.95047),$e=Me((.2126729*ze+.7151522*Be+.072175*Ue)/1);return{l:116*$e-16,a:500*(We-$e),b:200*($e-Me((.0193339*ze+.119192*Be+.9503041*Ue)/1.08883)),alpha:Ee.a}}function Oe(Ee){var ze=(Ee.l+16)/116,Be=isNaN(Ee.a)?ze:ze+Ee.a/500,Ue=isNaN(Ee.b)?ze:ze-Ee.b/200;return ze=1*Pe(ze),Be=.95047*Pe(Be),Ue=1.08883*Pe(Ue),new Ht(Te(3.2404542*Be-1.5371385*ze-.4985314*Ue),Te(-.969266*Be+1.8760108*ze+.041556*Ue),Te(.0556434*Be-.2040259*ze+1.0572252*Ue),Ee.alpha)}function Le(Ee,ze,Be){var Ue=ze-Ee;return Ee+Be*(Ue>180||Ue<-180?Ue-360*Math.round(Ue/360):Ue)}var ii={forward:Fe,reverse:Oe,interpolate:function(Ee,ze,Be){return{l:be(Ee.l,ze.l,Be),a:be(Ee.a,ze.a,Be),b:be(Ee.b,ze.b,Be),alpha:be(Ee.alpha,ze.alpha,Be)}}},oi={forward:function(Ee){var ze=Fe(Ee),Be=ze.l,Ue=ze.a,We=ze.b,$e=Math.atan2(We,Ue)*ai;return{h:$e<0?$e+360:$e,c:Math.sqrt(Ue*Ue+We*We),l:Be,alpha:Ee.a}},reverse:function(Ee){var ze=Ee.h*ni,Be=Ee.c;return Oe({l:Ee.l,a:Math.cos(ze)*Be,b:Math.sin(ze)*Be,alpha:Ee.alpha})},interpolate:function(Ee,ze,Be){return{h:Le(Ee.h,ze.h,Be),c:be(Ee.c,ze.c,Be),l:be(Ee.l,ze.l,Be),alpha:be(Ee.alpha,ze.alpha,Be)}}},si=Object.freeze({lab:ii,hcl:oi}),je=function(Ee,ze,Be,Ue,We){this.type=Ee,this.operator=ze,this.interpolation=Be,this.input=Ue,this.labels=[],this.outputs=[];for(var $e=0,Qe=We;$e<Qe.length;$e+=1){var et=Qe[$e],tt=et[0],rt=et[1];this.labels.push(tt),this.outputs.push(rt)}};function qe(Ee,ze,Be,Ue){var We=Ue-Be,$e=Ee-Be;return 0===We?0:1===ze?$e/We:(Math.pow(ze,$e)-1)/(Math.pow(ze,We)-1)}je.interpolationFactor=function(Ee,Be,Ue,We){var $e=0;if("exponential"===Ee.name)$e=qe(Be,Ee.base,Ue,We);else if("linear"===Ee.name)$e=qe(Be,1,Ue,We);else if("cubic-bezier"===Ee.name){var Qe=Ee.controlPoints;$e=new ze(Qe[0],Qe[1],Qe[2],Qe[3]).solve(qe(Be,1,Ue,We))}return $e},je.parse=function(Ee,ze){var Be=Ee[0],Ue=Ee[1],We=Ee[2],$e=Ee.slice(3);if(!Array.isArray(Ue)||0===Ue.length)return ze.error("Expected an interpolation type expression.",1);if("linear"===Ue[0])Ue={name:"linear"};else if("exponential"===Ue[0]){var Qe=Ue[1];if("number"!=typeof Qe)return ze.error("Exponential interpolation requires a numeric base.",1,1);Ue={name:"exponential",base:Qe}}else{if("cubic-bezier"!==Ue[0])return ze.error("Unknown interpolation type "+String(Ue[0]),1,0);var et=Ue.slice(1);if(4!==et.length||et.some((function(Ee){return"number"!=typeof Ee||Ee<0||Ee>1})))return ze.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ue={name:"cubic-bezier",controlPoints:et}}if(Ee.length-1<4)return ze.error("Expected at least 4 arguments, but found only "+(Ee.length-1)+".");if((Ee.length-1)%2!=0)return ze.error("Expected an even number of arguments.");if(!(We=ze.parse(We,2,Bn)))return null;var tt=[],rt=null;"interpolate-hcl"===Be||"interpolate-lab"===Be?rt=Jn:ze.expectedType&&"value"!==ze.expectedType.kind&&(rt=ze.expectedType);for(var nt=0;nt<$e.length;nt+=2){var at=$e[nt],it=$e[nt+1],ct=nt+3,ft=nt+4;if("number"!=typeof at)return ze.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ct);if(tt.length&&tt[tt.length-1][0]>=at)return ze.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ct);var xt=ze.parse(it,ft,rt);if(!xt)return null;rt=rt||xt.type,tt.push([at,xt])}return"number"===rt.kind||"color"===rt.kind||"array"===rt.kind&&"number"===rt.itemType.kind&&"number"==typeof rt.N?new je(rt,Be,Ue,We,tt):ze.error("Type "+Zt(rt)+" is not interpolatable.")},je.prototype.evaluate=function(Ee){var ze=this.labels,Be=this.outputs;if(1===ze.length)return Be[0].evaluate(Ee);var Ue=this.input.evaluate(Ee);if(Ue<=ze[0])return Be[0].evaluate(Ee);var We=ze.length;if(Ue>=ze[We-1])return Be[We-1].evaluate(Ee);var $e=ge(ze,Ue),Qe=ze[$e],et=ze[$e+1],tt=je.interpolationFactor(this.interpolation,Ue,Qe,et),rt=Be[$e].evaluate(Ee),nt=Be[$e+1].evaluate(Ee);return"interpolate"===this.operator?ei[this.type.kind.toLowerCase()](rt,nt,tt):"interpolate-hcl"===this.operator?oi.reverse(oi.interpolate(oi.forward(rt),oi.forward(nt),tt)):ii.reverse(ii.interpolate(ii.forward(rt),ii.forward(nt),tt))},je.prototype.eachChild=function(Ee){Ee(this.input);for(var ze=0,Be=this.outputs;ze<Be.length;ze+=1)Ee(Be[ze])},je.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.outputs.map((function(Ee){return Ee.possibleOutputs()})))},je.prototype.serialize=function(){var Ee;Ee="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var ze=[this.operator,Ee,this.input.serialize()],Be=0;Be<this.labels.length;Be++)ze.push(this.labels[Be],this.outputs[Be].serialize());return ze};var Ne=function(Ee,ze){this.type=Ee,this.args=ze};Ne.parse=function(Ee,ze){if(Ee.length<2)return ze.error("Expectected at least one argument.");var Be=null,Ue=ze.expectedType;Ue&&"value"!==Ue.kind&&(Be=Ue);for(var We=[],$e=0,Qe=Ee.slice(1);$e<Qe.length;$e+=1){var et=Qe[$e],tt=ze.parse(et,1+We.length,Be,void 0,{typeAnnotation:"omit"});if(!tt)return null;Be=Be||tt.type,We.push(tt)}var rt=Ue&&We.some((function(Ee){return Gt(Ue,Ee.type)}));return new Ne(rt?Sa:Be,We)},Ne.prototype.evaluate=function(Ee){for(var ze=null,Be=0,Ue=this.args;Be<Ue.length&&null===(ze=Ue[Be].evaluate(Ee));Be+=1);return ze},Ne.prototype.eachChild=function(Ee){this.args.forEach(Ee)},Ne.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.args.map((function(Ee){return Ee.possibleOutputs()})))},Ne.prototype.serialize=function(){var Ee=["coalesce"];return this.eachChild((function(ze){Ee.push(ze.serialize())})),Ee};var Ke=function(Ee,ze){this.type=ze.type,this.bindings=[].concat(Ee),this.result=ze};Ke.prototype.evaluate=function(Ee){return this.result.evaluate(Ee)},Ke.prototype.eachChild=function(Ee){for(var ze=0,Be=this.bindings;ze<Be.length;ze+=1)Ee(Be[ze][1]);Ee(this.result)},Ke.parse=function(Ee,ze){if(Ee.length<4)return ze.error("Expected at least 3 arguments, but found "+(Ee.length-1)+" instead.");for(var Be=[],Ue=1;Ue<Ee.length-1;Ue+=2){var We=Ee[Ue];if("string"!=typeof We)return ze.error("Expected string, but found "+typeof We+" instead.",Ue);if(/[^a-zA-Z0-9_]/.test(We))return ze.error("Variable names must contain only alphanumeric characters or '_'.",Ue);var $e=ze.parse(Ee[Ue+1],Ue+1);if(!$e)return null;Be.push([We,$e])}var Qe=ze.parse(Ee[Ee.length-1],Ee.length-1,ze.expectedType,Be);return Qe?new Ke(Be,Qe):null},Ke.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Ke.prototype.serialize=function(){for(var Ee=["let"],ze=0,Be=this.bindings;ze<Be.length;ze+=1){var Ue=Be[ze],We=Ue[0],$e=Ue[1];Ee.push(We,$e.serialize())}return Ee.push(this.result.serialize()),Ee};var Ze=function(Ee,ze,Be){this.type=Ee,this.index=ze,this.input=Be};Ze.parse=function(Ee,ze){if(3!==Ee.length)return ze.error("Expected 2 arguments, but found "+(Ee.length-1)+" instead.");var Be=ze.parse(Ee[1],1,Bn),Ue=ze.parse(Ee[2],2,Kt(ze.expectedType||Sa));if(!Be||!Ue)return null;var We=Ue.type;return new Ze(We.itemType,Be,Ue)},Ze.prototype.evaluate=function(Ee){var ze=this.index.evaluate(Ee),Be=this.input.evaluate(Ee);if(ze<0)throw new ne("Array index out of bounds: "+ze+" < 0.");if(ze>=Be.length)throw new ne("Array index out of bounds: "+ze+" > "+(Be.length-1)+".");if(ze!==Math.floor(ze))throw new ne("Array index must be an integer, but found "+ze+" instead.");return Be[ze]},Ze.prototype.eachChild=function(Ee){Ee(this.index),Ee(this.input)},Ze.prototype.possibleOutputs=function(){return[void 0]},Ze.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Xe=function(Ee,ze,Be,Ue,We,$e){this.inputType=Ee,this.type=ze,this.input=Be,this.cases=Ue,this.outputs=We,this.otherwise=$e};Xe.parse=function(Ee,ze){if(Ee.length<5)return ze.error("Expected at least 4 arguments, but found only "+(Ee.length-1)+".");if(Ee.length%2!=1)return ze.error("Expected an even number of arguments.");var Be,Ue;ze.expectedType&&"value"!==ze.expectedType.kind&&(Ue=ze.expectedType);for(var We={},$e=[],Qe=2;Qe<Ee.length-1;Qe+=2){var et=Ee[Qe],tt=Ee[Qe+1];Array.isArray(et)||(et=[et]);var rt=ze.concat(Qe);if(0===et.length)return rt.error("Expected at least one branch label.");for(var nt=0,at=et;nt<at.length;nt+=1){var it=at[nt];if("number"!=typeof it&&"string"!=typeof it)return rt.error("Branch labels must be numbers or strings.");if("number"==typeof it&&Math.abs(it)>Number.MAX_SAFE_INTEGER)return rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof it&&Math.floor(it)!==it)return rt.error("Numeric branch labels must be integer values.");if(Be){if(rt.checkSubtype(Be,te(it)))return null}else Be=te(it);if(void 0!==We[String(it)])return rt.error("Branch labels must be unique.");We[String(it)]=$e.length}var ct=ze.parse(tt,Qe,Ue);if(!ct)return null;Ue=Ue||ct.type,$e.push(ct)}var ft=ze.parse(Ee[1],1,Sa);if(!ft)return null;var xt=ze.parse(Ee[Ee.length-1],Ee.length-1,Ue);return xt?"value"!==ft.type.kind&&ze.concat(1).checkSubtype(Be,ft.type)?null:new Xe(Be,Ue,ft,We,$e,xt):null},Xe.prototype.evaluate=function(Ee){var ze=this.input.evaluate(Ee);return(te(ze)===this.inputType&&this.outputs[this.cases[ze]]||this.otherwise).evaluate(Ee)},Xe.prototype.eachChild=function(Ee){Ee(this.input),this.outputs.forEach(Ee),Ee(this.otherwise)},Xe.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.outputs.map((function(Ee){return Ee.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Xe.prototype.serialize=function(){for(var Ee=this,ze=["match",this.input.serialize()],Be=[],Ue={},We=0,$e=Object.keys(this.cases).sort();We<$e.length;We+=1){var Qe=$e[We];void 0===(nt=Ue[this.cases[Qe]])?(Ue[this.cases[Qe]]=Be.length,Be.push([this.cases[Qe],[Qe]])):Be[nt][1].push(Qe)}for(var s=function(ze){return"number"===Ee.inputType.kind?Number(ze):ze},et=0,tt=Be;et<tt.length;et+=1){var rt=tt[et],nt=rt[0],at=rt[1];1===at.length?ze.push(s(at[0])):ze.push(at.map(s)),ze.push(this.outputs[outputIndex$1].serialize())}return ze.push(this.otherwise.serialize()),ze};var Ge=function(Ee,ze,Be){this.type=Ee,this.branches=ze,this.otherwise=Be};function Je(Ee,ze){return"=="===Ee||"!="===Ee?"boolean"===ze.kind||"string"===ze.kind||"number"===ze.kind||"null"===ze.kind||"value"===ze.kind:"string"===ze.kind||"number"===ze.kind||"value"===ze.kind}function He(Ee,ze,Be,Ue){return 0===Ue.compare(ze,Be)}function Ye(Ee,ze,Be){var Ue="=="!==Ee&&"!="!==Ee;return function(){function i(Ee,ze,Be){this.type=Kn,this.lhs=Ee,this.rhs=ze,this.collator=Be,this.hasUntypedArgument="value"===Ee.type.kind||"value"===ze.type.kind}return i.parse=function(Ee,ze){if(3!==Ee.length&&4!==Ee.length)return ze.error("Expected two or three arguments.");var Be=Ee[0],We=ze.parse(Ee[1],1,Sa);if(!We)return null;if(!Je(Be,We.type))return ze.concat(1).error('"'+Be+"\" comparisons are not supported for type '"+Zt(We.type)+"'.");var $e=ze.parse(Ee[2],2,Sa);if(!$e)return null;if(!Je(Be,$e.type))return ze.concat(2).error('"'+Be+"\" comparisons are not supported for type '"+Zt($e.type)+"'.");if(We.type.kind!==$e.type.kind&&"value"!==We.type.kind&&"value"!==$e.type.kind)return ze.error("Cannot compare types '"+Zt(We.type)+"' and '"+Zt($e.type)+"'.");Ue&&("value"===We.type.kind&&"value"!==$e.type.kind?We=new ae($e.type,[We]):"value"!==We.type.kind&&"value"===$e.type.kind&&($e=new ae(We.type,[$e])));var Qe=null;if(4===Ee.length){if("string"!==We.type.kind&&"string"!==$e.type.kind&&"value"!==We.type.kind&&"value"!==$e.type.kind)return ze.error("Cannot use collator to compare non-string types.");if(!(Qe=ze.parse(Ee[3],3,La)))return null}return new i(We,$e,Qe)},i.prototype.evaluate=function(We){var $e=this.lhs.evaluate(We),Qe=this.rhs.evaluate(We);if(Ue&&this.hasUntypedArgument){var et=te($e),tt=te(Qe);if(et.kind!==tt.kind||"string"!==et.kind&&"number"!==et.kind)throw new ne('Expected arguments for "'+Ee+'" to be (string, string) or (number, number), but found ('+et.kind+", "+tt.kind+") instead.")}if(this.collator&&!Ue&&this.hasUntypedArgument){var rt=te($e),nt=te(Qe);if("string"!==rt.kind||"string"!==nt.kind)return ze(We,$e,Qe)}return this.collator?Be(We,$e,Qe,this.collator.evaluate(We)):ze(We,$e,Qe)},i.prototype.eachChild=function(Ee){Ee(this.lhs),Ee(this.rhs),this.collator&&Ee(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var ze=[Ee];return this.eachChild((function(Ee){ze.push(Ee.serialize())})),ze},i}()}Ge.parse=function(Ee,ze){if(Ee.length<4)return ze.error("Expected at least 3 arguments, but found only "+(Ee.length-1)+".");if(Ee.length%2!=0)return ze.error("Expected an odd number of arguments.");var Be;ze.expectedType&&"value"!==ze.expectedType.kind&&(Be=ze.expectedType);for(var Ue=[],We=1;We<Ee.length-1;We+=2){var $e=ze.parse(Ee[We],We,Kn);if(!$e)return null;var Qe=ze.parse(Ee[We+1],We+1,Be);if(!Qe)return null;Ue.push([$e,Qe]),Be=Be||Qe.type}var et=ze.parse(Ee[Ee.length-1],Ee.length-1,Be);return et?new Ge(Be,Ue,et):null},Ge.prototype.evaluate=function(Ee){for(var ze=0,Be=this.branches;ze<Be.length;ze+=1){var Ue=Be[ze],We=Ue[0],$e=Ue[1];if(We.evaluate(Ee))return $e.evaluate(Ee)}return this.otherwise.evaluate(Ee)},Ge.prototype.eachChild=function(Ee){for(var ze=0,Be=this.branches;ze<Be.length;ze+=1){var Ue=Be[ze],We=Ue[0],$e=Ue[1];Ee(We),Ee($e)}Ee(this.otherwise)},Ge.prototype.possibleOutputs=function(){var Ee;return(Ee=[]).concat.apply(Ee,this.branches.map((function(Ee){return Ee[0],Ee[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Ge.prototype.serialize=function(){var Ee=["case"];return this.eachChild((function(ze){Ee.push(ze.serialize())})),Ee};var li=Ye("==",(function(Ee,ze,Be){return ze===Be}),He),ci=Ye("!=",(function(Ee,ze,Be){return ze!==Be}),(function(Ee,ze,Be,Ue){return!He(0,ze,Be,Ue)})),hi=Ye("<",(function(Ee,ze,Be){return ze<Be}),(function(Ee,ze,Be,Ue){return Ue.compare(ze,Be)<0})),Ci=Ye(">",(function(Ee,ze,Be){return ze>Be}),(function(Ee,ze,Be,Ue){return Ue.compare(ze,Be)>0})),Pi=Ye("<=",(function(Ee,ze,Be){return ze<=Be}),(function(Ee,ze,Be,Ue){return Ue.compare(ze,Be)<=0})),zi=Ye(">=",(function(Ee,ze,Be){return ze>=Be}),(function(Ee,ze,Be,Ue){return Ue.compare(ze,Be)>=0})),nr=function(Ee,ze,Be,Ue,We){this.type=Hn,this.number=Ee,this.locale=ze,this.currency=Be,this.minFractionDigits=Ue,this.maxFractionDigits=We};nr.parse=function(Ee,ze){if(3!==Ee.length)return ze.error("Expected two arguments.");var Be=ze.parse(Ee[1],1,Bn);if(!Be)return null;var Ue=Ee[2];if("object"!=typeof Ue||Array.isArray(Ue))return ze.error("NumberFormat options argument must be an object.");var We=null;if(Ue.locale&&!(We=ze.parse(Ue.locale,1,Hn)))return null;var $e=null;if(Ue.currency&&!($e=ze.parse(Ue.currency,1,Hn)))return null;var Qe=null;if(Ue["min-fraction-digits"]&&!(Qe=ze.parse(Ue["min-fraction-digits"],1,Bn)))return null;var et=null;return Ue["max-fraction-digits"]&&!(et=ze.parse(Ue["max-fraction-digits"],1,Bn))?null:new nr(Be,We,$e,Qe,et)},nr.prototype.evaluate=function(Ee){return new Intl.NumberFormat(this.locale?this.locale.evaluate(Ee):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(Ee):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(Ee):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(Ee):void 0}).format(this.number.evaluate(Ee))},nr.prototype.eachChild=function(Ee){Ee(this.number),this.locale&&Ee(this.locale),this.currency&&Ee(this.currency),this.minFractionDigits&&Ee(this.minFractionDigits),this.maxFractionDigits&&Ee(this.maxFractionDigits)},nr.prototype.possibleOutputs=function(){return[void 0]},nr.prototype.serialize=function(){var Ee={};return this.locale&&(Ee.locale=this.locale.serialize()),this.currency&&(Ee.currency=this.currency.serialize()),this.minFractionDigits&&(Ee["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(Ee["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),Ee]};var ir=function(Ee){this.type=Bn,this.input=Ee};ir.parse=function(Ee,ze){if(2!==Ee.length)return ze.error("Expected 1 argument, but found "+(Ee.length-1)+" instead.");var Be=ze.parse(Ee[1],1);return Be?"array"!==Be.type.kind&&"string"!==Be.type.kind&&"value"!==Be.type.kind?ze.error("Expected argument of type string or array, but found "+Zt(Be.type)+" instead."):new ir(Be):null},ir.prototype.evaluate=function(Ee){var ze=this.input.evaluate(Ee);if("string"==typeof ze)return ze.length;if(Array.isArray(ze))return ze.length;throw new ne("Expected value to be of type string or array, but found "+Zt(te(ze))+" instead.")},ir.prototype.eachChild=function(Ee){Ee(this.input)},ir.prototype.possibleOutputs=function(){return[void 0]},ir.prototype.serialize=function(){var Ee=["length"];return this.eachChild((function(ze){Ee.push(ze.serialize())})),Ee};var ji={"==":li,"!=":ci,">":Ci,"<":hi,">=":zi,"<=":Pi,array:ae,at:Ze,boolean:ae,case:Ge,coalesce:Ne,collator:he,format:oe,interpolate:je,"interpolate-hcl":je,"interpolate-lab":je,length:ir,let:Ke,literal:re,match:Xe,number:ae,"number-format":nr,object:ae,step:xe,string:ae,"to-boolean":ue,"to-color":ue,"to-number":ue,"to-string":ue,var:me};function or(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3];Be=Be.evaluate(Ee),Ue=Ue.evaluate(Ee),We=We.evaluate(Ee);var Qe=$e?$e.evaluate(Ee):1,et=Qt(Be,Ue,We,Qe);if(et)throw new ne(et);return new Ht(Be/255*Qe,Ue/255*Qe,We/255*Qe,Qe)}function sr(Ee,ze){return Ee in ze}function ur(Ee,ze){var Be=ze[Ee];return void 0===Be?null:Be}function lr(Ee){return{type:Ee}}function pr(Ee){return{result:"success",value:Ee}}function cr(Ee){return{result:"error",value:Ee}}function hr(Ee){return"data-driven"===Ee["property-type"]||"cross-faded-data-driven"===Ee["property-type"]}function fr(Ee){return!!Ee.expression&&Ee.expression.parameters.indexOf("zoom")>-1}function yr(Ee){return!!Ee.expression&&Ee.expression.interpolated}function dr(Ee){return Ee instanceof Number?"number":Ee instanceof String?"string":Ee instanceof Boolean?"boolean":Array.isArray(Ee)?"array":null===Ee?"null":typeof Ee}function mr(Ee){return"object"==typeof Ee&&null!==Ee&&!Array.isArray(Ee)}function vr(Ee){return Ee}function gr(Ee,ze,Be){return void 0!==Ee?Ee:void 0!==ze?ze:void 0!==Be?Be:void 0}function xr(Ee,ze,Be,Ue,We){return gr(typeof Be===We?Ue[Be]:void 0,Ee.default,ze.default)}function br(Ee,ze,Be){if("number"!==dr(Be))return gr(Ee.default,ze.default);var Ue=Ee.stops.length;if(1===Ue)return Ee.stops[0][1];if(Be<=Ee.stops[0][0])return Ee.stops[0][1];if(Be>=Ee.stops[Ue-1][0])return Ee.stops[Ue-1][1];var We=ge(Ee.stops.map((function(Ee){return Ee[0]})),Be);return Ee.stops[We][1]}function _r(Ee,ze,Be){var Ue=void 0!==Ee.base?Ee.base:1;if("number"!==dr(Be))return gr(Ee.default,ze.default);var We=Ee.stops.length;if(1===We)return Ee.stops[0][1];if(Be<=Ee.stops[0][0])return Ee.stops[0][1];if(Be>=Ee.stops[We-1][0])return Ee.stops[We-1][1];var $e=ge(Ee.stops.map((function(Ee){return Ee[0]})),Be),Qe=function(Ee,ze,Be,Ue){var We=Ue-Be,$e=Ee-Be;return 0===We?0:1===ze?$e/We:(Math.pow(ze,$e)-1)/(Math.pow(ze,We)-1)}(Be,Ue,Ee.stops[$e][0],Ee.stops[$e+1][0]),et=Ee.stops[$e][1],tt=Ee.stops[$e+1][1],rt=ei[ze.type]||vr;if(Ee.colorSpace&&"rgb"!==Ee.colorSpace){var nt=si[Ee.colorSpace];rt=function(Ee,ze){return nt.reverse(nt.interpolate(nt.forward(Ee),nt.forward(ze),Qe))}}return"function"==typeof et.evaluate?{evaluate:function(){for(var Ee=[],ze=arguments.length;ze--;)Ee[ze]=arguments[ze];var Be=et.evaluate.apply(void 0,Ee),Ue=tt.evaluate.apply(void 0,Ee);if(void 0!==Be&&void 0!==Ue)return rt(Be,Ue,Qe)}}:rt(et,tt,Qe)}function wr(Ee,ze,Be){return"color"===ze.type?Be=Ht.parse(Be):"formatted"===ze.type?Be=Wt.fromString(Be.toString()):dr(Be)===ze.type||"enum"===ze.type&&ze.values[Be]||(Be=void 0),gr(Be,Ee.default,ze.default)}ce.register(ji,{error:[{kind:"error"},[Hn],function(Ee,ze){var Be=ze[0];throw new ne(Be.evaluate(Ee))}],typeof:[Hn,[Sa],function(Ee,ze){return Zt(te(ze[0].evaluate(Ee)))}],"to-rgba":[Kt(Bn,4),[Jn],function(Ee,ze){return ze[0].evaluate(Ee).toArray()}],rgb:[Jn,[Bn,Bn,Bn],or],rgba:[Jn,[Bn,Bn,Bn,Bn],or],has:{type:Kn,overloads:[[[Hn],function(Ee,ze){return sr(ze[0].evaluate(Ee),Ee.properties())}],[[Hn,Ma],function(Ee,ze){var Be=ze[0],Ue=ze[1];return sr(Be.evaluate(Ee),Ue.evaluate(Ee))}]]},get:{type:Sa,overloads:[[[Hn],function(Ee,ze){return ur(ze[0].evaluate(Ee),Ee.properties())}],[[Hn,Ma],function(Ee,ze){var Be=ze[0],Ue=ze[1];return ur(Be.evaluate(Ee),Ue.evaluate(Ee))}]]},"feature-state":[Sa,[Hn],function(Ee,ze){return ur(ze[0].evaluate(Ee),Ee.featureState||{})}],properties:[Ma,[],function(Ee){return Ee.properties()}],"geometry-type":[Hn,[],function(Ee){return Ee.geometryType()}],id:[Sa,[],function(Ee){return Ee.id()}],zoom:[Bn,[],function(Ee){return Ee.globals.zoom}],"heatmap-density":[Bn,[],function(Ee){return Ee.globals.heatmapDensity||0}],"line-progress":[Bn,[],function(Ee){return Ee.globals.lineProgress||0}],accumulated:[Sa,[],function(Ee){return void 0===Ee.globals.accumulated?null:Ee.globals.accumulated}],"+":[Bn,lr(Bn),function(Ee,ze){for(var Be=0,Ue=0,We=ze;Ue<We.length;Ue+=1)Be+=We[Ue].evaluate(Ee);return Be}],"*":[Bn,lr(Bn),function(Ee,ze){for(var Be=1,Ue=0,We=ze;Ue<We.length;Ue+=1)Be*=We[Ue].evaluate(Ee);return Be}],"-":{type:Bn,overloads:[[[Bn,Bn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Be.evaluate(Ee)-Ue.evaluate(Ee)}],[[Bn],function(Ee,ze){return-ze[0].evaluate(Ee)}]]},"/":[Bn,[Bn,Bn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Be.evaluate(Ee)/Ue.evaluate(Ee)}],"%":[Bn,[Bn,Bn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Be.evaluate(Ee)%Ue.evaluate(Ee)}],ln2:[Bn,[],function(){return Math.LN2}],pi:[Bn,[],function(){return Math.PI}],e:[Bn,[],function(){return Math.E}],"^":[Bn,[Bn,Bn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Math.pow(Be.evaluate(Ee),Ue.evaluate(Ee))}],sqrt:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.sqrt(Be.evaluate(Ee))}],log10:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.log(Be.evaluate(Ee))/Math.LN10}],ln:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.log(Be.evaluate(Ee))}],log2:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.log(Be.evaluate(Ee))/Math.LN2}],sin:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.sin(Be.evaluate(Ee))}],cos:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.cos(Be.evaluate(Ee))}],tan:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.tan(Be.evaluate(Ee))}],asin:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.asin(Be.evaluate(Ee))}],acos:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.acos(Be.evaluate(Ee))}],atan:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.atan(Be.evaluate(Ee))}],min:[Bn,lr(Bn),function(Ee,ze){return Math.min.apply(Math,ze.map((function(ze){return ze.evaluate(Ee)})))}],max:[Bn,lr(Bn),function(Ee,ze){return Math.max.apply(Math,ze.map((function(ze){return ze.evaluate(Ee)})))}],abs:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.abs(Be.evaluate(Ee))}],round:[Bn,[Bn],function(Ee,ze){var Be=ze[0].evaluate(Ee);return Be<0?-Math.round(-Be):Math.round(Be)}],floor:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.floor(Be.evaluate(Ee))}],ceil:[Bn,[Bn],function(Ee,ze){var Be=ze[0];return Math.ceil(Be.evaluate(Ee))}],"filter-==":[Kn,[Hn,Sa],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Ee.properties()[Be.value]===Ue.value}],"filter-id-==":[Kn,[Sa],function(Ee,ze){var Be=ze[0];return Ee.id()===Be.value}],"filter-type-==":[Kn,[Hn],function(Ee,ze){var Be=ze[0];return Ee.geometryType()===Be.value}],"filter-<":[Kn,[Hn,Sa],function(Ee,ze){var Be=ze[0],Ue=ze[1],We=Ee.properties()[Be.value],$e=Ue.value;return typeof We==typeof $e&&We<$e}],"filter-id-<":[Kn,[Sa],function(Ee,ze){var Be=ze[0],Ue=Ee.id(),We=Be.value;return typeof Ue==typeof We&&Ue<We}],"filter->":[Kn,[Hn,Sa],function(Ee,ze){var Be=ze[0],Ue=ze[1],We=Ee.properties()[Be.value],$e=Ue.value;return typeof We==typeof $e&&We>$e}],"filter-id->":[Kn,[Sa],function(Ee,ze){var Be=ze[0],Ue=Ee.id(),We=Be.value;return typeof Ue==typeof We&&Ue>We}],"filter-<=":[Kn,[Hn,Sa],function(Ee,ze){var Be=ze[0],Ue=ze[1],We=Ee.properties()[Be.value],$e=Ue.value;return typeof We==typeof $e&&We<=$e}],"filter-id-<=":[Kn,[Sa],function(Ee,ze){var Be=ze[0],Ue=Ee.id(),We=Be.value;return typeof Ue==typeof We&&Ue<=We}],"filter->=":[Kn,[Hn,Sa],function(Ee,ze){var Be=ze[0],Ue=ze[1],We=Ee.properties()[Be.value],$e=Ue.value;return typeof We==typeof $e&&We>=$e}],"filter-id->=":[Kn,[Sa],function(Ee,ze){var Be=ze[0],Ue=Ee.id(),We=Be.value;return typeof Ue==typeof We&&Ue>=We}],"filter-has":[Kn,[Sa],function(Ee,ze){return ze[0].value in Ee.properties()}],"filter-has-id":[Kn,[],function(Ee){return null!==Ee.id()}],"filter-type-in":[Kn,[Kt(Hn)],function(Ee,ze){return ze[0].value.indexOf(Ee.geometryType())>=0}],"filter-id-in":[Kn,[Kt(Sa)],function(Ee,ze){return ze[0].value.indexOf(Ee.id())>=0}],"filter-in-small":[Kn,[Hn,Kt(Sa)],function(Ee,ze){var Be=ze[0];return ze[1].value.indexOf(Ee.properties()[Be.value])>=0}],"filter-in-large":[Kn,[Hn,Kt(Sa)],function(Ee,ze){var Be=ze[0],Ue=ze[1];return function(Ee,ze,Be,Ue){for(;Be<=Ue;){var We=Be+Ue>>1;if(ze[We]===Ee)return!0;ze[We]>Ee?Ue=We-1:Be=We+1}return!1}(Ee.properties()[Be.value],Ue.value,0,Ue.value.length-1)}],all:{type:Kn,overloads:[[[Kn,Kn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Be.evaluate(Ee)&&Ue.evaluate(Ee)}],[lr(Kn),function(Ee,ze){for(var Be=0,Ue=ze;Be<Ue.length;Be+=1)if(!Ue[Be].evaluate(Ee))return!1;return!0}]]},any:{type:Kn,overloads:[[[Kn,Kn],function(Ee,ze){var Be=ze[0],Ue=ze[1];return Be.evaluate(Ee)||Ue.evaluate(Ee)}],[lr(Kn),function(Ee,ze){for(var Be=0,Ue=ze;Be<Ue.length;Be+=1)if(Ue[Be].evaluate(Ee))return!0;return!1}]]},"!":[Kn,[Kn],function(Ee,ze){return!ze[0].evaluate(Ee)}],"is-supported-script":[Kn,[Hn],function(Ee,ze){var Be=ze[0],Ue=Ee.globals&&Ee.globals.isSupportedScript;return!Ue||Ue(Be.evaluate(Ee))}],upcase:[Hn,[Hn],function(Ee,ze){return ze[0].evaluate(Ee).toUpperCase()}],downcase:[Hn,[Hn],function(Ee,ze){return ze[0].evaluate(Ee).toLowerCase()}],concat:[Hn,lr(Sa),function(Ee,ze){return ze.map((function(ze){return ee(ze.evaluate(Ee))})).join("")}],"resolved-locale":[Hn,[La],function(Ee,ze){return ze[0].evaluate(Ee).resolvedLocale()}]});var Ar=function(Ee,ze){this.expression=Ee,this._warningHistory={},this._evaluator=new pe,this._defaultValue=ze?function(Ee){return"color"===Ee.type&&mr(Ee.default)?new Ht(0,0,0,0):"color"===Ee.type?Ht.parse(Ee.default)||null:void 0===Ee.default?null:Ee.default}(ze):null,this._enumValues=ze&&"enum"===ze.type?ze.values:null};function kr(Ee){return Array.isArray(Ee)&&Ee.length>0&&"string"==typeof Ee[0]&&Ee[0]in ji}function Sr(Ee,ze){var Be=new ve(ji,[],ze?function(Ee){var ze={color:Jn,string:Hn,number:Bn,enum:Hn,boolean:Kn,formatted:Ia};return"array"===Ee.type?Kt(ze[Ee.value]||Sa,Ee.length):ze[Ee.type]}(ze):void 0),Ue=Be.parse(Ee,void 0,void 0,void 0,ze&&"string"===ze.type?{typeAnnotation:"coerce"}:void 0);return Ue?pr(new Ar(Ue,ze)):cr(Be.errors)}Ar.prototype.evaluateWithoutErrorHandling=function(Ee,ze,Be,Ue){return this._evaluator.globals=Ee,this._evaluator.feature=ze,this._evaluator.featureState=Be,this._evaluator.formattedSection=Ue,this.expression.evaluate(this._evaluator)},Ar.prototype.evaluate=function(Ee,ze,Be,Ue){this._evaluator.globals=Ee,this._evaluator.feature=ze||null,this._evaluator.featureState=Be||null,this._evaluator.formattedSection=Ue||null;try{var We=this.expression.evaluate(this._evaluator);if(null==We)return this._defaultValue;if(this._enumValues&&!(We in this._enumValues))throw new ne("Expected value to be one of "+Object.keys(this._enumValues).map((function(Ee){return JSON.stringify(Ee)})).join(", ")+", but found "+JSON.stringify(We)+" instead.");return We}catch(Ee){return this._warningHistory[Ee.message]||(this._warningHistory[Ee.message]=!0,"undefined"!=typeof console&&console.warn(Ee.message)),this._defaultValue}};var zr=function(Ee,ze){this.kind=Ee,this._styleExpression=ze,this.isStateDependent="constant"!==Ee&&!ye(ze.expression)};zr.prototype.evaluateWithoutErrorHandling=function(Ee,ze,Be,Ue){return this._styleExpression.evaluateWithoutErrorHandling(Ee,ze,Be,Ue)},zr.prototype.evaluate=function(Ee,ze,Be,Ue){return this._styleExpression.evaluate(Ee,ze,Be,Ue)};var Ir=function(Ee,ze,Be,Ue){this.kind=Ee,this.zoomStops=Be,this._styleExpression=ze,this.isStateDependent="camera"!==Ee&&!ye(ze.expression),this.interpolationType=Ue};function Cr(Ee,ze){if("error"===(Ee=Sr(Ee,ze)).result)return Ee;var Be=Ee.value.expression,Ue=fe(Be);if(!Ue&&!hr(ze))return cr([new Pn("","data expressions not supported")]);var We=de(Be,["zoom"]);if(!We&&!fr(ze))return cr([new Pn("","zoom expressions not supported")]);var $e=function t(Ee){var ze=null;if(Ee instanceof Ke)ze=t(Ee.result);else if(Ee instanceof Ne)for(var Be=0,Ue=Ee.args;Be<Ue.length;Be+=1){var We=Ue[Be];if(ze=t(We))break}else(Ee instanceof xe||Ee instanceof je)&&Ee.input instanceof ce&&"zoom"===Ee.input.name&&(ze=Ee);return ze instanceof Pn||Ee.eachChild((function(Ee){var Be=t(Ee);Be instanceof Pn?ze=Be:!ze&&Be?ze=new Pn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):ze&&Be&&ze!==Be&&(ze=new Pn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),ze}(Be);if(!$e&&!We)return cr([new Pn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if($e instanceof Pn)return cr([$e]);if($e instanceof je&&!yr(ze))return cr([new Pn("",'"interpolate" expressions cannot be used with this property')]);if(!$e)return pr(new zr(Ue?"constant":"source",Ee.value));var Qe=$e instanceof je?$e.interpolation:void 0;return pr(new Ir(Ue?"camera":"composite",Ee.value,$e.labels,Qe))}Ir.prototype.evaluateWithoutErrorHandling=function(Ee,ze,Be,Ue){return this._styleExpression.evaluateWithoutErrorHandling(Ee,ze,Be,Ue)},Ir.prototype.evaluate=function(Ee,ze,Be,Ue){return this._styleExpression.evaluate(Ee,ze,Be,Ue)},Ir.prototype.interpolationFactor=function(Ee,ze,Be){return this.interpolationType?je.interpolationFactor(this.interpolationType,Ee,ze,Be):0};var Br=function(Ee,ze){this._parameters=Ee,this._specification=ze,Bt(this,function t(Ee,ze){var Be,Ue,We,$e="color"===ze.type,Qe=Ee.stops&&"object"==typeof Ee.stops[0][0],et=Qe||void 0!==Ee.property,tt=Qe||!et,rt=Ee.type||(yr(ze)?"exponential":"interval");if($e&&((Ee=Bt({},Ee)).stops&&(Ee.stops=Ee.stops.map((function(Ee){return[Ee[0],Ht.parse(Ee[1])]}))),Ee.default?Ee.default=Ht.parse(Ee.default):Ee.default=Ht.parse(ze.default)),Ee.colorSpace&&"rgb"!==Ee.colorSpace&&!si[Ee.colorSpace])throw new Error("Unknown color space: "+Ee.colorSpace);if("exponential"===rt)Be=_r;else if("interval"===rt)Be=br;else if("categorical"===rt){Be=xr,Ue=Object.create(null);for(var nt=0,at=Ee.stops;nt<at.length;nt+=1){var it=at[nt];Ue[it[0]]=it[1]}We=typeof Ee.stops[0][0]}else{if("identity"!==rt)throw new Error('Unknown function type "'+rt+'"');Be=wr}if(Qe){for(var ct={},ft=[],xt=0;xt<Ee.stops.length;xt++){var kt=Ee.stops[xt],Lt=kt[0].zoom;void 0===ct[Lt]&&(ct[Lt]={zoom:Lt,type:Ee.type,property:Ee.property,default:Ee.default,stops:[]},ft.push(Lt)),ct[Lt].stops.push([kt[0].value,kt[1]])}for(var Ut=[],er=0,tr=ft;er<tr.length;er+=1){var rr=tr[er];Ut.push([ct[rr].zoom,t(ct[rr],ze)])}var ar={name:"linear"};return{kind:"composite",interpolationType:ar,interpolationFactor:je.interpolationFactor.bind(void 0,ar),zoomStops:Ut.map((function(Ee){return Ee[0]})),evaluate:function(Be,Ue){var We=Be.zoom;return _r({stops:Ut,base:Ee.base},ze,We).evaluate(We,Ue)}}}if(tt){var Lr="exponential"===rt?{name:"exponential",base:void 0!==Ee.base?Ee.base:1}:null;return{kind:"camera",interpolationType:Lr,interpolationFactor:je.interpolationFactor.bind(void 0,Lr),zoomStops:Ee.stops.map((function(Ee){return Ee[0]})),evaluate:function($e){var Qe=$e.zoom;return Be(Ee,ze,Qe,Ue,We)}}}return{kind:"source",evaluate:function($e,Qe){var et=Qe&&Qe.properties?Qe.properties[Ee.property]:void 0;return void 0===et?gr(Ee.default,ze.default):Be(Ee,ze,et,Ue,We)}}}(this._parameters,this._specification))};function Er(Ee){var ze=Ee.key,Be=Ee.value,Ue=Ee.valueSpec||{},We=Ee.objectElementValidators||{},$e=Ee.style,Qe=Ee.styleSpec,et=[],tt=dr(Be);if("object"!==tt)return[new It(ze,Be,"object expected, "+tt+" found")];for(var rt in Be){var nt=rt.split(".")[0],at=Ue[nt]||Ue["*"],it=void 0;if(We[nt])it=We[nt];else if(Ue[nt])it=tn;else if(We["*"])it=We["*"];else{if(!Ue["*"]){et.push(new It(ze,Be[rt],'unknown property "'+rt+'"'));continue}it=tn}et=et.concat(it({key:(ze?ze+".":ze)+rt,value:Be[rt],valueSpec:at,style:$e,styleSpec:Qe,object:Be,objectKey:rt},Be))}for(var ct in Ue)We[ct]||Ue[ct].required&&void 0===Ue[ct].default&&void 0===Be[ct]&&et.push(new It(ze,Be,'missing required property "'+ct+'"'));return et}function Mr(Ee){var ze=Ee.value,Be=Ee.valueSpec,Ue=Ee.style,We=Ee.styleSpec,$e=Ee.key,Qe=Ee.arrayElementValidator||tn;if("array"!==dr(ze))return[new It($e,ze,"array expected, "+dr(ze)+" found")];if(Be.length&&ze.length!==Be.length)return[new It($e,ze,"array length "+Be.length+" expected, length "+ze.length+" found")];if(Be["min-length"]&&ze.length<Be["min-length"])return[new It($e,ze,"array length at least "+Be["min-length"]+" expected, length "+ze.length+" found")];var et={type:Be.value,values:Be.values};We.$version<7&&(et.function=Be.function),"object"===dr(Be.value)&&(et=Be.value);for(var tt=[],rt=0;rt<ze.length;rt++)tt=tt.concat(Qe({array:ze,arrayIndex:rt,value:ze[rt],valueSpec:et,style:Ue,styleSpec:We,key:$e+"["+rt+"]"}));return tt}function Pr(Ee){var ze=Ee.key,Be=Ee.value,Ue=Ee.valueSpec,We=dr(Be);return"number"!==We?[new It(ze,Be,"number expected, "+We+" found")]:"minimum"in Ue&&Be<Ue.minimum?[new It(ze,Be,Be+" is less than the minimum value "+Ue.minimum)]:"maximum"in Ue&&Be>Ue.maximum?[new It(ze,Be,Be+" is greater than the maximum value "+Ue.maximum)]:[]}function Tr(Ee){var ze,Be,Ue,We=Ee.valueSpec,$e=Mt(Ee.value.type),Qe={},et="categorical"!==$e&&void 0===Ee.value.property,tt=!et,rt="array"===dr(Ee.value.stops)&&"array"===dr(Ee.value.stops[0])&&"object"===dr(Ee.value.stops[0][0]),nt=Er({key:Ee.key,value:Ee.value,valueSpec:Ee.styleSpec.function,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{stops:function(Ee){if("identity"===$e)return[new It(Ee.key,Ee.value,'identity function may not have a "stops" property')];var ze=[],Be=Ee.value;return ze=ze.concat(Mr({key:Ee.key,value:Be,valueSpec:Ee.valueSpec,style:Ee.style,styleSpec:Ee.styleSpec,arrayElementValidator:c})),"array"===dr(Be)&&0===Be.length&&ze.push(new It(Ee.key,Be,"array must have at least one stop")),ze},default:function(Ee){return tn({key:Ee.key,value:Ee.value,valueSpec:We,style:Ee.style,styleSpec:Ee.styleSpec})}}});return"identity"===$e&&et&&nt.push(new It(Ee.key,Ee.value,'missing required property "property"')),"identity"===$e||Ee.value.stops||nt.push(new It(Ee.key,Ee.value,'missing required property "stops"')),"exponential"===$e&&Ee.valueSpec.expression&&!yr(Ee.valueSpec)&&nt.push(new It(Ee.key,Ee.value,"exponential functions not supported")),Ee.styleSpec.$version>=8&&(tt&&!hr(Ee.valueSpec)?nt.push(new It(Ee.key,Ee.value,"property functions not supported")):et&&!fr(Ee.valueSpec)&&nt.push(new It(Ee.key,Ee.value,"zoom functions not supported"))),"categorical"!==$e&&!rt||void 0!==Ee.value.property||nt.push(new It(Ee.key,Ee.value,'"property" property is required')),nt;function c(Ee){var ze=[],$e=Ee.value,et=Ee.key;if("array"!==dr($e))return[new It(et,$e,"array expected, "+dr($e)+" found")];if(2!==$e.length)return[new It(et,$e,"array length 2 expected, length "+$e.length+" found")];if(rt){if("object"!==dr($e[0]))return[new It(et,$e,"object expected, "+dr($e[0])+" found")];if(void 0===$e[0].zoom)return[new It(et,$e,"object stop key must have zoom")];if(void 0===$e[0].value)return[new It(et,$e,"object stop key must have value")];if(Ue&&Ue>Mt($e[0].zoom))return[new It(et,$e[0].zoom,"stop zoom values must appear in ascending order")];Mt($e[0].zoom)!==Ue&&(Ue=Mt($e[0].zoom),Be=void 0,Qe={}),ze=ze.concat(Er({key:et+"[0]",value:$e[0],valueSpec:{zoom:{}},style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{zoom:Pr,value:h}}))}else ze=ze.concat(h({key:et+"[0]",value:$e[0],valueSpec:{},style:Ee.style,styleSpec:Ee.styleSpec},$e));return kr(Pt($e[1]))?ze.concat([new It(et+"[1]",$e[1],"expressions are not allowed in function stops.")]):ze.concat(tn({key:et+"[1]",value:$e[1],valueSpec:We,style:Ee.style,styleSpec:Ee.styleSpec}))}function h(Ee,Ue){var et=dr(Ee.value),tt=Mt(Ee.value),rt=null!==Ee.value?Ee.value:Ue;if(ze){if(et!==ze)return[new It(Ee.key,rt,et+" stop domain type must match previous stop domain type "+ze)]}else ze=et;if("number"!==et&&"string"!==et&&"boolean"!==et)return[new It(Ee.key,rt,"stop domain value must be a number, string, or boolean")];if("number"!==et&&"categorical"!==$e){var nt="number expected, "+et+" found";return hr(We)&&void 0===$e&&(nt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new It(Ee.key,rt,nt)]}return"categorical"!==$e||"number"!==et||isFinite(tt)&&Math.floor(tt)===tt?"categorical"!==$e&&"number"===et&&void 0!==Be&&tt<Be?[new It(Ee.key,rt,"stop domain values must appear in ascending order")]:(Be=tt,"categorical"===$e&&tt in Qe?[new It(Ee.key,rt,"stop domain values must be unique")]:(Qe[tt]=!0,[])):[new It(Ee.key,rt,"integer expected, found "+tt)]}}function Vr(Ee){var ze=("property"===Ee.expressionContext?Cr:Sr)(Pt(Ee.value),Ee.valueSpec);if("error"===ze.result)return ze.value.map((function(ze){return new It(""+Ee.key+ze.key,Ee.value,ze.message)}));var Be=ze.value.expression||ze.value._styleExpression.expression;if("property"===Ee.expressionContext&&"text-font"===Ee.propertyKey&&-1!==Be.possibleOutputs().indexOf(void 0))return[new It(Ee.key,Ee.value,'Invalid data expression for "'+Ee.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===Ee.expressionContext&&"layout"===Ee.propertyType&&!ye(Be))return[new It(Ee.key,Ee.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===Ee.expressionContext&&!ye(Be))return[new It(Ee.key,Ee.value,'"feature-state" data expressions are not supported with filters.')];if(Ee.expressionContext&&0===Ee.expressionContext.indexOf("cluster")){if(!de(Be,["zoom","feature-state"]))return[new It(Ee.key,Ee.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===Ee.expressionContext&&!fe(Be))return[new It(Ee.key,Ee.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Fr(Ee){var ze=Ee.key,Be=Ee.value,Ue=Ee.valueSpec,We=[];return Array.isArray(Ue.values)?-1===Ue.values.indexOf(Mt(Be))&&We.push(new It(ze,Be,"expected one of ["+Ue.values.join(", ")+"], "+JSON.stringify(Be)+" found")):-1===Object.keys(Ue.values).indexOf(Mt(Be))&&We.push(new It(ze,Be,"expected one of ["+Object.keys(Ue.values).join(", ")+"], "+JSON.stringify(Be)+" found")),We}function Or(Ee){if(!0===Ee||!1===Ee)return!0;if(!Array.isArray(Ee)||0===Ee.length)return!1;switch(Ee[0]){case"has":return Ee.length>=2&&"$id"!==Ee[1]&&"$type"!==Ee[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==Ee.length||Array.isArray(Ee[1])||Array.isArray(Ee[2]);case"any":case"all":for(var ze=0,Be=Ee.slice(1);ze<Be.length;ze+=1){var Ue=Be[ze];if(!Or(Ue)&&"boolean"!=typeof Ue)return!1}return!0;default:return!0}}Br.deserialize=function(Ee){return new Br(Ee._parameters,Ee._specification)},Br.serialize=function(Ee){return{_parameters:Ee._parameters,_specification:Ee._specification}};var Xi={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Dr(Ee){if(null==Ee)return function(){return!0};Or(Ee)||(Ee=Rr(Ee));var ze=Sr(Ee,Xi);if("error"===ze.result)throw new Error(ze.value.map((function(Ee){return Ee.key+": "+Ee.message})).join(", "));return function(Ee,Be){return ze.value.evaluate(Ee,Be)}}function Ur(Ee,ze){return Ee<ze?-1:Ee>ze?1:0}function Rr(Ee){if(!Ee)return!0;var ze,Be=Ee[0];return Ee.length<=1?"any"!==Be:"=="===Be?jr(Ee[1],Ee[2],"=="):"!="===Be?Kr(jr(Ee[1],Ee[2],"==")):"<"===Be||">"===Be||"<="===Be||">="===Be?jr(Ee[1],Ee[2],Be):"any"===Be?(ze=Ee.slice(1),["any"].concat(ze.map(Rr))):"all"===Be?["all"].concat(Ee.slice(1).map(Rr)):"none"===Be?["all"].concat(Ee.slice(1).map(Rr).map(Kr)):"in"===Be?qr(Ee[1],Ee.slice(2)):"!in"===Be?Kr(qr(Ee[1],Ee.slice(2))):"has"===Be?Nr(Ee[1]):"!has"!==Be||Kr(Nr(Ee[1]))}function jr(Ee,ze,Be){switch(Ee){case"$type":return["filter-type-"+Be,ze];case"$id":return["filter-id-"+Be,ze];default:return["filter-"+Be,Ee,ze]}}function qr(Ee,ze){if(0===ze.length)return!1;switch(Ee){case"$type":return["filter-type-in",["literal",ze]];case"$id":return["filter-id-in",["literal",ze]];default:return ze.length>200&&!ze.some((function(Ee){return typeof Ee!=typeof ze[0]}))?["filter-in-large",Ee,["literal",ze.sort(Ur)]]:["filter-in-small",Ee,["literal",ze]]}}function Nr(Ee){switch(Ee){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",Ee]}}function Kr(Ee){return["!",Ee]}function Zr(Ee){return Or(Pt(Ee.value))?Vr(Bt({},Ee,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(Ee){var ze=Ee.value,Be=Ee.key;if("array"!==dr(ze))return[new It(Be,ze,"array expected, "+dr(ze)+" found")];var Ue,We=Ee.styleSpec,$e=[];if(ze.length<1)return[new It(Be,ze,"filter array must have at least 1 element")];switch($e=$e.concat(Fr({key:Be+"[0]",value:ze[0],valueSpec:We.filter_operator,style:Ee.style,styleSpec:Ee.styleSpec})),Mt(ze[0])){case"<":case"<=":case">":case">=":ze.length>=2&&"$type"===Mt(ze[1])&&$e.push(new It(Be,ze,'"$type" cannot be use with operator "'+ze[0]+'"'));case"==":case"!=":3!==ze.length&&$e.push(new It(Be,ze,'filter array for operator "'+ze[0]+'" must have 3 elements'));case"in":case"!in":ze.length>=2&&"string"!==(Ue=dr(ze[1]))&&$e.push(new It(Be+"[1]",ze[1],"string expected, "+Ue+" found"));for(var Qe=2;Qe<ze.length;Qe++)Ue=dr(ze[Qe]),"$type"===Mt(ze[1])?$e=$e.concat(Fr({key:Be+"["+Qe+"]",value:ze[Qe],valueSpec:We.geometry_type,style:Ee.style,styleSpec:Ee.styleSpec})):"string"!==Ue&&"number"!==Ue&&"boolean"!==Ue&&$e.push(new It(Be+"["+Qe+"]",ze[Qe],"string, number, or boolean expected, "+Ue+" found"));break;case"any":case"all":case"none":for(var et=1;et<ze.length;et++)$e=$e.concat(t({key:Be+"["+et+"]",value:ze[et],style:Ee.style,styleSpec:Ee.styleSpec}));break;case"has":case"!has":Ue=dr(ze[1]),2!==ze.length?$e.push(new It(Be,ze,'filter array for "'+ze[0]+'" operator must have 2 elements')):"string"!==Ue&&$e.push(new It(Be+"[1]",ze[1],"string expected, "+Ue+" found"))}return $e}(Ee)}function Xr(Ee,ze){var Be=Ee.key,Ue=Ee.style,We=Ee.styleSpec,$e=Ee.value,Qe=Ee.objectKey,et=We[ze+"_"+Ee.layerType];if(!et)return[];var tt=Qe.match(/^(.*)-transition$/);if("paint"===ze&&tt&&et[tt[1]]&&et[tt[1]].transition)return tn({key:Be,value:$e,valueSpec:We.transition,style:Ue,styleSpec:We});var rt,nt=Ee.valueSpec||et[Qe];if(!nt)return[new It(Be,$e,'unknown property "'+Qe+'"')];if("string"===dr($e)&&hr(nt)&&!nt.tokens&&(rt=/^{([^}]+)}$/.exec($e)))return[new It(Be,$e,'"'+Qe+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(rt[1])+" }`.")];var at=[];return"symbol"===Ee.layerType&&("text-field"===Qe&&Ue&&!Ue.glyphs&&at.push(new It(Be,$e,'use of "text-field" requires a style "glyphs" property')),"text-font"===Qe&&mr(Pt($e))&&"identity"===Mt($e.type)&&at.push(new It(Be,$e,'"text-font" does not support identity functions'))),at.concat(tn({key:Ee.key,value:$e,valueSpec:nt,style:Ue,styleSpec:We,expressionContext:"property",propertyType:ze,propertyKey:Qe}))}function Gr(Ee){return Xr(Ee,"paint")}function Jr(Ee){return Xr(Ee,"layout")}function Hr(Ee){var ze=[],Be=Ee.value,Ue=Ee.key,We=Ee.style,$e=Ee.styleSpec;Be.type||Be.ref||ze.push(new It(Ue,Be,'either "type" or "ref" is required'));var Qe,et=Mt(Be.type),tt=Mt(Be.ref);if(Be.id)for(var rt=Mt(Be.id),nt=0;nt<Ee.arrayIndex;nt++){var at=We.layers[nt];Mt(at.id)===rt&&ze.push(new It(Ue,Be.id,'duplicate layer id "'+Be.id+'", previously used at line '+at.id.__line__))}if("ref"in Be)["type","source","source-layer","filter","layout"].forEach((function(Ee){Ee in Be&&ze.push(new It(Ue,Be[Ee],'"'+Ee+'" is prohibited for ref layers'))})),We.layers.forEach((function(Ee){Mt(Ee.id)===tt&&(Qe=Ee)})),Qe?Qe.ref?ze.push(new It(Ue,Be.ref,"ref cannot reference another ref layer")):et=Mt(Qe.type):ze.push(new It(Ue,Be.ref,'ref layer "'+tt+'" not found'));else if("background"!==et)if(Be.source){var it=We.sources&&We.sources[Be.source],ct=it&&Mt(it.type);it?"vector"===ct&&"raster"===et?ze.push(new It(Ue,Be.source,'layer "'+Be.id+'" requires a raster source')):"raster"===ct&&"raster"!==et?ze.push(new It(Ue,Be.source,'layer "'+Be.id+'" requires a vector source')):"vector"!==ct||Be["source-layer"]?"raster-dem"===ct&&"hillshade"!==et?ze.push(new It(Ue,Be.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==et||!Be.paint||!Be.paint["line-gradient"]||"geojson"===ct&&it.lineMetrics||ze.push(new It(Ue,Be,'layer "'+Be.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):ze.push(new It(Ue,Be,'layer "'+Be.id+'" must specify a "source-layer"')):ze.push(new It(Ue,Be.source,'source "'+Be.source+'" not found'))}else ze.push(new It(Ue,Be,'missing required property "source"'));return ze=ze.concat(Er({key:Ue,value:Be,valueSpec:$e.layer,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return tn({key:Ue+".type",value:Be.type,valueSpec:$e.layer.type,style:Ee.style,styleSpec:Ee.styleSpec,object:Be,objectKey:"type"})},filter:Zr,layout:function(Ee){return Er({layer:Be,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(Ee){return Jr(Bt({layerType:et},Ee))}}})},paint:function(Ee){return Er({layer:Be,key:Ee.key,value:Ee.value,style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{"*":function(Ee){return Gr(Bt({layerType:et},Ee))}}})}}}))}function Yr(Ee){var ze=Ee.value,Be=Ee.key,Ue=Ee.styleSpec,We=Ee.style;if(!ze.type)return[new It(Be,ze,'"type" is required')];var $e,Qe=Mt(ze.type);switch(Qe){case"vector":case"raster":case"raster-dem":return Er({key:Be,value:ze,valueSpec:Ue["source_"+Qe.replace("-","_")],style:Ee.style,styleSpec:Ue});case"geojson":if($e=Er({key:Be,value:ze,valueSpec:Ue.source_geojson,style:We,styleSpec:Ue}),ze.cluster)for(var et in ze.clusterProperties){var tt=ze.clusterProperties[et],rt=tt[0],nt=tt[1],at="string"==typeof rt?[rt,["accumulated"],["get",et]]:rt;$e.push.apply($e,Vr({key:Be+"."+et+".map",value:nt,expressionContext:"cluster-map"})),$e.push.apply($e,Vr({key:Be+"."+et+".reduce",value:at,expressionContext:"cluster-reduce"}))}return $e;case"video":return Er({key:Be,value:ze,valueSpec:Ue.source_video,style:We,styleSpec:Ue});case"image":return Er({key:Be,value:ze,valueSpec:Ue.source_image,style:We,styleSpec:Ue});case"canvas":return[new It(Be,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Fr({key:Be+".type",value:ze.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:We,styleSpec:Ue})}}function $r(Ee){var ze=Ee.value,Be=Ee.styleSpec,Ue=Be.light,We=Ee.style,$e=[],Qe=dr(ze);if(void 0===ze)return $e;if("object"!==Qe)return $e.concat([new It("light",ze,"object expected, "+Qe+" found")]);for(var et in ze){var tt=et.match(/^(.*)-transition$/);$e=tt&&Ue[tt[1]]&&Ue[tt[1]].transition?$e.concat(tn({key:et,value:ze[et],valueSpec:Be.transition,style:We,styleSpec:Be})):Ue[et]?$e.concat(tn({key:et,value:ze[et],valueSpec:Ue[et],style:We,styleSpec:Be})):$e.concat([new It(et,ze[et],'unknown property "'+et+'"')])}return $e}function Wr(Ee){var ze=Ee.value,Be=Ee.key,Ue=dr(ze);return"string"!==Ue?[new It(Be,ze,"string expected, "+Ue+" found")]:[]}var Co={"*":function(){return[]},array:Mr,boolean:function(Ee){var ze=Ee.value,Be=Ee.key,Ue=dr(ze);return"boolean"!==Ue?[new It(Be,ze,"boolean expected, "+Ue+" found")]:[]},number:Pr,color:function(Ee){var ze=Ee.key,Be=Ee.value,Ue=dr(Be);return"string"!==Ue?[new It(ze,Be,"color expected, "+Ue+" found")]:null===Na(Be)?[new It(ze,Be,'color expected, "'+Be+'" found')]:[]},constants:Ct,enum:Fr,filter:Zr,function:Tr,layer:Hr,object:Er,source:Yr,light:$r,string:Wr,formatted:function(Ee){return 0===Wr(Ee).length?[]:Vr(Ee)}};function tn(Ee){var ze=Ee.value,Be=Ee.valueSpec,Ue=Ee.styleSpec;return Be.expression&&mr(Mt(ze))?Tr(Ee):Be.expression&&kr(Pt(ze))?Vr(Ee):Be.type&&Co[Be.type]?Co[Be.type](Ee):Er(Bt({},Ee,{valueSpec:Be.type?Ue[Be.type]:Be}))}function en(Ee){var ze=Ee.value,Be=Ee.key,Ue=Wr(Ee);return Ue.length||(-1===ze.indexOf("{fontstack}")&&Ue.push(new It(Be,ze,'"glyphs" url must include a "{fontstack}" token')),-1===ze.indexOf("{range}")&&Ue.push(new It(Be,ze,'"glyphs" url must include a "{range}" token'))),Ue}function rn(Ee,ze){ze=ze||En;var Be=[];return Be=Be.concat(tn({key:"",value:Ee,valueSpec:ze.$root,styleSpec:ze,style:Ee,objectElementValidators:{glyphs:en,"*":function(){return[]}}})),Ee.constants&&(Be=Be.concat(Ct({key:"constants",value:Ee.constants,style:Ee,styleSpec:ze}))),nn(Be)}function nn(Ee){return[].concat(Ee).sort((function(Ee,ze){return Ee.line-ze.line}))}function an(Ee){return function(){for(var ze=[],Be=arguments.length;Be--;)ze[Be]=arguments[Be];return nn(Ee.apply(this,ze))}}rn.source=an(Yr),rn.light=an($r),rn.layer=an(Hr),rn.filter=an(Zr),rn.paintProperty=an(Gr),rn.layoutProperty=an(Jr);var zo=rn,Bo=zo.light,Vo=zo.paintProperty,Uo=zo.layoutProperty;function pn(Ee,ze){var Be=!1;if(ze&&ze.length)for(var Ue=0,We=ze;Ue<We.length;Ue+=1){var $e=We[Ue];Ee.fire(new Cn(new Error($e.message))),Be=!0}return Be}var Ho=fn;function fn(Ee,ze,Be){var Ue=this.cells=[];if(Ee instanceof ArrayBuffer){this.arrayBuffer=Ee;var We=new Int32Array(this.arrayBuffer);Ee=We[0],ze=We[1],Be=We[2],this.d=ze+2*Be;for(var $e=0;$e<this.d*this.d;$e++){var Qe=We[3+$e],et=We[3+$e+1];Ue.push(Qe===et?null:We.subarray(Qe,et))}var tt=We[3+Ue.length],rt=We[3+Ue.length+1];this.keys=We.subarray(tt,rt),this.bboxes=We.subarray(rt),this.insert=this._insertReadonly}else{this.d=ze+2*Be;for(var nt=0;nt<this.d*this.d;nt++)Ue.push([]);this.keys=[],this.bboxes=[]}this.n=ze,this.extent=Ee,this.padding=Be,this.scale=ze/Ee,this.uid=0;var at=Be/ze*Ee;this.min=-at,this.max=Ee+at}fn.prototype.insert=function(Ee,ze,Be,Ue,We){this._forEachCell(ze,Be,Ue,We,this._insertCell,this.uid++),this.keys.push(Ee),this.bboxes.push(ze),this.bboxes.push(Be),this.bboxes.push(Ue),this.bboxes.push(We)},fn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},fn.prototype._insertCell=function(Ee,ze,Be,Ue,We,$e){this.cells[We].push($e)},fn.prototype.query=function(Ee,ze,Be,Ue,We){var $e=this.min,Qe=this.max;if(Ee<=$e&&ze<=$e&&Qe<=Be&&Qe<=Ue&&!We)return Array.prototype.slice.call(this.keys);var et=[];return this._forEachCell(Ee,ze,Be,Ue,this._queryCell,et,{},We),et},fn.prototype._queryCell=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=this.cells[We];if(null!==tt)for(var rt=this.keys,nt=this.bboxes,at=0;at<tt.length;at++){var it=tt[at];if(void 0===Qe[it]){var ct=4*it;(et?et(nt[ct+0],nt[ct+1],nt[ct+2],nt[ct+3]):Ee<=nt[ct+2]&&ze<=nt[ct+3]&&Be>=nt[ct+0]&&Ue>=nt[ct+1])?(Qe[it]=!0,$e.push(rt[it])):Qe[it]=!1}}},fn.prototype._forEachCell=function(Ee,ze,Be,Ue,We,$e,Qe,et){for(var tt=this._convertToCellCoord(Ee),rt=this._convertToCellCoord(ze),nt=this._convertToCellCoord(Be),at=this._convertToCellCoord(Ue),it=tt;it<=nt;it++)for(var ct=rt;ct<=at;ct++){var ft=this.d*ct+it;if((!et||et(this._convertFromCellCoord(it),this._convertFromCellCoord(ct),this._convertFromCellCoord(it+1),this._convertFromCellCoord(ct+1)))&&We.call(this,Ee,ze,Be,Ue,ft,$e,Qe,et))return}},fn.prototype._convertFromCellCoord=function(Ee){return(Ee-this.padding)/this.scale},fn.prototype._convertToCellCoord=function(Ee){return Math.max(0,Math.min(this.d-1,Math.floor(Ee*this.scale)+this.padding))},fn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var Ee=this.cells,ze=3+this.cells.length+1+1,Be=0,Ue=0;Ue<this.cells.length;Ue++)Be+=this.cells[Ue].length;var We=new Int32Array(ze+Be+this.keys.length+this.bboxes.length);We[0]=this.extent,We[1]=this.n,We[2]=this.padding;for(var $e=ze,Qe=0;Qe<Ee.length;Qe++){var et=Ee[Qe];We[3+Qe]=$e,We.set(et,$e),$e+=et.length}return We[3+Ee.length]=$e,We.set(this.keys,$e),$e+=this.keys.length,We[3+Ee.length+1]=$e,We.set(this.bboxes,$e),$e+=this.bboxes.length,We.buffer};var Wo=self.ImageData,Xo={};function mn(Ee,ze,Be){void 0===Be&&(Be={}),Object.defineProperty(ze,"_classRegistryKey",{value:Ee,writeable:!1}),Xo[Ee]={klass:ze,omit:Be.omit||[],shallow:Be.shallow||[]}}for(var $o in mn("Object",Object),Ho.serialize=function(Ee,ze){var Be=Ee.toArrayBuffer();return ze&&ze.push(Be),{buffer:Be}},Ho.deserialize=function(Ee){return new Ho(Ee.buffer)},mn("Grid",Ho),mn("Color",Ht),mn("Error",Error),mn("StylePropertyFunction",Br),mn("StyleExpression",Ar,{omit:["_evaluator"]}),mn("ZoomDependentExpression",Ir),mn("ZoomConstantExpression",zr),mn("CompoundExpression",ce,{omit:["_evaluate"]}),ji)ji[$o]._classRegistryKey||mn("Expression_"+$o,ji[$o]);function gn(Ee,ze){if(null==Ee||"boolean"==typeof Ee||"number"==typeof Ee||"string"==typeof Ee||Ee instanceof Boolean||Ee instanceof Number||Ee instanceof String||Ee instanceof Date||Ee instanceof RegExp)return Ee;if(Ee instanceof ArrayBuffer)return ze&&ze.push(Ee),Ee;if(ArrayBuffer.isView(Ee)){var Be=Ee;return ze&&ze.push(Be.buffer),Be}if(Ee instanceof Wo)return ze&&ze.push(Ee.data.buffer),Ee;if(Array.isArray(Ee)){for(var Ue=[],We=0,$e=Ee;We<$e.length;We+=1){var Qe=$e[We];Ue.push(gn(Qe,ze))}return Ue}if("object"==typeof Ee){var et=Ee.constructor,tt=et._classRegistryKey;if(!tt)throw new Error("can't serialize object of unregistered class");var rt=et.serialize?et.serialize(Ee,ze):{};if(!et.serialize){for(var nt in Ee)if(Ee.hasOwnProperty(nt)&&!(Xo[tt].omit.indexOf(nt)>=0)){var at=Ee[nt];rt[nt]=Xo[tt].shallow.indexOf(nt)>=0?at:gn(at,ze)}Ee instanceof Error&&(rt.message=Ee.message)}if(rt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==tt&&(rt.$name=tt),rt}throw new Error("can't serialize object of type "+typeof Ee)}function xn(Ee){if(null==Ee||"boolean"==typeof Ee||"number"==typeof Ee||"string"==typeof Ee||Ee instanceof Boolean||Ee instanceof Number||Ee instanceof String||Ee instanceof Date||Ee instanceof RegExp||Ee instanceof ArrayBuffer||ArrayBuffer.isView(Ee)||Ee instanceof Wo)return Ee;if(Array.isArray(Ee))return Ee.map(xn);if("object"==typeof Ee){var ze=Ee.$name||"Object",Be=Xo[ze].klass;if(!Be)throw new Error("can't deserialize unregistered class "+ze);if(Be.deserialize)return Be.deserialize(Ee);for(var Ue=Object.create(Be.prototype),We=0,$e=Object.keys(Ee);We<$e.length;We+=1){var Qe=$e[We];if("$name"!==Qe){var et=Ee[Qe];Ue[Qe]=Xo[ze].shallow.indexOf(Qe)>=0?et:xn(et)}}return Ue}throw new Error("can't deserialize object of type "+typeof Ee)}var bn=function(){this.first=!0};bn.prototype.update=function(Ee,ze){var Be=Math.floor(Ee);return this.first?(this.first=!1,this.lastIntegerZoom=Be,this.lastIntegerZoomTime=0,this.lastZoom=Ee,this.lastFloorZoom=Be,!0):(this.lastFloorZoom>Be?(this.lastIntegerZoom=Be+1,this.lastIntegerZoomTime=ze):this.lastFloorZoom<Be&&(this.lastIntegerZoom=Be,this.lastIntegerZoomTime=ze),Ee!==this.lastZoom&&(this.lastZoom=Ee,this.lastFloorZoom=Be,!0))};var es={"Latin-1 Supplement":function(Ee){return Ee>=128&&Ee<=255},Arabic:function(Ee){return Ee>=1536&&Ee<=1791},"Arabic Supplement":function(Ee){return Ee>=1872&&Ee<=1919},"Arabic Extended-A":function(Ee){return Ee>=2208&&Ee<=2303},"Hangul Jamo":function(Ee){return Ee>=4352&&Ee<=4607},"Unified Canadian Aboriginal Syllabics":function(Ee){return Ee>=5120&&Ee<=5759},Khmer:function(Ee){return Ee>=6016&&Ee<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(Ee){return Ee>=6320&&Ee<=6399},"General Punctuation":function(Ee){return Ee>=8192&&Ee<=8303},"Letterlike Symbols":function(Ee){return Ee>=8448&&Ee<=8527},"Number Forms":function(Ee){return Ee>=8528&&Ee<=8591},"Miscellaneous Technical":function(Ee){return Ee>=8960&&Ee<=9215},"Control Pictures":function(Ee){return Ee>=9216&&Ee<=9279},"Optical Character Recognition":function(Ee){return Ee>=9280&&Ee<=9311},"Enclosed Alphanumerics":function(Ee){return Ee>=9312&&Ee<=9471},"Geometric Shapes":function(Ee){return Ee>=9632&&Ee<=9727},"Miscellaneous Symbols":function(Ee){return Ee>=9728&&Ee<=9983},"Miscellaneous Symbols and Arrows":function(Ee){return Ee>=11008&&Ee<=11263},"CJK Radicals Supplement":function(Ee){return Ee>=11904&&Ee<=12031},"Kangxi Radicals":function(Ee){return Ee>=12032&&Ee<=12255},"Ideographic Description Characters":function(Ee){return Ee>=12272&&Ee<=12287},"CJK Symbols and Punctuation":function(Ee){return Ee>=12288&&Ee<=12351},Hiragana:function(Ee){return Ee>=12352&&Ee<=12447},Katakana:function(Ee){return Ee>=12448&&Ee<=12543},Bopomofo:function(Ee){return Ee>=12544&&Ee<=12591},"Hangul Compatibility Jamo":function(Ee){return Ee>=12592&&Ee<=12687},Kanbun:function(Ee){return Ee>=12688&&Ee<=12703},"Bopomofo Extended":function(Ee){return Ee>=12704&&Ee<=12735},"CJK Strokes":function(Ee){return Ee>=12736&&Ee<=12783},"Katakana Phonetic Extensions":function(Ee){return Ee>=12784&&Ee<=12799},"Enclosed CJK Letters and Months":function(Ee){return Ee>=12800&&Ee<=13055},"CJK Compatibility":function(Ee){return Ee>=13056&&Ee<=13311},"CJK Unified Ideographs Extension A":function(Ee){return Ee>=13312&&Ee<=19903},"Yijing Hexagram Symbols":function(Ee){return Ee>=19904&&Ee<=19967},"CJK Unified Ideographs":function(Ee){return Ee>=19968&&Ee<=40959},"Yi Syllables":function(Ee){return Ee>=40960&&Ee<=42127},"Yi Radicals":function(Ee){return Ee>=42128&&Ee<=42191},"Hangul Jamo Extended-A":function(Ee){return Ee>=43360&&Ee<=43391},"Hangul Syllables":function(Ee){return Ee>=44032&&Ee<=55215},"Hangul Jamo Extended-B":function(Ee){return Ee>=55216&&Ee<=55295},"Private Use Area":function(Ee){return Ee>=57344&&Ee<=63743},"CJK Compatibility Ideographs":function(Ee){return Ee>=63744&&Ee<=64255},"Arabic Presentation Forms-A":function(Ee){return Ee>=64336&&Ee<=65023},"Vertical Forms":function(Ee){return Ee>=65040&&Ee<=65055},"CJK Compatibility Forms":function(Ee){return Ee>=65072&&Ee<=65103},"Small Form Variants":function(Ee){return Ee>=65104&&Ee<=65135},"Arabic Presentation Forms-B":function(Ee){return Ee>=65136&&Ee<=65279},"Halfwidth and Fullwidth Forms":function(Ee){return Ee>=65280&&Ee<=65519}};function wn(Ee){for(var ze=0,Be=Ee;ze<Be.length;ze+=1)if(kn(Be[ze].charCodeAt(0)))return!0;return!1}function An(Ee){return!(es.Arabic(Ee)||es["Arabic Supplement"](Ee)||es["Arabic Extended-A"](Ee)||es["Arabic Presentation Forms-A"](Ee)||es["Arabic Presentation Forms-B"](Ee))}function kn(Ee){return!(746!==Ee&&747!==Ee&&(Ee<4352||!(es["Bopomofo Extended"](Ee)||es.Bopomofo(Ee)||es["CJK Compatibility Forms"](Ee)&&!(Ee>=65097&&Ee<=65103)||es["CJK Compatibility Ideographs"](Ee)||es["CJK Compatibility"](Ee)||es["CJK Radicals Supplement"](Ee)||es["CJK Strokes"](Ee)||!(!es["CJK Symbols and Punctuation"](Ee)||Ee>=12296&&Ee<=12305||Ee>=12308&&Ee<=12319||12336===Ee)||es["CJK Unified Ideographs Extension A"](Ee)||es["CJK Unified Ideographs"](Ee)||es["Enclosed CJK Letters and Months"](Ee)||es["Hangul Compatibility Jamo"](Ee)||es["Hangul Jamo Extended-A"](Ee)||es["Hangul Jamo Extended-B"](Ee)||es["Hangul Jamo"](Ee)||es["Hangul Syllables"](Ee)||es.Hiragana(Ee)||es["Ideographic Description Characters"](Ee)||es.Kanbun(Ee)||es["Kangxi Radicals"](Ee)||es["Katakana Phonetic Extensions"](Ee)||es.Katakana(Ee)&&12540!==Ee||!(!es["Halfwidth and Fullwidth Forms"](Ee)||65288===Ee||65289===Ee||65293===Ee||Ee>=65306&&Ee<=65310||65339===Ee||65341===Ee||65343===Ee||Ee>=65371&&Ee<=65503||65507===Ee||Ee>=65512&&Ee<=65519)||!(!es["Small Form Variants"](Ee)||Ee>=65112&&Ee<=65118||Ee>=65123&&Ee<=65126)||es["Unified Canadian Aboriginal Syllabics"](Ee)||es["Unified Canadian Aboriginal Syllabics Extended"](Ee)||es["Vertical Forms"](Ee)||es["Yijing Hexagram Symbols"](Ee)||es["Yi Syllables"](Ee)||es["Yi Radicals"](Ee))))}function Sn(Ee){return!(kn(Ee)||function(Ee){return!!(es["Latin-1 Supplement"](Ee)&&(167===Ee||169===Ee||174===Ee||177===Ee||188===Ee||189===Ee||190===Ee||215===Ee||247===Ee)||es["General Punctuation"](Ee)&&(8214===Ee||8224===Ee||8225===Ee||8240===Ee||8241===Ee||8251===Ee||8252===Ee||8258===Ee||8263===Ee||8264===Ee||8265===Ee||8273===Ee)||es["Letterlike Symbols"](Ee)||es["Number Forms"](Ee)||es["Miscellaneous Technical"](Ee)&&(Ee>=8960&&Ee<=8967||Ee>=8972&&Ee<=8991||Ee>=8996&&Ee<=9e3||9003===Ee||Ee>=9085&&Ee<=9114||Ee>=9150&&Ee<=9165||9167===Ee||Ee>=9169&&Ee<=9179||Ee>=9186&&Ee<=9215)||es["Control Pictures"](Ee)&&9251!==Ee||es["Optical Character Recognition"](Ee)||es["Enclosed Alphanumerics"](Ee)||es["Geometric Shapes"](Ee)||es["Miscellaneous Symbols"](Ee)&&!(Ee>=9754&&Ee<=9759)||es["Miscellaneous Symbols and Arrows"](Ee)&&(Ee>=11026&&Ee<=11055||Ee>=11088&&Ee<=11097||Ee>=11192&&Ee<=11243)||es["CJK Symbols and Punctuation"](Ee)||es.Katakana(Ee)||es["Private Use Area"](Ee)||es["CJK Compatibility Forms"](Ee)||es["Small Form Variants"](Ee)||es["Halfwidth and Fullwidth Forms"](Ee)||8734===Ee||8756===Ee||8757===Ee||Ee>=9984&&Ee<=10087||Ee>=10102&&Ee<=10131||65532===Ee||65533===Ee)}(Ee))}function zn(Ee,ze){return!(!ze&&(Ee>=1424&&Ee<=2303||es["Arabic Presentation Forms-A"](Ee)||es["Arabic Presentation Forms-B"](Ee))||Ee>=2304&&Ee<=3583||Ee>=3840&&Ee<=4255||es.Khmer(Ee))}var ts,rs=!1,ns=null,as=!1,os=new St,ss={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return as||null!=ss.applyArabicShaping}},Tn=function(Ee,ze){this.zoom=Ee,ze?(this.now=ze.now,this.fadeDuration=ze.fadeDuration,this.zoomHistory=ze.zoomHistory,this.transition=ze.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bn,this.transition={})};Tn.prototype.isSupportedScript=function(Ee){return function(Ee,ze){for(var Be=0,Ue=Ee;Be<Ue.length;Be+=1)if(!zn(Ue[Be].charCodeAt(0),ze))return!1;return!0}(Ee,ss.isLoaded())},Tn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Tn.prototype.getCrossfadeParameters=function(){var Ee=this.zoom,ze=Ee-Math.floor(Ee),Be=this.crossFadingFactor();return Ee>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:ze+(1-ze)*Be}:{fromScale:.5,toScale:1,t:1-(1-Be)*ze}};var Vn=function(Ee,ze){this.property=Ee,this.value=ze,this.expression=function(Ee,ze){if(mr(Ee))return new Br(Ee,ze);if(kr(Ee)){var Be=Cr(Ee,ze);if("error"===Be.result)throw new Error(Be.value.map((function(Ee){return Ee.key+": "+Ee.message})).join(", "));return Be.value}var Ue=Ee;return"string"==typeof Ee&&"color"===ze.type&&(Ue=Ht.parse(Ee)),{kind:"constant",evaluate:function(){return Ue}}}(void 0===ze?Ee.specification.default:ze,Ee.specification)};Vn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Vn.prototype.possiblyEvaluate=function(Ee){return this.property.possiblyEvaluate(this,Ee)};var Fn=function(Ee){this.property=Ee,this.value=new Vn(Ee,void 0)};Fn.prototype.transitioned=function(Ee,ze){return new Ln(this.property,this.value,ze,c({},Ee.transition,this.transition),Ee.now)},Fn.prototype.untransitioned=function(){return new Ln(this.property,this.value,null,{},0)};var On=function(Ee){this._properties=Ee,this._values=Object.create(Ee.defaultTransitionablePropertyValues)};On.prototype.getValue=function(Ee){return b(this._values[Ee].value.value)},On.prototype.setValue=function(Ee,ze){this._values.hasOwnProperty(Ee)||(this._values[Ee]=new Fn(this._values[Ee].property)),this._values[Ee].value=new Vn(this._values[Ee].property,null===ze?void 0:b(ze))},On.prototype.getTransition=function(Ee){return b(this._values[Ee].transition)},On.prototype.setTransition=function(Ee,ze){this._values.hasOwnProperty(Ee)||(this._values[Ee]=new Fn(this._values[Ee].property)),this._values[Ee].transition=b(ze)||void 0},On.prototype.serialize=function(){for(var Ee={},ze=0,Be=Object.keys(this._values);ze<Be.length;ze+=1){var Ue=Be[ze],We=this.getValue(Ue);void 0!==We&&(Ee[Ue]=We);var $e=this.getTransition(Ue);void 0!==$e&&(Ee[Ue+"-transition"]=$e)}return Ee},On.prototype.transitioned=function(Ee,ze){for(var Be=new Dn(this._properties),Ue=0,We=Object.keys(this._values);Ue<We.length;Ue+=1){var $e=We[Ue];Be._values[$e]=this._values[$e].transitioned(Ee,ze._values[$e])}return Be},On.prototype.untransitioned=function(){for(var Ee=new Dn(this._properties),ze=0,Be=Object.keys(this._values);ze<Be.length;ze+=1){var Ue=Be[ze];Ee._values[Ue]=this._values[Ue].untransitioned()}return Ee};var Ln=function(Ee,ze,Be,Ue,We){this.property=Ee,this.value=ze,this.begin=We+Ue.delay||0,this.end=this.begin+Ue.duration||0,Ee.specification.transition&&(Ue.delay||Ue.duration)&&(this.prior=Be)};Ln.prototype.possiblyEvaluate=function(Ee){var ze=Ee.now||0,Be=this.value.possiblyEvaluate(Ee),Ue=this.prior;if(Ue){if(ze>this.end)return this.prior=null,Be;if(this.value.isDataDriven())return this.prior=null,Be;if(ze<this.begin)return Ue.possiblyEvaluate(Ee);var We=(ze-this.begin)/(this.end-this.begin);return this.property.interpolate(Ue.possiblyEvaluate(Ee),Be,function(Ee){if(Ee<=0)return 0;if(Ee>=1)return 1;var ze=Ee*Ee,Be=ze*Ee;return 4*(Ee<.5?Be:3*(Ee-ze)+Be-.75)}(We))}return Be};var Dn=function(Ee){this._properties=Ee,this._values=Object.create(Ee.defaultTransitioningPropertyValues)};Dn.prototype.possiblyEvaluate=function(Ee){for(var ze=new jn(this._properties),Be=0,Ue=Object.keys(this._values);Be<Ue.length;Be+=1){var We=Ue[Be];ze._values[We]=this._values[We].possiblyEvaluate(Ee)}return ze},Dn.prototype.hasTransition=function(){for(var Ee=0,ze=Object.keys(this._values);Ee<ze.length;Ee+=1){var Be=ze[Ee];if(this._values[Be].prior)return!0}return!1};var Un=function(Ee){this._properties=Ee,this._values=Object.create(Ee.defaultPropertyValues)};Un.prototype.getValue=function(Ee){return b(this._values[Ee].value)},Un.prototype.setValue=function(Ee,ze){this._values[Ee]=new Vn(this._values[Ee].property,null===ze?void 0:b(ze))},Un.prototype.serialize=function(){for(var Ee={},ze=0,Be=Object.keys(this._values);ze<Be.length;ze+=1){var Ue=Be[ze],We=this.getValue(Ue);void 0!==We&&(Ee[Ue]=We)}return Ee},Un.prototype.possiblyEvaluate=function(Ee){for(var ze=new jn(this._properties),Be=0,Ue=Object.keys(this._values);Be<Ue.length;Be+=1){var We=Ue[Be];ze._values[We]=this._values[We].possiblyEvaluate(Ee)}return ze};var Rn=function(Ee,ze,Be){this.property=Ee,this.value=ze,this.parameters=Be};Rn.prototype.isConstant=function(){return"constant"===this.value.kind},Rn.prototype.constantOr=function(Ee){return"constant"===this.value.kind?this.value.value:Ee},Rn.prototype.evaluate=function(Ee,ze){return this.property.evaluate(this.value,this.parameters,Ee,ze)};var jn=function(Ee){this._properties=Ee,this._values=Object.create(Ee.defaultPossiblyEvaluatedValues)};jn.prototype.get=function(Ee){return this._values[Ee]};var qn=function(Ee){this.specification=Ee};qn.prototype.possiblyEvaluate=function(Ee,ze){return Ee.expression.evaluate(ze)},qn.prototype.interpolate=function(Ee,ze,Be){var Ue=ei[this.specification.type];return Ue?Ue(Ee,ze,Be):Ee};var Nn=function(Ee,ze){this.specification=Ee,this.overrides=ze};Nn.prototype.possiblyEvaluate=function(Ee,ze){return"constant"===Ee.expression.kind||"camera"===Ee.expression.kind?new Rn(this,{kind:"constant",value:Ee.expression.evaluate(ze)},ze):new Rn(this,Ee.expression,ze)},Nn.prototype.interpolate=function(Ee,ze,Be){if("constant"!==Ee.value.kind||"constant"!==ze.value.kind)return Ee;if(void 0===Ee.value.value||void 0===ze.value.value)return new Rn(this,{kind:"constant",value:void 0},Ee.parameters);var Ue=ei[this.specification.type];return Ue?new Rn(this,{kind:"constant",value:Ue(Ee.value.value,ze.value.value,Be)},Ee.parameters):Ee},Nn.prototype.evaluate=function(Ee,ze,Be,Ue){return"constant"===Ee.kind?Ee.value:Ee.evaluate(ze,Be,Ue)};var ls=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(Ee,ze){if(void 0===Ee.value)return new Rn(this,{kind:"constant",value:void 0},ze);if("constant"===Ee.expression.kind){var Be=Ee.expression.evaluate(ze),Ue=this._calculate(Be,Be,Be,ze);return new Rn(this,{kind:"constant",value:Ue},ze)}if("camera"===Ee.expression.kind){var We=this._calculate(Ee.expression.evaluate({zoom:ze.zoom-1}),Ee.expression.evaluate({zoom:ze.zoom}),Ee.expression.evaluate({zoom:ze.zoom+1}),ze);return new Rn(this,{kind:"constant",value:We},ze)}return new Rn(this,Ee.expression,ze)},e.prototype.evaluate=function(Ee,ze,Be,Ue){if("source"===Ee.kind){var We=Ee.evaluate(ze,Be,Ue);return this._calculate(We,We,We,ze)}return"composite"===Ee.kind?this._calculate(Ee.evaluate({zoom:Math.floor(ze.zoom)-1},Be,Ue),Ee.evaluate({zoom:Math.floor(ze.zoom)},Be,Ue),Ee.evaluate({zoom:Math.floor(ze.zoom)+1},Be,Ue),ze):Ee.value},e.prototype._calculate=function(Ee,ze,Be,Ue){return Ue.zoom>Ue.zoomHistory.lastIntegerZoom?{from:Ee,to:ze}:{from:Be,to:ze}},e.prototype.interpolate=function(Ee){return Ee},e}(Nn),Zn=function(Ee){this.specification=Ee};Zn.prototype.possiblyEvaluate=function(Ee,ze){if(void 0!==Ee.value){if("constant"===Ee.expression.kind){var Be=Ee.expression.evaluate(ze);return this._calculate(Be,Be,Be,ze)}return this._calculate(Ee.expression.evaluate(new Tn(Math.floor(ze.zoom-1),ze)),Ee.expression.evaluate(new Tn(Math.floor(ze.zoom),ze)),Ee.expression.evaluate(new Tn(Math.floor(ze.zoom+1),ze)),ze)}},Zn.prototype._calculate=function(Ee,ze,Be,Ue){return Ue.zoom>Ue.zoomHistory.lastIntegerZoom?{from:Ee,to:ze}:{from:Be,to:ze}},Zn.prototype.interpolate=function(Ee){return Ee};var Xn=function(Ee){this.specification=Ee};Xn.prototype.possiblyEvaluate=function(Ee,ze){return!!Ee.expression.evaluate(ze)},Xn.prototype.interpolate=function(){return!1};var Gn=function(Ee){for(var ze in this.properties=Ee,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],Ee){var Be=Ee[ze];Be.specification.overridable&&this.overridableProperties.push(ze);var Ue=this.defaultPropertyValues[ze]=new Vn(Be,void 0),We=this.defaultTransitionablePropertyValues[ze]=new Fn(Be);this.defaultTransitioningPropertyValues[ze]=We.untransitioned(),this.defaultPossiblyEvaluatedValues[ze]=Ue.possiblyEvaluate({})}};mn("DataDrivenProperty",Nn),mn("DataConstantProperty",qn),mn("CrossFadedDataDrivenProperty",ls),mn("CrossFadedProperty",Zn),mn("ColorRampProperty",Xn);var cs=function(Ee){function e(ze,Be){if(Ee.call(this),this.id=ze.id,this.type=ze.type,this._featureFilter=function(){return!0},"custom"!==ze.type&&(ze=ze,this.metadata=ze.metadata,this.minzoom=ze.minzoom,this.maxzoom=ze.maxzoom,"background"!==ze.type&&(this.source=ze.source,this.sourceLayer=ze["source-layer"],this.filter=ze.filter),Be.layout&&(this._unevaluatedLayout=new Un(Be.layout)),Be.paint)){for(var Ue in this._transitionablePaint=new On(Be.paint),ze.paint)this.setPaintProperty(Ue,ze.paint[Ue],{validate:!1});for(var We in ze.layout)this.setLayoutProperty(We,ze.layout[We],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(Ee){return"visibility"===Ee?this.visibility:this._unevaluatedLayout.getValue(Ee)},e.prototype.setLayoutProperty=function(Ee,ze,Be){if(void 0===Be&&(Be={}),null!=ze){var Ue="layers."+this.id+".layout."+Ee;if(this._validate(Uo,Ue,Ee,ze,Be))return}"visibility"!==Ee?this._unevaluatedLayout.setValue(Ee,ze):this.visibility=ze},e.prototype.getPaintProperty=function(Ee){return v(Ee,"-transition")?this._transitionablePaint.getTransition(Ee.slice(0,-"-transition".length)):this._transitionablePaint.getValue(Ee)},e.prototype.setPaintProperty=function(Ee,ze,Be){if(void 0===Be&&(Be={}),null!=ze){var Ue="layers."+this.id+".paint."+Ee;if(this._validate(Vo,Ue,Ee,ze,Be))return!1}if(v(Ee,"-transition"))return this._transitionablePaint.setTransition(Ee.slice(0,-"-transition".length),ze||void 0),!1;var We=this._transitionablePaint._values[Ee],$e="cross-faded-data-driven"===We.property.specification["property-type"],Qe=We.value.isDataDriven(),et=We.value;this._transitionablePaint.setValue(Ee,ze),this._handleSpecialPaintPropertyUpdate(Ee);var tt=this._transitionablePaint._values[Ee].value;return tt.isDataDriven()||Qe||$e||this._handleOverridablePaintPropertyUpdate(Ee,et,tt)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ee){},e.prototype._handleOverridablePaintPropertyUpdate=function(Ee,ze,Be){return!1},e.prototype.isHidden=function(Ee){return!!(this.minzoom&&Ee<this.minzoom)||!!(this.maxzoom&&Ee>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(Ee){this._transitioningPaint=this._transitionablePaint.transitioned(Ee,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(Ee){Ee.getCrossfadeParameters&&(this._crossfadeParameters=Ee.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Ee)),this.paint=this._transitioningPaint.possiblyEvaluate(Ee)},e.prototype.serialize=function(){var Ee={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Ee.layout=Ee.layout||{},Ee.layout.visibility=this.visibility),x(Ee,(function(Ee,ze){return!(void 0===Ee||"layout"===ze&&!Object.keys(Ee).length||"paint"===ze&&!Object.keys(Ee).length)}))},e.prototype._validate=function(Ee,ze,Be,Ue,We){return void 0===We&&(We={}),(!We||!1!==We.validate)&&pn(this,Ee.call(zo,{key:ze,layerType:this.type,objectKey:Be,value:Ue,styleSpec:En,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var Ee in this.paint._values){var ze=this.paint.get(Ee);if(ze instanceof Rn&&hr(ze.property.specification)&&("source"===ze.value.kind||"composite"===ze.value.kind)&&ze.value.isStateDependent)return!0}return!1},e}(St),us={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Yn=function(Ee,ze){this._structArray=Ee,this._pos1=ze*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},$n=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Wn(Ee,ze){void 0===ze&&(ze=1);var Be=0,Ue=0;return{members:Ee.map((function(Ee){var We,$e=(We=Ee.type,us[We].BYTES_PER_ELEMENT),Qe=Be=Qn(Be,Math.max(ze,$e)),et=Ee.components||1;return Ue=Math.max(Ue,$e),Be+=$e*et,{name:Ee.name,type:Ee.type,components:et,offset:Qe}})),size:Qn(Be,Math.max(Ue,ze)),alignment:ze}}function Qn(Ee,ze){return Math.ceil(Ee/ze)*ze}$n.serialize=function(Ee,ze){return Ee._trim(),ze&&(Ee.isTransferred=!0,ze.push(Ee.arrayBuffer)),{length:Ee.length,arrayBuffer:Ee.arrayBuffer}},$n.deserialize=function(Ee){var ze=Object.create(this.prototype);return ze.arrayBuffer=Ee.arrayBuffer,ze.length=Ee.length,ze.capacity=Ee.arrayBuffer.byteLength/ze.bytesPerElement,ze._refreshViews(),ze},$n.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},$n.prototype.clear=function(){this.length=0},$n.prototype.resize=function(Ee){this.reserve(Ee),this.length=Ee},$n.prototype.reserve=function(Ee){if(Ee>this.capacity){this.capacity=Math.max(Ee,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var ze=this.uint8;this._refreshViews(),ze&&this.uint8.set(ze)}},$n.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var fs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Ee,ze)},e.prototype.emplace=function(Ee,ze,Be){var Ue=2*Ee;return this.int16[Ue+0]=ze,this.int16[Ue+1]=Be,Ee},e}($n);fs.prototype.bytesPerElement=4,mn("StructArrayLayout2i4",fs);var hs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue){var We=this.length;return this.resize(We+1),this.emplace(We,Ee,ze,Be,Ue)},e.prototype.emplace=function(Ee,ze,Be,Ue,We){var $e=4*Ee;return this.int16[$e+0]=ze,this.int16[$e+1]=Be,this.int16[$e+2]=Ue,this.int16[$e+3]=We,Ee},e}($n);hs.prototype.bytesPerElement=8,mn("StructArrayLayout4i8",hs);var ms=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,Ee,ze,Be,Ue,We,$e)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe){var et=6*Ee;return this.int16[et+0]=ze,this.int16[et+1]=Be,this.int16[et+2]=Ue,this.int16[et+3]=We,this.int16[et+4]=$e,this.int16[et+5]=Qe,Ee},e}($n);ms.prototype.bytesPerElement=12,mn("StructArrayLayout2i4i12",ms);var vs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,Ee,ze,Be,Ue,We,$e)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe){var et=4*Ee,tt=8*Ee;return this.int16[et+0]=ze,this.int16[et+1]=Be,this.uint8[tt+4]=Ue,this.uint8[tt+5]=We,this.uint8[tt+6]=$e,this.uint8[tt+7]=Qe,Ee},e}($n);vs.prototype.bytesPerElement=8,mn("StructArrayLayout2i4ub8",vs);var ks=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ee,ze,Be,Ue,We,$e,Qe,et)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt){var rt=8*Ee;return this.uint16[rt+0]=ze,this.uint16[rt+1]=Be,this.uint16[rt+2]=Ue,this.uint16[rt+3]=We,this.uint16[rt+4]=$e,this.uint16[rt+5]=Qe,this.uint16[rt+6]=et,this.uint16[rt+7]=tt,Ee},e}($n);ks.prototype.bytesPerElement=16,mn("StructArrayLayout8ui16",ks);var Ms=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ee,ze,Be,Ue,We,$e,Qe,et)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt){var rt=8*Ee;return this.int16[rt+0]=ze,this.int16[rt+1]=Be,this.int16[rt+2]=Ue,this.int16[rt+3]=We,this.uint16[rt+4]=$e,this.uint16[rt+5]=Qe,this.uint16[rt+6]=et,this.uint16[rt+7]=tt,Ee},e}($n);Ms.prototype.bytesPerElement=16,mn("StructArrayLayout4i4ui16",Ms);var Ss=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Ee,ze,Be)},e.prototype.emplace=function(Ee,ze,Be,Ue){var We=3*Ee;return this.float32[We+0]=ze,this.float32[We+1]=Be,this.float32[We+2]=Ue,Ee},e}($n);Ss.prototype.bytesPerElement=12,mn("StructArrayLayout3f12",Ss);var Es=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,Ee)},e.prototype.emplace=function(Ee,ze){var Be=1*Ee;return this.uint32[Be+0]=ze,Ee},e}($n);Es.prototype.bytesPerElement=4,mn("StructArrayLayout1ul4",Es);var Ls=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at=this.length;return this.resize(at+1),this.emplace(at,Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at){var it=12*Ee,ct=6*Ee;return this.int16[it+0]=ze,this.int16[it+1]=Be,this.int16[it+2]=Ue,this.int16[it+3]=We,this.int16[it+4]=$e,this.int16[it+5]=Qe,this.uint32[ct+3]=et,this.uint16[it+8]=tt,this.uint16[it+9]=rt,this.int16[it+10]=nt,this.int16[it+11]=at,Ee},e}($n);Ls.prototype.bytesPerElement=24,mn("StructArrayLayout6i1ul2ui2i24",Ls);var Ds=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,Ee,ze,Be,Ue,We,$e)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe){var et=6*Ee;return this.int16[et+0]=ze,this.int16[et+1]=Be,this.int16[et+2]=Ue,this.int16[et+3]=We,this.int16[et+4]=$e,this.int16[et+5]=Qe,Ee},e}($n);Ds.prototype.bytesPerElement=12,mn("StructArrayLayout2i2i2i12",Ds);var Rs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue){var We=this.length;return this.resize(We+1),this.emplace(We,Ee,ze,Be,Ue)},e.prototype.emplace=function(Ee,ze,Be,Ue,We){var $e=12*Ee,Qe=3*Ee;return this.uint8[$e+0]=ze,this.uint8[$e+1]=Be,this.float32[Qe+1]=Ue,this.float32[Qe+2]=We,Ee},e}($n);Rs.prototype.bytesPerElement=12,mn("StructArrayLayout2ub2f12",Rs);var Bs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt){var kt=this.length;return this.resize(kt+1),this.emplace(kt,Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt){var Lt=22*Ee,Ut=11*Ee,er=44*Ee;return this.int16[Lt+0]=ze,this.int16[Lt+1]=Be,this.uint16[Lt+2]=Ue,this.uint16[Lt+3]=We,this.uint32[Ut+2]=$e,this.uint32[Ut+3]=Qe,this.uint32[Ut+4]=et,this.uint16[Lt+10]=tt,this.uint16[Lt+11]=rt,this.uint16[Lt+12]=nt,this.float32[Ut+7]=at,this.float32[Ut+8]=it,this.uint8[er+36]=ct,this.uint8[er+37]=ft,this.uint8[er+38]=xt,this.uint32[Ut+10]=kt,Ee},e}($n);Bs.prototype.bytesPerElement=44,mn("StructArrayLayout2i2ui3ul3ui2f3ub1ul44",Bs);var Ns=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er){var tr=this.length;return this.resize(tr+1),this.emplace(tr,Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er)},e.prototype.emplace=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr){var rr=24*Ee,ar=12*Ee;return this.int16[rr+0]=ze,this.int16[rr+1]=Be,this.int16[rr+2]=Ue,this.int16[rr+3]=We,this.int16[rr+4]=$e,this.int16[rr+5]=Qe,this.uint16[rr+6]=et,this.uint16[rr+7]=tt,this.uint16[rr+8]=rt,this.uint16[rr+9]=nt,this.uint16[rr+10]=at,this.uint16[rr+11]=it,this.uint16[rr+12]=ct,this.uint16[rr+13]=ft,this.uint16[rr+14]=xt,this.uint16[rr+15]=kt,this.uint16[rr+16]=Lt,this.uint32[ar+9]=Ut,this.float32[ar+10]=er,this.float32[ar+11]=tr,Ee},e}($n);Ns.prototype.bytesPerElement=48,mn("StructArrayLayout6i11ui1ul2f48",Ns);var js=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,Ee)},e.prototype.emplace=function(Ee,ze){var Be=1*Ee;return this.float32[Be+0]=ze,Ee},e}($n);js.prototype.bytesPerElement=4,mn("StructArrayLayout1f4",js);var Hs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Ee,ze,Be)},e.prototype.emplace=function(Ee,ze,Be,Ue){var We=3*Ee;return this.int16[We+0]=ze,this.int16[We+1]=Be,this.int16[We+2]=Ue,Ee},e}($n);Hs.prototype.bytesPerElement=6,mn("StructArrayLayout3i6",Hs);var qs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Ee,ze,Be)},e.prototype.emplace=function(Ee,ze,Be,Ue){var We=2*Ee,$e=4*Ee;return this.uint32[We+0]=ze,this.uint16[$e+2]=Be,this.uint16[$e+3]=Ue,Ee},e}($n);qs.prototype.bytesPerElement=8,mn("StructArrayLayout1ul2ui8",qs);var Ws=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be){var Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,Ee,ze,Be)},e.prototype.emplace=function(Ee,ze,Be,Ue){var We=3*Ee;return this.uint16[We+0]=ze,this.uint16[We+1]=Be,this.uint16[We+2]=Ue,Ee},e}($n);Ws.prototype.bytesPerElement=6,mn("StructArrayLayout3ui6",Ws);var Xs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Ee,ze)},e.prototype.emplace=function(Ee,ze,Be){var Ue=2*Ee;return this.uint16[Ue+0]=ze,this.uint16[Ue+1]=Be,Ee},e}($n);Xs.prototype.bytesPerElement=4,mn("StructArrayLayout2ui4",Xs);var Zs=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,Ee)},e.prototype.emplace=function(Ee,ze){var Be=1*Ee;return this.uint16[Be+0]=ze,Ee},e}($n);Zs.prototype.bytesPerElement=2,mn("StructArrayLayout1ui2",Zs);var Ks=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Ee,ze)},e.prototype.emplace=function(Ee,ze,Be){var Ue=2*Ee;return this.float32[Ue+0]=ze,this.float32[Ue+1]=Be,Ee},e}($n);Ks.prototype.bytesPerElement=8,mn("StructArrayLayout2f8",Ks);var $s=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ee,ze,Be,Ue){var We=this.length;return this.resize(We+1),this.emplace(We,Ee,ze,Be,Ue)},e.prototype.emplace=function(Ee,ze,Be,Ue,We){var $e=4*Ee;return this.float32[$e+0]=ze,this.float32[$e+1]=Be,this.float32[$e+2]=Ue,this.float32[$e+3]=We,Ee},e}($n);$s.prototype.bytesPerElement=16,mn("StructArrayLayout4f16",$s);var Qs=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return ze.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},ze.anchorPointX.set=function(Ee){this._structArray.int16[this._pos2+0]=Ee},ze.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},ze.anchorPointY.set=function(Ee){this._structArray.int16[this._pos2+1]=Ee},ze.x1.get=function(){return this._structArray.int16[this._pos2+2]},ze.x1.set=function(Ee){this._structArray.int16[this._pos2+2]=Ee},ze.y1.get=function(){return this._structArray.int16[this._pos2+3]},ze.y1.set=function(Ee){this._structArray.int16[this._pos2+3]=Ee},ze.x2.get=function(){return this._structArray.int16[this._pos2+4]},ze.x2.set=function(Ee){this._structArray.int16[this._pos2+4]=Ee},ze.y2.get=function(){return this._structArray.int16[this._pos2+5]},ze.y2.set=function(Ee){this._structArray.int16[this._pos2+5]=Ee},ze.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},ze.featureIndex.set=function(Ee){this._structArray.uint32[this._pos4+3]=Ee},ze.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},ze.sourceLayerIndex.set=function(Ee){this._structArray.uint16[this._pos2+8]=Ee},ze.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},ze.bucketIndex.set=function(Ee){this._structArray.uint16[this._pos2+9]=Ee},ze.radius.get=function(){return this._structArray.int16[this._pos2+10]},ze.radius.set=function(Ee){this._structArray.int16[this._pos2+10]=Ee},ze.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},ze.signedDistanceFromAnchor.set=function(Ee){this._structArray.int16[this._pos2+11]=Ee},ze.anchorPoint.get=function(){return new Be(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,ze),e}(Yn);Qs.prototype.size=24;var cl=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.get=function(Ee){return new Qs(this,Ee)},e}(Ls);mn("CollisionBoxArray",cl);var fl=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return ze.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},ze.anchorX.set=function(Ee){this._structArray.int16[this._pos2+0]=Ee},ze.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},ze.anchorY.set=function(Ee){this._structArray.int16[this._pos2+1]=Ee},ze.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},ze.glyphStartIndex.set=function(Ee){this._structArray.uint16[this._pos2+2]=Ee},ze.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},ze.numGlyphs.set=function(Ee){this._structArray.uint16[this._pos2+3]=Ee},ze.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},ze.vertexStartIndex.set=function(Ee){this._structArray.uint32[this._pos4+2]=Ee},ze.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},ze.lineStartIndex.set=function(Ee){this._structArray.uint32[this._pos4+3]=Ee},ze.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},ze.lineLength.set=function(Ee){this._structArray.uint32[this._pos4+4]=Ee},ze.segment.get=function(){return this._structArray.uint16[this._pos2+10]},ze.segment.set=function(Ee){this._structArray.uint16[this._pos2+10]=Ee},ze.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},ze.lowerSize.set=function(Ee){this._structArray.uint16[this._pos2+11]=Ee},ze.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},ze.upperSize.set=function(Ee){this._structArray.uint16[this._pos2+12]=Ee},ze.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},ze.lineOffsetX.set=function(Ee){this._structArray.float32[this._pos4+7]=Ee},ze.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},ze.lineOffsetY.set=function(Ee){this._structArray.float32[this._pos4+8]=Ee},ze.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},ze.writingMode.set=function(Ee){this._structArray.uint8[this._pos1+36]=Ee},ze.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},ze.placedOrientation.set=function(Ee){this._structArray.uint8[this._pos1+37]=Ee},ze.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},ze.hidden.set=function(Ee){this._structArray.uint8[this._pos1+38]=Ee},ze.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},ze.crossTileID.set=function(Ee){this._structArray.uint32[this._pos4+10]=Ee},Object.defineProperties(e.prototype,ze),e}(Yn);fl.prototype.size=44;var hl=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.get=function(Ee){return new fl(this,Ee)},e}(Bs);mn("PlacedSymbolArray",hl);var dl=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return ze.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},ze.anchorX.set=function(Ee){this._structArray.int16[this._pos2+0]=Ee},ze.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},ze.anchorY.set=function(Ee){this._structArray.int16[this._pos2+1]=Ee},ze.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},ze.rightJustifiedTextSymbolIndex.set=function(Ee){this._structArray.int16[this._pos2+2]=Ee},ze.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},ze.centerJustifiedTextSymbolIndex.set=function(Ee){this._structArray.int16[this._pos2+3]=Ee},ze.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},ze.leftJustifiedTextSymbolIndex.set=function(Ee){this._structArray.int16[this._pos2+4]=Ee},ze.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},ze.verticalPlacedTextSymbolIndex.set=function(Ee){this._structArray.int16[this._pos2+5]=Ee},ze.key.get=function(){return this._structArray.uint16[this._pos2+6]},ze.key.set=function(Ee){this._structArray.uint16[this._pos2+6]=Ee},ze.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},ze.textBoxStartIndex.set=function(Ee){this._structArray.uint16[this._pos2+7]=Ee},ze.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},ze.textBoxEndIndex.set=function(Ee){this._structArray.uint16[this._pos2+8]=Ee},ze.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},ze.verticalTextBoxStartIndex.set=function(Ee){this._structArray.uint16[this._pos2+9]=Ee},ze.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},ze.verticalTextBoxEndIndex.set=function(Ee){this._structArray.uint16[this._pos2+10]=Ee},ze.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},ze.iconBoxStartIndex.set=function(Ee){this._structArray.uint16[this._pos2+11]=Ee},ze.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},ze.iconBoxEndIndex.set=function(Ee){this._structArray.uint16[this._pos2+12]=Ee},ze.featureIndex.get=function(){return this._structArray.uint16[this._pos2+13]},ze.featureIndex.set=function(Ee){this._structArray.uint16[this._pos2+13]=Ee},ze.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+14]},ze.numHorizontalGlyphVertices.set=function(Ee){this._structArray.uint16[this._pos2+14]=Ee},ze.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+15]},ze.numVerticalGlyphVertices.set=function(Ee){this._structArray.uint16[this._pos2+15]=Ee},ze.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+16]},ze.numIconVertices.set=function(Ee){this._structArray.uint16[this._pos2+16]=Ee},ze.crossTileID.get=function(){return this._structArray.uint32[this._pos4+9]},ze.crossTileID.set=function(Ee){this._structArray.uint32[this._pos4+9]=Ee},ze.textBoxScale.get=function(){return this._structArray.float32[this._pos4+10]},ze.textBoxScale.set=function(Ee){this._structArray.float32[this._pos4+10]=Ee},ze.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+11]},ze.radialTextOffset.set=function(Ee){this._structArray.float32[this._pos4+11]=Ee},Object.defineProperties(e.prototype,ze),e}(Yn);dl.prototype.size=48;var pl=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.get=function(Ee){return new dl(this,Ee)},e}(Ns);mn("SymbolInstanceArray",pl);var gl=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={offsetX:{configurable:!0}};return ze.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},ze.offsetX.set=function(Ee){this._structArray.float32[this._pos4+0]=Ee},Object.defineProperties(e.prototype,ze),e}(Yn);gl.prototype.size=4;var yl=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(Ee){return this.float32[1*Ee+0]},e.prototype.get=function(Ee){return new gl(this,Ee)},e}(js);mn("GlyphOffsetArray",yl);var wl=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return ze.x.get=function(){return this._structArray.int16[this._pos2+0]},ze.x.set=function(Ee){this._structArray.int16[this._pos2+0]=Ee},ze.y.get=function(){return this._structArray.int16[this._pos2+1]},ze.y.set=function(Ee){this._structArray.int16[this._pos2+1]=Ee},ze.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},ze.tileUnitDistanceFromAnchor.set=function(Ee){this._structArray.int16[this._pos2+2]=Ee},Object.defineProperties(e.prototype,ze),e}(Yn);wl.prototype.size=6;var Tl=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getx=function(Ee){return this.int16[3*Ee+0]},e.prototype.gety=function(Ee){return this.int16[3*Ee+1]},e.prototype.gettileUnitDistanceFromAnchor=function(Ee){return this.int16[3*Ee+2]},e.prototype.get=function(Ee){return new wl(this,Ee)},e}(Hs);mn("SymbolLineVertexArray",Tl);var kl=function(Ee){function e(){Ee.apply(this,arguments)}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return ze.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},ze.featureIndex.set=function(Ee){this._structArray.uint32[this._pos4+0]=Ee},ze.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},ze.sourceLayerIndex.set=function(Ee){this._structArray.uint16[this._pos2+2]=Ee},ze.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},ze.bucketIndex.set=function(Ee){this._structArray.uint16[this._pos2+3]=Ee},Object.defineProperties(e.prototype,ze),e}(Yn);kl.prototype.size=8;var Al=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.get=function(Ee){return new kl(this,Ee)},e}(qs);mn("FeatureIndexArray",Al);var Ml=Wn([{name:"a_pos",components:2,type:"Int16"}],4).members,Vi=function(Ee){void 0===Ee&&(Ee=[]),this.segments=Ee};function Fi(Ee,ze){return 256*(Ee=l(Math.floor(Ee),0,255))+l(Math.floor(ze),0,255)}Vi.prototype.prepareSegment=function(Ee,ze,Be,Ue){var We=this.segments[this.segments.length-1];return Ee>Vi.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+Vi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+Ee),(!We||We.vertexLength+Ee>Vi.MAX_VERTEX_ARRAY_LENGTH||We.sortKey!==Ue)&&(We={vertexOffset:ze.length,primitiveOffset:Be.length,vertexLength:0,primitiveLength:0},void 0!==Ue&&(We.sortKey=Ue),this.segments.push(We)),We},Vi.prototype.get=function(){return this.segments},Vi.prototype.destroy=function(){for(var Ee=0,ze=this.segments;Ee<ze.length;Ee+=1){var Be=ze[Ee];for(var Ue in Be.vaos)Be.vaos[Ue].destroy()}},Vi.simpleSegment=function(Ee,ze,Be,Ue){return new Vi([{vertexOffset:Ee,primitiveOffset:ze,vertexLength:Be,primitiveLength:Ue,vaos:{},sortKey:0}])},Vi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,mn("SegmentVector",Vi);var Oi=function(){this.ids=[],this.positions=[],this.indexed=!1};function Li(Ee,ze,Be){var Ue=Ee[ze];Ee[ze]=Ee[Be],Ee[Be]=Ue}Oi.prototype.add=function(Ee,ze,Be,Ue){this.ids.push(Ee),this.positions.push(ze,Be,Ue)},Oi.prototype.getPositions=function(Ee){for(var ze=0,Be=this.ids.length-1;ze<Be;){var Ue=ze+Be>>1;this.ids[Ue]>=Ee?Be=Ue:ze=Ue+1}for(var We=[];this.ids[ze]===Ee;){var $e=this.positions[3*ze],Qe=this.positions[3*ze+1],et=this.positions[3*ze+2];We.push({index:$e,start:Qe,end:et}),ze++}return We},Oi.serialize=function(Ee,ze){var Be=new Float64Array(Ee.ids),Ue=new Uint32Array(Ee.positions);return function t(Ee,ze,Be,Ue){if(!(Be>=Ue)){for(var We=Ee[Be+Ue>>1],$e=Be-1,Qe=Ue+1;;){do{$e++}while(Ee[$e]<We);do{Qe--}while(Ee[Qe]>We);if($e>=Qe)break;Li(Ee,$e,Qe),Li(ze,3*$e,3*Qe),Li(ze,3*$e+1,3*Qe+1),Li(ze,3*$e+2,3*Qe+2)}t(Ee,ze,Be,Qe),t(Ee,ze,Qe+1,Ue)}}(Be,Ue,0,Be.length-1),ze.push(Be.buffer,Ue.buffer),{ids:Be,positions:Ue}},Oi.deserialize=function(Ee){var ze=new Oi;return ze.ids=Ee.ids,ze.positions=Ee.positions,ze.indexed=!0,ze},mn("FeaturePositionMap",Oi);var Di=function(Ee,ze){this.gl=Ee.gl,this.location=ze},Sl=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=0}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){this.current!==Ee&&(this.current=Ee,this.gl.uniform1i(this.location,Ee))},e}(Di),Cl=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=0}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){this.current!==Ee&&(this.current=Ee,this.gl.uniform1f(this.location,Ee))},e}(Di),El=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=[0,0]}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){Ee[0]===this.current[0]&&Ee[1]===this.current[1]||(this.current=Ee,this.gl.uniform2f(this.location,Ee[0],Ee[1]))},e}(Di),Pl=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=[0,0,0]}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){Ee[0]===this.current[0]&&Ee[1]===this.current[1]&&Ee[2]===this.current[2]||(this.current=Ee,this.gl.uniform3f(this.location,Ee[0],Ee[1],Ee[2]))},e}(Di),Ll=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=[0,0,0,0]}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){Ee[0]===this.current[0]&&Ee[1]===this.current[1]&&Ee[2]===this.current[2]&&Ee[3]===this.current[3]||(this.current=Ee,this.gl.uniform4f(this.location,Ee[0],Ee[1],Ee[2],Ee[3]))},e}(Di),Ol=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=Ht.transparent}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){Ee.r===this.current.r&&Ee.g===this.current.g&&Ee.b===this.current.b&&Ee.a===this.current.a||(this.current=Ee,this.gl.uniform4f(this.location,Ee.r,Ee.g,Ee.b,Ee.a))},e}(Di),Dl=new Float32Array(16),Il=function(Ee){function e(ze,Be){Ee.call(this,ze,Be),this.current=Dl}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){if(Ee[12]!==this.current[12]||Ee[0]!==this.current[0])return this.current=Ee,void this.gl.uniformMatrix4fv(this.location,!1,Ee);for(var ze=1;ze<16;ze++)if(Ee[ze]!==this.current[ze]){this.current=Ee,this.gl.uniformMatrix4fv(this.location,!1,Ee);break}},e}(Di);function Gi(Ee){return[Fi(255*Ee.r,255*Ee.g),Fi(255*Ee.b,255*Ee.a)]}var Ji=function(Ee,ze,Be){this.value=Ee,this.names=ze,this.uniformNames=this.names.map((function(Ee){return"u_"+Ee})),this.type=Be,this.maxValue=-1/0};Ji.prototype.defines=function(){return this.names.map((function(Ee){return"#define HAS_UNIFORM_u_"+Ee}))},Ji.prototype.setConstantPatternPositions=function(){},Ji.prototype.populatePaintArray=function(){},Ji.prototype.updatePaintArray=function(){},Ji.prototype.upload=function(){},Ji.prototype.destroy=function(){},Ji.prototype.setUniforms=function(Ee,ze,Be,Ue){ze.set(Ue.constantOr(this.value))},Ji.prototype.getBinding=function(Ee,ze){return"color"===this.type?new Ol(Ee,ze):new Cl(Ee,ze)},Ji.serialize=function(Ee){var ze=Ee.value,Be=Ee.names,Ue=Ee.type;return{value:gn(ze),names:Be,type:Ue}},Ji.deserialize=function(Ee){var ze=Ee.value,Be=Ee.names,Ue=Ee.type;return new Ji(xn(ze),Be,Ue)};var Hi=function(Ee,ze,Be){this.value=Ee,this.names=ze,this.uniformNames=this.names.map((function(Ee){return"u_"+Ee})),this.type=Be,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Hi.prototype.defines=function(){return this.names.map((function(Ee){return"#define HAS_UNIFORM_u_"+Ee}))},Hi.prototype.populatePaintArray=function(){},Hi.prototype.updatePaintArray=function(){},Hi.prototype.upload=function(){},Hi.prototype.destroy=function(){},Hi.prototype.setConstantPatternPositions=function(Ee,ze){this.patternPositions.patternTo=Ee.tlbr,this.patternPositions.patternFrom=ze.tlbr},Hi.prototype.setUniforms=function(Ee,ze,Be,Ue,We){var $e=this.patternPositions;"u_pattern_to"===We&&$e.patternTo&&ze.set($e.patternTo),"u_pattern_from"===We&&$e.patternFrom&&ze.set($e.patternFrom)},Hi.prototype.getBinding=function(Ee,ze){return new Ll(Ee,ze)};var Yi=function(Ee,ze,Be,Ue){this.expression=Ee,this.names=ze,this.type=Be,this.uniformNames=this.names.map((function(Ee){return"a_"+Ee})),this.maxValue=-1/0,this.paintVertexAttributes=ze.map((function(Ee){return{name:"a_"+Ee,type:"Float32",components:"color"===Be?2:1,offset:0}})),this.paintVertexArray=new Ue};Yi.prototype.defines=function(){return[]},Yi.prototype.setConstantPatternPositions=function(){},Yi.prototype.populatePaintArray=function(Ee,ze,Be,Ue){var We=this.paintVertexArray,$e=We.length;We.reserve(Ee);var Qe=this.expression.evaluate(new Tn(0),ze,{},Ue);if("color"===this.type)for(var et=Gi(Qe),tt=$e;tt<Ee;tt++)We.emplaceBack(et[0],et[1]);else{for(var rt=$e;rt<Ee;rt++)We.emplaceBack(Qe);this.maxValue=Math.max(this.maxValue,Qe)}},Yi.prototype.updatePaintArray=function(Ee,ze,Be,Ue){var We=this.paintVertexArray,$e=this.expression.evaluate({zoom:0},Be,Ue);if("color"===this.type)for(var Qe=Gi($e),et=Ee;et<ze;et++)We.emplace(et,Qe[0],Qe[1]);else{for(var tt=Ee;tt<ze;tt++)We.emplace(tt,$e);this.maxValue=Math.max(this.maxValue,$e)}},Yi.prototype.upload=function(Ee){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ee.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Yi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Yi.prototype.setUniforms=function(Ee,ze){ze.set(0)},Yi.prototype.getBinding=function(Ee,ze){return new Cl(Ee,ze)};var $i=function(Ee,ze,Be,Ue,We,$e){this.expression=Ee,this.names=ze,this.uniformNames=this.names.map((function(Ee){return"u_"+Ee+"_t"})),this.type=Be,this.useIntegerZoom=Ue,this.zoom=We,this.maxValue=-1/0;var Qe=$e;this.paintVertexAttributes=ze.map((function(Ee){return{name:"a_"+Ee,type:"Float32",components:"color"===Be?4:2,offset:0}})),this.paintVertexArray=new Qe};$i.prototype.defines=function(){return[]},$i.prototype.setConstantPatternPositions=function(){},$i.prototype.populatePaintArray=function(Ee,ze,Be,Ue){var We=this.paintVertexArray,$e=We.length;We.reserve(Ee);var Qe=this.expression.evaluate(new Tn(this.zoom),ze,{},Ue),et=this.expression.evaluate(new Tn(this.zoom+1),ze,{},Ue);if("color"===this.type)for(var tt=Gi(Qe),rt=Gi(et),nt=$e;nt<Ee;nt++)We.emplaceBack(tt[0],tt[1],rt[0],rt[1]);else{for(var at=$e;at<Ee;at++)We.emplaceBack(Qe,et);this.maxValue=Math.max(this.maxValue,Qe,et)}},$i.prototype.updatePaintArray=function(Ee,ze,Be,Ue){var We=this.paintVertexArray,$e=this.expression.evaluate({zoom:this.zoom},Be,Ue),Qe=this.expression.evaluate({zoom:this.zoom+1},Be,Ue);if("color"===this.type)for(var et=Gi($e),tt=Gi(Qe),rt=Ee;rt<ze;rt++)We.emplace(rt,et[0],et[1],tt[0],tt[1]);else{for(var nt=Ee;nt<ze;nt++)We.emplace(nt,$e,Qe);this.maxValue=Math.max(this.maxValue,$e,Qe)}},$i.prototype.upload=function(Ee){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ee.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},$i.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},$i.prototype.interpolationFactor=function(Ee){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(Ee),this.zoom,this.zoom+1):this.expression.interpolationFactor(Ee,this.zoom,this.zoom+1)},$i.prototype.setUniforms=function(Ee,ze,Be){ze.set(this.interpolationFactor(Be.zoom))},$i.prototype.getBinding=function(Ee,ze){return new Cl(Ee,ze)};var Wi=function(Ee,ze,Be,Ue,We,$e,Qe){this.expression=Ee,this.names=ze,this.type=Be,this.uniformNames=this.names.map((function(Ee){return"u_"+Ee+"_t"})),this.useIntegerZoom=Ue,this.zoom=We,this.maxValue=-1/0,this.layerId=Qe,this.paintVertexAttributes=ze.map((function(Ee){return{name:"a_"+Ee,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new $e,this.zoomOutPaintVertexArray=new $e};Wi.prototype.defines=function(){return[]},Wi.prototype.setConstantPatternPositions=function(){},Wi.prototype.populatePaintArray=function(Ee,ze,Be){var Ue=this.zoomInPaintVertexArray,We=this.zoomOutPaintVertexArray,$e=this.layerId,Qe=Ue.length;if(Ue.reserve(Ee),We.reserve(Ee),Be&&ze.patterns&&ze.patterns[$e]){var et=ze.patterns[$e],tt=et.min,rt=et.mid,nt=et.max,at=Be[tt],it=Be[rt],ct=Be[nt];if(!at||!it||!ct)return;for(var ft=Qe;ft<Ee;ft++)Ue.emplaceBack(it.tl[0],it.tl[1],it.br[0],it.br[1],at.tl[0],at.tl[1],at.br[0],at.br[1]),We.emplaceBack(it.tl[0],it.tl[1],it.br[0],it.br[1],ct.tl[0],ct.tl[1],ct.br[0],ct.br[1])}},Wi.prototype.updatePaintArray=function(Ee,ze,Be,Ue,We){var $e=this.zoomInPaintVertexArray,Qe=this.zoomOutPaintVertexArray,et=this.layerId;if(We&&Be.patterns&&Be.patterns[et]){var tt=Be.patterns[et],rt=tt.min,nt=tt.mid,at=tt.max,it=We[rt],ct=We[nt],ft=We[at];if(!it||!ct||!ft)return;for(var xt=Ee;xt<ze;xt++)$e.emplace(xt,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],it.tl[0],it.tl[1],it.br[0],it.br[1]),Qe.emplace(xt,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1])}},Wi.prototype.upload=function(Ee){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=Ee.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=Ee.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Wi.prototype.setUniforms=function(Ee,ze){ze.set(0)},Wi.prototype.getBinding=function(Ee,ze){return new Cl(Ee,ze)};var Qi=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Oi,this._bufferOffset=0};Qi.createDynamic=function(Ee,ze,Be){var Ue=new Qi,We=[];for(var $e in Ee.paint._values)if(Be($e)){var Qe=Ee.paint.get($e);if(Qe instanceof Rn&&hr(Qe.property.specification)){var et=ea($e,Ee.type),tt=Qe.property.specification.type,rt=Qe.property.useIntegerZoom;if("cross-faded"===Qe.property.specification["property-type"]||"cross-faded-data-driven"===Qe.property.specification["property-type"])if("constant"===Qe.value.kind)Ue.binders[$e]=new Hi(Qe.value.value,et,tt),We.push("/u_"+$e);else{var nt=ra($e,tt,"source");Ue.binders[$e]=new Wi(Qe.value,et,tt,rt,ze,nt,Ee.id),We.push("/a_"+$e)}else if("constant"===Qe.value.kind)Ue.binders[$e]=new Ji(Qe.value.value,et,tt),We.push("/u_"+$e);else if("source"===Qe.value.kind){var at=ra($e,tt,"source");Ue.binders[$e]=new Yi(Qe.value,et,tt,at),We.push("/a_"+$e)}else{var it=ra($e,tt,"composite");Ue.binders[$e]=new $i(Qe.value,et,tt,rt,ze,it),We.push("/z_"+$e)}}}return Ue.cacheKey=We.sort().join(""),Ue},Qi.prototype.populatePaintArrays=function(Ee,ze,Be,Ue,We){for(var $e in this.binders)this.binders[$e].populatePaintArray(Ee,ze,Ue,We);void 0!==ze.id&&this._featureMap.add(+ze.id,Be,this._bufferOffset,Ee),this._bufferOffset=Ee},Qi.prototype.setConstantPatternPositions=function(Ee,ze){for(var Be in this.binders)this.binders[Be].setConstantPatternPositions(Ee,ze)},Qi.prototype.updatePaintArrays=function(Ee,ze,Be,Ue){var We=!1;for(var $e in Ee)for(var Qe=0,et=this._featureMap.getPositions(+$e);Qe<et.length;Qe+=1){var tt=et[Qe],rt=ze.feature(tt.index);for(var nt in this.binders){var at=this.binders[nt];if(!(at instanceof Ji||at instanceof Hi)&&!0===at.expression.isStateDependent){var it=Be.paint.get(nt);at.expression=it.value,at.updatePaintArray(tt.start,tt.end,rt,Ee[$e],Ue),We=!0}}}return We},Qi.prototype.defines=function(){var Ee=[];for(var ze in this.binders)Ee.push.apply(Ee,this.binders[ze].defines());return Ee},Qi.prototype.getPaintVertexBuffers=function(){return this._buffers},Qi.prototype.getUniforms=function(Ee,ze){var Be=[];for(var Ue in this.binders)for(var We=this.binders[Ue],$e=0,Qe=We.uniformNames;$e<Qe.length;$e+=1){var et=Qe[$e];if(ze[et]){var tt=We.getBinding(Ee,ze[et]);Be.push({name:et,property:Ue,binding:tt})}}return Be},Qi.prototype.setUniforms=function(Ee,ze,Be,Ue){for(var We=0,$e=ze;We<$e.length;We+=1){var Qe=$e[We],et=Qe.name,tt=Qe.property,rt=Qe.binding;this.binders[tt].setUniforms(Ee,rt,Ue,Be.get(tt),et)}},Qi.prototype.updatePatternPaintBuffers=function(Ee){var ze=[];for(var Be in this.binders){var Ue=this.binders[Be];if(Ue instanceof Wi){var We=2===Ee.fromScale?Ue.zoomInPaintVertexBuffer:Ue.zoomOutPaintVertexBuffer;We&&ze.push(We)}else(Ue instanceof Yi||Ue instanceof $i)&&Ue.paintVertexBuffer&&ze.push(Ue.paintVertexBuffer)}this._buffers=ze},Qi.prototype.upload=function(Ee){for(var ze in this.binders)this.binders[ze].upload(Ee);var Be=[];for(var Ue in this.binders){var We=this.binders[Ue];(We instanceof Yi||We instanceof $i)&&We.paintVertexBuffer&&Be.push(We.paintVertexBuffer)}this._buffers=Be},Qi.prototype.destroy=function(){for(var Ee in this.binders)this.binders[Ee].destroy()};var ta=function(Ee,ze,Be,Ue){void 0===Ue&&(Ue=function(){return!0}),this.programConfigurations={};for(var We=0,$e=ze;We<$e.length;We+=1){var Qe=$e[We];this.programConfigurations[Qe.id]=Qi.createDynamic(Qe,Be,Ue),this.programConfigurations[Qe.id].layoutAttributes=Ee}this.needsUpload=!1};function ea(Ee,ze){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[Ee]||[Ee.replace(ze+"-","").replace(/-/g,"_")]}function ra(Ee,ze,Be){var Ue={color:{source:Ks,composite:$s},number:{source:js,composite:Ks}},We=function(Ee){return{"line-pattern":{source:ks,composite:ks},"fill-pattern":{source:ks,composite:ks},"fill-extrusion-pattern":{source:ks,composite:ks}}[Ee]}(Ee);return We&&We[Be]||Ue[ze][Be]}ta.prototype.populatePaintArrays=function(Ee,ze,Be,Ue,We){for(var $e in this.programConfigurations)this.programConfigurations[$e].populatePaintArrays(Ee,ze,Be,Ue,We);this.needsUpload=!0},ta.prototype.updatePaintArrays=function(Ee,ze,Be,Ue){for(var We=0,$e=Be;We<$e.length;We+=1){var Qe=$e[We];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(Ee,ze,Qe,Ue)||this.needsUpload}},ta.prototype.get=function(Ee){return this.programConfigurations[Ee]},ta.prototype.upload=function(Ee){if(this.needsUpload){for(var ze in this.programConfigurations)this.programConfigurations[ze].upload(Ee);this.needsUpload=!1}},ta.prototype.destroy=function(){for(var Ee in this.programConfigurations)this.programConfigurations[Ee].destroy()},mn("ConstantBinder",Ji),mn("CrossFadedConstantBinder",Hi),mn("SourceExpressionBinder",Yi),mn("CrossFadedCompositeBinder",Wi),mn("CompositeExpressionBinder",$i),mn("ProgramConfiguration",Qi,{omit:["_buffers"]}),mn("ProgramConfigurationSet",ta);var zl=8192,Rl={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function oa(Ee){for(var ze=zl/Ee.extent,Be=Ee.loadGeometry(),Ue=0;Ue<Be.length;Ue++)for(var We=Be[Ue],$e=0;$e<We.length;$e++){var Qe=We[$e];Qe.x=Math.round(Qe.x*ze),Qe.y=Math.round(Qe.y*ze),(Qe.x<Rl.min||Qe.x>Rl.max||Qe.y<Rl.min||Qe.y>Rl.max)&&(w("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Qe.x=l(Qe.x,Rl.min,Rl.max),Qe.y=l(Qe.y,Rl.min,Rl.max))}return Be}function sa(Ee,ze,Be,Ue,We){Ee.emplaceBack(2*ze+(Ue+1)/2,2*Be+(We+1)/2)}var ua=function(Ee){this.zoom=Ee.zoom,this.overscaling=Ee.overscaling,this.layers=Ee.layers,this.layerIds=this.layers.map((function(Ee){return Ee.id})),this.index=Ee.index,this.hasPattern=!1,this.layoutVertexArray=new fs,this.indexArray=new Ws,this.segments=new Vi,this.programConfigurations=new ta(Ml,Ee.layers,Ee.zoom),this.stateDependentLayerIds=this.layers.filter((function(Ee){return Ee.isStateDependent()})).map((function(Ee){return Ee.id}))};function la(Ee,ze){for(var Be=0;Be<Ee.length;Be++)if(ga(ze,Ee[Be]))return!0;for(var Ue=0;Ue<ze.length;Ue++)if(ga(Ee,ze[Ue]))return!0;return!!fa(Ee,ze)}function pa(Ee,ze,Be){return!!ga(Ee,ze)||!!da(ze,Ee,Be)}function ca(Ee,ze){if(1===Ee.length)return va(ze,Ee[0]);for(var Be=0;Be<ze.length;Be++)for(var Ue=ze[Be],We=0;We<Ue.length;We++)if(ga(Ee,Ue[We]))return!0;for(var $e=0;$e<Ee.length;$e++)if(va(ze,Ee[$e]))return!0;for(var Qe=0;Qe<ze.length;Qe++)if(fa(Ee,ze[Qe]))return!0;return!1}function ha(Ee,ze,Be){if(Ee.length>1){if(fa(Ee,ze))return!0;for(var Ue=0;Ue<ze.length;Ue++)if(da(ze[Ue],Ee,Be))return!0}for(var We=0;We<Ee.length;We++)if(da(Ee[We],ze,Be))return!0;return!1}function fa(Ee,ze){if(0===Ee.length||0===ze.length)return!1;for(var Be=0;Be<Ee.length-1;Be++)for(var Ue=Ee[Be],We=Ee[Be+1],$e=0;$e<ze.length-1;$e++)if(ya(Ue,We,ze[$e],ze[$e+1]))return!0;return!1}function ya(Ee,ze,Be,Ue){return A(Ee,Be,Ue)!==A(ze,Be,Ue)&&A(Ee,ze,Be)!==A(Ee,ze,Ue)}function da(Ee,ze,Be){var Ue=Be*Be;if(1===ze.length)return Ee.distSqr(ze[0])<Ue;for(var We=1;We<ze.length;We++)if(ma(Ee,ze[We-1],ze[We])<Ue)return!0;return!1}function ma(Ee,ze,Be){var Ue=ze.distSqr(Be);if(0===Ue)return Ee.distSqr(ze);var We=((Ee.x-ze.x)*(Be.x-ze.x)+(Ee.y-ze.y)*(Be.y-ze.y))/Ue;return We<0?Ee.distSqr(ze):We>1?Ee.distSqr(Be):Ee.distSqr(Be.sub(ze)._mult(We)._add(ze))}function va(Ee,ze){for(var Be,Ue,We,$e=!1,Qe=0;Qe<Ee.length;Qe++)for(var et=0,tt=(Be=Ee[Qe]).length-1;et<Be.length;tt=et++)Ue=Be[et],We=Be[tt],Ue.y>ze.y!=We.y>ze.y&&ze.x<(We.x-Ue.x)*(ze.y-Ue.y)/(We.y-Ue.y)+Ue.x&&($e=!$e);return $e}function ga(Ee,ze){for(var Be=!1,Ue=0,We=Ee.length-1;Ue<Ee.length;We=Ue++){var $e=Ee[Ue],Qe=Ee[We];$e.y>ze.y!=Qe.y>ze.y&&ze.x<(Qe.x-$e.x)*(ze.y-$e.y)/(Qe.y-$e.y)+$e.x&&(Be=!Be)}return Be}function xa(Ee,ze,Be){var Ue=Be[0],We=Be[2];if(Ee.x<Ue.x&&ze.x<Ue.x||Ee.x>We.x&&ze.x>We.x||Ee.y<Ue.y&&ze.y<Ue.y||Ee.y>We.y&&ze.y>We.y)return!1;var $e=A(Ee,ze,Be[0]);return $e!==A(Ee,ze,Be[1])||$e!==A(Ee,ze,Be[2])||$e!==A(Ee,ze,Be[3])}function ba(Ee,ze,Be){var Ue=ze.paint.get(Ee).value;return"constant"===Ue.kind?Ue.value:Be.programConfigurations.get(ze.id).binders[Ee].maxValue}function _a(Ee){return Math.sqrt(Ee[0]*Ee[0]+Ee[1]*Ee[1])}function wa(Ee,ze,Ue,We,$e){if(!ze[0]&&!ze[1])return Ee;var Qe=Be.convert(ze)._mult($e);"viewport"===Ue&&Qe._rotate(-We);for(var et=[],tt=0;tt<Ee.length;tt++){var rt=Ee[tt];et.push(rt.sub(Qe))}return et}ua.prototype.populate=function(Ee,ze){var Be=this.layers[0],Ue=[],We=null;"circle"===Be.type&&(We=Be.layout.get("circle-sort-key"));for(var $e=0,Qe=Ee;$e<Qe.length;$e+=1){var et=Qe[$e],tt=et.feature,rt=et.index,nt=et.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),tt)){var at=oa(tt),it=We?We.evaluate(tt,{}):void 0,ct={id:tt.id,properties:tt.properties,type:tt.type,sourceLayerIndex:nt,index:rt,geometry:at,patterns:{},sortKey:it};Ue.push(ct)}}We&&Ue.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}));for(var ft=0,xt=Ue;ft<xt.length;ft+=1){var kt=xt[ft],Lt=kt,Ut=Lt.geometry,er=Lt.index,tr=Lt.sourceLayerIndex,rr=Ee[er].feature;this.addFeature(kt,Ut,er),ze.featureIndex.insert(rr,Ut,er,tr,this.index)}},ua.prototype.update=function(Ee,ze,Be){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ee,ze,this.stateDependentLayers,Be)},ua.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ua.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ua.prototype.upload=function(Ee){this.uploaded||(this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,Ml),this.indexBuffer=Ee.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ee),this.uploaded=!0},ua.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ua.prototype.addFeature=function(Ee,ze,Be){for(var Ue=0,We=ze;Ue<We.length;Ue+=1)for(var $e=0,Qe=We[Ue];$e<Qe.length;$e+=1){var et=Qe[$e],tt=et.x,rt=et.y;if(!(tt<0||tt>=zl||rt<0||rt>=zl)){var nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,Ee.sortKey),at=nt.vertexLength;sa(this.layoutVertexArray,tt,rt,-1,-1),sa(this.layoutVertexArray,tt,rt,1,-1),sa(this.layoutVertexArray,tt,rt,1,1),sa(this.layoutVertexArray,tt,rt,-1,1),this.indexArray.emplaceBack(at,at+1,at+2),this.indexArray.emplaceBack(at,at+3,at+2),nt.vertexLength+=4,nt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ee,Be,{})},mn("CircleBucket",ua,{omit:["layers"]});var Bl,Fl=new Gn({"circle-sort-key":new Nn(En.layout_circle["circle-sort-key"])}),Nl={paint:new Gn({"circle-radius":new Nn(En.paint_circle["circle-radius"]),"circle-color":new Nn(En.paint_circle["circle-color"]),"circle-blur":new Nn(En.paint_circle["circle-blur"]),"circle-opacity":new Nn(En.paint_circle["circle-opacity"]),"circle-translate":new qn(En.paint_circle["circle-translate"]),"circle-translate-anchor":new qn(En.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qn(En.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qn(En.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Nn(En.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Nn(En.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Nn(En.paint_circle["circle-stroke-opacity"])}),layout:Fl},jl="undefined"!=typeof Float32Array?Float32Array:Array;function Ca(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3];return Ee[0]=Be[0]*Ue+Be[4]*We+Be[8]*$e+Be[12]*Qe,Ee[1]=Be[1]*Ue+Be[5]*We+Be[9]*$e+Be[13]*Qe,Ee[2]=Be[2]*Ue+Be[6]*We+Be[10]*$e+Be[14]*Qe,Ee[3]=Be[3]*Ue+Be[7]*We+Be[11]*$e+Be[15]*Qe,Ee}Math.hypot||(Math.hypot=function(){for(var Ee=arguments,ze=0,Be=arguments.length;Be--;)ze+=Ee[Be]*Ee[Be];return Math.sqrt(ze)}),Bl=new jl(3),jl!=Float32Array&&(Bl[0]=0,Bl[1]=0,Bl[2]=0),function(){var Ee=new jl(4);jl!=Float32Array&&(Ee[0]=0,Ee[1]=0,Ee[2]=0,Ee[3]=0)}();var Vl=function(Ee){function e(ze){Ee.call(this,ze,Nl)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(Ee){return new ua(Ee)},e.prototype.queryRadius=function(Ee){var ze=Ee;return ba("circle-radius",this,ze)+ba("circle-stroke-width",this,ze)+_a(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(Ee,ze,Be,Ue,We,$e,Qe,et){for(var tt=wa(Ee,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),$e.angle,Qe),rt=this.paint.get("circle-radius").evaluate(ze,Be)+this.paint.get("circle-stroke-width").evaluate(ze,Be),nt="map"===this.paint.get("circle-pitch-alignment"),at=nt?tt:function(Ee,ze){return Ee.map((function(Ee){return Ea(Ee,ze)}))}(tt,et),it=nt?rt*Qe:rt,ct=0,ft=Ue;ct<ft.length;ct+=1)for(var xt=0,kt=ft[ct];xt<kt.length;xt+=1){var Lt=kt[xt],Ut=nt?Lt:Ea(Lt,et),er=it,tr=Ca([],[Lt.x,Lt.y,0,1],et);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?er*=tr[3]/$e.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(er*=$e.cameraToCenterDistance/tr[3]),pa(at,Ut,er))return!0}return!1},e}(cs);function Ea(Ee,ze){var Ue=Ca([],[Ee.x,Ee.y,0,1],ze);return new Be(Ue[0]/Ue[3],Ue[1]/Ue[3])}var Ul=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e}(ua);function Pa(Ee,ze,Be,Ue){var We=ze.width,$e=ze.height;if(Ue){if(Ue instanceof Uint8ClampedArray)Ue=new Uint8Array(Ue.buffer);else if(Ue.length!==We*$e*Be)throw new RangeError("mismatched image size")}else Ue=new Uint8Array(We*$e*Be);return Ee.width=We,Ee.height=$e,Ee.data=Ue,Ee}function Ta(Ee,ze,Be){var Ue=ze.width,We=ze.height;if(Ue!==Ee.width||We!==Ee.height){var $e=Pa({},{width:Ue,height:We},Be);Va(Ee,$e,{x:0,y:0},{x:0,y:0},{width:Math.min(Ee.width,Ue),height:Math.min(Ee.height,We)},Be),Ee.width=Ue,Ee.height=We,Ee.data=$e.data}}function Va(Ee,ze,Be,Ue,We,$e){if(0===We.width||0===We.height)return ze;if(We.width>Ee.width||We.height>Ee.height||Be.x>Ee.width-We.width||Be.y>Ee.height-We.height)throw new RangeError("out of range source coordinates for image copy");if(We.width>ze.width||We.height>ze.height||Ue.x>ze.width-We.width||Ue.y>ze.height-We.height)throw new RangeError("out of range destination coordinates for image copy");for(var Qe=Ee.data,et=ze.data,tt=0;tt<We.height;tt++)for(var rt=((Be.y+tt)*Ee.width+Be.x)*$e,nt=((Ue.y+tt)*ze.width+Ue.x)*$e,at=0;at<We.width*$e;at++)et[nt+at]=Qe[rt+at];return ze}mn("HeatmapBucket",Ul,{omit:["layers"]});var Fa=function(Ee,ze){Pa(this,Ee,1,ze)};Fa.prototype.resize=function(Ee){Ta(this,Ee,1)},Fa.prototype.clone=function(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))},Fa.copy=function(Ee,ze,Be,Ue,We){Va(Ee,ze,Be,Ue,We,1)};var Oa=function(Ee,ze){Pa(this,Ee,4,ze)};Oa.prototype.resize=function(Ee){Ta(this,Ee,4)},Oa.prototype.replace=function(Ee,ze){ze?this.data.set(Ee):Ee instanceof Uint8ClampedArray?this.data=new Uint8Array(Ee.buffer):this.data=Ee},Oa.prototype.clone=function(){return new Oa({width:this.width,height:this.height},new Uint8Array(this.data))},Oa.copy=function(Ee,ze,Be,Ue,We){Va(Ee,ze,Be,Ue,We,4)},mn("AlphaImage",Fa),mn("RGBAImage",Oa);var Hl={paint:new Gn({"heatmap-radius":new Nn(En.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Nn(En.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qn(En.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Xn(En.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qn(En.paint_heatmap["heatmap-opacity"])})};function Da(Ee,ze){for(var Be=new Uint8Array(1024),Ue={},We=0,$e=0;We<256;We++,$e+=4){Ue[ze]=We/255;var Qe=Ee.evaluate(Ue);Be[$e+0]=Math.floor(255*Qe.r/Qe.a),Be[$e+1]=Math.floor(255*Qe.g/Qe.a),Be[$e+2]=Math.floor(255*Qe.b/Qe.a),Be[$e+3]=Math.floor(255*Qe.a)}return new Oa({width:256,height:1},Be)}var ql=function(Ee){function e(ze){Ee.call(this,ze,Hl),this._updateColorRamp()}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(Ee){return new Ul(Ee)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ee){"heatmap-color"===Ee&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var Ee=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Da(Ee,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(cs),Gl={paint:new Gn({"hillshade-illumination-direction":new qn(En.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qn(En.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qn(En.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qn(En.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qn(En.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qn(En.paint_hillshade["hillshade-accent-color"])})},Yl=function(Ee){function e(ze){Ee.call(this,ze,Gl)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(cs),Wl=Wn([{name:"a_pos",components:2,type:"Int16"}],4).members,Xl=Za,Zl=Za;function Za(Ee,ze,Be){Be=Be||2;var Ue,We,$e,Qe,et,tt,rt,nt=ze&&ze.length,at=nt?ze[0]*Be:Ee.length,it=Xa(Ee,0,at,Be,!0),ct=[];if(!it||it.next===it.prev)return ct;if(nt&&(it=function(Ee,ze,Be,Ue){var We,$e,Qe,et=[];for(We=0,$e=ze.length;We<$e;We++)(Qe=Xa(Ee,ze[We]*Ue,We<$e-1?ze[We+1]*Ue:Ee.length,Ue,!1))===Qe.next&&(Qe.steiner=!0),et.push(no(Qe));for(et.sort(Qa),We=0;We<et.length;We++)to(et[We],Be),Be=Ga(Be,Be.next);return Be}(Ee,ze,it,Be)),Ee.length>80*Be){Ue=$e=Ee[0],We=Qe=Ee[1];for(var ft=Be;ft<at;ft+=Be)(et=Ee[ft])<Ue&&(Ue=et),(tt=Ee[ft+1])<We&&(We=tt),et>$e&&($e=et),tt>Qe&&(Qe=tt);rt=0!==(rt=Math.max($e-Ue,Qe-We))?1/rt:0}return Ja(it,ct,Be,Ue,We,rt),ct}function Xa(Ee,ze,Be,Ue,We){var $e,Qe;if(We===vo(Ee,ze,Be,Ue)>0)for($e=ze;$e<Be;$e+=Ue)Qe=fo($e,Ee[$e],Ee[$e+1],Qe);else for($e=Be-Ue;$e>=ze;$e-=Ue)Qe=fo($e,Ee[$e],Ee[$e+1],Qe);return Qe&&so(Qe,Qe.next)&&(yo(Qe),Qe=Qe.next),Qe}function Ga(Ee,ze){if(!Ee)return Ee;ze||(ze=Ee);var Be,Ue=Ee;do{if(Be=!1,Ue.steiner||!so(Ue,Ue.next)&&0!==oo(Ue.prev,Ue,Ue.next))Ue=Ue.next;else{if(yo(Ue),(Ue=ze=Ue.prev)===Ue.next)break;Be=!0}}while(Be||Ue!==ze);return ze}function Ja(Ee,ze,Be,Ue,We,$e,Qe){if(Ee){!Qe&&$e&&function(Ee,ze,Be,Ue){var We=Ee;do{null===We.z&&(We.z=ro(We.x,We.y,ze,Be,Ue)),We.prevZ=We.prev,We.nextZ=We.next,We=We.next}while(We!==Ee);We.prevZ.nextZ=null,We.prevZ=null,function(Ee){var ze,Be,Ue,We,$e,Qe,et,tt,rt=1;do{for(Be=Ee,Ee=null,$e=null,Qe=0;Be;){for(Qe++,Ue=Be,et=0,ze=0;ze<rt&&(et++,Ue=Ue.nextZ);ze++);for(tt=rt;et>0||tt>0&&Ue;)0!==et&&(0===tt||!Ue||Be.z<=Ue.z)?(We=Be,Be=Be.nextZ,et--):(We=Ue,Ue=Ue.nextZ,tt--),$e?$e.nextZ=We:Ee=We,We.prevZ=$e,$e=We;Be=Ue}$e.nextZ=null,rt*=2}while(Qe>1)}(We)}(Ee,Ue,We,$e);for(var et,tt,rt=Ee;Ee.prev!==Ee.next;)if(et=Ee.prev,tt=Ee.next,$e?Ya(Ee,Ue,We,$e):Ha(Ee))ze.push(et.i/Be),ze.push(Ee.i/Be),ze.push(tt.i/Be),yo(Ee),Ee=tt.next,rt=tt.next;else if((Ee=tt)===rt){Qe?1===Qe?Ja(Ee=$a(Ga(Ee),ze,Be),ze,Be,Ue,We,$e,2):2===Qe&&Wa(Ee,ze,Be,Ue,We,$e):Ja(Ga(Ee),ze,Be,Ue,We,$e,1);break}}}function Ha(Ee){var ze=Ee.prev,Be=Ee,Ue=Ee.next;if(oo(ze,Be,Ue)>=0)return!1;for(var We=Ee.next.next;We!==Ee.prev;){if(io(ze.x,ze.y,Be.x,Be.y,Ue.x,Ue.y,We.x,We.y)&&oo(We.prev,We,We.next)>=0)return!1;We=We.next}return!0}function Ya(Ee,ze,Be,Ue){var We=Ee.prev,$e=Ee,Qe=Ee.next;if(oo(We,$e,Qe)>=0)return!1;for(var et=We.x<$e.x?We.x<Qe.x?We.x:Qe.x:$e.x<Qe.x?$e.x:Qe.x,tt=We.y<$e.y?We.y<Qe.y?We.y:Qe.y:$e.y<Qe.y?$e.y:Qe.y,rt=We.x>$e.x?We.x>Qe.x?We.x:Qe.x:$e.x>Qe.x?$e.x:Qe.x,nt=We.y>$e.y?We.y>Qe.y?We.y:Qe.y:$e.y>Qe.y?$e.y:Qe.y,at=ro(et,tt,ze,Be,Ue),it=ro(rt,nt,ze,Be,Ue),ct=Ee.prevZ,ft=Ee.nextZ;ct&&ct.z>=at&&ft&&ft.z<=it;){if(ct!==Ee.prev&&ct!==Ee.next&&io(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ct.x,ct.y)&&oo(ct.prev,ct,ct.next)>=0)return!1;if(ct=ct.prevZ,ft!==Ee.prev&&ft!==Ee.next&&io(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ft.x,ft.y)&&oo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}for(;ct&&ct.z>=at;){if(ct!==Ee.prev&&ct!==Ee.next&&io(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ct.x,ct.y)&&oo(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;ft&&ft.z<=it;){if(ft!==Ee.prev&&ft!==Ee.next&&io(We.x,We.y,$e.x,$e.y,Qe.x,Qe.y,ft.x,ft.y)&&oo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function $a(Ee,ze,Be){var Ue=Ee;do{var We=Ue.prev,$e=Ue.next.next;!so(We,$e)&&uo(We,Ue,Ue.next,$e)&&co(We,$e)&&co($e,We)&&(ze.push(We.i/Be),ze.push(Ue.i/Be),ze.push($e.i/Be),yo(Ue),yo(Ue.next),Ue=Ee=$e),Ue=Ue.next}while(Ue!==Ee);return Ga(Ue)}function Wa(Ee,ze,Be,Ue,We,$e){var Qe=Ee;do{for(var et=Qe.next.next;et!==Qe.prev;){if(Qe.i!==et.i&&ao(Qe,et)){var tt=ho(Qe,et);return Qe=Ga(Qe,Qe.next),tt=Ga(tt,tt.next),Ja(Qe,ze,Be,Ue,We,$e),void Ja(tt,ze,Be,Ue,We,$e)}et=et.next}Qe=Qe.next}while(Qe!==Ee)}function Qa(Ee,ze){return Ee.x-ze.x}function to(Ee,ze){if(ze=function(Ee,ze){var Be,Ue=ze,We=Ee.x,$e=Ee.y,Qe=-1/0;do{if($e<=Ue.y&&$e>=Ue.next.y&&Ue.next.y!==Ue.y){var et=Ue.x+($e-Ue.y)*(Ue.next.x-Ue.x)/(Ue.next.y-Ue.y);if(et<=We&&et>Qe){if(Qe=et,et===We){if($e===Ue.y)return Ue;if($e===Ue.next.y)return Ue.next}Be=Ue.x<Ue.next.x?Ue:Ue.next}}Ue=Ue.next}while(Ue!==ze);if(!Be)return null;if(We===Qe)return Be;var tt,rt=Be,nt=Be.x,at=Be.y,it=1/0;Ue=Be;do{We>=Ue.x&&Ue.x>=nt&&We!==Ue.x&&io($e<at?We:Qe,$e,nt,at,$e<at?Qe:We,$e,Ue.x,Ue.y)&&(tt=Math.abs($e-Ue.y)/(We-Ue.x),co(Ue,Ee)&&(tt<it||tt===it&&(Ue.x>Be.x||Ue.x===Be.x&&eo(Be,Ue)))&&(Be=Ue,it=tt)),Ue=Ue.next}while(Ue!==rt);return Be}(Ee,ze)){var Be=ho(ze,Ee);Ga(Be,Be.next)}}function eo(Ee,ze){return oo(Ee.prev,Ee,ze.prev)<0&&oo(ze.next,Ee,Ee.next)<0}function ro(Ee,ze,Be,Ue,We){return(Ee=1431655765&((Ee=858993459&((Ee=252645135&((Ee=16711935&((Ee=32767*(Ee-Be)*We)|Ee<<8))|Ee<<4))|Ee<<2))|Ee<<1))|(ze=1431655765&((ze=858993459&((ze=252645135&((ze=16711935&((ze=32767*(ze-Ue)*We)|ze<<8))|ze<<4))|ze<<2))|ze<<1))<<1}function no(Ee){var ze=Ee,Be=Ee;do{(ze.x<Be.x||ze.x===Be.x&&ze.y<Be.y)&&(Be=ze),ze=ze.next}while(ze!==Ee);return Be}function io(Ee,ze,Be,Ue,We,$e,Qe,et){return(We-Qe)*(ze-et)-(Ee-Qe)*($e-et)>=0&&(Ee-Qe)*(Ue-et)-(Be-Qe)*(ze-et)>=0&&(Be-Qe)*($e-et)-(We-Qe)*(Ue-et)>=0}function ao(Ee,ze){return Ee.next.i!==ze.i&&Ee.prev.i!==ze.i&&!function(Ee,ze){var Be=Ee;do{if(Be.i!==Ee.i&&Be.next.i!==Ee.i&&Be.i!==ze.i&&Be.next.i!==ze.i&&uo(Be,Be.next,Ee,ze))return!0;Be=Be.next}while(Be!==Ee);return!1}(Ee,ze)&&(co(Ee,ze)&&co(ze,Ee)&&function(Ee,ze){var Be=Ee,Ue=!1,We=(Ee.x+ze.x)/2,$e=(Ee.y+ze.y)/2;do{Be.y>$e!=Be.next.y>$e&&Be.next.y!==Be.y&&We<(Be.next.x-Be.x)*($e-Be.y)/(Be.next.y-Be.y)+Be.x&&(Ue=!Ue),Be=Be.next}while(Be!==Ee);return Ue}(Ee,ze)&&(oo(Ee.prev,Ee,ze.prev)||oo(Ee,ze.prev,ze))||so(Ee,ze)&&oo(Ee.prev,Ee,Ee.next)>0&&oo(ze.prev,ze,ze.next)>0)}function oo(Ee,ze,Be){return(ze.y-Ee.y)*(Be.x-ze.x)-(ze.x-Ee.x)*(Be.y-ze.y)}function so(Ee,ze){return Ee.x===ze.x&&Ee.y===ze.y}function uo(Ee,ze,Be,Ue){var We=po(oo(Ee,ze,Be)),$e=po(oo(Ee,ze,Ue)),Qe=po(oo(Be,Ue,Ee)),et=po(oo(Be,Ue,ze));return We!==$e&&Qe!==et||!(0!==We||!lo(Ee,Be,ze))||!(0!==$e||!lo(Ee,Ue,ze))||!(0!==Qe||!lo(Be,Ee,Ue))||!(0!==et||!lo(Be,ze,Ue))}function lo(Ee,ze,Be){return ze.x<=Math.max(Ee.x,Be.x)&&ze.x>=Math.min(Ee.x,Be.x)&&ze.y<=Math.max(Ee.y,Be.y)&&ze.y>=Math.min(Ee.y,Be.y)}function po(Ee){return Ee>0?1:Ee<0?-1:0}function co(Ee,ze){return oo(Ee.prev,Ee,Ee.next)<0?oo(Ee,ze,Ee.next)>=0&&oo(Ee,Ee.prev,ze)>=0:oo(Ee,ze,Ee.prev)<0||oo(Ee,Ee.next,ze)<0}function ho(Ee,ze){var Be=new mo(Ee.i,Ee.x,Ee.y),Ue=new mo(ze.i,ze.x,ze.y),We=Ee.next,$e=ze.prev;return Ee.next=ze,ze.prev=Ee,Be.next=We,We.prev=Be,Ue.next=Be,Be.prev=Ue,$e.next=Ue,Ue.prev=$e,Ue}function fo(Ee,ze,Be,Ue){var We=new mo(Ee,ze,Be);return Ue?(We.next=Ue.next,We.prev=Ue,Ue.next.prev=We,Ue.next=We):(We.prev=We,We.next=We),We}function yo(Ee){Ee.next.prev=Ee.prev,Ee.prev.next=Ee.next,Ee.prevZ&&(Ee.prevZ.nextZ=Ee.nextZ),Ee.nextZ&&(Ee.nextZ.prevZ=Ee.prevZ)}function mo(Ee,ze,Be){this.i=Ee,this.x=ze,this.y=Be,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vo(Ee,ze,Be,Ue){for(var We=0,$e=ze,Qe=Be-Ue;$e<Be;$e+=Ue)We+=(Ee[Qe]-Ee[$e])*(Ee[$e+1]+Ee[Qe+1]),Qe=$e;return We}function go(Ee,ze,Be,Ue,We){!function t(Ee,ze,Be,Ue,We){for(;Ue>Be;){if(Ue-Be>600){var $e=Ue-Be+1,Qe=ze-Be+1,et=Math.log($e),tt=.5*Math.exp(2*et/3),rt=.5*Math.sqrt(et*tt*($e-tt)/$e)*(Qe-$e/2<0?-1:1);t(Ee,ze,Math.max(Be,Math.floor(ze-Qe*tt/$e+rt)),Math.min(Ue,Math.floor(ze+($e-Qe)*tt/$e+rt)),We)}var nt=Ee[ze],at=Be,it=Ue;for(xo(Ee,Be,ze),We(Ee[Ue],nt)>0&&xo(Ee,Be,Ue);at<it;){for(xo(Ee,at,it),at++,it--;We(Ee[at],nt)<0;)at++;for(;We(Ee[it],nt)>0;)it--}0===We(Ee[Be],nt)?xo(Ee,Be,it):xo(Ee,++it,Ue),it<=ze&&(Be=it+1),ze<=it&&(Ue=it-1)}}(Ee,ze,Be||0,Ue||Ee.length-1,We||bo)}function xo(Ee,ze,Be){var Ue=Ee[ze];Ee[ze]=Ee[Be],Ee[Be]=Ue}function bo(Ee,ze){return Ee<ze?-1:Ee>ze?1:0}function _o(Ee,ze){var Be=Ee.length;if(Be<=1)return[Ee];for(var Ue,We,$e=[],Qe=0;Qe<Be;Qe++){var et=k(Ee[Qe]);0!==et&&(Ee[Qe].area=Math.abs(et),void 0===We&&(We=et<0),We===et<0?(Ue&&$e.push(Ue),Ue=[Ee[Qe]]):Ue.push(Ee[Qe]))}if(Ue&&$e.push(Ue),ze>1)for(var tt=0;tt<$e.length;tt++)$e[tt].length<=ze||(go($e[tt],ze,1,$e[tt].length-1,wo),$e[tt]=$e[tt].slice(0,ze));return $e}function wo(Ee,ze){return ze.area-Ee.area}function Ao(Ee,ze,Be){for(var Ue=Be.patternDependencies,We=!1,$e=0,Qe=ze;$e<Qe.length;$e+=1){var et=Qe[$e].paint.get(Ee+"-pattern");et.isConstant()||(We=!0);var tt=et.constantOr(null);tt&&(We=!0,Ue[tt.to]=!0,Ue[tt.from]=!0)}return We}function ko(Ee,ze,Be,Ue,We){for(var $e=We.patternDependencies,Qe=0,et=ze;Qe<et.length;Qe+=1){var tt=et[Qe],rt=tt.paint.get(Ee+"-pattern").value;if("constant"!==rt.kind){var nt=rt.evaluate({zoom:Ue-1},Be,{}),at=rt.evaluate({zoom:Ue},Be,{}),it=rt.evaluate({zoom:Ue+1},Be,{});$e[nt]=!0,$e[at]=!0,$e[it]=!0,Be.patterns[tt.id]={min:nt,mid:at,max:it}}}return Be}Za.deviation=function(Ee,ze,Be,Ue){var We=ze&&ze.length,$e=We?ze[0]*Be:Ee.length,Qe=Math.abs(vo(Ee,0,$e,Be));if(We)for(var et=0,tt=ze.length;et<tt;et++){var rt=ze[et]*Be,nt=et<tt-1?ze[et+1]*Be:Ee.length;Qe-=Math.abs(vo(Ee,rt,nt,Be))}var at=0;for(et=0;et<Ue.length;et+=3){var it=Ue[et]*Be,ct=Ue[et+1]*Be,ft=Ue[et+2]*Be;at+=Math.abs((Ee[it]-Ee[ft])*(Ee[ct+1]-Ee[it+1])-(Ee[it]-Ee[ct])*(Ee[ft+1]-Ee[it+1]))}return 0===Qe&&0===at?0:Math.abs((at-Qe)/Qe)},Za.flatten=function(Ee){for(var ze=Ee[0][0].length,Be={vertices:[],holes:[],dimensions:ze},Ue=0,We=0;We<Ee.length;We++){for(var $e=0;$e<Ee[We].length;$e++)for(var Qe=0;Qe<ze;Qe++)Be.vertices.push(Ee[We][$e][Qe]);We>0&&(Ue+=Ee[We-1].length,Be.holes.push(Ue))}return Be},Xl.default=Zl;var So=function(Ee){this.zoom=Ee.zoom,this.overscaling=Ee.overscaling,this.layers=Ee.layers,this.layerIds=this.layers.map((function(Ee){return Ee.id})),this.index=Ee.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new fs,this.indexArray=new Ws,this.indexArray2=new Xs,this.programConfigurations=new ta(Wl,Ee.layers,Ee.zoom),this.segments=new Vi,this.segments2=new Vi,this.stateDependentLayerIds=this.layers.filter((function(Ee){return Ee.isStateDependent()})).map((function(Ee){return Ee.id}))};So.prototype.populate=function(Ee,ze){this.hasPattern=Ao("fill",this.layers,ze);for(var Be=this.layers[0].layout.get("fill-sort-key"),Ue=[],We=0,$e=Ee;We<$e.length;We+=1){var Qe=$e[We],et=Qe.feature,tt=Qe.index,rt=Qe.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),et)){var nt=oa(et),at=Be?Be.evaluate(et,{}):void 0,it={id:et.id,properties:et.properties,type:et.type,sourceLayerIndex:rt,index:tt,geometry:nt,patterns:{},sortKey:at};Ue.push(it)}}Be&&Ue.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}));for(var ct=0,ft=Ue;ct<ft.length;ct+=1){var xt=ft[ct],kt=xt,Lt=kt.geometry,Ut=kt.index,er=kt.sourceLayerIndex;if(this.hasPattern){var tr=ko("fill",this.layers,xt,this.zoom,ze);this.patternFeatures.push(tr)}else this.addFeature(xt,Lt,Ut,{});var rr=Ee[Ut].feature;ze.featureIndex.insert(rr,Lt,Ut,er,this.index)}},So.prototype.update=function(Ee,ze,Be){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ee,ze,this.stateDependentLayers,Be)},So.prototype.addFeatures=function(Ee,ze){for(var Be=0,Ue=this.patternFeatures;Be<Ue.length;Be+=1){var We=Ue[Be];this.addFeature(We,We.geometry,We.index,ze)}},So.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},So.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},So.prototype.upload=function(Ee){this.uploaded||(this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,Wl),this.indexBuffer=Ee.createIndexBuffer(this.indexArray),this.indexBuffer2=Ee.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(Ee),this.uploaded=!0},So.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},So.prototype.addFeature=function(Ee,ze,Be,Ue){for(var We=0,$e=_o(ze,500);We<$e.length;We+=1){for(var Qe=$e[We],et=0,tt=0,rt=Qe;tt<rt.length;tt+=1)et+=rt[tt].length;for(var nt=this.segments.prepareSegment(et,this.layoutVertexArray,this.indexArray),at=nt.vertexLength,it=[],ct=[],ft=0,xt=Qe;ft<xt.length;ft+=1){var kt=xt[ft];if(0!==kt.length){kt!==Qe[0]&&ct.push(it.length/2);var Lt=this.segments2.prepareSegment(kt.length,this.layoutVertexArray,this.indexArray2),Ut=Lt.vertexLength;this.layoutVertexArray.emplaceBack(kt[0].x,kt[0].y),this.indexArray2.emplaceBack(Ut+kt.length-1,Ut),it.push(kt[0].x),it.push(kt[0].y);for(var er=1;er<kt.length;er++)this.layoutVertexArray.emplaceBack(kt[er].x,kt[er].y),this.indexArray2.emplaceBack(Ut+er-1,Ut+er),it.push(kt[er].x),it.push(kt[er].y);Lt.vertexLength+=kt.length,Lt.primitiveLength+=kt.length}}for(var tr=Xl(it,ct),rr=0;rr<tr.length;rr+=3)this.indexArray.emplaceBack(at+tr[rr],at+tr[rr+1],at+tr[rr+2]);nt.vertexLength+=et,nt.primitiveLength+=tr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ee,Be,Ue)},mn("FillBucket",So,{omit:["layers","patternFeatures"]});var Kl=new Gn({"fill-sort-key":new Nn(En.layout_fill["fill-sort-key"])}),Jl={paint:new Gn({"fill-antialias":new qn(En.paint_fill["fill-antialias"]),"fill-opacity":new Nn(En.paint_fill["fill-opacity"]),"fill-color":new Nn(En.paint_fill["fill-color"]),"fill-outline-color":new Nn(En.paint_fill["fill-outline-color"]),"fill-translate":new qn(En.paint_fill["fill-translate"]),"fill-translate-anchor":new qn(En.paint_fill["fill-translate-anchor"]),"fill-pattern":new ls(En.paint_fill["fill-pattern"])}),layout:Kl},$l=function(Ee){function e(ze){Ee.call(this,ze,Jl)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(ze){Ee.prototype.recalculate.call(this,ze);var Be=this.paint._values["fill-outline-color"];"constant"===Be.value.kind&&void 0===Be.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(Ee){return new So(Ee)},e.prototype.queryRadius=function(){return _a(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(Ee,ze,Be,Ue,We,$e,Qe){return ca(wa(Ee,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),$e.angle,Qe),Ue)},e.prototype.isTileClipped=function(){return!0},e}(cs),Ql=Wn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ec=Mo;function Mo(Ee,ze,Be,Ue,We){this.properties={},this.extent=Be,this.type=0,this._pbf=Ee,this._geometry=-1,this._keys=Ue,this._values=We,Ee.readFields(Po,this,ze)}function Po(Ee,ze,Be){1==Ee?ze.id=Be.readVarint():2==Ee?function(Ee,ze){for(var Be=Ee.readVarint()+Ee.pos;Ee.pos<Be;){var Ue=ze._keys[Ee.readVarint()],We=ze._values[Ee.readVarint()];ze.properties[Ue]=We}}(Be,ze):3==Ee?ze.type=Be.readVarint():4==Ee&&(ze._geometry=Be.pos)}function To(Ee){for(var ze,Be,Ue=0,We=0,$e=Ee.length,Qe=$e-1;We<$e;Qe=We++)ze=Ee[We],Ue+=((Be=Ee[Qe]).x-ze.x)*(ze.y+Be.y);return Ue}Mo.types=["Unknown","Point","LineString","Polygon"],Mo.prototype.loadGeometry=function(){var Ee=this._pbf;Ee.pos=this._geometry;for(var ze,Ue=Ee.readVarint()+Ee.pos,We=1,$e=0,Qe=0,et=0,tt=[];Ee.pos<Ue;){if($e<=0){var rt=Ee.readVarint();We=7&rt,$e=rt>>3}if($e--,1===We||2===We)Qe+=Ee.readSVarint(),et+=Ee.readSVarint(),1===We&&(ze&&tt.push(ze),ze=[]),ze.push(new Be(Qe,et));else{if(7!==We)throw new Error("unknown command "+We);ze&&ze.push(ze[0].clone())}}return ze&&tt.push(ze),tt},Mo.prototype.bbox=function(){var Ee=this._pbf;Ee.pos=this._geometry;for(var ze=Ee.readVarint()+Ee.pos,Be=1,Ue=0,We=0,$e=0,Qe=1/0,et=-1/0,tt=1/0,rt=-1/0;Ee.pos<ze;){if(Ue<=0){var nt=Ee.readVarint();Be=7&nt,Ue=nt>>3}if(Ue--,1===Be||2===Be)(We+=Ee.readSVarint())<Qe&&(Qe=We),We>et&&(et=We),($e+=Ee.readSVarint())<tt&&(tt=$e),$e>rt&&(rt=$e);else if(7!==Be)throw new Error("unknown command "+Be)}return[Qe,tt,et,rt]},Mo.prototype.toGeoJSON=function(Ee,ze,Be){var Ue,We,$e=this.extent*Math.pow(2,Be),Qe=this.extent*Ee,et=this.extent*ze,tt=this.loadGeometry(),rt=Mo.types[this.type];function p(Ee){for(var ze=0;ze<Ee.length;ze++){var Be=Ee[ze],Ue=180-360*(Be.y+et)/$e;Ee[ze]=[360*(Be.x+Qe)/$e-180,360/Math.PI*Math.atan(Math.exp(Ue*Math.PI/180))-90]}}switch(this.type){case 1:var nt=[];for(Ue=0;Ue<tt.length;Ue++)nt[Ue]=tt[Ue][0];p(tt=nt);break;case 2:for(Ue=0;Ue<tt.length;Ue++)p(tt[Ue]);break;case 3:for(tt=function(Ee){var ze=Ee.length;if(ze<=1)return[Ee];for(var Be,Ue,We=[],$e=0;$e<ze;$e++){var Qe=To(Ee[$e]);0!==Qe&&(void 0===Ue&&(Ue=Qe<0),Ue===Qe<0?(Be&&We.push(Be),Be=[Ee[$e]]):Be.push(Ee[$e]))}return Be&&We.push(Be),We}(tt),Ue=0;Ue<tt.length;Ue++)for(We=0;We<tt[Ue].length;We++)p(tt[Ue][We])}1===tt.length?tt=tt[0]:rt="Multi"+rt;var at={type:"Feature",geometry:{type:rt,coordinates:tt},properties:this.properties};return"id"in this&&(at.id=this.id),at};var tc=Fo;function Fo(Ee,ze){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=Ee,this._keys=[],this._values=[],this._features=[],Ee.readFields(Oo,this,ze),this.length=this._features.length}function Oo(Ee,ze,Be){15===Ee?ze.version=Be.readVarint():1===Ee?ze.name=Be.readString():5===Ee?ze.extent=Be.readVarint():2===Ee?ze._features.push(Be.pos):3===Ee?ze._keys.push(Be.readString()):4===Ee&&ze._values.push(function(Ee){for(var ze=null,Be=Ee.readVarint()+Ee.pos;Ee.pos<Be;){var Ue=Ee.readVarint()>>3;ze=1===Ue?Ee.readString():2===Ue?Ee.readFloat():3===Ue?Ee.readDouble():4===Ue?Ee.readVarint64():5===Ue?Ee.readVarint():6===Ue?Ee.readSVarint():7===Ue?Ee.readBoolean():null}return ze}(Be))}function Lo(Ee,ze,Be){if(3===Ee){var Ue=new tc(Be,Be.readVarint()+Be.pos);Ue.length&&(ze[Ue.name]=Ue)}}Fo.prototype.feature=function(Ee){if(Ee<0||Ee>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[Ee];var ze=this._pbf.readVarint()+this._pbf.pos;return new ec(this._pbf,ze,this.extent,this._keys,this._values)};var rc={VectorTile:function(Ee,ze){this.layers=Ee.readFields(Lo,{},ze)},VectorTileFeature:ec,VectorTileLayer:tc},nc=rc.VectorTileFeature.types,ac=Math.pow(2,13);function jo(Ee,ze,Be,Ue,We,$e,Qe,et){Ee.emplaceBack(ze,Be,2*Math.floor(Ue*ac)+Qe,We*ac*2,$e*ac*2,Math.round(et))}var qo=function(Ee){this.zoom=Ee.zoom,this.overscaling=Ee.overscaling,this.layers=Ee.layers,this.layerIds=this.layers.map((function(Ee){return Ee.id})),this.index=Ee.index,this.hasPattern=!1,this.layoutVertexArray=new ms,this.indexArray=new Ws,this.programConfigurations=new ta(Ql,Ee.layers,Ee.zoom),this.segments=new Vi,this.stateDependentLayerIds=this.layers.filter((function(Ee){return Ee.isStateDependent()})).map((function(Ee){return Ee.id}))};function No(Ee,ze){return Ee.x===ze.x&&(Ee.x<0||Ee.x>zl)||Ee.y===ze.y&&(Ee.y<0||Ee.y>zl)}function Ko(Ee){return Ee.every((function(Ee){return Ee.x<0}))||Ee.every((function(Ee){return Ee.x>zl}))||Ee.every((function(Ee){return Ee.y<0}))||Ee.every((function(Ee){return Ee.y>zl}))}qo.prototype.populate=function(Ee,ze){this.features=[],this.hasPattern=Ao("fill-extrusion",this.layers,ze);for(var Be=0,Ue=Ee;Be<Ue.length;Be+=1){var We=Ue[Be],$e=We.feature,Qe=We.index,et=We.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),$e)){var tt=oa($e),rt={sourceLayerIndex:et,index:Qe,geometry:tt,properties:$e.properties,type:$e.type,patterns:{}};void 0!==$e.id&&(rt.id=$e.id),this.hasPattern?this.features.push(ko("fill-extrusion",this.layers,rt,this.zoom,ze)):this.addFeature(rt,tt,Qe,{}),ze.featureIndex.insert($e,tt,Qe,et,this.index,!0)}}},qo.prototype.addFeatures=function(Ee,ze){for(var Be=0,Ue=this.features;Be<Ue.length;Be+=1){var We=Ue[Be],$e=We.geometry;this.addFeature(We,$e,We.index,ze)}},qo.prototype.update=function(Ee,ze,Be){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ee,ze,this.stateDependentLayers,Be)},qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qo.prototype.upload=function(Ee){this.uploaded||(this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,Ql),this.indexBuffer=Ee.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ee),this.uploaded=!0},qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qo.prototype.addFeature=function(Ee,ze,Be,Ue){for(var We=0,$e=_o(ze,500);We<$e.length;We+=1){for(var Qe=$e[We],et=0,tt=0,rt=Qe;tt<rt.length;tt+=1)et+=rt[tt].length;for(var nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),at=0,it=Qe;at<it.length;at+=1){var ct=it[at];if(0!==ct.length&&!Ko(ct))for(var ft=0,xt=0;xt<ct.length;xt++){var kt=ct[xt];if(xt>=1){var Lt=ct[xt-1];if(!No(kt,Lt)){nt.vertexLength+4>Vi.MAX_VERTEX_ARRAY_LENGTH&&(nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ut=kt.sub(Lt)._perp()._unit(),er=Lt.dist(kt);ft+er>32768&&(ft=0),jo(this.layoutVertexArray,kt.x,kt.y,Ut.x,Ut.y,0,0,ft),jo(this.layoutVertexArray,kt.x,kt.y,Ut.x,Ut.y,0,1,ft),ft+=er,jo(this.layoutVertexArray,Lt.x,Lt.y,Ut.x,Ut.y,0,0,ft),jo(this.layoutVertexArray,Lt.x,Lt.y,Ut.x,Ut.y,0,1,ft);var tr=nt.vertexLength;this.indexArray.emplaceBack(tr,tr+2,tr+1),this.indexArray.emplaceBack(tr+1,tr+2,tr+3),nt.vertexLength+=4,nt.primitiveLength+=2}}}}if(nt.vertexLength+et>Vi.MAX_VERTEX_ARRAY_LENGTH&&(nt=this.segments.prepareSegment(et,this.layoutVertexArray,this.indexArray)),"Polygon"===nc[Ee.type]){for(var rr=[],ar=[],Lr=nt.vertexLength,Qr=0,on=Qe;Qr<on.length;Qr+=1){var sn=on[Qr];if(0!==sn.length){sn!==Qe[0]&&ar.push(rr.length/2);for(var ln=0;ln<sn.length;ln++){var cn=sn[ln];jo(this.layoutVertexArray,cn.x,cn.y,0,0,1,1,0),rr.push(cn.x),rr.push(cn.y)}}}for(var un=Xl(rr,ar),hn=0;hn<un.length;hn+=3)this.indexArray.emplaceBack(Lr+un[hn],Lr+un[hn+2],Lr+un[hn+1]);nt.primitiveLength+=un.length/3,nt.vertexLength+=et}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ee,Be,Ue)},mn("FillExtrusionBucket",qo,{omit:["layers","features"]});var ic={paint:new Gn({"fill-extrusion-opacity":new qn(En["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Nn(En["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qn(En["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qn(En["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ls(En["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Nn(En["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Nn(En["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qn(En["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},oc=function(Ee){function e(ze){Ee.call(this,ze,ic)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(Ee){return new qo(Ee)},e.prototype.queryRadius=function(){return _a(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(Ee,ze,Ue,We,$e,Qe,et,tt){var rt=wa(Ee,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Qe.angle,et),nt=this.paint.get("fill-extrusion-height").evaluate(ze,Ue),at=this.paint.get("fill-extrusion-base").evaluate(ze,Ue),it=function(Ee,ze,Ue,We){for(var $e=[],Qe=0,et=Ee;Qe<et.length;Qe+=1){var tt=et[Qe],rt=[tt.x,tt.y,0,1];Ca(rt,rt,ze),$e.push(new Be(rt[0]/rt[3],rt[1]/rt[3]))}return $e}(rt,tt),ct=function(Ee,ze,Ue,We){for(var $e=[],Qe=[],et=We[8]*ze,tt=We[9]*ze,rt=We[10]*ze,nt=We[11]*ze,at=We[8]*Ue,it=We[9]*Ue,ct=We[10]*Ue,ft=We[11]*Ue,xt=0,kt=Ee;xt<kt.length;xt+=1){for(var Lt=[],Ut=[],er=0,tr=kt[xt];er<tr.length;er+=1){var rr=tr[er],ar=rr.x,Lr=rr.y,Qr=We[0]*ar+We[4]*Lr+We[12],on=We[1]*ar+We[5]*Lr+We[13],sn=We[2]*ar+We[6]*Lr+We[14],ln=We[3]*ar+We[7]*Lr+We[15],cn=sn+rt,un=ln+nt,hn=Qr+at,dn=on+it,vn=sn+ct,yn=ln+ft,_n=new Be((Qr+et)/un,(on+tt)/un);_n.z=cn/un,Lt.push(_n);var Mn=new Be(hn/yn,dn/yn);Mn.z=vn/yn,Ut.push(Mn)}$e.push(Lt),Qe.push(Ut)}return[$e,Qe]}(We,at,nt,tt);return function(Ee,ze,Be){var Ue=1/0;ca(Be,ze)&&(Ue=Jo(Be,ze[0]));for(var We=0;We<ze.length;We++)for(var $e=ze[We],Qe=Ee[We],et=0;et<$e.length-1;et++){var tt=$e[et],rt=$e[et+1],nt=Qe[et],at=[tt,rt,Qe[et+1],nt,tt];la(Be,at)&&(Ue=Math.min(Ue,Jo(Be,at)))}return Ue!==1/0&&Ue}(ct[0],ct[1],it)},e}(cs);function Go(Ee,ze){return Ee.x*ze.x+Ee.y*ze.y}function Jo(Ee,ze){if(1===Ee.length){var Be=ze[0],Ue=ze[1],We=ze[3],$e=Ee[0],Qe=Ue.sub(Be),et=We.sub(Be),tt=$e.sub(Be),rt=Go(Qe,Qe),nt=Go(Qe,et),at=Go(et,et),it=Go(tt,Qe),ct=Go(tt,et),ft=rt*at-nt*nt,xt=(at*it-nt*ct)/ft,kt=(rt*ct-nt*it)/ft,Lt=1-xt-kt;return Be.z*Lt+Ue.z*xt+We.z*kt}for(var Ut=1/0,er=0,tr=ze;er<tr.length;er+=1){var rr=tr[er];Ut=Math.min(Ut,rr.z)}return Ut}var sc=Wn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,lc=rc.VectorTileFeature.types,cc=Math.cos(Math.PI/180*37.5),uc=Math.pow(2,14)/.5,Qo=function(Ee){this.zoom=Ee.zoom,this.overscaling=Ee.overscaling,this.layers=Ee.layers,this.layerIds=this.layers.map((function(Ee){return Ee.id})),this.index=Ee.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new vs,this.indexArray=new Ws,this.programConfigurations=new ta(sc,Ee.layers,Ee.zoom),this.segments=new Vi,this.stateDependentLayerIds=this.layers.filter((function(Ee){return Ee.isStateDependent()})).map((function(Ee){return Ee.id}))};Qo.prototype.populate=function(Ee,ze){this.hasPattern=Ao("line",this.layers,ze);for(var Be=this.layers[0].layout.get("line-sort-key"),Ue=[],We=0,$e=Ee;We<$e.length;We+=1){var Qe=$e[We],et=Qe.feature,tt=Qe.index,rt=Qe.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),et)){var nt=oa(et),at=Be?Be.evaluate(et,{}):void 0,it={id:et.id,properties:et.properties,type:et.type,sourceLayerIndex:rt,index:tt,geometry:nt,patterns:{},sortKey:at};Ue.push(it)}}Be&&Ue.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}));for(var ct=0,ft=Ue;ct<ft.length;ct+=1){var xt=ft[ct],kt=xt,Lt=kt.geometry,Ut=kt.index,er=kt.sourceLayerIndex;if(this.hasPattern){var tr=ko("line",this.layers,xt,this.zoom,ze);this.patternFeatures.push(tr)}else this.addFeature(xt,Lt,Ut,{});var rr=Ee[Ut].feature;ze.featureIndex.insert(rr,Lt,Ut,er,this.index)}},Qo.prototype.update=function(Ee,ze,Be){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ee,ze,this.stateDependentLayers,Be)},Qo.prototype.addFeatures=function(Ee,ze){for(var Be=0,Ue=this.patternFeatures;Be<Ue.length;Be+=1){var We=Ue[Be];this.addFeature(We,We.geometry,We.index,ze)}},Qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qo.prototype.upload=function(Ee){this.uploaded||(this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,sc),this.indexBuffer=Ee.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ee),this.uploaded=!0},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qo.prototype.addFeature=function(Ee,ze,Be,Ue){for(var We=this.layers[0].layout,$e=We.get("line-join").evaluate(Ee,{}),Qe=We.get("line-cap"),et=We.get("line-miter-limit"),tt=We.get("line-round-limit"),rt=0,nt=ze;rt<nt.length;rt+=1){var at=nt[rt];this.addLine(at,Ee,$e,Qe,et,tt,Be,Ue)}},Qo.prototype.addLine=function(Ee,ze,Be,Ue,We,$e,Qe,et){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,ze.properties&&ze.properties.hasOwnProperty("mapbox_clip_start")&&ze.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+ze.properties.mapbox_clip_start,this.clipEnd=+ze.properties.mapbox_clip_end;for(var tt=0;tt<Ee.length-1;tt++)this.totalDistance+=Ee[tt].dist(Ee[tt+1])}for(var rt="Polygon"===lc[ze.type],nt=Ee.length;nt>=2&&Ee[nt-1].equals(Ee[nt-2]);)nt--;for(var at=0;at<nt-1&&Ee[at].equals(Ee[at+1]);)at++;if(!(nt<(rt?3:2))){"bevel"===Be&&(We=1.05);var it,ct=zl/(512*this.overscaling)*15,ft=this.segments.prepareSegment(10*nt,this.layoutVertexArray,this.indexArray),xt=void 0,kt=void 0,Lt=void 0,Ut=void 0;this.e1=this.e2=-1,rt&&(it=Ee[nt-2],Ut=Ee[at].sub(it)._unit()._perp());for(var er=at;er<nt;er++)if(!(kt=rt&&er===nt-1?Ee[at+1]:Ee[er+1])||!Ee[er].equals(kt)){Ut&&(Lt=Ut),it&&(xt=it),it=Ee[er],Ut=kt?kt.sub(it)._unit()._perp():Lt;var tr=(Lt=Lt||Ut).add(Ut);0===tr.x&&0===tr.y||tr._unit();var rr=Lt.x*Ut.x+Lt.y*Ut.y,ar=tr.x*Ut.x+tr.y*Ut.y,Lr=0!==ar?1/ar:1/0,Qr=2*Math.sqrt(2-2*ar),on=ar<cc&&xt&&kt,sn=Lt.x*Ut.y-Lt.y*Ut.x>0;if(on&&er>at){var ln=it.dist(xt);if(ln>2*ct){var cn=it.sub(it.sub(xt)._mult(ct/ln)._round());this.updateDistance(xt,cn),this.addCurrentVertex(cn,Lt,0,0,ft),xt=cn}}var un=xt&&kt,hn=un?Be:rt?"butt":Ue;if(un&&"round"===hn&&(Lr<$e?hn="miter":Lr<=2&&(hn="fakeround")),"miter"===hn&&Lr>We&&(hn="bevel"),"bevel"===hn&&(Lr>2&&(hn="flipbevel"),Lr<We&&(hn="miter")),xt&&this.updateDistance(xt,it),"miter"===hn)tr._mult(Lr),this.addCurrentVertex(it,tr,0,0,ft);else if("flipbevel"===hn){if(Lr>100)tr=Ut.mult(-1);else{var dn=Lr*Lt.add(Ut).mag()/Lt.sub(Ut).mag();tr._perp()._mult(dn*(sn?-1:1))}this.addCurrentVertex(it,tr,0,0,ft),this.addCurrentVertex(it,tr.mult(-1),0,0,ft)}else if("bevel"===hn||"fakeround"===hn){var vn=-Math.sqrt(Lr*Lr-1),yn=sn?vn:0,_n=sn?0:vn;if(xt&&this.addCurrentVertex(it,Lt,yn,_n,ft),"fakeround"===hn)for(var Mn=Math.round(180*Qr/Math.PI/20),Cn=1;Cn<Mn;Cn++){var En=Cn/Mn;if(.5!==En){var Pn=En-.5;En+=En*Pn*(En-1)*((1.0904+rr*(rr*(3.55645-1.43519*rr)-3.2452))*Pn*Pn+(.848013+rr*(.215638*rr-1.06021)))}var In=Ut.sub(Lt)._mult(En)._add(Lt)._unit()._mult(sn?-1:1);this.addHalfVertex(it,In.x,In.y,!1,sn,0,ft)}kt&&this.addCurrentVertex(it,Ut,-yn,-_n,ft)}else if("butt"===hn)this.addCurrentVertex(it,tr,0,0,ft);else if("square"===hn){var Bn=xt?1:-1;this.addCurrentVertex(it,tr,Bn,Bn,ft)}else"round"===hn&&(xt&&(this.addCurrentVertex(it,Lt,0,0,ft),this.addCurrentVertex(it,Lt,1,1,ft,!0)),kt&&(this.addCurrentVertex(it,Ut,-1,-1,ft,!0),this.addCurrentVertex(it,Ut,0,0,ft)));if(on&&er<nt-1){var Hn=it.dist(kt);if(Hn>2*ct){var Kn=it.add(kt.sub(it)._mult(ct/Hn)._round());this.updateDistance(it,Kn),this.addCurrentVertex(Kn,Ut,0,0,ft),it=Kn}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,ze,Qe,et)}},Qo.prototype.addCurrentVertex=function(Ee,ze,Be,Ue,We,$e){void 0===$e&&($e=!1);var Qe=ze.x+ze.y*Be,et=ze.y-ze.x*Be,tt=-ze.x+ze.y*Ue,rt=-ze.y-ze.x*Ue;this.addHalfVertex(Ee,Qe,et,$e,!1,Be,We),this.addHalfVertex(Ee,tt,rt,$e,!0,-Ue,We),this.distance>uc/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(Ee,ze,Be,Ue,We,$e))},Qo.prototype.addHalfVertex=function(Ee,ze,Be,Ue,We,$e,Qe){var et=Ee.x,tt=Ee.y,rt=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((et<<1)+(Ue?1:0),(tt<<1)+(We?1:0),Math.round(63*ze)+128,Math.round(63*Be)+128,1+(0===$e?0:$e<0?-1:1)|(63&rt)<<2,rt>>6);var nt=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,nt),Qe.primitiveLength++),We?this.e2=nt:this.e1=nt},Qo.prototype.updateDistance=function(Ee,ze){this.distance+=Ee.dist(ze),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(uc-1):this.distance},mn("LineBucket",Qo,{omit:["layers","patternFeatures"]});var fc=new Gn({"line-cap":new qn(En.layout_line["line-cap"]),"line-join":new Nn(En.layout_line["line-join"]),"line-miter-limit":new qn(En.layout_line["line-miter-limit"]),"line-round-limit":new qn(En.layout_line["line-round-limit"]),"line-sort-key":new Nn(En.layout_line["line-sort-key"])}),hc={paint:new Gn({"line-opacity":new Nn(En.paint_line["line-opacity"]),"line-color":new Nn(En.paint_line["line-color"]),"line-translate":new qn(En.paint_line["line-translate"]),"line-translate-anchor":new qn(En.paint_line["line-translate-anchor"]),"line-width":new Nn(En.paint_line["line-width"]),"line-gap-width":new Nn(En.paint_line["line-gap-width"]),"line-offset":new Nn(En.paint_line["line-offset"]),"line-blur":new Nn(En.paint_line["line-blur"]),"line-dasharray":new Zn(En.paint_line["line-dasharray"]),"line-pattern":new ls(En.paint_line["line-pattern"]),"line-gradient":new Xn(En.paint_line["line-gradient"])}),layout:fc},dc=new(function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(ze,Be){return Be=new Tn(Math.floor(Be.zoom),{now:Be.now,fadeDuration:Be.fadeDuration,zoomHistory:Be.zoomHistory,transition:Be.transition}),Ee.prototype.possiblyEvaluate.call(this,ze,Be)},e.prototype.evaluate=function(ze,Be,Ue,We){return Be=c({},Be,{zoom:Math.floor(Be.zoom)}),Ee.prototype.evaluate.call(this,ze,Be,Ue,We)},e}(Nn))(hc.paint.properties["line-width"].specification);dc.useIntegerZoom=!0;var pc=function(Ee){function e(ze){Ee.call(this,ze,hc)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(Ee){"line-gradient"===Ee&&this._updateGradient()},e.prototype._updateGradient=function(){var Ee=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Da(Ee,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(ze){Ee.prototype.recalculate.call(this,ze),this.paint._values["line-floorwidth"]=dc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ze)},e.prototype.createBucket=function(Ee){return new Qo(Ee)},e.prototype.queryRadius=function(Ee){var ze=Ee,Be=is(ba("line-width",this,ze),ba("line-gap-width",this,ze)),Ue=ba("line-offset",this,ze);return Be/2+Math.abs(Ue)+_a(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(Ee,ze,Ue,We,$e,Qe,et){var tt=wa(Ee,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Qe.angle,et),rt=et/2*is(this.paint.get("line-width").evaluate(ze,Ue),this.paint.get("line-gap-width").evaluate(ze,Ue)),nt=this.paint.get("line-offset").evaluate(ze,Ue);return nt&&(We=function(Ee,ze){for(var Ue=[],We=new Be(0,0),$e=0;$e<Ee.length;$e++){for(var Qe=Ee[$e],et=[],tt=0;tt<Qe.length;tt++){var rt=Qe[tt-1],nt=Qe[tt],at=Qe[tt+1],it=0===tt?We:nt.sub(rt)._unit()._perp(),ct=tt===Qe.length-1?We:at.sub(nt)._unit()._perp(),ft=it._add(ct)._unit(),xt=ft.x*ct.x+ft.y*ct.y;ft._mult(1/xt),et.push(ft._mult(ze)._add(nt))}Ue.push(et)}return Ue}(We,nt*et)),function(Ee,ze,Be){for(var Ue=0;Ue<ze.length;Ue++){var We=ze[Ue];if(Ee.length>=3)for(var $e=0;$e<We.length;$e++)if(ga(Ee,We[$e]))return!0;if(ha(Ee,We,Be))return!0}return!1}(tt,We,rt)},e.prototype.isTileClipped=function(){return!0},e}(cs);function is(Ee,ze){return ze>0?ze+2*Ee:Ee}var gc=Wn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),mc=Wn([{name:"a_projected_pos",components:3,type:"Float32"}],4),vc=(Wn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Wn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),yc=(Wn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Wn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),xc=Wn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function ps(Ee,ze,Be){return Ee.sections.forEach((function(Ee){Ee.text=function(Ee,ze,Be){var Ue=ze.layout.get("text-transform").evaluate(Be,{});return"uppercase"===Ue?Ee=Ee.toLocaleUpperCase():"lowercase"===Ue&&(Ee=Ee.toLocaleLowerCase()),ss.applyArabicShaping&&(Ee=ss.applyArabicShaping(Ee)),Ee}(Ee.text,ze,Be)})),Ee}Wn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),Wn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),Wn([{type:"Float32",name:"offsetX"}]),Wn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var bc={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},_c={horizontal:1,vertical:2,horizontalOnly:3},ys=function(){this.text="",this.sectionIndex=[],this.sections=[]};function ds(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at,it=ys.fromFeature(Ee,Be);rt===_c.vertical&&it.verticalizePunctuation();var ct=ss.processBidirectionalText,ft=ss.processStyledBidirectionalText;if(ct&&1===it.sections.length){at=[];for(var xt=0,kt=ct(it.toString(),_s(it,et,Ue,ze));xt<kt.length;xt+=1){var Lt=kt[xt],Ut=new ys;Ut.text=Lt,Ut.sections=it.sections;for(var er=0;er<Lt.length;er++)Ut.sectionIndex.push(0);at.push(Ut)}}else if(ft){at=[];for(var tr=0,rr=ft(it.text,it.sectionIndex,_s(it,et,Ue,ze));tr<rr.length;tr+=1){var ar=rr[tr],Lr=new ys;Lr.text=ar[0],Lr.sectionIndex=ar[1],Lr.sections=it.sections,at.push(Lr)}}else at=function(Ee,ze){for(var Be=[],Ue=Ee.text,We=0,$e=0,Qe=ze;$e<Qe.length;$e+=1){var et=Qe[$e];Be.push(Ee.substring(We,et)),We=et}return We<Ue.length&&Be.push(Ee.substring(We,Ue.length)),Be}(it,_s(it,et,Ue,ze));var Qr=[],on={positionedGlyphs:Qr,text:it.toString(),top:tt[1],bottom:tt[1],left:tt[0],right:tt[0],writingMode:rt,lineCount:at.length,yOffset:-17};return function(Ee,ze,Be,Ue,We,$e,Qe,et,tt){for(var rt=0,nt=Ee.yOffset,at=0,it=Ee.positionedGlyphs,ct="right"===$e?1:"left"===$e?0:.5,ft=0,xt=Be;ft<xt.length;ft+=1){var kt=xt[ft];kt.trim();var Lt=kt.getMaxScale();if(kt.length()){for(var Ut=it.length,er=0;er<kt.length();er++){var tr=kt.getSection(er),rr=kt.getSectionIndex(er),ar=kt.getCharCode(er),Lr=24*(Lt-tr.scale),Qr=ze[tr.fontStack],on=Qr&&Qr[ar];on&&(Qe===_c.horizontal||!tt&&!kn(ar)||tt&&(wc[ar]||es.Arabic(ln=ar)||es["Arabic Supplement"](ln)||es["Arabic Extended-A"](ln)||es["Arabic Presentation Forms-A"](ln)||es["Arabic Presentation Forms-B"](ln))?(it.push({glyph:ar,x:rt,y:nt+Lr,vertical:!1,scale:tr.scale,fontStack:tr.fontStack,sectionIndex:rr}),rt+=on.metrics.advance*tr.scale+et):(it.push({glyph:ar,x:rt,y:nt+Lr,vertical:!0,scale:tr.scale,fontStack:tr.fontStack,sectionIndex:rr}),rt+=24*tr.scale+et))}if(it.length!==Ut){var sn=rt-et;at=Math.max(sn,at),As(it,ze,Ut,it.length-1,ct)}rt=0,nt+=Ue*Lt}else nt+=Ue}var ln,cn=ws(We),un=cn.horizontalAlign,hn=cn.verticalAlign;!function(Ee,ze,Be,Ue,We,$e,Qe){for(var et=(ze-Be)*We,tt=(-Ue*Qe+.5)*$e,rt=0;rt<Ee.length;rt++)Ee[rt].x+=et,Ee[rt].y+=tt}(it,ct,un,hn,at,Ue,Be.length);var dn=nt-Ee.yOffset;Ee.top+=-hn*dn,Ee.bottom=Ee.top+dn,Ee.left+=-un*at,Ee.right=Ee.left+at}(on,ze,at,We,$e,Qe,rt,et,nt),!!Qr.length&&on}ys.fromFeature=function(Ee,ze){for(var Be=new ys,Ue=0;Ue<Ee.sections.length;Ue++){var We=Ee.sections[Ue];Be.sections.push({scale:We.scale||1,fontStack:We.fontStack||ze}),Be.text+=We.text;for(var $e=0;$e<We.text.length;$e++)Be.sectionIndex.push(Ue)}return Be},ys.prototype.length=function(){return this.text.length},ys.prototype.getSection=function(Ee){return this.sections[this.sectionIndex[Ee]]},ys.prototype.getSectionIndex=function(Ee){return this.sectionIndex[Ee]},ys.prototype.getCharCode=function(Ee){return this.text.charCodeAt(Ee)},ys.prototype.verticalizePunctuation=function(){this.text=function(Ee){for(var ze="",Be=0;Be<Ee.length;Be++){var Ue=Ee.charCodeAt(Be+1)||null,We=Ee.charCodeAt(Be-1)||null;Ue&&Sn(Ue)&&!bc[Ee[Be+1]]||We&&Sn(We)&&!bc[Ee[Be-1]]||!bc[Ee[Be]]?ze+=Ee[Be]:ze+=bc[Ee[Be]]}return ze}(this.text)},ys.prototype.trim=function(){for(var Ee=0,ze=0;ze<this.text.length&&wc[this.text.charCodeAt(ze)];ze++)Ee++;for(var Be=this.text.length,Ue=this.text.length-1;Ue>=0&&Ue>=Ee&&wc[this.text.charCodeAt(Ue)];Ue--)Be--;this.text=this.text.substring(Ee,Be),this.sectionIndex=this.sectionIndex.slice(Ee,Be)},ys.prototype.substring=function(Ee,ze){var Be=new ys;return Be.text=this.text.substring(Ee,ze),Be.sectionIndex=this.sectionIndex.slice(Ee,ze),Be.sections=this.sections,Be},ys.prototype.toString=function(){return this.text},ys.prototype.getMaxScale=function(){var Ee=this;return this.sectionIndex.reduce((function(ze,Be){return Math.max(ze,Ee.sections[Be].scale)}),0)};var wc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Tc={};function gs(Ee,ze,Be,Ue){var We=Math.pow(Ee-ze,2);return Ue?Ee<ze?We/2:2*We:We+Math.abs(Be)*Be}function xs(Ee,ze,Be){var Ue=0;return 10===Ee&&(Ue-=1e4),Be&&(Ue+=150),40!==Ee&&65288!==Ee||(Ue+=50),41!==ze&&65289!==ze||(Ue+=50),Ue}function bs(Ee,ze,Be,Ue,We,$e){for(var Qe=null,et=gs(ze,Be,We,$e),tt=0,rt=Ue;tt<rt.length;tt+=1){var nt=rt[tt],at=gs(ze-nt.x,Be,We,$e)+nt.badness;at<=et&&(Qe=nt,et=at)}return{index:Ee,x:ze,priorBreak:Qe,badness:et}}function _s(Ee,ze,Be,Ue){if(!Be)return[];if(!Ee)return[];for(var We,$e=[],Qe=function(Ee,ze,Be,Ue){for(var We=0,$e=0;$e<Ee.length();$e++){var Qe=Ee.getSection($e),et=Ue[Qe.fontStack],tt=et&&et[Ee.getCharCode($e)];tt&&(We+=tt.metrics.advance*Qe.scale+ze)}return We/Math.max(1,Math.ceil(We/Be))}(Ee,ze,Be,Ue),et=Ee.text.indexOf("​")>=0,tt=0,rt=0;rt<Ee.length();rt++){var nt=Ee.getSection(rt),at=Ee.getCharCode(rt),it=Ue[nt.fontStack],ct=it&&it[at];if(ct&&!wc[at]&&(tt+=ct.metrics.advance*nt.scale+ze),rt<Ee.length()-1){var ft=!((We=at)<11904||!(es["Bopomofo Extended"](We)||es.Bopomofo(We)||es["CJK Compatibility Forms"](We)||es["CJK Compatibility Ideographs"](We)||es["CJK Compatibility"](We)||es["CJK Radicals Supplement"](We)||es["CJK Strokes"](We)||es["CJK Symbols and Punctuation"](We)||es["CJK Unified Ideographs Extension A"](We)||es["CJK Unified Ideographs"](We)||es["Enclosed CJK Letters and Months"](We)||es["Halfwidth and Fullwidth Forms"](We)||es.Hiragana(We)||es["Ideographic Description Characters"](We)||es["Kangxi Radicals"](We)||es["Katakana Phonetic Extensions"](We)||es.Katakana(We)||es["Vertical Forms"](We)||es["Yi Radicals"](We)||es["Yi Syllables"](We)));(Tc[at]||ft)&&$e.push(bs(rt+1,tt,Qe,$e,xs(at,Ee.getCharCode(rt+1),ft&&et),!1))}}return function t(Ee){return Ee?t(Ee.priorBreak).concat(Ee.index):[]}(bs(Ee.length(),tt,Qe,$e,0,!0))}function ws(Ee){var ze=.5,Be=.5;switch(Ee){case"right":case"top-right":case"bottom-right":ze=1;break;case"left":case"top-left":case"bottom-left":ze=0}switch(Ee){case"bottom":case"bottom-right":case"bottom-left":Be=1;break;case"top":case"top-right":case"top-left":Be=0}return{horizontalAlign:ze,verticalAlign:Be}}function As(Ee,ze,Be,Ue,We){if(We){var $e=Ee[Ue],Qe=ze[$e.fontStack],et=Qe&&Qe[$e.glyph];if(et)for(var tt=et.metrics.advance*$e.scale,rt=(Ee[Ue].x+tt)*We,nt=Be;nt<=Ue;nt++)Ee[nt].x-=rt}}Tc[10]=!0,Tc[32]=!0,Tc[38]=!0,Tc[40]=!0,Tc[41]=!0,Tc[43]=!0,Tc[45]=!0,Tc[47]=!0,Tc[173]=!0,Tc[183]=!0,Tc[8203]=!0,Tc[8208]=!0,Tc[8211]=!0,Tc[8231]=!0;var kc=function(Ee){function e(ze,Be,Ue,We){Ee.call(this,ze,Be),this.angle=Ue,void 0!==We&&(this.segment=We)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(Be);mn("Anchor",kc);var Ac=256;function zs(Ee,ze){var Be=ze.expression;if("constant"===Be.kind)return{kind:"constant",layoutSize:Be.evaluate(new Tn(Ee+1))};if("source"===Be.kind)return{kind:"source"};for(var Ue=Be.zoomStops,We=Be.interpolationType,$e=0;$e<Ue.length&&Ue[$e]<=Ee;)$e++;for(var Qe=$e=Math.max(0,$e-1);Qe<Ue.length&&Ue[Qe]<Ee+1;)Qe++;Qe=Math.min(Ue.length-1,Qe);var et=Ue[$e],tt=Ue[Qe];return"composite"===Be.kind?{kind:"composite",minZoom:et,maxZoom:tt,interpolationType:We}:{kind:"camera",minZoom:et,maxZoom:tt,minSize:Be.evaluate(new Tn(et)),maxSize:Be.evaluate(new Tn(tt)),interpolationType:We}}function Is(Ee,ze,Be){var Ue=ze.uSize,We=ze.uSizeT,$e=Be.lowerSize,Qe=Be.upperSize;return"source"===Ee.kind?$e/Ac:"composite"===Ee.kind?be($e/Ac,Qe/Ac,We):Ue}function Cs(Ee,ze){var Be=0,Ue=0;if("constant"===Ee.kind)Ue=Ee.layoutSize;else if("source"!==Ee.kind){var We=Ee.interpolationType,$e=Ee.minZoom,Qe=Ee.maxZoom,et=We?l(je.interpolationFactor(We,ze,$e,Qe),0,1):0;"camera"===Ee.kind?Ue=be(Ee.minSize,Ee.maxSize,et):Be=et}return{uSizeT:Be,uSize:Ue}}var Mc=Object.freeze({getSizeData:zs,evaluateSizeForFeature:Is,evaluateSizeForZoom:Cs,SIZE_PACK_FACTOR:Ac}),Sc=rc.VectorTileFeature.types,Cc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ps(Ee,ze,Be,Ue,We,$e,Qe,et){Ee.emplaceBack(ze,Be,Math.round(32*Ue),Math.round(32*We),$e,Qe,et?et[0]:0,et?et[1]:0)}function Ts(Ee,ze,Be){Ee.emplaceBack(ze.x,ze.y,Be),Ee.emplaceBack(ze.x,ze.y,Be),Ee.emplaceBack(ze.x,ze.y,Be),Ee.emplaceBack(ze.x,ze.y,Be)}var Vs=function(Ee){this.layoutVertexArray=new Ms,this.indexArray=new Ws,this.programConfigurations=Ee,this.segments=new Vi,this.dynamicLayoutVertexArray=new Ss,this.opacityVertexArray=new Es,this.placedSymbolArray=new hl};Vs.prototype.upload=function(Ee,ze,Be,Ue){Be&&(this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,gc.members),this.indexBuffer=Ee.createIndexBuffer(this.indexArray,ze),this.dynamicLayoutVertexBuffer=Ee.createVertexBuffer(this.dynamicLayoutVertexArray,mc.members,!0),this.opacityVertexBuffer=Ee.createVertexBuffer(this.opacityVertexArray,Cc,!0),this.opacityVertexBuffer.itemSize=1),(Be||Ue)&&this.programConfigurations.upload(Ee)},Vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},mn("SymbolBuffers",Vs);var Fs=function(Ee,ze,Be){this.layoutVertexArray=new Ee,this.layoutAttributes=ze,this.indexArray=new Be,this.segments=new Vi,this.collisionVertexArray=new Rs};Fs.prototype.upload=function(Ee){this.layoutVertexBuffer=Ee.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=Ee.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=Ee.createVertexBuffer(this.collisionVertexArray,vc.members,!0)},Fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},mn("CollisionBuffers",Fs);var Os=function(Ee){this.collisionBoxArray=Ee.collisionBoxArray,this.zoom=Ee.zoom,this.overscaling=Ee.overscaling,this.layers=Ee.layers,this.layerIds=this.layers.map((function(Ee){return Ee.id})),this.index=Ee.index,this.pixelRatio=Ee.pixelRatio,this.sourceLayerIndex=Ee.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1;var ze=this.layers[0]._unevaluatedLayout._values;this.textSizeData=zs(this.zoom,ze["text-size"]),this.iconSizeData=zs(this.zoom,ze["icon-size"]);var Be=this.layers[0].layout,Ue=Be.get("symbol-sort-key"),We=Be.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==We&&void 0!==Ue.constantOr(1);var $e="viewport-y"===We||"auto"===We&&!this.sortFeaturesByKey;this.sortFeaturesByY=$e&&(Be.get("text-allow-overlap")||Be.get("icon-allow-overlap")||Be.get("text-ignore-placement")||Be.get("icon-ignore-placement")),"point"===Be.get("symbol-placement")&&(this.writingModes=Be.get("text-writing-mode").map((function(Ee){return _c[Ee]}))),this.stateDependentLayerIds=this.layers.filter((function(Ee){return Ee.isStateDependent()})).map((function(Ee){return Ee.id})),this.sourceID=Ee.sourceID};Os.prototype.createArrays=function(){var Ee=this.layers[0].layout;this.hasPaintOverrides=Lc.hasPaintOverrides(Ee),this.text=new Vs(new ta(gc.members,this.layers,this.zoom,(function(Ee){return/^text/.test(Ee)}))),this.icon=new Vs(new ta(gc.members,this.layers,this.zoom,(function(Ee){return/^icon/.test(Ee)}))),this.collisionBox=new Fs(Ds,yc.members,Xs),this.collisionCircle=new Fs(Ds,xc.members,Ws),this.glyphOffsetArray=new yl,this.lineVertexArray=new Tl,this.symbolInstances=new pl},Os.prototype.calculateGlyphDependencies=function(Ee,ze,Be,Ue,We){for(var $e=0;$e<Ee.length;$e++)if(ze[Ee.charCodeAt($e)]=!0,(Be||Ue)&&We){var Qe=bc[Ee.charAt($e)];Qe&&(ze[Qe.charCodeAt(0)]=!0)}},Os.prototype.populate=function(Ee,ze){var Be=this.layers[0],Ue=Be.layout,We=Ue.get("text-font"),$e=Ue.get("text-field"),Qe=Ue.get("icon-image"),et=("constant"!==$e.value.kind||$e.value.value.toString().length>0)&&("constant"!==We.value.kind||We.value.value.length>0),tt="constant"!==Qe.value.kind||Qe.value.value&&Qe.value.value.length>0,rt=Ue.get("symbol-sort-key");if(this.features=[],et||tt){for(var nt=ze.iconDependencies,at=ze.glyphDependencies,it=new Tn(this.zoom),ct=0,ft=Ee;ct<ft.length;ct+=1){var xt=ft[ct],kt=xt.feature,Lt=xt.index,Ut=xt.sourceLayerIndex;if(Be._featureFilter(it,kt)){var er=void 0;if(et){var tr=Be.getValueAndResolveTokens("text-field",kt);er=ps(tr instanceof Wt?tr:Wt.fromString(tr),Be,kt)}var rr=void 0;if(tt&&(rr=Be.getValueAndResolveTokens("icon-image",kt)),er||rr){var ar=this.sortFeaturesByKey?rt.evaluate(kt,{}):void 0,Lr={text:er,icon:rr,index:Lt,sourceLayerIndex:Ut,geometry:oa(kt),properties:kt.properties,type:Sc[kt.type],sortKey:ar};if(void 0!==kt.id&&(Lr.id=kt.id),this.features.push(Lr),rr&&(nt[rr]=!0),er){var Qr=We.evaluate(kt,{}).join(","),on="map"===Ue.get("text-rotation-alignment")&&"point"!==Ue.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_c.vertical)>=0;for(var sn=0,ln=er.sections;sn<ln.length;sn+=1){var cn=ln[sn],un=wn(er.toString()),hn=cn.fontStack||Qr,dn=at[hn]=at[hn]||{};this.calculateGlyphDependencies(cn.text,dn,on,this.allowVerticalPlacement,un)}}}}}"line"===Ue.get("symbol-placement")&&(this.features=function(Ee){var ze={},Be={},Ue=[],We=0;function a(ze){Ue.push(Ee[ze]),We++}function o(Ee,ze,We){var $e=Be[Ee];return delete Be[Ee],Be[ze]=$e,Ue[$e].geometry[0].pop(),Ue[$e].geometry[0]=Ue[$e].geometry[0].concat(We[0]),$e}function s(Ee,Be,We){var $e=ze[Be];return delete ze[Be],ze[Ee]=$e,Ue[$e].geometry[0].shift(),Ue[$e].geometry[0]=We[0].concat(Ue[$e].geometry[0]),$e}function u(Ee,ze,Be){var Ue=Be?ze[0][ze[0].length-1]:ze[0][0];return Ee+":"+Ue.x+":"+Ue.y}for(var $e=0;$e<Ee.length;$e++){var Qe=Ee[$e],et=Qe.geometry,tt=Qe.text?Qe.text.toString():null;if(tt){var rt=u(tt,et),nt=u(tt,et,!0);if(rt in Be&&nt in ze&&Be[rt]!==ze[nt]){var at=s(rt,nt,et),it=o(rt,nt,Ue[at].geometry);delete ze[rt],delete Be[nt],Be[u(tt,Ue[it].geometry,!0)]=it,Ue[at].geometry=null}else rt in Be?o(rt,nt,et):nt in ze?s(rt,nt,et):(a($e),ze[rt]=We-1,Be[nt]=We-1)}else a($e)}return Ue.filter((function(Ee){return Ee.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}))}},Os.prototype.update=function(Ee,ze,Be){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(Ee,ze,this.layers,Be),this.icon.programConfigurations.updatePaintArrays(Ee,ze,this.layers,Be))},Os.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Os.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Os.prototype.upload=function(Ee){this.uploaded||(this.collisionBox.upload(Ee),this.collisionCircle.upload(Ee)),this.text.upload(Ee,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(Ee,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Os.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Os.prototype.addToLineVertexArray=function(Ee,ze){var Be=this.lineVertexArray.length;if(void 0!==Ee.segment){for(var Ue=Ee.dist(ze[Ee.segment+1]),We=Ee.dist(ze[Ee.segment]),$e={},Qe=Ee.segment+1;Qe<ze.length;Qe++)$e[Qe]={x:ze[Qe].x,y:ze[Qe].y,tileUnitDistanceFromAnchor:Ue},Qe<ze.length-1&&(Ue+=ze[Qe+1].dist(ze[Qe]));for(var et=Ee.segment||0;et>=0;et--)$e[et]={x:ze[et].x,y:ze[et].y,tileUnitDistanceFromAnchor:We},et>0&&(We+=ze[et-1].dist(ze[et]));for(var tt=0;tt<ze.length;tt++){var rt=$e[tt];this.lineVertexArray.emplaceBack(rt.x,rt.y,rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Be,lineLength:this.lineVertexArray.length-Be}},Os.prototype.addSymbols=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt){var nt=this,at=Ee.indexArray,it=Ee.layoutVertexArray,ct=Ee.dynamicLayoutVertexArray,ft=Ee.segments.prepareSegment(4*ze.length,Ee.layoutVertexArray,Ee.indexArray,$e.sortKey),xt=this.glyphOffsetArray.length,kt=ft.vertexLength,Lt=this.allowVerticalPlacement&&Qe===_c.vertical?Math.PI/2:0,g=function(Ee){var ze=Ee.tl,Ue=Ee.tr,We=Ee.bl,$e=Ee.br,Qe=Ee.tex,tt=ft.vertexLength,rt=Ee.glyphOffset[1];Ps(it,et.x,et.y,ze.x,rt+ze.y,Qe.x,Qe.y,Be),Ps(it,et.x,et.y,Ue.x,rt+Ue.y,Qe.x+Qe.w,Qe.y,Be),Ps(it,et.x,et.y,We.x,rt+We.y,Qe.x,Qe.y+Qe.h,Be),Ps(it,et.x,et.y,$e.x,rt+$e.y,Qe.x+Qe.w,Qe.y+Qe.h,Be),Ts(ct,et,Lt),at.emplaceBack(tt,tt+1,tt+2),at.emplaceBack(tt+1,tt+2,tt+3),ft.vertexLength+=4,ft.primitiveLength+=2,nt.glyphOffsetArray.emplaceBack(Ee.glyphOffset[0])};if($e.text&&$e.text.sections){var Ut=$e.text.sections;if(this.hasPaintOverrides){for(var er,_=function(ze,Be){void 0===er||er===ze&&!Be||Ee.programConfigurations.populatePaintArrays(Ee.layoutVertexArray.length,$e,$e.index,{},Ut[er]),er=ze},tr=0,rr=ze;tr<rr.length;tr+=1){var ar=rr[tr];_(ar.sectionIndex,!1),g(ar)}_(er,!0)}else{for(var Lr=0,Qr=ze;Lr<Qr.length;Lr+=1)g(Qr[Lr]);Ee.programConfigurations.populatePaintArrays(Ee.layoutVertexArray.length,$e,$e.index,{},Ut[0])}}else{for(var on=0,sn=ze;on<sn.length;on+=1)g(sn[on]);Ee.programConfigurations.populatePaintArrays(Ee.layoutVertexArray.length,$e,$e.index,{})}Ee.placedSymbolArray.emplaceBack(et.x,et.y,xt,this.glyphOffsetArray.length-xt,kt,tt,rt,et.segment,Be?Be[0]:0,Be?Be[1]:0,Ue[0],Ue[1],Qe,0,!1,0)},Os.prototype._addCollisionDebugVertex=function(Ee,ze,Be,Ue,We,$e){return ze.emplaceBack(0,0),Ee.emplaceBack(Be.x,Be.y,Ue,We,Math.round($e.x),Math.round($e.y))},Os.prototype.addCollisionDebugVertices=function(Ee,ze,Ue,We,$e,Qe,et,tt){var rt=$e.segments.prepareSegment(4,$e.layoutVertexArray,$e.indexArray),nt=rt.vertexLength,at=$e.layoutVertexArray,it=$e.collisionVertexArray,ct=et.anchorX,ft=et.anchorY;if(this._addCollisionDebugVertex(at,it,Qe,ct,ft,new Be(Ee,ze)),this._addCollisionDebugVertex(at,it,Qe,ct,ft,new Be(Ue,ze)),this._addCollisionDebugVertex(at,it,Qe,ct,ft,new Be(Ue,We)),this._addCollisionDebugVertex(at,it,Qe,ct,ft,new Be(Ee,We)),rt.vertexLength+=4,tt){var xt=$e.indexArray;xt.emplaceBack(nt,nt+1,nt+2),xt.emplaceBack(nt,nt+2,nt+3),rt.primitiveLength+=2}else{var kt=$e.indexArray;kt.emplaceBack(nt,nt+1),kt.emplaceBack(nt+1,nt+2),kt.emplaceBack(nt+2,nt+3),kt.emplaceBack(nt+3,nt),rt.primitiveLength+=4}},Os.prototype.addDebugCollisionBoxes=function(Ee,ze,Be){for(var Ue=Ee;Ue<ze;Ue++){var We=this.collisionBoxArray.get(Ue),$e=We.x1,Qe=We.y1,et=We.x2,tt=We.y2,rt=We.radius>0;this.addCollisionDebugVertices($e,Qe,et,tt,rt?this.collisionCircle:this.collisionBox,We.anchorPoint,Be,rt)}},Os.prototype.generateCollisionDebugBuffers=function(){for(var Ee=0;Ee<this.symbolInstances.length;Ee++){var ze=this.symbolInstances.get(Ee);this.addDebugCollisionBoxes(ze.textBoxStartIndex,ze.textBoxEndIndex,ze),this.addDebugCollisionBoxes(ze.verticalTextBoxStartIndex,ze.verticalTextBoxEndIndex,ze),this.addDebugCollisionBoxes(ze.iconBoxStartIndex,ze.iconBoxEndIndex,ze)}},Os.prototype._deserializeCollisionBoxesForSymbol=function(Ee,ze,Be,Ue,We,$e,Qe){for(var et={},tt=ze;tt<Be;tt++){var rt=Ee.get(tt);if(0===rt.radius){et.textBox={x1:rt.x1,y1:rt.y1,x2:rt.x2,y2:rt.y2,anchorPointX:rt.anchorPointX,anchorPointY:rt.anchorPointY},et.textFeatureIndex=rt.featureIndex;break}et.textCircles||(et.textCircles=[],et.textFeatureIndex=rt.featureIndex),et.textCircles.push(rt.anchorPointX,rt.anchorPointY,rt.radius,rt.signedDistanceFromAnchor,1)}for(var nt=Ue;nt<We;nt++){var at=Ee.get(nt);if(0===at.radius){et.verticalTextBox={x1:at.x1,y1:at.y1,x2:at.x2,y2:at.y2,anchorPointX:at.anchorPointX,anchorPointY:at.anchorPointY},et.verticalTextFeatureIndex=at.featureIndex;break}}for(var it=$e;it<Qe;it++){var ct=Ee.get(it);if(0===ct.radius){et.iconBox={x1:ct.x1,y1:ct.y1,x2:ct.x2,y2:ct.y2,anchorPointX:ct.anchorPointX,anchorPointY:ct.anchorPointY},et.iconFeatureIndex=ct.featureIndex;break}}return et},Os.prototype.deserializeCollisionBoxes=function(Ee){this.collisionArrays=[];for(var ze=0;ze<this.symbolInstances.length;ze++){var Be=this.symbolInstances.get(ze);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(Ee,Be.textBoxStartIndex,Be.textBoxEndIndex,Be.verticalTextBoxStartIndex,Be.verticalTextBoxEndIndex,Be.iconBoxStartIndex,Be.iconBoxEndIndex))}},Os.prototype.hasTextData=function(){return this.text.segments.get().length>0},Os.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Os.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Os.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Os.prototype.addIndicesForPlacedTextSymbol=function(Ee){for(var ze=this.text.placedSymbolArray.get(Ee),Be=ze.vertexStartIndex+4*ze.numGlyphs,Ue=ze.vertexStartIndex;Ue<Be;Ue+=4)this.text.indexArray.emplaceBack(Ue,Ue+1,Ue+2),this.text.indexArray.emplaceBack(Ue+1,Ue+2,Ue+3)},Os.prototype.getSortedSymbolIndexes=function(Ee){if(this.sortedAngle===Ee&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var ze=Math.sin(Ee),Be=Math.cos(Ee),Ue=[],We=[],$e=[],Qe=0;Qe<this.symbolInstances.length;++Qe){$e.push(Qe);var et=this.symbolInstances.get(Qe);Ue.push(0|Math.round(ze*et.anchorX+Be*et.anchorY)),We.push(et.featureIndex)}return $e.sort((function(Ee,ze){return Ue[Ee]-Ue[ze]||We[ze]-We[Ee]})),$e},Os.prototype.sortFeatures=function(Ee){var ze=this;if(this.sortFeaturesByY&&this.sortedAngle!==Ee&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(Ee),this.sortedAngle=Ee,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Be=0,Ue=this.symbolInstanceIndexes;Be<Ue.length;Be+=1){var We=Ue[Be],$e=this.symbolInstances.get(We);this.featureSortOrder.push($e.featureIndex),[$e.rightJustifiedTextSymbolIndex,$e.centerJustifiedTextSymbolIndex,$e.leftJustifiedTextSymbolIndex].forEach((function(Ee,Be,Ue){Ee>=0&&Ue.indexOf(Ee)===Be&&ze.addIndicesForPlacedTextSymbol(Ee)})),$e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol($e.verticalPlacedTextSymbolIndex);var Qe=this.icon.placedSymbolArray.get(We);if(Qe.numGlyphs){var et=Qe.vertexStartIndex;this.icon.indexArray.emplaceBack(et,et+1,et+2),this.icon.indexArray.emplaceBack(et+1,et+2,et+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},mn("SymbolBucket",Os,{omit:["layers","collisionBoxArray","features","compareText"]}),Os.MAX_GLYPHS=65535,Os.addDynamicAttributes=Ts;var Ec=new Gn({"symbol-placement":new qn(En.layout_symbol["symbol-placement"]),"symbol-spacing":new qn(En.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qn(En.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Nn(En.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qn(En.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qn(En.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new qn(En.layout_symbol["icon-ignore-placement"]),"icon-optional":new qn(En.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qn(En.layout_symbol["icon-rotation-alignment"]),"icon-size":new Nn(En.layout_symbol["icon-size"]),"icon-text-fit":new qn(En.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qn(En.layout_symbol["icon-text-fit-padding"]),"icon-image":new Nn(En.layout_symbol["icon-image"]),"icon-rotate":new Nn(En.layout_symbol["icon-rotate"]),"icon-padding":new qn(En.layout_symbol["icon-padding"]),"icon-keep-upright":new qn(En.layout_symbol["icon-keep-upright"]),"icon-offset":new Nn(En.layout_symbol["icon-offset"]),"icon-anchor":new Nn(En.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qn(En.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qn(En.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qn(En.layout_symbol["text-rotation-alignment"]),"text-field":new Nn(En.layout_symbol["text-field"]),"text-font":new Nn(En.layout_symbol["text-font"]),"text-size":new Nn(En.layout_symbol["text-size"]),"text-max-width":new Nn(En.layout_symbol["text-max-width"]),"text-line-height":new qn(En.layout_symbol["text-line-height"]),"text-letter-spacing":new Nn(En.layout_symbol["text-letter-spacing"]),"text-justify":new Nn(En.layout_symbol["text-justify"]),"text-radial-offset":new Nn(En.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qn(En.layout_symbol["text-variable-anchor"]),"text-anchor":new Nn(En.layout_symbol["text-anchor"]),"text-max-angle":new qn(En.layout_symbol["text-max-angle"]),"text-writing-mode":new qn(En.layout_symbol["text-writing-mode"]),"text-rotate":new Nn(En.layout_symbol["text-rotate"]),"text-padding":new qn(En.layout_symbol["text-padding"]),"text-keep-upright":new qn(En.layout_symbol["text-keep-upright"]),"text-transform":new Nn(En.layout_symbol["text-transform"]),"text-offset":new Nn(En.layout_symbol["text-offset"]),"text-allow-overlap":new qn(En.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new qn(En.layout_symbol["text-ignore-placement"]),"text-optional":new qn(En.layout_symbol["text-optional"])}),Pc={paint:new Gn({"icon-opacity":new Nn(En.paint_symbol["icon-opacity"]),"icon-color":new Nn(En.paint_symbol["icon-color"]),"icon-halo-color":new Nn(En.paint_symbol["icon-halo-color"]),"icon-halo-width":new Nn(En.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Nn(En.paint_symbol["icon-halo-blur"]),"icon-translate":new qn(En.paint_symbol["icon-translate"]),"icon-translate-anchor":new qn(En.paint_symbol["icon-translate-anchor"]),"text-opacity":new Nn(En.paint_symbol["text-opacity"]),"text-color":new Nn(En.paint_symbol["text-color"],{runtimeType:Jn,getOverride:function(Ee){return Ee.textColor},hasOverride:function(Ee){return!!Ee.textColor}}),"text-halo-color":new Nn(En.paint_symbol["text-halo-color"]),"text-halo-width":new Nn(En.paint_symbol["text-halo-width"]),"text-halo-blur":new Nn(En.paint_symbol["text-halo-blur"]),"text-translate":new qn(En.paint_symbol["text-translate"]),"text-translate-anchor":new qn(En.paint_symbol["text-translate-anchor"])}),layout:Ec},Us=function(Ee){this.type=Ee.property.overrides?Ee.property.overrides.runtimeType:In,this.defaultValue=Ee};Us.prototype.evaluate=function(Ee){if(Ee.formattedSection){var ze=this.defaultValue.property.overrides;if(ze&&ze.hasOverride(Ee.formattedSection))return ze.getOverride(Ee.formattedSection)}return Ee.feature&&Ee.featureState?this.defaultValue.evaluate(Ee.feature,Ee.featureState):this.defaultValue.property.specification.default},Us.prototype.eachChild=function(Ee){this.defaultValue.isConstant()||Ee(this.defaultValue.value._styleExpression.expression)},Us.prototype.possibleOutputs=function(){return[void 0]},Us.prototype.serialize=function(){return null},mn("FormatSectionOverride",Us,{omit:["defaultValue"]});var Lc=function(Ee){function e(ze){Ee.call(this,ze,Pc)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(ze){if(Ee.prototype.recalculate.call(this,ze),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Be=this.layout.get("text-writing-mode");if(Be){for(var Ue=[],We=0,$e=Be;We<$e.length;We+=1){var Qe=$e[We];Ue.indexOf(Qe)<0&&Ue.push(Qe)}this.layout._values["text-writing-mode"]=Ue}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(Ee,ze){var Be=this.layout.get(Ee).evaluate(ze,{}),Ue=this._unevaluatedLayout._values[Ee];return Ue.isDataDriven()||kr(Ue.value)?Be:function(Ee,ze){return ze.replace(/{([^{}]+)}/g,(function(ze,Be){return Be in Ee?String(Ee[Be]):""}))}(ze.properties,Be)},e.prototype.createBucket=function(Ee){return new Os(Ee)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var Ee=0,ze=Pc.paint.overridableProperties;Ee<ze.length;Ee+=1){var Be=ze[Ee];if(e.hasPaintOverride(this.layout,Be)){var Ue,We=this.paint.get(Be),$e=new Us(We),Qe=new Ar($e,We.property.specification);Ue="constant"===We.value.kind||"source"===We.value.kind?new zr("source",Qe):new Ir("composite",Qe,We.value.zoomStops,We.value._interpolationType),this.paint._values[Be]=new Rn(We.property,Ue,We.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(Ee,ze,Be){return!(!this.layout||ze.isDataDriven()||Be.isDataDriven())&&e.hasPaintOverride(this.layout,Ee)},e.hasPaintOverride=function(Ee,ze){var Be=Ee.get("text-field"),Ue=Pc.paint.properties[ze],We=!1,a=function(Ee){for(var ze=0,Be=Ee;ze<Be.length;ze+=1){var $e=Be[ze];if(Ue.overrides&&Ue.overrides.hasOverride($e))return void(We=!0)}};if("constant"===Be.value.kind&&Be.value.value instanceof Wt)a(Be.value.value.sections);else if("source"===Be.value.kind){var o=function(Ee){if(!We)if(Ee instanceof re&&te(Ee.value)===Ia){var ze=Ee.value;a(ze.sections)}else Ee instanceof oe?a(Ee.sections):Ee.eachChild(o)},$e=Be.value;$e._styleExpression&&o($e._styleExpression.expression)}return We},e.hasPaintOverrides=function(Ee){for(var ze=0,Be=Pc.paint.overridableProperties;ze<Be.length;ze+=1){var Ue=Be[ze];if(e.hasPaintOverride(Ee,Ue))return!0}return!1},e}(cs),Oc={paint:new Gn({"background-color":new qn(En.paint_background["background-color"]),"background-pattern":new Zn(En.paint_background["background-pattern"]),"background-opacity":new qn(En.paint_background["background-opacity"])})},Dc=function(Ee){function e(ze){Ee.call(this,ze,Oc)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e}(cs),Ic={paint:new Gn({"raster-opacity":new qn(En.paint_raster["raster-opacity"]),"raster-hue-rotate":new qn(En.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qn(En.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qn(En.paint_raster["raster-brightness-max"]),"raster-saturation":new qn(En.paint_raster["raster-saturation"]),"raster-contrast":new qn(En.paint_raster["raster-contrast"]),"raster-resampling":new qn(En.paint_raster["raster-resampling"]),"raster-fade-duration":new qn(En.paint_raster["raster-fade-duration"])})},zc=function(Ee){function e(ze){Ee.call(this,ze,Ic)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e}(cs),Rc=function(Ee){function e(ze){Ee.call(this,ze,{}),this.implementation=ze}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(Ee){this.implementation.onAdd&&this.implementation.onAdd(Ee,Ee.painter.context.gl)},e.prototype.onRemove=function(Ee){this.implementation.onRemove&&this.implementation.onRemove(Ee,Ee.painter.context.gl)},e}(cs),Bc={circle:Vl,heatmap:ql,hillshade:Yl,fill:$l,"fill-extrusion":oc,line:pc,symbol:Lc,background:Dc,raster:zc};function Gs(Ee){for(var ze=0,Be=0,Ue=0,We=Ee;Ue<We.length;Ue+=1){var $e=We[Ue];ze+=$e.w*$e.h,Be=Math.max(Be,$e.w)}Ee.sort((function(Ee,ze){return ze.h-Ee.h}));for(var Qe=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(ze/.95)),Be),h:1/0}],et=0,tt=0,rt=0,nt=Ee;rt<nt.length;rt+=1)for(var at=nt[rt],it=Qe.length-1;it>=0;it--){var ct=Qe[it];if(!(at.w>ct.w||at.h>ct.h)){if(at.x=ct.x,at.y=ct.y,tt=Math.max(tt,at.y+at.h),et=Math.max(et,at.x+at.w),at.w===ct.w&&at.h===ct.h){var ft=Qe.pop();it<Qe.length&&(Qe[it]=ft)}else at.h===ct.h?(ct.x+=at.w,ct.w-=at.w):at.w===ct.w?(ct.y+=at.h,ct.h-=at.h):(Qe.push({x:ct.x+at.w,y:ct.y,w:ct.w-at.w,h:at.h}),ct.y+=at.h,ct.h-=at.h);break}}return{w:et,h:tt,fill:ze/(et*tt)||0}}var Js=function(Ee,ze){var Be=ze.pixelRatio,Ue=ze.version;this.paddedRect=Ee,this.pixelRatio=Be,this.version=Ue},Fc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Fc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Fc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Fc.tlbr.get=function(){return this.tl.concat(this.br)},Fc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Js.prototype,Fc);var Ys=function(Ee,ze){var Be={},Ue={};this.haveRenderCallbacks=[];var We=[];this.addImages(Ee,Be,We),this.addImages(ze,Ue,We);var $e=Gs(We),Qe=$e.w,et=$e.h,tt=new Oa({width:Qe||1,height:et||1});for(var rt in Ee){var nt=Ee[rt],at=Be[rt].paddedRect;Oa.copy(nt.data,tt,{x:0,y:0},{x:at.x+1,y:at.y+1},nt.data)}for(var it in ze){var ct=ze[it],ft=Ue[it].paddedRect,xt=ft.x+1,kt=ft.y+1,Lt=ct.data.width,Ut=ct.data.height;Oa.copy(ct.data,tt,{x:0,y:0},{x:xt,y:kt},ct.data),Oa.copy(ct.data,tt,{x:0,y:Ut-1},{x:xt,y:kt-1},{width:Lt,height:1}),Oa.copy(ct.data,tt,{x:0,y:0},{x:xt,y:kt+Ut},{width:Lt,height:1}),Oa.copy(ct.data,tt,{x:Lt-1,y:0},{x:xt-1,y:kt},{width:1,height:Ut}),Oa.copy(ct.data,tt,{x:0,y:0},{x:xt+Lt,y:kt},{width:1,height:Ut})}this.image=tt,this.iconPositions=Be,this.patternPositions=Ue};Ys.prototype.addImages=function(Ee,ze,Be){for(var Ue in Ee){var We=Ee[Ue],$e={x:0,y:0,w:We.data.width+2,h:We.data.height+2};Be.push($e),ze[Ue]=new Js($e,We),We.hasRenderCallback&&this.haveRenderCallbacks.push(Ue)}},Ys.prototype.patchUpdatedImages=function(Ee,ze){for(var Be in Ee.dispatchRenderCallbacks(this.haveRenderCallbacks),Ee.updatedImages)this.patchUpdatedImage(this.iconPositions[Be],Ee.getImage(Be),ze),this.patchUpdatedImage(this.patternPositions[Be],Ee.getImage(Be),ze)},Ys.prototype.patchUpdatedImage=function(Ee,ze,Be){if(Ee&&ze&&Ee.version!==ze.version){Ee.version=ze.version;var Ue=Ee.tl,We=Ue[0],$e=Ue[1];Be.update(ze.data,void 0,{x:We,y:$e})}},mn("ImagePosition",Js),mn("ImageAtlas",Ys);var Nc=self.HTMLImageElement,jc=self.HTMLCanvasElement,Vc=self.HTMLVideoElement,Uc=self.ImageData,eu=function(Ee,ze,Be,Ue){this.context=Ee,this.format=Be,this.texture=Ee.gl.createTexture(),this.update(ze,Ue)};eu.prototype.update=function(Ee,ze,Be){var Ue=Ee.width,We=Ee.height,$e=!(this.size&&this.size[0]===Ue&&this.size[1]===We||Be),Qe=this.context,et=Qe.gl;if(this.useMipmap=Boolean(ze&&ze.useMipmap),et.bindTexture(et.TEXTURE_2D,this.texture),Qe.pixelStoreUnpackFlipY.set(!1),Qe.pixelStoreUnpack.set(1),Qe.pixelStoreUnpackPremultiplyAlpha.set(this.format===et.RGBA&&(!ze||!1!==ze.premultiply)),$e)this.size=[Ue,We],Ee instanceof Nc||Ee instanceof jc||Ee instanceof Vc||Ee instanceof Uc?et.texImage2D(et.TEXTURE_2D,0,this.format,this.format,et.UNSIGNED_BYTE,Ee):et.texImage2D(et.TEXTURE_2D,0,this.format,Ue,We,0,this.format,et.UNSIGNED_BYTE,Ee.data);else{var tt=Be||{x:0,y:0},rt=tt.x,nt=tt.y;Ee instanceof Nc||Ee instanceof jc||Ee instanceof Vc||Ee instanceof Uc?et.texSubImage2D(et.TEXTURE_2D,0,rt,nt,et.RGBA,et.UNSIGNED_BYTE,Ee):et.texSubImage2D(et.TEXTURE_2D,0,rt,nt,Ue,We,et.RGBA,et.UNSIGNED_BYTE,Ee.data)}this.useMipmap&&this.isSizePowerOfTwo()&&et.generateMipmap(et.TEXTURE_2D)},eu.prototype.bind=function(Ee,ze,Be){var Ue=this.context.gl;Ue.bindTexture(Ue.TEXTURE_2D,this.texture),Be!==Ue.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Be=Ue.LINEAR),Ee!==this.filter&&(Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MAG_FILTER,Ee),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MIN_FILTER,Be||Ee),this.filter=Ee),ze!==this.wrap&&(Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_S,ze),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_T,ze),this.wrap=ze)},eu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},eu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var ru=function(Ee,ze,Be,Ue,We){var $e,Qe,et=8*We-Ue-1,tt=(1<<et)-1,rt=tt>>1,nt=-7,at=Be?We-1:0,it=Be?-1:1,ct=Ee[ze+at];for(at+=it,$e=ct&(1<<-nt)-1,ct>>=-nt,nt+=et;nt>0;$e=256*$e+Ee[ze+at],at+=it,nt-=8);for(Qe=$e&(1<<-nt)-1,$e>>=-nt,nt+=Ue;nt>0;Qe=256*Qe+Ee[ze+at],at+=it,nt-=8);if(0===$e)$e=1-rt;else{if($e===tt)return Qe?NaN:1/0*(ct?-1:1);Qe+=Math.pow(2,Ue),$e-=rt}return(ct?-1:1)*Qe*Math.pow(2,$e-Ue)},nu=function(Ee,ze,Be,Ue,We,$e){var Qe,et,tt,rt=8*$e-We-1,nt=(1<<rt)-1,at=nt>>1,it=23===We?Math.pow(2,-24)-Math.pow(2,-77):0,ct=Ue?0:$e-1,ft=Ue?1:-1,xt=ze<0||0===ze&&1/ze<0?1:0;for(ze=Math.abs(ze),isNaN(ze)||ze===1/0?(et=isNaN(ze)?1:0,Qe=nt):(Qe=Math.floor(Math.log(ze)/Math.LN2),ze*(tt=Math.pow(2,-Qe))<1&&(Qe--,tt*=2),(ze+=Qe+at>=1?it/tt:it*Math.pow(2,1-at))*tt>=2&&(Qe++,tt/=2),Qe+at>=nt?(et=0,Qe=nt):Qe+at>=1?(et=(ze*tt-1)*Math.pow(2,We),Qe+=at):(et=ze*Math.pow(2,at-1)*Math.pow(2,We),Qe=0));We>=8;Ee[Be+ct]=255&et,ct+=ft,et/=256,We-=8);for(Qe=Qe<<We|et,rt+=We;rt>0;Ee[Be+ct]=255&Qe,ct+=ft,Qe/=256,rt-=8);Ee[Be+ct-ft]|=128*xt},Hc=au;function au(Ee){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ee)?Ee:new Uint8Array(Ee||0),this.pos=0,this.type=0,this.length=this.buf.length}function ou(Ee){return Ee.type===au.Bytes?Ee.readVarint()+Ee.pos:Ee.pos+1}function su(Ee,ze,Be){return Be?4294967296*ze+(Ee>>>0):4294967296*(ze>>>0)+(Ee>>>0)}function uu(Ee,ze,Be){var Ue=ze<=16383?1:ze<=2097151?2:ze<=268435455?3:Math.floor(Math.log(ze)/(7*Math.LN2));Be.realloc(Ue);for(var We=Be.pos-1;We>=Ee;We--)Be.buf[We+Ue]=Be.buf[We]}function lu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeVarint(Ee[Be])}function pu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeSVarint(Ee[Be])}function cu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeFloat(Ee[Be])}function hu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeDouble(Ee[Be])}function fu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeBoolean(Ee[Be])}function yu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeFixed32(Ee[Be])}function du(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeSFixed32(Ee[Be])}function mu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeFixed64(Ee[Be])}function vu(Ee,ze){for(var Be=0;Be<Ee.length;Be++)ze.writeSFixed64(Ee[Be])}function gu(Ee,ze){return(Ee[ze]|Ee[ze+1]<<8|Ee[ze+2]<<16)+16777216*Ee[ze+3]}function xu(Ee,ze,Be){Ee[Be]=ze,Ee[Be+1]=ze>>>8,Ee[Be+2]=ze>>>16,Ee[Be+3]=ze>>>24}function bu(Ee,ze){return(Ee[ze]|Ee[ze+1]<<8|Ee[ze+2]<<16)+(Ee[ze+3]<<24)}function wu(Ee,ze,Be){1===Ee&&Be.readMessage(Au,ze)}function Au(Ee,ze,Be){if(3===Ee){var Ue=Be.readMessage(ku,{}),We=Ue.id,$e=Ue.bitmap,Qe=Ue.width,et=Ue.height,tt=Ue.left,rt=Ue.top,nt=Ue.advance;ze.push({id:We,bitmap:new Fa({width:Qe+6,height:et+6},$e),metrics:{width:Qe,height:et,left:tt,top:rt,advance:nt}})}}function ku(Ee,ze,Be){1===Ee?ze.id=Be.readVarint():2===Ee?ze.bitmap=Be.readBytes():3===Ee?ze.width=Be.readVarint():4===Ee?ze.height=Be.readVarint():5===Ee?ze.left=Be.readSVarint():6===Ee?ze.top=Be.readSVarint():7===Ee&&(ze.advance=Be.readVarint())}au.Varint=0,au.Fixed64=1,au.Bytes=2,au.Fixed32=5,au.prototype={destroy:function(){this.buf=null},readFields:function(Ee,ze,Be){for(Be=Be||this.length;this.pos<Be;){var Ue=this.readVarint(),We=Ue>>3,$e=this.pos;this.type=7&Ue,Ee(We,ze,this),this.pos===$e&&this.skip(Ue)}return ze},readMessage:function(Ee,ze){return this.readFields(Ee,ze,this.readVarint()+this.pos)},readFixed32:function(){var Ee=gu(this.buf,this.pos);return this.pos+=4,Ee},readSFixed32:function(){var Ee=bu(this.buf,this.pos);return this.pos+=4,Ee},readFixed64:function(){var Ee=gu(this.buf,this.pos)+4294967296*gu(this.buf,this.pos+4);return this.pos+=8,Ee},readSFixed64:function(){var Ee=gu(this.buf,this.pos)+4294967296*bu(this.buf,this.pos+4);return this.pos+=8,Ee},readFloat:function(){var Ee=ru(this.buf,this.pos,!0,23,4);return this.pos+=4,Ee},readDouble:function(){var Ee=ru(this.buf,this.pos,!0,52,8);return this.pos+=8,Ee},readVarint:function(Ee){var ze,Be,Ue=this.buf;return ze=127&(Be=Ue[this.pos++]),Be<128?ze:(ze|=(127&(Be=Ue[this.pos++]))<<7,Be<128?ze:(ze|=(127&(Be=Ue[this.pos++]))<<14,Be<128?ze:(ze|=(127&(Be=Ue[this.pos++]))<<21,Be<128?ze:function(Ee,ze,Be){var Ue,We,$e=Be.buf;if(Ue=(112&(We=$e[Be.pos++]))>>4,We<128)return su(Ee,Ue,ze);if(Ue|=(127&(We=$e[Be.pos++]))<<3,We<128)return su(Ee,Ue,ze);if(Ue|=(127&(We=$e[Be.pos++]))<<10,We<128)return su(Ee,Ue,ze);if(Ue|=(127&(We=$e[Be.pos++]))<<17,We<128)return su(Ee,Ue,ze);if(Ue|=(127&(We=$e[Be.pos++]))<<24,We<128)return su(Ee,Ue,ze);if(Ue|=(1&(We=$e[Be.pos++]))<<31,We<128)return su(Ee,Ue,ze);throw new Error("Expected varint not more than 10 bytes")}(ze|=(15&(Be=Ue[this.pos]))<<28,Ee,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ee=this.readVarint();return Ee%2==1?(Ee+1)/-2:Ee/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Ee=this.readVarint()+this.pos,ze=function(Ee,ze,Be){for(var Ue="",We=ze;We<Be;){var $e,Qe,et,tt=Ee[We],rt=null,nt=tt>239?4:tt>223?3:tt>191?2:1;if(We+nt>Be)break;1===nt?tt<128&&(rt=tt):2===nt?128==(192&($e=Ee[We+1]))&&(rt=(31&tt)<<6|63&$e)<=127&&(rt=null):3===nt?($e=Ee[We+1],Qe=Ee[We+2],128==(192&$e)&&128==(192&Qe)&&((rt=(15&tt)<<12|(63&$e)<<6|63&Qe)<=2047||rt>=55296&&rt<=57343)&&(rt=null)):4===nt&&($e=Ee[We+1],Qe=Ee[We+2],et=Ee[We+3],128==(192&$e)&&128==(192&Qe)&&128==(192&et)&&((rt=(15&tt)<<18|(63&$e)<<12|(63&Qe)<<6|63&et)<=65535||rt>=1114112)&&(rt=null)),null===rt?(rt=65533,nt=1):rt>65535&&(rt-=65536,Ue+=String.fromCharCode(rt>>>10&1023|55296),rt=56320|1023&rt),Ue+=String.fromCharCode(rt),We+=nt}return Ue}(this.buf,this.pos,Ee);return this.pos=Ee,ze},readBytes:function(){var Ee=this.readVarint()+this.pos,ze=this.buf.subarray(this.pos,Ee);return this.pos=Ee,ze},readPackedVarint:function(Ee,ze){if(this.type!==au.Bytes)return Ee.push(this.readVarint(ze));var Be=ou(this);for(Ee=Ee||[];this.pos<Be;)Ee.push(this.readVarint(ze));return Ee},readPackedSVarint:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readSVarint());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readSVarint());return Ee},readPackedBoolean:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readBoolean());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readBoolean());return Ee},readPackedFloat:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readFloat());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readFloat());return Ee},readPackedDouble:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readDouble());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readDouble());return Ee},readPackedFixed32:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readFixed32());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readFixed32());return Ee},readPackedSFixed32:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readSFixed32());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readSFixed32());return Ee},readPackedFixed64:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readFixed64());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readFixed64());return Ee},readPackedSFixed64:function(Ee){if(this.type!==au.Bytes)return Ee.push(this.readSFixed64());var ze=ou(this);for(Ee=Ee||[];this.pos<ze;)Ee.push(this.readSFixed64());return Ee},skip:function(Ee){var ze=7&Ee;if(ze===au.Varint)for(;this.buf[this.pos++]>127;);else if(ze===au.Bytes)this.pos=this.readVarint()+this.pos;else if(ze===au.Fixed32)this.pos+=4;else{if(ze!==au.Fixed64)throw new Error("Unimplemented type: "+ze);this.pos+=8}},writeTag:function(Ee,ze){this.writeVarint(Ee<<3|ze)},realloc:function(Ee){for(var ze=this.length||16;ze<this.pos+Ee;)ze*=2;if(ze!==this.length){var Be=new Uint8Array(ze);Be.set(this.buf),this.buf=Be,this.length=ze}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ee){this.realloc(4),xu(this.buf,Ee,this.pos),this.pos+=4},writeSFixed32:function(Ee){this.realloc(4),xu(this.buf,Ee,this.pos),this.pos+=4},writeFixed64:function(Ee){this.realloc(8),xu(this.buf,-1&Ee,this.pos),xu(this.buf,Math.floor(Ee*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(Ee){this.realloc(8),xu(this.buf,-1&Ee,this.pos),xu(this.buf,Math.floor(Ee*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(Ee){(Ee=+Ee||0)>268435455||Ee<0?function(Ee,ze){var Be,Ue;if(Ee>=0?(Be=Ee%4294967296|0,Ue=Ee/4294967296|0):(Ue=~(-Ee/4294967296),4294967295^(Be=~(-Ee%4294967296))?Be=Be+1|0:(Be=0,Ue=Ue+1|0)),Ee>=0x10000000000000000||Ee<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");ze.realloc(10),function(Ee,ze,Be){Be.buf[Be.pos++]=127&Ee|128,Ee>>>=7,Be.buf[Be.pos++]=127&Ee|128,Ee>>>=7,Be.buf[Be.pos++]=127&Ee|128,Ee>>>=7,Be.buf[Be.pos++]=127&Ee|128,Ee>>>=7,Be.buf[Be.pos]=127&Ee}(Be,0,ze),function(Ee,ze){var Be=(7&Ee)<<4;ze.buf[ze.pos++]|=Be|((Ee>>>=3)?128:0),Ee&&(ze.buf[ze.pos++]=127&Ee|((Ee>>>=7)?128:0),Ee&&(ze.buf[ze.pos++]=127&Ee|((Ee>>>=7)?128:0),Ee&&(ze.buf[ze.pos++]=127&Ee|((Ee>>>=7)?128:0),Ee&&(ze.buf[ze.pos++]=127&Ee|((Ee>>>=7)?128:0),Ee&&(ze.buf[ze.pos++]=127&Ee)))))}(Ue,ze)}(Ee,this):(this.realloc(4),this.buf[this.pos++]=127&Ee|(Ee>127?128:0),Ee<=127||(this.buf[this.pos++]=127&(Ee>>>=7)|(Ee>127?128:0),Ee<=127||(this.buf[this.pos++]=127&(Ee>>>=7)|(Ee>127?128:0),Ee<=127||(this.buf[this.pos++]=Ee>>>7&127))))},writeSVarint:function(Ee){this.writeVarint(Ee<0?2*-Ee-1:2*Ee)},writeBoolean:function(Ee){this.writeVarint(Boolean(Ee))},writeString:function(Ee){Ee=String(Ee),this.realloc(4*Ee.length),this.pos++;var ze=this.pos;this.pos=function(Ee,ze,Be){for(var Ue,We,$e=0;$e<ze.length;$e++){if((Ue=ze.charCodeAt($e))>55295&&Ue<57344){if(!We){Ue>56319||$e+1===ze.length?(Ee[Be++]=239,Ee[Be++]=191,Ee[Be++]=189):We=Ue;continue}if(Ue<56320){Ee[Be++]=239,Ee[Be++]=191,Ee[Be++]=189,We=Ue;continue}Ue=We-55296<<10|Ue-56320|65536,We=null}else We&&(Ee[Be++]=239,Ee[Be++]=191,Ee[Be++]=189,We=null);Ue<128?Ee[Be++]=Ue:(Ue<2048?Ee[Be++]=Ue>>6|192:(Ue<65536?Ee[Be++]=Ue>>12|224:(Ee[Be++]=Ue>>18|240,Ee[Be++]=Ue>>12&63|128),Ee[Be++]=Ue>>6&63|128),Ee[Be++]=63&Ue|128)}return Be}(this.buf,Ee,this.pos);var Be=this.pos-ze;Be>=128&&uu(ze,Be,this),this.pos=ze-1,this.writeVarint(Be),this.pos+=Be},writeFloat:function(Ee){this.realloc(4),nu(this.buf,Ee,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ee){this.realloc(8),nu(this.buf,Ee,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ee){var ze=Ee.length;this.writeVarint(ze),this.realloc(ze);for(var Be=0;Be<ze;Be++)this.buf[this.pos++]=Ee[Be]},writeRawMessage:function(Ee,ze){this.pos++;var Be=this.pos;Ee(ze,this);var Ue=this.pos-Be;Ue>=128&&uu(Be,Ue,this),this.pos=Be-1,this.writeVarint(Ue),this.pos+=Ue},writeMessage:function(Ee,ze,Be){this.writeTag(Ee,au.Bytes),this.writeRawMessage(ze,Be)},writePackedVarint:function(Ee,ze){ze.length&&this.writeMessage(Ee,lu,ze)},writePackedSVarint:function(Ee,ze){ze.length&&this.writeMessage(Ee,pu,ze)},writePackedBoolean:function(Ee,ze){ze.length&&this.writeMessage(Ee,fu,ze)},writePackedFloat:function(Ee,ze){ze.length&&this.writeMessage(Ee,cu,ze)},writePackedDouble:function(Ee,ze){ze.length&&this.writeMessage(Ee,hu,ze)},writePackedFixed32:function(Ee,ze){ze.length&&this.writeMessage(Ee,yu,ze)},writePackedSFixed32:function(Ee,ze){ze.length&&this.writeMessage(Ee,du,ze)},writePackedFixed64:function(Ee,ze){ze.length&&this.writeMessage(Ee,mu,ze)},writePackedSFixed64:function(Ee,ze){ze.length&&this.writeMessage(Ee,vu,ze)},writeBytesField:function(Ee,ze){this.writeTag(Ee,au.Bytes),this.writeBytes(ze)},writeFixed32Field:function(Ee,ze){this.writeTag(Ee,au.Fixed32),this.writeFixed32(ze)},writeSFixed32Field:function(Ee,ze){this.writeTag(Ee,au.Fixed32),this.writeSFixed32(ze)},writeFixed64Field:function(Ee,ze){this.writeTag(Ee,au.Fixed64),this.writeFixed64(ze)},writeSFixed64Field:function(Ee,ze){this.writeTag(Ee,au.Fixed64),this.writeSFixed64(ze)},writeVarintField:function(Ee,ze){this.writeTag(Ee,au.Varint),this.writeVarint(ze)},writeSVarintField:function(Ee,ze){this.writeTag(Ee,au.Varint),this.writeSVarint(ze)},writeStringField:function(Ee,ze){this.writeTag(Ee,au.Bytes),this.writeString(ze)},writeFloatField:function(Ee,ze){this.writeTag(Ee,au.Fixed32),this.writeFloat(ze)},writeDoubleField:function(Ee,ze){this.writeTag(Ee,au.Fixed64),this.writeDouble(ze)},writeBooleanField:function(Ee,ze){this.writeVarintField(Ee,Boolean(ze))}};var zu=function(Ee){var ze=this;this._callback=Ee,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){ze._triggered=!1,ze._callback()})};zu.prototype.trigger=function(){var Ee=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){Ee._triggered=!1,Ee._callback()}),0))};var Iu=function(Ee,ze,Be){this.target=Ee,this.parent=ze,this.mapId=Be,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new zu(this.process),this.target.addEventListener("message",this.receive,!1)};function Cu(Ee,ze,Be){var Ue=2*Math.PI*6378137/256/Math.pow(2,Be);return[Ee*Ue-2*Math.PI*6378137/2,ze*Ue-2*Math.PI*6378137/2]}Iu.prototype.send=function(Ee,ze,Be,Ue){var We=this,$e=Math.round(1e18*Math.random()).toString(36).substring(0,10);Be&&(this.callbacks[$e]=Be);var Qe=[];return this.target.postMessage({id:$e,type:Ee,hasCallback:!!Be,targetMapId:Ue,sourceMapId:this.mapId,data:gn(ze,Qe)},Qe),{cancel:function(){Be&&delete We.callbacks[$e],We.target.postMessage({id:$e,type:"<cancel>",targetMapId:Ue,sourceMapId:We.mapId})}}},Iu.prototype.receive=function(Ee){var ze=Ee.data,Be=ze.id;if(Be&&(!ze.targetMapId||this.mapId===ze.targetMapId))if("<cancel>"===ze.type){delete this.tasks[Be];var Ue=this.cancelCallbacks[Be];delete this.cancelCallbacks[Be],Ue&&Ue()}else this.tasks[Be]=ze,this.taskQueue.push(Be),this.invoker.trigger()},Iu.prototype.process=function(){var Ee=this;if(this.taskQueue.length){var ze=this.taskQueue.shift(),Be=this.tasks[ze];if(delete this.tasks[ze],this.taskQueue.length&&this.invoker.trigger(),Be)if("<response>"===Be.type){var Ue=this.callbacks[ze];delete this.callbacks[ze],Ue&&(Be.error?Ue(xn(Be.error)):Ue(null,xn(Be.data)))}else{var We=!1,$e=Be.hasCallback?function(Be,Ue){We=!0,delete Ee.cancelCallbacks[ze];var $e=[];Ee.target.postMessage({id:ze,type:"<response>",sourceMapId:Ee.mapId,error:Be?gn(Be):null,data:gn(Ue,$e)},$e)}:function(Ee){We=!0},Qe=null,et=xn(Be.data);if(this.parent[Be.type])Qe=this.parent[Be.type](Be.sourceMapId,et,$e);else if(this.parent.getWorkerSource){var tt=Be.type.split(".");Qe=this.parent.getWorkerSource(Be.sourceMapId,tt[0],et.source)[tt[1]](et,$e)}else $e(new Error("Could not find function "+Be.type));!We&&Qe&&Qe.cancel&&(this.cancelCallbacks[ze]=Qe.cancel)}}},Iu.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Bu=function(Ee,ze){Ee&&(ze?this.setSouthWest(Ee).setNorthEast(ze):4===Ee.length?this.setSouthWest([Ee[0],Ee[1]]).setNorthEast([Ee[2],Ee[3]]):this.setSouthWest(Ee[0]).setNorthEast(Ee[1]))};Bu.prototype.setNorthEast=function(Ee){return this._ne=Ee instanceof Eu?new Eu(Ee.lng,Ee.lat):Eu.convert(Ee),this},Bu.prototype.setSouthWest=function(Ee){return this._sw=Ee instanceof Eu?new Eu(Ee.lng,Ee.lat):Eu.convert(Ee),this},Bu.prototype.extend=function(Ee){var ze,Be,Ue=this._sw,We=this._ne;if(Ee instanceof Eu)ze=Ee,Be=Ee;else{if(!(Ee instanceof Bu))return Array.isArray(Ee)?Ee.every(Array.isArray)?this.extend(Bu.convert(Ee)):this.extend(Eu.convert(Ee)):this;if(ze=Ee._sw,Be=Ee._ne,!ze||!Be)return this}return Ue||We?(Ue.lng=Math.min(ze.lng,Ue.lng),Ue.lat=Math.min(ze.lat,Ue.lat),We.lng=Math.max(Be.lng,We.lng),We.lat=Math.max(Be.lat,We.lat)):(this._sw=new Eu(ze.lng,ze.lat),this._ne=new Eu(Be.lng,Be.lat)),this},Bu.prototype.getCenter=function(){return new Eu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Bu.prototype.getSouthWest=function(){return this._sw},Bu.prototype.getNorthEast=function(){return this._ne},Bu.prototype.getNorthWest=function(){return new Eu(this.getWest(),this.getNorth())},Bu.prototype.getSouthEast=function(){return new Eu(this.getEast(),this.getSouth())},Bu.prototype.getWest=function(){return this._sw.lng},Bu.prototype.getSouth=function(){return this._sw.lat},Bu.prototype.getEast=function(){return this._ne.lng},Bu.prototype.getNorth=function(){return this._ne.lat},Bu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Bu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Bu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Bu.convert=function(Ee){return!Ee||Ee instanceof Bu?Ee:new Bu(Ee)};var Eu=function(Ee,ze){if(isNaN(Ee)||isNaN(ze))throw new Error("Invalid LngLat object: ("+Ee+", "+ze+")");if(this.lng=+Ee,this.lat=+ze,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Eu.prototype.wrap=function(){return new Eu(p(this.lng,-180,180),this.lat)},Eu.prototype.toArray=function(){return[this.lng,this.lat]},Eu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Eu.prototype.toBounds=function(Ee){void 0===Ee&&(Ee=0);var ze=360*Ee/40075017,Be=ze/Math.cos(Math.PI/180*this.lat);return new Bu(new Eu(this.lng-Be,this.lat-ze),new Eu(this.lng+Be,this.lat+ze))},Eu.convert=function(Ee){if(Ee instanceof Eu)return Ee;if(Array.isArray(Ee)&&(2===Ee.length||3===Ee.length))return new Eu(Number(Ee[0]),Number(Ee[1]));if(!Array.isArray(Ee)&&"object"==typeof Ee&&null!==Ee)return new Eu(Number("lng"in Ee?Ee.lng:Ee.lon),Number(Ee.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var qc=2*Math.PI*6378137;function Pu(Ee){return qc*Math.cos(Ee*Math.PI/180)}function Tu(Ee){return(180+Ee)/360}function Vu(Ee){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Ee*Math.PI/360)))/360}function Fu(Ee,ze){return Ee/Pu(ze)}function Ou(Ee){var ze=180-360*Ee;return 360/Math.PI*Math.atan(Math.exp(ze*Math.PI/180))-90}var Lu=function(Ee,ze,Be){void 0===Be&&(Be=0),this.x=+Ee,this.y=+ze,this.z=+Be};Lu.fromLngLat=function(Ee,ze){void 0===ze&&(ze=0);var Be=Eu.convert(Ee);return new Lu(Tu(Be.lng),Vu(Be.lat),Fu(ze,Be.lat))},Lu.prototype.toLngLat=function(){return new Eu(360*this.x-180,Ou(this.y))},Lu.prototype.toAltitude=function(){return this.z*Pu(Ou(this.y))},Lu.prototype.meterInMercatorCoordinateUnits=function(){return 1/qc*(Ee=Ou(this.y),1/Math.cos(Ee*Math.PI/180));var Ee};var Du=function(Ee,ze,Be){this.z=Ee,this.x=ze,this.y=Be,this.key=ju(0,Ee,ze,Be)};Du.prototype.equals=function(Ee){return this.z===Ee.z&&this.x===Ee.x&&this.y===Ee.y},Du.prototype.url=function(Ee,ze){var Be,Ue,We,$e,Qe,et=(Be=this.x,Ue=this.y,We=this.z,$e=Cu(256*Be,256*(Ue=Math.pow(2,We)-Ue-1),We),Qe=Cu(256*(Be+1),256*(Ue+1),We),$e[0]+","+$e[1]+","+Qe[0]+","+Qe[1]),tt=function(Ee,ze,Be){for(var Ue,We="",$e=Ee;$e>0;$e--)We+=(ze&(Ue=1<<$e-1)?1:0)+(Be&Ue?2:0);return We}(this.z,this.x,this.y);return Ee[(this.x+this.y)%Ee.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===ze?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",tt).replace("{bbox-epsg-3857}",et)},Du.prototype.getTilePoint=function(Ee){var ze=Math.pow(2,this.z);return new Be((Ee.x*ze-this.x)*zl,(Ee.y*ze-this.y)*zl)};var Uu=function(Ee,ze){this.wrap=Ee,this.canonical=ze,this.key=ju(Ee,ze.z,ze.x,ze.y)},Ru=function(Ee,ze,Be,Ue,We){this.overscaledZ=Ee,this.wrap=ze,this.canonical=new Du(Be,+Ue,+We),this.key=ju(ze,Ee,Ue,We)};function ju(Ee,ze,Be,Ue){(Ee*=2)<0&&(Ee=-1*Ee-1);var We=1<<ze;return 32*(We*We*Ee+We*Ue+Be)+ze}Ru.prototype.equals=function(Ee){return this.overscaledZ===Ee.overscaledZ&&this.wrap===Ee.wrap&&this.canonical.equals(Ee.canonical)},Ru.prototype.scaledTo=function(Ee){var ze=this.canonical.z-Ee;return Ee>this.canonical.z?new Ru(Ee,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ru(Ee,this.wrap,Ee,this.canonical.x>>ze,this.canonical.y>>ze)},Ru.prototype.isChildOf=function(Ee){if(Ee.wrap!==this.wrap)return!1;var ze=this.canonical.z-Ee.canonical.z;return 0===Ee.overscaledZ||Ee.overscaledZ<this.overscaledZ&&Ee.canonical.x===this.canonical.x>>ze&&Ee.canonical.y===this.canonical.y>>ze},Ru.prototype.children=function(Ee){if(this.overscaledZ>=Ee)return[new Ru(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var ze=this.canonical.z+1,Be=2*this.canonical.x,Ue=2*this.canonical.y;return[new Ru(ze,this.wrap,ze,Be,Ue),new Ru(ze,this.wrap,ze,Be+1,Ue),new Ru(ze,this.wrap,ze,Be,Ue+1),new Ru(ze,this.wrap,ze,Be+1,Ue+1)]},Ru.prototype.isLessThan=function(Ee){return this.wrap<Ee.wrap||!(this.wrap>Ee.wrap)&&(this.overscaledZ<Ee.overscaledZ||!(this.overscaledZ>Ee.overscaledZ)&&(this.canonical.x<Ee.canonical.x||!(this.canonical.x>Ee.canonical.x)&&this.canonical.y<Ee.canonical.y))},Ru.prototype.wrapped=function(){return new Ru(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ru.prototype.unwrapTo=function(Ee){return new Ru(this.overscaledZ,Ee,this.canonical.z,this.canonical.x,this.canonical.y)},Ru.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ru.prototype.toUnwrapped=function(){return new Uu(this.wrap,this.canonical)},Ru.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ru.prototype.getTilePoint=function(Ee){return this.canonical.getTilePoint(new Lu(Ee.x-this.wrap,Ee.y))},mn("CanonicalTileID",Du),mn("OverscaledTileID",Ru,{omit:["posMatrix"]});var qu=function(Ee,ze,Be){if(this.uid=Ee,ze.height!==ze.width)throw new RangeError("DEM tiles must be square");if(Be&&"mapbox"!==Be&&"terrarium"!==Be)return w('"'+Be+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var Ue=this.dim=ze.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var We=ze.data,$e="terrarium"===Be?this._unpackTerrarium:this._unpackMapbox,Qe=0;Qe<Ue;Qe++)for(var et=0;et<Ue;et++){var tt=4*(Qe*Ue+et);this.set(et,Qe,$e(We[tt],We[tt+1],We[tt+2]))}for(var rt=0;rt<Ue;rt++)this.set(-1,rt,this.get(0,rt)),this.set(Ue,rt,this.get(Ue-1,rt)),this.set(rt,-1,this.get(rt,0)),this.set(rt,Ue,this.get(rt,Ue-1));this.set(-1,-1,this.get(0,0)),this.set(Ue,-1,this.get(Ue-1,0)),this.set(-1,Ue,this.get(0,Ue-1)),this.set(Ue,Ue,this.get(Ue-1,Ue-1))};qu.prototype.set=function(Ee,ze,Be){this.data[this._idx(Ee,ze)]=Be+65536},qu.prototype.get=function(Ee,ze){return this.data[this._idx(Ee,ze)]-65536},qu.prototype._idx=function(Ee,ze){if(Ee<-1||Ee>=this.dim+1||ze<-1||ze>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(ze+1)*this.stride+(Ee+1)},qu.prototype._unpackMapbox=function(Ee,ze,Be){return(256*Ee*256+256*ze+Be)/10-1e4},qu.prototype._unpackTerrarium=function(Ee,ze,Be){return 256*Ee+ze+Be/256-32768},qu.prototype.getPixels=function(){return new Oa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},qu.prototype.backfillBorder=function(Ee,ze,Be){if(this.dim!==Ee.dim)throw new Error("dem dimension mismatch");var Ue=ze*this.dim,We=ze*this.dim+this.dim,$e=Be*this.dim,Qe=Be*this.dim+this.dim;switch(ze){case-1:Ue=We-1;break;case 1:We=Ue+1}switch(Be){case-1:$e=Qe-1;break;case 1:Qe=$e+1}for(var et=-ze*this.dim,tt=-Be*this.dim,rt=$e;rt<Qe;rt++)for(var nt=Ue;nt<We;nt++)this.set(nt,rt,Ee.get(nt+et,rt+tt))},mn("DEMData",qu);var Gc=Wn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Ku=function(Ee){this._stringToNumber={},this._numberToString=[];for(var ze=0;ze<Ee.length;ze++){var Be=Ee[ze];this._stringToNumber[Be]=ze,this._numberToString[ze]=Be}};Ku.prototype.encode=function(Ee){return this._stringToNumber[Ee]},Ku.prototype.decode=function(Ee){return this._numberToString[Ee]};var Zu=function(Ee,ze,Be,Ue){this.type="Feature",this._vectorTileFeature=Ee,Ee._z=ze,Ee._x=Be,Ee._y=Ue,this.properties=Ee.properties,null!=Ee.id&&(this.id=Ee.id)},Yc={geometry:{configurable:!0}};Yc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Yc.geometry.set=function(Ee){this._geometry=Ee},Zu.prototype.toJSON=function(){var Ee={geometry:this.geometry};for(var ze in this)"_geometry"!==ze&&"_vectorTileFeature"!==ze&&(Ee[ze]=this[ze]);return Ee},Object.defineProperties(Zu.prototype,Yc);var Gu=function(){this.state={},this.stateChanges={},this.deletedStates={}};Gu.prototype.updateState=function(Ee,ze,Be){var Ue=String(ze);if(this.stateChanges[Ee]=this.stateChanges[Ee]||{},this.stateChanges[Ee][Ue]=this.stateChanges[Ee][Ue]||{},c(this.stateChanges[Ee][Ue],Be),null===this.deletedStates[Ee])for(var We in this.deletedStates[Ee]={},this.state[Ee])We!==Ue&&(this.deletedStates[Ee][We]=null);else if(this.deletedStates[Ee]&&null===this.deletedStates[Ee][Ue])for(var $e in this.deletedStates[Ee][Ue]={},this.state[Ee][Ue])Be[$e]||(this.deletedStates[Ee][Ue][$e]=null);else for(var Qe in Be)this.deletedStates[Ee]&&this.deletedStates[Ee][Ue]&&null===this.deletedStates[Ee][Ue][Qe]&&delete this.deletedStates[Ee][Ue][Qe]},Gu.prototype.removeFeatureState=function(Ee,ze,Be){if(null!==this.deletedStates[Ee]){var Ue=String(ze);if(this.deletedStates[Ee]=this.deletedStates[Ee]||{},Be&&void 0!==ze&&ze>=0)null!==this.deletedStates[Ee][Ue]&&(this.deletedStates[Ee][Ue]=this.deletedStates[Ee][Ue]||{},this.deletedStates[Ee][Ue][Be]=null);else if(void 0!==ze&&ze>=0)if(this.stateChanges[Ee]&&this.stateChanges[Ee][Ue])for(Be in this.deletedStates[Ee][Ue]={},this.stateChanges[Ee][Ue])this.deletedStates[Ee][Ue][Be]=null;else this.deletedStates[Ee][Ue]=null;else this.deletedStates[Ee]=null}},Gu.prototype.getState=function(Ee,ze){var Be=String(ze),Ue=this.state[Ee]||{},We=this.stateChanges[Ee]||{},$e=c({},Ue[Be],We[Be]);if(null===this.deletedStates[Ee])return{};if(this.deletedStates[Ee]){var Qe=this.deletedStates[Ee][ze];if(null===Qe)return{};for(var et in Qe)delete $e[et]}return $e},Gu.prototype.initializeTileState=function(Ee,ze){Ee.setFeatureState(this.state,ze)},Gu.prototype.coalesceChanges=function(Ee,ze){var Be={};for(var Ue in this.stateChanges){this.state[Ue]=this.state[Ue]||{};var We={};for(var $e in this.stateChanges[Ue])this.state[Ue][$e]||(this.state[Ue][$e]={}),c(this.state[Ue][$e],this.stateChanges[Ue][$e]),We[$e]=this.state[Ue][$e];Be[Ue]=We}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var et={};if(null===this.deletedStates[Qe])for(var tt in this.state[Qe])et[tt]={},this.state[Qe][tt]={};else for(var rt in this.deletedStates[Qe]){if(null===this.deletedStates[Qe][rt])this.state[Qe][rt]={};else for(var nt=0,at=Object.keys(this.deletedStates[Qe][rt]);nt<at.length;nt+=1){var it=at[nt];delete this.state[Qe][rt][it]}et[rt]=this.state[Qe][rt]}Be[Qe]=Be[Qe]||{},c(Be[Qe],et)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(Be).length)for(var ct in Ee)Ee[ct].setFeatureState(Be,ze)};var Ju=function(Ee,ze,Be){this.tileID=Ee,this.x=Ee.canonical.x,this.y=Ee.canonical.y,this.z=Ee.canonical.z,this.grid=ze||new Ho(zl,16,0),this.grid3D=new Ho(zl,16,0),this.featureIndexArray=Be||new Al};function Hu(Ee){for(var ze=1/0,Be=1/0,Ue=-1/0,We=-1/0,$e=0,Qe=Ee;$e<Qe.length;$e+=1){var et=Qe[$e];ze=Math.min(ze,et.x),Be=Math.min(Be,et.y),Ue=Math.max(Ue,et.x),We=Math.max(We,et.y)}return{minX:ze,minY:Be,maxX:Ue,maxY:We}}function Yu(Ee,ze){return ze-Ee}Ju.prototype.insert=function(Ee,ze,Be,Ue,We,$e){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Be,Ue,We);for(var et=$e?this.grid3D:this.grid,tt=0;tt<ze.length;tt++){for(var rt=ze[tt],nt=[1/0,1/0,-1/0,-1/0],at=0;at<rt.length;at++){var it=rt[at];nt[0]=Math.min(nt[0],it.x),nt[1]=Math.min(nt[1],it.y),nt[2]=Math.max(nt[2],it.x),nt[3]=Math.max(nt[3],it.y)}nt[0]<zl&&nt[1]<zl&&nt[2]>=0&&nt[3]>=0&&et.insert(Qe,nt[0],nt[1],nt[2],nt[3])}},Ju.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new rc.VectorTile(new Hc(this.rawTileData)).layers,this.sourceLayerCoder=new Ku(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ju.prototype.query=function(Ee,ze,Ue){var We=this;this.loadVTLayers();for(var $e=Ee.params||{},Qe=zl/Ee.tileSize/Ee.scale,et=Dr($e.filter),tt=Ee.queryGeometry,rt=Ee.queryPadding*Qe,nt=Hu(tt),at=this.grid.query(nt.minX-rt,nt.minY-rt,nt.maxX+rt,nt.maxY+rt),it=Hu(Ee.cameraQueryGeometry),ct=0,ft=this.grid3D.query(it.minX-rt,it.minY-rt,it.maxX+rt,it.maxY+rt,(function(ze,Ue,We,$e){return function(Ee,ze,Ue,We,$e){for(var Qe=0,et=Ee;Qe<et.length;Qe+=1){var tt=et[Qe];if(ze<=tt.x&&Ue<=tt.y&&We>=tt.x&&$e>=tt.y)return!0}var rt=[new Be(ze,Ue),new Be(ze,$e),new Be(We,$e),new Be(We,Ue)];if(Ee.length>2)for(var nt=0,at=rt;nt<at.length;nt+=1)if(ga(Ee,at[nt]))return!0;for(var it=0;it<Ee.length-1;it++)if(xa(Ee[it],Ee[it+1],rt))return!0;return!1}(Ee.cameraQueryGeometry,ze-rt,Ue-rt,We+rt,$e+rt)}));ct<ft.length;ct+=1){var xt=ft[ct];at.push(xt)}at.sort(Yu);for(var kt,Lt={},x=function(Be){var rt=at[Be];if(rt!==kt){kt=rt;var nt=We.featureIndexArray.get(rt),it=null;We.loadMatchingFeature(Lt,nt.bucketIndex,nt.sourceLayerIndex,nt.featureIndex,et,$e.layers,ze,(function(ze,Be){it||(it=oa(ze));var $e={};return ze.id&&($e=Ue.getState(Be.sourceLayer||"_geojsonTileLayer",ze.id)),Be.queryIntersectsFeature(tt,ze,$e,it,We.z,Ee.transform,Qe,Ee.pixelPosMatrix)}))}},Ut=0;Ut<at.length;Ut++)x(Ut);return Lt},Ju.prototype.loadMatchingFeature=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=this.bucketLayerIDs[ze];if(!$e||function(Ee,ze){for(var Be=0;Be<Ee.length;Be++)if(ze.indexOf(Ee[Be])>=0)return!0;return!1}($e,tt)){var rt=this.sourceLayerCoder.decode(Be),nt=this.vtLayers[rt].feature(Ue);if(We(new Tn(this.tileID.overscaledZ),nt))for(var at=0;at<tt.length;at++){var it=tt[at];if(!($e&&$e.indexOf(it)<0)){var ct=Qe[it];if(ct){var ft=!et||et(nt,ct);if(ft){var xt=new Zu(nt,this.z,this.x,this.y);xt.layer=ct.serialize();var kt=Ee[it];void 0===kt&&(kt=Ee[it]=[]),kt.push({featureIndex:Ue,feature:xt,intersectionZ:ft})}}}}}},Ju.prototype.lookupSymbolFeatures=function(Ee,ze,Be,Ue,We,$e){var Qe={};this.loadVTLayers();for(var et=Dr(Ue),tt=0,rt=Ee;tt<rt.length;tt+=1){var nt=rt[tt];this.loadMatchingFeature(Qe,ze,Be,nt,et,We,$e)}return Qe},Ju.prototype.hasLayer=function(Ee){for(var ze=0,Be=this.bucketLayerIDs;ze<Be.length;ze+=1)for(var Ue=0,We=Be[ze];Ue<We.length;Ue+=1)if(Ee===We[Ue])return!0;return!1},mn("FeatureIndex",Ju,{omit:["rawTileData","sourceLayerCoder"]});var $u=function(Ee,ze){this.tileID=Ee,this.uid=f(),this.uses=0,this.tileSize=ze,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};function Wu(Ee,ze,Be,Ue,We){if(void 0===ze.segment)return!0;for(var $e=ze,Qe=ze.segment+1,et=0;et>-Be/2;){if(--Qe<0)return!1;et-=Ee[Qe].dist($e),$e=Ee[Qe]}et+=Ee[Qe].dist(Ee[Qe+1]),Qe++;for(var tt=[],rt=0;et<Be/2;){var nt=Ee[Qe-1],at=Ee[Qe],it=Ee[Qe+1];if(!it)return!1;var ct=nt.angleTo(at)-at.angleTo(it);for(ct=Math.abs((ct+3*Math.PI)%(2*Math.PI)-Math.PI),tt.push({distance:et,angleDelta:ct}),rt+=ct;et-tt[0].distance>Ue;)rt-=tt.shift().angleDelta;if(rt>We)return!1;Qe++,et+=at.dist(it)}return!0}function Qu(Ee){for(var ze=0,Be=0;Be<Ee.length-1;Be++)ze+=Ee[Be].dist(Ee[Be+1]);return ze}function tl(Ee,ze,Be){return Ee?.6*ze*Be:0}function el(Ee,ze){return Math.max(Ee?Ee.right-Ee.left:0,ze?ze.right-ze.left:0)}function rl(Ee,ze,Be,Ue,We,$e){for(var Qe=tl(Be,We,$e),et=el(Be,Ue)*$e,tt=0,rt=Qu(Ee)/2,nt=0;nt<Ee.length-1;nt++){var at=Ee[nt],it=Ee[nt+1],ct=at.dist(it);if(tt+ct>rt){var ft=(rt-tt)/ct,xt=be(at.x,it.x,ft),kt=be(at.y,it.y,ft),Lt=new kc(xt,kt,it.angleTo(at),nt);return Lt._round(),!Qe||Wu(Ee,Lt,et,Qe,ze)?Lt:void 0}tt+=ct}}function nl(Ee,ze,Be,Ue,We,$e,Qe,et,tt){var rt=tl(Ue,$e,Qe),nt=el(Ue,We),at=nt*Qe,it=0===Ee[0].x||Ee[0].x===tt||0===Ee[0].y||Ee[0].y===tt;return ze-at<ze/4&&(ze=at+ze/4),function t(Ee,ze,Be,Ue,We,$e,Qe,et,tt){for(var rt=$e/2,nt=Qu(Ee),at=0,it=ze-Be,ct=[],ft=0;ft<Ee.length-1;ft++){for(var xt=Ee[ft],kt=Ee[ft+1],Lt=xt.dist(kt),Ut=kt.angleTo(xt);it+Be<at+Lt;){var er=((it+=Be)-at)/Lt,tr=be(xt.x,kt.x,er),rr=be(xt.y,kt.y,er);if(tr>=0&&tr<tt&&rr>=0&&rr<tt&&it-rt>=0&&it+rt<=nt){var ar=new kc(tr,rr,Ut,ft);ar._round(),Ue&&!Wu(Ee,ar,$e,Ue,We)||ct.push(ar)}}at+=Lt}return et||ct.length||Qe||(ct=t(Ee,at/2,Be,Ue,We,$e,Qe,!0,tt)),ct}(Ee,it?ze/2*et%ze:(nt/2+2*$e)*Qe*et%ze,ze,rt,Be,at,it,!1,tt)}$u.prototype.registerFadeDuration=function(Ee){var ze=Ee+this.timeAdded;ze<ct.now()||this.fadeEndTime&&ze<this.fadeEndTime||(this.fadeEndTime=ze)},$u.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},$u.prototype.loadVectorData=function(Ee,ze,Be){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",Ee){for(var Ue in Ee.featureIndex&&(this.latestFeatureIndex=Ee.featureIndex,Ee.rawTileData?(this.latestRawTileData=Ee.rawTileData,this.latestFeatureIndex.rawTileData=Ee.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=Ee.collisionBoxArray,this.buckets=function(Ee,ze){var Be={};if(!ze)return Be;for(var n=function(){var Ee=We[Ue],$e=Ee.layerIds.map((function(Ee){return ze.getLayer(Ee)})).filter(Boolean);if(0!==$e.length){Ee.layers=$e,Ee.stateDependentLayerIds&&(Ee.stateDependentLayers=Ee.stateDependentLayerIds.map((function(Ee){return $e.filter((function(ze){return ze.id===Ee}))[0]})));for(var Qe=0,et=$e;Qe<et.length;Qe+=1){var tt=et[Qe];Be[tt.id]=Ee}}},Ue=0,We=Ee;Ue<We.length;Ue+=1)n();return Be}(Ee.buckets,ze.style),this.hasSymbolBuckets=!1,this.buckets){var We=this.buckets[Ue];if(We instanceof Os){if(this.hasSymbolBuckets=!0,!Be)break;We.justReloaded=!0}}for(var $e in this.queryPadding=0,this.buckets){var Qe=this.buckets[$e];this.queryPadding=Math.max(this.queryPadding,ze.style.getLayer($e).queryRadius(Qe))}Ee.imageAtlas&&(this.imageAtlas=Ee.imageAtlas),Ee.glyphAtlasImage&&(this.glyphAtlasImage=Ee.glyphAtlasImage)}else this.collisionBoxArray=new cl},$u.prototype.unloadVectorData=function(){for(var Ee in this.buckets)this.buckets[Ee].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},$u.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},$u.prototype.getBucket=function(Ee){return this.buckets[Ee.id]},$u.prototype.upload=function(Ee){for(var ze in this.buckets){var Be=this.buckets[ze];Be.uploadPending()&&Be.upload(Ee)}var Ue=Ee.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new eu(Ee,this.imageAtlas.image,Ue.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new eu(Ee,this.glyphAtlasImage,Ue.ALPHA),this.glyphAtlasImage=null)},$u.prototype.prepare=function(Ee){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(Ee,this.imageAtlasTexture)},$u.prototype.queryRenderedFeatures=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:Be,cameraQueryGeometry:Ue,scale:We,tileSize:this.tileSize,pixelPosMatrix:tt,transform:Qe,params:$e,queryPadding:this.queryPadding*et},Ee,ze):{}},$u.prototype.querySourceFeatures=function(Ee,ze){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var Be=this.latestFeatureIndex.loadVTLayers(),Ue=ze?ze.sourceLayer:"",We=Be._geojsonTileLayer||Be[Ue];if(We)for(var $e=Dr(ze&&ze.filter),Qe=this.tileID.canonical,et=Qe.z,tt=Qe.x,rt=Qe.y,nt={z:et,x:tt,y:rt},at=0;at<We.length;at++){var it=We.feature(at);if($e(new Tn(this.tileID.overscaledZ),it)){var ct=new Zu(it,et,tt,rt);ct.tile=nt,Ee.push(ct)}}}},$u.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},$u.prototype.setMask=function(Ee,ze){if(!o(this.mask,Ee)&&(this.mask=Ee,this.clearMask(),!o(Ee,{0:!0}))){var Ue=new hs,We=new Ws;this.segments=new Vi,this.segments.prepareSegment(0,Ue,We);for(var $e=Object.keys(Ee),Qe=0;Qe<$e.length;Qe++){var et=Ee[+$e[Qe]],tt=zl>>et.z,rt=new Be(et.x*tt,et.y*tt),nt=new Be(rt.x+tt,rt.y+tt),at=this.segments.prepareSegment(4,Ue,We);Ue.emplaceBack(rt.x,rt.y,rt.x,rt.y),Ue.emplaceBack(nt.x,rt.y,nt.x,rt.y),Ue.emplaceBack(rt.x,nt.y,rt.x,nt.y),Ue.emplaceBack(nt.x,nt.y,nt.x,nt.y);var it=at.vertexLength;We.emplaceBack(it,it+1,it+2),We.emplaceBack(it+1,it+2,it+3),at.vertexLength+=4,at.primitiveLength+=2}this.maskedBoundsBuffer=ze.createVertexBuffer(Ue,Gc.members),this.maskedIndexBuffer=ze.createIndexBuffer(We)}},$u.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},$u.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},$u.prototype.setExpiryData=function(Ee){var ze=this.expirationTime;if(Ee.cacheControl){var Be=S(Ee.cacheControl);Be["max-age"]&&(this.expirationTime=Date.now()+1e3*Be["max-age"])}else Ee.expires&&(this.expirationTime=new Date(Ee.expires).getTime());if(this.expirationTime){var Ue=Date.now(),We=!1;if(this.expirationTime>Ue)We=!1;else if(ze)if(this.expirationTime<ze)We=!0;else{var $e=this.expirationTime-ze;$e?this.expirationTime=Ue+Math.max($e,3e4):We=!0}else We=!0;We?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},$u.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},$u.prototype.setFeatureState=function(Ee,ze){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(Ee).length){var Be=this.latestFeatureIndex.loadVTLayers();for(var Ue in this.buckets){var We=this.buckets[Ue],$e=We.layers[0].sourceLayer||"_geojsonTileLayer",Qe=Be[$e],et=Ee[$e];Qe&&et&&0!==Object.keys(et).length&&(We.update(et,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{}),ze&&ze.style&&(this.queryPadding=Math.max(this.queryPadding,ze.style.getLayer(Ue).queryRadius(We))))}}},$u.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},$u.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ct.now()},$u.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},$u.prototype.setHoldDuration=function(Ee){this.symbolFadeHoldUntil=ct.now()+Ee};var il=function(Ee,ze,Ue,We,$e,Qe,et,tt,rt,nt,at,it){var ct=et.top*tt-rt,ft=et.bottom*tt+rt,xt=et.left*tt-rt,kt=et.right*tt+rt;if(this.boxStartIndex=Ee.length,nt){var Lt=ft-ct,Ut=kt-xt;Lt>0&&(Lt=Math.max(10*tt,Lt),this._addLineCollisionCircles(Ee,ze,Ue,Ue.segment,Ut,Lt,We,$e,Qe,at))}else{if(it){var er=new Be(xt,ct),tr=new Be(kt,ct),rr=new Be(xt,ft),ar=new Be(kt,ft),Lr=it*Math.PI/180;er._rotate(Lr),tr._rotate(Lr),rr._rotate(Lr),ar._rotate(Lr),xt=Math.min(er.x,tr.x,rr.x,ar.x),kt=Math.max(er.x,tr.x,rr.x,ar.x),ct=Math.min(er.y,tr.y,rr.y,ar.y),ft=Math.max(er.y,tr.y,rr.y,ar.y)}Ee.emplaceBack(Ue.x,Ue.y,xt,ct,kt,ft,We,$e,Qe,0,0)}this.boxEndIndex=Ee.length};il.prototype._addLineCollisionCircles=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt){var nt=$e/2,at=Math.floor(We/nt)||1,it=1+.4*Math.log(rt)/Math.LN2,ct=Math.floor(at*it/2),ft=-$e/2,xt=Be,kt=Ue+1,Lt=ft,Ut=-We/2,er=Ut-We/4;do{if(--kt<0){if(Lt>Ut)return;kt=0;break}Lt-=ze[kt].dist(xt),xt=ze[kt]}while(Lt>er);for(var tr=ze[kt].dist(ze[kt+1]),rr=-ct;rr<at+ct;rr++){var ar=rr*nt,Lr=Ut+ar;if(ar<0&&(Lr+=ar),ar>We&&(Lr+=ar-We),!(Lr<Lt)){for(;Lt+tr<Lr;){if(Lt+=tr,1+ ++kt>=ze.length)return;tr=ze[kt].dist(ze[kt+1])}var Qr=Lr-Lt,on=ze[kt],sn=ze[kt+1].sub(on)._unit()._mult(Qr)._add(on)._round(),ln=Math.abs(Lr-ft)<nt?0:.8*(Lr-ft);Ee.emplaceBack(sn.x,sn.y,-$e/2,-$e/2,$e/2,$e/2,Qe,et,tt,$e/2,ln)}}};var al=function(Ee,ze){if(void 0===Ee&&(Ee=[]),void 0===ze&&(ze=ol),this.data=Ee,this.length=this.data.length,this.compare=ze,this.length>0)for(var Be=(this.length>>1)-1;Be>=0;Be--)this._down(Be)};function ol(Ee,ze){return Ee<ze?-1:Ee>ze?1:0}function sl(Ee,ze,Ue){void 0===ze&&(ze=1),void 0===Ue&&(Ue=!1);for(var We=1/0,$e=1/0,Qe=-1/0,et=-1/0,tt=Ee[0],rt=0;rt<tt.length;rt++){var nt=tt[rt];(!rt||nt.x<We)&&(We=nt.x),(!rt||nt.y<$e)&&($e=nt.y),(!rt||nt.x>Qe)&&(Qe=nt.x),(!rt||nt.y>et)&&(et=nt.y)}var at=Qe-We,it=et-$e,ct=Math.min(at,it),ft=ct/2,xt=new al([],ul);if(0===ct)return new Be(We,$e);for(var kt=We;kt<Qe;kt+=ct)for(var Lt=$e;Lt<et;Lt+=ct)xt.push(new ll(kt+ft,Lt+ft,ft,Ee));for(var Ut=function(Ee){for(var ze=0,Be=0,Ue=0,We=Ee[0],$e=0,Qe=We.length,et=Qe-1;$e<Qe;et=$e++){var tt=We[$e],rt=We[et],nt=tt.x*rt.y-rt.x*tt.y;Be+=(tt.x+rt.x)*nt,Ue+=(tt.y+rt.y)*nt,ze+=3*nt}return new ll(Be/ze,Ue/ze,0,Ee)}(Ee),er=xt.length;xt.length;){var tr=xt.pop();(tr.d>Ut.d||!Ut.d)&&(Ut=tr,Ue&&console.log("found best %d after %d probes",Math.round(1e4*tr.d)/1e4,er)),tr.max-Ut.d<=ze||(ft=tr.h/2,xt.push(new ll(tr.p.x-ft,tr.p.y-ft,ft,Ee)),xt.push(new ll(tr.p.x+ft,tr.p.y-ft,ft,Ee)),xt.push(new ll(tr.p.x-ft,tr.p.y+ft,ft,Ee)),xt.push(new ll(tr.p.x+ft,tr.p.y+ft,ft,Ee)),er+=4)}return Ue&&(console.log("num probes: "+er),console.log("best distance: "+Ut.d)),Ut.p}function ul(Ee,ze){return ze.max-Ee.max}function ll(Ee,ze,Ue,We){this.p=new Be(Ee,ze),this.h=Ue,this.d=function(Ee,ze){for(var Be=!1,Ue=1/0,We=0;We<ze.length;We++)for(var $e=ze[We],Qe=0,et=$e.length,tt=et-1;Qe<et;tt=Qe++){var rt=$e[Qe],nt=$e[tt];rt.y>Ee.y!=nt.y>Ee.y&&Ee.x<(nt.x-rt.x)*(Ee.y-rt.y)/(nt.y-rt.y)+rt.x&&(Be=!Be),Ue=Math.min(Ue,ma(Ee,rt,nt))}return(Be?1:-1)*Math.sqrt(Ue)}(this.p,We),this.max=this.d+this.h*Math.SQRT2}al.prototype.push=function(Ee){this.data.push(Ee),this.length++,this._up(this.length-1)},al.prototype.pop=function(){if(0!==this.length){var Ee=this.data[0],ze=this.data.pop();return this.length--,this.length>0&&(this.data[0]=ze,this._down(0)),Ee}},al.prototype.peek=function(){return this.data[0]},al.prototype._up=function(Ee){for(var ze=this.data,Be=this.compare,Ue=ze[Ee];Ee>0;){var We=Ee-1>>1,$e=ze[We];if(Be(Ue,$e)>=0)break;ze[Ee]=$e,Ee=We}ze[Ee]=Ue},al.prototype._down=function(Ee){for(var ze=this.data,Be=this.compare,Ue=this.length>>1,We=ze[Ee];Ee<Ue;){var $e=1+(Ee<<1),Qe=ze[$e],et=$e+1;if(et<this.length&&Be(ze[et],Qe)<0&&($e=et,Qe=ze[et]),Be(Qe,We)>=0)break;ze[Ee]=Qe,Ee=$e}ze[Ee]=We};var Wc=e((function(Ee){Ee.exports=function(Ee,ze){var Be,Ue,We,$e,Qe,et,tt,rt;for(Be=3&Ee.length,Ue=Ee.length-Be,We=ze,Qe=3432918353,et=461845907,rt=0;rt<Ue;)tt=255&Ee.charCodeAt(rt)|(255&Ee.charCodeAt(++rt))<<8|(255&Ee.charCodeAt(++rt))<<16|(255&Ee.charCodeAt(++rt))<<24,++rt,We=27492+(65535&($e=5*(65535&(We=(We^=tt=(65535&(tt=(tt=(65535&tt)*Qe+(((tt>>>16)*Qe&65535)<<16)&4294967295)<<15|tt>>>17))*et+(((tt>>>16)*et&65535)<<16)&4294967295)<<13|We>>>19))+((5*(We>>>16)&65535)<<16)&4294967295))+((58964+($e>>>16)&65535)<<16);switch(tt=0,Be){case 3:tt^=(255&Ee.charCodeAt(rt+2))<<16;case 2:tt^=(255&Ee.charCodeAt(rt+1))<<8;case 1:We^=tt=(65535&(tt=(tt=(65535&(tt^=255&Ee.charCodeAt(rt)))*Qe+(((tt>>>16)*Qe&65535)<<16)&4294967295)<<15|tt>>>17))*et+(((tt>>>16)*et&65535)<<16)&4294967295}return We^=Ee.length,We=2246822507*(65535&(We^=We>>>16))+((2246822507*(We>>>16)&65535)<<16)&4294967295,We=3266489909*(65535&(We^=We>>>13))+((3266489909*(We>>>16)&65535)<<16)&4294967295,(We^=We>>>16)>>>0}})),Xc=e((function(Ee){Ee.exports=function(Ee,ze){for(var Be,Ue=Ee.length,We=ze^Ue,$e=0;Ue>=4;)Be=1540483477*(65535&(Be=255&Ee.charCodeAt($e)|(255&Ee.charCodeAt(++$e))<<8|(255&Ee.charCodeAt(++$e))<<16|(255&Ee.charCodeAt(++$e))<<24))+((1540483477*(Be>>>16)&65535)<<16),We=1540483477*(65535&We)+((1540483477*(We>>>16)&65535)<<16)^(Be=1540483477*(65535&(Be^=Be>>>24))+((1540483477*(Be>>>16)&65535)<<16)),Ue-=4,++$e;switch(Ue){case 3:We^=(255&Ee.charCodeAt($e+2))<<16;case 2:We^=(255&Ee.charCodeAt($e+1))<<8;case 1:We=1540483477*(65535&(We^=255&Ee.charCodeAt($e)))+((1540483477*(We>>>16)&65535)<<16)}return We=1540483477*(65535&(We^=We>>>13))+((1540483477*(We>>>16)&65535)<<16),(We^=We>>>15)>>>0}})),Zc=Wc,Kc=Wc,Jc=Xc;function ml(Ee,ze){var Be=0,Ue=0,We=ze/Math.sqrt(2);switch(Ee){case"top-right":case"top-left":Ue=We-7;break;case"bottom-right":case"bottom-left":Ue=7-We;break;case"bottom":Ue=7-ze;break;case"top":Ue=ze-7}switch(Ee){case"top-right":case"bottom-right":Be=-We;break;case"top-left":case"bottom-left":Be=We;break;case"left":Be=ze;break;case"right":Be=-ze}return[Be,Ue]}function vl(Ee){switch(Ee){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}Zc.murmur3=Kc,Zc.murmur2=Jc;var $c=65535;function xl(Ee,ze,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct){var ft=function(Ee,ze,Ue,We,$e,Qe,et,tt){for(var rt=We.layout.get("text-rotate").evaluate(Qe,{})*Math.PI/180,nt=ze.positionedGlyphs,at=[],it=0;it<nt.length;it++){var ct=nt[it],ft=et[ct.fontStack],xt=ft&&ft[ct.glyph];if(xt){var kt=xt.rect;if(kt){var Lt=xt.metrics.advance*ct.scale/2,Ut=$e?[ct.x+Lt,ct.y]:[0,0],er=$e?[0,0]:[ct.x+Lt+Ue[0],ct.y+Ue[1]],tr=($e||tt)&&ct.vertical,rr=[0,0];tr&&(rr=er,er=[0,0]);var ar=(xt.metrics.left-4)*ct.scale-Lt+er[0],Lr=(-xt.metrics.top-4)*ct.scale+er[1],Qr=ar+kt.w*ct.scale,on=Lr+kt.h*ct.scale,sn=new Be(ar,Lr),ln=new Be(Qr,Lr),cn=new Be(ar,on),un=new Be(Qr,on);if(tr){var hn=new Be(-Lt,Lt-ze.yOffset),dn=-Math.PI/2,vn=12-Lt,yn=new Be(5-ze.yOffset-vn,0),_n=new(Function.prototype.bind.apply(Be,[null].concat(rr)));sn._rotateAround(dn,hn)._add(yn)._add(_n),ln._rotateAround(dn,hn)._add(yn)._add(_n),cn._rotateAround(dn,hn)._add(yn)._add(_n),un._rotateAround(dn,hn)._add(yn)._add(_n)}if(rt){var Mn=Math.sin(rt),Cn=Math.cos(rt),En=[Cn,-Mn,Mn,Cn];sn._matMult(En),ln._matMult(En),cn._matMult(En),un._matMult(En)}at.push({tl:sn,tr:ln,bl:cn,br:un,tex:kt,writingMode:ze.writingMode,glyphOffset:Ut,sectionIndex:ct.sectionIndex})}}}return at}(0,Ue,et,We,$e,Qe,it,Ee.allowVerticalPlacement),xt=Ee.textSizeData,kt=null;"source"===xt.kind?(kt=[Ac*We.layout.get("text-size").evaluate(Qe,{})])[0]>$c&&w(Ee.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===xt.kind&&((kt=[Ac*ct.compositeTextSizes[0].evaluate(Qe,{}),Ac*ct.compositeTextSizes[1].evaluate(Qe,{})])[0]>$c||kt[1]>$c)&&w(Ee.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),Ee.addSymbols(Ee.text,ft,kt,et,$e,Qe,rt,ze,tt.lineStartIndex,tt.lineLength);for(var Lt=0,Ut=nt;Lt<Ut.length;Lt+=1)at[Ut[Lt]]=Ee.text.placedSymbolArray.length-1;return 4*ft.length}function bl(Ee){for(var ze in Ee)return Ee[ze];return null}function _l(Ee,ze,Be,Ue){var We=Ee.compareText;if(ze in We){for(var $e=We[ze],Qe=$e.length-1;Qe>=0;Qe--)if(Ue.dist($e[Qe])<Be)return!0}else We[ze]=[];return We[ze].push(Ue),!1}Ee.Actor=Iu,Ee.AlphaImage=Fa,Ee.CanonicalTileID=Du,Ee.CollisionBoxArray=cl,Ee.Color=Ht,Ee.DEMData=qu,Ee.DataConstantProperty=qn,Ee.DictionaryCoder=Ku,Ee.EXTENT=zl,Ee.ErrorEvent=Cn,Ee.EvaluationParameters=Tn,Ee.Event=At,Ee.Evented=St,Ee.FeatureIndex=Ju,Ee.FillBucket=So,Ee.FillExtrusionBucket=qo,Ee.ImageAtlas=Ys,Ee.ImagePosition=Js,Ee.LineBucket=Qo,Ee.LngLat=Eu,Ee.LngLatBounds=Bu,Ee.MercatorCoordinate=Lu,Ee.ONE_EM=24,Ee.OverscaledTileID=Ru,Ee.Point=Be,Ee.Point$1=Be,Ee.ProgramConfiguration=Qi,Ee.Properties=Gn,Ee.Protobuf=Hc,Ee.RGBAImage=Oa,Ee.RequestManager=j,Ee.ResourceType=dn,Ee.SegmentVector=Vi,Ee.SourceFeatureState=Gu,Ee.StructArrayLayout1ui2=Zs,Ee.StructArrayLayout2i4=fs,Ee.StructArrayLayout2ui4=Xs,Ee.StructArrayLayout3ui6=Ws,Ee.StructArrayLayout4i8=hs,Ee.SymbolBucket=Os,Ee.Texture=eu,Ee.Tile=$u,Ee.Transitionable=On,Ee.Uniform1f=Cl,Ee.Uniform1i=Sl,Ee.Uniform2f=El,Ee.Uniform3f=Pl,Ee.Uniform4f=Ll,Ee.UniformColor=Ol,Ee.UniformMatrix4f=Il,Ee.UnwrappedTileID=Uu,Ee.ValidationError=It,Ee.WritingMode=_c,Ee.ZoomHistory=bn,Ee.addDynamicAttributes=Ts,Ee.asyncAll=function(Ee,ze,Be){if(!Ee.length)return Be(null,[]);var Ue=Ee.length,We=new Array(Ee.length),$e=null;Ee.forEach((function(Ee,Qe){ze(Ee,(function(Ee,ze){Ee&&($e=Ee),We[Qe]=ze,0==--Ue&&Be($e,We)}))}))},Ee.bezier=s,Ee.bindAll=m,Ee.browser=ct,Ee.cacheEntryPossiblyAdded=function(Ee){++hn>un&&(Ee.getActor().send("enforceCacheSizeLimit",cn),hn=0)},Ee.clamp=l,Ee.clearTileCache=function(Ee){var ze=self.caches.delete(ln);Ee&&ze.catch(Ee).then((function(){return Ee()}))},Ee.clone=function(Ee){var ze=new jl(16);return ze[0]=Ee[0],ze[1]=Ee[1],ze[2]=Ee[2],ze[3]=Ee[3],ze[4]=Ee[4],ze[5]=Ee[5],ze[6]=Ee[6],ze[7]=Ee[7],ze[8]=Ee[8],ze[9]=Ee[9],ze[10]=Ee[10],ze[11]=Ee[11],ze[12]=Ee[12],ze[13]=Ee[13],ze[14]=Ee[14],ze[15]=Ee[15],ze},Ee.clone$1=b,Ee.config=ft,Ee.create=function(){var Ee=new jl(16);return jl!=Float32Array&&(Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[11]=0,Ee[12]=0,Ee[13]=0,Ee[14]=0),Ee[0]=1,Ee[5]=1,Ee[10]=1,Ee[15]=1,Ee},Ee.create$1=function(){var Ee=new jl(9);return jl!=Float32Array&&(Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[5]=0,Ee[6]=0,Ee[7]=0),Ee[0]=1,Ee[4]=1,Ee[8]=1,Ee},Ee.create$2=function(){var Ee=new jl(4);return jl!=Float32Array&&(Ee[1]=0,Ee[2]=0),Ee[0]=1,Ee[3]=1,Ee},Ee.createCommonjsModule=e,Ee.createExpression=Sr,Ee.createLayout=Wn,Ee.createStyleLayer=function(Ee){return"custom"===Ee.type?new Rc(Ee):new Bc[Ee.type](Ee)},Ee.deepEqual=o,Ee.ease=Ue,Ee.emitValidationErrors=pn,Ee.endsWith=v,Ee.enforceCacheSizeLimit=function(Ee){self.caches&&self.caches.open(ln).then((function(ze){ze.keys().then((function(Be){for(var Ue=0;Ue<Be.length-Ee;Ue++)ze.delete(Be[Ue])}))}))},Ee.evaluateRadialOffset=ml,Ee.evaluateSizeForFeature=Is,Ee.evaluateSizeForZoom=Cs,Ee.evented=os,Ee.extend=c,Ee.featureFilter=Dr,Ee.filterObject=x,Ee.fromRotation=function(Ee,ze){var Be=Math.sin(ze),Ue=Math.cos(ze);return Ee[0]=Ue,Ee[1]=Be,Ee[2]=0,Ee[3]=-Be,Ee[4]=Ue,Ee[5]=0,Ee[6]=0,Ee[7]=0,Ee[8]=1,Ee},Ee.getAnchorAlignment=ws,Ee.getAnchorJustification=vl,Ee.getArrayBuffer=mt,Ee.getImage=bt,Ee.getJSON=function(Ee,ze){return dt(c(Ee,{type:"json"}),ze)},Ee.getReferrer=yn,Ee.getVideo=function(Ee,ze){var Be,Ue,We=self.document.createElement("video");We.muted=!0,We.onloadstart=function(){ze(null,We)};for(var $e=0;$e<Ee.length;$e++){var Qe=self.document.createElement("source");Be=Ee[$e],Ue=void 0,(Ue=self.document.createElement("a")).href=Be,(Ue.protocol!==self.document.location.protocol||Ue.host!==self.document.location.host)&&(We.crossOrigin="Anonymous"),Qe.src=Ee[$e],We.appendChild(Qe)}return{cancel:function(){}}},Ee.identity=function(Ee){return Ee[0]=1,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=1,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=1,Ee[11]=0,Ee[12]=0,Ee[13]=0,Ee[14]=0,Ee[15]=1,Ee},Ee.invert=function(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=ze[4],et=ze[5],tt=ze[6],rt=ze[7],nt=ze[8],at=ze[9],it=ze[10],ct=ze[11],ft=ze[12],xt=ze[13],kt=ze[14],Lt=ze[15],Ut=Be*et-Ue*Qe,er=Be*tt-We*Qe,tr=Be*rt-$e*Qe,rr=Ue*tt-We*et,ar=Ue*rt-$e*et,Lr=We*rt-$e*tt,Qr=nt*xt-at*ft,on=nt*kt-it*ft,sn=nt*Lt-ct*ft,ln=at*kt-it*xt,cn=at*Lt-ct*xt,un=it*Lt-ct*kt,hn=Ut*un-er*cn+tr*ln+rr*sn-ar*on+Lr*Qr;return hn?(hn=1/hn,Ee[0]=(et*un-tt*cn+rt*ln)*hn,Ee[1]=(We*cn-Ue*un-$e*ln)*hn,Ee[2]=(xt*Lr-kt*ar+Lt*rr)*hn,Ee[3]=(it*ar-at*Lr-ct*rr)*hn,Ee[4]=(tt*sn-Qe*un-rt*on)*hn,Ee[5]=(Be*un-We*sn+$e*on)*hn,Ee[6]=(kt*tr-ft*Lr-Lt*er)*hn,Ee[7]=(nt*Lr-it*tr+ct*er)*hn,Ee[8]=(Qe*cn-et*sn+rt*Qr)*hn,Ee[9]=(Ue*sn-Be*cn-$e*Qr)*hn,Ee[10]=(ft*ar-xt*tr+Lt*Ut)*hn,Ee[11]=(at*tr-nt*ar-ct*Ut)*hn,Ee[12]=(et*on-Qe*ln-tt*Qr)*hn,Ee[13]=(Be*ln-Ue*on+We*Qr)*hn,Ee[14]=(xt*er-ft*rr-kt*Ut)*hn,Ee[15]=(nt*rr-at*er+it*Ut)*hn,Ee):null},Ee.isChar=es,Ee.isMapboxURL=q,Ee.keysDifference=function(Ee,ze){var Be=[];for(var Ue in Ee)Ue in ze||Be.push(Ue);return Be},Ee.makeRequest=dt,Ee.mapObject=g,Ee.mercatorXfromLng=Tu,Ee.mercatorYfromLat=Vu,Ee.mercatorZfromAltitude=Fu,Ee.multiply=function(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=ze[4],tt=ze[5],rt=ze[6],nt=ze[7],at=ze[8],it=ze[9],ct=ze[10],ft=ze[11],xt=ze[12],kt=ze[13],Lt=ze[14],Ut=ze[15],er=Be[0],tr=Be[1],rr=Be[2],ar=Be[3];return Ee[0]=er*Ue+tr*et+rr*at+ar*xt,Ee[1]=er*We+tr*tt+rr*it+ar*kt,Ee[2]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[3]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[4],tr=Be[5],rr=Be[6],ar=Be[7],Ee[4]=er*Ue+tr*et+rr*at+ar*xt,Ee[5]=er*We+tr*tt+rr*it+ar*kt,Ee[6]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[7]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[8],tr=Be[9],rr=Be[10],ar=Be[11],Ee[8]=er*Ue+tr*et+rr*at+ar*xt,Ee[9]=er*We+tr*tt+rr*it+ar*kt,Ee[10]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[11]=er*Qe+tr*nt+rr*ft+ar*Ut,er=Be[12],tr=Be[13],rr=Be[14],ar=Be[15],Ee[12]=er*Ue+tr*et+rr*at+ar*xt,Ee[13]=er*We+tr*tt+rr*it+ar*kt,Ee[14]=er*$e+tr*rt+rr*ct+ar*Lt,Ee[15]=er*Qe+tr*nt+rr*ft+ar*Ut,Ee},Ee.mvt=rc,Ee.number=be,Ee.ortho=function(Ee,ze,Be,Ue,We,$e,Qe){var et=1/(ze-Be),tt=1/(Ue-We),rt=1/($e-Qe);return Ee[0]=-2*et,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=-2*tt,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=2*rt,Ee[11]=0,Ee[12]=(ze+Be)*et,Ee[13]=(We+Ue)*tt,Ee[14]=(Qe+$e)*rt,Ee[15]=1,Ee},Ee.parseGlyphPBF=function(Ee){return new Hc(Ee).readFields(wu,[])},Ee.pbf=Hc,Ee.performSymbolLayout=function(Ee,ze,Ue,We,$e,Qe){Ee.createArrays();var et=512*Ee.overscaling;Ee.tilePixelRatio=zl/et,Ee.compareText={},Ee.iconsNeedLinear=!1;var tt=Ee.layers[0].layout,rt=Ee.layers[0]._unevaluatedLayout._values,nt={};if("composite"===Ee.textSizeData.kind){var at=Ee.textSizeData,it=at.minZoom,ct=at.maxZoom;nt.compositeTextSizes=[rt["text-size"].possiblyEvaluate(new Tn(it)),rt["text-size"].possiblyEvaluate(new Tn(ct))]}if("composite"===Ee.iconSizeData.kind){var ft=Ee.iconSizeData,xt=ft.minZoom,kt=ft.maxZoom;nt.compositeIconSizes=[rt["icon-size"].possiblyEvaluate(new Tn(xt)),rt["icon-size"].possiblyEvaluate(new Tn(kt))]}nt.layoutTextSize=rt["text-size"].possiblyEvaluate(new Tn(Ee.zoom+1)),nt.layoutIconSize=rt["icon-size"].possiblyEvaluate(new Tn(Ee.zoom+1)),nt.textMaxSize=rt["text-size"].possiblyEvaluate(new Tn(18));for(var Lt=24*tt.get("text-line-height"),Ut="map"===tt.get("text-rotation-alignment")&&"point"!==tt.get("symbol-placement"),er=tt.get("text-keep-upright"),b=function(){var Qe=rr[tr],et=tt.get("text-font").evaluate(Qe,{}).join(","),rt=Ue,at={horizontal:{},vertical:void 0},it=Qe.text,ct=[0,0];if(it){var ft=it.toString(),xt=24*tt.get("text-letter-spacing").evaluate(Qe,{}),kt=function(Ee){for(var ze=0,Be=Ee;ze<Be.length;ze+=1)if(!An(Be[ze].charCodeAt(0)))return!1;return!0}(ft)?xt:0,ar=tt.get("text-anchor").evaluate(Qe,{}),Lr=tt.get("text-variable-anchor"),Qr=tt.get("text-radial-offset").evaluate(Qe,{});Lr||(ct=Qr?ml(ar,24*Qr):tt.get("text-offset").evaluate(Qe,{}).map((function(Ee){return 24*Ee})));var on=Ut?"center":tt.get("text-justify").evaluate(Qe,{}),sn="point"===tt.get("symbol-placement")?24*tt.get("text-max-width").evaluate(Qe,{}):0,C=function(){Ee.allowVerticalPlacement&&wn(ft)&&(at.vertical=ds(it,ze,et,sn,Lt,ar,"left",kt,ct,_c.vertical,!0))};if(!Ut&&Lr){for(var ln="auto"===on?Lr.map((function(Ee){return vl(Ee)})):[on],cn=!1,un=0;un<ln.length;un++){var hn=ln[un];if(!at.horizontal[hn])if(cn)at.horizontal[hn]=at.horizontal[0];else{var dn=ds(it,ze,et,sn,Lt,"center",hn,kt,ct,_c.horizontal,!1);dn&&(at.horizontal[hn]=dn,cn=1===dn.lineCount)}}C()}else{"auto"===on&&(on=vl(ar));var vn=ds(it,ze,et,sn,Lt,ar,on,kt,ct,_c.horizontal,!1);vn&&(at.horizontal[on]=vn),C(),wn(ft)&&Ut&&er&&(at.vertical=ds(it,ze,et,sn,Lt,ar,on,kt,ct,_c.vertical,!1))}}var yn=void 0;if(Qe.icon){var _n=We[Qe.icon];_n&&(yn=function(Ee,ze,Be){var Ue=ws(Be),We=Ue.horizontalAlign,$e=Ue.verticalAlign,Qe=ze[0],et=ze[1],tt=Qe-Ee.displaySize[0]*We,rt=tt+Ee.displaySize[0],nt=et-Ee.displaySize[1]*$e;return{image:Ee,top:nt,bottom:nt+Ee.displaySize[1],left:tt,right:rt}}($e[Qe.icon],tt.get("icon-offset").evaluate(Qe,{}),tt.get("icon-anchor").evaluate(Qe,{})),void 0===Ee.sdfIcons?Ee.sdfIcons=_n.sdf:Ee.sdfIcons!==_n.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(_n.pixelRatio!==Ee.pixelRatio||0!==tt.get("icon-rotate").constantOr(1))&&(Ee.iconsNeedLinear=!0))}(Object.keys(at.horizontal).length||yn)&&function(Ee,ze,Ue,We,$e,Qe,et){var tt=Qe.layoutTextSize.evaluate(ze,{}),rt=Qe.layoutIconSize.evaluate(ze,{}),nt=Qe.textMaxSize.evaluate(ze,{});void 0===nt&&(nt=tt);var at=Ee.layers[0].layout,it=at.get("icon-offset").evaluate(ze,{}),ct=bl(Ue.horizontal),ft=tt/24,xt=Ee.tilePixelRatio*ft,kt=Ee.tilePixelRatio*nt/24,Lt=Ee.tilePixelRatio*rt,Ut=Ee.tilePixelRatio*at.get("symbol-spacing"),er=at.get("text-padding")*Ee.tilePixelRatio,tr=at.get("icon-padding")*Ee.tilePixelRatio,rr=at.get("text-max-angle")/180*Math.PI,ar="map"===at.get("text-rotation-alignment")&&"point"!==at.get("symbol-placement"),Lr="map"===at.get("icon-rotation-alignment")&&"point"!==at.get("symbol-placement"),Qr=at.get("symbol-placement"),on=Ut/2,I=function(tt,rt){rt.x<0||rt.x>=zl||rt.y<0||rt.y>=zl||function(Ee,ze,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr){var ar,Lr,Qr,on=Ee.addToLineVertexArray(ze,Ue),sn=0,ln=0,cn=0,un={},hn=Zc(""),dn=24*(Qe.layout.get("text-radial-offset").evaluate(er,{})||0);if(Ee.allowVerticalPlacement&&We.vertical){var vn=Qe.layout.get("text-rotate").evaluate(er,{})+90,yn=We.vertical;Qr=new il(et,Ue,ze,tt,rt,nt,yn,at,it,ct,Ee.overscaling,vn)}for(var _n in We.horizontal){var Mn=We.horizontal[_n];if(!ar){hn=Zc(Mn.text);var Cn=Qe.layout.get("text-rotate").evaluate(er,{});ar=new il(et,Ue,ze,tt,rt,nt,Mn,at,it,ct,Ee.overscaling,Cn)}var En=1===Mn.lineCount;if(ln+=xl(Ee,ze,Mn,Qe,ct,er,ft,on,We.vertical?_c.horizontal:_c.horizontalOnly,En?Object.keys(We.horizontal):[_n],un,tr,rr),En)break}We.vertical&&(cn+=xl(Ee,ze,We.vertical,Qe,ct,er,ft,on,_c.vertical,["vertical"],un,tr,rr));var Pn=ar?ar.boxStartIndex:Ee.collisionBoxArray.length,In=ar?ar.boxEndIndex:Ee.collisionBoxArray.length,Bn=Qr?Qr.boxStartIndex:Ee.collisionBoxArray.length,Hn=Qr?Qr.boxEndIndex:Ee.collisionBoxArray.length;if($e){var Kn=function(Ee,ze,Ue,We,$e,Qe){var et,tt,rt,nt,at=ze.image,it=Ue.layout,ct=ze.top-1/at.pixelRatio,ft=ze.left-1/at.pixelRatio,xt=ze.bottom+1/at.pixelRatio,kt=ze.right+1/at.pixelRatio;if("none"!==it.get("icon-text-fit")&&$e){var Lt=kt-ft,Ut=xt-ct,er=it.get("text-size").evaluate(Qe,{})/24,tr=$e.left*er,rr=$e.right*er,ar=$e.top*er,Lr=rr-tr,Qr=$e.bottom*er-ar,on=it.get("icon-text-fit-padding")[0],sn=it.get("icon-text-fit-padding")[1],ln=it.get("icon-text-fit-padding")[2],cn=it.get("icon-text-fit-padding")[3],un="width"===it.get("icon-text-fit")?.5*(Qr-Ut):0,hn="height"===it.get("icon-text-fit")?.5*(Lr-Lt):0,dn="width"===it.get("icon-text-fit")||"both"===it.get("icon-text-fit")?Lr:Lt,vn="height"===it.get("icon-text-fit")||"both"===it.get("icon-text-fit")?Qr:Ut;et=new Be(tr+hn-cn,ar+un-on),tt=new Be(tr+hn+sn+dn,ar+un-on),rt=new Be(tr+hn+sn+dn,ar+un+ln+vn),nt=new Be(tr+hn-cn,ar+un+ln+vn)}else et=new Be(ft,ct),tt=new Be(kt,ct),rt=new Be(kt,xt),nt=new Be(ft,xt);var yn=Ue.layout.get("icon-rotate").evaluate(Qe,{})*Math.PI/180;if(yn){var _n=Math.sin(yn),Mn=Math.cos(yn),Cn=[Mn,-_n,_n,Mn];et._matMult(Cn),tt._matMult(Cn),nt._matMult(Cn),rt._matMult(Cn)}return[{tl:et,tr:tt,bl:nt,br:rt,tex:at.paddedRect,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0}]}(0,$e,Qe,0,bl(We.horizontal),er),Jn=Qe.layout.get("icon-rotate").evaluate(er,{});Lr=new il(et,Ue,ze,tt,rt,nt,$e,xt,kt,!1,Ee.overscaling,Jn),sn=4*Kn.length;var Ma=Ee.iconSizeData,Sa=null;"source"===Ma.kind?(Sa=[Ac*Qe.layout.get("icon-size").evaluate(er,{})])[0]>$c&&w(Ee.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===Ma.kind&&((Sa=[Ac*rr.compositeIconSizes[0].evaluate(er,{}),Ac*rr.compositeIconSizes[1].evaluate(er,{})])[0]>$c||Sa[1]>$c)&&w(Ee.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),Ee.addSymbols(Ee.icon,Kn,Sa,Ut,Lt,er,!1,ze,on.lineStartIndex,on.lineLength)}var La=Lr?Lr.boxStartIndex:Ee.collisionBoxArray.length,Ia=Lr?Lr.boxEndIndex:Ee.collisionBoxArray.length;Ee.glyphOffsetArray.length>=Os.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ee.symbolInstances.emplaceBack(ze.x,ze.y,un.right>=0?un.right:-1,un.center>=0?un.center:-1,un.left>=0?un.left:-1,un.vertical||-1,hn,Pn,In,Bn,Hn,La,Ia,tt,ln,cn,sn,0,at,dn)}(Ee,rt,tt,Ue,We,Ee.layers[0],Ee.collisionBoxArray,ze.index,ze.sourceLayerIndex,Ee.index,xt,er,ar,et,Lt,tr,Lr,it,ze,$e,Qe)};if("line"===Qr)for(var sn=0,ln=function(Ee,ze,Ue,We,$e){for(var Qe=[],et=0;et<Ee.length;et++)for(var tt=Ee[et],rt=void 0,nt=0;nt<tt.length-1;nt++){var at=tt[nt],it=tt[nt+1];at.x<0&&it.x<0||(at.x<0?at=new Be(0,at.y+(it.y-at.y)*((0-at.x)/(it.x-at.x)))._round():it.x<0&&(it=new Be(0,at.y+(it.y-at.y)*((0-at.x)/(it.x-at.x)))._round()),at.y<0&&it.y<0||(at.y<0?at=new Be(at.x+(it.x-at.x)*((0-at.y)/(it.y-at.y)),0)._round():it.y<0&&(it=new Be(at.x+(it.x-at.x)*((0-at.y)/(it.y-at.y)),0)._round()),at.x>=We&&it.x>=We||(at.x>=We?at=new Be(We,at.y+(it.y-at.y)*((We-at.x)/(it.x-at.x)))._round():it.x>=We&&(it=new Be(We,at.y+(it.y-at.y)*((We-at.x)/(it.x-at.x)))._round()),at.y>=$e&&it.y>=$e||(at.y>=$e?at=new Be(at.x+(it.x-at.x)*(($e-at.y)/(it.y-at.y)),$e)._round():it.y>=$e&&(it=new Be(at.x+(it.x-at.x)*(($e-at.y)/(it.y-at.y)),$e)._round()),rt&&at.equals(rt[rt.length-1])||(rt=[at],Qe.push(rt)),rt.push(it)))))}return Qe}(ze.geometry,0,0,zl,zl);sn<ln.length;sn+=1)for(var cn=ln[sn],un=0,hn=nl(cn,Ut,rr,Ue.vertical||ct,We,24,kt,Ee.overscaling,zl);un<hn.length;un+=1){var dn=hn[un];ct&&_l(Ee,ct.text,on,dn)||I(cn,dn)}else if("line-center"===Qr)for(var vn=0,yn=ze.geometry;vn<yn.length;vn+=1){var _n=yn[vn];if(_n.length>1){var Mn=rl(_n,rr,Ue.vertical||ct,We,24,kt);Mn&&I(_n,Mn)}}else if("Polygon"===ze.type)for(var Cn=0,En=_o(ze.geometry,0);Cn<En.length;Cn+=1){var Pn=En[Cn],In=sl(Pn,16);I(Pn[0],new kc(In.x,In.y,0))}else if("LineString"===ze.type)for(var Bn=0,Hn=ze.geometry;Bn<Hn.length;Bn+=1){var Kn=Hn[Bn];I(Kn,new kc(Kn[0].x,Kn[0].y,0))}else if("Point"===ze.type)for(var Jn=0,Ma=ze.geometry;Jn<Ma.length;Jn+=1)for(var Sa=0,La=Ma[Jn];Sa<La.length;Sa+=1){var Ia=La[Sa];I([Ia],new kc(Ia.x,Ia.y,0))}}(Ee,Qe,at,yn,rt,nt,ct)},tr=0,rr=Ee.features;tr<rr.length;tr+=1)b();Qe&&Ee.generateCollisionDebugBuffers()},Ee.perspective=function(Ee,ze,Be,Ue,We){var $e,Qe=1/Math.tan(ze/2);return Ee[0]=Qe/Be,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=Qe,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[11]=-1,Ee[12]=0,Ee[13]=0,Ee[15]=0,null!=We&&We!==1/0?($e=1/(Ue-We),Ee[10]=(We+Ue)*$e,Ee[14]=2*We*Ue*$e):(Ee[10]=-1,Ee[14]=-2*Ue),Ee},Ee.pick=function(Ee,ze){for(var Be={},Ue=0;Ue<ze.length;Ue++){var We=ze[Ue];We in Ee&&(Be[We]=Ee[We])}return Be},Ee.plugin=ss,Ee.polygonIntersectsPolygon=la,Ee.postMapLoadEvent=sn,Ee.postTurnstileEvent=Qr,Ee.potpack=Gs,Ee.rasterBoundsAttributes=Gc,Ee.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ee.register=mn,Ee.registerForPluginAvailability=function(Ee){return ns?Ee({pluginURL:ns,completionCallback:ts}):os.once("pluginAvailable",Ee),Ee},Ee.rotate=function(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=Math.sin(Be),tt=Math.cos(Be);return Ee[0]=Ue*tt+$e*et,Ee[1]=We*tt+Qe*et,Ee[2]=Ue*-et+$e*tt,Ee[3]=We*-et+Qe*tt,Ee},Ee.rotateX=function(Ee,ze,Be){var Ue=Math.sin(Be),We=Math.cos(Be),$e=ze[4],Qe=ze[5],et=ze[6],tt=ze[7],rt=ze[8],nt=ze[9],at=ze[10],it=ze[11];return ze!==Ee&&(Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee[3]=ze[3],Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]),Ee[4]=$e*We+rt*Ue,Ee[5]=Qe*We+nt*Ue,Ee[6]=et*We+at*Ue,Ee[7]=tt*We+it*Ue,Ee[8]=rt*We-$e*Ue,Ee[9]=nt*We-Qe*Ue,Ee[10]=at*We-et*Ue,Ee[11]=it*We-tt*Ue,Ee},Ee.rotateZ=function(Ee,ze,Be){var Ue=Math.sin(Be),We=Math.cos(Be),$e=ze[0],Qe=ze[1],et=ze[2],tt=ze[3],rt=ze[4],nt=ze[5],at=ze[6],it=ze[7];return ze!==Ee&&(Ee[8]=ze[8],Ee[9]=ze[9],Ee[10]=ze[10],Ee[11]=ze[11],Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]),Ee[0]=$e*We+rt*Ue,Ee[1]=Qe*We+nt*Ue,Ee[2]=et*We+at*Ue,Ee[3]=tt*We+it*Ue,Ee[4]=rt*We-$e*Ue,Ee[5]=nt*We-Qe*Ue,Ee[6]=at*We-et*Ue,Ee[7]=it*We-tt*Ue,Ee},Ee.scale=function(Ee,ze,Be){var Ue=Be[0],We=Be[1],$e=Be[2];return Ee[0]=ze[0]*Ue,Ee[1]=ze[1]*Ue,Ee[2]=ze[2]*Ue,Ee[3]=ze[3]*Ue,Ee[4]=ze[4]*We,Ee[5]=ze[5]*We,Ee[6]=ze[6]*We,Ee[7]=ze[7]*We,Ee[8]=ze[8]*$e,Ee[9]=ze[9]*$e,Ee[10]=ze[10]*$e,Ee[11]=ze[11]*$e,Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15],Ee},Ee.setCacheLimits=function(Ee,ze){cn=Ee,un=ze},Ee.setRTLTextPlugin=function(Ee,ze){if(rs)throw new Error("setRTLTextPlugin cannot be called multiple times.");rs=!0,ns=ct.resolveURL(Ee),ts=function(Ee){Ee?(rs=!1,ns=null,ze&&ze(Ee)):as=!0},os.fire(new At("pluginAvailable",{pluginURL:ns,completionCallback:ts}))},Ee.sphericalToCartesian=function(Ee){var ze=Ee[0],Be=Ee[1],Ue=Ee[2];return Be+=90,Be*=Math.PI/180,Ue*=Math.PI/180,{x:ze*Math.cos(Be)*Math.sin(Ue),y:ze*Math.sin(Be)*Math.sin(Ue),z:ze*Math.cos(Ue)}},Ee.styleSpec=En,Ee.symbolSize=Mc,Ee.transformMat3=function(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2];return Ee[0]=Ue*Be[0]+We*Be[3]+$e*Be[6],Ee[1]=Ue*Be[1]+We*Be[4]+$e*Be[7],Ee[2]=Ue*Be[2]+We*Be[5]+$e*Be[8],Ee},Ee.transformMat4=Ca,Ee.translate=function(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt=Be[0],kt=Be[1],Lt=Be[2];return ze===Ee?(Ee[12]=ze[0]*xt+ze[4]*kt+ze[8]*Lt+ze[12],Ee[13]=ze[1]*xt+ze[5]*kt+ze[9]*Lt+ze[13],Ee[14]=ze[2]*xt+ze[6]*kt+ze[10]*Lt+ze[14],Ee[15]=ze[3]*xt+ze[7]*kt+ze[11]*Lt+ze[15]):(Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3],et=ze[4],tt=ze[5],rt=ze[6],nt=ze[7],at=ze[8],it=ze[9],ct=ze[10],ft=ze[11],Ee[0]=Ue,Ee[1]=We,Ee[2]=$e,Ee[3]=Qe,Ee[4]=et,Ee[5]=tt,Ee[6]=rt,Ee[7]=nt,Ee[8]=at,Ee[9]=it,Ee[10]=ct,Ee[11]=ft,Ee[12]=Ue*xt+et*kt+at*Lt+ze[12],Ee[13]=We*xt+tt*kt+it*Lt+ze[13],Ee[14]=$e*xt+rt*kt+ct*Lt+ze[14],Ee[15]=Qe*xt+nt*kt+ft*Lt+ze[15]),Ee},Ee.uniqueId=f,Ee.validateCustomStyleLayer=function(Ee){var ze=[],Be=Ee.id;return void 0===Be&&ze.push({message:"layers."+Be+': missing required property "id"'}),void 0===Ee.render&&ze.push({message:"layers."+Be+': missing required method "render"'}),Ee.renderingMode&&"2d"!==Ee.renderingMode&&"3d"!==Ee.renderingMode&&ze.push({message:"layers."+Be+': property "renderingMode" must be either "2d" or "3d"'}),ze},Ee.validateLight=Bo,Ee.validateStyle=zo,Ee.values=function(Ee){var ze=[];for(var Be in Ee)ze.push(Ee[Be]);return ze},Ee.vectorTile=rc,Ee.version="1.3.2",Ee.warnOnce=w,Ee.webpSupported=xt,Ee.window=self,Ee.wrap=p})),define(0,(function(Ee){function t(Ee){var ze=typeof Ee;if("number"===ze||"boolean"===ze||"string"===ze||null==Ee)return JSON.stringify(Ee);if(Array.isArray(Ee)){for(var Be="[",Ue=0,We=Ee;Ue<We.length;Ue+=1)Be+=t(We[Ue])+",";return Be+"]"}for(var $e=Object.keys(Ee).sort(),Qe="{",et=0;et<$e.length;et++)Qe+=JSON.stringify($e[et])+":"+t(Ee[$e[et]])+",";return Qe+"}"}function r(ze){for(var Be="",Ue=0,We=Ee.refProperties;Ue<We.length;Ue+=1)Be+="/"+t(ze[We[Ue]]);return Be}var o=function(Ee){this.keyCache={},Ee&&this.replace(Ee)};o.prototype.replace=function(Ee){this._layerConfigs={},this._layers={},this.update(Ee,[])},o.prototype.update=function(ze,Be){for(var Ue=this,We=0,$e=ze;We<$e.length;We+=1){var Qe=$e[We];this._layerConfigs[Qe.id]=Qe;var et=this._layers[Qe.id]=Ee.createStyleLayer(Qe);et._featureFilter=Ee.featureFilter(et.filter),this.keyCache[Qe.id]&&delete this.keyCache[Qe.id]}for(var tt=0,rt=Be;tt<rt.length;tt+=1){var nt=rt[tt];delete this.keyCache[nt],delete this._layerConfigs[nt],delete this._layers[nt]}this.familiesBySource={};for(var at=0,it=function(Ee,ze){for(var Be={},Ue=0;Ue<Ee.length;Ue++){var We=ze&&ze[Ee[Ue].id]||r(Ee[Ue]);ze&&(ze[Ee[Ue].id]=We);var $e=Be[We];$e||($e=Be[We]=[]),$e.push(Ee[Ue])}var Qe=[];for(var et in Be)Qe.push(Be[et]);return Qe}(Ee.values(this._layerConfigs),this.keyCache);at<it.length;at+=1){var ct=it[at].map((function(Ee){return Ue._layers[Ee.id]})),ft=ct[0];if("none"!==ft.visibility){var xt=ft.source||"",kt=this.familiesBySource[xt];kt||(kt=this.familiesBySource[xt]={});var Lt=ft.sourceLayer||"_geojsonTileLayer",Ut=kt[Lt];Ut||(Ut=kt[Lt]=[]),Ut.push(ct)}}};var i=function(ze){var Be={},Ue=[];for(var We in ze){var $e=ze[We],Qe=Be[We]={};for(var et in $e){var tt=$e[+et];if(tt&&0!==tt.bitmap.width&&0!==tt.bitmap.height){var rt={x:0,y:0,w:tt.bitmap.width+2,h:tt.bitmap.height+2};Ue.push(rt),Qe[et]={rect:rt,metrics:tt.metrics}}}}var nt=Ee.potpack(Ue),at=nt.w,it=nt.h,ct=new Ee.AlphaImage({width:at||1,height:it||1});for(var ft in ze){var xt=ze[ft];for(var kt in xt){var Lt=xt[+kt];if(Lt&&0!==Lt.bitmap.width&&0!==Lt.bitmap.height){var Ut=Be[ft][kt].rect;Ee.AlphaImage.copy(Lt.bitmap,ct,{x:0,y:0},{x:Ut.x+1,y:Ut.y+1},Lt.bitmap)}}}this.image=ct,this.positions=Be};Ee.register("GlyphAtlas",i);var n=function(ze){this.tileID=new Ee.OverscaledTileID(ze.tileID.overscaledZ,ze.tileID.wrap,ze.tileID.canonical.z,ze.tileID.canonical.x,ze.tileID.canonical.y),this.uid=ze.uid,this.zoom=ze.zoom,this.pixelRatio=ze.pixelRatio,this.tileSize=ze.tileSize,this.source=ze.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ze.showCollisionBoxes,this.collectResourceTiming=!!ze.collectResourceTiming,this.returnDependencies=!!ze.returnDependencies};function a(ze,Be){for(var Ue=new Ee.EvaluationParameters(Be),We=0,$e=ze;We<$e.length;We+=1)$e[We].recalculate(Ue)}n.prototype.parse=function(ze,Be,Ue,We){var $e=this;this.status="parsing",this.data=ze,this.collisionBoxArray=new Ee.CollisionBoxArray;var Qe=new Ee.DictionaryCoder(Object.keys(ze.layers).sort()),et=new Ee.FeatureIndex(this.tileID);et.bucketLayerIDs=[];var tt,rt,nt,at,it={},ct={featureIndex:et,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},ft=Be.familiesBySource[this.source];for(var xt in ft){var kt=ze.layers[xt];if(kt){1===kt.version&&Ee.warnOnce('Vector tile source "'+this.source+'" layer "'+xt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Lt=Qe.encode(xt),Ut=[],er=0;er<kt.length;er++){var tr=kt.feature(er);Ut.push({feature:tr,index:er,sourceLayerIndex:Lt})}for(var rr=0,ar=ft[xt];rr<ar.length;rr+=1){var Lr=ar[rr],Qr=Lr[0];Qr.minzoom&&this.zoom<Math.floor(Qr.minzoom)||Qr.maxzoom&&this.zoom>=Qr.maxzoom||"none"!==Qr.visibility&&(a(Lr,this.zoom),(it[Qr.id]=Qr.createBucket({index:et.bucketLayerIDs.length,layers:Lr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Lt,sourceID:this.source})).populate(Ut,ct),et.bucketLayerIDs.push(Lr.map((function(Ee){return Ee.id}))))}}}var on=Ee.mapObject(ct.glyphDependencies,(function(Ee){return Object.keys(Ee).map(Number)}));Object.keys(on).length?Ue.send("getGlyphs",{uid:this.uid,stacks:on},(function(Ee,ze){tt||(tt=Ee,rt=ze,D.call($e))})):rt={};var sn=Object.keys(ct.iconDependencies);sn.length?Ue.send("getImages",{icons:sn},(function(Ee,ze){tt||(tt=Ee,nt=ze,D.call($e))})):nt={};var ln=Object.keys(ct.patternDependencies);function D(){if(tt)return We(tt);if(rt&&nt&&at){var ze=new i(rt),Be=new Ee.ImageAtlas(nt,at);for(var Ue in it){var $e=it[Ue];$e instanceof Ee.SymbolBucket?(a($e.layers,this.zoom),Ee.performSymbolLayout($e,rt,ze.positions,nt,Be.iconPositions,this.showCollisionBoxes)):$e.hasPattern&&($e instanceof Ee.LineBucket||$e instanceof Ee.FillBucket||$e instanceof Ee.FillExtrusionBucket)&&(a($e.layers,this.zoom),$e.addFeatures(ct,Be.patternPositions))}this.status="done",We(null,{buckets:Ee.values(it).filter((function(Ee){return!Ee.isEmpty()})),featureIndex:et,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ze.image,imageAtlas:Be,glyphMap:this.returnDependencies?rt:null,iconMap:this.returnDependencies?nt:null,glyphPositions:this.returnDependencies?ze.positions:null})}}ln.length?Ue.send("getImages",{icons:ln},(function(Ee,ze){tt||(tt=Ee,at=ze,D.call($e))})):at={},D.call(this)};var ze="undefined"!=typeof performance,Be={getEntriesByName:function(Ee){return!!(ze&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(Ee)},mark:function(Ee){return!!(ze&&performance&&performance.mark)&&performance.mark(Ee)},measure:function(Ee,Be,Ue){return!!(ze&&performance&&performance.measure)&&performance.measure(Ee,Be,Ue)},clearMarks:function(Ee){return!!(ze&&performance&&performance.clearMarks)&&performance.clearMarks(Ee)},clearMeasures:function(Ee){return!!(ze&&performance&&performance.clearMeasures)&&performance.clearMeasures(Ee)}},l=function(Ee){this._marks={start:[Ee.url,"start"].join("#"),end:[Ee.url,"end"].join("#"),measure:Ee.url.toString()},Be.mark(this._marks.start)};function h(ze,Be){var Ue=Ee.getArrayBuffer(ze.request,(function(ze,Ue,We,$e){ze?Be(ze):Ue&&Be(null,{vectorTile:new Ee.vectorTile.VectorTile(new Ee.pbf(Ue)),rawData:Ue,cacheControl:We,expires:$e})}));return function(){Ue.cancel(),Be()}}l.prototype.finish=function(){Be.mark(this._marks.end);var Ee=Be.getEntriesByName(this._marks.measure);return 0===Ee.length&&(Be.measure(this._marks.measure,this._marks.start,this._marks.end),Ee=Be.getEntriesByName(this._marks.measure),Be.clearMarks(this._marks.start),Be.clearMarks(this._marks.end),Be.clearMeasures(this._marks.measure)),Ee},Be.Performance=l;var c=function(Ee,ze,Be){this.actor=Ee,this.layerIndex=ze,this.loadVectorData=Be||h,this.loading={},this.loaded={}};c.prototype.loadTile=function(ze,Ue){var We=this,$e=ze.uid;this.loading||(this.loading={});var Qe=!!(ze&&ze.request&&ze.request.collectResourceTiming)&&new Be.Performance(ze.request),et=this.loading[$e]=new n(ze);et.abort=this.loadVectorData(ze,(function(ze,Be){if(delete We.loading[$e],ze||!Be)return et.status="done",We.loaded[$e]=et,Ue(ze);var tt=Be.rawData,rt={};Be.expires&&(rt.expires=Be.expires),Be.cacheControl&&(rt.cacheControl=Be.cacheControl);var nt={};if(Qe){var at=Qe.finish();at&&(nt.resourceTiming=JSON.parse(JSON.stringify(at)))}et.vectorTile=Be.vectorTile,et.parse(Be.vectorTile,We.layerIndex,We.actor,(function(ze,Be){if(ze||!Be)return Ue(ze);Ue(null,Ee.extend({rawTileData:tt.slice(0)},Be,rt,nt))})),We.loaded=We.loaded||{},We.loaded[$e]=et}))},c.prototype.reloadTile=function(Ee,ze){var Be=this.loaded,Ue=Ee.uid,We=this;if(Be&&Be[Ue]){var $e=Be[Ue];$e.showCollisionBoxes=Ee.showCollisionBoxes;var a=function(Ee,Be){var Ue=$e.reloadCallback;Ue&&(delete $e.reloadCallback,$e.parse($e.vectorTile,We.layerIndex,We.actor,Ue)),ze(Ee,Be)};"parsing"===$e.status?$e.reloadCallback=a:"done"===$e.status&&($e.vectorTile?$e.parse($e.vectorTile,this.layerIndex,this.actor,a):a())}},c.prototype.abortTile=function(Ee,ze){var Be=this.loading,Ue=Ee.uid;Be&&Be[Ue]&&Be[Ue].abort&&(Be[Ue].abort(),delete Be[Ue]),ze()},c.prototype.removeTile=function(Ee,ze){var Be=this.loaded,Ue=Ee.uid;Be&&Be[Ue]&&delete Be[Ue],ze()};var p=function(){this.loaded={}};p.prototype.loadTile=function(ze,Be){var Ue=ze.uid,We=ze.encoding,$e=ze.rawImageData,Qe=new Ee.DEMData(Ue,$e,We);this.loaded=this.loaded||{},this.loaded[Ue]=Qe,Be(null,Qe)},p.prototype.removeTile=function(Ee){var ze=this.loaded,Be=Ee.uid;ze&&ze[Be]&&delete ze[Be]};var Ue=6378137;function d(Ee){var ze=0;if(Ee&&Ee.length>0){ze+=Math.abs(g(Ee[0]));for(var Be=1;Be<Ee.length;Be++)ze-=Math.abs(g(Ee[Be]))}return ze}function g(Ee){var ze,Be,We,$e,Qe,et,tt=0,rt=Ee.length;if(rt>2){for(et=0;et<rt;et++)et===rt-2?(We=rt-2,$e=rt-1,Qe=0):et===rt-1?(We=rt-1,$e=0,Qe=1):(We=et,$e=et+1,Qe=et+2),ze=Ee[We],Be=Ee[$e],tt+=(m(Ee[Qe][0])-m(ze[0]))*Math.sin(m(Be[1]));tt=tt*Ue*Ue/2}return tt}function m(Ee){return Ee*Math.PI/180}var We={geometry:function e(Ee){var ze,Be=0;switch(Ee.type){case"Polygon":return d(Ee.coordinates);case"MultiPolygon":for(ze=0;ze<Ee.coordinates.length;ze++)Be+=d(Ee.coordinates[ze]);return Be;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(ze=0;ze<Ee.geometries.length;ze++)Be+=e(Ee.geometries[ze]);return Be}},ring:g};function x(Ee,ze){return function(Be){return Ee(Be,ze)}}function w(Ee,ze){ze=!!ze,Ee[0]=S(Ee[0],ze);for(var Be=1;Be<Ee.length;Be++)Ee[Be]=S(Ee[Be],!ze);return Ee}function S(Ee,ze){return function(Ee){return We.ring(Ee)>=0}(Ee)===ze?Ee:Ee.reverse()}var $e=Ee.vectorTile.VectorTileFeature.prototype.toGeoJSON,k=function(ze){this._feature=ze,this.extent=Ee.EXTENT,this.type=ze.type,this.properties=ze.tags,"id"in ze&&!isNaN(ze.id)&&(this.id=parseInt(ze.id,10))};k.prototype.loadGeometry=function(){if(1===this._feature.type){for(var ze=[],Be=0,Ue=this._feature.geometry;Be<Ue.length;Be+=1){var We=Ue[Be];ze.push([new Ee.Point$1(We[0],We[1])])}return ze}for(var $e=[],Qe=0,et=this._feature.geometry;Qe<et.length;Qe+=1){for(var tt=[],rt=0,nt=et[Qe];rt<nt.length;rt+=1){var at=nt[rt];tt.push(new Ee.Point$1(at[0],at[1]))}$e.push(tt)}return $e},k.prototype.toGeoJSON=function(Ee,ze,Be){return $e.call(this,Ee,ze,Be)};var b=function(ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=Ee.EXTENT,this.length=ze.length,this._features=ze};b.prototype.feature=function(Ee){return new k(this._features[Ee])};var Qe=Ee.vectorTile.VectorTileFeature,et=I;function I(Ee,ze){this.options=ze||{},this.features=Ee,this.length=Ee.length}function T(Ee,ze){this.id="number"==typeof Ee.id?Ee.id:void 0,this.type=Ee.type,this.rawGeometry=1===Ee.type?[Ee.geometry]:Ee.geometry,this.properties=Ee.tags,this.extent=ze||4096}I.prototype.feature=function(Ee){return new T(this.features[Ee],this.options.extent)},T.prototype.loadGeometry=function(){var ze=this.rawGeometry;this.geometry=[];for(var Be=0;Be<ze.length;Be++){for(var Ue=ze[Be],We=[],$e=0;$e<Ue.length;$e++)We.push(new Ee.Point$1(Ue[$e][0],Ue[$e][1]));this.geometry.push(We)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ee=this.geometry,ze=1/0,Be=-1/0,Ue=1/0,We=-1/0,$e=0;$e<Ee.length;$e++)for(var Qe=Ee[$e],et=0;et<Qe.length;et++){var tt=Qe[et];ze=Math.min(ze,tt.x),Be=Math.max(Be,tt.x),Ue=Math.min(Ue,tt.y),We=Math.max(We,tt.y)}return[ze,Ue,Be,We]},T.prototype.toGeoJSON=Qe.prototype.toGeoJSON;var tt=O,rt=O,nt=et;function O(ze){var Be=new Ee.pbf;return function(Ee,ze){for(var Be in Ee.layers)ze.writeMessage(3,E,Ee.layers[Be])}(ze,Be),Be.finish()}function E(Ee,ze){var Be;ze.writeVarintField(15,Ee.version||1),ze.writeStringField(1,Ee.name||""),ze.writeVarintField(5,Ee.extent||4096);var Ue={keys:[],values:[],keycache:{},valuecache:{}};for(Be=0;Be<Ee.length;Be++)Ue.feature=Ee.feature(Be),ze.writeMessage(2,N,Ue);var We=Ue.keys;for(Be=0;Be<We.length;Be++)ze.writeStringField(3,We[Be]);var $e=Ue.values;for(Be=0;Be<$e.length;Be++)ze.writeMessage(4,G,$e[Be])}function N(Ee,ze){var Be=Ee.feature;void 0!==Be.id&&ze.writeVarintField(1,Be.id),ze.writeMessage(2,F,Ee),ze.writeVarintField(3,Be.type),ze.writeMessage(4,J,Be)}function F(Ee,ze){var Be=Ee.feature,Ue=Ee.keys,We=Ee.values,$e=Ee.keycache,Qe=Ee.valuecache;for(var et in Be.properties){var tt=$e[et];void 0===tt&&(Ue.push(et),tt=Ue.length-1,$e[et]=tt),ze.writeVarint(tt);var rt=Be.properties[et],nt=typeof rt;"string"!==nt&&"boolean"!==nt&&"number"!==nt&&(rt=JSON.stringify(rt));var at=nt+":"+rt,it=Qe[at];void 0===it&&(We.push(rt),it=We.length-1,Qe[at]=it),ze.writeVarint(it)}}function A(Ee,ze){return(ze<<3)+(7&Ee)}function B(Ee){return Ee<<1^Ee>>31}function J(Ee,ze){for(var Be=Ee.loadGeometry(),Ue=Ee.type,We=0,$e=0,Qe=Be.length,et=0;et<Qe;et++){var tt=Be[et],rt=1;1===Ue&&(rt=tt.length),ze.writeVarint(A(1,rt));for(var nt=3===Ue?tt.length-1:tt.length,at=0;at<nt;at++){1===at&&1!==Ue&&ze.writeVarint(A(2,nt-1));var it=tt[at].x-We,ct=tt[at].y-$e;ze.writeVarint(B(it)),ze.writeVarint(B(ct)),We+=it,$e+=ct}3===Ue&&ze.writeVarint(A(7,1))}}function G(Ee,ze){var Be=typeof Ee;"string"===Be?ze.writeStringField(1,Ee):"boolean"===Be?ze.writeBooleanField(7,Ee):"number"===Be&&(Ee%1!=0?ze.writeDoubleField(3,Ee):Ee<0?ze.writeSVarintField(6,Ee):ze.writeVarintField(5,Ee))}function j(Ee,ze,Be,Ue){Y(Ee,Be,Ue),Y(ze,2*Be,2*Ue),Y(ze,2*Be+1,2*Ue+1)}function Y(Ee,ze,Be){var Ue=Ee[ze];Ee[ze]=Ee[Be],Ee[Be]=Ue}function V(Ee,ze,Be,Ue){var We=Ee-Be,$e=ze-Ue;return We*We+$e*$e}tt.fromVectorTileJs=rt,tt.fromGeojsonVt=function(Ee,ze){ze=ze||{};var Be={};for(var Ue in Ee)Be[Ue]=new et(Ee[Ue].features,ze),Be[Ue].name=Ue,Be[Ue].version=ze.version,Be[Ue].extent=ze.extent;return O({layers:Be})},tt.GeoJSONWrapper=nt;var X=function(Ee){return Ee[0]},W=function(Ee){return Ee[1]},R=function(Ee,ze,Be,Ue,We){void 0===ze&&(ze=X),void 0===Be&&(Be=W),void 0===Ue&&(Ue=64),void 0===We&&(We=Float64Array),this.nodeSize=Ue,this.points=Ee;for(var $e=Ee.length<65536?Uint16Array:Uint32Array,Qe=this.ids=new $e(Ee.length),et=this.coords=new We(2*Ee.length),tt=0;tt<Ee.length;tt++)Qe[tt]=tt,et[2*tt]=ze(Ee[tt]),et[2*tt+1]=Be(Ee[tt]);!function Z(Ee,ze,Be,Ue,We,$e){if(!(We-Ue<=Be)){var Qe=Ue+We>>1;!function e(Ee,ze,Be,Ue,We,$e){for(;We>Ue;){if(We-Ue>600){var Qe=We-Ue+1,et=Be-Ue+1,tt=Math.log(Qe),rt=.5*Math.exp(2*tt/3),nt=.5*Math.sqrt(tt*rt*(Qe-rt)/Qe)*(et-Qe/2<0?-1:1);e(Ee,ze,Be,Math.max(Ue,Math.floor(Be-et*rt/Qe+nt)),Math.min(We,Math.floor(Be+(Qe-et)*rt/Qe+nt)),$e)}var at=ze[2*Be+$e],it=Ue,ct=We;for(j(Ee,ze,Ue,Be),ze[2*We+$e]>at&&j(Ee,ze,Ue,We);it<ct;){for(j(Ee,ze,it,ct),it++,ct--;ze[2*it+$e]<at;)it++;for(;ze[2*ct+$e]>at;)ct--}ze[2*Ue+$e]===at?j(Ee,ze,Ue,ct):j(Ee,ze,++ct,We),ct<=Be&&(Ue=ct+1),Be<=ct&&(We=ct-1)}}(Ee,ze,Qe,Ue,We,$e%2),Z(Ee,ze,Be,Ue,Qe-1,$e+1),Z(Ee,ze,Be,Qe+1,We,$e+1)}}(Qe,et,Ue,0,Qe.length-1,0)};R.prototype.range=function(Ee,ze,Be,Ue){return function(Ee,ze,Be,Ue,We,$e,Qe){for(var et,tt,rt=[0,Ee.length-1,0],nt=[];rt.length;){var at=rt.pop(),it=rt.pop(),ct=rt.pop();if(it-ct<=Qe)for(var ft=ct;ft<=it;ft++)et=ze[2*ft],tt=ze[2*ft+1],et>=Be&&et<=We&&tt>=Ue&&tt<=$e&&nt.push(Ee[ft]);else{var xt=Math.floor((ct+it)/2);et=ze[2*xt],tt=ze[2*xt+1],et>=Be&&et<=We&&tt>=Ue&&tt<=$e&&nt.push(Ee[xt]);var kt=(at+1)%2;(0===at?Be<=et:Ue<=tt)&&(rt.push(ct),rt.push(xt-1),rt.push(kt)),(0===at?We>=et:$e>=tt)&&(rt.push(xt+1),rt.push(it),rt.push(kt))}}return nt}(this.ids,this.coords,Ee,ze,Be,Ue,this.nodeSize)},R.prototype.within=function(Ee,ze,Be){return function(Ee,ze,Be,Ue,We,$e){for(var Qe=[0,Ee.length-1,0],et=[],tt=We*We;Qe.length;){var rt=Qe.pop(),nt=Qe.pop(),at=Qe.pop();if(nt-at<=$e)for(var it=at;it<=nt;it++)V(ze[2*it],ze[2*it+1],Be,Ue)<=tt&&et.push(Ee[it]);else{var ct=Math.floor((at+nt)/2),ft=ze[2*ct],xt=ze[2*ct+1];V(ft,xt,Be,Ue)<=tt&&et.push(Ee[ct]);var kt=(rt+1)%2;(0===rt?Be-We<=ft:Ue-We<=xt)&&(Qe.push(at),Qe.push(ct-1),Qe.push(kt)),(0===rt?Be+We>=ft:Ue+We>=xt)&&(Qe.push(ct+1),Qe.push(nt),Qe.push(kt))}}return et}(this.ids,this.coords,Ee,ze,Be,this.nodeSize)};var at={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(Ee){return Ee}},U=function(Ee){this.options=re(Object.create(at),Ee),this.trees=new Array(this.options.maxZoom+1)};function $(Ee,ze,Be,Ue,We){return{x:Ee,y:ze,zoom:1/0,id:Be,parentId:-1,numPoints:Ue,properties:We}}function H(Ee,ze){var Be=Ee.geometry.coordinates,Ue=Be[0],We=Be[1];return{x:ee(Ue),y:te(We),zoom:1/0,index:ze,parentId:-1}}function K(Ee){return{type:"Feature",id:Ee.id,properties:Q(Ee),geometry:{type:"Point",coordinates:[(Ue=Ee.x,360*(Ue-.5)),(ze=Ee.y,Be=(180-360*ze)*Math.PI/180,360*Math.atan(Math.exp(Be))/Math.PI-90)]}};var ze,Be,Ue}function Q(Ee){var ze=Ee.numPoints,Be=ze>=1e4?Math.round(ze/1e3)+"k":ze>=1e3?Math.round(ze/100)/10+"k":ze;return re(re({},Ee.properties),{cluster:!0,cluster_id:Ee.id,point_count:ze,point_count_abbreviated:Be})}function ee(Ee){return Ee/360+.5}function te(Ee){var ze=Math.sin(Ee*Math.PI/180),Be=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return Be<0?0:Be>1?1:Be}function re(Ee,ze){for(var Be in ze)Ee[Be]=ze[Be];return Ee}function oe(Ee){return Ee.x}function ie(Ee){return Ee.y}function ne(Ee,ze,Be,Ue,We,$e){var Qe=We-Be,et=$e-Ue;if(0!==Qe||0!==et){var tt=((Ee-Be)*Qe+(ze-Ue)*et)/(Qe*Qe+et*et);tt>1?(Be=We,Ue=$e):tt>0&&(Be+=Qe*tt,Ue+=et*tt)}return(Qe=Ee-Be)*Qe+(et=ze-Ue)*et}function ae(Ee,ze,Be,Ue){var We={id:void 0===Ee?null:Ee,type:ze,geometry:Be,tags:Ue,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ee){var ze=Ee.geometry,Be=Ee.type;if("Point"===Be||"MultiPoint"===Be||"LineString"===Be)se(Ee,ze);else if("Polygon"===Be||"MultiLineString"===Be)for(var Ue=0;Ue<ze.length;Ue++)se(Ee,ze[Ue]);else if("MultiPolygon"===Be)for(Ue=0;Ue<ze.length;Ue++)for(var We=0;We<ze[Ue].length;We++)se(Ee,ze[Ue][We])}(We),We}function se(Ee,ze){for(var Be=0;Be<ze.length;Be+=3)Ee.minX=Math.min(Ee.minX,ze[Be]),Ee.minY=Math.min(Ee.minY,ze[Be+1]),Ee.maxX=Math.max(Ee.maxX,ze[Be]),Ee.maxY=Math.max(Ee.maxY,ze[Be+1])}function ue(Ee,ze,Be,Ue){if(ze.geometry){var We=ze.geometry.coordinates,$e=ze.geometry.type,Qe=Math.pow(Be.tolerance/((1<<Be.maxZoom)*Be.extent),2),et=[],tt=ze.id;if(Be.promoteId?tt=ze.properties[Be.promoteId]:Be.generateId&&(tt=Ue||0),"Point"===$e)le(We,et);else if("MultiPoint"===$e)for(var rt=0;rt<We.length;rt++)le(We[rt],et);else if("LineString"===$e)he(We,et,Qe,!1);else if("MultiLineString"===$e){if(Be.lineMetrics){for(rt=0;rt<We.length;rt++)et=[],he(We[rt],et,Qe,!1),Ee.push(ae(tt,"LineString",et,ze.properties));return}ce(We,et,Qe,!1)}else if("Polygon"===$e)ce(We,et,Qe,!0);else{if("MultiPolygon"!==$e){if("GeometryCollection"===$e){for(rt=0;rt<ze.geometry.geometries.length;rt++)ue(Ee,{id:tt,geometry:ze.geometry.geometries[rt],properties:ze.properties},Be,Ue);return}throw new Error("Input data is not a valid GeoJSON object.")}for(rt=0;rt<We.length;rt++){var nt=[];ce(We[rt],nt,Qe,!0),et.push(nt)}}Ee.push(ae(tt,$e,et,ze.properties))}}function le(Ee,ze){ze.push(pe(Ee[0])),ze.push(fe(Ee[1])),ze.push(0)}function he(Ee,ze,Be,Ue){for(var We,$e,Qe=0,et=0;et<Ee.length;et++){var tt=pe(Ee[et][0]),rt=fe(Ee[et][1]);ze.push(tt),ze.push(rt),ze.push(0),et>0&&(Qe+=Ue?(We*rt-tt*$e)/2:Math.sqrt(Math.pow(tt-We,2)+Math.pow(rt-$e,2))),We=tt,$e=rt}var nt=ze.length-3;ze[2]=1,function e(Ee,ze,Be,Ue){for(var We,$e=Ue,Qe=Be-ze>>1,et=Be-ze,tt=Ee[ze],rt=Ee[ze+1],nt=Ee[Be],at=Ee[Be+1],it=ze+3;it<Be;it+=3){var ct=ne(Ee[it],Ee[it+1],tt,rt,nt,at);if(ct>$e)We=it,$e=ct;else if(ct===$e){var ft=Math.abs(it-Qe);ft<et&&(We=it,et=ft)}}$e>Ue&&(We-ze>3&&e(Ee,ze,We,Ue),Ee[We+2]=$e,Be-We>3&&e(Ee,We,Be,Ue))}(ze,0,nt,Be),ze[nt+2]=1,ze.size=Math.abs(Qe),ze.start=0,ze.end=ze.size}function ce(Ee,ze,Be,Ue){for(var We=0;We<Ee.length;We++){var $e=[];he(Ee[We],$e,Be,Ue),ze.push($e)}}function pe(Ee){return Ee/360+.5}function fe(Ee){var ze=Math.sin(Ee*Math.PI/180),Be=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return Be<0?0:Be>1?1:Be}function de(Ee,ze,Be,Ue,We,$e,Qe,et){if(Ue/=ze,$e>=(Be/=ze)&&Qe<Ue)return Ee;if(Qe<Be||$e>=Ue)return null;for(var tt=[],rt=0;rt<Ee.length;rt++){var nt=Ee[rt],at=nt.geometry,it=nt.type,ct=0===We?nt.minX:nt.minY,ft=0===We?nt.maxX:nt.maxY;if(ct>=Be&&ft<Ue)tt.push(nt);else if(!(ft<Be||ct>=Ue)){var xt=[];if("Point"===it||"MultiPoint"===it)ge(at,xt,Be,Ue,We);else if("LineString"===it)me(at,xt,Be,Ue,We,!1,et.lineMetrics);else if("MultiLineString"===it)ye(at,xt,Be,Ue,We,!1);else if("Polygon"===it)ye(at,xt,Be,Ue,We,!0);else if("MultiPolygon"===it)for(var kt=0;kt<at.length;kt++){var Lt=[];ye(at[kt],Lt,Be,Ue,We,!0),Lt.length&&xt.push(Lt)}if(xt.length){if(et.lineMetrics&&"LineString"===it){for(kt=0;kt<xt.length;kt++)tt.push(ae(nt.id,it,xt[kt],nt.tags));continue}"LineString"!==it&&"MultiLineString"!==it||(1===xt.length?(it="LineString",xt=xt[0]):it="MultiLineString"),"Point"!==it&&"MultiPoint"!==it||(it=3===xt.length?"Point":"MultiPoint"),tt.push(ae(nt.id,it,xt,nt.tags))}}}return tt.length?tt:null}function ge(Ee,ze,Be,Ue,We){for(var $e=0;$e<Ee.length;$e+=3){var Qe=Ee[$e+We];Qe>=Be&&Qe<=Ue&&(ze.push(Ee[$e]),ze.push(Ee[$e+1]),ze.push(Ee[$e+2]))}}function me(Ee,ze,Be,Ue,We,$e,Qe){for(var et,tt,rt=ve(Ee),nt=0===We?we:Se,at=Ee.start,it=0;it<Ee.length-3;it+=3){var ct=Ee[it],ft=Ee[it+1],xt=Ee[it+2],kt=Ee[it+3],Lt=Ee[it+4],Ut=0===We?ct:ft,er=0===We?kt:Lt,tr=!1;Qe&&(et=Math.sqrt(Math.pow(ct-kt,2)+Math.pow(ft-Lt,2))),Ut<Be?er>Be&&(tt=nt(rt,ct,ft,kt,Lt,Be),Qe&&(rt.start=at+et*tt)):Ut>Ue?er<Ue&&(tt=nt(rt,ct,ft,kt,Lt,Ue),Qe&&(rt.start=at+et*tt)):xe(rt,ct,ft,xt),er<Be&&Ut>=Be&&(tt=nt(rt,ct,ft,kt,Lt,Be),tr=!0),er>Ue&&Ut<=Ue&&(tt=nt(rt,ct,ft,kt,Lt,Ue),tr=!0),!$e&&tr&&(Qe&&(rt.end=at+et*tt),ze.push(rt),rt=ve(Ee)),Qe&&(at+=et)}var rr=Ee.length-3;ct=Ee[rr],ft=Ee[rr+1],xt=Ee[rr+2],(Ut=0===We?ct:ft)>=Be&&Ut<=Ue&&xe(rt,ct,ft,xt),rr=rt.length-3,$e&&rr>=3&&(rt[rr]!==rt[0]||rt[rr+1]!==rt[1])&&xe(rt,rt[0],rt[1],rt[2]),rt.length&&ze.push(rt)}function ve(Ee){var ze=[];return ze.size=Ee.size,ze.start=Ee.start,ze.end=Ee.end,ze}function ye(Ee,ze,Be,Ue,We,$e){for(var Qe=0;Qe<Ee.length;Qe++)me(Ee[Qe],ze,Be,Ue,We,$e,!1)}function xe(Ee,ze,Be,Ue){Ee.push(ze),Ee.push(Be),Ee.push(Ue)}function we(Ee,ze,Be,Ue,We,$e){var Qe=($e-ze)/(Ue-ze);return Ee.push($e),Ee.push(Be+(We-Be)*Qe),Ee.push(1),Qe}function Se(Ee,ze,Be,Ue,We,$e){var Qe=($e-Be)/(We-Be);return Ee.push(ze+(Ue-ze)*Qe),Ee.push($e),Ee.push(1),Qe}function Me(Ee,ze){for(var Be=[],Ue=0;Ue<Ee.length;Ue++){var We,$e=Ee[Ue],Qe=$e.type;if("Point"===Qe||"MultiPoint"===Qe||"LineString"===Qe)We=ke($e.geometry,ze);else if("MultiLineString"===Qe||"Polygon"===Qe){We=[];for(var et=0;et<$e.geometry.length;et++)We.push(ke($e.geometry[et],ze))}else if("MultiPolygon"===Qe)for(We=[],et=0;et<$e.geometry.length;et++){for(var tt=[],rt=0;rt<$e.geometry[et].length;rt++)tt.push(ke($e.geometry[et][rt],ze));We.push(tt)}Be.push(ae($e.id,Qe,We,$e.tags))}return Be}function ke(Ee,ze){var Be=[];Be.size=Ee.size,void 0!==Ee.start&&(Be.start=Ee.start,Be.end=Ee.end);for(var Ue=0;Ue<Ee.length;Ue+=3)Be.push(Ee[Ue]+ze,Ee[Ue+1],Ee[Ue+2]);return Be}function be(Ee,ze){if(Ee.transformed)return Ee;var Be,Ue,We,$e=1<<Ee.z,Qe=Ee.x,et=Ee.y;for(Be=0;Be<Ee.features.length;Be++){var tt=Ee.features[Be],rt=tt.geometry,nt=tt.type;if(tt.geometry=[],1===nt)for(Ue=0;Ue<rt.length;Ue+=2)tt.geometry.push(_e(rt[Ue],rt[Ue+1],ze,$e,Qe,et));else for(Ue=0;Ue<rt.length;Ue++){var at=[];for(We=0;We<rt[Ue].length;We+=2)at.push(_e(rt[Ue][We],rt[Ue][We+1],ze,$e,Qe,et));tt.geometry.push(at)}}return Ee.transformed=!0,Ee}function _e(Ee,ze,Be,Ue,We,$e){return[Math.round(Be*(Ee*Ue-We)),Math.round(Be*(ze*Ue-$e))]}function Pe(Ee,ze,Be,Ue,We){for(var $e=ze===We.maxZoom?0:We.tolerance/((1<<ze)*We.extent),Qe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Be,y:Ue,z:ze,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},et=0;et<Ee.length;et++){Qe.numFeatures++,Ie(Qe,Ee[et],$e,We);var tt=Ee[et].minX,rt=Ee[et].minY,nt=Ee[et].maxX,at=Ee[et].maxY;tt<Qe.minX&&(Qe.minX=tt),rt<Qe.minY&&(Qe.minY=rt),nt>Qe.maxX&&(Qe.maxX=nt),at>Qe.maxY&&(Qe.maxY=at)}return Qe}function Ie(Ee,ze,Be,Ue){var We=ze.geometry,$e=ze.type,Qe=[];if("Point"===$e||"MultiPoint"===$e)for(var et=0;et<We.length;et+=3)Qe.push(We[et]),Qe.push(We[et+1]),Ee.numPoints++,Ee.numSimplified++;else if("LineString"===$e)Te(Qe,We,Ee,Be,!1,!1);else if("MultiLineString"===$e||"Polygon"===$e)for(et=0;et<We.length;et++)Te(Qe,We[et],Ee,Be,"Polygon"===$e,0===et);else if("MultiPolygon"===$e)for(var tt=0;tt<We.length;tt++){var rt=We[tt];for(et=0;et<rt.length;et++)Te(Qe,rt[et],Ee,Be,!0,0===et)}if(Qe.length){var nt=ze.tags||null;if("LineString"===$e&&Ue.lineMetrics){for(var at in nt={},ze.tags)nt[at]=ze.tags[at];nt.mapbox_clip_start=We.start/We.size,nt.mapbox_clip_end=We.end/We.size}var it={geometry:Qe,type:"Polygon"===$e||"MultiPolygon"===$e?3:"LineString"===$e||"MultiLineString"===$e?2:1,tags:nt};null!==ze.id&&(it.id=ze.id),Ee.features.push(it)}}function Te(Ee,ze,Be,Ue,We,$e){var Qe=Ue*Ue;if(Ue>0&&ze.size<(We?Qe:Ue))Be.numPoints+=ze.length/3;else{for(var et=[],tt=0;tt<ze.length;tt+=3)(0===Ue||ze[tt+2]>Qe)&&(Be.numSimplified++,et.push(ze[tt]),et.push(ze[tt+1])),Be.numPoints++;We&&function(Ee,ze){for(var Be=0,Ue=0,We=Ee.length,$e=We-2;Ue<We;$e=Ue,Ue+=2)Be+=(Ee[Ue]-Ee[$e])*(Ee[Ue+1]+Ee[$e+1]);if(Be>0===ze)for(Ue=0,We=Ee.length;Ue<We/2;Ue+=2){var Qe=Ee[Ue],et=Ee[Ue+1];Ee[Ue]=Ee[We-2-Ue],Ee[Ue+1]=Ee[We-1-Ue],Ee[We-2-Ue]=Qe,Ee[We-1-Ue]=et}}(et,$e),Ee.push(et)}}function Le(Ee,ze){var Be=(ze=this.options=function(Ee,ze){for(var Be in ze)Ee[Be]=ze[Be];return Ee}(Object.create(this.options),ze)).debug;if(Be&&console.time("preprocess data"),ze.maxZoom<0||ze.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ze.promoteId&&ze.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ue=function(Ee,ze){var Be=[];if("FeatureCollection"===Ee.type)for(var Ue=0;Ue<Ee.features.length;Ue++)ue(Be,Ee.features[Ue],ze,Ue);else"Feature"===Ee.type?ue(Be,Ee,ze):ue(Be,{geometry:Ee},ze);return Be}(Ee,ze);this.tiles={},this.tileCoords=[],Be&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ze.indexMaxZoom,ze.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ue=function(Ee,ze){var Be=ze.buffer/ze.extent,Ue=Ee,We=de(Ee,1,-1-Be,Be,0,-1,2,ze),$e=de(Ee,1,1-Be,2+Be,0,-1,2,ze);return(We||$e)&&(Ue=de(Ee,1,-Be,1+Be,0,-1,2,ze)||[],We&&(Ue=Me(We,1).concat(Ue)),$e&&(Ue=Ue.concat(Me($e,-1)))),Ue}(Ue,ze)).length&&this.splitTile(Ue,0,0,0),Be&&(Ue.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function De(Ee,ze,Be){return 32*((1<<Ee)*Be+ze)+Ee}function Ce(Ee,ze){var Be=Ee.tileID.canonical;if(!this._geoJSONIndex)return ze(null,null);var Ue=this._geoJSONIndex.getTile(Be.z,Be.x,Be.y);if(!Ue)return ze(null,null);var We=new b(Ue.features),$e=tt(We);0===$e.byteOffset&&$e.byteLength===$e.buffer.byteLength||($e=new Uint8Array($e)),ze(null,{vectorTile:We,rawData:$e.buffer})}U.prototype.load=function(Ee){var ze=this.options,Be=ze.log,Ue=ze.minZoom,We=ze.maxZoom,$e=ze.nodeSize;Be&&console.time("total time");var Qe="prepare "+Ee.length+" points";Be&&console.time(Qe),this.points=Ee;for(var et=[],tt=0;tt<Ee.length;tt++)Ee[tt].geometry&&et.push(H(Ee[tt],tt));this.trees[We+1]=new R(et,oe,ie,$e,Float32Array),Be&&console.timeEnd(Qe);for(var rt=We;rt>=Ue;rt--){var nt=+Date.now();et=this._cluster(et,rt),this.trees[rt]=new R(et,oe,ie,$e,Float32Array),Be&&console.log("z%d: %d clusters in %dms",rt,et.length,+Date.now()-nt)}return Be&&console.timeEnd("total time"),this},U.prototype.getClusters=function(Ee,ze){var Be=((Ee[0]+180)%360+360)%360-180,Ue=Math.max(-90,Math.min(90,Ee[1])),We=180===Ee[2]?180:((Ee[2]+180)%360+360)%360-180,$e=Math.max(-90,Math.min(90,Ee[3]));if(Ee[2]-Ee[0]>=360)Be=-180,We=180;else if(Be>We){var Qe=this.getClusters([Be,Ue,180,$e],ze),et=this.getClusters([-180,Ue,We,$e],ze);return Qe.concat(et)}for(var tt=this.trees[this._limitZoom(ze)],rt=[],nt=0,at=tt.range(ee(Be),te($e),ee(We),te(Ue));nt<at.length;nt+=1){var it=at[nt],ct=tt.points[it];rt.push(ct.numPoints?K(ct):this.points[ct.index])}return rt},U.prototype.getChildren=function(Ee){var ze=Ee>>5,Be=Ee%32,Ue="No cluster with the specified id.",We=this.trees[Be];if(!We)throw new Error(Ue);var $e=We.points[ze];if(!$e)throw new Error(Ue);for(var Qe=this.options.radius/(this.options.extent*Math.pow(2,Be-1)),et=[],tt=0,rt=We.within($e.x,$e.y,Qe);tt<rt.length;tt+=1){var nt=rt[tt],at=We.points[nt];at.parentId===Ee&&et.push(at.numPoints?K(at):this.points[at.index])}if(0===et.length)throw new Error(Ue);return et},U.prototype.getLeaves=function(Ee,ze,Be){ze=ze||10,Be=Be||0;var Ue=[];return this._appendLeaves(Ue,Ee,ze,Be,0),Ue},U.prototype.getTile=function(Ee,ze,Be){var Ue=this.trees[this._limitZoom(Ee)],We=Math.pow(2,Ee),$e=this.options,Qe=$e.extent,et=$e.radius/Qe,tt=(Be-et)/We,rt=(Be+1+et)/We,nt={features:[]};return this._addTileFeatures(Ue.range((ze-et)/We,tt,(ze+1+et)/We,rt),Ue.points,ze,Be,We,nt),0===ze&&this._addTileFeatures(Ue.range(1-et/We,tt,1,rt),Ue.points,We,Be,We,nt),ze===We-1&&this._addTileFeatures(Ue.range(0,tt,et/We,rt),Ue.points,-1,Be,We,nt),nt.features.length?nt:null},U.prototype.getClusterExpansionZoom=function(Ee){for(var ze=Ee%32-1;ze<=this.options.maxZoom;){var Be=this.getChildren(Ee);if(ze++,1!==Be.length)break;Ee=Be[0].properties.cluster_id}return ze},U.prototype._appendLeaves=function(Ee,ze,Be,Ue,We){for(var $e=0,Qe=this.getChildren(ze);$e<Qe.length;$e+=1){var et=Qe[$e],tt=et.properties;if(tt&&tt.cluster?We+tt.point_count<=Ue?We+=tt.point_count:We=this._appendLeaves(Ee,tt.cluster_id,Be,Ue,We):We<Ue?We++:Ee.push(et),Ee.length===Be)break}return We},U.prototype._addTileFeatures=function(Ee,ze,Be,Ue,We,$e){for(var Qe=0,et=Ee;Qe<et.length;Qe+=1){var tt=ze[et[Qe]],rt={type:1,geometry:[[Math.round(this.options.extent*(tt.x*We-Be)),Math.round(this.options.extent*(tt.y*We-Ue))]],tags:tt.numPoints?Q(tt):this.points[tt.index].properties},nt=tt.numPoints?tt.id:this.points[tt.index].id;void 0!==nt&&(rt.id=nt),$e.features.push(rt)}},U.prototype._limitZoom=function(Ee){return Math.max(this.options.minZoom,Math.min(Ee,this.options.maxZoom+1))},U.prototype._cluster=function(Ee,ze){for(var Be=[],Ue=this.options,We=Ue.radius,$e=Ue.extent,Qe=Ue.reduce,et=We/($e*Math.pow(2,ze)),tt=0;tt<Ee.length;tt++){var rt=Ee[tt];if(!(rt.zoom<=ze)){rt.zoom=ze;for(var nt=this.trees[ze+1],at=nt.within(rt.x,rt.y,et),it=rt.numPoints||1,ct=rt.x*it,ft=rt.y*it,xt=Qe&&it>1?this._map(rt,!0):null,kt=(tt<<5)+(ze+1),Lt=0,Ut=at;Lt<Ut.length;Lt+=1){var er=Ut[Lt],tr=nt.points[er];if(!(tr.zoom<=ze)){tr.zoom=ze;var rr=tr.numPoints||1;ct+=tr.x*rr,ft+=tr.y*rr,it+=rr,tr.parentId=kt,Qe&&(xt||(xt=this._map(rt,!0)),Qe(xt,this._map(tr)))}}1===it?Be.push(rt):(rt.parentId=kt,Be.push($(ct/it,ft/it,kt,it,xt)))}}return Be},U.prototype._map=function(Ee,ze){if(Ee.numPoints)return ze?re({},Ee.properties):Ee.properties;var Be=this.points[Ee.index].properties,Ue=this.options.map(Be);return ze&&Ue===Be?re({},Ue):Ue},Le.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Le.prototype.splitTile=function(Ee,ze,Be,Ue,We,$e,Qe){for(var et=[Ee,ze,Be,Ue],tt=this.options,rt=tt.debug;et.length;){Ue=et.pop(),Be=et.pop(),ze=et.pop(),Ee=et.pop();var nt=1<<ze,at=De(ze,Be,Ue),it=this.tiles[at];if(!it&&(rt>1&&console.time("creation"),it=this.tiles[at]=Pe(Ee,ze,Be,Ue,tt),this.tileCoords.push({z:ze,x:Be,y:Ue}),rt)){rt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ze,Be,Ue,it.numFeatures,it.numPoints,it.numSimplified),console.timeEnd("creation"));var ct="z"+ze;this.stats[ct]=(this.stats[ct]||0)+1,this.total++}if(it.source=Ee,We){if(ze===tt.maxZoom||ze===We)continue;var ft=1<<We-ze;if(Be!==Math.floor($e/ft)||Ue!==Math.floor(Qe/ft))continue}else if(ze===tt.indexMaxZoom||it.numPoints<=tt.indexMaxPoints)continue;if(it.source=null,0!==Ee.length){rt>1&&console.time("clipping");var xt,kt,Lt,Ut,er,tr,rr=.5*tt.buffer/tt.extent,ar=.5-rr,Lr=.5+rr,Qr=1+rr;xt=kt=Lt=Ut=null,er=de(Ee,nt,Be-rr,Be+Lr,0,it.minX,it.maxX,tt),tr=de(Ee,nt,Be+ar,Be+Qr,0,it.minX,it.maxX,tt),Ee=null,er&&(xt=de(er,nt,Ue-rr,Ue+Lr,1,it.minY,it.maxY,tt),kt=de(er,nt,Ue+ar,Ue+Qr,1,it.minY,it.maxY,tt),er=null),tr&&(Lt=de(tr,nt,Ue-rr,Ue+Lr,1,it.minY,it.maxY,tt),Ut=de(tr,nt,Ue+ar,Ue+Qr,1,it.minY,it.maxY,tt),tr=null),rt>1&&console.timeEnd("clipping"),et.push(xt||[],ze+1,2*Be,2*Ue),et.push(kt||[],ze+1,2*Be,2*Ue+1),et.push(Lt||[],ze+1,2*Be+1,2*Ue),et.push(Ut||[],ze+1,2*Be+1,2*Ue+1)}}},Le.prototype.getTile=function(Ee,ze,Be){var Ue=this.options,We=Ue.extent,$e=Ue.debug;if(Ee<0||Ee>24)return null;var Qe=1<<Ee,et=De(Ee,ze=(ze%Qe+Qe)%Qe,Be);if(this.tiles[et])return be(this.tiles[et],We);$e>1&&console.log("drilling down to z%d-%d-%d",Ee,ze,Be);for(var tt,rt=Ee,nt=ze,at=Be;!tt&&rt>0;)rt--,nt=Math.floor(nt/2),at=Math.floor(at/2),tt=this.tiles[De(rt,nt,at)];return tt&&tt.source?($e>1&&console.log("found parent tile z%d-%d-%d",rt,nt,at),$e>1&&console.time("drilling down"),this.splitTile(tt.source,rt,nt,at,Ee,ze,Be),$e>1&&console.timeEnd("drilling down"),this.tiles[et]?be(this.tiles[et],We):null):null};var it=function(ze){function r(Ee,Be,Ue){ze.call(this,Ee,Be,Ce),Ue&&(this.loadGeoJSON=Ue)}return ze&&(r.__proto__=ze),r.prototype=Object.create(ze&&ze.prototype),r.prototype.constructor=r,r.prototype.loadData=function(Ee,ze){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ze,this._pendingLoadDataParams=Ee,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var ze=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ue=this._pendingCallback,We=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var $e=!!(We&&We.request&&We.request.collectResourceTiming)&&new Be.Performance(We.request);this.loadGeoJSON(We,(function(Be,Qe){if(Be||!Qe)return Ue(Be);if("object"!=typeof Qe)return Ue(new Error("Input data given to '"+We.source+"' is not a valid GeoJSON object."));!function e(Ee,ze){switch(Ee&&Ee.type||null){case"FeatureCollection":return Ee.features=Ee.features.map(x(e,ze)),Ee;case"GeometryCollection":return Ee.geometries=Ee.geometries.map(x(e,ze)),Ee;case"Feature":return Ee.geometry=e(Ee.geometry,ze),Ee;case"Polygon":case"MultiPolygon":return function(Ee,ze){return"Polygon"===Ee.type?Ee.coordinates=w(Ee.coordinates,ze):"MultiPolygon"===Ee.type&&(Ee.coordinates=Ee.coordinates.map(x(w,ze))),Ee}(Ee,ze);default:return Ee}}(Qe,!0);try{ze._geoJSONIndex=We.cluster?new U(function(ze){var Be=ze.superclusterOptions,Ue=ze.clusterProperties;if(!Ue||!Be)return Be;for(var We={},$e={},Qe={accumulated:null,zoom:0},et={properties:null},tt=Object.keys(Ue),rt=0,nt=tt;rt<nt.length;rt+=1){var at=nt[rt],it=Ue[at],ct=it[0],ft=it[1],xt=Ee.createExpression(ft),kt=Ee.createExpression("string"==typeof ct?[ct,["accumulated"],["get",at]]:ct);We[at]=xt.value,$e[at]=kt.value}return Be.map=function(Ee){et.properties=Ee;for(var ze={},Be=0,Ue=tt;Be<Ue.length;Be+=1){var $e=Ue[Be];ze[$e]=We[$e].evaluate(Qe,et)}return ze},Be.reduce=function(Ee,ze){et.properties=ze;for(var Be=0,Ue=tt;Be<Ue.length;Be+=1){var We=Ue[Be];Qe.accumulated=Ee[We],Ee[We]=$e[We].evaluate(Qe,et)}},Be}(We)).load(Qe.features):function(Ee,ze){return new Le(Ee,ze)}(Qe,We.geojsonVtOptions)}catch(Be){return Ue(Be)}ze.loaded={};var et={};if($e){var tt=$e.finish();tt&&(et.resourceTiming={},et.resourceTiming[We.source]=JSON.parse(JSON.stringify(tt)))}Ue(null,et)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(Ee,Be){var Ue=this.loaded,We=Ee.uid;return Ue&&Ue[We]?ze.prototype.reloadTile.call(this,Ee,Be):this.loadTile(Ee,Be)},r.prototype.loadGeoJSON=function(ze,Be){if(ze.request)Ee.getJSON(ze.request,Be);else{if("string"!=typeof ze.data)return Be(new Error("Input data given to '"+ze.source+"' is not a valid GeoJSON object."));try{return Be(null,JSON.parse(ze.data))}catch(Ee){return Be(new Error("Input data given to '"+ze.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(Ee,ze){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ze()},r.prototype.getClusterExpansionZoom=function(Ee,ze){ze(null,this._geoJSONIndex.getClusterExpansionZoom(Ee.clusterId))},r.prototype.getClusterChildren=function(Ee,ze){ze(null,this._geoJSONIndex.getChildren(Ee.clusterId))},r.prototype.getClusterLeaves=function(Ee,ze){ze(null,this._geoJSONIndex.getLeaves(Ee.clusterId,Ee.limit,Ee.offset))},r}(c),Oe=function(ze){var Be=this;this.self=ze,this.actor=new Ee.Actor(ze,this),this.layerIndexes={},this.workerSourceTypes={vector:c,geojson:it},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ee,ze){if(Be.workerSourceTypes[Ee])throw new Error('Worker source with name "'+Ee+'" already registered.');Be.workerSourceTypes[Ee]=ze},this.self.registerRTLTextPlugin=function(ze){if(Ee.plugin.isLoaded())throw new Error("RTL text plugin already registered.");Ee.plugin.applyArabicShaping=ze.applyArabicShaping,Ee.plugin.processBidirectionalText=ze.processBidirectionalText,Ee.plugin.processStyledBidirectionalText=ze.processStyledBidirectionalText}};return Oe.prototype.setReferrer=function(Ee,ze){this.referrer=ze},Oe.prototype.setLayers=function(Ee,ze,Be){this.getLayerIndex(Ee).replace(ze),Be()},Oe.prototype.updateLayers=function(Ee,ze,Be){this.getLayerIndex(Ee).update(ze.layers,ze.removedIds),Be()},Oe.prototype.loadTile=function(Ee,ze,Be){this.getWorkerSource(Ee,ze.type,ze.source).loadTile(ze,Be)},Oe.prototype.loadDEMTile=function(Ee,ze,Be){this.getDEMWorkerSource(Ee,ze.source).loadTile(ze,Be)},Oe.prototype.reloadTile=function(Ee,ze,Be){this.getWorkerSource(Ee,ze.type,ze.source).reloadTile(ze,Be)},Oe.prototype.abortTile=function(Ee,ze,Be){this.getWorkerSource(Ee,ze.type,ze.source).abortTile(ze,Be)},Oe.prototype.removeTile=function(Ee,ze,Be){this.getWorkerSource(Ee,ze.type,ze.source).removeTile(ze,Be)},Oe.prototype.removeDEMTile=function(Ee,ze){this.getDEMWorkerSource(Ee,ze.source).removeTile(ze)},Oe.prototype.removeSource=function(Ee,ze,Be){if(this.workerSources[Ee]&&this.workerSources[Ee][ze.type]&&this.workerSources[Ee][ze.type][ze.source]){var Ue=this.workerSources[Ee][ze.type][ze.source];delete this.workerSources[Ee][ze.type][ze.source],void 0!==Ue.removeSource?Ue.removeSource(ze,Be):Be()}},Oe.prototype.loadWorkerSource=function(Ee,ze,Be){try{this.self.importScripts(ze.url),Be()}catch(Ee){Be(Ee.toString())}},Oe.prototype.loadRTLTextPlugin=function(ze,Be,Ue){try{Ee.plugin.isLoaded()||(this.self.importScripts(Be),Ue(Ee.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+Be)))}catch(Ee){Ue(Ee.toString())}},Oe.prototype.getLayerIndex=function(Ee){var ze=this.layerIndexes[Ee];return ze||(ze=this.layerIndexes[Ee]=new o),ze},Oe.prototype.getWorkerSource=function(Ee,ze,Be){var Ue=this;if(this.workerSources[Ee]||(this.workerSources[Ee]={}),this.workerSources[Ee][ze]||(this.workerSources[Ee][ze]={}),!this.workerSources[Ee][ze][Be]){var We={send:function(ze,Be,We){Ue.actor.send(ze,Be,We,Ee)}};this.workerSources[Ee][ze][Be]=new this.workerSourceTypes[ze](We,this.getLayerIndex(Ee))}return this.workerSources[Ee][ze][Be]},Oe.prototype.getDEMWorkerSource=function(Ee,ze){return this.demWorkerSources[Ee]||(this.demWorkerSources[Ee]={}),this.demWorkerSources[Ee][ze]||(this.demWorkerSources[Ee][ze]=new p),this.demWorkerSources[Ee][ze]},Oe.prototype.enforceCacheSizeLimit=function(ze,Be){Ee.enforceCacheSizeLimit(Be)},"undefined"!=typeof WorkerGlobalScope&&void 0!==Ee.window&&Ee.window instanceof WorkerGlobalScope&&(Ee.window.worker=new Oe(Ee.window)),Oe})),define(0,(function(Ee){var ze=Ee.createCommonjsModule((function(Ee){function e(Ee){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ee,ze,Be=new Blob([""],{type:"text/javascript"}),Ue=URL.createObjectURL(Be);try{ze=new Worker(Ue),Ee=!0}catch(ze){Ee=!1}return ze&&ze.terminate(),URL.revokeObjectURL(Ue),Ee}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(Ee){return void 0===ze[Ee]&&(ze[Ee]=function(Ee){var ze=document.createElement("canvas"),Be=Object.create(e.webGLContextAttributes);return Be.failIfMajorPerformanceCaveat=Ee,ze.probablySupportsContext?ze.probablySupportsContext("webgl",Be)||ze.probablySupportsContext("experimental-webgl",Be):ze.supportsContext?ze.supportsContext("webgl",Be)||ze.supportsContext("experimental-webgl",Be):ze.getContext("webgl",Be)||ze.getContext("experimental-webgl",Be)}(Ee)),ze[Ee]}(Ee&&Ee.failIfMajorPerformanceCaveat))}Ee.exports?Ee.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var ze={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),Be={create:function(ze,Be,Ue){var We=Ee.window.document.createElement(ze);return void 0!==Be&&(We.className=Be),Ue&&Ue.appendChild(We),We},createNS:function(ze,Be){return Ee.window.document.createElementNS(ze,Be)}},Ue=Ee.window.document.documentElement.style;function r(Ee){if(!Ue)return Ee[0];for(var ze=0;ze<Ee.length;ze++)if(Ee[ze]in Ue)return Ee[ze];return Ee[0]}var We,$e=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);Be.disableDrag=function(){Ue&&$e&&(We=Ue[$e],Ue[$e]="none")},Be.enableDrag=function(){Ue&&$e&&(Ue[$e]=We)};var Qe=r(["transform","WebkitTransform"]);Be.setTransform=function(Ee,ze){Ee.style[Qe]=ze};var et=!1;try{var tt=Object.defineProperty({},"passive",{get:function(){et=!0}});Ee.window.addEventListener("test",tt,tt),Ee.window.removeEventListener("test",tt,tt)}catch(Ee){et=!1}Be.addEventListener=function(Ee,ze,Be,Ue){void 0===Ue&&(Ue={}),"passive"in Ue&&et?Ee.addEventListener(ze,Be,Ue):Ee.addEventListener(ze,Be,Ue.capture)},Be.removeEventListener=function(Ee,ze,Be,Ue){void 0===Ue&&(Ue={}),"passive"in Ue&&et?Ee.removeEventListener(ze,Be,Ue):Ee.removeEventListener(ze,Be,Ue.capture)};var u=function(ze){ze.preventDefault(),ze.stopPropagation(),Ee.window.removeEventListener("click",u,!0)};function h(Ee){var ze=Ee.userImage;return!!(ze&&ze.render&&ze.render())&&(Ee.data.replace(new Uint8Array(ze.data.buffer)),!0)}Be.suppressClick=function(){Ee.window.addEventListener("click",u,!0),Ee.window.setTimeout((function(){Ee.window.removeEventListener("click",u,!0)}),0)},Be.mousePos=function(ze,Be){var Ue=ze.getBoundingClientRect(),We=Ee.window.TouchEvent&&Be instanceof Ee.window.TouchEvent?Be.touches[0]:Be;return new Ee.Point(We.clientX-Ue.left-ze.clientLeft,We.clientY-Ue.top-ze.clientTop)},Be.touchPos=function(ze,Be){for(var Ue=ze.getBoundingClientRect(),We=[],$e="touchend"===Be.type?Be.changedTouches:Be.touches,Qe=0;Qe<$e.length;Qe++)We.push(new Ee.Point($e[Qe].clientX-Ue.left-ze.clientLeft,$e[Qe].clientY-Ue.top-ze.clientTop));return We},Be.mouseButton=function(ze){return void 0!==Ee.window.InstallTrigger&&2===ze.button&&ze.ctrlKey&&Ee.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ze.button},Be.remove=function(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)};var rt=function(ze){function i(){ze.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new Ee.RGBAImage({width:1,height:1}),this.dirty=!0}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(Ee){if(this.loaded!==Ee&&(this.loaded=Ee,Ee)){for(var ze=0,Be=this.requestors;ze<Be.length;ze+=1){var Ue=Be[ze],We=Ue.ids,$e=Ue.callback;this._notify(We,$e)}this.requestors=[]}},i.prototype.getImage=function(Ee){return this.images[Ee]},i.prototype.addImage=function(Ee,ze){this.images[Ee]=ze},i.prototype.updateImage=function(Ee,ze){var Be=this.images[Ee];ze.version=Be.version+1,this.images[Ee]=ze,this.updatedImages[Ee]=!0},i.prototype.removeImage=function(Ee){var ze=this.images[Ee];delete this.images[Ee],delete this.patterns[Ee],ze.userImage&&ze.userImage.onRemove&&ze.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(Ee,ze){var Be=!0;if(!this.isLoaded())for(var Ue=0,We=Ee;Ue<We.length;Ue+=1){var $e=We[Ue];this.images[$e]||(Be=!1)}this.isLoaded()||Be?this._notify(Ee,ze):this.requestors.push({ids:Ee,callback:ze})},i.prototype._notify=function(ze,Be){for(var Ue={},We=0,$e=ze;We<$e.length;We+=1){var Qe=$e[We];this.images[Qe]||this.fire(new Ee.Event("styleimagemissing",{id:Qe}));var et=this.images[Qe];et?Ue[Qe]={data:et.data.clone(),pixelRatio:et.pixelRatio,sdf:et.sdf,version:et.version,hasRenderCallback:Boolean(et.userImage&&et.userImage.render)}:Ee.warnOnce('Image "'+Qe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}Be(null,Ue)},i.prototype.getPixelSize=function(){var Ee=this.atlasImage;return{width:Ee.width,height:Ee.height}},i.prototype.getPattern=function(ze){var Be=this.patterns[ze],Ue=this.getImage(ze);if(!Ue)return null;if(Be&&Be.position.version===Ue.version)return Be.position;if(Be)Be.position.version=Ue.version;else{var We={w:Ue.data.width+2,h:Ue.data.height+2,x:0,y:0},$e=new Ee.ImagePosition(We,Ue);this.patterns[ze]={bin:We,position:$e}}return this._updatePatternAtlas(),this.patterns[ze].position},i.prototype.bind=function(ze){var Be=ze.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ee.Texture(ze,this.atlasImage,Be.RGBA),this.atlasTexture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var ze=[];for(var Be in this.patterns)ze.push(this.patterns[Be].bin);var Ue=Ee.potpack(ze),We=Ue.w,$e=Ue.h,Qe=this.atlasImage;for(var et in Qe.resize({width:We||1,height:$e||1}),this.patterns){var tt=this.patterns[et].bin,rt=tt.x+1,nt=tt.y+1,at=this.images[et].data,it=at.width,ct=at.height;Ee.RGBAImage.copy(at,Qe,{x:0,y:0},{x:rt,y:nt},{width:it,height:ct}),Ee.RGBAImage.copy(at,Qe,{x:0,y:ct-1},{x:rt,y:nt-1},{width:it,height:1}),Ee.RGBAImage.copy(at,Qe,{x:0,y:0},{x:rt,y:nt+ct},{width:it,height:1}),Ee.RGBAImage.copy(at,Qe,{x:it-1,y:0},{x:rt-1,y:nt},{width:1,height:ct}),Ee.RGBAImage.copy(at,Qe,{x:0,y:0},{x:rt+it,y:nt},{width:1,height:ct})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(Ee){for(var ze=0,Be=Ee;ze<Be.length;ze+=1){var Ue=Be[ze];if(!this.callbackDispatchedThisFrame[Ue]){this.callbackDispatchedThisFrame[Ue]=!0;var We=this.images[Ue];h(We)&&this.updateImage(Ue,We)}}},i}(Ee.Evented),nt=m,at=m,it=1e20;function m(Ee,ze,Be,Ue,We,$e){this.fontSize=Ee||24,this.buffer=void 0===ze?3:ze,this.cutoff=Ue||.25,this.fontFamily=We||"sans-serif",this.fontWeight=$e||"normal",this.radius=Be||8;var Qe=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Qe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Qe*Qe),this.gridInner=new Float64Array(Qe*Qe),this.f=new Float64Array(Qe),this.d=new Float64Array(Qe),this.z=new Float64Array(Qe+1),this.v=new Int16Array(Qe),this.middle=Math.round(Qe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(Ee,ze,Be,Ue,We,$e,Qe){for(var et=0;et<ze;et++){for(var tt=0;tt<Be;tt++)Ue[tt]=Ee[tt*ze+et];for(v(Ue,We,$e,Qe,Be),tt=0;tt<Be;tt++)Ee[tt*ze+et]=We[tt]}for(tt=0;tt<Be;tt++){for(et=0;et<ze;et++)Ue[et]=Ee[tt*ze+et];for(v(Ue,We,$e,Qe,ze),et=0;et<ze;et++)Ee[tt*ze+et]=Math.sqrt(We[et])}}function v(Ee,ze,Be,Ue,We){Be[0]=0,Ue[0]=-it,Ue[1]=+it;for(var $e=1,Qe=0;$e<We;$e++){for(var et=(Ee[$e]+$e*$e-(Ee[Be[Qe]]+Be[Qe]*Be[Qe]))/(2*$e-2*Be[Qe]);et<=Ue[Qe];)Qe--,et=(Ee[$e]+$e*$e-(Ee[Be[Qe]]+Be[Qe]*Be[Qe]))/(2*$e-2*Be[Qe]);Be[++Qe]=$e,Ue[Qe]=et,Ue[Qe+1]=+it}for($e=0,Qe=0;$e<We;$e++){for(;Ue[Qe+1]<$e;)Qe++;ze[$e]=($e-Be[Qe])*($e-Be[Qe])+Ee[Be[Qe]]}}m.prototype.draw=function(Ee){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(Ee,this.buffer,this.middle);for(var ze=this.ctx.getImageData(0,0,this.size,this.size),Be=new Uint8ClampedArray(this.size*this.size),Ue=0;Ue<this.size*this.size;Ue++){var We=ze.data[4*Ue+3]/255;this.gridOuter[Ue]=1===We?0:0===We?it:Math.pow(Math.max(0,.5-We),2),this.gridInner[Ue]=1===We?it:0===We?0:Math.pow(Math.max(0,We-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),Ue=0;Ue<this.size*this.size;Ue++){var $e=this.gridOuter[Ue]-this.gridInner[Ue];Be[Ue]=Math.max(0,Math.min(255,Math.round(255-255*($e/this.radius+this.cutoff))))}return Be},nt.default=at;var y=function(Ee,ze){this.requestManager=Ee,this.localIdeographFontFamily=ze,this.entries={}};y.prototype.setURL=function(Ee){this.url=Ee},y.prototype.getGlyphs=function(ze,Be){var Ue=this,We=[];for(var $e in ze)for(var Qe=0,et=ze[$e];Qe<et.length;Qe+=1){var tt=et[Qe];We.push({stack:$e,id:tt})}Ee.asyncAll(We,(function(Ee,ze){var Be=Ee.stack,We=Ee.id,$e=Ue.entries[Be];$e||($e=Ue.entries[Be]={glyphs:{},requests:{}});var Qe=$e.glyphs[We];if(void 0===Qe){if(Qe=Ue._tinySDF($e,Be,We))return $e.glyphs[We]=Qe,void ze(null,{stack:Be,id:We,glyph:Qe});var et=Math.floor(We/256);if(256*et>65535)ze(new Error("glyphs > 65535 not supported"));else{var tt=$e.requests[et];tt||(tt=$e.requests[et]=[],y.loadGlyphRange(Be,et,Ue.url,Ue.requestManager,(function(Ee,ze){if(ze)for(var Be in ze)Ue._doesCharSupportLocalGlyph(+Be)||($e.glyphs[+Be]=ze[+Be]);for(var We=0,Qe=tt;We<Qe.length;We+=1)(0,Qe[We])(Ee,ze);delete $e.requests[et]}))),tt.push((function(Ee,Ue){Ee?ze(Ee):Ue&&ze(null,{stack:Be,id:We,glyph:Ue[We]||null})}))}}else ze(null,{stack:Be,id:We,glyph:Qe})}),(function(Ee,ze){if(Ee)Be(Ee);else if(ze){for(var Ue={},We=0,$e=ze;We<$e.length;We+=1){var Qe=$e[We],et=Qe.stack,tt=Qe.id,rt=Qe.glyph;(Ue[et]||(Ue[et]={}))[tt]=rt&&{id:rt.id,bitmap:rt.bitmap.clone(),metrics:rt.metrics}}Be(null,Ue)}}))},y.prototype._doesCharSupportLocalGlyph=function(ze){return!!this.localIdeographFontFamily&&(Ee.isChar["CJK Unified Ideographs"](ze)||Ee.isChar["Hangul Syllables"](ze)||Ee.isChar.Hiragana(ze)||Ee.isChar.Katakana(ze))},y.prototype._tinySDF=function(ze,Be,Ue){var We=this.localIdeographFontFamily;if(We&&this._doesCharSupportLocalGlyph(Ue)){var $e=ze.tinySDF;if(!$e){var Qe="400";/bold/i.test(Be)?Qe="900":/medium/i.test(Be)?Qe="500":/light/i.test(Be)&&(Qe="200"),$e=ze.tinySDF=new y.TinySDF(24,3,8,.25,We,Qe)}return{id:Ue,bitmap:new Ee.AlphaImage({width:30,height:30},$e.draw(String.fromCharCode(Ue))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(ze,Be,Ue,We,$e){var Qe=256*Be,et=Qe+255,tt=We.transformRequest(We.normalizeGlyphsURL(Ue).replace("{fontstack}",ze).replace("{range}",Qe+"-"+et),Ee.ResourceType.Glyphs);Ee.getArrayBuffer(tt,(function(ze,Be){if(ze)$e(ze);else if(Be){for(var Ue={},We=0,Qe=Ee.parseGlyphPBF(Be);We<Qe.length;We+=1){var et=Qe[We];Ue[et.id]=et}$e(null,Ue)}}))},y.TinySDF=nt;var x=function(){this.specification=Ee.styleSpec.light.position};x.prototype.possiblyEvaluate=function(ze,Be){return Ee.sphericalToCartesian(ze.expression.evaluate(Be))},x.prototype.interpolate=function(ze,Be,Ue){return{x:Ee.number(ze.x,Be.x,Ue),y:Ee.number(ze.y,Be.y,Ue),z:Ee.number(ze.z,Be.z,Ue)}};var ct=new Ee.Properties({anchor:new Ee.DataConstantProperty(Ee.styleSpec.light.anchor),position:new x,color:new Ee.DataConstantProperty(Ee.styleSpec.light.color),intensity:new Ee.DataConstantProperty(Ee.styleSpec.light.intensity)}),ft=function(ze){function i(Be){ze.call(this),this._transitionable=new Ee.Transitionable(ct),this.setLight(Be),this._transitioning=this._transitionable.untransitioned()}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(ze,Be){if(void 0===Be&&(Be={}),!this._validate(Ee.validateLight,ze,Be))for(var Ue in ze){var We=ze[Ue];Ee.endsWith(Ue,"-transition")?this._transitionable.setTransition(Ue.slice(0,-"-transition".length),We):this._transitionable.setValue(Ue,We)}},i.prototype.updateTransitions=function(Ee){this._transitioning=this._transitionable.transitioned(Ee,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(Ee){this.properties=this._transitioning.possiblyEvaluate(Ee)},i.prototype._validate=function(ze,Be,Ue){return(!Ue||!1!==Ue.validate)&&Ee.emitValidationErrors(this,ze.call(Ee.validateStyle,Ee.extend({value:Be,style:{glyphs:!0,sprite:!0},styleSpec:Ee.styleSpec})))},i}(Ee.Evented),E=function(Ee,ze){this.width=Ee,this.height=ze,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};E.prototype.getDash=function(Ee,ze){var Be=Ee.join(",")+String(ze);return this.positions[Be]||(this.positions[Be]=this.addDash(Ee,ze)),this.positions[Be]},E.prototype.addDash=function(ze,Be){var Ue=Be?7:0,We=2*Ue+1;if(this.nextRow+We>this.height)return Ee.warnOnce("LineAtlas out of space"),null;for(var $e=0,Qe=0;Qe<ze.length;Qe++)$e+=ze[Qe];for(var et=this.width/$e,tt=et/2,rt=ze.length%2==1,nt=-Ue;nt<=Ue;nt++)for(var at=this.nextRow+Ue+nt,it=this.width*at,ct=rt?-ze[ze.length-1]:0,ft=ze[0],xt=1,kt=0;kt<this.width;kt++){for(;ft<kt/et;)ct=ft,ft+=ze[xt],rt&&xt===ze.length-1&&(ft+=ze[0]),xt++;var Lt=Math.abs(kt-ct*et),Ut=Math.abs(kt-ft*et),er=Math.min(Lt,Ut),tr=xt%2==1,rr=void 0;if(Be){var ar=Ue?nt/Ue*(tt+1):0;if(tr){var Lr=tt-Math.abs(ar);rr=Math.sqrt(er*er+Lr*Lr)}else rr=tt-Math.sqrt(er*er+ar*ar)}else rr=(tr?1:-1)*er;this.data[3+4*(it+kt)]=Math.max(0,Math.min(255,rr+128))}var Qr={y:(this.nextRow+Ue+.5)/this.height,height:2*Ue/this.height,width:$e};return this.nextRow+=We,this.dirty=!0,Qr},E.prototype.bind=function(Ee){var ze=Ee.gl;this.texture?(ze.bindTexture(ze.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ze.texSubImage2D(ze.TEXTURE_2D,0,0,0,this.width,this.height,ze.RGBA,ze.UNSIGNED_BYTE,this.data))):(this.texture=ze.createTexture(),ze.bindTexture(ze.TEXTURE_2D,this.texture),ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_WRAP_S,ze.REPEAT),ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_WRAP_T,ze.REPEAT),ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_MIN_FILTER,ze.LINEAR),ze.texParameteri(ze.TEXTURE_2D,ze.TEXTURE_MAG_FILTER,ze.LINEAR),ze.texImage2D(ze.TEXTURE_2D,0,ze.RGBA,this.width,this.height,0,ze.RGBA,ze.UNSIGNED_BYTE,this.data))};var xt=function e(ze,Be){this.workerPool=ze,this.actors=[],this.currentActor=0,this.id=Ee.uniqueId();for(var Ue=this.workerPool.acquire(this.id),We=0;We<Ue.length;We++){var $e=Ue[We],Qe=new e.Actor($e,Be,this.id);Qe.name="Worker "+We,this.actors.push(Qe)}};function I(ze,Be,Ue){var r=function(We,$e){if(We)return Ue(We);if($e){var Qe=Ee.pick(Ee.extend($e,ze),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$e.vector_layers&&(Qe.vectorLayers=$e.vector_layers,Qe.vectorLayerIds=Qe.vectorLayers.map((function(Ee){return Ee.id}))),ze.url&&(Qe.tiles=Be.canonicalizeTileset(Qe,ze.url)),Ue(null,Qe)}};return ze.url?Ee.getJSON(Be.transformRequest(Be.normalizeSourceURL(ze.url),Ee.ResourceType.Source),r):Ee.browser.frame((function(){return r(null,ze)}))}xt.prototype.broadcast=function(ze,Be,Ue){Ue=Ue||function(){},Ee.asyncAll(this.actors,(function(Ee,Ue){Ee.send(ze,Be,Ue)}),Ue)},xt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},xt.prototype.remove=function(){this.actors.forEach((function(Ee){Ee.remove()})),this.actors=[],this.workerPool.release(this.id)},xt.Actor=Ee.Actor;var S=function(ze,Be,Ue){this.bounds=Ee.LngLatBounds.convert(this.validateBounds(ze)),this.minzoom=Be||0,this.maxzoom=Ue||24};S.prototype.validateBounds=function(Ee){return Array.isArray(Ee)&&4===Ee.length?[Math.max(-180,Ee[0]),Math.max(-90,Ee[1]),Math.min(180,Ee[2]),Math.min(90,Ee[3])]:[-180,-90,180,90]},S.prototype.contains=function(ze){var Be=Math.pow(2,ze.z),Ue=Math.floor(Ee.mercatorXfromLng(this.bounds.getWest())*Be),We=Math.floor(Ee.mercatorYfromLat(this.bounds.getNorth())*Be),$e=Math.ceil(Ee.mercatorXfromLng(this.bounds.getEast())*Be),Qe=Math.ceil(Ee.mercatorYfromLat(this.bounds.getSouth())*Be);return ze.x>=Ue&&ze.x<$e&&ze.y>=We&&ze.y<Qe};var kt=function(ze){function i(Be,Ue,We,$e){if(ze.call(this),this.id=Be,this.dispatcher=We,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,Ee.extend(this,Ee.pick(Ue,["url","scheme","tileSize"])),this._options=Ee.extend({type:"vector"},Ue),this._collectResourceTiming=Ue.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($e)}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(){var ze=this;this._loaded=!1,this.fire(new Ee.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(Be,Ue){ze._tileJSONRequest=null,ze._loaded=!0,Be?ze.fire(new Ee.ErrorEvent(Be)):Ue&&(Ee.extend(ze,Ue),Ue.bounds&&(ze.tileBounds=new S(Ue.bounds,ze.minzoom,ze.maxzoom)),Ee.postTurnstileEvent(Ue.tiles,ze.map._requestManager._customAccessToken),Ee.postMapLoadEvent(Ue.tiles,ze.map._getMapId(),ze.map._requestManager._skuToken,ze.map._requestManager._customAccessToken),ze.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"metadata"})),ze.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(Ee){return!this.tileBounds||this.tileBounds.contains(Ee.canonical)},i.prototype.onAdd=function(Ee){this.map=Ee,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ee.extend({},this._options)},i.prototype.loadTile=function(ze,Be){var Ue=this.map._requestManager.normalizeTileURL(ze.tileID.canonical.url(this.tiles,this.scheme),this.url,null),We={request:this.map._requestManager.transformRequest(Ue,Ee.ResourceType.Tile),uid:ze.uid,tileID:ze.tileID,zoom:ze.tileID.overscaledZ,tileSize:this.tileSize*ze.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:Ee.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(Ue,We){return delete ze.request,ze.aborted?Be(null):Ue&&404!==Ue.status?Be(Ue):(We&&We.resourceTiming&&(ze.resourceTiming=We.resourceTiming),this.map._refreshExpiredTiles&&We&&ze.setExpiryData(We),ze.loadVectorData(We,this.map.painter),Ee.cacheEntryPossiblyAdded(this.dispatcher),Be(null),void(ze.reloadCallback&&(this.loadTile(ze,ze.reloadCallback),ze.reloadCallback=null)))}We.request.collectResourceTiming=this._collectResourceTiming,ze.actor&&"expired"!==ze.state?"loading"===ze.state?ze.reloadCallback=Be:ze.request=ze.actor.send("reloadTile",We,a.bind(this)):(ze.actor=this.dispatcher.getActor(),ze.request=ze.actor.send("loadTile",We,a.bind(this)))},i.prototype.abortTile=function(Ee){Ee.request&&(Ee.request.cancel(),delete Ee.request),Ee.actor&&Ee.actor.send("abortTile",{uid:Ee.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(Ee){Ee.unloadVectorData(),Ee.actor&&Ee.actor.send("removeTile",{uid:Ee.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(Ee.Evented),Lt=function(ze){function i(Be,Ue,We,$e){ze.call(this),this.id=Be,this.dispatcher=We,this.setEventedParent($e),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=Ee.extend({type:"raster"},Ue),Ee.extend(this,Ee.pick(Ue,["url","scheme","tileSize"]))}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(){var ze=this;this._loaded=!1,this.fire(new Ee.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(Be,Ue){ze._tileJSONRequest=null,ze._loaded=!0,Be?ze.fire(new Ee.ErrorEvent(Be)):Ue&&(Ee.extend(ze,Ue),Ue.bounds&&(ze.tileBounds=new S(Ue.bounds,ze.minzoom,ze.maxzoom)),Ee.postTurnstileEvent(Ue.tiles),Ee.postMapLoadEvent(Ue.tiles,ze.map._getMapId(),ze.map._requestManager._skuToken),ze.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"metadata"})),ze.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(Ee){this.map=Ee,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ee.extend({},this._options)},i.prototype.hasTile=function(Ee){return!this.tileBounds||this.tileBounds.contains(Ee.canonical)},i.prototype.loadTile=function(ze,Be){var Ue=this,We=this.map._requestManager.normalizeTileURL(ze.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);ze.request=Ee.getImage(this.map._requestManager.transformRequest(We,Ee.ResourceType.Tile),(function(We,$e){if(delete ze.request,ze.aborted)ze.state="unloaded",Be(null);else if(We)ze.state="errored",Be(We);else if($e){Ue.map._refreshExpiredTiles&&ze.setExpiryData($e),delete $e.cacheControl,delete $e.expires;var Qe=Ue.map.painter.context,et=Qe.gl;ze.texture=Ue.map.painter.getTileTexture($e.width),ze.texture?ze.texture.update($e,{useMipmap:!0}):(ze.texture=new Ee.Texture(Qe,$e,et.RGBA,{useMipmap:!0}),ze.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE,et.LINEAR_MIPMAP_NEAREST),Qe.extTextureFilterAnisotropic&&et.texParameterf(et.TEXTURE_2D,Qe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Qe.extTextureFilterAnisotropicMax)),ze.state="loaded",Ee.cacheEntryPossiblyAdded(Ue.dispatcher),Be(null)}}))},i.prototype.abortTile=function(Ee,ze){Ee.request&&(Ee.request.cancel(),delete Ee.request),ze()},i.prototype.unloadTile=function(Ee,ze){Ee.texture&&this.map.painter.saveTileTexture(Ee.texture),ze()},i.prototype.hasTransition=function(){return!1},i}(Ee.Evented),Ut=function(ze){function i(Be,Ue,We,$e){ze.call(this,Be,Ue,We,$e),this.type="raster-dem",this.maxzoom=22,this._options=Ee.extend({type:"raster-dem"},Ue),this.encoding=Ue.encoding||"mapbox"}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(ze,Be){var Ue=this.map._requestManager.normalizeTileURL(ze.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function r(Ee,Ue){Ee&&(ze.state="errored",Be(Ee)),Ue&&(ze.dem=Ue,ze.needsHillshadePrepare=!0,ze.state="loaded",Be(null))}ze.request=Ee.getImage(this.map._requestManager.transformRequest(Ue,Ee.ResourceType.Tile),function(Ue,We){if(delete ze.request,ze.aborted)ze.state="unloaded",Be(null);else if(Ue)ze.state="errored",Be(Ue);else if(We){this.map._refreshExpiredTiles&&ze.setExpiryData(We),delete We.cacheControl,delete We.expires;var $e=Ee.browser.getImageData(We),Qe={uid:ze.uid,coord:ze.tileID,source:this.id,rawImageData:$e,encoding:this.encoding};ze.actor&&"expired"!==ze.state||(ze.actor=this.dispatcher.getActor(),ze.actor.send("loadDEMTile",Qe,r.bind(this)))}}.bind(this)),ze.neighboringTiles=this._getNeighboringTiles(ze.tileID)},i.prototype._getNeighboringTiles=function(ze){var Be=ze.canonical,Ue=Math.pow(2,Be.z),We=(Be.x-1+Ue)%Ue,$e=0===Be.x?ze.wrap-1:ze.wrap,Qe=(Be.x+1+Ue)%Ue,et=Be.x+1===Ue?ze.wrap+1:ze.wrap,tt={};return tt[new Ee.OverscaledTileID(ze.overscaledZ,$e,Be.z,We,Be.y).key]={backfilled:!1},tt[new Ee.OverscaledTileID(ze.overscaledZ,et,Be.z,Qe,Be.y).key]={backfilled:!1},Be.y>0&&(tt[new Ee.OverscaledTileID(ze.overscaledZ,$e,Be.z,We,Be.y-1).key]={backfilled:!1},tt[new Ee.OverscaledTileID(ze.overscaledZ,ze.wrap,Be.z,Be.x,Be.y-1).key]={backfilled:!1},tt[new Ee.OverscaledTileID(ze.overscaledZ,et,Be.z,Qe,Be.y-1).key]={backfilled:!1}),Be.y+1<Ue&&(tt[new Ee.OverscaledTileID(ze.overscaledZ,$e,Be.z,We,Be.y+1).key]={backfilled:!1},tt[new Ee.OverscaledTileID(ze.overscaledZ,ze.wrap,Be.z,Be.x,Be.y+1).key]={backfilled:!1},tt[new Ee.OverscaledTileID(ze.overscaledZ,et,Be.z,Qe,Be.y+1).key]={backfilled:!1}),tt},i.prototype.unloadTile=function(Ee){Ee.demTexture&&this.map.painter.saveTileTexture(Ee.demTexture),Ee.fbo&&(Ee.fbo.destroy(),delete Ee.fbo),Ee.dem&&delete Ee.dem,delete Ee.neighboringTiles,Ee.state="unloaded",Ee.actor&&Ee.actor.send("removeDEMTile",{uid:Ee.uid,source:this.id})},i}(Lt),er=function(ze){function i(Be,Ue,We,$e){ze.call(this),this.id=Be,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=We.getActor(),this.setEventedParent($e),this._data=Ue.data,this._options=Ee.extend({},Ue),this._collectResourceTiming=Ue.collectResourceTiming,this._resourceTiming=[],void 0!==Ue.maxzoom&&(this.maxzoom=Ue.maxzoom),Ue.type&&(this.type=Ue.type),Ue.attribution&&(this.attribution=Ue.attribution);var Qe=Ee.EXTENT/this.tileSize;this.workerOptions=Ee.extend({source:this.id,cluster:Ue.cluster||!1,geojsonVtOptions:{buffer:(void 0!==Ue.buffer?Ue.buffer:128)*Qe,tolerance:(void 0!==Ue.tolerance?Ue.tolerance:.375)*Qe,extent:Ee.EXTENT,maxZoom:this.maxzoom,lineMetrics:Ue.lineMetrics||!1,generateId:Ue.generateId||!1},superclusterOptions:{maxZoom:void 0!==Ue.clusterMaxZoom?Math.min(Ue.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:Ee.EXTENT,radius:(Ue.clusterRadius||50)*Qe,log:!1},clusterProperties:Ue.clusterProperties},Ue.workerOptions)}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(){var ze=this;this.fire(new Ee.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(Be){if(Be)ze.fire(new Ee.ErrorEvent(Be));else{var Ue={dataType:"source",sourceDataType:"metadata"};ze._collectResourceTiming&&ze._resourceTiming&&ze._resourceTiming.length>0&&(Ue.resourceTiming=ze._resourceTiming,ze._resourceTiming=[]),ze.fire(new Ee.Event("data",Ue))}}))},i.prototype.onAdd=function(Ee){this.map=Ee,this.load()},i.prototype.setData=function(ze){var Be=this;return this._data=ze,this.fire(new Ee.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(ze){if(ze)Be.fire(new Ee.ErrorEvent(ze));else{var Ue={dataType:"source",sourceDataType:"content"};Be._collectResourceTiming&&Be._resourceTiming&&Be._resourceTiming.length>0&&(Ue.resourceTiming=Be._resourceTiming,Be._resourceTiming=[]),Be.fire(new Ee.Event("data",Ue))}})),this},i.prototype.getClusterExpansionZoom=function(Ee,ze){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Ee,source:this.id},ze),this},i.prototype.getClusterChildren=function(Ee,ze){return this.actor.send("geojson.getClusterChildren",{clusterId:Ee,source:this.id},ze),this},i.prototype.getClusterLeaves=function(Ee,ze,Be,Ue){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Ee,limit:ze,offset:Be},Ue),this},i.prototype._updateWorkerData=function(ze){var Be=this;this._loaded=!1;var Ue=Ee.extend({},this.workerOptions),We=this._data;"string"==typeof We?(Ue.request=this.map._requestManager.transformRequest(Ee.browser.resolveURL(We),Ee.ResourceType.Source),Ue.request.collectResourceTiming=this._collectResourceTiming):Ue.data=JSON.stringify(We),this.actor.send(this.type+".loadData",Ue,(function(Ee,We){Be._removed||We&&We.abandoned||(Be._loaded=!0,We&&We.resourceTiming&&We.resourceTiming[Be.id]&&(Be._resourceTiming=We.resourceTiming[Be.id].slice(0)),Be.actor.send(Be.type+".coalesce",{source:Ue.source},null),ze(Ee))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(ze,Be){var Ue=this,We=ze.actor?"reloadTile":"loadTile";ze.actor=this.actor;var $e={type:this.type,uid:ze.uid,tileID:ze.tileID,zoom:ze.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:Ee.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};ze.request=this.actor.send(We,$e,(function(Ee,$e){return delete ze.request,ze.unloadVectorData(),ze.aborted?Be(null):Ee?Be(Ee):(ze.loadVectorData($e,Ue.map.painter,"reloadTile"===We),Be(null))}))},i.prototype.abortTile=function(Ee){Ee.request&&(Ee.request.cancel(),delete Ee.request),Ee.aborted=!0},i.prototype.unloadTile=function(Ee){Ee.unloadVectorData(),this.actor.send("removeTile",{uid:Ee.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return Ee.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(Ee.Evented),tr=function(ze){function i(Ee,Be,Ue,We){ze.call(this),this.id=Ee,this.dispatcher=Ue,this.coordinates=Be.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(We),this.options=Be}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(ze,Be){var Ue=this;this._loaded=!1,this.fire(new Ee.Event("dataloading",{dataType:"source"})),this.url=this.options.url,Ee.getImage(this.map._requestManager.transformRequest(this.url,Ee.ResourceType.Image),(function(We,$e){Ue._loaded=!0,We?Ue.fire(new Ee.ErrorEvent(We)):$e&&(Ue.image=$e,ze&&(Ue.coordinates=ze),Be&&Be(),Ue._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(Ee){var ze=this;return this.image&&Ee.url?(this.options.url=Ee.url,this.load(Ee.coordinates,(function(){ze.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(Ee){this.map=Ee,this.load()},i.prototype.setCoordinates=function(ze){var Be=this;this.coordinates=ze;var Ue=ze.map(Ee.MercatorCoordinate.fromLngLat);this.tileID=function(ze){for(var Be=1/0,Ue=1/0,We=-1/0,$e=-1/0,Qe=0,et=ze;Qe<et.length;Qe+=1){var tt=et[Qe];Be=Math.min(Be,tt.x),Ue=Math.min(Ue,tt.y),We=Math.max(We,tt.x),$e=Math.max($e,tt.y)}var rt=We-Be,nt=$e-Ue,at=Math.max(rt,nt),it=Math.max(0,Math.floor(-Math.log(at)/Math.LN2)),ct=Math.pow(2,it);return new Ee.CanonicalTileID(it,Math.floor((Be+We)/2*ct),Math.floor((Ue+$e)/2*ct))}(Ue),this.minzoom=this.maxzoom=this.tileID.z;var We=Ue.map((function(Ee){return Be.tileID.getTilePoint(Ee)._round()}));return this._boundsArray=new Ee.StructArrayLayout4i8,this._boundsArray.emplaceBack(We[0].x,We[0].y,0,0),this._boundsArray.emplaceBack(We[1].x,We[1].y,Ee.EXTENT,0),this._boundsArray.emplaceBack(We[3].x,We[3].y,0,Ee.EXTENT),this._boundsArray.emplaceBack(We[2].x,We[2].y,Ee.EXTENT,Ee.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new Ee.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var ze=this.map.painter.context,Be=ze.gl;for(var Ue in this.boundsBuffer||(this.boundsBuffer=ze.createVertexBuffer(this._boundsArray,Ee.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=Ee.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ee.Texture(ze,this.image,Be.RGBA),this.texture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE)),this.tiles){var We=this.tiles[Ue];"loaded"!==We.state&&(We.state="loaded",We.texture=this.texture)}}},i.prototype.loadTile=function(Ee,ze){this.tileID&&this.tileID.equals(Ee.tileID.canonical)?(this.tiles[String(Ee.tileID.wrap)]=Ee,Ee.buckets={},ze(null)):(Ee.state="errored",ze(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(Ee.Evented),rr=function(ze){function i(Ee,Be,Ue,We){ze.call(this,Ee,Be,Ue,We),this.roundZoom=!0,this.type="video",this.options=Be}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(){var ze=this;this._loaded=!1;var Be=this.options;this.urls=[];for(var Ue=0,We=Be.urls;Ue<We.length;Ue+=1){var $e=We[Ue];this.urls.push(this.map._requestManager.transformRequest($e,Ee.ResourceType.Source).url)}Ee.getVideo(this.urls,(function(Be,Ue){ze._loaded=!0,Be?ze.fire(new Ee.ErrorEvent(Be)):Ue&&(ze.video=Ue,ze.video.loop=!0,ze.video.addEventListener("playing",(function(){ze.map.triggerRepaint()})),ze.map&&ze.video.play(),ze._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(ze){if(this.video){var Be=this.video.seekable;ze<Be.start(0)||ze>Be.end(0)?this.fire(new Ee.ErrorEvent(new Ee.ValidationError("Playback for this video can be set only between the "+Be.start(0)+" and "+Be.end(0)+"-second mark."))):this.video.currentTime=ze}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(Ee){this.map||(this.map=Ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var ze=this.map.painter.context,Be=ze.gl;for(var Ue in this.boundsBuffer||(this.boundsBuffer=ze.createVertexBuffer(this._boundsArray,Ee.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=Ee.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE),Be.texSubImage2D(Be.TEXTURE_2D,0,0,0,Be.RGBA,Be.UNSIGNED_BYTE,this.video)):(this.texture=new Ee.Texture(ze,this.video,Be.RGBA),this.texture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE)),this.tiles){var We=this.tiles[Ue];"loaded"!==We.state&&(We.state="loaded",We.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(tr),ar=function(ze){function i(Be,Ue,We,$e){ze.call(this,Be,Ue,We,$e),Ue.coordinates?Array.isArray(Ue.coordinates)&&4===Ue.coordinates.length&&!Ue.coordinates.some((function(Ee){return!Array.isArray(Ee)||2!==Ee.length||Ee.some((function(Ee){return"number"!=typeof Ee}))}))||this.fire(new Ee.ErrorEvent(new Ee.ValidationError("sources."+Be,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new Ee.ErrorEvent(new Ee.ValidationError("sources."+Be,null,'missing required property "coordinates"'))),Ue.animate&&"boolean"!=typeof Ue.animate&&this.fire(new Ee.ErrorEvent(new Ee.ValidationError("sources."+Be,null,'optional "animate" property must be a boolean value'))),Ue.canvas?"string"==typeof Ue.canvas||Ue.canvas instanceof Ee.window.HTMLCanvasElement||this.fire(new Ee.ErrorEvent(new Ee.ValidationError("sources."+Be,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new Ee.ErrorEvent(new Ee.ValidationError("sources."+Be,null,'missing required property "canvas"'))),this.options=Ue,this.animate=void 0===Ue.animate||Ue.animate}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof Ee.window.HTMLCanvasElement?this.options.canvas:Ee.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new Ee.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(Ee){this.map=Ee,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var ze=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ze=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ze=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var Be=this.map.painter.context,Ue=Be.gl;for(var We in this.boundsBuffer||(this.boundsBuffer=Be.createVertexBuffer(this._boundsArray,Ee.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=Ee.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ze||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ee.Texture(Be,this.canvas,Ue.RGBA,{premultiply:!0}),this.tiles){var $e=this.tiles[We];"loaded"!==$e.state&&($e.state="loaded",$e.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var Ee=0,ze=[this.canvas.width,this.canvas.height];Ee<ze.length;Ee+=1){var Be=ze[Ee];if(isNaN(Be)||Be<=0)return!0}return!1},i}(tr),Lr={vector:kt,raster:Lt,"raster-dem":Ut,geojson:er,video:rr,image:tr,canvas:ar};function B(ze,Be){var Ue=Ee.identity([]);return Ee.translate(Ue,Ue,[1,1,0]),Ee.scale(Ue,Ue,[.5*ze.width,.5*ze.height,1]),Ee.multiply(Ue,Ue,ze.calculatePosMatrix(Be.toUnwrapped()))}function O(Ee,ze,Be,Ue,We){var $e=function(Ee,ze,Be){if(Ee)for(var Ue=0,We=Ee;Ue<We.length;Ue+=1){var $e=ze[We[Ue]];if($e&&$e.source===Be&&"fill-extrusion"===$e.type)return!0}else for(var Qe in ze){var et=ze[Qe];if(et.source===Be&&"fill-extrusion"===et.type)return!0}return!1}(Ue&&Ue.layers,ze,Ee.id),Qe=We.maxPitchScaleFactor(),et=Ee.tilesIn(Be,Qe,$e);et.sort(F);for(var tt=[],rt=0,nt=et;rt<nt.length;rt+=1){var at=nt[rt];tt.push({wrappedTileID:at.tileID.wrapped().key,queryResults:at.tile.queryRenderedFeatures(ze,Ee._state,at.queryGeometry,at.cameraQueryGeometry,at.scale,Ue,We,Qe,B(Ee.transform,at.tileID))})}var it=function(Ee){for(var ze={},Be={},Ue=0,We=Ee;Ue<We.length;Ue+=1){var $e=We[Ue],Qe=$e.queryResults,et=$e.wrappedTileID,tt=Be[et]=Be[et]||{};for(var rt in Qe)for(var nt=Qe[rt],at=tt[rt]=tt[rt]||{},it=ze[rt]=ze[rt]||[],ct=0,ft=nt;ct<ft.length;ct+=1){var xt=ft[ct];at[xt.featureIndex]||(at[xt.featureIndex]=!0,it.push(xt))}}return ze}(tt);for(var ct in it)it[ct].forEach((function(ze){var Be=ze.feature,Ue=Ee.getFeatureState(Be.layer["source-layer"],Be.id);Be.source=Be.layer.source,Be.layer["source-layer"]&&(Be.sourceLayer=Be.layer["source-layer"]),Be.state=Ue}));return it}function F(Ee,ze){var Be=Ee.tileID,Ue=ze.tileID;return Be.overscaledZ-Ue.overscaledZ||Be.canonical.y-Ue.canonical.y||Be.wrap-Ue.wrap||Be.canonical.x-Ue.canonical.x}var U=function(Ee,ze){this.max=Ee,this.onRemove=ze,this.reset()};U.prototype.reset=function(){for(var Ee in this.data)for(var ze=0,Be=this.data[Ee];ze<Be.length;ze+=1){var Ue=Be[ze];Ue.timeout&&clearTimeout(Ue.timeout),this.onRemove(Ue.value)}return this.data={},this.order=[],this},U.prototype.add=function(Ee,ze,Be){var Ue=this,We=Ee.wrapped().key;void 0===this.data[We]&&(this.data[We]=[]);var $e={value:ze,timeout:void 0};if(void 0!==Be&&($e.timeout=setTimeout((function(){Ue.remove(Ee,$e)}),Be)),this.data[We].push($e),this.order.push(We),this.order.length>this.max){var Qe=this._getAndRemoveByKey(this.order[0]);Qe&&this.onRemove(Qe)}return this},U.prototype.has=function(Ee){return Ee.wrapped().key in this.data},U.prototype.getAndRemove=function(Ee){return this.has(Ee)?this._getAndRemoveByKey(Ee.wrapped().key):null},U.prototype._getAndRemoveByKey=function(Ee){var ze=this.data[Ee].shift();return ze.timeout&&clearTimeout(ze.timeout),0===this.data[Ee].length&&delete this.data[Ee],this.order.splice(this.order.indexOf(Ee),1),ze.value},U.prototype.get=function(Ee){return this.has(Ee)?this.data[Ee.wrapped().key][0].value:null},U.prototype.remove=function(Ee,ze){if(!this.has(Ee))return this;var Be=Ee.wrapped().key,Ue=void 0===ze?0:this.data[Be].indexOf(ze),We=this.data[Be][Ue];return this.data[Be].splice(Ue,1),We.timeout&&clearTimeout(We.timeout),0===this.data[Be].length&&delete this.data[Be],this.onRemove(We.value),this.order.splice(this.order.indexOf(Be),1),this},U.prototype.setMaxSize=function(Ee){for(this.max=Ee;this.order.length>this.max;){var ze=this._getAndRemoveByKey(this.order[0]);ze&&this.onRemove(ze)}return this};var N=function(Ee,ze,Be){this.context=Ee;var Ue=Ee.gl;this.buffer=Ue.createBuffer(),this.dynamicDraw=Boolean(Be),this.context.unbindVAO(),Ee.bindElementBuffer.set(this.buffer),Ue.bufferData(Ue.ELEMENT_ARRAY_BUFFER,ze.arrayBuffer,this.dynamicDraw?Ue.DYNAMIC_DRAW:Ue.STATIC_DRAW),this.dynamicDraw||delete ze.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(Ee){var ze=this.context.gl;this.context.unbindVAO(),this.bind(),ze.bufferSubData(ze.ELEMENT_ARRAY_BUFFER,0,Ee.arrayBuffer)},N.prototype.destroy=function(){var Ee=this.context.gl;this.buffer&&(Ee.deleteBuffer(this.buffer),delete this.buffer)};var Qr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},q=function(Ee,ze,Be,Ue){this.length=ze.length,this.attributes=Be,this.itemSize=ze.bytesPerElement,this.dynamicDraw=Ue,this.context=Ee;var We=Ee.gl;this.buffer=We.createBuffer(),Ee.bindVertexBuffer.set(this.buffer),We.bufferData(We.ARRAY_BUFFER,ze.arrayBuffer,this.dynamicDraw?We.DYNAMIC_DRAW:We.STATIC_DRAW),this.dynamicDraw||delete ze.arrayBuffer};q.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},q.prototype.updateData=function(Ee){var ze=this.context.gl;this.bind(),ze.bufferSubData(ze.ARRAY_BUFFER,0,Ee.arrayBuffer)},q.prototype.enableAttributes=function(Ee,ze){for(var Be=0;Be<this.attributes.length;Be++){var Ue=this.attributes[Be],We=ze.attributes[Ue.name];void 0!==We&&Ee.enableVertexAttribArray(We)}},q.prototype.setVertexAttribPointers=function(Ee,ze,Be){for(var Ue=0;Ue<this.attributes.length;Ue++){var We=this.attributes[Ue],$e=ze.attributes[We.name];void 0!==$e&&Ee.vertexAttribPointer($e,We.components,Ee[Qr[We.type]],!1,this.itemSize,We.offset+this.itemSize*(Be||0))}},q.prototype.destroy=function(){var Ee=this.context.gl;this.buffer&&(Ee.deleteBuffer(this.buffer),delete this.buffer)};var j=function(Ee){this.gl=Ee.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};j.prototype.get=function(){return this.current},j.prototype.set=function(Ee){},j.prototype.getDefault=function(){return this.default},j.prototype.setDefault=function(){this.set(this.default)};var on=function(ze){function i(){ze.apply(this,arguments)}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return Ee.Color.transparent},i.prototype.set=function(Ee){var ze=this.current;(Ee.r!==ze.r||Ee.g!==ze.g||Ee.b!==ze.b||Ee.a!==ze.a||this.dirty)&&(this.gl.clearColor(Ee.r,Ee.g,Ee.b,Ee.a),this.current=Ee,this.dirty=!1)},i}(j),sn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.clearDepth(Ee),this.current=Ee,this.dirty=!1)},e}(j),ln=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.clearStencil(Ee),this.current=Ee,this.dirty=!1)},e}(j),cn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(Ee){var ze=this.current;(Ee[0]!==ze[0]||Ee[1]!==ze[1]||Ee[2]!==ze[2]||Ee[3]!==ze[3]||this.dirty)&&(this.gl.colorMask(Ee[0],Ee[1],Ee[2],Ee[3]),this.current=Ee,this.dirty=!1)},e}(j),un=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.depthMask(Ee),this.current=Ee,this.dirty=!1)},e}(j),hn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.stencilMask(Ee),this.current=Ee,this.dirty=!1)},e}(j),dn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(Ee){var ze=this.current;(Ee.func!==ze.func||Ee.ref!==ze.ref||Ee.mask!==ze.mask||this.dirty)&&(this.gl.stencilFunc(Ee.func,Ee.ref,Ee.mask),this.current=Ee,this.dirty=!1)},e}(j),vn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var Ee=this.gl;return[Ee.KEEP,Ee.KEEP,Ee.KEEP]},e.prototype.set=function(Ee){var ze=this.current;(Ee[0]!==ze[0]||Ee[1]!==ze[1]||Ee[2]!==ze[2]||this.dirty)&&(this.gl.stencilOp(Ee[0],Ee[1],Ee[2]),this.current=Ee,this.dirty=!1)},e}(j),yn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;Ee?ze.enable(ze.STENCIL_TEST):ze.disable(ze.STENCIL_TEST),this.current=Ee,this.dirty=!1}},e}(j),_n=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(Ee){var ze=this.current;(Ee[0]!==ze[0]||Ee[1]!==ze[1]||this.dirty)&&(this.gl.depthRange(Ee[0],Ee[1]),this.current=Ee,this.dirty=!1)},e}(j),Mn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;Ee?ze.enable(ze.DEPTH_TEST):ze.disable(ze.DEPTH_TEST),this.current=Ee,this.dirty=!1}},e}(j),Cn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.depthFunc(Ee),this.current=Ee,this.dirty=!1)},e}(j),En=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;Ee?ze.enable(ze.BLEND):ze.disable(ze.BLEND),this.current=Ee,this.dirty=!1}},e}(j),Pn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var Ee=this.gl;return[Ee.ONE,Ee.ZERO]},e.prototype.set=function(Ee){var ze=this.current;(Ee[0]!==ze[0]||Ee[1]!==ze[1]||this.dirty)&&(this.gl.blendFunc(Ee[0],Ee[1]),this.current=Ee,this.dirty=!1)},e}(j),In=function(ze){function i(){ze.apply(this,arguments)}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return Ee.Color.transparent},i.prototype.set=function(Ee){var ze=this.current;(Ee.r!==ze.r||Ee.g!==ze.g||Ee.b!==ze.b||Ee.a!==ze.a||this.dirty)&&(this.gl.blendColor(Ee.r,Ee.g,Ee.b,Ee.a),this.current=Ee,this.dirty=!1)},i}(j),Bn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.blendEquation(Ee),this.current=Ee,this.dirty=!1)},e}(j),Hn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;Ee?ze.enable(ze.CULL_FACE):ze.disable(ze.CULL_FACE),this.current=Ee,this.dirty=!1}},e}(j),Kn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.cullFace(Ee),this.current=Ee,this.dirty=!1)},e}(j),Jn=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.frontFace(Ee),this.current=Ee,this.dirty=!1)},e}(j),Ma=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.useProgram(Ee),this.current=Ee,this.dirty=!1)},e}(j),Sa=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(Ee){(Ee!==this.current||this.dirty)&&(this.gl.activeTexture(Ee),this.current=Ee,this.dirty=!1)},e}(j),La=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var Ee=this.gl;return[0,0,Ee.drawingBufferWidth,Ee.drawingBufferHeight]},e.prototype.set=function(Ee){var ze=this.current;(Ee[0]!==ze[0]||Ee[1]!==ze[1]||Ee[2]!==ze[2]||Ee[3]!==ze[3]||this.dirty)&&(this.gl.viewport(Ee[0],Ee[1],Ee[2],Ee[3]),this.current=Ee,this.dirty=!1)},e}(j),Ia=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.bindFramebuffer(ze.FRAMEBUFFER,Ee),this.current=Ee,this.dirty=!1}},e}(j),Ra=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.bindRenderbuffer(ze.RENDERBUFFER,Ee),this.current=Ee,this.dirty=!1}},e}(j),Na=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.bindTexture(ze.TEXTURE_2D,Ee),this.current=Ee,this.dirty=!1}},e}(j),Ua=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.bindBuffer(ze.ARRAY_BUFFER,Ee),this.current=Ee,this.dirty=!1}},e}(j),qa=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){var ze=this.gl;ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,Ee),this.current=Ee,this.dirty=!1},e}(j),Ka=function(Ee){function e(ze){Ee.call(this,ze),this.vao=ze.extVertexArrayObject}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ee){this.vao&&(Ee!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(Ee),this.current=Ee,this.dirty=!1)},e}(j),ei=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.pixelStorei(ze.UNPACK_ALIGNMENT,Ee),this.current=Ee,this.dirty=!1}},e}(j),ti=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee),this.current=Ee,this.dirty=!1}},e}(j),ri=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){var ze=this.gl;ze.pixelStorei(ze.UNPACK_FLIP_Y_WEBGL,Ee),this.current=Ee,this.dirty=!1}},e}(j),ni=function(Ee){function e(ze,Be){Ee.call(this,ze),this.context=ze,this.parent=Be}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e}(j),ai=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ze=this.gl;ze.framebufferTexture2D(ze.FRAMEBUFFER,ze.COLOR_ATTACHMENT0,ze.TEXTURE_2D,Ee,0),this.current=Ee,this.dirty=!1}},e}(ni),ii=function(Ee){function e(){Ee.apply(this,arguments)}return Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e,e.prototype.set=function(Ee){if(Ee!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ze=this.gl;ze.framebufferRenderbuffer(ze.FRAMEBUFFER,ze.DEPTH_ATTACHMENT,ze.RENDERBUFFER,Ee),this.current=Ee,this.dirty=!1}},e}(ni),Tt=function(Ee,ze,Be){this.context=Ee,this.width=ze,this.height=Be;var Ue=Ee.gl,We=this.framebuffer=Ue.createFramebuffer();this.colorAttachment=new ai(Ee,We),this.depthAttachment=new ii(Ee,We)};Tt.prototype.destroy=function(){var Ee=this.context.gl,ze=this.colorAttachment.get();ze&&Ee.deleteTexture(ze);var Be=this.depthAttachment.get();Be&&Ee.deleteRenderbuffer(Be),Ee.deleteFramebuffer(this.framebuffer)};var It=function(Ee,ze,Be){this.func=Ee,this.mask=ze,this.range=Be};It.ReadOnly=!1,It.ReadWrite=!0,It.disabled=new It(519,It.ReadOnly,[0,1]);var St=function(Ee,ze,Be,Ue,We,$e){this.test=Ee,this.ref=ze,this.mask=Be,this.fail=Ue,this.depthFail=We,this.pass=$e};St.disabled=new St({func:519,mask:0},0,0,7680,7680,7680);var Ct=function(Ee,ze,Be){this.blendFunction=Ee,this.blendColor=ze,this.mask=Be};Ct.disabled=new Ct(Ct.Replace=[1,0],Ee.Color.transparent,[!1,!1,!1,!1]),Ct.unblended=new Ct(Ct.Replace,Ee.Color.transparent,[!0,!0,!0,!0]),Ct.alphaBlended=new Ct([1,771],Ee.Color.transparent,[!0,!0,!0,!0]);var Pt=function(Ee,ze,Be){this.enable=Ee,this.mode=ze,this.frontFace=Be};Pt.disabled=new Pt(!1,1029,2305),Pt.backCCW=new Pt(!0,1029,2305);var zt=function(Ee){this.gl=Ee,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new on(this),this.clearDepth=new sn(this),this.clearStencil=new ln(this),this.colorMask=new cn(this),this.depthMask=new un(this),this.stencilMask=new hn(this),this.stencilFunc=new dn(this),this.stencilOp=new vn(this),this.stencilTest=new yn(this),this.depthRange=new _n(this),this.depthTest=new Mn(this),this.depthFunc=new Cn(this),this.blend=new En(this),this.blendFunc=new Pn(this),this.blendColor=new In(this),this.blendEquation=new Bn(this),this.cullFace=new Hn(this),this.cullFaceSide=new Kn(this),this.frontFace=new Jn(this),this.program=new Ma(this),this.activeTexture=new Sa(this),this.viewport=new La(this),this.bindFramebuffer=new Ia(this),this.bindRenderbuffer=new Ra(this),this.bindTexture=new Na(this),this.bindVertexBuffer=new Ua(this),this.bindElementBuffer=new qa(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ka(this),this.pixelStoreUnpack=new ei(this),this.pixelStoreUnpackPremultiplyAlpha=new ti(this),this.pixelStoreUnpackFlipY=new ri(this),this.extTextureFilterAnisotropic=Ee.getExtension("EXT_texture_filter_anisotropic")||Ee.getExtension("MOZ_EXT_texture_filter_anisotropic")||Ee.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Ee.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Ee.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&Ee.getExtension("OES_texture_half_float_linear")};zt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},zt.prototype.createIndexBuffer=function(Ee,ze){return new N(this,Ee,ze)},zt.prototype.createVertexBuffer=function(Ee,ze,Be){return new q(this,Ee,ze,Be)},zt.prototype.createRenderbuffer=function(Ee,ze,Be){var Ue=this.gl,We=Ue.createRenderbuffer();return this.bindRenderbuffer.set(We),Ue.renderbufferStorage(Ue.RENDERBUFFER,Ee,ze,Be),this.bindRenderbuffer.set(null),We},zt.prototype.createFramebuffer=function(Ee,ze){return new Tt(this,Ee,ze)},zt.prototype.clear=function(Ee){var ze=Ee.color,Be=Ee.depth,Ue=this.gl,We=0;ze&&(We|=Ue.COLOR_BUFFER_BIT,this.clearColor.set(ze),this.colorMask.set([!0,!0,!0,!0])),void 0!==Be&&(We|=Ue.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(Be),this.depthMask.set(!0)),Ue.clear(We)},zt.prototype.setCullFace=function(Ee){!1===Ee.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Ee.mode),this.frontFace.set(Ee.frontFace))},zt.prototype.setDepthMode=function(Ee){Ee.func!==this.gl.ALWAYS||Ee.mask?(this.depthTest.set(!0),this.depthFunc.set(Ee.func),this.depthMask.set(Ee.mask),this.depthRange.set(Ee.range)):this.depthTest.set(!1)},zt.prototype.setStencilMode=function(Ee){Ee.test.func!==this.gl.ALWAYS||Ee.mask?(this.stencilTest.set(!0),this.stencilMask.set(Ee.mask),this.stencilOp.set([Ee.fail,Ee.depthFail,Ee.pass]),this.stencilFunc.set({func:Ee.test.func,ref:Ee.ref,mask:Ee.test.mask})):this.stencilTest.set(!1)},zt.prototype.setColorMode=function(ze){Ee.deepEqual(ze.blendFunction,Ct.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(ze.blendFunction),this.blendColor.set(ze.blendColor)),this.colorMask.set(ze.mask)},zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var oi=function(ze){function i(Be,Ue,We){var $e=this;ze.call(this),this.id=Be,this.dispatcher=We,this.on("data",(function(Ee){"source"===Ee.dataType&&"metadata"===Ee.sourceDataType&&($e._sourceLoaded=!0),$e._sourceLoaded&&!$e._paused&&"source"===Ee.dataType&&"content"===Ee.sourceDataType&&($e.reload(),$e.transform&&$e.update($e.transform))})),this.on("error",(function(){$e._sourceErrored=!0})),this._source=function(ze,Be,Ue,We){var $e=new Lr[Be.type](ze,Be,Ue,We);if($e.id!==ze)throw new Error("Expected Source id to be "+ze+" instead of "+$e.id);return Ee.bindAll(["load","abort","unload","serialize","prepare"],$e),$e}(Be,Ue,We,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new Ee.SourceFeatureState}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(Ee){this.map=Ee,this._maxTileCacheSize=Ee?Ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(Ee)},i.prototype.onRemove=function(Ee){this._source&&this._source.onRemove&&this._source.onRemove(Ee)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var Ee in this._tiles){var ze=this._tiles[Ee];if("loaded"!==ze.state&&"errored"!==ze.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var Ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,Ee&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(Ee,ze){return this._source.loadTile(Ee,ze)},i.prototype._unloadTile=function(Ee){if(this._source.unloadTile)return this._source.unloadTile(Ee,(function(){}))},i.prototype._abortTile=function(Ee){if(this._source.abortTile)return this._source.abortTile(Ee,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(Ee){for(var ze in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Be=this._tiles[ze];Be.upload(Ee),Be.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Mt)},i.prototype.getRenderableIds=function(ze){var Be=this,Ue=[];for(var We in this._tiles)this._isIdRenderable(+We,ze)&&Ue.push(+We);return ze?Ue.sort((function(ze,Ue){var We=Be._tiles[ze].tileID,$e=Be._tiles[Ue].tileID,Qe=new Ee.Point(We.canonical.x,We.canonical.y)._rotate(Be.transform.angle),et=new Ee.Point($e.canonical.x,$e.canonical.y)._rotate(Be.transform.angle);return We.overscaledZ-$e.overscaledZ||et.y-Qe.y||et.x-Qe.x})):Ue.sort(Mt)},i.prototype.hasRenderableParent=function(Ee){var ze=this.findLoadedParent(Ee,0);return!!ze&&this._isIdRenderable(ze.tileID.key)},i.prototype._isIdRenderable=function(Ee,ze){return this._tiles[Ee]&&this._tiles[Ee].hasData()&&!this._coveredTiles[Ee]&&(ze||!this._tiles[Ee].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var Ee in this._cache.reset(),this._tiles)"errored"!==this._tiles[Ee].state&&this._reloadTile(Ee,"reloading")},i.prototype._reloadTile=function(Ee,ze){var Be=this._tiles[Ee];Be&&("loading"!==Be.state&&(Be.state=ze),this._loadTile(Be,this._tileLoaded.bind(this,Be,Ee,ze)))},i.prototype._tileLoaded=function(ze,Be,Ue,We){if(We)return ze.state="errored",void(404!==We.status?this._source.fire(new Ee.ErrorEvent(We,{tile:ze})):this.update(this.transform));ze.timeAdded=Ee.browser.now(),"expired"===Ue&&(ze.refreshedUponExpiration=!0),this._setTileReloadTimer(Be,ze),"raster-dem"===this.getSource().type&&ze.dem&&this._backfillDEM(ze),this._state.initializeTileState(ze,this.map?this.map.painter:null),this._source.fire(new Ee.Event("data",{dataType:"source",tile:ze,coord:ze.tileID}))},i.prototype._backfillDEM=function(Ee){for(var ze=this.getRenderableIds(),Be=0;Be<ze.length;Be++){var Ue=ze[Be];if(Ee.neighboringTiles&&Ee.neighboringTiles[Ue]){var We=this.getTileByID(Ue);a(Ee,We),a(We,Ee)}}function a(Ee,ze){Ee.needsHillshadePrepare=!0;var Be=ze.tileID.canonical.x-Ee.tileID.canonical.x,Ue=ze.tileID.canonical.y-Ee.tileID.canonical.y,We=Math.pow(2,Ee.tileID.canonical.z),$e=ze.tileID.key;0===Be&&0===Ue||Math.abs(Ue)>1||(Math.abs(Be)>1&&(1===Math.abs(Be+We)?Be+=We:1===Math.abs(Be-We)&&(Be-=We)),ze.dem&&Ee.dem&&(Ee.dem.backfillBorder(ze.dem,Be,Ue),Ee.neighboringTiles&&Ee.neighboringTiles[$e]&&(Ee.neighboringTiles[$e].backfilled=!0)))}},i.prototype.getTile=function(Ee){return this.getTileByID(Ee.key)},i.prototype.getTileByID=function(Ee){return this._tiles[Ee]},i.prototype.getZoom=function(Ee){return Ee.zoom+Ee.scaleZoom(Ee.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(Ee,ze,Be,Ue){for(var We in this._tiles){var $e=this._tiles[We];if(!(Ue[We]||!$e.hasData()||$e.tileID.overscaledZ<=ze||$e.tileID.overscaledZ>Be)){for(var Qe=$e.tileID;$e&&$e.tileID.overscaledZ>ze+1;){var et=$e.tileID.scaledTo($e.tileID.overscaledZ-1);($e=this._tiles[et.key])&&$e.hasData()&&(Qe=et)}for(var tt=Qe;tt.overscaledZ>ze;)if(Ee[(tt=tt.scaledTo(tt.overscaledZ-1)).key]){Ue[Qe.key]=Qe;break}}}},i.prototype.findLoadedParent=function(Ee,ze){for(var Be=Ee.overscaledZ-1;Be>=ze;Be--){var Ue=Ee.scaledTo(Be);if(!Ue)return;var We=String(Ue.key),$e=this._tiles[We];if($e&&$e.hasData())return $e;if(this._cache.has(Ue))return this._cache.get(Ue)}},i.prototype.updateCacheSize=function(Ee){var ze=(Math.ceil(Ee.width/this._source.tileSize)+1)*(Math.ceil(Ee.height/this._source.tileSize)+1),Be=Math.floor(5*ze),Ue="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,Be):Be;this._cache.setMaxSize(Ue)},i.prototype.handleWrapJump=function(Ee){var ze=(Ee-(void 0===this._prevLng?Ee:this._prevLng))/360,Be=Math.round(ze);if(this._prevLng=Ee,Be){var Ue={};for(var We in this._tiles){var $e=this._tiles[We];$e.tileID=$e.tileID.unwrapTo($e.tileID.wrap+Be),Ue[$e.tileID.key]=$e}for(var Qe in this._tiles=Ue,this._timers)clearTimeout(this._timers[Qe]),delete this._timers[Qe];for(var et in this._tiles){var tt=this._tiles[et];this._setTileReloadTimer(et,tt)}}},i.prototype.update=function(ze){var Be=this;if(this.transform=ze,this._sourceLoaded&&!this._paused){var Ue;this.updateCacheSize(ze),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Ue=ze.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(ze){return new Ee.OverscaledTileID(ze.canonical.z,ze.wrap,ze.canonical.z,ze.canonical.x,ze.canonical.y)})):(Ue=ze.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ue=Ue.filter((function(Ee){return Be._source.hasTile(Ee)})))):Ue=[];var We=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(ze)),$e=Math.max(We-i.maxOverzooming,this._source.minzoom),Qe=Math.max(We+i.maxUnderzooming,this._source.minzoom),et=this._updateRetainedTiles(Ue,We);if(Dt(this._source.type)){for(var tt={},rt={},nt=0,at=Object.keys(et);nt<at.length;nt+=1){var it=at[nt],ct=et[it],ft=this._tiles[it];if(ft&&!(ft.fadeEndTime&&ft.fadeEndTime<=Ee.browser.now())){var xt=this.findLoadedParent(ct,$e);xt&&(this._addTile(xt.tileID),tt[xt.tileID.key]=xt.tileID),rt[it]=ct}}for(var kt in this._retainLoadedChildren(rt,We,Qe,et),tt)et[kt]||(this._coveredTiles[kt]=!0,et[kt]=tt[kt])}for(var Lt in et)this._tiles[Lt].clearFadeHold();for(var Ut=0,er=Ee.keysDifference(this._tiles,et);Ut<er.length;Ut+=1){var tr=er[Ut],rr=this._tiles[tr];rr.hasSymbolBuckets&&!rr.holdingForFade()?rr.setHoldDuration(this.map._fadeDuration):rr.hasSymbolBuckets&&!rr.symbolFadeFinished()||this._removeTile(tr)}}},i.prototype.releaseSymbolFadeTiles=function(){for(var Ee in this._tiles)this._tiles[Ee].holdingForFade()&&this._removeTile(Ee)},i.prototype._updateRetainedTiles=function(Ee,ze){for(var Be={},Ue={},We=Math.max(ze-i.maxOverzooming,this._source.minzoom),$e=Math.max(ze+i.maxUnderzooming,this._source.minzoom),Qe={},et=0,tt=Ee;et<tt.length;et+=1){var rt=tt[et],nt=this._addTile(rt);Be[rt.key]=rt,nt.hasData()||ze<this._source.maxzoom&&(Qe[rt.key]=rt)}this._retainLoadedChildren(Qe,ze,$e,Be);for(var at=0,it=Ee;at<it.length;at+=1){var ct=it[at],ft=this._tiles[ct.key];if(!ft.hasData()){if(ze+1>this._source.maxzoom){var xt=ct.children(this._source.maxzoom)[0],kt=this.getTile(xt);if(kt&&kt.hasData()){Be[xt.key]=xt;continue}}else{var Lt=ct.children(this._source.maxzoom);if(Be[Lt[0].key]&&Be[Lt[1].key]&&Be[Lt[2].key]&&Be[Lt[3].key])continue}for(var Ut=ft.wasRequested(),er=ct.overscaledZ-1;er>=We;--er){var tr=ct.scaledTo(er);if(Ue[tr.key])break;if(Ue[tr.key]=!0,!(ft=this.getTile(tr))&&Ut&&(ft=this._addTile(tr)),ft&&(Be[tr.key]=tr,Ut=ft.wasRequested(),ft.hasData()))break}}}return Be},i.prototype._addTile=function(ze){var Be=this._tiles[ze.key];if(Be)return Be;(Be=this._cache.getAndRemove(ze))&&(this._setTileReloadTimer(ze.key,Be),Be.tileID=ze,this._state.initializeTileState(Be,this.map?this.map.painter:null),this._cacheTimers[ze.key]&&(clearTimeout(this._cacheTimers[ze.key]),delete this._cacheTimers[ze.key],this._setTileReloadTimer(ze.key,Be)));var Ue=Boolean(Be);return Ue||(Be=new Ee.Tile(ze,this._source.tileSize*ze.overscaleFactor()),this._loadTile(Be,this._tileLoaded.bind(this,Be,ze.key,Be.state))),Be?(Be.uses++,this._tiles[ze.key]=Be,Ue||this._source.fire(new Ee.Event("dataloading",{tile:Be,coord:Be.tileID,dataType:"source"})),Be):null},i.prototype._setTileReloadTimer=function(Ee,ze){var Be=this;Ee in this._timers&&(clearTimeout(this._timers[Ee]),delete this._timers[Ee]);var Ue=ze.getExpiryTimeout();Ue&&(this._timers[Ee]=setTimeout((function(){Be._reloadTile(Ee,"expired"),delete Be._timers[Ee]}),Ue))},i.prototype._removeTile=function(Ee){var ze=this._tiles[Ee];ze&&(ze.uses--,delete this._tiles[Ee],this._timers[Ee]&&(clearTimeout(this._timers[Ee]),delete this._timers[Ee]),ze.uses>0||(ze.hasData()&&"reloading"!==ze.state?this._cache.add(ze.tileID,ze,ze.getExpiryTimeout()):(ze.aborted=!0,this._abortTile(ze),this._unloadTile(ze))))},i.prototype.clearTiles=function(){for(var Ee in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(Ee);this._cache.reset()},i.prototype.tilesIn=function(ze,Be,Ue){var We=this,$e=[],Qe=this.transform;if(!Qe)return $e;for(var et=Ue?Qe.getCameraQueryGeometry(ze):ze,tt=ze.map((function(Ee){return Qe.pointCoordinate(Ee)})),rt=et.map((function(Ee){return Qe.pointCoordinate(Ee)})),nt=this.getIds(),at=1/0,it=1/0,ct=-1/0,ft=-1/0,xt=0,kt=rt;xt<kt.length;xt+=1){var Lt=kt[xt];at=Math.min(at,Lt.x),it=Math.min(it,Lt.y),ct=Math.max(ct,Lt.x),ft=Math.max(ft,Lt.y)}for(var v=function(ze){var Ue=We._tiles[nt[ze]];if(!Ue.holdingForFade()){var et=Ue.tileID,xt=Math.pow(2,Qe.zoom-Ue.tileID.overscaledZ),kt=Be*Ue.queryPadding*Ee.EXTENT/Ue.tileSize/xt,Lt=[et.getTilePoint(new Ee.MercatorCoordinate(at,it)),et.getTilePoint(new Ee.MercatorCoordinate(ct,ft))];if(Lt[0].x-kt<Ee.EXTENT&&Lt[0].y-kt<Ee.EXTENT&&Lt[1].x+kt>=0&&Lt[1].y+kt>=0){var Ut=tt.map((function(Ee){return et.getTilePoint(Ee)})),er=rt.map((function(Ee){return et.getTilePoint(Ee)}));$e.push({tile:Ue,tileID:et,queryGeometry:Ut,cameraQueryGeometry:er,scale:xt})}}},Ut=0;Ut<nt.length;Ut++)v(Ut);return $e},i.prototype.getVisibleCoordinates=function(Ee){for(var ze=this,Be=this.getRenderableIds(Ee).map((function(Ee){return ze._tiles[Ee].tileID})),Ue=0,We=Be;Ue<We.length;Ue+=1){var $e=We[Ue];$e.posMatrix=this.transform.calculatePosMatrix($e.toUnwrapped())}return Be},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Dt(this._source.type))for(var ze in this._tiles){var Be=this._tiles[ze];if(void 0!==Be.fadeEndTime&&Be.fadeEndTime>=Ee.browser.now())return!0}return!1},i.prototype.setFeatureState=function(Ee,ze,Be){Ee=Ee||"_geojsonTileLayer",this._state.updateState(Ee,ze,Be)},i.prototype.removeFeatureState=function(Ee,ze,Be){Ee=Ee||"_geojsonTileLayer",this._state.removeFeatureState(Ee,ze,Be)},i.prototype.getFeatureState=function(Ee,ze){return Ee=Ee||"_geojsonTileLayer",this._state.getState(Ee,ze)},i}(Ee.Evented);function Mt(Ee,ze){return Ee%32-ze%32||ze-Ee}function Dt(Ee){return"raster"===Ee||"image"===Ee||"video"===Ee}function Rt(){return new Ee.window.Worker(Dl.workerUrl)}oi.maxOverzooming=10,oi.maxUnderzooming=3;var At=function(){this.active={}};At.prototype.acquire=function(Ee){if(!this.workers)for(this.workers=[];this.workers.length<At.workerCount;)this.workers.push(new Rt);return this.active[Ee]=!0,this.workers.slice()},At.prototype.release=function(Ee){delete this.active[Ee],0===Object.keys(this.active).length&&(this.workers.forEach((function(Ee){Ee.terminate()})),this.workers=null)};var si,li=Math.floor(Ee.browser.hardwareConcurrency/2);function Ot(ze,Be){var Ue={};for(var We in ze)"ref"!==We&&(Ue[We]=ze[We]);return Ee.refProperties.forEach((function(Ee){Ee in Be&&(Ue[Ee]=Be[Ee])})),Ue}function Ft(Ee){Ee=Ee.slice();for(var ze=Object.create(null),Be=0;Be<Ee.length;Be++)ze[Ee[Be].id]=Ee[Be];for(var Ue=0;Ue<Ee.length;Ue++)"ref"in Ee[Ue]&&(Ee[Ue]=Ot(Ee[Ue],ze[Ee[Ue].ref]));return Ee}At.workerCount=Math.max(Math.min(li,6),1);var ci={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Nt(Ee,ze,Be){Be.push({command:ci.addSource,args:[Ee,ze[Ee]]})}function Zt(Ee,ze,Be){ze.push({command:ci.removeSource,args:[Ee]}),Be[Ee]=!0}function qt(Ee,ze,Be,Ue){Zt(Ee,Be,Ue),Nt(Ee,ze,Be)}function jt(ze,Be,Ue){var We;for(We in ze[Ue])if(ze[Ue].hasOwnProperty(We)&&"data"!==We&&!Ee.deepEqual(ze[Ue][We],Be[Ue][We]))return!1;for(We in Be[Ue])if(Be[Ue].hasOwnProperty(We)&&"data"!==We&&!Ee.deepEqual(ze[Ue][We],Be[Ue][We]))return!1;return!0}function Vt(ze,Be,Ue,We,$e,Qe){var et;for(et in Be=Be||{},ze=ze||{})ze.hasOwnProperty(et)&&(Ee.deepEqual(ze[et],Be[et])||Ue.push({command:Qe,args:[We,et,Be[et],$e]}));for(et in Be)Be.hasOwnProperty(et)&&!ze.hasOwnProperty(et)&&(Ee.deepEqual(ze[et],Be[et])||Ue.push({command:Qe,args:[We,et,Be[et],$e]}))}function Gt(Ee){return Ee.id}function Wt(Ee,ze){return Ee[ze.id]=ze,Ee}var Ht=function(Ee,ze,Be){var Ue=this.boxCells=[],We=this.circleCells=[];this.xCellCount=Math.ceil(Ee/Be),this.yCellCount=Math.ceil(ze/Be);for(var $e=0;$e<this.xCellCount*this.yCellCount;$e++)Ue.push([]),We.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Ee,this.height=ze,this.xScale=this.xCellCount/Ee,this.yScale=this.yCellCount/ze,this.boxUid=0,this.circleUid=0};function Kt(ze,Be,Ue,We,$e){var Qe=Ee.create();return Be?(Ee.scale(Qe,Qe,[1/$e,1/$e,1]),Ue||Ee.rotateZ(Qe,Qe,We.angle)):Ee.multiply(Qe,We.labelPlaneMatrix,ze),Qe}function Jt(ze,Be,Ue,We,$e){if(Be){var Qe=Ee.clone(ze);return Ee.scale(Qe,Qe,[$e,$e,1]),Ue||Ee.rotateZ(Qe,Qe,-We.angle),Qe}return We.glCoordMatrix}function Yt(ze,Be){var Ue=[ze.x,ze.y,0,1];se(Ue,Ue,Be);var We=Ue[3];return{point:new Ee.Point(Ue[0]/We,Ue[1]/We),signedDistanceFromCamera:We}}function Qt(Ee,ze){var Be=Ee[0]/Ee[3],Ue=Ee[1]/Ee[3];return Be>=-ze[0]&&Be<=ze[0]&&Ue>=-ze[1]&&Ue<=ze[1]}function $t(ze,Be,Ue,We,$e,Qe,et,tt){var rt=We?ze.textSizeData:ze.iconSizeData,nt=Ee.evaluateSizeForZoom(rt,Ue.transform.zoom),at=[256/Ue.width*2+1,256/Ue.height*2+1],it=We?ze.text.dynamicLayoutVertexArray:ze.icon.dynamicLayoutVertexArray;it.clear();for(var ct=ze.lineVertexArray,ft=We?ze.text.placedSymbolArray:ze.icon.placedSymbolArray,xt=Ue.transform.width/Ue.transform.height,kt=!1,Lt=0;Lt<ft.length;Lt++){var Ut=ft.get(Lt);if(Ut.hidden||Ut.writingMode===Ee.WritingMode.vertical&&!kt)ne(Ut.numGlyphs,it);else{kt=!1;var er=[Ut.anchorX,Ut.anchorY,0,1];if(Ee.transformMat4(er,er,Be),Qt(er,at)){var tr=.5+er[3]/Ue.transform.cameraToCenterDistance*.5,rr=Ee.evaluateSizeForFeature(rt,nt,Ut),ar=et?rr*tr:rr/tr,Lr=new Ee.Point(Ut.anchorX,Ut.anchorY),Qr=Yt(Lr,$e).point,on={},sn=ie(Ut,ar,!1,tt,Be,$e,Qe,ze.glyphOffsetArray,ct,it,Qr,Lr,on,xt);kt=sn.useVertical,(sn.notEnoughRoom||kt||sn.needsFlipping&&ie(Ut,ar,!0,tt,Be,$e,Qe,ze.glyphOffsetArray,ct,it,Qr,Lr,on,xt).notEnoughRoom)&&ne(Ut.numGlyphs,it)}else ne(Ut.numGlyphs,it)}}We?ze.text.dynamicLayoutVertexBuffer.updateData(it):ze.icon.dynamicLayoutVertexBuffer.updateData(it)}function te(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at){var it=et.glyphStartIndex+et.numGlyphs,ct=et.lineStartIndex,ft=et.lineStartIndex+et.lineLength,xt=ze.getoffsetX(et.glyphStartIndex),kt=ze.getoffsetX(it-1),Lt=re(Ee*xt,Be,Ue,We,$e,Qe,et.segment,ct,ft,tt,rt,nt,at);if(!Lt)return null;var Ut=re(Ee*kt,Be,Ue,We,$e,Qe,et.segment,ct,ft,tt,rt,nt,at);return Ut?{first:Lt,last:Ut}:null}function ee(ze,Be,Ue,We){return ze===Ee.WritingMode.horizontal&&Math.abs(Ue.y-Be.y)>Math.abs(Ue.x-Be.x)*We?{useVertical:!0}:(ze===Ee.WritingMode.vertical?Be.y<Ue.y:Be.x>Ue.x)?{needsFlipping:!0}:null}function ie(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft){var xt,kt=Be/24,Lt=ze.lineOffsetX*kt,Ut=ze.lineOffsetY*kt;if(ze.numGlyphs>1){var er=ze.glyphStartIndex+ze.numGlyphs,tr=ze.lineStartIndex,rr=ze.lineStartIndex+ze.lineLength,ar=te(kt,tt,Lt,Ut,Ue,at,it,ze,rt,Qe,ct,!1);if(!ar)return{notEnoughRoom:!0};var Lr=Yt(ar.first.point,et).point,Qr=Yt(ar.last.point,et).point;if(We&&!Ue){var on=ee(ze.writingMode,Lr,Qr,ft);if(on)return on}xt=[ar.first];for(var sn=ze.glyphStartIndex+1;sn<er-1;sn++)xt.push(re(kt*tt.getoffsetX(sn),Lt,Ut,Ue,at,it,ze.segment,tr,rr,rt,Qe,ct,!1));xt.push(ar.last)}else{if(We&&!Ue){var ln=Yt(it,$e).point,cn=ze.lineStartIndex+ze.segment+1,un=new Ee.Point(rt.getx(cn),rt.gety(cn)),hn=Yt(un,$e),dn=hn.signedDistanceFromCamera>0?hn.point:oe(it,un,ln,1,$e),vn=ee(ze.writingMode,ln,dn,ft);if(vn)return vn}var yn=re(kt*tt.getoffsetX(ze.glyphStartIndex),Lt,Ut,Ue,at,it,ze.segment,ze.lineStartIndex,ze.lineStartIndex+ze.lineLength,rt,Qe,ct,!1);if(!yn)return{notEnoughRoom:!0};xt=[yn]}for(var _n=0,Mn=xt;_n<Mn.length;_n+=1){var Cn=Mn[_n];Ee.addDynamicAttributes(nt,Cn.point,Cn.angle)}return{}}function oe(Ee,ze,Be,Ue,We){var $e=Yt(Ee.add(Ee.sub(ze)._unit()),We).point,Qe=Be.sub($e);return Be.add(Qe._mult(Ue/Qe.mag()))}function re(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct){var ft=We?ze-Be:ze+Be,xt=ft>0?1:-1,kt=0;We&&(xt*=-1,kt=Math.PI),xt<0&&(kt+=Math.PI);for(var Lt=xt>0?tt+et:tt+et+1,Ut=Lt,er=$e,tr=$e,rr=0,ar=0,Lr=Math.abs(ft);rr+ar<=Lr;){if((Lt+=xt)<tt||Lt>=rt)return null;if(tr=er,void 0===(er=it[Lt])){var Qr=new Ee.Point(nt.getx(Lt),nt.gety(Lt)),on=Yt(Qr,at);if(on.signedDistanceFromCamera>0)er=it[Lt]=on.point;else{var sn=Lt-xt;er=oe(0===rr?Qe:new Ee.Point(nt.getx(sn),nt.gety(sn)),Qr,tr,Lr-rr+1,at)}}rr+=ar,ar=tr.dist(er)}var ln=(Lr-rr)/ar,cn=er.sub(tr),un=cn.mult(ln)._add(tr);return un._add(cn._unit()._perp()._mult(Ue*xt)),{point:un,angle:kt+Math.atan2(er.y-tr.y,er.x-tr.x),tileDistance:ct?{prevTileDistance:Lt-xt===Ut?0:nt.gettileUnitDistanceFromAnchor(Lt-xt),lastSegmentViewportDistance:Lr-rr}:null}}Ht.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ht.prototype.insert=function(Ee,ze,Be,Ue,We){this._forEachCell(ze,Be,Ue,We,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Ee),this.bboxes.push(ze),this.bboxes.push(Be),this.bboxes.push(Ue),this.bboxes.push(We)},Ht.prototype.insertCircle=function(Ee,ze,Be,Ue){this._forEachCell(ze-Ue,Be-Ue,ze+Ue,Be+Ue,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Ee),this.circles.push(ze),this.circles.push(Be),this.circles.push(Ue)},Ht.prototype._insertBoxCell=function(Ee,ze,Be,Ue,We,$e){this.boxCells[We].push($e)},Ht.prototype._insertCircleCell=function(Ee,ze,Be,Ue,We,$e){this.circleCells[We].push($e)},Ht.prototype._query=function(Ee,ze,Be,Ue,We,$e){if(Be<0||Ee>this.width||Ue<0||ze>this.height)return!We&&[];var Qe=[];if(Ee<=0&&ze<=0&&this.width<=Be&&this.height<=Ue){if(We)return!0;for(var et=0;et<this.boxKeys.length;et++)Qe.push({key:this.boxKeys[et],x1:this.bboxes[4*et],y1:this.bboxes[4*et+1],x2:this.bboxes[4*et+2],y2:this.bboxes[4*et+3]});for(var tt=0;tt<this.circleKeys.length;tt++){var rt=this.circles[3*tt],nt=this.circles[3*tt+1],at=this.circles[3*tt+2];Qe.push({key:this.circleKeys[tt],x1:rt-at,y1:nt-at,x2:rt+at,y2:nt+at})}return $e?Qe.filter($e):Qe}var it={hitTest:We,seenUids:{box:{},circle:{}}};return this._forEachCell(Ee,ze,Be,Ue,this._queryCell,Qe,it,$e),We?Qe.length>0:Qe},Ht.prototype._queryCircle=function(Ee,ze,Be,Ue,We){var $e=Ee-Be,Qe=Ee+Be,et=ze-Be,tt=ze+Be;if(Qe<0||$e>this.width||tt<0||et>this.height)return!Ue&&[];var rt=[],nt={hitTest:Ue,circle:{x:Ee,y:ze,radius:Be},seenUids:{box:{},circle:{}}};return this._forEachCell($e,et,Qe,tt,this._queryCellCircle,rt,nt,We),Ue?rt.length>0:rt},Ht.prototype.query=function(Ee,ze,Be,Ue,We){return this._query(Ee,ze,Be,Ue,!1,We)},Ht.prototype.hitTest=function(Ee,ze,Be,Ue,We){return this._query(Ee,ze,Be,Ue,!0,We)},Ht.prototype.hitTestCircle=function(Ee,ze,Be,Ue){return this._queryCircle(Ee,ze,Be,!0,Ue)},Ht.prototype._queryCell=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=Qe.seenUids,rt=this.boxCells[We];if(null!==rt)for(var nt=this.bboxes,at=0,it=rt;at<it.length;at+=1){var ct=it[at];if(!tt.box[ct]){tt.box[ct]=!0;var ft=4*ct;if(Ee<=nt[ft+2]&&ze<=nt[ft+3]&&Be>=nt[ft+0]&&Ue>=nt[ft+1]&&(!et||et(this.boxKeys[ct]))){if(Qe.hitTest)return $e.push(!0),!0;$e.push({key:this.boxKeys[ct],x1:nt[ft],y1:nt[ft+1],x2:nt[ft+2],y2:nt[ft+3]})}}}var xt=this.circleCells[We];if(null!==xt)for(var kt=this.circles,Lt=0,Ut=xt;Lt<Ut.length;Lt+=1){var er=Ut[Lt];if(!tt.circle[er]){tt.circle[er]=!0;var tr=3*er;if(this._circleAndRectCollide(kt[tr],kt[tr+1],kt[tr+2],Ee,ze,Be,Ue)&&(!et||et(this.circleKeys[er]))){if(Qe.hitTest)return $e.push(!0),!0;var rr=kt[tr],ar=kt[tr+1],Lr=kt[tr+2];$e.push({key:this.circleKeys[er],x1:rr-Lr,y1:ar-Lr,x2:rr+Lr,y2:ar+Lr})}}}},Ht.prototype._queryCellCircle=function(Ee,ze,Be,Ue,We,$e,Qe,et){var tt=Qe.circle,rt=Qe.seenUids,nt=this.boxCells[We];if(null!==nt)for(var at=this.bboxes,it=0,ct=nt;it<ct.length;it+=1){var ft=ct[it];if(!rt.box[ft]){rt.box[ft]=!0;var xt=4*ft;if(this._circleAndRectCollide(tt.x,tt.y,tt.radius,at[xt+0],at[xt+1],at[xt+2],at[xt+3])&&(!et||et(this.boxKeys[ft])))return $e.push(!0),!0}}var kt=this.circleCells[We];if(null!==kt)for(var Lt=this.circles,Ut=0,er=kt;Ut<er.length;Ut+=1){var tr=er[Ut];if(!rt.circle[tr]){rt.circle[tr]=!0;var rr=3*tr;if(this._circlesCollide(Lt[rr],Lt[rr+1],Lt[rr+2],tt.x,tt.y,tt.radius)&&(!et||et(this.circleKeys[tr])))return $e.push(!0),!0}}},Ht.prototype._forEachCell=function(Ee,ze,Be,Ue,We,$e,Qe,et){for(var tt=this._convertToXCellCoord(Ee),rt=this._convertToYCellCoord(ze),nt=this._convertToXCellCoord(Be),at=this._convertToYCellCoord(Ue),it=tt;it<=nt;it++)for(var ct=rt;ct<=at;ct++){var ft=this.xCellCount*ct+it;if(We.call(this,Ee,ze,Be,Ue,ft,$e,Qe,et))return}},Ht.prototype._convertToXCellCoord=function(Ee){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Ee*this.xScale)))},Ht.prototype._convertToYCellCoord=function(Ee){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Ee*this.yScale)))},Ht.prototype._circlesCollide=function(Ee,ze,Be,Ue,We,$e){var Qe=Ue-Ee,et=We-ze,tt=Be+$e;return tt*tt>Qe*Qe+et*et},Ht.prototype._circleAndRectCollide=function(Ee,ze,Be,Ue,We,$e,Qe){var et=($e-Ue)/2,tt=Math.abs(Ee-(Ue+et));if(tt>et+Be)return!1;var rt=(Qe-We)/2,nt=Math.abs(ze-(We+rt));if(nt>rt+Be)return!1;if(tt<=et||nt<=rt)return!0;var at=tt-et,it=nt-rt;return at*at+it*it<=Be*Be};var hi=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ne(Ee,ze){for(var Be=0;Be<Ee;Be++){var Ue=ze.length;ze.resize(Ue+4),ze.float32.set(hi,3*Ue)}}function se(Ee,ze,Be){var Ue=ze[0],We=ze[1];return Ee[0]=Be[0]*Ue+Be[4]*We+Be[12],Ee[1]=Be[1]*Ue+Be[5]*We+Be[13],Ee[3]=Be[3]*Ue+Be[7]*We+Be[15],Ee}var le=function(Ee,ze,Be){void 0===ze&&(ze=new Ht(Ee.width+200,Ee.height+200,25)),void 0===Be&&(Be=new Ht(Ee.width+200,Ee.height+200,25)),this.transform=Ee,this.grid=ze,this.ignoredGrid=Be,this.pitchfactor=Math.cos(Ee._pitch)*Ee.cameraToCenterDistance,this.screenRightBoundary=Ee.width+100,this.screenBottomBoundary=Ee.height+100,this.gridRightBoundary=Ee.width+200,this.gridBottomBoundary=Ee.height+200};function ce(Ee,ze,Be){Ee[ze+4]=Be?1:0}function ue(ze,Be,Ue){return Be*(Ee.EXTENT/(ze.tileSize*Math.pow(2,Ue-ze.tileID.overscaledZ)))}le.prototype.placeCollisionBox=function(Ee,ze,Be,Ue,We){var $e=this.projectAndGetPerspectiveRatio(Ue,Ee.anchorPointX,Ee.anchorPointY),Qe=Be*$e.perspectiveRatio,et=Ee.x1*Qe+$e.point.x,tt=Ee.y1*Qe+$e.point.y,rt=Ee.x2*Qe+$e.point.x,nt=Ee.y2*Qe+$e.point.y;return!this.isInsideGrid(et,tt,rt,nt)||!ze&&this.grid.hitTest(et,tt,rt,nt,We)?{box:[],offscreen:!1}:{box:[et,tt,rt,nt],offscreen:this.isOffscreen(et,tt,rt,nt)}},le.prototype.approximateTileDistance=function(Ee,ze,Be,Ue,We){var $e=We?1:Ue/this.pitchfactor,Qe=Ee.lastSegmentViewportDistance*Be;return Ee.prevTileDistance+Qe+($e-1)*Qe*Math.abs(Math.sin(ze))},le.prototype.placeCollisionCircles=function(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct){var ft=[],xt=this.projectAnchor(rt,$e.anchorX,$e.anchorY),kt=tt/24,Lt=$e.lineOffsetX*tt,Ut=$e.lineOffsetY*tt,er=new Ee.Point($e.anchorX,$e.anchorY),tr=te(kt,et,Lt,Ut,!1,Yt(er,nt).point,er,$e,Qe,nt,{},!0),rr=!1,ar=!1,Lr=!0,Qr=xt.perspectiveRatio*We,on=1/(We*Ue),sn=0,ln=0;tr&&(sn=this.approximateTileDistance(tr.first.tileDistance,tr.first.angle,on,xt.cameraDistance,it),ln=this.approximateTileDistance(tr.last.tileDistance,tr.last.angle,on,xt.cameraDistance,it));for(var cn=0;cn<ze.length;cn+=5){var un=ze[cn],hn=ze[cn+1],dn=ze[cn+2],vn=ze[cn+3];if(!tr||vn<-sn||vn>ln)ce(ze,cn,!1);else{var yn=this.projectPoint(rt,un,hn),_n=dn*Qr;if(ft.length>0){var Mn=yn.x-ft[ft.length-4],Cn=yn.y-ft[ft.length-3];if(_n*_n*2>Mn*Mn+Cn*Cn&&cn+8<ze.length){var En=ze[cn+8];if(En>-sn&&En<ln){ce(ze,cn,!1);continue}}}var Pn=cn/5;ft.push(yn.x,yn.y,_n,Pn),ce(ze,cn,!0);var In=yn.x-_n,Bn=yn.y-_n,Hn=yn.x+_n,Kn=yn.y+_n;if(Lr=Lr&&this.isOffscreen(In,Bn,Hn,Kn),ar=ar||this.isInsideGrid(In,Bn,Hn,Kn),!Be&&this.grid.hitTestCircle(yn.x,yn.y,_n,ct)){if(!at)return{circles:[],offscreen:!1};rr=!0}}}return{circles:rr||!ar?[]:ft,offscreen:Lr}},le.prototype.queryRenderedSymbols=function(ze){if(0===ze.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var Be=[],Ue=1/0,We=1/0,$e=-1/0,Qe=-1/0,et=0,tt=ze;et<tt.length;et+=1){var rt=tt[et],nt=new Ee.Point(rt.x+100,rt.y+100);Ue=Math.min(Ue,nt.x),We=Math.min(We,nt.y),$e=Math.max($e,nt.x),Qe=Math.max(Qe,nt.y),Be.push(nt)}for(var at={},it={},ct=0,ft=this.grid.query(Ue,We,$e,Qe).concat(this.ignoredGrid.query(Ue,We,$e,Qe));ct<ft.length;ct+=1){var xt=ft[ct],kt=xt.key;if(void 0===at[kt.bucketInstanceId]&&(at[kt.bucketInstanceId]={}),!at[kt.bucketInstanceId][kt.featureIndex]){var Lt=[new Ee.Point(xt.x1,xt.y1),new Ee.Point(xt.x2,xt.y1),new Ee.Point(xt.x2,xt.y2),new Ee.Point(xt.x1,xt.y2)];Ee.polygonIntersectsPolygon(Be,Lt)&&(at[kt.bucketInstanceId][kt.featureIndex]=!0,void 0===it[kt.bucketInstanceId]&&(it[kt.bucketInstanceId]=[]),it[kt.bucketInstanceId].push(kt.featureIndex))}}return it},le.prototype.insertCollisionBox=function(Ee,ze,Be,Ue,We){var $e={bucketInstanceId:Be,featureIndex:Ue,collisionGroupID:We};(ze?this.ignoredGrid:this.grid).insert($e,Ee[0],Ee[1],Ee[2],Ee[3])},le.prototype.insertCollisionCircles=function(Ee,ze,Be,Ue,We){for(var $e=ze?this.ignoredGrid:this.grid,Qe={bucketInstanceId:Be,featureIndex:Ue,collisionGroupID:We},et=0;et<Ee.length;et+=4)$e.insertCircle(Qe,Ee[et],Ee[et+1],Ee[et+2])},le.prototype.projectAnchor=function(Ee,ze,Be){var Ue=[ze,Be,0,1];return se(Ue,Ue,Ee),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/Ue[3]*.5,cameraDistance:Ue[3]}},le.prototype.projectPoint=function(ze,Be,Ue){var We=[Be,Ue,0,1];return se(We,We,ze),new Ee.Point((We[0]/We[3]+1)/2*this.transform.width+100,(-We[1]/We[3]+1)/2*this.transform.height+100)},le.prototype.projectAndGetPerspectiveRatio=function(ze,Be,Ue){var We=[Be,Ue,0,1];return se(We,We,ze),{point:new Ee.Point((We[0]/We[3]+1)/2*this.transform.width+100,(-We[1]/We[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/We[3]*.5}},le.prototype.isOffscreen=function(Ee,ze,Be,Ue){return Be<100||Ee>=this.screenRightBoundary||Ue<100||ze>this.screenBottomBoundary},le.prototype.isInsideGrid=function(Ee,ze,Be,Ue){return Be>=0&&Ee<this.gridRightBoundary&&Ue>=0&&ze<this.gridBottomBoundary};var he=function(Ee,ze,Be,Ue){this.opacity=Ee?Math.max(0,Math.min(1,Ee.opacity+(Ee.placed?ze:-ze))):Ue&&Be?1:0,this.placed=Be};he.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pe=function(Ee,ze,Be,Ue,We){this.text=new he(Ee?Ee.text:null,ze,Be,We),this.icon=new he(Ee?Ee.icon:null,ze,Ue,We)};pe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var de=function(Ee,ze,Be){this.text=Ee,this.icon=ze,this.skipFade=Be},_e=function(Ee,ze,Be,Ue,We){this.bucketInstanceId=Ee,this.featureIndex=ze,this.sourceLayerIndex=Be,this.bucketIndex=Ue,this.tileID=We},fe=function(Ee){this.crossSourceCollisions=Ee,this.maxGroupID=0,this.collisionGroups={}};function me(ze,Be,Ue,We,$e){var Qe=Ee.getAnchorAlignment(ze),et=-(Qe.horizontalAlign-.5)*Be,tt=-(Qe.verticalAlign-.5)*Ue,rt=Ee.evaluateRadialOffset(ze,We);return new Ee.Point(et+rt[0]*$e,tt+rt[1]*$e)}fe.prototype.get=function(Ee){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Ee]){var ze=++this.maxGroupID;this.collisionGroups[Ee]={ID:ze,predicate:function(Ee){return Ee.collisionGroupID===ze}}}return this.collisionGroups[Ee]};var ge=function(Ee,ze,Be,Ue){this.transform=Ee.clone(),this.collisionIndex=new le(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ze,this.retainedQueryData={},this.collisionGroups=new fe(Be),this.prevPlacement=Ue,Ue&&(Ue.prevPlacement=void 0),this.placedOrientations={}};function ve(Ee,ze,Be,Ue,We){Ee.emplaceBack(ze?1:0,Be?1:0,Ue||0,We||0),Ee.emplaceBack(ze?1:0,Be?1:0,Ue||0,We||0),Ee.emplaceBack(ze?1:0,Be?1:0,Ue||0,We||0),Ee.emplaceBack(ze?1:0,Be?1:0,Ue||0,We||0)}ge.prototype.placeLayerTile=function(ze,Be,Ue,We){var $e=Be.getBucket(ze),Qe=Be.latestFeatureIndex;if($e&&Qe&&ze.id===$e.layerIds[0]){var et=Be.collisionBoxArray,tt=$e.layers[0].layout,rt=Math.pow(2,this.transform.zoom-Be.tileID.overscaledZ),nt=Be.tileSize/Ee.EXTENT,at=this.transform.calculatePosMatrix(Be.tileID.toUnwrapped()),it=Kt(at,"map"===tt.get("text-pitch-alignment"),"map"===tt.get("text-rotation-alignment"),this.transform,ue(Be,1,this.transform.zoom)),ct=Kt(at,"map"===tt.get("icon-pitch-alignment"),"map"===tt.get("icon-rotation-alignment"),this.transform,ue(Be,1,this.transform.zoom));this.retainedQueryData[$e.bucketInstanceId]=new _e($e.bucketInstanceId,Qe,$e.sourceLayerIndex,$e.index,Be.tileID),this.placeLayerBucket($e,at,it,ct,rt,nt,Ue,Be.holdingForFade(),We,et)}},ge.prototype.attemptAnchorPlacement=function(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt){var kt,Lt=me(ze,Ue,We,$e,Qe),Ut=this.collisionIndex.placeCollisionBox(function(ze,Be,Ue,We,$e,Qe){var et=ze.x1,tt=ze.x2,rt=ze.y1,nt=ze.y2,at=ze.anchorPointX,it=ze.anchorPointY,ct=new Ee.Point(Be,Ue);return We&&ct._rotate($e?Qe:-Qe),{x1:et+ct.x,y1:rt+ct.y,x2:tt+ct.x,y2:nt+ct.y,anchorPointX:at,anchorPointY:it}}(Be,Lt.x,Lt.y,et,tt,this.transform.angle),it,rt,nt,at.predicate);if(Ut.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[ct.crossTileID]&&this.prevPlacement.placements[ct.crossTileID]&&this.prevPlacement.placements[ct.crossTileID].text&&(kt=this.prevPlacement.variableOffsets[ct.crossTileID].anchor),this.variableOffsets[ct.crossTileID]={radialOffset:$e,width:Ue,height:We,anchor:ze,textBoxScale:Qe,prevAnchor:kt},this.markUsedJustification(ft,ze,ct,xt),ft.allowVerticalPlacement&&(this.markUsedOrientation(ft,xt,ct),this.placedOrientations[ct.crossTileID]=xt),Ut},ge.prototype.placeLayerBucket=function(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at=this,it=ze.layers[0].layout,ct=Ee.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),ft=it.get("text-optional"),xt=it.get("icon-optional"),kt=it.get("text-allow-overlap"),Lt=it.get("icon-allow-overlap"),Ut=kt&&(Lt||!ze.hasIconData()||xt),er=Lt&&(kt||!ze.hasTextData()||ft),tr=this.collisionGroups.get(ze.sourceID),rr="map"===it.get("text-rotation-alignment"),ar="map"===it.get("text-pitch-alignment"),Lr="viewport-y"===it.get("symbol-z-order");!ze.collisionArrays&&nt&&ze.deserializeCollisionBoxes(nt);var T=function(We,nt){if(!rt[We.crossTileID])if(tt)at.placements[We.crossTileID]=new de(!1,!1,!1);else{var Lt,Lr=!1,Qr=!1,on=!0,sn={box:null,offscreen:null},ln={box:null,offscreen:null},cn=null,un=null,hn=0,dn=0,vn=0;nt.textFeatureIndex&&(hn=nt.textFeatureIndex),nt.verticalTextFeatureIndex&&(dn=nt.verticalTextFeatureIndex);var yn=nt.textBox;if(yn){var A=function(Be){var Ue=Ee.WritingMode.horizontal;if(ze.allowVerticalPlacement&&!Be&&at.prevPlacement){var $e=at.prevPlacement.placedOrientations[We.crossTileID];$e&&(at.placedOrientations[We.crossTileID]=$e,Ue=$e,at.markUsedOrientation(ze,Ue,We))}return Ue},k=function(Be,Ue){if(ze.allowVerticalPlacement&&We.numVerticalGlyphVertices>0&&nt.verticalTextBox)for(var $e=0,Qe=ze.writingModes;$e<Qe.length&&(Qe[$e]===Ee.WritingMode.vertical?(sn=Ue(),ln=sn):sn=Be(),!(sn&&sn.box&&sn.box.length));$e+=1);else sn=Be()};if(it.get("text-variable-anchor")){var _n=it.get("text-variable-anchor");if(at.prevPlacement&&at.prevPlacement.variableOffsets[We.crossTileID]){var Mn=at.prevPlacement.variableOffsets[We.crossTileID];_n.indexOf(Mn.anchor)>0&&(_n=_n.filter((function(Ee){return Ee!==Mn.anchor}))).unshift(Mn.anchor)}var F=function(Ee,Ue){for(var $e=Ee.x2-Ee.x1,et=Ee.y2-Ee.y1,tt=We.textBoxScale,rt={box:[],offscreen:!1},nt=kt?2*_n.length:_n.length,it=0;it<nt;++it){var ct=_n[it%_n.length],ft=it>=_n.length;if((rt=at.attemptAnchorPlacement(ct,Ee,$e,et,We.radialTextOffset,tt,rr,ar,Qe,Be,tr,ft,We,ze,Ue))&&rt.box&&rt.box.length){Lr=!0;break}}return rt};k((function(){return F(yn,Ee.WritingMode.horizontal)}),(function(){var Be=nt.verticalTextBox,Ue=sn&&sn.box&&sn.box.length;return ze.allowVerticalPlacement&&!Ue&&We.numVerticalGlyphVertices>0&&Be?F(Be,Ee.WritingMode.vertical):{box:null,offscreen:null}})),sn&&(Lr=sn.box,on=sn.offscreen);var Cn=A(sn&&sn.box);if(!Lr&&at.prevPlacement){var En=at.prevPlacement.variableOffsets[We.crossTileID];En&&(at.variableOffsets[We.crossTileID]=En,at.markUsedJustification(ze,En.anchor,We,Cn))}}else{var Z=function(Ee,Ue){var $e=at.collisionIndex.placeCollisionBox(Ee,it.get("text-allow-overlap"),Qe,Be,tr.predicate);return $e&&$e.box&&$e.box.length&&(at.markUsedOrientation(ze,Ue,We),at.placedOrientations[We.crossTileID]=Ue),$e};k((function(){return Z(yn,Ee.WritingMode.horizontal)}),(function(){var Be=nt.verticalTextBox;return ze.allowVerticalPlacement&&We.numVerticalGlyphVertices>0&&Be?Z(Be,Ee.WritingMode.vertical):{box:null,offscreen:null}})),A(sn&&sn.box&&sn.box.length)}}Lr=(Lt=sn)&&Lt.box&&Lt.box.length>0,on=Lt&&Lt.offscreen;var Pn=nt.textCircles;if(Pn){var In=ze.text.placedSymbolArray.get(We.centerJustifiedTextSymbolIndex),Bn=Ee.evaluateSizeForFeature(ze.textSizeData,ct,In);cn=at.collisionIndex.placeCollisionCircles(Pn,it.get("text-allow-overlap"),$e,Qe,In,ze.lineVertexArray,ze.glyphOffsetArray,Bn,Be,Ue,et,ar,tr.predicate),Lr=it.get("text-allow-overlap")||cn.circles.length>0,on=on&&cn.offscreen}nt.iconFeatureIndex&&(vn=nt.iconFeatureIndex),nt.iconBox&&(Qr=(un=at.collisionIndex.placeCollisionBox(nt.iconBox,it.get("icon-allow-overlap"),Qe,Be,tr.predicate)).box.length>0,on=on&&un.offscreen);var Hn=ft||0===We.numHorizontalGlyphVertices&&0===We.numVerticalGlyphVertices,Kn=xt||0===We.numIconVertices;Hn||Kn?Kn?Hn||(Qr=Qr&&Lr):Lr=Qr&&Lr:Qr=Lr=Qr&&Lr,Lr&&Lt&&Lt.box&&(ln&&ln.box&&dn?at.collisionIndex.insertCollisionBox(Lt.box,it.get("text-ignore-placement"),ze.bucketInstanceId,dn,tr.ID):at.collisionIndex.insertCollisionBox(Lt.box,it.get("text-ignore-placement"),ze.bucketInstanceId,hn,tr.ID)),Qr&&un&&at.collisionIndex.insertCollisionBox(un.box,it.get("icon-ignore-placement"),ze.bucketInstanceId,vn,tr.ID),Lr&&cn&&at.collisionIndex.insertCollisionCircles(cn.circles,it.get("text-ignore-placement"),ze.bucketInstanceId,hn,tr.ID),at.placements[We.crossTileID]=new de(Lr||Ut,Qr||er,on||ze.justReloaded),rt[We.crossTileID]=!0}};if(Lr)for(var Qr=ze.getSortedSymbolIndexes(this.transform.angle),on=Qr.length-1;on>=0;--on){var sn=Qr[on];T(ze.symbolInstances.get(sn),ze.collisionArrays[sn])}else for(var ln=0;ln<ze.symbolInstances.length;++ln)T(ze.symbolInstances.get(ln),ze.collisionArrays[ln]);ze.justReloaded=!1},ge.prototype.markUsedJustification=function(ze,Be,Ue,We){var $e,Qe={left:Ue.leftJustifiedTextSymbolIndex,center:Ue.centerJustifiedTextSymbolIndex,right:Ue.rightJustifiedTextSymbolIndex};$e=We===Ee.WritingMode.vertical?Ue.verticalPlacedTextSymbolIndex:Qe[Ee.getAnchorJustification(Be)];for(var et=0,tt=[Ue.leftJustifiedTextSymbolIndex,Ue.centerJustifiedTextSymbolIndex,Ue.rightJustifiedTextSymbolIndex,Ue.verticalPlacedTextSymbolIndex];et<tt.length;et+=1){var rt=tt[et];rt>=0&&(ze.text.placedSymbolArray.get(rt).crossTileID=$e>=0&&rt!==$e?0:Ue.crossTileID)}},ge.prototype.markUsedOrientation=function(ze,Be,Ue){for(var We=Be===Ee.WritingMode.horizontal||Be===Ee.WritingMode.horizontalOnly?Be:0,$e=Be===Ee.WritingMode.vertical?Be:0,Qe=0,et=[Ue.leftJustifiedTextSymbolIndex,Ue.centerJustifiedTextSymbolIndex,Ue.rightJustifiedTextSymbolIndex];Qe<et.length;Qe+=1){var tt=et[Qe];ze.text.placedSymbolArray.get(tt).placedOrientation=We}Ue.verticalPlacedTextSymbolIndex&&(ze.text.placedSymbolArray.get(Ue.verticalPlacedTextSymbolIndex).placedOrientation=$e)},ge.prototype.commit=function(Ee){this.commitTime=Ee;var ze=this.prevPlacement,Be=!1,Ue=ze&&0!==this.fadeDuration?(this.commitTime-ze.commitTime)/this.fadeDuration:1,We=ze?ze.opacities:{},$e=ze?ze.variableOffsets:{},Qe=ze?ze.placedOrientations:{};for(var et in this.placements){var tt=this.placements[et],rt=We[et];rt?(this.opacities[et]=new pe(rt,Ue,tt.text,tt.icon),Be=Be||tt.text!==rt.text.placed||tt.icon!==rt.icon.placed):(this.opacities[et]=new pe(null,Ue,tt.text,tt.icon,tt.skipFade),Be=Be||tt.text||tt.icon)}for(var nt in We){var at=We[nt];if(!this.opacities[nt]){var it=new pe(at,Ue,!1,!1);it.isHidden()||(this.opacities[nt]=it,Be=Be||at.text.placed||at.icon.placed)}}for(var ct in $e)this.variableOffsets[ct]||!this.opacities[ct]||this.opacities[ct].isHidden()||(this.variableOffsets[ct]=$e[ct]);for(var ft in Qe)this.placedOrientations[ft]||!this.opacities[ft]||this.opacities[ft].isHidden()||(this.placedOrientations[ft]=Qe[ft]);Be?this.lastPlacementChangeTime=Ee:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=ze?ze.lastPlacementChangeTime:Ee)},ge.prototype.updateLayerOpacities=function(Ee,ze){for(var Be={},Ue=0,We=ze;Ue<We.length;Ue+=1){var $e=We[Ue],Qe=$e.getBucket(Ee);Qe&&$e.latestFeatureIndex&&Ee.id===Qe.layerIds[0]&&this.updateBucketOpacities(Qe,Be,$e.collisionBoxArray)}},ge.prototype.updateBucketOpacities=function(ze,Be,Ue){ze.hasTextData()&&ze.text.opacityVertexArray.clear(),ze.hasIconData()&&ze.icon.opacityVertexArray.clear(),ze.hasCollisionBoxData()&&ze.collisionBox.collisionVertexArray.clear(),ze.hasCollisionCircleData()&&ze.collisionCircle.collisionVertexArray.clear();var We=ze.layers[0].layout,$e=new pe(null,0,!1,!1,!0),Qe=We.get("text-allow-overlap"),et=We.get("icon-allow-overlap"),tt=We.get("text-variable-anchor"),rt="map"===We.get("text-rotation-alignment"),nt="map"===We.get("text-pitch-alignment"),at=new pe(null,0,Qe&&(et||!ze.hasIconData()||We.get("icon-optional")),et&&(Qe||!ze.hasTextData()||We.get("text-optional")),!0);!ze.collisionArrays&&Ue&&(ze.hasCollisionBoxData()||ze.hasCollisionCircleData())&&ze.deserializeCollisionBoxes(Ue);for(var it=0;it<ze.symbolInstances.length;it++){var ct=ze.symbolInstances.get(it),ft=ct.numHorizontalGlyphVertices,xt=ct.numVerticalGlyphVertices,kt=ct.crossTileID,Lt=Be[kt],Ut=this.opacities[kt];Lt?Ut=$e:Ut||(Ut=at,this.opacities[kt]=Ut),Be[kt]=!0;var er=ft>0||xt>0,tr=ct.numIconVertices>0;if(er){for(var rr=Se(Ut.text),ar=(ft+xt)/4,Lr=0;Lr<ar;Lr++)ze.text.opacityVertexArray.emplaceBack(rr);var Qr=Ut.text.isHidden()?1:0,on=this.placedOrientations[ct.crossTileID],sn=on===Ee.WritingMode.horizontal||on===Ee.WritingMode.horizontalOnly?1:0,ln=on===Ee.WritingMode.vertical?1:0;[ct.rightJustifiedTextSymbolIndex,ct.centerJustifiedTextSymbolIndex,ct.leftJustifiedTextSymbolIndex].forEach((function(Ee){Ee>=0&&(ze.text.placedSymbolArray.get(Ee).hidden=Qr||ln)})),ct.verticalPlacedTextSymbolIndex>=0&&(ze.text.placedSymbolArray.get(ct.verticalPlacedTextSymbolIndex).hidden=Qr||sn);var cn=this.variableOffsets[ct.crossTileID];cn&&this.markUsedJustification(ze,cn.anchor,ct,on);var un=this.placedOrientations[ct.crossTileID];un&&(this.markUsedJustification(ze,"left",ct,un),this.markUsedOrientation(ze,un,ct))}if(tr){for(var hn=Se(Ut.icon),dn=0;dn<ct.numIconVertices/4;dn++)ze.icon.opacityVertexArray.emplaceBack(hn);ze.icon.placedSymbolArray.get(it).hidden=Ut.icon.isHidden()}if(ze.hasCollisionBoxData()||ze.hasCollisionCircleData()){var vn=ze.collisionArrays[it];if(vn){if(vn.textBox){var yn=new Ee.Point(0,0),_n=!0;if(tt){var Mn=this.variableOffsets[kt];Mn?(yn=me(Mn.anchor,Mn.width,Mn.height,Mn.radialOffset,Mn.textBoxScale),rt&&yn._rotate(nt?this.transform.angle:-this.transform.angle)):_n=!1}ve(ze.collisionBox.collisionVertexArray,Ut.text.placed,!_n,yn.x,yn.y)}vn.iconBox&&ve(ze.collisionBox.collisionVertexArray,Ut.icon.placed,!1);var Cn=vn.textCircles;if(Cn&&ze.hasCollisionCircleData())for(var En=0;En<Cn.length;En+=5){var Pn=Lt||0===Cn[En+4];ve(ze.collisionCircle.collisionVertexArray,Ut.text.placed,Pn)}}}}ze.sortFeatures(this.transform.angle),this.retainedQueryData[ze.bucketInstanceId]&&(this.retainedQueryData[ze.bucketInstanceId].featureSortOrder=ze.featureSortOrder),ze.hasTextData()&&ze.text.opacityVertexBuffer&&ze.text.opacityVertexBuffer.updateData(ze.text.opacityVertexArray),ze.hasIconData()&&ze.icon.opacityVertexBuffer&&ze.icon.opacityVertexBuffer.updateData(ze.icon.opacityVertexArray),ze.hasCollisionBoxData()&&ze.collisionBox.collisionVertexBuffer&&ze.collisionBox.collisionVertexBuffer.updateData(ze.collisionBox.collisionVertexArray),ze.hasCollisionCircleData()&&ze.collisionCircle.collisionVertexBuffer&&ze.collisionCircle.collisionVertexBuffer.updateData(ze.collisionCircle.collisionVertexArray)},ge.prototype.symbolFadeChange=function(Ee){return 0===this.fadeDuration?1:(Ee-this.commitTime)/this.fadeDuration},ge.prototype.hasTransitions=function(Ee){return this.stale||Ee-this.lastPlacementChangeTime<this.fadeDuration},ge.prototype.stillRecent=function(Ee){return this.commitTime+this.fadeDuration>Ee},ge.prototype.setStale=function(){this.stale=!0};var Ci=Math.pow(2,25),Pi=Math.pow(2,24),zi=Math.pow(2,17),ji=Math.pow(2,16),Xi=Math.pow(2,9),Co=Math.pow(2,8),zo=Math.pow(2,1);function Se(Ee){if(0===Ee.opacity&&!Ee.placed)return 0;if(1===Ee.opacity&&Ee.placed)return 4294967295;var ze=Ee.placed?1:0,Be=Math.floor(127*Ee.opacity);return Be*Ci+ze*Pi+Be*zi+ze*ji+Be*Xi+ze*Co+Be*zo+ze}var Ce=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Ce.prototype.continuePlacement=function(Ee,ze,Be,Ue,We){for(;this._currentTileIndex<Ee.length;){var $e=Ee[this._currentTileIndex];if(ze.placeLayerTile(Ue,$e,Be,this._seenCrossTileIDs),this._currentTileIndex++,We())return!0}};var Pe=function(Ee,ze,Be,Ue,We,$e,Qe){this.placement=new ge(Ee,We,$e,Qe),this._currentPlacementIndex=ze.length-1,this._forceFullPlacement=Be,this._showCollisionBoxes=Ue,this._done=!1};Pe.prototype.isDone=function(){return this._done},Pe.prototype.continuePlacement=function(ze,Be,Ue){for(var We=this,$e=Ee.browser.now(),n=function(){var ze=Ee.browser.now()-$e;return!We._forceFullPlacement&&ze>2};this._currentPlacementIndex>=0;){var Qe=Be[ze[this._currentPlacementIndex]],et=this.placement.collisionIndex.transform.zoom;if("symbol"===Qe.type&&(!Qe.minzoom||Qe.minzoom<=et)&&(!Qe.maxzoom||Qe.maxzoom>et)){if(this._inProgressLayer||(this._inProgressLayer=new Ce),this._inProgressLayer.continuePlacement(Ue[Qe.source],this.placement,this._showCollisionBoxes,Qe,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Pe.prototype.commit=function(Ee){return this.placement.commit(Ee),this.placement};var Bo=512/Ee.EXTENT/2,Le=function(Ee,ze,Be){this.tileID=Ee,this.indexedSymbolInstances={},this.bucketInstanceId=Be;for(var Ue=0;Ue<ze.length;Ue++){var We=ze.get(Ue),$e=We.key;this.indexedSymbolInstances[$e]||(this.indexedSymbolInstances[$e]=[]),this.indexedSymbolInstances[$e].push({crossTileID:We.crossTileID,coord:this.getScaledCoordinates(We,Ee)})}};Le.prototype.getScaledCoordinates=function(ze,Be){var Ue=Be.canonical.z-this.tileID.canonical.z,We=Bo/Math.pow(2,Ue);return{x:Math.floor((Be.canonical.x*Ee.EXTENT+ze.anchorX)*We),y:Math.floor((Be.canonical.y*Ee.EXTENT+ze.anchorY)*We)}},Le.prototype.findMatches=function(Ee,ze,Be){for(var Ue=this.tileID.canonical.z<ze.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ze.canonical.z),We=0;We<Ee.length;We++){var $e=Ee.get(We);if(!$e.crossTileID){var Qe=this.indexedSymbolInstances[$e.key];if(Qe)for(var et=this.getScaledCoordinates($e,ze),tt=0,rt=Qe;tt<rt.length;tt+=1){var nt=rt[tt];if(Math.abs(nt.coord.x-et.x)<=Ue&&Math.abs(nt.coord.y-et.y)<=Ue&&!Be[nt.crossTileID]){Be[nt.crossTileID]=!0,$e.crossTileID=nt.crossTileID;break}}}}};var Me=function(){this.maxCrossTileID=0};Me.prototype.generate=function(){return++this.maxCrossTileID};var De=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};De.prototype.handleWrapJump=function(Ee){var ze=Math.round((Ee-this.lng)/360);if(0!==ze)for(var Be in this.indexes){var Ue=this.indexes[Be],We={};for(var $e in Ue){var Qe=Ue[$e];Qe.tileID=Qe.tileID.unwrapTo(Qe.tileID.wrap+ze),We[Qe.tileID.key]=Qe}this.indexes[Be]=We}this.lng=Ee},De.prototype.addBucket=function(Ee,ze,Be){if(this.indexes[Ee.overscaledZ]&&this.indexes[Ee.overscaledZ][Ee.key]){if(this.indexes[Ee.overscaledZ][Ee.key].bucketInstanceId===ze.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Ee.overscaledZ,this.indexes[Ee.overscaledZ][Ee.key])}for(var Ue=0;Ue<ze.symbolInstances.length;Ue++)ze.symbolInstances.get(Ue).crossTileID=0;this.usedCrossTileIDs[Ee.overscaledZ]||(this.usedCrossTileIDs[Ee.overscaledZ]={});var We=this.usedCrossTileIDs[Ee.overscaledZ];for(var $e in this.indexes){var Qe=this.indexes[$e];if(Number($e)>Ee.overscaledZ)for(var et in Qe){var tt=Qe[et];tt.tileID.isChildOf(Ee)&&tt.findMatches(ze.symbolInstances,Ee,We)}else{var rt=Qe[Ee.scaledTo(Number($e)).key];rt&&rt.findMatches(ze.symbolInstances,Ee,We)}}for(var nt=0;nt<ze.symbolInstances.length;nt++){var at=ze.symbolInstances.get(nt);at.crossTileID||(at.crossTileID=Be.generate(),We[at.crossTileID]=!0)}return void 0===this.indexes[Ee.overscaledZ]&&(this.indexes[Ee.overscaledZ]={}),this.indexes[Ee.overscaledZ][Ee.key]=new Le(Ee,ze.symbolInstances,ze.bucketInstanceId),!0},De.prototype.removeBucketCrossTileIDs=function(Ee,ze){for(var Be in ze.indexedSymbolInstances)for(var Ue=0,We=ze.indexedSymbolInstances[Be];Ue<We.length;Ue+=1){var $e=We[Ue];delete this.usedCrossTileIDs[Ee][$e.crossTileID]}},De.prototype.removeStaleBuckets=function(Ee){var ze=!1;for(var Be in this.indexes){var Ue=this.indexes[Be];for(var We in Ue)Ee[Ue[We].bucketInstanceId]||(this.removeBucketCrossTileIDs(Be,Ue[We]),delete Ue[We],ze=!0)}return ze};var Re=function(){this.layerIndexes={},this.crossTileIDs=new Me,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Re.prototype.addLayer=function(Ee,ze,Be){var Ue=this.layerIndexes[Ee.id];void 0===Ue&&(Ue=this.layerIndexes[Ee.id]=new De);var We=!1,$e={};Ue.handleWrapJump(Be);for(var Qe=0,et=ze;Qe<et.length;Qe+=1){var tt=et[Qe],rt=tt.getBucket(Ee);rt&&Ee.id===rt.layerIds[0]&&(rt.bucketInstanceId||(rt.bucketInstanceId=++this.maxBucketInstanceId),Ue.addBucket(tt.tileID,rt,this.crossTileIDs)&&(We=!0),$e[rt.bucketInstanceId]=!0)}return Ue.removeStaleBuckets($e)&&(We=!0),We},Re.prototype.pruneUnusedLayers=function(Ee){var ze={};for(var Be in Ee.forEach((function(Ee){ze[Ee]=!0})),this.layerIndexes)ze[Be]||delete this.layerIndexes[Be]};var Ae=function(ze,Be){return Ee.emitValidationErrors(ze,Be&&Be.filter((function(Ee){return"source.canvas"!==Ee.identifier})))},Vo=Ee.pick(ci,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Uo=Ee.pick(ci,["setCenter","setZoom","setBearing","setPitch"]),Ho=function(ze){function i(Be,Ue){var We=this;void 0===Ue&&(Ue={}),ze.call(this),this.map=Be,this.dispatcher=new xt((si||(si=new At),si),this),this.imageManager=new rt,this.imageManager.setEventedParent(this),this.glyphManager=new y(Be._requestManager,Ue.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Re,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new Ee.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",Ee.getReferrer());var $e=this;this._rtlTextPluginCallback=i.registerForPluginAvailability((function(Ee){for(var ze in $e.dispatcher.broadcast("loadRTLTextPlugin",Ee.pluginURL,Ee.completionCallback),$e.sourceCaches)$e.sourceCaches[ze].reload()})),this.on("data",(function(Ee){if("source"===Ee.dataType&&"metadata"===Ee.sourceDataType){var ze=We.sourceCaches[Ee.sourceId];if(ze){var Be=ze.getSource();if(Be&&Be.vectorLayerIds)for(var Ue in We._layers){var $e=We._layers[Ue];$e.source===Be.id&&We._validateLayer($e)}}}}))}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(ze,Be){var Ue=this;void 0===Be&&(Be={}),this.fire(new Ee.Event("dataloading",{dataType:"style"}));var We="boolean"==typeof Be.validate?Be.validate:!Ee.isMapboxURL(ze);ze=this.map._requestManager.normalizeStyleURL(ze,Be.accessToken);var $e=this.map._requestManager.transformRequest(ze,Ee.ResourceType.Style);this._request=Ee.getJSON($e,(function(ze,Be){Ue._request=null,ze?Ue.fire(new Ee.ErrorEvent(ze)):Be&&Ue._load(Be,We)}))},i.prototype.loadJSON=function(ze,Be){var Ue=this;void 0===Be&&(Be={}),this.fire(new Ee.Event("dataloading",{dataType:"style"})),this._request=Ee.browser.frame((function(){Ue._request=null,Ue._load(ze,!1!==Be.validate)}))},i.prototype._load=function(ze,Be){var Ue=this;if(!Be||!Ae(this,Ee.validateStyle(ze))){for(var We in this._loaded=!0,this.stylesheet=ze,ze.sources)this.addSource(We,ze.sources[We],{validate:!1});ze.sprite?this._spriteRequest=function(ze,Be,Ue){var We,$e,Qe,et=Ee.browser.devicePixelRatio>1?"@2x":"",tt=Ee.getJSON(Be.transformRequest(Be.normalizeSpriteURL(ze,et,".json"),Ee.ResourceType.SpriteJSON),(function(Ee,ze){tt=null,Qe||(Qe=Ee,We=ze,u())})),rt=Ee.getImage(Be.transformRequest(Be.normalizeSpriteURL(ze,et,".png"),Ee.ResourceType.SpriteImage),(function(Ee,ze){rt=null,Qe||(Qe=Ee,$e=ze,u())}));function u(){if(Qe)Ue(Qe);else if(We&&$e){var ze=Ee.browser.getImageData($e),Be={};for(var et in We){var tt=We[et],rt=tt.width,nt=tt.height,at=tt.x,it=tt.y,ct=tt.sdf,ft=tt.pixelRatio,xt=new Ee.RGBAImage({width:rt,height:nt});Ee.RGBAImage.copy(ze,xt,{x:at,y:it},{x:0,y:0},{width:rt,height:nt}),Be[et]={data:xt,pixelRatio:ft,sdf:ct}}Ue(null,Be)}}return{cancel:function(){tt&&(tt.cancel(),tt=null),rt&&(rt.cancel(),rt=null)}}}(ze.sprite,this.map._requestManager,(function(ze,Be){if(Ue._spriteRequest=null,ze)Ue.fire(new Ee.ErrorEvent(ze));else if(Be)for(var We in Be)Ue.imageManager.addImage(We,Be[We]);Ue.imageManager.setLoaded(!0),Ue.fire(new Ee.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ze.glyphs);var $e=Ft(this.stylesheet.layers);this._order=$e.map((function(Ee){return Ee.id})),this._layers={};for(var Qe=0,et=$e;Qe<et.length;Qe+=1){var tt=et[Qe];(tt=Ee.createStyleLayer(tt)).setEventedParent(this,{layer:{id:tt.id}}),this._layers[tt.id]=tt}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ft(this.stylesheet.light),this.fire(new Ee.Event("data",{dataType:"style"})),this.fire(new Ee.Event("style.load"))}},i.prototype._validateLayer=function(ze){var Be=this.sourceCaches[ze.source];if(Be){var Ue=ze.sourceLayer;if(Ue){var We=Be.getSource();("geojson"===We.type||We.vectorLayerIds&&-1===We.vectorLayerIds.indexOf(Ue))&&this.fire(new Ee.ErrorEvent(new Error('Source layer "'+Ue+'" does not exist on source "'+We.id+'" as specified by style layer "'+ze.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var Ee in this.sourceCaches)if(!this.sourceCaches[Ee].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(Ee){for(var ze=[],Be=0,Ue=Ee;Be<Ue.length;Be+=1){var We=Ue[Be],$e=this._layers[We];"custom"!==$e.type&&ze.push($e.serialize())}return ze},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var Ee in this.sourceCaches)if(this.sourceCaches[Ee].hasTransition())return!0;for(var ze in this._layers)if(this._layers[ze].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(ze){if(this._loaded){var Be=this._changed;if(this._changed){var Ue=Object.keys(this._updatedLayers),We=Object.keys(this._removedLayers);for(var $e in(Ue.length||We.length)&&this._updateWorkerLayers(Ue,We),this._updatedSources){var Qe=this._updatedSources[$e];"reload"===Qe?this._reloadSource($e):"clear"===Qe&&this._clearSource($e)}for(var et in this._updatedPaintProps)this._layers[et].updateTransitions(ze);this.light.updateTransitions(ze),this._resetUpdates()}for(var tt in this.sourceCaches)this.sourceCaches[tt].used=!1;for(var rt=0,nt=this._order;rt<nt.length;rt+=1){var at=nt[rt],it=this._layers[at];it.recalculate(ze),!it.isHidden(ze.zoom)&&it.source&&(this.sourceCaches[it.source].used=!0)}this.light.recalculate(ze),this.z=ze.zoom,Be&&this.fire(new Ee.Event("data",{dataType:"style"}))}},i.prototype._updateWorkerLayers=function(Ee,ze){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(Ee),removedIds:ze})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(ze){var Be=this;if(this._checkLoaded(),Ae(this,Ee.validateStyle(ze)))return!1;(ze=Ee.clone$1(ze)).layers=Ft(ze.layers);var Ue=function Xt(ze,Be){if(!ze)return[{command:ci.setStyle,args:[Be]}];var Ue=[];try{if(!Ee.deepEqual(ze.version,Be.version))return[{command:ci.setStyle,args:[Be]}];Ee.deepEqual(ze.center,Be.center)||Ue.push({command:ci.setCenter,args:[Be.center]}),Ee.deepEqual(ze.zoom,Be.zoom)||Ue.push({command:ci.setZoom,args:[Be.zoom]}),Ee.deepEqual(ze.bearing,Be.bearing)||Ue.push({command:ci.setBearing,args:[Be.bearing]}),Ee.deepEqual(ze.pitch,Be.pitch)||Ue.push({command:ci.setPitch,args:[Be.pitch]}),Ee.deepEqual(ze.sprite,Be.sprite)||Ue.push({command:ci.setSprite,args:[Be.sprite]}),Ee.deepEqual(ze.glyphs,Be.glyphs)||Ue.push({command:ci.setGlyphs,args:[Be.glyphs]}),Ee.deepEqual(ze.transition,Be.transition)||Ue.push({command:ci.setTransition,args:[Be.transition]}),Ee.deepEqual(ze.light,Be.light)||Ue.push({command:ci.setLight,args:[Be.light]});var We={},$e=[];!function(ze,Be,Ue,We){var $e;for($e in Be=Be||{},ze=ze||{})ze.hasOwnProperty($e)&&(Be.hasOwnProperty($e)||Zt($e,Ue,We));for($e in Be)Be.hasOwnProperty($e)&&(ze.hasOwnProperty($e)?Ee.deepEqual(ze[$e],Be[$e])||("geojson"===ze[$e].type&&"geojson"===Be[$e].type&&jt(ze,Be,$e)?Ue.push({command:ci.setGeoJSONSourceData,args:[$e,Be[$e].data]}):qt($e,Be,Ue,We)):Nt($e,Be,Ue))}(ze.sources,Be.sources,$e,We);var Qe=[];ze.layers&&ze.layers.forEach((function(Ee){We[Ee.source]?Ue.push({command:ci.removeLayer,args:[Ee.id]}):Qe.push(Ee)})),Ue=Ue.concat($e),function(ze,Be,Ue){Be=Be||[];var We,$e,Qe,et,tt,rt,nt,at=(ze=ze||[]).map(Gt),it=Be.map(Gt),ct=ze.reduce(Wt,{}),ft=Be.reduce(Wt,{}),xt=at.slice(),kt=Object.create(null);for(We=0,$e=0;We<at.length;We++)Qe=at[We],ft.hasOwnProperty(Qe)?$e++:(Ue.push({command:ci.removeLayer,args:[Qe]}),xt.splice(xt.indexOf(Qe,$e),1));for(We=0,$e=0;We<it.length;We++)Qe=it[it.length-1-We],xt[xt.length-1-We]!==Qe&&(ct.hasOwnProperty(Qe)?(Ue.push({command:ci.removeLayer,args:[Qe]}),xt.splice(xt.lastIndexOf(Qe,xt.length-$e),1)):$e++,rt=xt[xt.length-We],Ue.push({command:ci.addLayer,args:[ft[Qe],rt]}),xt.splice(xt.length-We,0,Qe),kt[Qe]=!0);for(We=0;We<it.length;We++)if(et=ct[Qe=it[We]],tt=ft[Qe],!kt[Qe]&&!Ee.deepEqual(et,tt))if(Ee.deepEqual(et.source,tt.source)&&Ee.deepEqual(et["source-layer"],tt["source-layer"])&&Ee.deepEqual(et.type,tt.type)){for(nt in Vt(et.layout,tt.layout,Ue,Qe,null,ci.setLayoutProperty),Vt(et.paint,tt.paint,Ue,Qe,null,ci.setPaintProperty),Ee.deepEqual(et.filter,tt.filter)||Ue.push({command:ci.setFilter,args:[Qe,tt.filter]}),Ee.deepEqual(et.minzoom,tt.minzoom)&&Ee.deepEqual(et.maxzoom,tt.maxzoom)||Ue.push({command:ci.setLayerZoomRange,args:[Qe,tt.minzoom,tt.maxzoom]}),et)et.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Vt(et[nt],tt[nt],Ue,Qe,nt.slice(6),ci.setPaintProperty):Ee.deepEqual(et[nt],tt[nt])||Ue.push({command:ci.setLayerProperty,args:[Qe,nt,tt[nt]]}));for(nt in tt)tt.hasOwnProperty(nt)&&!et.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Vt(et[nt],tt[nt],Ue,Qe,nt.slice(6),ci.setPaintProperty):Ee.deepEqual(et[nt],tt[nt])||Ue.push({command:ci.setLayerProperty,args:[Qe,nt,tt[nt]]}))}else Ue.push({command:ci.removeLayer,args:[Qe]}),rt=xt[xt.lastIndexOf(Qe)+1],Ue.push({command:ci.addLayer,args:[tt,rt]})}(Qe,Be.layers,Ue)}catch(Ee){console.warn("Unable to compute style diff:",Ee),Ue=[{command:ci.setStyle,args:[Be]}]}return Ue}(this.serialize(),ze).filter((function(Ee){return!(Ee.command in Uo)}));if(0===Ue.length)return!1;var We=Ue.filter((function(Ee){return!(Ee.command in Vo)}));if(We.length>0)throw new Error("Unimplemented: "+We.map((function(Ee){return Ee.command})).join(", ")+".");return Ue.forEach((function(Ee){"setTransition"!==Ee.command&&Be[Ee.command].apply(Be,Ee.args)})),this.stylesheet=ze,!0},i.prototype.addImage=function(ze,Be){if(this.getImage(ze))return this.fire(new Ee.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ze,Be),this.fire(new Ee.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(Ee,ze){this.imageManager.updateImage(Ee,ze)},i.prototype.getImage=function(Ee){return this.imageManager.getImage(Ee)},i.prototype.removeImage=function(ze){if(!this.getImage(ze))return this.fire(new Ee.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ze),this.fire(new Ee.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(ze,Be,Ue){var We=this;if(void 0===Ue&&(Ue={}),this._checkLoaded(),void 0!==this.sourceCaches[ze])throw new Error("There is already a source with this ID");if(!Be.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(Be).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(Be.type)>=0&&this._validate(Ee.validateStyle.source,"sources."+ze,Be,null,Ue))){this.map&&this.map._collectResourceTiming&&(Be.collectResourceTiming=!0);var $e=this.sourceCaches[ze]=new oi(ze,Be,this.dispatcher);$e.style=this,$e.setEventedParent(this,(function(){return{isSourceLoaded:We.loaded(),source:$e.serialize(),sourceId:ze}})),$e.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(ze){if(this._checkLoaded(),void 0===this.sourceCaches[ze])throw new Error("There is no source with this ID");for(var Be in this._layers)if(this._layers[Be].source===ze)return this.fire(new Ee.ErrorEvent(new Error('Source "'+ze+'" cannot be removed while layer "'+Be+'" is using it.')));var Ue=this.sourceCaches[ze];delete this.sourceCaches[ze],delete this._updatedSources[ze],Ue.fire(new Ee.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ze})),Ue.setEventedParent(null),Ue.clearTiles(),Ue.onRemove&&Ue.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(Ee,ze){this._checkLoaded(),this.sourceCaches[Ee].getSource().setData(ze),this._changed=!0},i.prototype.getSource=function(Ee){return this.sourceCaches[Ee]&&this.sourceCaches[Ee].getSource()},i.prototype.addLayer=function(ze,Be,Ue){void 0===Ue&&(Ue={}),this._checkLoaded();var We=ze.id;if(this.getLayer(We))this.fire(new Ee.ErrorEvent(new Error('Layer with id "'+We+'" already exists on this map')));else{var $e;if("custom"===ze.type){if(Ae(this,Ee.validateCustomStyleLayer(ze)))return;$e=Ee.createStyleLayer(ze)}else{if("object"==typeof ze.source&&(this.addSource(We,ze.source),ze=Ee.clone$1(ze),ze=Ee.extend(ze,{source:We})),this._validate(Ee.validateStyle.layer,"layers."+We,ze,{arrayIndex:-1},Ue))return;$e=Ee.createStyleLayer(ze),this._validateLayer($e),$e.setEventedParent(this,{layer:{id:We}})}var Qe=Be?this._order.indexOf(Be):this._order.length;if(Be&&-1===Qe)this.fire(new Ee.ErrorEvent(new Error('Layer with id "'+Be+'" does not exist on this map.')));else{if(this._order.splice(Qe,0,We),this._layerOrderChanged=!0,this._layers[We]=$e,this._removedLayers[We]&&$e.source&&"custom"!==$e.type){var et=this._removedLayers[We];delete this._removedLayers[We],et.type!==$e.type?this._updatedSources[$e.source]="clear":(this._updatedSources[$e.source]="reload",this.sourceCaches[$e.source].pause())}this._updateLayer($e),$e.onAdd&&$e.onAdd(this.map)}}},i.prototype.moveLayer=function(ze,Be){if(this._checkLoaded(),this._changed=!0,this._layers[ze]){if(ze!==Be){var Ue=this._order.indexOf(ze);this._order.splice(Ue,1);var We=Be?this._order.indexOf(Be):this._order.length;Be&&-1===We?this.fire(new Ee.ErrorEvent(new Error('Layer with id "'+Be+'" does not exist on this map.'))):(this._order.splice(We,0,ze),this._layerOrderChanged=!0)}}else this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(ze){this._checkLoaded();var Be=this._layers[ze];if(Be){Be.setEventedParent(null);var Ue=this._order.indexOf(ze);this._order.splice(Ue,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ze]=Be,delete this._layers[ze],delete this._updatedLayers[ze],delete this._updatedPaintProps[ze],Be.onRemove&&Be.onRemove(this.map)}else this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(Ee){return this._layers[Ee]},i.prototype.setLayerZoomRange=function(ze,Be,Ue){this._checkLoaded();var We=this.getLayer(ze);We?We.minzoom===Be&&We.maxzoom===Ue||(null!=Be&&(We.minzoom=Be),null!=Ue&&(We.maxzoom=Ue),this._updateLayer(We)):this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(ze,Be,Ue){void 0===Ue&&(Ue={}),this._checkLoaded();var We=this.getLayer(ze);if(We){if(!Ee.deepEqual(We.filter,Be))return null==Be?(We.filter=void 0,void this._updateLayer(We)):void(this._validate(Ee.validateStyle.filter,"layers."+We.id+".filter",Be,null,Ue)||(We.filter=Ee.clone$1(Be),this._updateLayer(We)))}else this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(ze){return Ee.clone$1(this.getLayer(ze).filter)},i.prototype.setLayoutProperty=function(ze,Be,Ue,We){void 0===We&&(We={}),this._checkLoaded();var $e=this.getLayer(ze);$e?Ee.deepEqual($e.getLayoutProperty(Be),Ue)||($e.setLayoutProperty(Be,Ue,We),this._updateLayer($e)):this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(ze,Be){var Ue=this.getLayer(ze);if(Ue)return Ue.getLayoutProperty(Be);this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(ze,Be,Ue,We){void 0===We&&(We={}),this._checkLoaded();var $e=this.getLayer(ze);$e?Ee.deepEqual($e.getPaintProperty(Be),Ue)||($e.setPaintProperty(Be,Ue,We)&&this._updateLayer($e),this._changed=!0,this._updatedPaintProps[ze]=!0):this.fire(new Ee.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(Ee,ze){return this.getLayer(Ee).getPaintProperty(ze)},i.prototype.setFeatureState=function(ze,Be){this._checkLoaded();var Ue=ze.source,We=ze.sourceLayer,$e=this.sourceCaches[Ue],Qe=parseInt(ze.id,10);if(void 0!==$e){var et=$e.getSource().type;"geojson"===et&&We?this.fire(new Ee.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==et||We?isNaN(Qe)||Qe<0?this.fire(new Ee.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):$e.setFeatureState(We,Qe,Be):this.fire(new Ee.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ee.ErrorEvent(new Error("The source '"+Ue+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(ze,Be){this._checkLoaded();var Ue=ze.source,We=this.sourceCaches[Ue];if(void 0!==We){var $e=We.getSource().type,Qe="vector"===$e?ze.sourceLayer:void 0,et=parseInt(ze.id,10);"vector"!==$e||Qe?void 0!==ze.id&&isNaN(et)||et<0?this.fire(new Ee.ErrorEvent(new Error("The feature id parameter must be non-negative."))):Be&&"string"!=typeof ze.id&&"number"!=typeof ze.id?this.fire(new Ee.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):We.removeFeatureState(Qe,et,Be):this.fire(new Ee.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ee.ErrorEvent(new Error("The source '"+Ue+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(ze){this._checkLoaded();var Be=ze.source,Ue=ze.sourceLayer,We=this.sourceCaches[Be],$e=parseInt(ze.id,10);if(void 0!==We)if("vector"!==We.getSource().type||Ue){if(!(isNaN($e)||$e<0))return We.getFeatureState(Ue,$e);this.fire(new Ee.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new Ee.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new Ee.ErrorEvent(new Error("The source '"+Be+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return Ee.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return Ee.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:Ee.mapObject(this.sourceCaches,(function(Ee){return Ee.serialize()})),layers:this._serializeLayers(this._order)},(function(Ee){return void 0!==Ee}))},i.prototype._updateLayer=function(Ee){this._updatedLayers[Ee.id]=!0,Ee.source&&!this._updatedSources[Ee.source]&&(this._updatedSources[Ee.source]="reload",this.sourceCaches[Ee.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(Ee){for(var ze=this,i=function(Ee){return"fill-extrusion"===ze._layers[Ee].type},Be={},Ue=[],We=this._order.length-1;We>=0;We--){var $e=this._order[We];if(i($e)){Be[$e]=We;for(var Qe=0,et=Ee;Qe<et.length;Qe+=1){var tt=et[Qe][$e];if(tt)for(var rt=0,nt=tt;rt<nt.length;rt+=1){var at=nt[rt];Ue.push(at)}}}}Ue.sort((function(Ee,ze){return ze.intersectionZ-Ee.intersectionZ}));for(var it=[],ct=this._order.length-1;ct>=0;ct--){var ft=this._order[ct];if(i(ft))for(var xt=Ue.length-1;xt>=0;xt--){var kt=Ue[xt].feature;if(Be[kt.layer.id]<ct)break;it.push(kt),Ue.pop()}else for(var Lt=0,Ut=Ee;Lt<Ut.length;Lt+=1){var er=Ut[Lt][ft];if(er)for(var tr=0,rr=er;tr<rr.length;tr+=1){var ar=rr[tr];it.push(ar.feature)}}}return it},i.prototype.queryRenderedFeatures=function(ze,Be,Ue){Be&&Be.filter&&this._validate(Ee.validateStyle.filter,"queryRenderedFeatures.filter",Be.filter,null,Be);var We={};if(Be&&Be.layers){if(!Array.isArray(Be.layers))return this.fire(new Ee.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var $e=0,Qe=Be.layers;$e<Qe.length;$e+=1){var et=Qe[$e],tt=this._layers[et];if(!tt)return this.fire(new Ee.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be queried for features."))),[];We[tt.source]=!0}}var rt=[];for(var nt in this.sourceCaches)Be.layers&&!We[nt]||rt.push(O(this.sourceCaches[nt],this._layers,ze,Be,Ue));return this.placement&&rt.push(function(Ee,ze,Be,Ue,We,$e){for(var Qe={},et=We.queryRenderedSymbols(Be),tt=[],rt=0,nt=Object.keys(et).map(Number);rt<nt.length;rt+=1){var at=nt[rt];tt.push($e[at])}tt.sort(F);for(var p=function(){var ze=ct[it],Be=ze.featureIndex.lookupSymbolFeatures(et[ze.bucketInstanceId],ze.bucketIndex,ze.sourceLayerIndex,Ue.filter,Ue.layers,Ee);for(var We in Be){var $e=Qe[We]=Qe[We]||[],tt=Be[We];tt.sort((function(Ee,Be){var Ue=ze.featureSortOrder;if(Ue){var We=Ue.indexOf(Ee.featureIndex);return Ue.indexOf(Be.featureIndex)-We}return Be.featureIndex-Ee.featureIndex}));for(var rt=0,nt=tt;rt<nt.length;rt+=1){var at=nt[rt];$e.push(at)}}},it=0,ct=tt;it<ct.length;it+=1)p();var f=function(Be){Qe[Be].forEach((function(Ue){var We=Ue.feature,$e=Ee[Be],Qe=ze[$e.source].getFeatureState(We.layer["source-layer"],We.id);We.source=We.layer.source,We.layer["source-layer"]&&(We.sourceLayer=We.layer["source-layer"]),We.state=Qe}))};for(var ft in Qe)f(ft);return Qe}(this._layers,this.sourceCaches,ze,Be,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(rt)},i.prototype.querySourceFeatures=function(ze,Be){Be&&Be.filter&&this._validate(Ee.validateStyle.filter,"querySourceFeatures.filter",Be.filter,null,Be);var Ue=this.sourceCaches[ze];return Ue?function(Ee,ze){for(var Be=Ee.getRenderableIds().map((function(ze){return Ee.getTileByID(ze)})),Ue=[],We={},$e=0;$e<Be.length;$e++){var Qe=Be[$e],et=Qe.tileID.canonical.key;We[et]||(We[et]=!0,Qe.querySourceFeatures(Ue,ze))}return Ue}(Ue,Be):[]},i.prototype.addSourceType=function(Ee,ze,Be){return i.getSourceType(Ee)?Be(new Error('A source type called "'+Ee+'" already exists.')):(i.setSourceType(Ee,ze),ze.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:Ee,url:ze.workerSourceURL},Be):Be(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(ze,Be){void 0===Be&&(Be={}),this._checkLoaded();var Ue=this.light.getLight(),We=!1;for(var $e in ze)if(!Ee.deepEqual(ze[$e],Ue[$e])){We=!0;break}if(We){var Qe={now:Ee.browser.now(),transition:Ee.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ze,Be),this.light.updateTransitions(Qe)}},i.prototype._validate=function(ze,Be,Ue,We,$e){return void 0===$e&&($e={}),(!$e||!1!==$e.validate)&&Ae(this,ze.call(Ee.validateStyle,Ee.extend({key:Be,style:this.serialize(),value:Ue,styleSpec:Ee.styleSpec},We)))},i.prototype._remove=function(){for(var ze in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),Ee.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[ze].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(Ee){this.sourceCaches[Ee].clearTiles()},i.prototype._reloadSource=function(Ee){this.sourceCaches[Ee].resume(),this.sourceCaches[Ee].reload()},i.prototype._updateSources=function(Ee){for(var ze in this.sourceCaches)this.sourceCaches[ze].update(Ee)},i.prototype._generateCollisionBoxes=function(){for(var Ee in this.sourceCaches)this._reloadSource(Ee)},i.prototype._updatePlacement=function(ze,Be,Ue,We){for(var $e=!1,Qe=!1,et={},tt=0,rt=this._order;tt<rt.length;tt+=1){var nt=rt[tt],at=this._layers[nt];if("symbol"===at.type){if(!et[at.source]){var it=this.sourceCaches[at.source];et[at.source]=it.getRenderableIds(!0).map((function(Ee){return it.getTileByID(Ee)})).sort((function(Ee,ze){return ze.tileID.overscaledZ-Ee.tileID.overscaledZ||(Ee.tileID.isLessThan(ze.tileID)?-1:1)}))}var ct=this.crossTileSymbolIndex.addLayer(at,et[at.source],ze.center.lng);$e=$e||ct}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var ft=this._layerOrderChanged||0===Ue;if((ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(Ee.browser.now()))&&(this.pauseablePlacement=new Pe(ze,this._order,ft,Be,Ue,We,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,et),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(Ee.browser.now()),Qe=!0),$e&&this.pauseablePlacement.placement.setStale()),Qe||$e)for(var xt=0,kt=this._order;xt<kt.length;xt+=1){var Lt=kt[xt],Ut=this._layers[Lt];"symbol"===Ut.type&&this.placement.updateLayerOpacities(Ut,et[Ut.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(Ee.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var Ee in this.sourceCaches)this.sourceCaches[Ee].releaseSymbolFadeTiles()},i.prototype.getImages=function(Ee,ze,Be){this.imageManager.getImages(ze.icons,Be)},i.prototype.getGlyphs=function(Ee,ze,Be){this.glyphManager.getGlyphs(ze.stacks,Be)},i.prototype.getResource=function(ze,Be,Ue){return Ee.makeRequest(Be,Ue)},i}(Ee.Evented);Ho.getSourceType=function(Ee){return Lr[Ee]},Ho.setSourceType=function(Ee,ze){Lr[Ee]=ze},Ho.registerForPluginAvailability=Ee.registerForPluginAvailability;var Wo=Ee.createLayout([{name:"a_pos",type:"Int16",components:2}]),Xo=ui("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),$o=ui("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),es=ui("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ts=ui("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),rs=ui("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ns=ui("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),as=ui("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),os=ui("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ss=ui("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),ls=ui("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),cs=ui("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),us=ui("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fs=ui("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),hs=ui("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),ms=ui("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),vs=ui("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ks=ui("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ms=ui("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Ss=ui("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Es=ui("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Ls=ui("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),Ds=ui("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Rs=ui("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Bs=ui("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ns=ui("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function ui(Ee,ze){var Be=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Ue={};return{fragmentSource:Ee=Ee.replace(Be,(function(Ee,ze,Be,We,$e){return Ue[$e]=!0,"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+$e+"\nvarying "+Be+" "+We+" "+$e+";\n#else\nuniform "+Be+" "+We+" u_"+$e+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+$e+"\n    "+Be+" "+We+" "+$e+" = u_"+$e+";\n#endif\n"})),vertexSource:ze=ze.replace(Be,(function(Ee,ze,Be,We,$e){var Qe="float"===We?"vec2":"vec4",et=$e.match(/color/)?"color":Qe;return Ue[$e]?"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+$e+"\nuniform lowp float u_"+$e+"_t;\nattribute "+Be+" "+Qe+" a_"+$e+";\nvarying "+Be+" "+We+" "+$e+";\n#else\nuniform "+Be+" "+We+" u_"+$e+";\n#endif\n":"vec4"===et?"\n#ifndef HAS_UNIFORM_u_"+$e+"\n    "+$e+" = a_"+$e+";\n#else\n    "+Be+" "+We+" "+$e+" = u_"+$e+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+$e+"\n    "+$e+" = unpack_mix_"+et+"(a_"+$e+", u_"+$e+"_t);\n#else\n    "+Be+" "+We+" "+$e+" = u_"+$e+";\n#endif\n":"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+$e+"\nuniform lowp float u_"+$e+"_t;\nattribute "+Be+" "+Qe+" a_"+$e+";\n#else\nuniform "+Be+" "+We+" u_"+$e+";\n#endif\n":"vec4"===et?"\n#ifndef HAS_UNIFORM_u_"+$e+"\n    "+Be+" "+We+" "+$e+" = a_"+$e+";\n#else\n    "+Be+" "+We+" "+$e+" = u_"+$e+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+$e+"\n    "+Be+" "+We+" "+$e+" = unpack_mix_"+et+"(a_"+$e+", u_"+$e+"_t);\n#else\n    "+Be+" "+We+" "+$e+" = u_"+$e+";\n#endif\n"}))}}var js=Object.freeze({prelude:Xo,background:$o,backgroundPattern:es,circle:ts,clippingMask:rs,heatmap:ns,heatmapTexture:as,collisionBox:os,collisionCircle:ss,debug:ls,fill:cs,fillOutline:us,fillOutlinePattern:fs,fillPattern:hs,fillExtrusion:ms,fillExtrusionPattern:vs,hillshadePrepare:ks,hillshade:Ms,line:Ss,lineGradient:Es,linePattern:Ls,lineSDF:Ds,raster:Rs,symbolIcon:Bs,symbolSDF:Ns}),pi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};pi.prototype.bind=function(Ee,ze,Be,Ue,We,$e,Qe,et){this.context=Ee;for(var tt=this.boundPaintVertexBuffers.length!==Ue.length,rt=0;!tt&&rt<Ue.length;rt++)this.boundPaintVertexBuffers[rt]!==Ue[rt]&&(tt=!0);var nt=!this.vao||this.boundProgram!==ze||this.boundLayoutVertexBuffer!==Be||tt||this.boundIndexBuffer!==We||this.boundVertexOffset!==$e||this.boundDynamicVertexBuffer!==Qe||this.boundDynamicVertexBuffer2!==et;!Ee.extVertexArrayObject||nt?this.freshBind(ze,Be,Ue,We,$e,Qe,et):(Ee.bindVertexArrayOES.set(this.vao),Qe&&Qe.bind(),We&&We.dynamicDraw&&We.bind(),et&&et.bind())},pi.prototype.freshBind=function(Ee,ze,Be,Ue,We,$e,Qe){var et,tt=Ee.numAttributes,rt=this.context,nt=rt.gl;if(rt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=rt.extVertexArrayObject.createVertexArrayOES(),rt.bindVertexArrayOES.set(this.vao),et=0,this.boundProgram=Ee,this.boundLayoutVertexBuffer=ze,this.boundPaintVertexBuffers=Be,this.boundIndexBuffer=Ue,this.boundVertexOffset=We,this.boundDynamicVertexBuffer=$e,this.boundDynamicVertexBuffer2=Qe;else{et=rt.currentNumAttributes||0;for(var at=tt;at<et;at++)nt.disableVertexAttribArray(at)}ze.enableAttributes(nt,Ee);for(var it=0,ct=Be;it<ct.length;it+=1)ct[it].enableAttributes(nt,Ee);$e&&$e.enableAttributes(nt,Ee),Qe&&Qe.enableAttributes(nt,Ee),ze.bind(),ze.setVertexAttribPointers(nt,Ee,We);for(var ft=0,xt=Be;ft<xt.length;ft+=1){var kt=xt[ft];kt.bind(),kt.setVertexAttribPointers(nt,Ee,We)}$e&&($e.bind(),$e.setVertexAttribPointers(nt,Ee,We)),Ue&&Ue.bind(),Qe&&(Qe.bind(),Qe.setVertexAttribPointers(nt,Ee,We)),rt.currentNumAttributes=tt},pi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var di=function(Ee,ze,Be,Ue,We){var $e=Ee.gl;this.program=$e.createProgram();var Qe=Be.defines();We&&Qe.push("#define OVERDRAW_INSPECTOR;");var et=Qe.concat(Xo.fragmentSource,ze.fragmentSource).join("\n"),tt=Qe.concat(Xo.vertexSource,ze.vertexSource).join("\n"),rt=$e.createShader($e.FRAGMENT_SHADER);$e.shaderSource(rt,et),$e.compileShader(rt),$e.attachShader(this.program,rt);var nt=$e.createShader($e.VERTEX_SHADER);$e.shaderSource(nt,tt),$e.compileShader(nt),$e.attachShader(this.program,nt);for(var at=Be.layoutAttributes||[],it=0;it<at.length;it++)$e.bindAttribLocation(this.program,it,at[it].name);$e.linkProgram(this.program),this.numAttributes=$e.getProgramParameter(this.program,$e.ACTIVE_ATTRIBUTES),this.attributes={};for(var ct={},ft=0;ft<this.numAttributes;ft++){var xt=$e.getActiveAttrib(this.program,ft);xt&&(this.attributes[xt.name]=$e.getAttribLocation(this.program,xt.name))}for(var kt=$e.getProgramParameter(this.program,$e.ACTIVE_UNIFORMS),Lt=0;Lt<kt;Lt++){var Ut=$e.getActiveUniform(this.program,Lt);Ut&&(ct[Ut.name]=$e.getUniformLocation(this.program,Ut.name))}this.fixedUniforms=Ue(Ee,ct),this.binderUniforms=Be.getUniforms(Ee,ct)};function _i(ze,Be,Ue){var We=1/ue(Ue,1,Be.transform.tileZoom),$e=Math.pow(2,Ue.tileID.overscaledZ),Qe=Ue.tileSize*Math.pow(2,Be.transform.tileZoom)/$e,et=Qe*(Ue.tileID.canonical.x+Ue.tileID.wrap*$e),tt=Qe*Ue.tileID.canonical.y;return{u_image:0,u_texsize:Ue.imageAtlasTexture.size,u_scale:[Ee.browser.devicePixelRatio,We,ze.fromScale,ze.toScale],u_fade:ze.t,u_pixel_coord_upper:[et>>16,tt>>16],u_pixel_coord_lower:[65535&et,65535&tt]}}di.prototype.draw=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft,xt){var kt,Lt=Ee.gl;for(var Ut in Ee.program.set(this.program),Ee.setDepthMode(Be),Ee.setStencilMode(Ue),Ee.setColorMode(We),Ee.setCullFace($e),this.fixedUniforms)this.fixedUniforms[Ut].set(Qe[Ut]);ct&&ct.setUniforms(Ee,this.binderUniforms,at,{zoom:it});for(var er=(kt={},kt[Lt.LINES]=2,kt[Lt.TRIANGLES]=3,kt[Lt.LINE_STRIP]=1,kt)[ze],tr=0,rr=nt.get();tr<rr.length;tr+=1){var ar=rr[tr],Lr=ar.vaos||(ar.vaos={});(Lr[et]||(Lr[et]=new pi)).bind(Ee,this,tt,ct?ct.getPaintVertexBuffers():[],rt,ar.vertexOffset,ft,xt),Lt.drawElements(ze,ar.primitiveLength*er,Lt.UNSIGNED_SHORT,ar.primitiveOffset*er*2)}};var fi=function(ze,Be,Ue,We){var $e=Be.style.light,Qe=$e.properties.get("position"),et=[Qe.x,Qe.y,Qe.z],tt=Ee.create$1();"viewport"===$e.properties.get("anchor")&&Ee.fromRotation(tt,-Be.transform.angle),Ee.transformMat3(et,et,tt);var rt=$e.properties.get("color");return{u_matrix:ze,u_lightpos:et,u_lightintensity:$e.properties.get("intensity"),u_lightcolor:[rt.r,rt.g,rt.b],u_vertical_gradient:+Ue,u_opacity:We}},mi=function(ze,Be,Ue,We,$e,Qe,et){return Ee.extend(fi(ze,Be,Ue,We),_i(Qe,Be,et),{u_height_factor:-Math.pow(2,$e.overscaledZ)/et.tileSize/8})},gi=function(Ee){return{u_matrix:Ee}},vi=function(ze,Be,Ue,We){return Ee.extend(gi(ze),_i(Ue,Be,We))},yi=function(Ee,ze){return{u_matrix:Ee,u_world:ze}},xi=function(ze,Be,Ue,We,$e){return Ee.extend(vi(ze,Be,Ue,We),{u_world:$e})},bi=function(ze,Be,Ue,We){var $e,Qe,et=ze.transform;if("map"===We.paint.get("circle-pitch-alignment")){var tt=ue(Ue,1,et.zoom);$e=!0,Qe=[tt,tt]}else $e=!1,Qe=et.pixelsToGLUnits;return{u_camera_to_center_distance:et.cameraToCenterDistance,u_scale_with_map:+("map"===We.paint.get("circle-pitch-scale")),u_matrix:ze.translatePosMatrix(Be.posMatrix,Ue,We.paint.get("circle-translate"),We.paint.get("circle-translate-anchor")),u_pitch_with_map:+$e,u_device_pixel_ratio:Ee.browser.devicePixelRatio,u_extrude_scale:Qe}},wi=function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_camera_to_center_distance:new Ee.Uniform1f(ze,Be.u_camera_to_center_distance),u_pixels_to_tile_units:new Ee.Uniform1f(ze,Be.u_pixels_to_tile_units),u_extrude_scale:new Ee.Uniform2f(ze,Be.u_extrude_scale),u_overscale_factor:new Ee.Uniform1f(ze,Be.u_overscale_factor)}},Ei=function(Ee,ze,Be){var Ue=ue(Be,1,ze.zoom),We=Math.pow(2,ze.zoom-Be.tileID.overscaledZ),$e=Be.tileID.overscaleFactor();return{u_matrix:Ee,u_camera_to_center_distance:ze.cameraToCenterDistance,u_pixels_to_tile_units:Ue,u_extrude_scale:[ze.pixelsToGLUnits[0]/(Ue*We),ze.pixelsToGLUnits[1]/(Ue*We)],u_overscale_factor:$e}},Ti=function(Ee,ze){return{u_matrix:Ee,u_color:ze}},Ii=function(Ee){return{u_matrix:Ee}},Si=function(Ee,ze,Be,Ue){return{u_matrix:Ee,u_extrude_scale:ue(ze,1,Be),u_intensity:Ue}};function Li(ze,Be){var Ue=Math.pow(2,Be.canonical.z),We=Be.canonical.y;return[new Ee.MercatorCoordinate(0,We/Ue).toLngLat().lat,new Ee.MercatorCoordinate(0,(We+1)/Ue).toLngLat().lat]}var Mi=function(ze,Be,Ue){var We=ze.transform;return{u_matrix:Bi(ze,Be,Ue),u_ratio:1/ue(Be,1,We.zoom),u_device_pixel_ratio:Ee.browser.devicePixelRatio,u_units_to_pixels:[1/We.pixelsToGLUnits[0],1/We.pixelsToGLUnits[1]]}},Di=function(ze,Be,Ue){return Ee.extend(Mi(ze,Be,Ue),{u_image:0})},Ri=function(ze,Be,Ue,We){var $e=ze.transform,Qe=ki(Be,$e);return{u_matrix:Bi(ze,Be,Ue),u_texsize:Be.imageAtlasTexture.size,u_ratio:1/ue(Be,1,$e.zoom),u_device_pixel_ratio:Ee.browser.devicePixelRatio,u_image:0,u_scale:[Ee.browser.devicePixelRatio,Qe,We.fromScale,We.toScale],u_fade:We.t,u_units_to_pixels:[1/$e.pixelsToGLUnits[0],1/$e.pixelsToGLUnits[1]]}},Ai=function(ze,Be,Ue,We,$e){var Qe=ze.transform,et=ze.lineAtlas,tt=ki(Be,Qe),rt="round"===Ue.layout.get("line-cap"),nt=et.getDash(We.from,rt),at=et.getDash(We.to,rt),it=nt.width*$e.fromScale,ct=at.width*$e.toScale;return Ee.extend(Mi(ze,Be,Ue),{u_patternscale_a:[tt/it,-nt.height/2],u_patternscale_b:[tt/ct,-at.height/2],u_sdfgamma:et.width/(256*Math.min(it,ct)*Ee.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:nt.y,u_tex_y_b:at.y,u_mix:$e.t})};function ki(Ee,ze){return 1/ue(Ee,1,ze.tileZoom)}function Bi(Ee,ze,Be){return Ee.translatePosMatrix(ze.tileID.posMatrix,ze,Be.paint.get("line-translate"),Be.paint.get("line-translate-anchor"))}var Oi=function(Ee,ze,Be,Ue,We){return{u_matrix:Ee,u_tl_parent:ze,u_scale_parent:Be,u_buffer_scale:1,u_fade_t:Ue.mix,u_opacity:Ue.opacity*We.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:We.paint.get("raster-brightness-min"),u_brightness_high:We.paint.get("raster-brightness-max"),u_saturation_factor:(Qe=We.paint.get("raster-saturation"),Qe>0?1-1/(1.001-Qe):-Qe),u_contrast_factor:($e=We.paint.get("raster-contrast"),$e>0?1/(1-$e):1+$e),u_spin_weights:Fi(We.paint.get("raster-hue-rotate"))};var $e,Qe};function Fi(Ee){Ee*=Math.PI/180;var ze=Math.sin(Ee),Be=Math.cos(Ee);return[(2*Be+1)/3,(-Math.sqrt(3)*ze-Be+1)/3,(Math.sqrt(3)*ze-Be+1)/3]}var Ui=function(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt){var nt=We.transform;return{u_is_size_zoom_constant:+("constant"===Ee||"source"===Ee),u_is_size_feature_constant:+("constant"===Ee||"camera"===Ee),u_size_t:ze?ze.uSizeT:0,u_size:ze?ze.uSize:0,u_camera_to_center_distance:nt.cameraToCenterDistance,u_pitch:nt.pitch/360*2*Math.PI,u_rotate_symbol:+Be,u_aspect_ratio:nt.width/nt.height,u_fade_change:We.options.fadeDuration?We.symbolFadeChange:1,u_matrix:$e,u_label_plane_matrix:Qe,u_coord_matrix:et,u_is_text:+tt,u_pitch_with_map:+Ue,u_texsize:rt,u_texture:0}},Ni=function(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at){var it=$e.transform;return Ee.extend(Ui(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt),{u_gamma_scale:We?Math.cos(it._pitch)*it.cameraToCenterDistance:1,u_device_pixel_ratio:Ee.browser.devicePixelRatio,u_is_halo:+at})},Zi=function(Ee,ze,Be){return{u_matrix:Ee,u_opacity:ze,u_color:Be}},qi=function(ze,Be,Ue,We,$e,Qe){return Ee.extend(function(Ee,ze,Be,Ue){var We=Be.imageManager.getPattern(Ee.from),$e=Be.imageManager.getPattern(Ee.to),Qe=Be.imageManager.getPixelSize(),et=Qe.width,tt=Qe.height,rt=Math.pow(2,Ue.tileID.overscaledZ),nt=Ue.tileSize*Math.pow(2,Be.transform.tileZoom)/rt,at=nt*(Ue.tileID.canonical.x+Ue.tileID.wrap*rt),it=nt*Ue.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:We.tl,u_pattern_br_a:We.br,u_pattern_tl_b:$e.tl,u_pattern_br_b:$e.br,u_texsize:[et,tt],u_mix:ze.t,u_pattern_size_a:We.displaySize,u_pattern_size_b:$e.displaySize,u_scale_a:ze.fromScale,u_scale_b:ze.toScale,u_tile_units_to_pixels:1/ue(Ue,1,Be.transform.tileZoom),u_pixel_coord_upper:[at>>16,it>>16],u_pixel_coord_lower:[65535&at,65535&it]}}(We,Qe,Ue,$e),{u_matrix:ze,u_opacity:Be})},Hs={fillExtrusion:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_lightpos:new Ee.Uniform3f(ze,Be.u_lightpos),u_lightintensity:new Ee.Uniform1f(ze,Be.u_lightintensity),u_lightcolor:new Ee.Uniform3f(ze,Be.u_lightcolor),u_vertical_gradient:new Ee.Uniform1f(ze,Be.u_vertical_gradient),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity)}},fillExtrusionPattern:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_lightpos:new Ee.Uniform3f(ze,Be.u_lightpos),u_lightintensity:new Ee.Uniform1f(ze,Be.u_lightintensity),u_lightcolor:new Ee.Uniform3f(ze,Be.u_lightcolor),u_vertical_gradient:new Ee.Uniform1f(ze,Be.u_vertical_gradient),u_height_factor:new Ee.Uniform1f(ze,Be.u_height_factor),u_image:new Ee.Uniform1i(ze,Be.u_image),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_pixel_coord_upper:new Ee.Uniform2f(ze,Be.u_pixel_coord_upper),u_pixel_coord_lower:new Ee.Uniform2f(ze,Be.u_pixel_coord_lower),u_scale:new Ee.Uniform4f(ze,Be.u_scale),u_fade:new Ee.Uniform1f(ze,Be.u_fade),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity)}},fill:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix)}},fillPattern:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_image:new Ee.Uniform1i(ze,Be.u_image),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_pixel_coord_upper:new Ee.Uniform2f(ze,Be.u_pixel_coord_upper),u_pixel_coord_lower:new Ee.Uniform2f(ze,Be.u_pixel_coord_lower),u_scale:new Ee.Uniform4f(ze,Be.u_scale),u_fade:new Ee.Uniform1f(ze,Be.u_fade)}},fillOutline:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_world:new Ee.Uniform2f(ze,Be.u_world)}},fillOutlinePattern:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_world:new Ee.Uniform2f(ze,Be.u_world),u_image:new Ee.Uniform1i(ze,Be.u_image),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_pixel_coord_upper:new Ee.Uniform2f(ze,Be.u_pixel_coord_upper),u_pixel_coord_lower:new Ee.Uniform2f(ze,Be.u_pixel_coord_lower),u_scale:new Ee.Uniform4f(ze,Be.u_scale),u_fade:new Ee.Uniform1f(ze,Be.u_fade)}},circle:function(ze,Be){return{u_camera_to_center_distance:new Ee.Uniform1f(ze,Be.u_camera_to_center_distance),u_scale_with_map:new Ee.Uniform1i(ze,Be.u_scale_with_map),u_pitch_with_map:new Ee.Uniform1i(ze,Be.u_pitch_with_map),u_extrude_scale:new Ee.Uniform2f(ze,Be.u_extrude_scale),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix)}},collisionBox:wi,collisionCircle:wi,debug:function(ze,Be){return{u_color:new Ee.UniformColor(ze,Be.u_color),u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix)}},clippingMask:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix)}},heatmap:function(ze,Be){return{u_extrude_scale:new Ee.Uniform1f(ze,Be.u_extrude_scale),u_intensity:new Ee.Uniform1f(ze,Be.u_intensity),u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix)}},heatmapTexture:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_world:new Ee.Uniform2f(ze,Be.u_world),u_image:new Ee.Uniform1i(ze,Be.u_image),u_color_ramp:new Ee.Uniform1i(ze,Be.u_color_ramp),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity)}},hillshade:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_image:new Ee.Uniform1i(ze,Be.u_image),u_latrange:new Ee.Uniform2f(ze,Be.u_latrange),u_light:new Ee.Uniform2f(ze,Be.u_light),u_shadow:new Ee.UniformColor(ze,Be.u_shadow),u_highlight:new Ee.UniformColor(ze,Be.u_highlight),u_accent:new Ee.UniformColor(ze,Be.u_accent)}},hillshadePrepare:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_image:new Ee.Uniform1i(ze,Be.u_image),u_dimension:new Ee.Uniform2f(ze,Be.u_dimension),u_zoom:new Ee.Uniform1f(ze,Be.u_zoom),u_maxzoom:new Ee.Uniform1f(ze,Be.u_maxzoom)}},line:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_ratio:new Ee.Uniform1f(ze,Be.u_ratio),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_units_to_pixels:new Ee.Uniform2f(ze,Be.u_units_to_pixels)}},lineGradient:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_ratio:new Ee.Uniform1f(ze,Be.u_ratio),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_units_to_pixels:new Ee.Uniform2f(ze,Be.u_units_to_pixels),u_image:new Ee.Uniform1i(ze,Be.u_image)}},linePattern:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_ratio:new Ee.Uniform1f(ze,Be.u_ratio),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_image:new Ee.Uniform1i(ze,Be.u_image),u_units_to_pixels:new Ee.Uniform2f(ze,Be.u_units_to_pixels),u_scale:new Ee.Uniform4f(ze,Be.u_scale),u_fade:new Ee.Uniform1f(ze,Be.u_fade)}},lineSDF:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_ratio:new Ee.Uniform1f(ze,Be.u_ratio),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_units_to_pixels:new Ee.Uniform2f(ze,Be.u_units_to_pixels),u_patternscale_a:new Ee.Uniform2f(ze,Be.u_patternscale_a),u_patternscale_b:new Ee.Uniform2f(ze,Be.u_patternscale_b),u_sdfgamma:new Ee.Uniform1f(ze,Be.u_sdfgamma),u_image:new Ee.Uniform1i(ze,Be.u_image),u_tex_y_a:new Ee.Uniform1f(ze,Be.u_tex_y_a),u_tex_y_b:new Ee.Uniform1f(ze,Be.u_tex_y_b),u_mix:new Ee.Uniform1f(ze,Be.u_mix)}},raster:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_tl_parent:new Ee.Uniform2f(ze,Be.u_tl_parent),u_scale_parent:new Ee.Uniform1f(ze,Be.u_scale_parent),u_buffer_scale:new Ee.Uniform1f(ze,Be.u_buffer_scale),u_fade_t:new Ee.Uniform1f(ze,Be.u_fade_t),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity),u_image0:new Ee.Uniform1i(ze,Be.u_image0),u_image1:new Ee.Uniform1i(ze,Be.u_image1),u_brightness_low:new Ee.Uniform1f(ze,Be.u_brightness_low),u_brightness_high:new Ee.Uniform1f(ze,Be.u_brightness_high),u_saturation_factor:new Ee.Uniform1f(ze,Be.u_saturation_factor),u_contrast_factor:new Ee.Uniform1f(ze,Be.u_contrast_factor),u_spin_weights:new Ee.Uniform3f(ze,Be.u_spin_weights)}},symbolIcon:function(ze,Be){return{u_is_size_zoom_constant:new Ee.Uniform1i(ze,Be.u_is_size_zoom_constant),u_is_size_feature_constant:new Ee.Uniform1i(ze,Be.u_is_size_feature_constant),u_size_t:new Ee.Uniform1f(ze,Be.u_size_t),u_size:new Ee.Uniform1f(ze,Be.u_size),u_camera_to_center_distance:new Ee.Uniform1f(ze,Be.u_camera_to_center_distance),u_pitch:new Ee.Uniform1f(ze,Be.u_pitch),u_rotate_symbol:new Ee.Uniform1i(ze,Be.u_rotate_symbol),u_aspect_ratio:new Ee.Uniform1f(ze,Be.u_aspect_ratio),u_fade_change:new Ee.Uniform1f(ze,Be.u_fade_change),u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_label_plane_matrix:new Ee.UniformMatrix4f(ze,Be.u_label_plane_matrix),u_coord_matrix:new Ee.UniformMatrix4f(ze,Be.u_coord_matrix),u_is_text:new Ee.Uniform1f(ze,Be.u_is_text),u_pitch_with_map:new Ee.Uniform1i(ze,Be.u_pitch_with_map),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_texture:new Ee.Uniform1i(ze,Be.u_texture)}},symbolSDF:function(ze,Be){return{u_is_size_zoom_constant:new Ee.Uniform1i(ze,Be.u_is_size_zoom_constant),u_is_size_feature_constant:new Ee.Uniform1i(ze,Be.u_is_size_feature_constant),u_size_t:new Ee.Uniform1f(ze,Be.u_size_t),u_size:new Ee.Uniform1f(ze,Be.u_size),u_camera_to_center_distance:new Ee.Uniform1f(ze,Be.u_camera_to_center_distance),u_pitch:new Ee.Uniform1f(ze,Be.u_pitch),u_rotate_symbol:new Ee.Uniform1i(ze,Be.u_rotate_symbol),u_aspect_ratio:new Ee.Uniform1f(ze,Be.u_aspect_ratio),u_fade_change:new Ee.Uniform1f(ze,Be.u_fade_change),u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_label_plane_matrix:new Ee.UniformMatrix4f(ze,Be.u_label_plane_matrix),u_coord_matrix:new Ee.UniformMatrix4f(ze,Be.u_coord_matrix),u_is_text:new Ee.Uniform1f(ze,Be.u_is_text),u_pitch_with_map:new Ee.Uniform1i(ze,Be.u_pitch_with_map),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_texture:new Ee.Uniform1i(ze,Be.u_texture),u_gamma_scale:new Ee.Uniform1f(ze,Be.u_gamma_scale),u_device_pixel_ratio:new Ee.Uniform1f(ze,Be.u_device_pixel_ratio),u_is_halo:new Ee.Uniform1f(ze,Be.u_is_halo)}},background:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity),u_color:new Ee.UniformColor(ze,Be.u_color)}},backgroundPattern:function(ze,Be){return{u_matrix:new Ee.UniformMatrix4f(ze,Be.u_matrix),u_opacity:new Ee.Uniform1f(ze,Be.u_opacity),u_image:new Ee.Uniform1i(ze,Be.u_image),u_pattern_tl_a:new Ee.Uniform2f(ze,Be.u_pattern_tl_a),u_pattern_br_a:new Ee.Uniform2f(ze,Be.u_pattern_br_a),u_pattern_tl_b:new Ee.Uniform2f(ze,Be.u_pattern_tl_b),u_pattern_br_b:new Ee.Uniform2f(ze,Be.u_pattern_br_b),u_texsize:new Ee.Uniform2f(ze,Be.u_texsize),u_mix:new Ee.Uniform1f(ze,Be.u_mix),u_pattern_size_a:new Ee.Uniform2f(ze,Be.u_pattern_size_a),u_pattern_size_b:new Ee.Uniform2f(ze,Be.u_pattern_size_b),u_scale_a:new Ee.Uniform1f(ze,Be.u_scale_a),u_scale_b:new Ee.Uniform1f(ze,Be.u_scale_b),u_pixel_coord_upper:new Ee.Uniform2f(ze,Be.u_pixel_coord_upper),u_pixel_coord_lower:new Ee.Uniform2f(ze,Be.u_pixel_coord_lower),u_tile_units_to_pixels:new Ee.Uniform1f(ze,Be.u_tile_units_to_pixels)}}};function Vi(ze,Be){for(var Ue=ze.sort((function(Ee,ze){return Ee.tileID.isLessThan(ze.tileID)?-1:ze.tileID.isLessThan(Ee.tileID)?1:0})),We=0;We<Ue.length;We++){var $e={},Qe=Ue[We],et=Ue.slice(We+1);Gi(Qe.tileID.wrapped(),Qe.tileID,et,new Ee.OverscaledTileID(0,Qe.tileID.wrap+1,0,0,0),$e),Qe.setMask($e,Be)}}function Gi(ze,Be,Ue,We,$e){for(var Qe=0;Qe<Ue.length;Qe++){var et=Ue[Qe];if(We.isLessThan(et.tileID))break;if(Be.key===et.tileID.key)return;if(et.tileID.isChildOf(Be)){for(var tt=Be.children(1/0),rt=0;rt<tt.length;rt++)Gi(ze,tt[rt],Ue.slice(Qe),We,$e);return}}var nt=Be.overscaledZ-ze.overscaledZ,at=new Ee.CanonicalTileID(nt,Be.canonical.x-(ze.canonical.x<<nt),Be.canonical.y-(ze.canonical.y<<nt));$e[at.key]=$e[at.key]||at}function Wi(Ee,ze,Be,Ue,We){for(var $e=Ee.context,Qe=$e.gl,et=We?Ee.useProgram("collisionCircle"):Ee.useProgram("collisionBox"),tt=0;tt<Ue.length;tt++){var rt=Ue[tt],nt=ze.getTile(rt),at=nt.getBucket(Be);if(at){var it=We?at.collisionCircle:at.collisionBox;it&&et.draw($e,We?Qe.TRIANGLES:Qe.LINES,It.disabled,St.disabled,Ee.colorModeForRenderPass(),Pt.disabled,Ei(rt.posMatrix,Ee.transform,nt),Be.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,null,Ee.transform.zoom,null,null,it.collisionVertexBuffer)}}}var qs=Ee.identity(new Float32Array(16));function Hi(ze,Be,Ue,We,$e,Qe){var et=Ee.getAnchorAlignment(ze),tt=-(et.horizontalAlign-.5)*Be,rt=-(et.verticalAlign-.5)*Ue,nt=Ee.evaluateRadialOffset(ze,We);return new Ee.Point((tt/$e+nt[0])*Qe,(rt/$e+nt[1])*Qe)}function Ki(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt){var at=ze.text.placedSymbolArray,it=ze.text.dynamicLayoutVertexArray;it.clear();for(var ct=0;ct<at.length;ct++){var ft=at.get(ct),xt=ze.allowVerticalPlacement&&!ft.placedOrientation,kt=ft.hidden||!ft.crossTileID||xt?null:We[ft.crossTileID];if(kt){var Lt=new Ee.Point(ft.anchorX,ft.anchorY),Ut=Yt(Lt,Ue?tt:et),er=.5+Qe.cameraToCenterDistance/Ut.signedDistanceFromCamera*.5,tr=$e.evaluateSizeForFeature(ze.textSizeData,nt,ft)*er/Ee.ONE_EM;Ue&&(tr*=ze.tilePixelRatio/rt);for(var rr=kt.width,ar=kt.height,Lr=kt.radialOffset,Qr=kt.textBoxScale,on=Hi(kt.anchor,rr,ar,Lr,Qr,tr),sn=Ue?Yt(Lt.add(on),et).point:Ut.point.add(Be?on.rotate(-Qe.angle):on),ln=ze.allowVerticalPlacement&&ft.placedOrientation===Ee.WritingMode.vertical?Math.PI/2:0,cn=0;cn<ft.numGlyphs;cn++)Ee.addDynamicAttributes(it,sn,ln)}else ne(ft.numGlyphs,it)}ze.text.dynamicLayoutVertexBuffer.updateData(it)}function Ji(ze){var Be=ze.text.placedSymbolArray,Ue=ze.text.dynamicLayoutVertexArray;Ue.clear();for(var We=0;We<Be.length;We++){var $e=Be.get(We);if($e.hidden||!$e.placedOrientation)ne($e.numGlyphs,Ue);else for(var Qe=new Ee.Point($e.anchorX,$e.anchorY),et=ze.allowVerticalPlacement&&$e.placedOrientation===Ee.WritingMode.vertical?Math.PI/2:0,tt=0;tt<$e.numGlyphs;tt++)Ee.addDynamicAttributes(Ue,Qe,et)}ze.text.dynamicLayoutVertexBuffer.updateData(Ue)}function Yi(ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at,it,ct){for(var ft,xt,kt=ze.context,Lt=kt.gl,Ut=ze.transform,er="map"===tt,tr="map"===rt,rr=er&&"point"!==Ue.layout.get("symbol-placement"),ar=er&&!tr&&!rr,Lr=void 0!==Ue.layout.get("symbol-sort-key").constantOr(1),Qr=ze.depthModeForSublayer(0,It.ReadOnly),on=Ue.layout.get("text-variable-anchor"),sn=[],ln=0,cn=We;ln<cn.length;ln+=1){var un=cn[ln],hn=Be.getTile(un),dn=hn.getBucket(Ue);if(dn){var vn=$e?dn.text:dn.icon;if(vn&&vn.segments.get().length){var yn=vn.programConfigurations.get(Ue.id),_n=$e||dn.sdfIcons,Mn=$e?dn.textSizeData:dn.iconSizeData;ft||(ft=ze.useProgram(_n?"symbolSDF":"symbolIcon",yn),xt=Ee.evaluateSizeForZoom(Mn,Ut.zoom)),kt.activeTexture.set(Lt.TEXTURE0);var Cn=void 0,En=void 0,Pn=void 0;if($e)En=hn.glyphAtlasTexture,Pn=Lt.LINEAR,Cn=hn.glyphAtlasTexture.size;else{var In=1!==Ue.layout.get("icon-size").constantOr(0)||dn.iconsNeedLinear,Bn=tr||0!==Ut.pitch;En=hn.imageAtlasTexture,Pn=_n||ze.options.rotating||ze.options.zooming||In||Bn?Lt.LINEAR:Lt.NEAREST,Cn=hn.imageAtlasTexture.size}var Hn=ue(hn,1,ze.transform.zoom),Kn=Kt(un.posMatrix,tr,er,ze.transform,Hn),Jn=Jt(un.posMatrix,tr,er,ze.transform,Hn);if(rr)$t(dn,un.posMatrix,ze,$e,Kn,Jn,tr,nt);else if($e&&xt&&on){var Ma=Math.pow(2,Ut.zoom-hn.tileID.overscaledZ);Ki(dn,er,tr,ct,Ee.symbolSize,Ut,Kn,un.posMatrix,Ma,xt)}else $e&&xt&&dn.allowVerticalPlacement&&Ji(dn);var Sa=ze.translatePosMatrix(un.posMatrix,hn,Qe,et),La=rr||$e&&on?qs:Kn,Ia=ze.translatePosMatrix(Jn,hn,Qe,et,!0),Ra=_n&&0!==Ue.paint.get($e?"text-halo-width":"icon-halo-width").constantOr(1),Na={program:ft,buffers:vn,uniformValues:_n?Ni(Mn.kind,xt,ar,tr,ze,Sa,La,Ia,$e,Cn,!0):Ui(Mn.kind,xt,ar,tr,ze,Sa,La,Ia,$e,Cn),atlasTexture:En,atlasInterpolation:Pn,isSDF:_n,hasHalo:Ra};if(Lr)for(var Ua=0,qa=vn.segments.get();Ua<qa.length;Ua+=1){var Ka=qa[Ua];sn.push({segments:new Ee.SegmentVector([Ka]),sortKey:Ka.sortKey,state:Na})}else sn.push({segments:vn.segments,sortKey:0,state:Na})}}}Lr&&sn.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}));for(var ei=0,ti=sn;ei<ti.length;ei+=1){var ri=ti[ei],ni=ri.state;if(ni.atlasTexture.bind(ni.atlasInterpolation,Lt.CLAMP_TO_EDGE),ni.isSDF){var ai=ni.uniformValues;ni.hasHalo&&(ai.u_is_halo=1,Qi(ni.buffers,ri.segments,Ue,ze,ni.program,Qr,at,it,ai)),ai.u_is_halo=0}Qi(ni.buffers,ri.segments,Ue,ze,ni.program,Qr,at,it,ni.uniformValues)}}function Qi(Ee,ze,Be,Ue,We,$e,Qe,et,tt){var rt=Ue.context,nt=rt.gl;We.draw(rt,nt.TRIANGLES,$e,Qe,et,Pt.disabled,tt,Be.id,Ee.layoutVertexBuffer,Ee.indexBuffer,ze,Be.paint,Ue.transform.zoom,Ee.programConfigurations.get(Be.id),Ee.dynamicLayoutVertexBuffer,Ee.opacityVertexBuffer)}function $i(Ee,ze,Be,Ue,We,$e,Qe){var et,tt,rt,nt,at,it=Ee.context.gl,ct=Be.paint.get("fill-pattern"),ft=ct&&ct.constantOr(1),xt=Be.getCrossfadeParameters();Qe?(tt=ft&&!Be.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",et=it.LINES):(tt=ft?"fillPattern":"fill",et=it.TRIANGLES);for(var kt=0,Lt=Ue;kt<Lt.length;kt+=1){var Ut=Lt[kt],er=ze.getTile(Ut);if(!ft||er.patternsLoaded()){var tr=er.getBucket(Be);if(tr){var rr=tr.programConfigurations.get(Be.id),ar=Ee.useProgram(tt,rr);ft&&(Ee.context.activeTexture.set(it.TEXTURE0),er.imageAtlasTexture.bind(it.LINEAR,it.CLAMP_TO_EDGE),rr.updatePatternPaintBuffers(xt));var Lr=ct.constantOr(null);if(Lr&&er.imageAtlas){var Qr=er.imageAtlas.patternPositions[Lr.to],on=er.imageAtlas.patternPositions[Lr.from];Qr&&on&&rr.setConstantPatternPositions(Qr,on)}var sn=Ee.translatePosMatrix(Ut.posMatrix,er,Be.paint.get("fill-translate"),Be.paint.get("fill-translate-anchor"));if(Qe){nt=tr.indexBuffer2,at=tr.segments2;var ln=[it.drawingBufferWidth,it.drawingBufferHeight];rt="fillOutlinePattern"===tt&&ft?xi(sn,Ee,xt,er,ln):yi(sn,ln)}else nt=tr.indexBuffer,at=tr.segments,rt=ft?vi(sn,Ee,xt,er):gi(sn);ar.draw(Ee.context,et,We,Ee.stencilModeForClipping(Ut),$e,Pt.disabled,rt,Be.id,tr.layoutVertexBuffer,nt,at,Be.paint,Ee.transform.zoom,rr)}}}}function to(Ee,ze,Be,Ue,We,$e,Qe){for(var et=Ee.context,tt=et.gl,rt=Be.paint.get("fill-extrusion-pattern"),nt=rt.constantOr(1),at=Be.getCrossfadeParameters(),it=Be.paint.get("fill-extrusion-opacity"),ct=0,ft=Ue;ct<ft.length;ct+=1){var xt=ft[ct],kt=ze.getTile(xt),Lt=kt.getBucket(Be);if(Lt){var Ut=Lt.programConfigurations.get(Be.id),er=Ee.useProgram(nt?"fillExtrusionPattern":"fillExtrusion",Ut);nt&&(Ee.context.activeTexture.set(tt.TEXTURE0),kt.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Ut.updatePatternPaintBuffers(at));var tr=rt.constantOr(null);if(tr&&kt.imageAtlas){var rr=kt.imageAtlas.patternPositions[tr.to],ar=kt.imageAtlas.patternPositions[tr.from];rr&&ar&&Ut.setConstantPatternPositions(rr,ar)}var Lr=Ee.translatePosMatrix(xt.posMatrix,kt,Be.paint.get("fill-extrusion-translate"),Be.paint.get("fill-extrusion-translate-anchor")),Qr=Be.paint.get("fill-extrusion-vertical-gradient"),on=nt?mi(Lr,Ee,Qr,it,xt,at,kt):fi(Lr,Ee,Qr,it);er.draw(et,et.gl.TRIANGLES,We,$e,Qe,Pt.backCCW,on,Be.id,Lt.layoutVertexBuffer,Lt.indexBuffer,Lt.segments,Be.paint,Ee.transform.zoom,Ut)}}}function eo(Ee,ze,Be,Ue,We,$e){var Qe=Ee.context,et=Qe.gl,tt=ze.fbo;if(tt){var rt=Ee.useProgram("hillshade");Qe.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,tt.colorAttachment.get());var nt=function(Ee,ze,Be){var Ue=Be.paint.get("hillshade-shadow-color"),We=Be.paint.get("hillshade-highlight-color"),$e=Be.paint.get("hillshade-accent-color"),Qe=Be.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Be.paint.get("hillshade-illumination-anchor")&&(Qe-=Ee.transform.angle);var et=!Ee.options.moving;return{u_matrix:Ee.transform.calculatePosMatrix(ze.tileID.toUnwrapped(),et),u_image:0,u_latrange:Li(0,ze.tileID),u_light:[Be.paint.get("hillshade-exaggeration"),Qe],u_shadow:Ue,u_highlight:We,u_accent:$e}}(Ee,ze,Be);ze.maskedBoundsBuffer&&ze.maskedIndexBuffer&&ze.segments?rt.draw(Qe,et.TRIANGLES,Ue,We,$e,Pt.disabled,nt,Be.id,ze.maskedBoundsBuffer,ze.maskedIndexBuffer,ze.segments):rt.draw(Qe,et.TRIANGLES,Ue,We,$e,Pt.disabled,nt,Be.id,Ee.rasterBoundsBuffer,Ee.quadTriangleIndexBuffer,Ee.rasterBoundsSegments)}}function io(ze,Be,Ue,We,$e,Qe,et){var tt=ze.context,rt=tt.gl;if(Be.dem&&Be.dem.data){var nt=Be.dem.dim,at=Be.dem.stride,it=Be.dem.getPixels();if(tt.activeTexture.set(rt.TEXTURE1),tt.pixelStoreUnpackPremultiplyAlpha.set(!1),Be.demTexture=Be.demTexture||ze.getTileTexture(at),Be.demTexture){var ct=Be.demTexture;ct.update(it,{premultiply:!1}),ct.bind(rt.NEAREST,rt.CLAMP_TO_EDGE)}else Be.demTexture=new Ee.Texture(tt,it,rt.RGBA,{premultiply:!1}),Be.demTexture.bind(rt.NEAREST,rt.CLAMP_TO_EDGE);tt.activeTexture.set(rt.TEXTURE0);var ft=Be.fbo;if(!ft){var xt=new Ee.Texture(tt,{width:nt,height:nt,data:null},rt.RGBA);xt.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),(ft=Be.fbo=tt.createFramebuffer(nt,nt)).colorAttachment.set(xt.texture)}tt.bindFramebuffer.set(ft.framebuffer),tt.viewport.set([0,0,nt,nt]),ze.useProgram("hillshadePrepare").draw(tt,rt.TRIANGLES,$e,Qe,et,Pt.disabled,function(ze,Be){var Ue=ze.dem.stride,We=Ee.create();return Ee.ortho(We,0,Ee.EXTENT,-Ee.EXTENT,0,0,1),Ee.translate(We,We,[0,-Ee.EXTENT,0]),{u_matrix:We,u_image:1,u_dimension:[Ue,Ue],u_zoom:ze.tileID.overscaledZ,u_maxzoom:Be}}(Be,We),Ue.id,ze.rasterBoundsBuffer,ze.quadTriangleIndexBuffer,ze.rasterBoundsSegments),Be.needsHillshadePrepare=!1}}function oo(ze,Be,Ue,We,$e){var Qe=We.paint.get("raster-fade-duration");if(Qe>0){var et=Ee.browser.now(),tt=(et-ze.timeAdded)/Qe,rt=Be?(et-Be.timeAdded)/Qe:-1,nt=Ue.getSource(),at=$e.coveringZoomLevel({tileSize:nt.tileSize,roundZoom:nt.roundZoom}),it=!Be||Math.abs(Be.tileID.overscaledZ-at)>Math.abs(ze.tileID.overscaledZ-at),ct=it&&ze.refreshedUponExpiration?1:Ee.clamp(it?tt:1-rt,0,1);return ze.refreshedUponExpiration&&tt>=1&&(ze.refreshedUponExpiration=!1),Be?{opacity:1,mix:1-ct}:{opacity:ct,mix:0}}return{opacity:1,mix:0}}function ro(ze,Be,Ue){var We=ze.context,$e=We.gl,Qe=Ue.posMatrix,et=ze.useProgram("debug"),tt=It.disabled,rt=St.disabled,nt=ze.colorModeForRenderPass(),at="$debug";et.draw(We,$e.LINE_STRIP,tt,rt,nt,Pt.disabled,Ti(Qe,Ee.Color.red),at,ze.debugBuffer,ze.tileBorderIndexBuffer,ze.debugSegments);for(var it=Be.getTileByID(Ue.key).latestRawTileData,ct=it&&it.byteLength||0,ft=Math.floor(ct/1024),xt=Be.getTile(Ue).tileSize,kt=512/Math.min(xt,512),Lt=function(Ee,ze,Be,Ue){Ue=Ue||1;var We,$e,Qe,et,tt,rt,nt,at,it=[];for(We=0,$e=Ee.length;We<$e;We++)if(tt=Ws[Ee[We]]){for(at=null,Qe=0,et=tt[1].length;Qe<et;Qe+=2)-1===tt[1][Qe]&&-1===tt[1][Qe+1]?at=null:(rt=ze+tt[1][Qe]*Ue,nt=Be-tt[1][Qe+1]*Ue,at&&it.push(at.x,at.y,rt,nt),at={x:rt,y:nt});ze+=tt[0]*Ue}return it}(Ue.toString()+" "+ft+"kb",50,200*kt,5*kt),Ut=new Ee.StructArrayLayout2i4,er=new Ee.StructArrayLayout2ui4,tr=0;tr<Lt.length;tr+=2)Ut.emplaceBack(Lt[tr],Lt[tr+1]),er.emplaceBack(tr,tr+1);for(var rr=We.createVertexBuffer(Ut,Wo.members),ar=We.createIndexBuffer(er),Lr=Ee.SegmentVector.simpleSegment(0,0,Ut.length/2,Ut.length/2),Qr=Ee.EXTENT/(Math.pow(2,ze.transform.zoom-Ue.overscaledZ)*xt*kt),on=[],sn=-1;sn<=1;sn++)for(var ln=-1;ln<=1&&(0!==sn||0!==ln);ln++)on.push([sn,ln]);for(var cn=0;cn<on.length;cn++){var un=on[cn];et.draw(We,$e.LINES,tt,rt,nt,Pt.disabled,Ti(Ee.translate([],Qe,[Qr*un[0],Qr*un[1],0]),Ee.Color.white),at,rr,ar,Lr)}et.draw(We,$e.LINES,tt,rt,nt,Pt.disabled,Ti(Qe,Ee.Color.black),at,rr,ar,Lr)}var Ws={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Xs={symbol:function(Ee,ze,Be,Ue,We){if("translucent"===Ee.renderPass){var $e=St.disabled,Qe=Ee.colorModeForRenderPass();0!==Be.paint.get("icon-opacity").constantOr(1)&&Yi(Ee,ze,Be,Ue,!1,Be.paint.get("icon-translate"),Be.paint.get("icon-translate-anchor"),Be.layout.get("icon-rotation-alignment"),Be.layout.get("icon-pitch-alignment"),Be.layout.get("icon-keep-upright"),$e,Qe,We),0!==Be.paint.get("text-opacity").constantOr(1)&&Yi(Ee,ze,Be,Ue,!0,Be.paint.get("text-translate"),Be.paint.get("text-translate-anchor"),Be.layout.get("text-rotation-alignment"),Be.layout.get("text-pitch-alignment"),Be.layout.get("text-keep-upright"),$e,Qe,We),ze.map.showCollisionBoxes&&function(Ee,ze,Be,Ue){Wi(Ee,ze,Be,Ue,!1),Wi(Ee,ze,Be,Ue,!0)}(Ee,ze,Be,Ue)}},circle:function(ze,Be,Ue,We){if("translucent"===ze.renderPass){var $e=Ue.paint.get("circle-opacity"),Qe=Ue.paint.get("circle-stroke-width"),et=Ue.paint.get("circle-stroke-opacity"),tt=void 0!==Ue.layout.get("circle-sort-key").constantOr(1);if(0!==$e.constantOr(1)||0!==Qe.constantOr(1)&&0!==et.constantOr(1)){for(var rt=ze.context,nt=rt.gl,at=ze.depthModeForSublayer(0,It.ReadOnly),it=St.disabled,ct=ze.colorModeForRenderPass(),ft=[],xt=0;xt<We.length;xt++){var kt=We[xt],Lt=Be.getTile(kt),Ut=Lt.getBucket(Ue);if(Ut){var er=Ut.programConfigurations.get(Ue.id),tr={programConfiguration:er,program:ze.useProgram("circle",er),layoutVertexBuffer:Ut.layoutVertexBuffer,indexBuffer:Ut.indexBuffer,uniformValues:bi(ze,kt,Lt,Ue)};if(tt)for(var rr=0,ar=Ut.segments.get();rr<ar.length;rr+=1){var Lr=ar[rr];ft.push({segments:new Ee.SegmentVector([Lr]),sortKey:Lr.sortKey,state:tr})}else ft.push({segments:Ut.segments,sortKey:0,state:tr})}}tt&&ft.sort((function(Ee,ze){return Ee.sortKey-ze.sortKey}));for(var Qr=0,on=ft;Qr<on.length;Qr+=1){var sn=on[Qr],ln=sn.state,cn=ln.programConfiguration,un=ln.program,hn=ln.layoutVertexBuffer,dn=ln.indexBuffer,vn=ln.uniformValues,yn=sn.segments;un.draw(rt,nt.TRIANGLES,at,it,ct,Pt.disabled,vn,Ue.id,hn,dn,yn,Ue.paint,ze.transform.zoom,cn)}}}},heatmap:function(ze,Be,Ue,We){if(0!==Ue.paint.get("heatmap-opacity"))if("offscreen"===ze.renderPass){var $e=ze.context,Qe=$e.gl,et=ze.depthModeForSublayer(0,It.ReadOnly),tt=St.disabled,rt=new Ct([Qe.ONE,Qe.ONE],Ee.Color.transparent,[!0,!0,!0,!0]);!function(Ee,ze,Be){var Ue=Ee.gl;Ee.activeTexture.set(Ue.TEXTURE1),Ee.viewport.set([0,0,ze.width/4,ze.height/4]);var We=Be.heatmapFbo;if(We)Ue.bindTexture(Ue.TEXTURE_2D,We.colorAttachment.get()),Ee.bindFramebuffer.set(We.framebuffer);else{var $e=Ue.createTexture();Ue.bindTexture(Ue.TEXTURE_2D,$e),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_S,Ue.CLAMP_TO_EDGE),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_T,Ue.CLAMP_TO_EDGE),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MIN_FILTER,Ue.LINEAR),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MAG_FILTER,Ue.LINEAR),We=Be.heatmapFbo=Ee.createFramebuffer(ze.width/4,ze.height/4),function t(Ee,ze,Be,Ue){var We=Ee.gl;We.texImage2D(We.TEXTURE_2D,0,We.RGBA,ze.width/4,ze.height/4,0,We.RGBA,Ee.extTextureHalfFloat?Ee.extTextureHalfFloat.HALF_FLOAT_OES:We.UNSIGNED_BYTE,null),Ue.colorAttachment.set(Be),Ee.extTextureHalfFloat&&We.checkFramebufferStatus(We.FRAMEBUFFER)!==We.FRAMEBUFFER_COMPLETE&&(Ee.extTextureHalfFloat=null,Ue.colorAttachment.setDirty(),t(Ee,ze,Be,Ue))}(Ee,ze,$e,We)}}($e,ze,Ue),$e.clear({color:Ee.Color.transparent});for(var nt=0;nt<We.length;nt++){var at=We[nt];if(!Be.hasRenderableParent(at)){var it=Be.getTile(at),ct=it.getBucket(Ue);if(ct){var ft=ct.programConfigurations.get(Ue.id),xt=ze.useProgram("heatmap",ft),kt=ze.transform.zoom;xt.draw($e,Qe.TRIANGLES,et,tt,rt,Pt.disabled,Si(at.posMatrix,it,kt,Ue.paint.get("heatmap-intensity")),Ue.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,Ue.paint,ze.transform.zoom,ft)}}}$e.viewport.set([0,0,ze.width,ze.height])}else"translucent"===ze.renderPass&&(ze.context.setColorMode(ze.colorModeForRenderPass()),function(ze,Be){var Ue=ze.context,We=Ue.gl,$e=Be.heatmapFbo;if($e){Ue.activeTexture.set(We.TEXTURE0),We.bindTexture(We.TEXTURE_2D,$e.colorAttachment.get()),Ue.activeTexture.set(We.TEXTURE1);var Qe=Be.colorRampTexture;Qe||(Qe=Be.colorRampTexture=new Ee.Texture(Ue,Be.colorRamp,We.RGBA)),Qe.bind(We.LINEAR,We.CLAMP_TO_EDGE),ze.useProgram("heatmapTexture").draw(Ue,We.TRIANGLES,It.disabled,St.disabled,ze.colorModeForRenderPass(),Pt.disabled,function(ze,Be,Ue,We){var $e=Ee.create();Ee.ortho($e,0,ze.width,ze.height,0,0,1);var Qe=ze.context.gl;return{u_matrix:$e,u_world:[Qe.drawingBufferWidth,Qe.drawingBufferHeight],u_image:Ue,u_color_ramp:We,u_opacity:Be.paint.get("heatmap-opacity")}}(ze,Be,0,1),Be.id,ze.viewportBuffer,ze.quadTriangleIndexBuffer,ze.viewportSegments,Be.paint,ze.transform.zoom)}}(ze,Ue))},line:function(ze,Be,Ue,We){if("translucent"===ze.renderPass){var $e=Ue.paint.get("line-opacity"),Qe=Ue.paint.get("line-width");if(0!==$e.constantOr(1)&&0!==Qe.constantOr(1)){var et=ze.depthModeForSublayer(0,It.ReadOnly),tt=ze.colorModeForRenderPass(),rt=Ue.paint.get("line-dasharray"),nt=Ue.paint.get("line-pattern"),at=nt.constantOr(1),it=Ue.paint.get("line-gradient"),ct=Ue.getCrossfadeParameters(),ft=rt?"lineSDF":at?"linePattern":it?"lineGradient":"line",xt=ze.context,kt=xt.gl,Lt=!0;if(it){xt.activeTexture.set(kt.TEXTURE0);var Ut=Ue.gradientTexture;if(!Ue.gradient)return;Ut||(Ut=Ue.gradientTexture=new Ee.Texture(xt,Ue.gradient,kt.RGBA)),Ut.bind(kt.LINEAR,kt.CLAMP_TO_EDGE)}for(var er=0,tr=We;er<tr.length;er+=1){var rr=tr[er],ar=Be.getTile(rr);if(!at||ar.patternsLoaded()){var Lr=ar.getBucket(Ue);if(Lr){var Qr=Lr.programConfigurations.get(Ue.id),on=ze.context.program.get(),sn=ze.useProgram(ft,Qr),ln=Lt||sn.program!==on,cn=nt.constantOr(null);if(cn&&ar.imageAtlas){var un=ar.imageAtlas.patternPositions[cn.to],hn=ar.imageAtlas.patternPositions[cn.from];un&&hn&&Qr.setConstantPatternPositions(un,hn)}var dn=rt?Ai(ze,ar,Ue,rt,ct):at?Ri(ze,ar,Ue,ct):it?Di(ze,ar,Ue):Mi(ze,ar,Ue);rt&&(ln||ze.lineAtlas.dirty)?(xt.activeTexture.set(kt.TEXTURE0),ze.lineAtlas.bind(xt)):at&&(xt.activeTexture.set(kt.TEXTURE0),ar.imageAtlasTexture.bind(kt.LINEAR,kt.CLAMP_TO_EDGE),Qr.updatePatternPaintBuffers(ct)),sn.draw(xt,kt.TRIANGLES,et,ze.stencilModeForClipping(rr),tt,Pt.disabled,dn,Ue.id,Lr.layoutVertexBuffer,Lr.indexBuffer,Lr.segments,Ue.paint,ze.transform.zoom,Qr),Lt=!1}}}}}},fill:function(ze,Be,Ue,We){var $e=Ue.paint.get("fill-color"),Qe=Ue.paint.get("fill-opacity");if(0!==Qe.constantOr(1)){var et=ze.colorModeForRenderPass(),tt=Ue.paint.get("fill-pattern"),rt=ze.opaquePassEnabledForLayer()&&!tt.constantOr(1)&&1===$e.constantOr(Ee.Color.transparent).a&&1===Qe.constantOr(0)?"opaque":"translucent";if(ze.renderPass===rt){var nt=ze.depthModeForSublayer(1,"opaque"===ze.renderPass?It.ReadWrite:It.ReadOnly);$i(ze,Be,Ue,We,nt,et,!1)}if("translucent"===ze.renderPass&&Ue.paint.get("fill-antialias")){var at=ze.depthModeForSublayer(Ue.getPaintProperty("fill-outline-color")?2:0,It.ReadOnly);$i(ze,Be,Ue,We,at,et,!0)}}},"fill-extrusion":function(Ee,ze,Be,Ue){var We=Be.paint.get("fill-extrusion-opacity");if(0!==We&&"translucent"===Ee.renderPass){var $e=new It(Ee.context.gl.LEQUAL,It.ReadWrite,Ee.depthRangeFor3D);if(1!==We||Be.paint.get("fill-extrusion-pattern").constantOr(1))to(Ee,ze,Be,Ue,$e,St.disabled,Ct.disabled),to(Ee,ze,Be,Ue,$e,Ee.stencilModeFor3D(),Ee.colorModeForRenderPass());else{var Qe=Ee.colorModeForRenderPass();to(Ee,ze,Be,Ue,$e,St.disabled,Qe)}}},hillshade:function(Ee,ze,Be,Ue){if("offscreen"===Ee.renderPass||"translucent"===Ee.renderPass){for(var We=Ee.context,$e=ze.getSource().maxzoom,Qe=Ee.depthModeForSublayer(0,It.ReadOnly),et=St.disabled,tt=Ee.colorModeForRenderPass(),rt=0,nt=Ue;rt<nt.length;rt+=1){var at=nt[rt],it=ze.getTile(at);it.needsHillshadePrepare&&"offscreen"===Ee.renderPass?io(Ee,it,Be,$e,Qe,et,tt):"translucent"===Ee.renderPass&&eo(Ee,it,Be,Qe,et,tt)}We.viewport.set([0,0,Ee.width,Ee.height])}},raster:function(Ee,ze,Be,Ue){if("translucent"===Ee.renderPass&&0!==Be.paint.get("raster-opacity"))for(var We=Ee.context,$e=We.gl,Qe=ze.getSource(),et=Ee.useProgram("raster"),tt=St.disabled,rt=Ee.colorModeForRenderPass(),nt=Ue.length&&Ue[0].overscaledZ,at=!Ee.options.moving,it=0,ct=Ue;it<ct.length;it+=1){var ft=ct[it],xt=Ee.depthModeForSublayer(ft.overscaledZ-nt,1===Be.paint.get("raster-opacity")?It.ReadWrite:It.ReadOnly,$e.LESS),kt=ze.getTile(ft),Lt=Ee.transform.calculatePosMatrix(ft.toUnwrapped(),at);kt.registerFadeDuration(Be.paint.get("raster-fade-duration"));var Ut=ze.findLoadedParent(ft,0),er=oo(kt,Ut,ze,Be,Ee.transform),rr=void 0,ar=void 0,Lr="nearest"===Be.paint.get("raster-resampling")?$e.NEAREST:$e.LINEAR;We.activeTexture.set($e.TEXTURE0),kt.texture.bind(Lr,$e.CLAMP_TO_EDGE,$e.LINEAR_MIPMAP_NEAREST),We.activeTexture.set($e.TEXTURE1),Ut?(Ut.texture.bind(Lr,$e.CLAMP_TO_EDGE,$e.LINEAR_MIPMAP_NEAREST),rr=Math.pow(2,Ut.tileID.overscaledZ-kt.tileID.overscaledZ),ar=[kt.tileID.canonical.x*rr%1,kt.tileID.canonical.y*rr%1]):kt.texture.bind(Lr,$e.CLAMP_TO_EDGE,$e.LINEAR_MIPMAP_NEAREST);var Qr=Oi(Lt,ar||[0,0],rr||1,er,Be);Qe instanceof tr?et.draw(We,$e.TRIANGLES,xt,tt,rt,Pt.disabled,Qr,Be.id,Qe.boundsBuffer,Ee.quadTriangleIndexBuffer,Qe.boundsSegments):kt.maskedBoundsBuffer&&kt.maskedIndexBuffer&&kt.segments?et.draw(We,$e.TRIANGLES,xt,tt,rt,Pt.disabled,Qr,Be.id,kt.maskedBoundsBuffer,kt.maskedIndexBuffer,kt.segments,Be.paint,Ee.transform.zoom):et.draw(We,$e.TRIANGLES,xt,tt,rt,Pt.disabled,Qr,Be.id,Ee.rasterBoundsBuffer,Ee.quadTriangleIndexBuffer,Ee.rasterBoundsSegments)}},background:function(Ee,ze,Be){var Ue=Be.paint.get("background-color"),We=Be.paint.get("background-opacity");if(0!==We){var $e=Ee.context,Qe=$e.gl,et=Ee.transform,tt=et.tileSize,rt=Be.paint.get("background-pattern");if(!Ee.isPatternMissing(rt)){var nt=!rt&&1===Ue.a&&1===We&&Ee.opaquePassEnabledForLayer()?"opaque":"translucent";if(Ee.renderPass===nt){var at=St.disabled,it=Ee.depthModeForSublayer(0,"opaque"===nt?It.ReadWrite:It.ReadOnly),ct=Ee.colorModeForRenderPass(),ft=Ee.useProgram(rt?"backgroundPattern":"background"),xt=et.coveringTiles({tileSize:tt});rt&&($e.activeTexture.set(Qe.TEXTURE0),Ee.imageManager.bind(Ee.context));for(var kt=Be.getCrossfadeParameters(),Lt=0,Ut=xt;Lt<Ut.length;Lt+=1){var er=Ut[Lt],tr=Ee.transform.calculatePosMatrix(er.toUnwrapped()),rr=rt?qi(tr,We,Ee,rt,{tileID:er,tileSize:tt},kt):Zi(tr,We,Ue);ft.draw($e,Qe.TRIANGLES,it,at,ct,Pt.disabled,rr,Be.id,Ee.tileExtentBuffer,Ee.quadTriangleIndexBuffer,Ee.tileExtentSegments)}}}}},debug:function(Ee,ze,Be){for(var Ue=0;Ue<Be.length;Ue++)ro(Ee,ze,Be[Ue])},custom:function(Ee,ze,Be){var Ue=Ee.context,We=Be.implementation;if("offscreen"===Ee.renderPass){var $e=We.prerender;$e&&(Ee.setCustomLayerDefaults(),Ue.setColorMode(Ee.colorModeForRenderPass()),$e.call(We,Ue.gl,Ee.transform.customLayerMatrix()),Ue.setDirty(),Ee.setBaseState())}else if("translucent"===Ee.renderPass){Ee.setCustomLayerDefaults(),Ue.setColorMode(Ee.colorModeForRenderPass()),Ue.setStencilMode(St.disabled);var Qe="3d"===We.renderingMode?new It(Ee.context.gl.LEQUAL,It.ReadWrite,Ee.depthRangeFor3D):Ee.depthModeForSublayer(0,It.ReadOnly);Ue.setDepthMode(Qe),We.render(Ue.gl,Ee.transform.customLayerMatrix()),Ue.setDirty(),Ee.setBaseState(),Ue.bindFramebuffer.set(null)}}},so=function(ze,Be){this.context=new zt(ze),this.transform=Be,this._tileTextures={},this.setup(),this.numSublayers=oi.maxUnderzooming+oi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new Ee.ProgramConfiguration,this.crossTileSymbolIndex=new Re};function lo(Ee,ze){if(Ee.y>ze.y){var Be=Ee;Ee=ze,ze=Be}return{x0:Ee.x,y0:Ee.y,x1:ze.x,y1:ze.y,dx:ze.x-Ee.x,dy:ze.y-Ee.y}}function co(Ee,ze,Be,Ue,We){var $e=Math.max(Be,Math.floor(ze.y0)),Qe=Math.min(Ue,Math.ceil(ze.y1));if(Ee.x0===ze.x0&&Ee.y0===ze.y0?Ee.x0+ze.dy/Ee.dy*Ee.dx<ze.x1:Ee.x1-ze.dy/Ee.dy*Ee.dx<ze.x0){var et=Ee;Ee=ze,ze=et}for(var tt=Ee.dx/Ee.dy,rt=ze.dx/ze.dy,nt=Ee.dx>0,at=ze.dx<0,it=$e;it<Qe;it++){var ct=tt*Math.max(0,Math.min(Ee.dy,it+nt-Ee.y0))+Ee.x0,ft=rt*Math.max(0,Math.min(ze.dy,it+at-ze.y0))+ze.x0;We(Math.floor(ft),Math.ceil(ct),it)}}function uo(Ee,ze,Be,Ue,We,$e){var Qe,et=lo(Ee,ze),tt=lo(ze,Be),rt=lo(Be,Ee);et.dy>tt.dy&&(Qe=et,et=tt,tt=Qe),et.dy>rt.dy&&(Qe=et,et=rt,rt=Qe),tt.dy>rt.dy&&(Qe=tt,tt=rt,rt=Qe),et.dy&&co(rt,et,Ue,We,$e),tt.dy&&co(rt,tt,Ue,We,$e)}so.prototype.resize=function(ze,Be){var Ue=this.context.gl;if(this.width=ze*Ee.browser.devicePixelRatio,this.height=Be*Ee.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var We=0,$e=this.style._order;We<$e.length;We+=1){var Qe=$e[We];this.style._layers[Qe].resize()}this.depthRbo&&(Ue.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},so.prototype.setup=function(){var ze=this.context,Be=new Ee.StructArrayLayout2i4;Be.emplaceBack(0,0),Be.emplaceBack(Ee.EXTENT,0),Be.emplaceBack(0,Ee.EXTENT),Be.emplaceBack(Ee.EXTENT,Ee.EXTENT),this.tileExtentBuffer=ze.createVertexBuffer(Be,Wo.members),this.tileExtentSegments=Ee.SegmentVector.simpleSegment(0,0,4,2);var Ue=new Ee.StructArrayLayout2i4;Ue.emplaceBack(0,0),Ue.emplaceBack(Ee.EXTENT,0),Ue.emplaceBack(0,Ee.EXTENT),Ue.emplaceBack(Ee.EXTENT,Ee.EXTENT),this.debugBuffer=ze.createVertexBuffer(Ue,Wo.members),this.debugSegments=Ee.SegmentVector.simpleSegment(0,0,4,5);var We=new Ee.StructArrayLayout4i8;We.emplaceBack(0,0,0,0),We.emplaceBack(Ee.EXTENT,0,Ee.EXTENT,0),We.emplaceBack(0,Ee.EXTENT,0,Ee.EXTENT),We.emplaceBack(Ee.EXTENT,Ee.EXTENT,Ee.EXTENT,Ee.EXTENT),this.rasterBoundsBuffer=ze.createVertexBuffer(We,Ee.rasterBoundsAttributes.members),this.rasterBoundsSegments=Ee.SegmentVector.simpleSegment(0,0,4,2);var $e=new Ee.StructArrayLayout2i4;$e.emplaceBack(0,0),$e.emplaceBack(1,0),$e.emplaceBack(0,1),$e.emplaceBack(1,1),this.viewportBuffer=ze.createVertexBuffer($e,Wo.members),this.viewportSegments=Ee.SegmentVector.simpleSegment(0,0,4,2);var Qe=new Ee.StructArrayLayout1ui2;Qe.emplaceBack(0),Qe.emplaceBack(1),Qe.emplaceBack(3),Qe.emplaceBack(2),Qe.emplaceBack(0),this.tileBorderIndexBuffer=ze.createIndexBuffer(Qe);var et=new Ee.StructArrayLayout3ui6;et.emplaceBack(0,1,2),et.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=ze.createIndexBuffer(et);var tt=this.context.gl;this.stencilClearMode=new St({func:tt.ALWAYS,mask:0},0,255,tt.ZERO,tt.ZERO,tt.ZERO)},so.prototype.clearStencil=function(){var ze=this.context,Be=ze.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var Ue=Ee.create();Ee.ortho(Ue,0,this.width,this.height,0,0,1),Ee.scale(Ue,Ue,[Be.drawingBufferWidth,Be.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(ze,Be.TRIANGLES,It.disabled,this.stencilClearMode,Ct.disabled,Pt.disabled,Ii(Ue),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},so.prototype._renderTileClippingMasks=function(Ee,ze){if(this.currentStencilSource!==Ee.source&&Ee.isTileClipped()&&ze&&ze.length){this.currentStencilSource=Ee.source;var Be=this.context,Ue=Be.gl;this.nextStencilID+ze.length>256&&this.clearStencil(),Be.setColorMode(Ct.disabled),Be.setDepthMode(It.disabled);var We=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $e=0,Qe=ze;$e<Qe.length;$e+=1){var et=Qe[$e],tt=this._tileClippingMaskIDs[et.key]=this.nextStencilID++;We.draw(Be,Ue.TRIANGLES,It.disabled,new St({func:Ue.ALWAYS,mask:0},tt,255,Ue.KEEP,Ue.KEEP,Ue.REPLACE),Ct.disabled,Pt.disabled,Ii(et.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},so.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Ee=this.nextStencilID++,ze=this.context.gl;return new St({func:ze.NOTEQUAL,mask:255},Ee,255,ze.KEEP,ze.KEEP,ze.REPLACE)},so.prototype.stencilModeForClipping=function(Ee){var ze=this.context.gl;return new St({func:ze.EQUAL,mask:255},this._tileClippingMaskIDs[Ee.key],0,ze.KEEP,ze.KEEP,ze.REPLACE)},so.prototype.colorModeForRenderPass=function(){var ze=this.context.gl;return this._showOverdrawInspector?new Ct([ze.CONSTANT_COLOR,ze.ONE],new Ee.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ct.unblended:Ct.alphaBlended},so.prototype.depthModeForSublayer=function(Ee,ze,Be){if(!this.opaquePassEnabledForLayer())return It.disabled;var Ue=1-((1+this.currentLayer)*this.numSublayers+Ee)*this.depthEpsilon;return new It(Be||this.context.gl.LEQUAL,ze,[Ue,Ue])},so.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},so.prototype.render=function(ze,Be){this.style=ze,this.options=Be,this.lineAtlas=ze.lineAtlas,this.imageManager=ze.imageManager,this.glyphManager=ze.glyphManager,this.symbolFadeChange=ze.placement.symbolFadeChange(Ee.browser.now()),this.imageManager.beginFrame();var Ue=this.style._order,We=this.style.sourceCaches;for(var $e in We){var Qe=We[$e];Qe.used&&Qe.prepare(this.context)}var et={},tt={},rt={};for(var nt in We){var at=We[nt];et[nt]=at.getVisibleCoordinates(),tt[nt]=et[nt].slice().reverse(),rt[nt]=at.getVisibleCoordinates(!0).reverse()}for(var it in We){var ct=We[it],ft=ct.getSource();if("raster"===ft.type||"raster-dem"===ft.type){for(var xt=[],kt=0,Lt=et[it];kt<Lt.length;kt+=1){var Ut=Lt[kt];xt.push(ct.getTile(Ut))}Vi(xt,this.context)}}this.opaquePassCutoff=1/0;for(var er=0;er<Ue.length;er++){var tr=Ue[er];if(this.style._layers[tr].is3D()){this.opaquePassCutoff=er;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var rr=0,ar=Ue;rr<ar.length;rr+=1){var Lr=ar[rr],Qr=this.style._layers[Lr];if(Qr.hasOffscreenPass()&&!Qr.isHidden(this.transform.zoom)){var on=tt[Qr.source];("custom"===Qr.type||on.length)&&this.renderLayer(this,We[Qr.source],Qr,on)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Be.showOverdrawInspector?Ee.Color.black:Ee.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Be.showOverdrawInspector,this.depthRangeFor3D=[0,1-(ze._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=Ue.length-1;this.currentLayer>=0;this.currentLayer--){var sn=this.style._layers[Ue[this.currentLayer]],ln=We[sn.source],cn=et[sn.source];this._renderTileClippingMasks(sn,cn),this.renderLayer(this,ln,sn,cn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<Ue.length;this.currentLayer++){var un=this.style._layers[Ue[this.currentLayer]],hn=We[un.source],dn=("symbol"===un.type?rt:tt)[un.source];this._renderTileClippingMasks(un,et[un.source]),this.renderLayer(this,hn,un,dn)}if(this.options.showTileBoundaries)for(var vn in We){Xs.debug(this,We[vn],et[vn]);break}this.context.setDefault()},so.prototype.setupOffscreenDepthRenderbuffer=function(){var Ee=this.context;this.depthRbo||(this.depthRbo=Ee.createRenderbuffer(Ee.gl.DEPTH_COMPONENT16,this.width,this.height))},so.prototype.renderLayer=function(Ee,ze,Be,Ue){Be.isHidden(this.transform.zoom)||("background"===Be.type||"custom"===Be.type||Ue.length)&&(this.id=Be.id,Xs[Be.type](Ee,ze,Be,Ue,this.style.placement.variableOffsets))},so.prototype.translatePosMatrix=function(ze,Be,Ue,We,$e){if(!Ue[0]&&!Ue[1])return ze;var Qe=$e?"map"===We?this.transform.angle:0:"viewport"===We?-this.transform.angle:0;if(Qe){var et=Math.sin(Qe),tt=Math.cos(Qe);Ue=[Ue[0]*tt-Ue[1]*et,Ue[0]*et+Ue[1]*tt]}var rt=[$e?Ue[0]:ue(Be,Ue[0],this.transform.zoom),$e?Ue[1]:ue(Be,Ue[1],this.transform.zoom),0],nt=new Float32Array(16);return Ee.translate(nt,ze,rt),nt},so.prototype.saveTileTexture=function(Ee){var ze=this._tileTextures[Ee.size[0]];ze?ze.push(Ee):this._tileTextures[Ee.size[0]]=[Ee]},so.prototype.getTileTexture=function(Ee){var ze=this._tileTextures[Ee];return ze&&ze.length>0?ze.pop():null},so.prototype.isPatternMissing=function(Ee){if(!Ee)return!1;var ze=this.imageManager.getPattern(Ee.from),Be=this.imageManager.getPattern(Ee.to);return!ze||!Be},so.prototype.useProgram=function(Ee,ze){void 0===ze&&(ze=this.emptyProgramConfiguration),this.cache=this.cache||{};var Be=""+Ee+(ze.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[Be]||(this.cache[Be]=new di(this.context,js[Ee],ze,Hs[Ee],this._showOverdrawInspector)),this.cache[Be]},so.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},so.prototype.setBaseState=function(){var Ee=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Ee.FUNC_ADD)};var ho=function(ze,Be,Ue){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Ue||Ue,this._minZoom=ze||0,this._maxZoom=Be||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Ee.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zs={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ho.prototype.clone=function(){var Ee=new ho(this._minZoom,this._maxZoom,this._renderWorldCopies);return Ee.tileSize=this.tileSize,Ee.latRange=this.latRange,Ee.width=this.width,Ee.height=this.height,Ee._center=this._center,Ee.zoom=this.zoom,Ee.angle=this.angle,Ee._fov=this._fov,Ee._pitch=this._pitch,Ee._unmodified=this._unmodified,Ee._calcMatrices(),Ee},Zs.minZoom.get=function(){return this._minZoom},Zs.minZoom.set=function(Ee){this._minZoom!==Ee&&(this._minZoom=Ee,this.zoom=Math.max(this.zoom,Ee))},Zs.maxZoom.get=function(){return this._maxZoom},Zs.maxZoom.set=function(Ee){this._maxZoom!==Ee&&(this._maxZoom=Ee,this.zoom=Math.min(this.zoom,Ee))},Zs.renderWorldCopies.get=function(){return this._renderWorldCopies},Zs.renderWorldCopies.set=function(Ee){void 0===Ee?Ee=!0:null===Ee&&(Ee=!1),this._renderWorldCopies=Ee},Zs.worldSize.get=function(){return this.tileSize*this.scale},Zs.centerPoint.get=function(){return this.size._div(2)},Zs.size.get=function(){return new Ee.Point(this.width,this.height)},Zs.bearing.get=function(){return-this.angle/Math.PI*180},Zs.bearing.set=function(ze){var Be=-Ee.wrap(ze,-180,180)*Math.PI/180;this.angle!==Be&&(this._unmodified=!1,this.angle=Be,this._calcMatrices(),this.rotationMatrix=Ee.create$2(),Ee.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zs.pitch.get=function(){return this._pitch/Math.PI*180},Zs.pitch.set=function(ze){var Be=Ee.clamp(ze,0,60)/180*Math.PI;this._pitch!==Be&&(this._unmodified=!1,this._pitch=Be,this._calcMatrices())},Zs.fov.get=function(){return this._fov/Math.PI*180},Zs.fov.set=function(Ee){Ee=Math.max(.01,Math.min(60,Ee)),this._fov!==Ee&&(this._unmodified=!1,this._fov=Ee/180*Math.PI,this._calcMatrices())},Zs.zoom.get=function(){return this._zoom},Zs.zoom.set=function(Ee){var ze=Math.min(Math.max(Ee,this.minZoom),this.maxZoom);this._zoom!==ze&&(this._unmodified=!1,this._zoom=ze,this.scale=this.zoomScale(ze),this.tileZoom=Math.floor(ze),this.zoomFraction=ze-this.tileZoom,this._constrain(),this._calcMatrices())},Zs.center.get=function(){return this._center},Zs.center.set=function(Ee){Ee.lat===this._center.lat&&Ee.lng===this._center.lng||(this._unmodified=!1,this._center=Ee,this._constrain(),this._calcMatrices())},ho.prototype.coveringZoomLevel=function(Ee){return(Ee.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Ee.tileSize))},ho.prototype.getVisibleUnwrappedCoordinates=function(ze){var Be=[new Ee.UnwrappedTileID(0,ze)];if(this._renderWorldCopies)for(var Ue=this.pointCoordinate(new Ee.Point(0,0)),We=this.pointCoordinate(new Ee.Point(this.width,0)),$e=this.pointCoordinate(new Ee.Point(this.width,this.height)),Qe=this.pointCoordinate(new Ee.Point(0,this.height)),et=Math.floor(Math.min(Ue.x,We.x,$e.x,Qe.x)),tt=Math.floor(Math.max(Ue.x,We.x,$e.x,Qe.x)),rt=et-1;rt<=tt+1;rt++)0!==rt&&Be.push(new Ee.UnwrappedTileID(rt,ze));return Be},ho.prototype.coveringTiles=function(ze){var Be=this.coveringZoomLevel(ze),Ue=Be;if(void 0!==ze.minzoom&&Be<ze.minzoom)return[];void 0!==ze.maxzoom&&Be>ze.maxzoom&&(Be=ze.maxzoom);var We=Ee.MercatorCoordinate.fromLngLat(this.center),$e=Math.pow(2,Be),Qe=new Ee.Point($e*We.x-.5,$e*We.y-.5);return function(ze,Be,Ue,We){void 0===We&&(We=!0);var $e=1<<ze,Qe={};function s(Be,et,tt){var rt,nt,at,it;if(tt>=0&&tt<=$e)for(rt=Be;rt<et;rt++)nt=Math.floor(rt/$e),at=(rt%$e+$e)%$e,0!==nt&&!0!==We||(it=new Ee.OverscaledTileID(Ue,nt,ze,at,tt),Qe[it.key]=it)}var et=Be.map((function(ze){return new Ee.Point(ze.x,ze.y)._mult($e)}));return uo(et[0],et[1],et[2],0,$e,s),uo(et[2],et[3],et[0],0,$e,s),Object.keys(Qe).map((function(Ee){return Qe[Ee]}))}(Be,[this.pointCoordinate(new Ee.Point(0,0)),this.pointCoordinate(new Ee.Point(this.width,0)),this.pointCoordinate(new Ee.Point(this.width,this.height)),this.pointCoordinate(new Ee.Point(0,this.height))],ze.reparseOverscaled?Ue:Be,this._renderWorldCopies).sort((function(Ee,ze){return Qe.dist(Ee.canonical)-Qe.dist(ze.canonical)}))},ho.prototype.resize=function(Ee,ze){this.width=Ee,this.height=ze,this.pixelsToGLUnits=[2/Ee,-2/ze],this._constrain(),this._calcMatrices()},Zs.unmodified.get=function(){return this._unmodified},ho.prototype.zoomScale=function(Ee){return Math.pow(2,Ee)},ho.prototype.scaleZoom=function(Ee){return Math.log(Ee)/Math.LN2},ho.prototype.project=function(ze){var Be=Ee.clamp(ze.lat,-this.maxValidLatitude,this.maxValidLatitude);return new Ee.Point(Ee.mercatorXfromLng(ze.lng)*this.worldSize,Ee.mercatorYfromLat(Be)*this.worldSize)},ho.prototype.unproject=function(ze){return new Ee.MercatorCoordinate(ze.x/this.worldSize,ze.y/this.worldSize).toLngLat()},Zs.point.get=function(){return this.project(this.center)},ho.prototype.setLocationAtPoint=function(ze,Be){var Ue=this.pointCoordinate(Be),We=this.pointCoordinate(this.centerPoint),$e=this.locationCoordinate(ze),Qe=new Ee.MercatorCoordinate($e.x-(Ue.x-We.x),$e.y-(Ue.y-We.y));this.center=this.coordinateLocation(Qe),this._renderWorldCopies&&(this.center=this.center.wrap())},ho.prototype.locationPoint=function(Ee){return this.coordinatePoint(this.locationCoordinate(Ee))},ho.prototype.pointLocation=function(Ee){return this.coordinateLocation(this.pointCoordinate(Ee))},ho.prototype.locationCoordinate=function(ze){return Ee.MercatorCoordinate.fromLngLat(ze)},ho.prototype.coordinateLocation=function(Ee){return Ee.toLngLat()},ho.prototype.pointCoordinate=function(ze){var Be=[ze.x,ze.y,0,1],Ue=[ze.x,ze.y,1,1];Ee.transformMat4(Be,Be,this.pixelMatrixInverse),Ee.transformMat4(Ue,Ue,this.pixelMatrixInverse);var We=Be[3],$e=Ue[3],Qe=Be[0]/We,et=Ue[0]/$e,tt=Be[1]/We,rt=Ue[1]/$e,nt=Be[2]/We,at=Ue[2]/$e,it=nt===at?0:(0-nt)/(at-nt);return new Ee.MercatorCoordinate(Ee.number(Qe,et,it)/this.worldSize,Ee.number(tt,rt,it)/this.worldSize)},ho.prototype.coordinatePoint=function(ze){var Be=[ze.x*this.worldSize,ze.y*this.worldSize,0,1];return Ee.transformMat4(Be,Be,this.pixelMatrix),new Ee.Point(Be[0]/Be[3],Be[1]/Be[3])},ho.prototype.getBounds=function(){return(new Ee.LngLatBounds).extend(this.pointLocation(new Ee.Point(0,0))).extend(this.pointLocation(new Ee.Point(this.width,0))).extend(this.pointLocation(new Ee.Point(this.width,this.height))).extend(this.pointLocation(new Ee.Point(0,this.height)))},ho.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Ee.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ho.prototype.setMaxBounds=function(Ee){Ee?(this.lngRange=[Ee.getWest(),Ee.getEast()],this.latRange=[Ee.getSouth(),Ee.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ho.prototype.calculatePosMatrix=function(ze,Be){void 0===Be&&(Be=!1);var Ue=ze.key,We=Be?this._alignedPosMatrixCache:this._posMatrixCache;if(We[Ue])return We[Ue];var $e=ze.canonical,Qe=this.worldSize/this.zoomScale($e.z),et=$e.x+Math.pow(2,$e.z)*ze.wrap,tt=Ee.identity(new Float64Array(16));return Ee.translate(tt,tt,[et*Qe,$e.y*Qe,0]),Ee.scale(tt,tt,[Qe/Ee.EXTENT,Qe/Ee.EXTENT,1]),Ee.multiply(tt,Be?this.alignedProjMatrix:this.projMatrix,tt),We[Ue]=new Float32Array(tt),We[Ue]},ho.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ho.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var ze,Be,Ue,We,$e=-90,Qe=90,et=-180,tt=180,rt=this.size,nt=this._unmodified;if(this.latRange){var at=this.latRange;$e=Ee.mercatorYfromLat(at[1])*this.worldSize,ze=(Qe=Ee.mercatorYfromLat(at[0])*this.worldSize)-$e<rt.y?rt.y/(Qe-$e):0}if(this.lngRange){var it=this.lngRange;et=Ee.mercatorXfromLng(it[0])*this.worldSize,Be=(tt=Ee.mercatorXfromLng(it[1])*this.worldSize)-et<rt.x?rt.x/(tt-et):0}var ct=this.point,ft=Math.max(Be||0,ze||0);if(ft)return this.center=this.unproject(new Ee.Point(Be?(tt+et)/2:ct.x,ze?(Qe+$e)/2:ct.y)),this.zoom+=this.scaleZoom(ft),this._unmodified=nt,void(this._constraining=!1);if(this.latRange){var xt=ct.y,kt=rt.y/2;xt-kt<$e&&(We=$e+kt),xt+kt>Qe&&(We=Qe-kt)}if(this.lngRange){var Lt=ct.x,Ut=rt.x/2;Lt-Ut<et&&(Ue=et+Ut),Lt+Ut>tt&&(Ue=tt-Ut)}void 0===Ue&&void 0===We||(this.center=this.unproject(new Ee.Point(void 0!==Ue?Ue:ct.x,void 0!==We?We:ct.y))),this._unmodified=nt,this._constraining=!1}},ho.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var ze=this._fov/2,Be=Math.PI/2+this._pitch,Ue=Math.sin(ze)*this.cameraToCenterDistance/Math.sin(Math.PI-Be-ze),We=this.point,$e=We.x,Qe=We.y,et=1.01*(Math.cos(Math.PI/2-this._pitch)*Ue+this.cameraToCenterDistance),tt=this.height/50,rt=new Float64Array(16);Ee.perspective(rt,this._fov,this.width/this.height,tt,et),Ee.scale(rt,rt,[1,-1,1]),Ee.translate(rt,rt,[0,0,-this.cameraToCenterDistance]),Ee.rotateX(rt,rt,this._pitch),Ee.rotateZ(rt,rt,this.angle),Ee.translate(rt,rt,[-$e,-Qe,0]),this.mercatorMatrix=Ee.scale([],rt,[this.worldSize,this.worldSize,this.worldSize]),Ee.scale(rt,rt,[1,1,Ee.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=rt;var nt=this.width%2/2,at=this.height%2/2,it=Math.cos(this.angle),ct=Math.sin(this.angle),ft=$e-Math.round($e)+it*nt+ct*at,xt=Qe-Math.round(Qe)+it*at+ct*nt,kt=new Float64Array(rt);if(Ee.translate(kt,kt,[ft>.5?ft-1:ft,xt>.5?xt-1:xt,0]),this.alignedProjMatrix=kt,rt=Ee.create(),Ee.scale(rt,rt,[this.width/2,-this.height/2,1]),Ee.translate(rt,rt,[1,-1,0]),this.labelPlaneMatrix=rt,rt=Ee.create(),Ee.scale(rt,rt,[1,-1,1]),Ee.translate(rt,rt,[-1,-1,0]),Ee.scale(rt,rt,[2/this.width,2/this.height,1]),this.glCoordMatrix=rt,this.pixelMatrix=Ee.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(rt=Ee.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=rt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ho.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var ze=this.pointCoordinate(new Ee.Point(0,0)),Be=[ze.x*this.worldSize,ze.y*this.worldSize,0,1];return Ee.transformMat4(Be,Be,this.pixelMatrix)[3]/this.cameraToCenterDistance},ho.prototype.getCameraPoint=function(){var ze=this._pitch,Be=Math.tan(ze)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new Ee.Point(0,Be))},ho.prototype.getCameraQueryGeometry=function(ze){var Be=this.getCameraPoint();if(1===ze.length)return[ze[0],Be];for(var Ue=Be.x,We=Be.y,$e=Be.x,Qe=Be.y,et=0,tt=ze;et<tt.length;et+=1){var rt=tt[et];Ue=Math.min(Ue,rt.x),We=Math.min(We,rt.y),$e=Math.max($e,rt.x),Qe=Math.max(Qe,rt.y)}return[new Ee.Point(Ue,We),new Ee.Point($e,We),new Ee.Point($e,Qe),new Ee.Point(Ue,Qe),new Ee.Point(Ue,We)]},Object.defineProperties(ho.prototype,Zs);var _o=function(){var ze,Be,Ue,We;Ee.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(ze=this._updateHashUnthrottled.bind(this),Be=!1,Ue=null,We=function(){Ue=null,Be&&(ze(),Ue=setTimeout(We,300),Be=!1)},function(){return Be=!0,Ue||We(),Ue})};_o.prototype.addTo=function(ze){return this._map=ze,Ee.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},_o.prototype.remove=function(){return Ee.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},_o.prototype.getHashString=function(Ee){var ze=this._map.getCenter(),Be=Math.round(100*this._map.getZoom())/100,Ue=Math.ceil((Be*Math.LN2+Math.log(512/360/.5))/Math.LN10),We=Math.pow(10,Ue),$e=Math.round(ze.lng*We)/We,Qe=Math.round(ze.lat*We)/We,et=this._map.getBearing(),tt=this._map.getPitch(),rt="";return rt+=Ee?"#/"+$e+"/"+Qe+"/"+Be:"#"+Be+"/"+Qe+"/"+$e,(et||tt)&&(rt+="/"+Math.round(10*et)/10),tt&&(rt+="/"+Math.round(tt)),rt},_o.prototype._onHashChange=function(){var ze=Ee.window.location.hash.replace("#","").split("/");return ze.length>=3&&(this._map.jumpTo({center:[+ze[2],+ze[1]],zoom:+ze[0],bearing:+(ze[3]||0),pitch:+(ze[4]||0)}),!0)},_o.prototype._updateHashUnthrottled=function(){var ze=this.getHashString();try{Ee.window.history.replaceState(Ee.window.history.state,"",ze)}catch(Ee){}};var Ks=function(ze){function o(Ue,We,$e,Qe){void 0===Qe&&(Qe={});var et=Be.mousePos(We.getCanvasContainer(),$e),tt=We.unproject(et);ze.call(this,Ue,Ee.extend({point:et,lngLat:tt,originalEvent:$e},Qe)),this._defaultPrevented=!1,this.target=We}ze&&(o.__proto__=ze),o.prototype=Object.create(ze&&ze.prototype),o.prototype.constructor=o;var Ue={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},Ue.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,Ue),o}(Ee.Event),$s=function(ze){function o(Ue,We,$e){var Qe=Be.touchPos(We.getCanvasContainer(),$e),et=Qe.map((function(Ee){return We.unproject(Ee)})),tt=Qe.reduce((function(Ee,ze,Be,Ue){return Ee.add(ze.div(Ue.length))}),new Ee.Point(0,0)),rt=We.unproject(tt);ze.call(this,Ue,{points:Qe,point:tt,lngLats:et,lngLat:rt,originalEvent:$e}),this._defaultPrevented=!1}ze&&(o.__proto__=ze),o.prototype=Object.create(ze&&ze.prototype),o.prototype.constructor=o;var Ue={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},Ue.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,Ue),o}(Ee.Event),Qs=function(Ee){function e(ze,Be,Ue){Ee.call(this,ze,{originalEvent:Ue}),this._defaultPrevented=!1}Ee&&(e.__proto__=Ee),e.prototype=Object.create(Ee&&Ee.prototype),e.prototype.constructor=e;var ze={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},ze.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,ze),e}(Ee.Event),vo=function(ze){this._map=ze,this._el=ze.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,Ee.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};vo.prototype.setZoomRate=function(Ee){this._defaultZoomRate=Ee},vo.prototype.setWheelZoomRate=function(Ee){this._wheelZoomRate=Ee},vo.prototype.isEnabled=function(){return!!this._enabled},vo.prototype.isActive=function(){return!!this._active},vo.prototype.isZooming=function(){return!!this._zooming},vo.prototype.enable=function(Ee){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Ee&&"center"===Ee.around)},vo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vo.prototype.onWheel=function(ze){if(this.isEnabled()){var Be=ze.deltaMode===Ee.window.WheelEvent.DOM_DELTA_LINE?40*ze.deltaY:ze.deltaY,Ue=Ee.browser.now(),We=Ue-(this._lastWheelEventTime||0);this._lastWheelEventTime=Ue,0!==Be&&Be%4.000244140625==0?this._type="wheel":0!==Be&&Math.abs(Be)<4?this._type="trackpad":We>400?(this._type=null,this._lastValue=Be,this._timeout=setTimeout(this._onTimeout,40,ze)):this._type||(this._type=Math.abs(We*Be)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Be+=this._lastValue)),ze.shiftKey&&Be&&(Be/=4),this._type&&(this._lastWheelEvent=ze,this._delta-=Be,this.isActive()||this._start(ze)),ze.preventDefault()}},vo.prototype._onTimeout=function(Ee){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(Ee)},vo.prototype._start=function(ze){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new Ee.Event("movestart",{originalEvent:ze})),this._map.fire(new Ee.Event("zoomstart",{originalEvent:ze}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var Ue=Be.mousePos(this._el,ze);this._around=Ee.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Ue)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},vo.prototype._onScrollFrame=function(){var ze=this;if(this._frameId=null,this.isActive()){var Be=this._map.transform;if(0!==this._delta){var Ue="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,We=2/(1+Math.exp(-Math.abs(this._delta*Ue)));this._delta<0&&0!==We&&(We=1/We);var $e="number"==typeof this._targetZoom?Be.zoomScale(this._targetZoom):Be.scale;this._targetZoom=Math.min(Be.maxZoom,Math.max(Be.minZoom,Be.scaleZoom($e*We))),"wheel"===this._type&&(this._startZoom=Be.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Qe="number"==typeof this._targetZoom?this._targetZoom:Be.zoom,et=this._startZoom,tt=this._easing,rt=!1;if("wheel"===this._type&&et&&tt){var nt=Math.min((Ee.browser.now()-this._lastWheelEventTime)/200,1),at=tt(nt);Be.zoom=Ee.number(et,Qe,at),nt<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):rt=!0}else Be.zoom=Qe,rt=!0;Be.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new Ee.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new Ee.Event("zoom",{originalEvent:this._lastWheelEvent})),rt&&(this._active=!1,this._finishTimeout=setTimeout((function(){ze._zooming=!1,ze._map.fire(new Ee.Event("zoomend",{originalEvent:ze._lastWheelEvent})),ze._map.fire(new Ee.Event("moveend",{originalEvent:ze._lastWheelEvent})),delete ze._targetZoom}),200))}},vo.prototype._smoothOutEasing=function(ze){var Be=Ee.ease;if(this._prevEase){var Ue=this._prevEase,We=(Ee.browser.now()-Ue.start)/Ue.duration,$e=Ue.easing(We+.01)-Ue.easing(We),Qe=.27/Math.sqrt($e*$e+1e-4)*.01,et=Math.sqrt(.0729-Qe*Qe);Be=Ee.bezier(Qe,et,.25,1)}return this._prevEase={start:Ee.browser.now(),duration:ze,easing:Be},Be};var yo=function(ze,Be){this._map=ze,this._el=ze.getCanvasContainer(),this._container=ze.getContainer(),this._clickTolerance=Be.clickTolerance||1,Ee.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};yo.prototype.isEnabled=function(){return!!this._enabled},yo.prototype.isActive=function(){return!!this._active},yo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},yo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},yo.prototype.onMouseDown=function(ze){this.isEnabled()&&ze.shiftKey&&0===ze.button&&(Ee.window.document.addEventListener("mousemove",this._onMouseMove,!1),Ee.window.document.addEventListener("keydown",this._onKeyDown,!1),Ee.window.document.addEventListener("mouseup",this._onMouseUp,!1),Be.disableDrag(),this._startPos=this._lastPos=Be.mousePos(this._el,ze),this._active=!0)},yo.prototype._onMouseMove=function(Ee){var ze=Be.mousePos(this._el,Ee);if(!(this._lastPos.equals(ze)||!this._box&&ze.dist(this._startPos)<this._clickTolerance)){var Ue=this._startPos;this._lastPos=ze,this._box||(this._box=Be.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Ee));var We=Math.min(Ue.x,ze.x),$e=Math.max(Ue.x,ze.x),Qe=Math.min(Ue.y,ze.y),et=Math.max(Ue.y,ze.y);Be.setTransform(this._box,"translate("+We+"px,"+Qe+"px)"),this._box.style.width=$e-We+"px",this._box.style.height=et-Qe+"px"}},yo.prototype._onMouseUp=function(ze){if(0===ze.button){var Ue=this._startPos,We=Be.mousePos(this._el,ze);this._finish(),Be.suppressClick(),Ue.x===We.x&&Ue.y===We.y?this._fireEvent("boxzoomcancel",ze):this._map.fitScreenCoordinates(Ue,We,this._map.getBearing(),{linear:!0}).fire(new Ee.Event("boxzoomend",{originalEvent:ze}))}},yo.prototype._onKeyDown=function(Ee){27===Ee.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",Ee))},yo.prototype._finish=function(){this._active=!1,Ee.window.document.removeEventListener("mousemove",this._onMouseMove,!1),Ee.window.document.removeEventListener("keydown",this._onKeyDown,!1),Ee.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(Be.remove(this._box),this._box=null),Be.enableDrag(),delete this._startPos,delete this._lastPos},yo.prototype._fireEvent=function(ze,Be){return this._map.fire(new Ee.Event(ze,{originalEvent:Be}))};var cl=Ee.bezier(0,0,.25,1),bo=function(ze,Be){this._map=ze,this._el=Be.element||ze.getCanvasContainer(),this._state="disabled",this._button=Be.button||"right",this._bearingSnap=Be.bearingSnap||0,this._pitchWithRotate=!1!==Be.pitchWithRotate,Ee.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};bo.prototype.isEnabled=function(){return"disabled"!==this._state},bo.prototype.isActive=function(){return"active"===this._state},bo.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},bo.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},bo.prototype.onMouseDown=function(ze){if("enabled"===this._state){var Ue="touchstart"===ze.type;if(Ue)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=Be.mouseButton(ze),this._eventButton!==(ze.ctrlKey?0:2))return}else{if(ze.ctrlKey||0!==Be.mouseButton(ze))return;this._eventButton=0}Be.disableDrag(),Ue?(Ee.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),Ee.window.document.addEventListener("touchend",this._onMouseUp)):(Ee.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),Ee.window.document.addEventListener("mouseup",this._onMouseUp)),Ee.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[Ee.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=Be.mousePos(this._el,ze),this._center=this._map.transform.centerPoint,ze.preventDefault()}},bo.prototype._onMouseMove=function(Ee){var ze=Be.mousePos(this._el,Ee);this._lastPos.equals(ze)||(this._lastMoveEvent=Ee,this._lastPos=ze,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",Ee),this._fireEvent("movestart",Ee),this._pitchWithRotate&&this._fireEvent("pitchstart",Ee)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},bo.prototype._onDragFrame=function(){this._frameId=null;var ze=this._lastMoveEvent;if(ze){var Be=this._map.transform,Ue=this._prevPos,We=this._lastPos,$e=.8*(Ue.x-We.x),Qe=-.5*(Ue.y-We.y),et=Be.bearing-$e,tt=Be.pitch-Qe,rt=this._inertia,nt=rt[rt.length-1];this._drainInertiaBuffer(),rt.push([Ee.browser.now(),this._map._normalizeBearing(et,nt[1])]),Be.bearing=et,this._pitchWithRotate&&(this._fireEvent("pitch",ze),Be.pitch=tt),this._fireEvent("rotate",ze),this._fireEvent("move",ze),delete this._lastMoveEvent,this._prevPos=this._lastPos}},bo.prototype._onMouseUp=function(Ee){if("touchend"===Ee.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),Be.mouseButton(Ee)===this._eventButton)switch(this._state){case"active":this._state="enabled",Be.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(Ee);break;case"pending":this._state="enabled",this._unbind()}},bo.prototype._onBlur=function(Ee){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",Ee),this._pitchWithRotate&&this._fireEvent("pitchend",Ee),this._fireEvent("moveend",Ee);break;case"pending":this._state="enabled",this._unbind()}},bo.prototype._unbind=function(){Ee.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),Ee.window.document.removeEventListener("mouseup",this._onMouseUp),Ee.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),Ee.window.document.removeEventListener("touchend",this._onMouseUp),Ee.window.removeEventListener("blur",this._onBlur),Be.enableDrag()},bo.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},bo.prototype._inertialRotate=function(Ee){var ze=this;this._fireEvent("rotateend",Ee),this._drainInertiaBuffer();var Be=this._map,Ue=Be.getBearing(),We=this._inertia,a=function(){Math.abs(Ue)<ze._bearingSnap?Be.resetNorth({noMoveStart:!0},{originalEvent:Ee}):ze._fireEvent("moveend",Ee),ze._pitchWithRotate&&ze._fireEvent("pitchend",Ee)};if(We.length<2)a();else{var $e=We[0],Qe=We[We.length-1],et=We[We.length-2],tt=Be._normalizeBearing(Ue,et[1]),rt=Qe[1]-$e[1],nt=rt<0?-1:1,at=(Qe[0]-$e[0])/1e3;if(0!==rt&&0!==at){var it=Math.abs(rt*(.25/at));it>180&&(it=180);var ct=it/180;tt+=nt*it*(ct/2),Math.abs(Be._normalizeBearing(tt,0))<this._bearingSnap&&(tt=Be._normalizeBearing(0,tt)),Be.rotateTo(tt,{duration:1e3*ct,easing:cl,noMoveStart:!0},{originalEvent:Ee})}else a()}},bo.prototype._fireEvent=function(ze,Be){return this._map.fire(new Ee.Event(ze,Be?{originalEvent:Be}:{}))},bo.prototype._drainInertiaBuffer=function(){for(var ze=this._inertia,Be=Ee.browser.now();ze.length>0&&Be-ze[0][0]>160;)ze.shift()};var fl=Ee.bezier(0,0,.3,1),Eo=function(ze,Be){this._map=ze,this._el=ze.getCanvasContainer(),this._state="disabled",this._clickTolerance=Be.clickTolerance||1,Ee.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Eo.prototype.isEnabled=function(){return"disabled"!==this._state},Eo.prototype.isActive=function(){return"active"===this._state},Eo.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Eo.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Eo.prototype.onMouseDown=function(ze){"enabled"===this._state&&(ze.ctrlKey||0!==Be.mouseButton(ze)||(Be.addEventListener(Ee.window.document,"mousemove",this._onMove,{capture:!0}),Be.addEventListener(Ee.window.document,"mouseup",this._onMouseUp),this._start(ze)))},Eo.prototype.onTouchStart=function(ze){"enabled"===this._state&&(ze.touches.length>1||(Be.addEventListener(Ee.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),Be.addEventListener(Ee.window.document,"touchend",this._onTouchEnd),this._start(ze)))},Eo.prototype._start=function(ze){Ee.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=Be.mousePos(this._el,ze),this._inertia=[[Ee.browser.now(),this._startPos]]},Eo.prototype._onMove=function(ze){ze.preventDefault();var Ue=Be.mousePos(this._el,ze);this._lastPos.equals(Ue)||"pending"===this._state&&Ue.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=ze,this._lastPos=Ue,this._drainInertiaBuffer(),this._inertia.push([Ee.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",ze),this._fireEvent("movestart",ze)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Eo.prototype._onDragFrame=function(){this._frameId=null;var Ee=this._lastMoveEvent;if(Ee){var ze=this._map.transform;ze.setLocationAtPoint(ze.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",Ee),this._fireEvent("move",Ee),this._prevPos=this._lastPos,delete this._lastMoveEvent}},Eo.prototype._onMouseUp=function(Ee){if(0===Be.mouseButton(Ee))switch(this._state){case"active":this._state="enabled",Be.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(Ee);break;case"pending":this._state="enabled",this._unbind()}},Eo.prototype._onTouchEnd=function(Ee){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(Ee);break;case"pending":this._state="enabled",this._unbind()}},Eo.prototype._onBlur=function(Ee){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",Ee),this._fireEvent("moveend",Ee);break;case"pending":this._state="enabled",this._unbind()}},Eo.prototype._unbind=function(){Be.removeEventListener(Ee.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),Be.removeEventListener(Ee.window.document,"touchend",this._onTouchEnd),Be.removeEventListener(Ee.window.document,"mousemove",this._onMove,{capture:!0}),Be.removeEventListener(Ee.window.document,"mouseup",this._onMouseUp),Be.removeEventListener(Ee.window,"blur",this._onBlur)},Eo.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos},Eo.prototype._inertialPan=function(Ee){this._fireEvent("dragend",Ee),this._drainInertiaBuffer();var ze=this._inertia;if(ze.length<2)this._fireEvent("moveend",Ee);else{var Be=ze[ze.length-1],Ue=ze[0],We=Be[1].sub(Ue[1]),$e=(Be[0]-Ue[0])/1e3;if(0===$e||Be[1].equals(Ue[1]))this._fireEvent("moveend",Ee);else{var Qe=We.mult(.3/$e),et=Qe.mag();et>1400&&(et=1400,Qe._unit()._mult(et));var tt=et/750,rt=Qe.mult(-tt/2);this._map.panBy(rt,{duration:1e3*tt,easing:fl,noMoveStart:!0},{originalEvent:Ee})}}},Eo.prototype._fireEvent=function(ze,Be){return this._map.fire(new Ee.Event(ze,Be?{originalEvent:Be}:{}))},Eo.prototype._drainInertiaBuffer=function(){for(var ze=this._inertia,Be=Ee.browser.now();ze.length>0&&Be-ze[0][0]>160;)ze.shift()};var To=function(ze){this._map=ze,this._el=ze.getCanvasContainer(),Ee.bindAll(["_onKeyDown"],this)};function Io(Ee){return Ee*(2-Ee)}To.prototype.isEnabled=function(){return!!this._enabled},To.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},To.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},To.prototype._onKeyDown=function(Ee){if(!(Ee.altKey||Ee.ctrlKey||Ee.metaKey)){var ze=0,Be=0,Ue=0,We=0,$e=0;switch(Ee.keyCode){case 61:case 107:case 171:case 187:ze=1;break;case 189:case 109:case 173:ze=-1;break;case 37:Ee.shiftKey?Be=-1:(Ee.preventDefault(),We=-1);break;case 39:Ee.shiftKey?Be=1:(Ee.preventDefault(),We=1);break;case 38:Ee.shiftKey?Ue=1:(Ee.preventDefault(),$e=-1);break;case 40:Ee.shiftKey?Ue=-1:($e=1,Ee.preventDefault());break;default:return}var Qe=this._map,et=Qe.getZoom(),tt={duration:300,delayEndEvents:500,easing:Io,zoom:ze?Math.round(et)+ze*(Ee.shiftKey?2:1):et,bearing:Qe.getBearing()+15*Be,pitch:Qe.getPitch()+10*Ue,offset:[100*-We,100*-$e],center:Qe.getCenter()};Qe.easeTo(tt,{originalEvent:Ee})}};var So=function(ze){this._map=ze,Ee.bindAll(["_onDblClick","_onZoomEnd"],this)};So.prototype.isEnabled=function(){return!!this._enabled},So.prototype.isActive=function(){return!!this._active},So.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},So.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},So.prototype.onTouchStart=function(Ee){var ze=this;if(this.isEnabled()&&!(Ee.points.length>1))if(this._tapped){var Be=Ee.points[0],Ue=this._tappedPoint;if(Ue&&Ue.dist(Be)<=30){Ee.originalEvent.preventDefault();var r=function(){ze._tapped&&ze._zoom(Ee),ze._map.off("touchcancel",a),ze._resetTapped()},a=function(){ze._map.off("touchend",r),ze._resetTapped()};this._map.once("touchend",r),this._map.once("touchcancel",a)}else this._resetTapped()}else this._tappedPoint=Ee.points[0],this._tapped=setTimeout((function(){ze._tapped=null,ze._tappedPoint=null}),300)},So.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},So.prototype.onDblClick=function(Ee){this.isEnabled()&&(Ee.originalEvent.preventDefault(),this._zoom(Ee))},So.prototype._zoom=function(Ee){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(Ee.originalEvent.shiftKey?-1:1),{around:Ee.lngLat},Ee)},So.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var hl=Ee.bezier(0,0,.15,1),Po=function(ze){this._map=ze,this._el=ze.getCanvasContainer(),Ee.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Po.prototype.isEnabled=function(){return!!this._enabled},Po.prototype.enable=function(Ee){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!Ee&&"center"===Ee.around)},Po.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Po.prototype.disableRotation=function(){this._rotationDisabled=!0},Po.prototype.enableRotation=function(){this._rotationDisabled=!1},Po.prototype.onStart=function(ze){if(this.isEnabled()&&2===ze.touches.length){var Ue=Be.mousePos(this._el,ze.touches[0]),We=Be.mousePos(this._el,ze.touches[1]),$e=Ue.add(We).div(2);this._startVec=Ue.sub(We),this._startAround=this._map.transform.pointLocation($e),this._gestureIntent=void 0,this._inertia=[],Be.addEventListener(Ee.window.document,"touchmove",this._onMove,{passive:!1}),Be.addEventListener(Ee.window.document,"touchend",this._onEnd)}},Po.prototype._getTouchEventData=function(Ee){var ze=Be.mousePos(this._el,Ee.touches[0]),Ue=Be.mousePos(this._el,Ee.touches[1]),We=ze.sub(Ue);return{vec:We,center:ze.add(Ue).div(2),scale:We.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*We.angleWith(this._startVec)/Math.PI}},Po.prototype._onMove=function(ze){if(2===ze.touches.length){var Be=this._getTouchEventData(ze),Ue=Be.vec,We=Be.scale,$e=Be.bearing;if(!this._gestureIntent){var Qe=this._rotationDisabled&&1!==We||Math.abs(1-We)>.15;Math.abs($e)>10?this._gestureIntent="rotate":Qe&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new Ee.Event(this._gestureIntent+"start",{originalEvent:ze})),this._map.fire(new Ee.Event("movestart",{originalEvent:ze})),this._startVec=Ue)}this._lastTouchEvent=ze,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),ze.preventDefault()}},Po.prototype._onTouchFrame=function(){this._frameId=null;var ze=this._gestureIntent;if(ze){var Be=this._map.transform;this._startScale||(this._startScale=Be.scale,this._startBearing=Be.bearing);var Ue=this._getTouchEventData(this._lastTouchEvent),We=Ue.center,$e=Ue.bearing,Qe=Ue.scale,et=Be.pointLocation(We),tt=Be.locationPoint(et);"rotate"===ze&&(Be.bearing=this._startBearing+$e),Be.zoom=Be.scaleZoom(this._startScale*Qe),Be.setLocationAtPoint(this._startAround,tt),this._map.fire(new Ee.Event(ze,{originalEvent:this._lastTouchEvent})),this._map.fire(new Ee.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([Ee.browser.now(),Qe,We])}},Po.prototype._onEnd=function(ze){Be.removeEventListener(Ee.window.document,"touchmove",this._onMove,{passive:!1}),Be.removeEventListener(Ee.window.document,"touchend",this._onEnd);var Ue=this._gestureIntent,We=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,Ue){this._map.fire(new Ee.Event(Ue+"end",{originalEvent:ze})),this._drainInertiaBuffer();var $e=this._inertia,Qe=this._map;if($e.length<2)Qe.snapToNorth({},{originalEvent:ze});else{var et=$e[$e.length-1],tt=$e[0],rt=Qe.transform.scaleZoom(We*et[1]),nt=Qe.transform.scaleZoom(We*tt[1]),at=rt-nt,it=(et[0]-tt[0])/1e3,ct=et[2];if(0!==it&&rt!==nt){var ft=.15*at/it;Math.abs(ft)>2.5&&(ft=ft>0?2.5:-2.5);var xt=1e3*Math.abs(ft/(12*.15)),kt=rt+ft*xt/2e3;kt<0&&(kt=0),Qe.easeTo({zoom:kt,duration:xt,easing:hl,around:this._aroundCenter?Qe.getCenter():Qe.unproject(ct),noMoveStart:!0},{originalEvent:ze})}else Qe.snapToNorth({},{originalEvent:ze})}}},Po.prototype._drainInertiaBuffer=function(){for(var ze=this._inertia,Be=Ee.browser.now();ze.length>2&&Be-ze[0][0]>160;)ze.shift()};var dl={scrollZoom:vo,boxZoom:yo,dragRotate:bo,dragPan:Eo,keyboard:To,doubleClickZoom:So,touchZoomRotate:Po},pl=function(ze){function i(Be,Ue){ze.call(this),this._moving=!1,this._zooming=!1,this.transform=Be,this._bearingSnap=Ue.bearingSnap,Ee.bindAll(["_renderFrameCallback"],this)}return ze&&(i.__proto__=ze),i.prototype=Object.create(ze&&ze.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return new Ee.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(Ee,ze){return this.jumpTo({center:Ee},ze)},i.prototype.panBy=function(ze,Be,Ue){return ze=Ee.Point.convert(ze).mult(-1),this.panTo(this.transform.center,Ee.extend({offset:ze},Be),Ue)},i.prototype.panTo=function(ze,Be,Ue){return this.easeTo(Ee.extend({center:ze},Be),Ue)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(Ee,ze){return this.jumpTo({zoom:Ee},ze),this},i.prototype.zoomTo=function(ze,Be,Ue){return this.easeTo(Ee.extend({zoom:ze},Be),Ue)},i.prototype.zoomIn=function(Ee,ze){return this.zoomTo(this.getZoom()+1,Ee,ze),this},i.prototype.zoomOut=function(Ee,ze){return this.zoomTo(this.getZoom()-1,Ee,ze),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(Ee,ze){return this.jumpTo({bearing:Ee},ze),this},i.prototype.rotateTo=function(ze,Be,Ue){return this.easeTo(Ee.extend({bearing:ze},Be),Ue)},i.prototype.resetNorth=function(ze,Be){return this.rotateTo(0,Ee.extend({duration:1e3},ze),Be),this},i.prototype.resetNorthPitch=function(ze,Be){return this.easeTo(Ee.extend({bearing:0,pitch:0,duration:1e3},ze),Be),this},i.prototype.snapToNorth=function(Ee,ze){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(Ee,ze):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(Ee,ze){return this.jumpTo({pitch:Ee},ze),this},i.prototype.cameraForBounds=function(ze,Be){return ze=Ee.LngLatBounds.convert(ze),this._cameraForBoxAndBearing(ze.getNorthWest(),ze.getSouthEast(),0,Be)},i.prototype._cameraForBoxAndBearing=function(ze,Be,Ue,We){if("number"==typeof(We=Ee.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},We)).padding){var $e=We.padding;We.padding={top:$e,bottom:$e,right:$e,left:$e}}if(Ee.deepEqual(Object.keys(We.padding).sort((function(Ee,ze){return Ee<ze?-1:Ee>ze?1:0})),["bottom","left","right","top"])){var Qe=this.transform,et=Qe.project(Ee.LngLat.convert(ze)),tt=Qe.project(Ee.LngLat.convert(Be)),rt=et.rotate(-Ue*Math.PI/180),nt=tt.rotate(-Ue*Math.PI/180),at=new Ee.Point(Math.max(rt.x,nt.x),Math.max(rt.y,nt.y)),it=new Ee.Point(Math.min(rt.x,nt.x),Math.min(rt.y,nt.y)),ct=at.sub(it),ft=(Qe.width-We.padding.left-We.padding.right)/ct.x,xt=(Qe.height-We.padding.top-We.padding.bottom)/ct.y;if(!(xt<0||ft<0)){var kt=Math.min(Qe.scaleZoom(Qe.scale*Math.min(ft,xt)),We.maxZoom),Lt=Ee.Point.convert(We.offset),Ut=(We.padding.left-We.padding.right)/2,er=(We.padding.top-We.padding.bottom)/2,tr=new Ee.Point(Lt.x+Ut,Lt.y+er).mult(Qe.scale/Qe.zoomScale(kt));return{center:Qe.unproject(et.add(tt).div(2).sub(tr)),zoom:kt,bearing:Ue}}Ee.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else Ee.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},i.prototype.fitBounds=function(Ee,ze,Be){return this._fitInternal(this.cameraForBounds(Ee,ze),ze,Be)},i.prototype.fitScreenCoordinates=function(ze,Be,Ue,We,$e){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(Ee.Point.convert(ze)),this.transform.pointLocation(Ee.Point.convert(Be)),Ue,We),We,$e)},i.prototype._fitInternal=function(ze,Be,Ue){return ze?(Be=Ee.extend(ze,Be)).linear?this.easeTo(Be,Ue):this.flyTo(Be,Ue):this},i.prototype.jumpTo=function(ze,Be){this.stop();var Ue=this.transform,We=!1,$e=!1,Qe=!1;return"zoom"in ze&&Ue.zoom!==+ze.zoom&&(We=!0,Ue.zoom=+ze.zoom),void 0!==ze.center&&(Ue.center=Ee.LngLat.convert(ze.center)),"bearing"in ze&&Ue.bearing!==+ze.bearing&&($e=!0,Ue.bearing=+ze.bearing),"pitch"in ze&&Ue.pitch!==+ze.pitch&&(Qe=!0,Ue.pitch=+ze.pitch),this.fire(new Ee.Event("movestart",Be)).fire(new Ee.Event("move",Be)),We&&this.fire(new Ee.Event("zoomstart",Be)).fire(new Ee.Event("zoom",Be)).fire(new Ee.Event("zoomend",Be)),$e&&this.fire(new Ee.Event("rotatestart",Be)).fire(new Ee.Event("rotate",Be)).fire(new Ee.Event("rotateend",Be)),Qe&&this.fire(new Ee.Event("pitchstart",Be)).fire(new Ee.Event("pitch",Be)).fire(new Ee.Event("pitchend",Be)),this.fire(new Ee.Event("moveend",Be))},i.prototype.easeTo=function(ze,Be){var Ue=this;this.stop(),(!1===(ze=Ee.extend({offset:[0,0],duration:500,easing:Ee.ease},ze)).animate||Ee.browser.prefersReducedMotion)&&(ze.duration=0);var We=this.transform,$e=this.getZoom(),Qe=this.getBearing(),et=this.getPitch(),tt="zoom"in ze?+ze.zoom:$e,rt="bearing"in ze?this._normalizeBearing(ze.bearing,Qe):Qe,nt="pitch"in ze?+ze.pitch:et,at=We.centerPoint.add(Ee.Point.convert(ze.offset)),it=We.pointLocation(at),ct=Ee.LngLat.convert(ze.center||it);this._normalizeCenter(ct);var ft,xt,kt=We.project(it),Lt=We.project(ct).sub(kt),Ut=We.zoomScale(tt-$e);return ze.around&&(ft=Ee.LngLat.convert(ze.around),xt=We.locationPoint(ft)),this._zooming=tt!==$e,this._rotating=Qe!==rt,this._pitching=nt!==et,this._prepareEase(Be,ze.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(ze){if(Ue._zooming&&(We.zoom=Ee.number($e,tt,ze)),Ue._rotating&&(We.bearing=Ee.number(Qe,rt,ze)),Ue._pitching&&(We.pitch=Ee.number(et,nt,ze)),ft)We.setLocationAtPoint(ft,xt);else{var it=We.zoomScale(We.zoom-$e),ct=tt>$e?Math.min(2,Ut):Math.max(.5,Ut),er=Math.pow(ct,1-ze),tr=We.unproject(kt.add(Lt.mult(ze*er)).mult(it));We.setLocationAtPoint(We.renderWorldCopies?tr.wrap():tr,at)}Ue._fireMoveEvents(Be)}),(function(){ze.delayEndEvents?Ue._easeEndTimeoutID=setTimeout((function(){return Ue._afterEase(Be)}),ze.delayEndEvents):Ue._afterEase(Be)}),ze),this},i.prototype._prepareEase=function(ze,Be){this._moving=!0,Be||this.fire(new Ee.Event("movestart",ze)),this._zooming&&this.fire(new Ee.Event("zoomstart",ze)),this._rotating&&this.fire(new Ee.Event("rotatestart",ze)),this._pitching&&this.fire(new Ee.Event("pitchstart",ze))},i.prototype._fireMoveEvents=function(ze){this.fire(new Ee.Event("move",ze)),this._zooming&&this.fire(new Ee.Event("zoom",ze)),this._rotating&&this.fire(new Ee.Event("rotate",ze)),this._pitching&&this.fire(new Ee.Event("pitch",ze))},i.prototype._afterEase=function(ze){var Be=this._zooming,Ue=this._rotating,We=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,Be&&this.fire(new Ee.Event("zoomend",ze)),Ue&&this.fire(new Ee.Event("rotateend",ze)),We&&this.fire(new Ee.Event("pitchend",ze)),this.fire(new Ee.Event("moveend",ze))},i.prototype.flyTo=function(ze,Be){var Ue=this;if(Ee.browser.prefersReducedMotion){var We=Ee.pick(ze,["center","zoom","bearing","pitch","around"]);return this.jumpTo(We,Be)}this.stop(),ze=Ee.extend({offset:[0,0],speed:1.2,curve:1.42,easing:Ee.ease},ze);var $e=this.transform,Qe=this.getZoom(),et=this.getBearing(),tt=this.getPitch(),rt="zoom"in ze?Ee.clamp(+ze.zoom,$e.minZoom,$e.maxZoom):Qe,nt="bearing"in ze?this._normalizeBearing(ze.bearing,et):et,at="pitch"in ze?+ze.pitch:tt,it=$e.zoomScale(rt-Qe),ct=$e.centerPoint.add(Ee.Point.convert(ze.offset)),ft=$e.pointLocation(ct),xt=Ee.LngLat.convert(ze.center||ft);this._normalizeCenter(xt);var kt=$e.project(ft),Lt=$e.project(xt).sub(kt),Ut=ze.curve,er=Math.max($e.width,$e.height),tr=er/it,rr=Lt.mag();if("minZoom"in ze){var ar=Ee.clamp(Math.min(ze.minZoom,Qe,rt),$e.minZoom,$e.maxZoom),Lr=er/$e.zoomScale(ar-Qe);Ut=Math.sqrt(Lr/rr*2)}var Qr=Ut*Ut;function I(Ee){var ze=(tr*tr-er*er+(Ee?-1:1)*Qr*Qr*rr*rr)/(2*(Ee?tr:er)*Qr*rr);return Math.log(Math.sqrt(ze*ze+1)-ze)}function S(Ee){return(Math.exp(Ee)-Math.exp(-Ee))/2}function C(Ee){return(Math.exp(Ee)+Math.exp(-Ee))/2}var on=I(0),z=function(Ee){return C(on)/C(on+Ut*Ee)},L=function(Ee){return er*((C(on)*(S(ze=on+Ut*Ee)/C(ze))-S(on))/Qr)/rr;var ze},sn=(I(1)-on)/Ut;if(Math.abs(rr)<1e-6||!isFinite(sn)){if(Math.abs(er-tr)<1e-6)return this.easeTo(ze,Be);var ln=tr<er?-1:1;sn=Math.abs(Math.log(tr/er))/Ut,L=function(){return 0},z=function(Ee){return Math.exp(ln*Ut*Ee)}}if("duration"in ze)ze.duration=+ze.duration;else{var cn="screenSpeed"in ze?+ze.screenSpeed/Ut:+ze.speed;ze.duration=1e3*sn/cn}return ze.maxDuration&&ze.duration>ze.maxDuration&&(ze.duration=0),this._zooming=!0,this._rotating=et!==nt,this._pitching=at!==tt,this._prepareEase(Be,!1),this._ease((function(ze){var We=ze*sn,it=1/z(We);$e.zoom=1===ze?rt:Qe+$e.scaleZoom(it),Ue._rotating&&($e.bearing=Ee.number(et,nt,ze)),Ue._pitching&&($e.pitch=Ee.number(tt,at,ze));var ft=1===ze?xt:$e.unproject(kt.add(Lt.mult(L(We))).mult(it));$e.setLocationAtPoint($e.renderWorldCopies?ft.wrap():ft,ct),Ue._fireMoveEvents(Be)}),(function(){return Ue._afterEase(Be)}),ze),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ee=this._onEaseEnd;delete this._onEaseEnd,Ee.call(this)}return this},i.prototype._ease=function(ze,Be,Ue){!1===Ue.animate||0===Ue.duration?(ze(1),Be()):(this._easeStart=Ee.browser.now(),this._easeOptions=Ue,this._onEaseFrame=ze,this._onEaseEnd=Be,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var ze=Math.min((Ee.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ze)),ze<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(ze,Be){ze=Ee.wrap(ze,-180,180);var Ue=Math.abs(ze-Be);return Math.abs(ze-360-Be)<Ue&&(ze-=360),Math.abs(ze+360-Be)<Ue&&(ze+=360),ze},i.prototype._normalizeCenter=function(Ee){var ze=this.transform;if(ze.renderWorldCopies&&!ze.lngRange){var Be=Ee.lng-ze.center.lng;Ee.lng+=Be>180?-360:Be<-180?360:0}},i}(Ee.Evented),Mo=function(ze){void 0===ze&&(ze={}),this.options=ze,Ee.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Mo.prototype.getDefaultPosition=function(){return"bottom-right"},Mo.prototype.onAdd=function(Ee){var ze=this.options&&this.options.compact;return this._map=Ee,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=Be.create("div","mapboxgl-ctrl-attrib-inner",this._container),ze&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===ze&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Mo.prototype.onRemove=function(){Be.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Mo.prototype._updateEditLink=function(){var ze=this._editLink;ze||(ze=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Be=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||Ee.config.ACCESS_TOKEN}];if(ze){var Ue=Be.reduce((function(Ee,ze,Ue){return ze.value&&(Ee+=ze.key+"="+ze.value+(Ue<Be.length-1?"&":"")),Ee}),"?");ze.href=Ee.config.FEEDBACK_URL+"/"+Ue+(this._map._hash?this._map._hash.getHashString(!0):""),ze.rel="noopener nofollow"}},Mo.prototype._updateData=function(Ee){!Ee||"metadata"!==Ee.sourceDataType&&"style"!==Ee.dataType||(this._updateAttributions(),this._updateEditLink())},Mo.prototype._updateAttributions=function(){if(this._map.style){var Ee=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Ee=Ee.concat(this.options.customAttribution.map((function(Ee){return"string"!=typeof Ee?"":Ee}))):"string"==typeof this.options.customAttribution&&Ee.push(this.options.customAttribution)),this._map.style.stylesheet){var ze=this._map.style.stylesheet;this.styleOwner=ze.owner,this.styleId=ze.id}var Be=this._map.style.sourceCaches;for(var Ue in Be){var We=Be[Ue];if(We.used){var $e=We.getSource();$e.attribution&&Ee.indexOf($e.attribution)<0&&Ee.push($e.attribution)}}Ee.sort((function(Ee,ze){return Ee.length-ze.length}));var Qe=(Ee=Ee.filter((function(ze,Be){for(var Ue=Be+1;Ue<Ee.length;Ue++)if(Ee[Ue].indexOf(ze)>=0)return!1;return!0}))).join(" | ");Qe!==this._attribHTML&&(this._attribHTML=Qe,Ee.length?(this._innerContainer.innerHTML=Qe,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Mo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Do=function(){Ee.bindAll(["_updateLogo"],this),Ee.bindAll(["_updateCompact"],this)};Do.prototype.onAdd=function(Ee){this._map=Ee,this._container=Be.create("div","mapboxgl-ctrl");var ze=Be.create("a","mapboxgl-ctrl-logo");return ze.target="_blank",ze.rel="noopener nofollow",ze.href="https://www.mapbox.com/",ze.setAttribute("aria-label","Mapbox logo"),ze.setAttribute("rel","noopener nofollow"),this._container.appendChild(ze),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Do.prototype.onRemove=function(){Be.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Do.prototype.getDefaultPosition=function(){return"bottom-left"},Do.prototype._updateLogo=function(Ee){Ee&&"metadata"!==Ee.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Do.prototype._logoRequired=function(){if(this._map.style){var Ee=this._map.style.sourceCaches;for(var ze in Ee)if(Ee[ze].getSource().mapbox_logo)return!0;return!1}},Do.prototype._updateCompact=function(){var Ee=this._container.children;if(Ee.length){var ze=Ee[0];this._map.getCanvasContainer().offsetWidth<250?ze.classList.add("mapboxgl-compact"):ze.classList.remove("mapboxgl-compact")}};var Ro=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ro.prototype.add=function(Ee){var ze=++this._id;return this._queue.push({callback:Ee,id:ze,cancelled:!1}),ze},Ro.prototype.remove=function(Ee){for(var ze=this._currentlyRunning,Be=0,Ue=ze?this._queue.concat(ze):this._queue;Be<Ue.length;Be+=1){var We=Ue[Be];if(We.id===Ee)return void(We.cancelled=!0)}},Ro.prototype.run=function(){var Ee=this._currentlyRunning=this._queue;this._queue=[];for(var ze=0,Be=Ee;ze<Be.length;ze+=1){var Ue=Be[ze];if(!Ue.cancelled&&(Ue.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ro.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var gl=Ee.window.HTMLImageElement,yl=Ee.window.HTMLElement,wl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Tl=function(Ue){function r(ze){var We=this;if(null!=(ze=Ee.extend({},wl,ze)).minZoom&&null!=ze.maxZoom&&ze.minZoom>ze.maxZoom)throw new Error("maxZoom must be greater than minZoom");var $e=new ho(ze.minZoom,ze.maxZoom,ze.renderWorldCopies);if(Ue.call(this,$e,ze),this._interactive=ze.interactive,this._maxTileCacheSize=ze.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ze.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ze.preserveDrawingBuffer,this._antialias=ze.antialias,this._trackResize=ze.trackResize,this._bearingSnap=ze.bearingSnap,this._refreshExpiredTiles=ze.refreshExpiredTiles,this._fadeDuration=ze.fadeDuration,this._crossSourceCollisions=ze.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ze.collectResourceTiming,this._renderTaskQueue=new Ro,this._controls=[],this._mapId=Ee.uniqueId(),this._requestManager=new Ee.RequestManager(ze.transformRequest,ze.accessToken),"string"==typeof ze.container){if(this._container=Ee.window.document.getElementById(ze.container),!this._container)throw new Error("Container '"+ze.container+"' not found.")}else{if(!(ze.container instanceof yl))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ze.container}if(ze.maxBounds&&this.setMaxBounds(ze.maxBounds),Ee.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return We._update(!1)})),this.on("moveend",(function(){return We._update(!1)})),this.on("zoom",(function(){return We._update(!0)})),void 0!==Ee.window&&(Ee.window.addEventListener("online",this._onWindowOnline,!1),Ee.window.addEventListener("resize",this._onWindowResize,!1)),function(Ee,ze){var Ue=Ee.getCanvasContainer(),We=null,$e=!1,Qe=null;for(var et in dl)Ee[et]=new dl[et](Ee,ze),ze.interactive&&ze[et]&&Ee[et].enable(ze[et]);Be.addEventListener(Ue,"mouseout",(function(ze){Ee.fire(new Ks("mouseout",Ee,ze))})),Be.addEventListener(Ue,"mousedown",(function(We){$e=!0,Qe=Be.mousePos(Ue,We);var et=new Ks("mousedown",Ee,We);Ee.fire(et),et.defaultPrevented||(ze.interactive&&!Ee.doubleClickZoom.isActive()&&Ee.stop(),Ee.boxZoom.onMouseDown(We),Ee.boxZoom.isActive()||Ee.dragPan.isActive()||Ee.dragRotate.onMouseDown(We),Ee.boxZoom.isActive()||Ee.dragRotate.isActive()||Ee.dragPan.onMouseDown(We))})),Be.addEventListener(Ue,"mouseup",(function(ze){var Be=Ee.dragRotate.isActive();We&&!Be&&Ee.fire(new Ks("contextmenu",Ee,We)),We=null,$e=!1,Ee.fire(new Ks("mouseup",Ee,ze))})),Be.addEventListener(Ue,"mousemove",(function(ze){if(!Ee.dragPan.isActive()&&!Ee.dragRotate.isActive()){for(var Be=ze.target;Be&&Be!==Ue;)Be=Be.parentNode;Be===Ue&&Ee.fire(new Ks("mousemove",Ee,ze))}})),Be.addEventListener(Ue,"mouseover",(function(ze){for(var Be=ze.target;Be&&Be!==Ue;)Be=Be.parentNode;Be===Ue&&Ee.fire(new Ks("mouseover",Ee,ze))})),Be.addEventListener(Ue,"touchstart",(function(Be){var Ue=new $s("touchstart",Ee,Be);Ee.fire(Ue),Ue.defaultPrevented||(ze.interactive&&Ee.stop(),Ee.boxZoom.isActive()||Ee.dragRotate.isActive()||Ee.dragPan.onTouchStart(Be),Ee.touchZoomRotate.onStart(Be),Ee.doubleClickZoom.onTouchStart(Ue))}),{passive:!1}),Be.addEventListener(Ue,"touchmove",(function(ze){Ee.fire(new $s("touchmove",Ee,ze))}),{passive:!1}),Be.addEventListener(Ue,"touchend",(function(ze){Ee.fire(new $s("touchend",Ee,ze))})),Be.addEventListener(Ue,"touchcancel",(function(ze){Ee.fire(new $s("touchcancel",Ee,ze))})),Be.addEventListener(Ue,"click",(function(We){var $e=Be.mousePos(Ue,We);(!Qe||$e.equals(Qe)||$e.dist(Qe)<ze.clickTolerance)&&Ee.fire(new Ks("click",Ee,We))})),Be.addEventListener(Ue,"dblclick",(function(ze){var Be=new Ks("dblclick",Ee,ze);Ee.fire(Be),Be.defaultPrevented||Ee.doubleClickZoom.onDblClick(Be)})),Be.addEventListener(Ue,"contextmenu",(function(ze){var Be=Ee.dragRotate.isActive();$e||Be?$e&&(We=ze):Ee.fire(new Ks("contextmenu",Ee,ze)),(Ee.dragRotate.isEnabled()||Ee.listens("contextmenu"))&&ze.preventDefault()})),Be.addEventListener(Ue,"wheel",(function(Be){ze.interactive&&Ee.stop();var Ue=new Qs("wheel",Ee,Be);Ee.fire(Ue),Ue.defaultPrevented||Ee.scrollZoom.onWheel(Be)}),{passive:!1})}(this,ze),this._hash=ze.hash&&(new _o).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ze.center,zoom:ze.zoom,bearing:ze.bearing,pitch:ze.pitch}),ze.bounds&&(this.resize(),this.fitBounds(ze.bounds,Ee.extend({},ze.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ze.localIdeographFontFamily,ze.style&&this.setStyle(ze.style,{localIdeographFontFamily:ze.localIdeographFontFamily}),ze.attributionControl&&this.addControl(new Mo({customAttribution:ze.customAttribution})),this.addControl(new Do,ze.logoPosition),this.on("style.load",(function(){We.transform.unmodified&&We.jumpTo(We.style.stylesheet)})),this.on("data",(function(ze){We._update("style"===ze.dataType),We.fire(new Ee.Event(ze.dataType+"data",ze))})),this.on("dataloading",(function(ze){We.fire(new Ee.Event(ze.dataType+"dataloading",ze))}))}Ue&&(r.__proto__=Ue),r.prototype=Object.create(Ue&&Ue.prototype),r.prototype.constructor=r;var We={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(ze,Be){if(void 0===Be&&ze.getDefaultPosition&&(Be=ze.getDefaultPosition()),void 0===Be&&(Be="top-right"),!ze||!ze.onAdd)return this.fire(new Ee.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ue=ze.onAdd(this);this._controls.push(ze);var We=this._controlPositions[Be];return-1!==Be.indexOf("bottom")?We.insertBefore(Ue,We.firstChild):We.appendChild(Ue),this},r.prototype.removeControl=function(ze){if(!ze||!ze.onRemove)return this.fire(new Ee.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Be=this._controls.indexOf(ze);return Be>-1&&this._controls.splice(Be,1),ze.onRemove(this),this},r.prototype.resize=function(ze){var Be=this._containerDimensions(),Ue=Be[0],We=Be[1];return this._resizeCanvas(Ue,We),this.transform.resize(Ue,We),this.painter.resize(Ue,We),this.fire(new Ee.Event("movestart",ze)).fire(new Ee.Event("move",ze)).fire(new Ee.Event("resize",ze)).fire(new Ee.Event("moveend",ze)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(ze){return this.transform.setMaxBounds(Ee.LngLatBounds.convert(ze)),this._update()},r.prototype.setMinZoom=function(Ee){if((Ee=null==Ee?0:Ee)>=0&&Ee<=this.transform.maxZoom)return this.transform.minZoom=Ee,this._update(),this.getZoom()<Ee&&this.setZoom(Ee),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(Ee){if((Ee=null==Ee?22:Ee)>=this.transform.minZoom)return this.transform.maxZoom=Ee,this._update(),this.getZoom()>Ee&&this.setZoom(Ee),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(Ee){return this.transform.renderWorldCopies=Ee,this._update()},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.project=function(ze){return this.transform.locationPoint(Ee.LngLat.convert(ze))},r.prototype.unproject=function(ze){return this.transform.pointLocation(Ee.Point.convert(ze))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype.on=function(Ee,ze,Be){var We=this;if(void 0===Be)return Ue.prototype.on.call(this,Ee,ze);var $e=function(){var Ue;if("mouseenter"===Ee||"mouseover"===Ee){var $e=!1;return{layer:ze,listener:Be,delegates:{mousemove:function(Ue){var Qe=We.getLayer(ze)?We.queryRenderedFeatures(Ue.point,{layers:[ze]}):[];Qe.length?$e||($e=!0,Be.call(We,new Ks(Ee,We,Ue.originalEvent,{features:Qe}))):$e=!1},mouseout:function(){$e=!1}}}}if("mouseleave"===Ee||"mouseout"===Ee){var Qe=!1;return{layer:ze,listener:Be,delegates:{mousemove:function(Ue){(We.getLayer(ze)?We.queryRenderedFeatures(Ue.point,{layers:[ze]}):[]).length?Qe=!0:Qe&&(Qe=!1,Be.call(We,new Ks(Ee,We,Ue.originalEvent)))},mouseout:function(ze){Qe&&(Qe=!1,Be.call(We,new Ks(Ee,We,ze.originalEvent)))}}}}return{layer:ze,listener:Be,delegates:(Ue={},Ue[Ee]=function(Ee){var Ue=We.getLayer(ze)?We.queryRenderedFeatures(Ee.point,{layers:[ze]}):[];Ue.length&&(Ee.features=Ue,Be.call(We,Ee),delete Ee.features)},Ue)}}();for(var Qe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[Ee]=this._delegatedListeners[Ee]||[],this._delegatedListeners[Ee].push($e),$e.delegates)this.on(Qe,$e.delegates[Qe]);return this},r.prototype.off=function(Ee,ze,Be){if(void 0===Be)return Ue.prototype.off.call(this,Ee,ze);if(this._delegatedListeners&&this._delegatedListeners[Ee])for(var We=this._delegatedListeners[Ee],$e=0;$e<We.length;$e++){var Qe=We[$e];if(Qe.layer===ze&&Qe.listener===Be){for(var et in Qe.delegates)this.off(et,Qe.delegates[et]);return We.splice($e,1),this}}return this},r.prototype.queryRenderedFeatures=function(ze,Be){if(!this.style)return[];var Ue;if(void 0!==Be||void 0===ze||ze instanceof Ee.Point||Array.isArray(ze)||(Be=ze,ze=void 0),Be=Be||{},(ze=ze||[[0,0],[this.transform.width,this.transform.height]])instanceof Ee.Point||"number"==typeof ze[0])Ue=[Ee.Point.convert(ze)];else{var We=Ee.Point.convert(ze[0]),$e=Ee.Point.convert(ze[1]);Ue=[We,new Ee.Point($e.x,We.y),$e,new Ee.Point(We.x,$e.y),We]}return this.style.queryRenderedFeatures(Ue,Be,this.transform)},r.prototype.querySourceFeatures=function(Ee,ze){return this.style.querySourceFeatures(Ee,ze)},r.prototype.setStyle=function(ze,Be){return!1!==(Be=Ee.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Be)).diff&&Be.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ze?(this._diffStyle(ze,Be),this):(this._localIdeographFontFamily=Be.localIdeographFontFamily,this._updateStyle(ze,Be))},r.prototype._updateStyle=function(Ee,ze){return this.style&&(this.style.setEventedParent(null),this.style._remove()),Ee?(this.style=new Ho(this,ze||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof Ee?this.style.loadURL(Ee):this.style.loadJSON(Ee),this):(delete this.style,this)},r.prototype._diffStyle=function(ze,Be){var Ue=this;if("string"==typeof ze){var We=this._requestManager.normalizeStyleURL(ze),$e=this._requestManager.transformRequest(We,Ee.ResourceType.Style);Ee.getJSON($e,(function(ze,We){ze?Ue.fire(new Ee.ErrorEvent(ze)):We&&Ue._updateDiff(We,Be)}))}else"object"==typeof ze&&this._updateDiff(ze,Be)},r.prototype._updateDiff=function(ze,Be){try{this.style.setState(ze)&&this._update(!0)}catch(Ue){Ee.warnOnce("Unable to perform style diff: "+(Ue.message||Ue.error||Ue)+".  Rebuilding the style from scratch."),this._updateStyle(ze,Be)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():Ee.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(Ee,ze){return this.style.addSource(Ee,ze),this._update(!0)},r.prototype.isSourceLoaded=function(ze){var Be=this.style&&this.style.sourceCaches[ze];if(void 0!==Be)return Be.loaded();this.fire(new Ee.ErrorEvent(new Error("There is no source with ID '"+ze+"'")))},r.prototype.areTilesLoaded=function(){var Ee=this.style&&this.style.sourceCaches;for(var ze in Ee){var Be=Ee[ze]._tiles;for(var Ue in Be){var We=Be[Ue];if("loaded"!==We.state&&"errored"!==We.state)return!1}}return!0},r.prototype.addSourceType=function(Ee,ze,Be){return this.style.addSourceType(Ee,ze,Be)},r.prototype.removeSource=function(Ee){return this.style.removeSource(Ee),this._update(!0)},r.prototype.getSource=function(Ee){return this.style.getSource(Ee)},r.prototype.addImage=function(ze,Be,Ue){void 0===Ue&&(Ue={});var We=Ue.pixelRatio;void 0===We&&(We=1);var $e=Ue.sdf;if(void 0===$e&&($e=!1),Be instanceof gl){var Qe=Ee.browser.getImageData(Be),et=Qe.width,tt=Qe.height,rt=Qe.data;this.style.addImage(ze,{data:new Ee.RGBAImage({width:et,height:tt},rt),pixelRatio:We,sdf:$e,version:0})}else{if(void 0===Be.width||void 0===Be.height)return this.fire(new Ee.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var nt=Be.width,at=Be.height,it=Be.data,ct=Be;this.style.addImage(ze,{data:new Ee.RGBAImage({width:nt,height:at},new Uint8Array(it)),pixelRatio:We,sdf:$e,version:0,userImage:ct}),ct.onAdd&&ct.onAdd(this,ze)}},r.prototype.updateImage=function(ze,Be){var Ue=this.style.getImage(ze);if(!Ue)return this.fire(new Ee.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var We=Be instanceof gl?Ee.browser.getImageData(Be):Be,$e=We.width,Qe=We.height,et=We.data;if(void 0===$e||void 0===Qe)return this.fire(new Ee.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if($e!==Ue.data.width||Qe!==Ue.data.height)return this.fire(new Ee.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var tt=!(Be instanceof gl);Ue.data.replace(et,tt),this.style.updateImage(ze,Ue)},r.prototype.hasImage=function(ze){return ze?!!this.style.getImage(ze):(this.fire(new Ee.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(Ee){this.style.removeImage(Ee)},r.prototype.loadImage=function(ze,Be){Ee.getImage(this._requestManager.transformRequest(ze,Ee.ResourceType.Image),Be)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(Ee,ze){return this.style.addLayer(Ee,ze),this._update(!0)},r.prototype.moveLayer=function(Ee,ze){return this.style.moveLayer(Ee,ze),this._update(!0)},r.prototype.removeLayer=function(Ee){return this.style.removeLayer(Ee),this._update(!0)},r.prototype.getLayer=function(Ee){return this.style.getLayer(Ee)},r.prototype.setFilter=function(Ee,ze,Be){return void 0===Be&&(Be={}),this.style.setFilter(Ee,ze,Be),this._update(!0)},r.prototype.setLayerZoomRange=function(Ee,ze,Be){return this.style.setLayerZoomRange(Ee,ze,Be),this._update(!0)},r.prototype.getFilter=function(Ee){return this.style.getFilter(Ee)},r.prototype.setPaintProperty=function(Ee,ze,Be,Ue){return void 0===Ue&&(Ue={}),this.style.setPaintProperty(Ee,ze,Be,Ue),this._update(!0)},r.prototype.getPaintProperty=function(Ee,ze){return this.style.getPaintProperty(Ee,ze)},r.prototype.setLayoutProperty=function(Ee,ze,Be,Ue){return void 0===Ue&&(Ue={}),this.style.setLayoutProperty(Ee,ze,Be,Ue),this._update(!0)},r.prototype.getLayoutProperty=function(Ee,ze){return this.style.getLayoutProperty(Ee,ze)},r.prototype.setLight=function(Ee,ze){return void 0===ze&&(ze={}),this.style.setLight(Ee,ze),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(Ee,ze){return this.style.setFeatureState(Ee,ze),this._update()},r.prototype.removeFeatureState=function(Ee,ze){return this.style.removeFeatureState(Ee,ze),this._update()},r.prototype.getFeatureState=function(Ee){return this.style.getFeatureState(Ee)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var Ee=0,ze=0;return this._container&&(Ee=this._container.clientWidth||400,ze=this._container.clientHeight||300),[Ee,ze]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==Ee.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&Ee.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var Ee=this._container;Ee.classList.add("mapboxgl-map"),(this._missingCSSCanary=Be.create("div","mapboxgl-canary",Ee)).style.visibility="hidden",this._detectMissingCSS();var ze=this._canvasContainer=Be.create("div","mapboxgl-canvas-container",Ee);this._interactive&&ze.classList.add("mapboxgl-interactive"),this._canvas=Be.create("canvas","mapboxgl-canvas",ze),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Ue=this._containerDimensions();this._resizeCanvas(Ue[0],Ue[1]);var We=this._controlContainer=Be.create("div","mapboxgl-control-container",Ee),$e=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(Ee){$e[Ee]=Be.create("div","mapboxgl-ctrl-"+Ee,We)}))},r.prototype._resizeCanvas=function(ze,Be){var Ue=Ee.window.devicePixelRatio||1;this._canvas.width=Ue*ze,this._canvas.height=Ue*Be,this._canvas.style.width=ze+"px",this._canvas.style.height=Be+"px"},r.prototype._setupPainter=function(){var Be=Ee.extend({},ze.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ue=this._canvas.getContext("webgl",Be)||this._canvas.getContext("experimental-webgl",Be);Ue?(this.painter=new so(Ue,this.transform),Ee.webpSupported.testSupport(Ue)):this.fire(new Ee.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(ze){ze.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new Ee.Event("webglcontextlost",{originalEvent:ze}))},r.prototype._contextRestored=function(ze){this._setupPainter(),this.resize(),this._update(),this.fire(new Ee.Event("webglcontextrestored",{originalEvent:ze}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(Ee){return this.style?(this._styleDirty=this._styleDirty||Ee,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(Ee){return this._update(),this._renderTaskQueue.add(Ee)},r.prototype._cancelRenderFrame=function(Ee){this._renderTaskQueue.remove(Ee)},r.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var ze=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Be=this.transform.zoom,Ue=Ee.browser.now();this.style.zoomHistory.update(Be,Ue);var We=new Ee.EvaluationParameters(Be,{now:Ue,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),$e=We.crossFadingFactor();1===$e&&$e===this._crossFadingFactor||(ze=!0,this._crossFadingFactor=$e),this.style.update(We)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new Ee.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new Ee.Event("load"))),this.style&&(this.style.hasTransitions()||ze)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new Ee.Event("idle")),this},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var ze=0,Be=this._controls;ze<Be.length;ze+=1)Be[ze].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==Ee.window&&(Ee.window.removeEventListener("resize",this._onWindowResize,!1),Ee.window.removeEventListener("online",this._onWindowOnline,!1));var Ue=this.painter.context.gl.getExtension("WEBGL_lose_context");Ue&&Ue.loseContext(),Fo(this._canvasContainer),Fo(this._controlContainer),Fo(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new Ee.Event("remove"))},r.prototype.triggerRepaint=function(){var ze=this;this.style&&!this._frame&&(this._frame=Ee.browser.frame((function(){ze._frame=null,ze._render()})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},We.showTileBoundaries.get=function(){return!!this._showTileBoundaries},We.showTileBoundaries.set=function(Ee){this._showTileBoundaries!==Ee&&(this._showTileBoundaries=Ee,this._update())},We.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},We.showCollisionBoxes.set=function(Ee){this._showCollisionBoxes!==Ee&&(this._showCollisionBoxes=Ee,Ee?this.style._generateCollisionBoxes():this._update())},We.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},We.showOverdrawInspector.set=function(Ee){this._showOverdrawInspector!==Ee&&(this._showOverdrawInspector=Ee,this._update())},We.repaint.get=function(){return!!this._repaint},We.repaint.set=function(Ee){this._repaint!==Ee&&(this._repaint=Ee,this.triggerRepaint())},We.vertices.get=function(){return!!this._vertices},We.vertices.set=function(Ee){this._vertices=Ee,this._update()},r.prototype._setCacheLimits=function(ze,Be){Ee.setCacheLimits(ze,Be)},We.version.get=function(){return Ee.version},Object.defineProperties(r.prototype,We),r}(pl);function Fo(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}var kl={showCompass:!0,showZoom:!0,visualizePitch:!1},No=function(ze){var Ue=this;this.options=Ee.extend({},kl,ze),this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(Ee){return Ee.preventDefault()})),this.options.showZoom&&(Ee.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(){return Ue._map.zoomIn()})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(){return Ue._map.zoomOut()}))),this.options.showCompass&&(Ee.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(){Ue.options.visualizePitch?Ue._map.resetNorthPitch():Ue._map.resetNorth()})),this._compassArrow=Be.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Zo(ze,Be,Ue){if(ze=new Ee.LngLat(ze.lng,ze.lat),Be){var We=new Ee.LngLat(ze.lng-360,ze.lat),$e=new Ee.LngLat(ze.lng+360,ze.lat),Qe=Ue.locationPoint(ze).distSqr(Be);Ue.locationPoint(We).distSqr(Be)<Qe?ze=We:Ue.locationPoint($e).distSqr(Be)<Qe&&(ze=$e)}for(;Math.abs(ze.lng-Ue.center.lng)>180;){var et=Ue.locationPoint(ze);if(et.x>=0&&et.y>=0&&et.x<=Ue.width&&et.y<=Ue.height)break;ze.lng>Ue.center.lng?ze.lng-=360:ze.lng+=360}return ze}No.prototype._updateZoomButtons=function(){var Ee=this._map.getZoom();Ee===this._map.getMaxZoom()?this._zoomInButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomInButton.classList.remove("mapboxgl-ctrl-icon-disabled"),Ee===this._map.getMinZoom()?this._zoomOutButton.classList.add("mapboxgl-ctrl-icon-disabled"):this._zoomOutButton.classList.remove("mapboxgl-ctrl-icon-disabled")},No.prototype._rotateCompassArrow=function(){var Ee=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=Ee},No.prototype.onAdd=function(Ee){return this._map=Ee,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bo(Ee,{button:"left",element:this._compass}),Be.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),Be.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},No.prototype.onRemove=function(){Be.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),Be.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),Be.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},No.prototype._createButton=function(Ee,ze,Ue){var We=Be.create("button",Ee,this._container);return We.type="button",We.title=ze,We.setAttribute("aria-label",ze),We.addEventListener("click",Ue),We};var Al={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jo(Ee,ze,Be){var Ue=Ee.classList;for(var We in Al)Ue.remove("mapboxgl-"+Be+"-anchor-"+We);Ue.add("mapboxgl-"+Be+"-anchor-"+ze)}var Ml,Sl=function(ze){function o(Ue,We){if(ze.call(this),(Ue instanceof Ee.window.HTMLElement||We)&&(Ue=Ee.extend({element:Ue},We)),Ee.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=Ue&&Ue.anchor||"center",this._color=Ue&&Ue.color||"#3FB1CE",this._draggable=Ue&&Ue.draggable||!1,this._state="inactive",Ue&&Ue.element)this._element=Ue.element,this._offset=Ee.Point.convert(Ue&&Ue.offset||[0,0]);else{this._defaultMarker=!0,this._element=Be.create("div");var $e=Be.createNS("http://www.w3.org/2000/svg","svg");$e.setAttributeNS(null,"display","block"),$e.setAttributeNS(null,"height","41px"),$e.setAttributeNS(null,"width","27px"),$e.setAttributeNS(null,"viewBox","0 0 27 41");var Qe=Be.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"stroke","none"),Qe.setAttributeNS(null,"stroke-width","1"),Qe.setAttributeNS(null,"fill","none"),Qe.setAttributeNS(null,"fill-rule","evenodd");var et=Be.createNS("http://www.w3.org/2000/svg","g");et.setAttributeNS(null,"fill-rule","nonzero");var tt=Be.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),tt.setAttributeNS(null,"fill","#000000");for(var rt=0,nt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];rt<nt.length;rt+=1){var at=nt[rt],it=Be.createNS("http://www.w3.org/2000/svg","ellipse");it.setAttributeNS(null,"opacity","0.04"),it.setAttributeNS(null,"cx","10.5"),it.setAttributeNS(null,"cy","5.80029008"),it.setAttributeNS(null,"rx",at.rx),it.setAttributeNS(null,"ry",at.ry),tt.appendChild(it)}var ct=Be.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"fill",this._color);var ft=Be.createNS("http://www.w3.org/2000/svg","path");ft.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ct.appendChild(ft);var xt=Be.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"opacity","0.25"),xt.setAttributeNS(null,"fill","#000000");var kt=Be.createNS("http://www.w3.org/2000/svg","path");kt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),xt.appendChild(kt);var Lt=Be.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Lt.setAttributeNS(null,"fill","#FFFFFF");var Ut=Be.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(8.0, 8.0)");var er=Be.createNS("http://www.w3.org/2000/svg","circle");er.setAttributeNS(null,"fill","#000000"),er.setAttributeNS(null,"opacity","0.25"),er.setAttributeNS(null,"cx","5.5"),er.setAttributeNS(null,"cy","5.5"),er.setAttributeNS(null,"r","5.4999962");var tr=Be.createNS("http://www.w3.org/2000/svg","circle");tr.setAttributeNS(null,"fill","#FFFFFF"),tr.setAttributeNS(null,"cx","5.5"),tr.setAttributeNS(null,"cy","5.5"),tr.setAttributeNS(null,"r","5.4999962"),Ut.appendChild(er),Ut.appendChild(tr),et.appendChild(tt),et.appendChild(ct),et.appendChild(xt),et.appendChild(Lt),et.appendChild(Ut),$e.appendChild(et),this._element.appendChild($e),this._offset=Ee.Point.convert(Ue&&Ue.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(Ee){Ee.preventDefault()})),jo(this._element,this._anchor,"marker"),this._popup=null}return ze&&(o.__proto__=ze),o.prototype=Object.create(ze&&ze.prototype),o.prototype.constructor=o,o.prototype.addTo=function(Ee){return this.remove(),this._map=Ee,Ee.getCanvasContainer().appendChild(this._element),Ee.on("move",this._update),Ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),Be.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(ze){return this._lngLat=Ee.LngLat.convert(ze),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(Ee){if(this._popup&&(this._popup.remove(),this._popup=null),Ee){if(!("offset"in Ee.options)){var ze=Math.sqrt(Math.pow(13.5,2)/2);Ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[ze,-1*(24.6+ze)],"bottom-right":[-ze,-1*(24.6+ze)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=Ee,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},o.prototype._onMapClick=function(Ee){var ze=Ee.originalEvent.target,Be=this._element;this._popup&&(ze===Be||Be.contains(ze))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var Ee=this._popup;return Ee?(Ee.isOpen()?Ee.remove():Ee.addTo(this._map),this):this},o.prototype._update=function(Ee){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Zo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),Ee&&"moveend"!==Ee.type||(this._pos=this._pos.round()),Be.setTransform(this._element,Al[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(ze){return this._offset=Ee.Point.convert(ze),this._update(),this},o.prototype._onMove=function(ze){this._pos=ze.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new Ee.Event("dragstart"))),this.fire(new Ee.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new Ee.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(Ee){this._element.contains(Ee.originalEvent.target)&&(Ee.preventDefault(),this._positionDelta=Ee.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(Ee){return this._draggable=!!Ee,this._map&&(Ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o}(Ee.Evented),Cl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},El=function(ze){function o(Be){ze.call(this),this.options=Ee.extend({},Cl,Be),Ee.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ze&&(o.__proto__=ze),o.prototype=Object.create(ze&&ze.prototype),o.prototype.constructor=o,o.prototype.onAdd=function(ze){var Ue;return this._map=ze,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Ue=this._setupUI,void 0!==Ml?Ue(Ml):void 0!==Ee.window.navigator.permissions?Ee.window.navigator.permissions.query({name:"geolocation"}).then((function(Ee){Ml="denied"!==Ee.state,Ue(Ml)})):(Ml=!!Ee.window.navigator.geolocation,Ue(Ml)),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(Ee.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),Be.remove(this._container),this._map=void 0},o.prototype._onSuccess=function(ze){if(this.options.trackUserLocation)switch(this._lastKnownPosition=ze,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(ze),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(ze),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new Ee.Event("geolocate",ze)),this._finish()},o.prototype._updateCamera=function(ze){var Be=new Ee.LngLat(ze.coords.longitude,ze.coords.latitude),Ue=ze.coords.accuracy,We=this._map.getBearing(),$e=Ee.extend({bearing:We},this.options.fitBoundsOptions);this._map.fitBounds(Be.toBounds(Ue),$e,{geolocateSource:!0})},o.prototype._updateMarker=function(Ee){Ee?this._userLocationDotMarker.setLngLat([Ee.coords.longitude,Ee.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},o.prototype._onError=function(ze){if(this.options.trackUserLocation)if(1===ze.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new Ee.Event("error",ze)),this._finish()},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(ze){var Ue=this;!1!==ze?(this._container.addEventListener("contextmenu",(function(Ee){return Ee.preventDefault()})),this._geolocateButton=Be.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Be.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Sl(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(ze){ze.geolocateSource||"ACTIVE_LOCK"!==Ue._watchState||(Ue._watchState="BACKGROUND",Ue._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),Ue._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),Ue.fire(new Ee.Event("trackuserlocationend")))}))):Ee.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},o.prototype.trigger=function(){if(!this._setup)return Ee.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new Ee.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new Ee.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new Ee.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=Ee.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else Ee.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){Ee.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(Ee.Evented),Pl={maxWidth:100,unit:"metric"},Ko=function(ze){this.options=Ee.extend({},Pl,ze),Ee.bindAll(["_onMove","setUnit"],this)};function Jo(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt=Be&&Be.maxWidth||100,nt=Ee._container.clientHeight/2,at=(Ue=Ee.unproject([0,nt]),We=Ee.unproject([rt,nt]),$e=Math.PI/180,Qe=Ue.lat*$e,et=We.lat*$e,tt=Math.sin(Qe)*Math.sin(et)+Math.cos(Qe)*Math.cos(et)*Math.cos((We.lng-Ue.lng)*$e),6371e3*Math.acos(Math.min(tt,1)));if(Be&&"imperial"===Be.unit){var it=3.2808*at;it>5280?Yo(ze,rt,it/5280,"mi"):Yo(ze,rt,it,"ft")}else Be&&"nautical"===Be.unit?Yo(ze,rt,at/1852,"nm"):Yo(ze,rt,at,"m")}function Yo(Ee,ze,Be,Ue){var We,$e,Qe,et=(We=Be,($e=Math.pow(10,(""+Math.floor(We)).length-1))*(Qe=(Qe=We/$e)>=10?10:Qe>=5?5:Qe>=3?3:Qe>=2?2:Qe>=1?1:function(Ee){var ze=Math.pow(10,Math.ceil(-Math.log(Ee)/Math.LN10));return Math.round(Ee*ze)/ze}(Qe))),tt=et/Be;"m"===Ue&&et>=1e3&&(et/=1e3,Ue="km"),Ee.style.width=ze*tt+"px",Ee.innerHTML=et+Ue}Ko.prototype.getDefaultPosition=function(){return"bottom-left"},Ko.prototype._onMove=function(){Jo(this._map,this._container,this.options)},Ko.prototype.onAdd=function(Ee){return this._map=Ee,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Ee.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ko.prototype.onRemove=function(){Be.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ko.prototype.setUnit=function(Ee){this.options.unit=Ee,Jo(this._map,this._container,this.options)};var Qo=function(ze){this._fullscreen=!1,ze&&ze.container&&(ze.container instanceof Ee.window.HTMLElement?this._container=ze.container:Ee.warnOnce("Full screen control 'container' must be a DOM element.")),Ee.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in Ee.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in Ee.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in Ee.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in Ee.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Qo.prototype.onAdd=function(ze){return this._map=ze,this._container||(this._container=this._map.getContainer()),this._controlContainer=Be.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",Ee.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Qo.prototype.onRemove=function(){Be.remove(this._controlContainer),this._map=null,Ee.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Qo.prototype._checkFullscreenSupport=function(){return!!(Ee.window.document.fullscreenEnabled||Ee.window.document.mozFullScreenEnabled||Ee.window.document.msFullscreenEnabled||Ee.window.document.webkitFullscreenEnabled)},Qo.prototype._setupUI=function(){(this._fullscreenButton=Be.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),Ee.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Qo.prototype._updateTitle=function(){var Ee=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",Ee),this._fullscreenButton.title=Ee},Qo.prototype._isFullscreen=function(){return this._fullscreen},Qo.prototype._changeIcon=function(){(Ee.window.document.fullscreenElement||Ee.window.document.mozFullScreenElement||Ee.window.document.webkitFullscreenElement||Ee.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Qo.prototype._onClickFullscreen=function(){this._isFullscreen()?Ee.window.document.exitFullscreen?Ee.window.document.exitFullscreen():Ee.window.document.mozCancelFullScreen?Ee.window.document.mozCancelFullScreen():Ee.window.document.msExitFullscreen?Ee.window.document.msExitFullscreen():Ee.window.document.webkitCancelFullScreen&&Ee.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ll={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Ol=function(ze){function o(Be){ze.call(this),this.options=Ee.extend(Object.create(Ll),Be),Ee.bindAll(["_update","_onClickClose","remove"],this)}return ze&&(o.__proto__=ze),o.prototype=Object.create(ze&&ze.prototype),o.prototype.constructor=o,o.prototype.addTo=function(ze){var Be=this;return this._map=ze,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(Ee){Be._update(Ee.point)})),this._map.on("mouseup",(function(Ee){Be._update(Ee.point)})),this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new Ee.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&Be.remove(this._content),this._container&&(Be.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new Ee.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(ze){return this._lngLat=Ee.LngLat.convert(ze),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){var Ee=this;return this._trackPointer=!0,this._pos=null,this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(ze){Ee._update(ze.point)})),this._map.on("drag",(function(ze){Ee._update(ze.point)})),this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(ze){return this.setDOMContent(Ee.window.document.createTextNode(ze))},o.prototype.setHTML=function(ze){var Be,Ue=Ee.window.document.createDocumentFragment(),We=Ee.window.document.createElement("body");for(We.innerHTML=ze;Be=We.firstChild;)Ue.appendChild(Be);return this.setDOMContent(Ue)},o.prototype.getMaxWidth=function(){return this._container.style.maxWidth},o.prototype.setMaxWidth=function(Ee){return this.options.maxWidth=Ee,this._update(),this},o.prototype.setDOMContent=function(Ee){return this._createContent(),this._content.appendChild(Ee),this._update(),this},o.prototype._createContent=function(){this._content&&Be.remove(this._content),this._content=Be.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=Be.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},o.prototype._update=function(ze){var Ue=this,We=this._lngLat||this._trackPointer;if(this._map&&We&&this._content&&(this._container||(this._container=Be.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=Be.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(Ee){return Ue._container.classList.add(Ee)}))),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zo(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||ze)){var $e=this._pos=this._trackPointer&&ze?ze:this._map.project(this._lngLat),Qe=this.options.anchor,et=function e(ze){if(ze){if("number"==typeof ze){var Be=Math.round(Math.sqrt(.5*Math.pow(ze,2)));return{center:new Ee.Point(0,0),top:new Ee.Point(0,ze),"top-left":new Ee.Point(Be,Be),"top-right":new Ee.Point(-Be,Be),bottom:new Ee.Point(0,-ze),"bottom-left":new Ee.Point(Be,-Be),"bottom-right":new Ee.Point(-Be,-Be),left:new Ee.Point(ze,0),right:new Ee.Point(-ze,0)}}if(ze instanceof Ee.Point||Array.isArray(ze)){var Ue=Ee.Point.convert(ze);return{center:Ue,top:Ue,"top-left":Ue,"top-right":Ue,bottom:Ue,"bottom-left":Ue,"bottom-right":Ue,left:Ue,right:Ue}}return{center:Ee.Point.convert(ze.center||[0,0]),top:Ee.Point.convert(ze.top||[0,0]),"top-left":Ee.Point.convert(ze["top-left"]||[0,0]),"top-right":Ee.Point.convert(ze["top-right"]||[0,0]),bottom:Ee.Point.convert(ze.bottom||[0,0]),"bottom-left":Ee.Point.convert(ze["bottom-left"]||[0,0]),"bottom-right":Ee.Point.convert(ze["bottom-right"]||[0,0]),left:Ee.Point.convert(ze.left||[0,0]),right:Ee.Point.convert(ze.right||[0,0])}}return e(new Ee.Point(0,0))}(this.options.offset);if(!Qe){var tt,rt=this._container.offsetWidth,nt=this._container.offsetHeight;tt=$e.y+et.bottom.y<nt?["top"]:$e.y>this._map.transform.height-nt?["bottom"]:[],$e.x<rt/2?tt.push("left"):$e.x>this._map.transform.width-rt/2&&tt.push("right"),Qe=0===tt.length?"bottom":tt.join("-")}var at=$e.add(et[Qe]).round();Be.setTransform(this._container,Al[Qe]+" translate("+at.x+"px,"+at.y+"px)"),jo(this._container,Qe,"popup")}},o.prototype._onClickClose=function(){this.remove()},o}(Ee.Evented),Dl={version:Ee.version,supported:ze,setRTLTextPlugin:Ee.setRTLTextPlugin,Map:Tl,NavigationControl:No,GeolocateControl:El,AttributionControl:Mo,ScaleControl:Ko,FullscreenControl:Qo,Popup:Ol,Marker:Sl,Style:Ho,LngLat:Ee.LngLat,LngLatBounds:Ee.LngLatBounds,Point:Ee.Point,MercatorCoordinate:Ee.MercatorCoordinate,Evented:Ee.Evented,config:Ee.config,get accessToken(){return Ee.config.ACCESS_TOKEN},set accessToken(ze){Ee.config.ACCESS_TOKEN=ze},get baseApiUrl(){return Ee.config.API_URL},set baseApiUrl(ze){Ee.config.API_URL=ze},get workerCount(){return At.workerCount},set workerCount(Ee){At.workerCount=Ee},get maxParallelImageRequests(){return Ee.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ze){Ee.config.MAX_PARALLEL_IMAGE_REQUESTS=ze},clearStorage:function(ze){Ee.clearTileCache(ze)},workerUrl:""};return Dl})),Be}()},e19c:function(Ee,ze,Be){"use strict";var Ue,We=Be("2160"),$e=Be("96ae"),Qe=Object.prototype.isPrototypeOf,et=Object.defineProperty,tt={configurable:!0,enumerable:!1,writable:!0,value:void 0};Ue=function(Ee,ze){if($e(Ee),null===ze||We(ze))return Ee;throw new TypeError("Prototype must be null or an object")},Ee.exports=function(Ee){var ze,Be;return Ee?(2===Ee.level?Ee.set?(Be=Ee.set,ze=function(Ee,ze){return Be.call(Ue(Ee,ze),ze),Ee}):ze=function(Ee,ze){return Ue(Ee,ze).__proto__=ze,Ee}:ze=function self(Ee,ze){var Be;return Ue(Ee,ze),(Be=Qe.call(self.nullPolyfill,Ee))&&delete self.nullPolyfill.__proto__,null===ze&&(ze=self.nullPolyfill),Ee.__proto__=ze,Be&&et(self.nullPolyfill,"__proto__",tt),Ee},Object.defineProperty(ze,"level",{configurable:!1,enumerable:!1,writable:!1,value:Ee.level})):null}(function(){var Ee,ze=Object.create(null),Be={},Ue=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(Ue){try{(Ee=Ue.set).call(ze,Be)}catch(Ee){}if(Object.getPrototypeOf(ze)===Be)return{set:Ee,level:2}}return ze.__proto__=Be,Object.getPrototypeOf(ze)===Be?{level:2}:((ze={}).__proto__=Be,Object.getPrototypeOf(ze)===Be&&{level:1})}()),Be("ba4b")},e19f:function(Ee,ze,Be){var Ue;!function(){"use strict";var We={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function sprintf(Ee){return sprintf_format(sprintf_parse(Ee),arguments)}function vsprintf(Ee,ze){return sprintf.apply(null,[Ee].concat(ze||[]))}function sprintf_format(Ee,ze){var Be,Ue,$e,Qe,et,tt,rt,nt,at,it=1,ct=Ee.length,ft="";for(Ue=0;Ue<ct;Ue++)if("string"==typeof Ee[Ue])ft+=Ee[Ue];else if("object"==typeof Ee[Ue]){if((Qe=Ee[Ue]).keys)for(Be=ze[it],$e=0;$e<Qe.keys.length;$e++){if(null==Be)throw new Error(sprintf('[sprintf] Cannot access property "%s" of undefined value "%s"',Qe.keys[$e],Qe.keys[$e-1]));Be=Be[Qe.keys[$e]]}else Be=Qe.param_no?ze[Qe.param_no]:ze[it++];if(We.not_type.test(Qe.type)&&We.not_primitive.test(Qe.type)&&Be instanceof Function&&(Be=Be()),We.numeric_arg.test(Qe.type)&&"number"!=typeof Be&&isNaN(Be))throw new TypeError(sprintf("[sprintf] expecting number but found %T",Be));switch(We.number.test(Qe.type)&&(nt=Be>=0),Qe.type){case"b":Be=parseInt(Be,10).toString(2);break;case"c":Be=String.fromCharCode(parseInt(Be,10));break;case"d":case"i":Be=parseInt(Be,10);break;case"j":Be=JSON.stringify(Be,null,Qe.width?parseInt(Qe.width):0);break;case"e":Be=Qe.precision?parseFloat(Be).toExponential(Qe.precision):parseFloat(Be).toExponential();break;case"f":Be=Qe.precision?parseFloat(Be).toFixed(Qe.precision):parseFloat(Be);break;case"g":Be=Qe.precision?String(Number(Be.toPrecision(Qe.precision))):parseFloat(Be);break;case"o":Be=(parseInt(Be,10)>>>0).toString(8);break;case"s":Be=String(Be),Be=Qe.precision?Be.substring(0,Qe.precision):Be;break;case"t":Be=String(!!Be),Be=Qe.precision?Be.substring(0,Qe.precision):Be;break;case"T":Be=Object.prototype.toString.call(Be).slice(8,-1).toLowerCase(),Be=Qe.precision?Be.substring(0,Qe.precision):Be;break;case"u":Be=parseInt(Be,10)>>>0;break;case"v":Be=Be.valueOf(),Be=Qe.precision?Be.substring(0,Qe.precision):Be;break;case"x":Be=(parseInt(Be,10)>>>0).toString(16);break;case"X":Be=(parseInt(Be,10)>>>0).toString(16).toUpperCase()}We.json.test(Qe.type)?ft+=Be:(!We.number.test(Qe.type)||nt&&!Qe.sign?at="":(at=nt?"+":"-",Be=Be.toString().replace(We.sign,"")),tt=Qe.pad_char?"0"===Qe.pad_char?"0":Qe.pad_char.charAt(1):" ",rt=Qe.width-(at+Be).length,et=Qe.width&&rt>0?tt.repeat(rt):"",ft+=Qe.align?at+Be+et:"0"===tt?at+et+Be:et+at+Be)}return ft}var $e=Object.create(null);function sprintf_parse(Ee){if($e[Ee])return $e[Ee];for(var ze,Be=Ee,Ue=[],Qe=0;Be;){if(null!==(ze=We.text.exec(Be)))Ue.push(ze[0]);else if(null!==(ze=We.modulo.exec(Be)))Ue.push("%");else{if(null===(ze=We.placeholder.exec(Be)))throw new SyntaxError("[sprintf] unexpected placeholder");if(ze[2]){Qe|=1;var et=[],tt=ze[2],rt=[];if(null===(rt=We.key.exec(tt)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(et.push(rt[1]);""!==(tt=tt.substring(rt[0].length));)if(null!==(rt=We.key_access.exec(tt)))et.push(rt[1]);else{if(null===(rt=We.index_access.exec(tt)))throw new SyntaxError("[sprintf] failed to parse named argument key");et.push(rt[1])}ze[2]=et}else Qe|=2;if(3===Qe)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");Ue.push({placeholder:ze[0],param_no:ze[1],keys:ze[2],sign:ze[3],pad_char:ze[4],align:ze[5],width:ze[6],precision:ze[7],type:ze[8]})}Be=Be.substring(ze[0].length)}return $e[Ee]=Ue}ze.sprintf=sprintf,ze.vsprintf=vsprintf,"undefined"!=typeof window&&(window.sprintf=sprintf,window.vsprintf=vsprintf,void 0===(Ue=function(){return{sprintf:sprintf,vsprintf:vsprintf}}.call(ze,Be,ze,Ee))||(Ee.exports=Ue))}()},e1e5:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3aa8");function processGrid(Ee){var ze,Be,We,$e,Qe,et,tt,rt,nt,at,it,ct,ft=Ee._x,xt=Ee._y,kt=Ee._z,Lt=Ee._len,Ut=-1/0,er=1/0,tr=-1/0,rr=1/0,ar=-1/0,Lr=1/0,Qr="";for(Lt&&(tt=ft[0],nt=xt[0],it=kt[0]),Lt>1&&(rt=ft[Lt-1],at=xt[Lt-1],ct=kt[Lt-1]),ze=0;ze<Lt;ze++)Ut=Math.max(Ut,ft[ze]),er=Math.min(er,ft[ze]),tr=Math.max(tr,xt[ze]),rr=Math.min(rr,xt[ze]),ar=Math.max(ar,kt[ze]),Lr=Math.min(Lr,kt[ze]),$e||ft[ze]===tt||($e=!0,Qr+="x"),Qe||xt[ze]===nt||(Qe=!0,Qr+="y"),et||kt[ze]===it||(et=!0,Qr+="z");$e||(Qr+="x"),Qe||(Qr+="y"),et||(Qr+="z");var on=distinctVals(Ee._x),sn=distinctVals(Ee._y),ln=distinctVals(Ee._z);Qr=(Qr=(Qr=Qr.replace("x",(tt>rt?"-":"+")+"x")).replace("y",(nt>at?"-":"+")+"y")).replace("z",(it>ct?"-":"+")+"z");var empty=function(){Lt=0,on=[],sn=[],ln=[]};(!Lt||Lt<on.length*sn.length*ln.length)&&empty();var getArray=function(Ee){return"x"===Ee?ft:"y"===Ee?xt:kt},getVals=function(Ee){return"x"===Ee?on:"y"===Ee?sn:ln},getDir=function(Ee){return Ee[Lt-1]<Ee[0]?-1:1},cn=getArray(Qr[1]),un=getArray(Qr[3]),hn=getArray(Qr[5]),dn=getVals(Qr[1]).length,vn=getVals(Qr[3]).length,yn=getVals(Qr[5]).length,_n=!1,getIndex=function(Ee,ze,Be){return dn*(vn*Ee+ze)+Be},Mn=getDir(getArray(Qr[1])),Cn=getDir(getArray(Qr[3])),En=getDir(getArray(Qr[5]));for(ze=0;ze<yn-1;ze++){for(Be=0;Be<vn-1;Be++){for(We=0;We<dn-1;We++){var Pn=getIndex(ze,Be,We),In=getIndex(ze,Be,We+1),Bn=getIndex(ze,Be+1,We),Hn=getIndex(ze+1,Be,We);if(cn[Pn]*Mn<cn[In]*Mn&&un[Pn]*Cn<un[Bn]*Cn&&hn[Pn]*En<hn[Hn]*En||(_n=!0),_n)break}if(_n)break}if(_n)break}return _n&&(Ue.warn("Encountered arbitrary coordinates! Unable to input data grid."),empty()),{xMin:er,yMin:rr,zMin:Lr,xMax:Ut,yMax:tr,zMax:ar,Xs:on,Ys:sn,Zs:ln,len:Lt,fill:Qr}}function distinctVals(Ee){return Ue.distinctVals(Ee).vals}function filter(Ee,ze){if(void 0===ze&&(ze=Ee.length),Ue.isTypedArray(Ee))return Ee.subarray(0,ze);for(var Be=[],We=0;We<ze;We++)Be[We]=+Ee[We];return Be}Ee.exports={calc:function calc(Ee,ze){ze._len=Math.min(ze.u.length,ze.v.length,ze.w.length,ze.x.length,ze.y.length,ze.z.length),ze._u=filter(ze.u,ze._len),ze._v=filter(ze.v,ze._len),ze._w=filter(ze.w,ze._len),ze._x=filter(ze.x,ze._len),ze._y=filter(ze.y,ze._len),ze._z=filter(ze.z,ze._len);var Be=processGrid(ze);ze._gridFill=Be.fill,ze._Xs=Be.Xs,ze._Ys=Be.Ys,ze._Zs=Be.Zs,ze._len=Be.len;var Ue,$e,Qe,et=0;ze.starts&&(Ue=filter(ze.starts.x||[]),$e=filter(ze.starts.y||[]),Qe=filter(ze.starts.z||[]),et=Math.min(Ue.length,$e.length,Qe.length)),ze._startsX=Ue||[],ze._startsY=$e||[],ze._startsZ=Qe||[];var tt,rt=0,nt=1/0;for(tt=0;tt<ze._len;tt++){var at=ze._u[tt],it=ze._v[tt],ct=ze._w[tt],ft=Math.sqrt(at*at+it*it+ct*ct);rt=Math.max(rt,ft),nt=Math.min(nt,ft)}for(We(Ee,ze,{vals:[nt,rt],containerStr:"",cLetter:"c"}),tt=0;tt<et;tt++){var xt=Ue[tt];Be.xMax=Math.max(Be.xMax,xt),Be.xMin=Math.min(Be.xMin,xt);var kt=$e[tt];Be.yMax=Math.max(Be.yMax,kt),Be.yMin=Math.min(Be.yMin,kt);var Lt=Qe[tt];Be.zMax=Math.max(Be.zMax,Lt),Be.zMin=Math.min(Be.zMin,Lt)}ze._slen=et,ze._normMax=rt,ze._xbnds=[Be.xMin,Be.xMax],ze._ybnds=[Be.yMin,Be.yMax],ze._zbnds=[Be.zMin,Be.zMax]},filter:filter,processGrid:processGrid}},e1f5:function(Ee,ze,Be){"use strict";Ee.exports=Be("99fd")},e212:function(Ee,ze,Be){"use strict";var Ue,We,$e=Be("371e"),Qe=Be("0642"),et=Be("a5c4"),tt=Be("5dc6"),rt=Be("5f5f"),nt=Be("9fa4"),at=Be("6ceb"),it=Be("d3d4"),ct=Be("d7e2"),ft=Be("609c"),xt=Be("6add"),kt=xt.enforce,Lt=xt.clean,Ut=Be("ce56").doAutoRange,er=["xaxis","yaxis"],tr=Be("d301").SUBPLOT_PATTERN;function Scene2D(Ee,ze){this.container=Ee.container,this.graphDiv=Ee.graphDiv,this.pixelRatio=Ee.plotGlPixelRatio||window.devicePixelRatio,this.id=Ee.id,this.staticPlot=!!Ee.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(ze),this.makeFramework(),this.stopped||(this.glplotOptions=it(this),this.glplotOptions.merge(ze),this.glplot=tt(this.glplotOptions),this.camera=ct(this),this.traces={},this.spikes=rt(this.glplot),this.selectBox=nt(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}Ee.exports=Scene2D;var rr=Scene2D.prototype;rr.makeFramework=function(){if(this.staticPlot){if(!(We||(Ue=document.createElement("canvas"),We=at({canvas:Ue,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=Ue,this.gl=We}else{var Ee=this.container.querySelector(".gl-canvas-focus"),ze=at({canvas:Ee,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!ze)return ft(this),void(this.stopped=!0);this.canvas=Ee,this.gl=ze}var Be=this.canvas;Be.style.width="100%",Be.style.height="100%",Be.style.position="absolute",Be.style.top="0px",Be.style.left="0px",Be.style["pointer-events"]="none",this.updateSize(Be),Be.className+=" user-select-none";var $e=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");$e.style.position="absolute",$e.style.top=$e.style.left="0px",$e.style.width=$e.style.height="100%",$e.style["z-index"]=20,$e.style["pointer-events"]="none";var Qe=this.mouseContainer=document.createElement("div");Qe.style.position="absolute",Qe.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var et=this.container;et.appendChild($e),et.appendChild(Qe);var tt=this;Qe.addEventListener("mouseout",(function(){tt.isMouseOver=!1,tt.unhover()})),Qe.addEventListener("mouseover",(function(){tt.isMouseOver=!0}))},rr.toImage=function(Ee){Ee||(Ee="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(Ue),this.updateSize(this.canvas);var ze=this.glplot.gl,Be=ze.drawingBufferWidth,We=ze.drawingBufferHeight;ze.clearColor(1,1,1,0),ze.clear(ze.COLOR_BUFFER_BIT|ze.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),ze.bindFramebuffer(ze.FRAMEBUFFER,null);var $e=new Uint8Array(Be*We*4);ze.readPixels(0,0,Be,We,ze.RGBA,ze.UNSIGNED_BYTE,$e);for(var Qe=0,et=We-1;Qe<et;++Qe,--et)for(var tt=0;tt<Be;++tt)for(var rt=0;rt<4;++rt){var nt=$e[4*(Be*Qe+tt)+rt];$e[4*(Be*Qe+tt)+rt]=$e[4*(Be*et+tt)+rt],$e[4*(Be*et+tt)+rt]=nt}var at=document.createElement("canvas");at.width=Be,at.height=We;var it,ct=at.getContext("2d"),ft=ct.createImageData(Be,We);switch(ft.data.set($e),ct.putImageData(ft,0,0),Ee){case"jpeg":it=at.toDataURL("image/jpeg");break;case"webp":it=at.toDataURL("image/webp");break;default:it=at.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(Ue),it},rr.updateSize=function(Ee){Ee||(Ee=this.canvas);var ze=this.pixelRatio,Be=this.fullLayout,Ue=Be.width,We=Be.height,$e=0|Math.ceil(ze*Ue),Qe=0|Math.ceil(ze*We);return Ee.width===$e&&Ee.height===Qe||(Ee.width=$e,Ee.height=Qe),Ee},rr.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var Ee=[Qe.calcTicks(this.xaxis),Qe.calcTicks(this.yaxis)],ze=0;ze<2;++ze)for(var Be=0;Be<Ee[ze].length;++Be)Ee[ze][Be].text=Ee[ze][Be].text+"";return Ee},rr.updateRefs=function(Ee){this.fullLayout=Ee;var ze=this.id.match(tr),Be="xaxis"+ze[1],Ue="yaxis"+ze[2];this.xaxis=this.fullLayout[Be],this.yaxis=this.fullLayout[Ue]},rr.relayoutCallback=function(){var Ee=this.graphDiv,ze=this.xaxis,Be=this.yaxis,Ue=Ee.layout,We={},Qe=We[ze._name+".range"]=ze.range.slice(),et=We[Be._name+".range"]=Be.range.slice();We[ze._name+".autorange"]=ze.autorange,We[Be._name+".autorange"]=Be.autorange,$e.call("_storeDirectGUIEdit",Ee.layout,Ee._fullLayout._preGUI,We);var tt=Ue[ze._name];tt.range=Qe,tt.autorange=ze.autorange;var rt=Ue[Be._name];rt.range=et,rt.autorange=Be.autorange,We.lastInputTime=this.camera.lastInputTime,Ee.emit("plotly_relayout",We)},rr.cameraChanged=function(){var Ee=this.camera;this.glplot.setDataBox(this.calcDataBox());var ze=this.computeTickMarks();(function compareTicks(Ee,ze){for(var Be=0;Be<2;++Be){var Ue=Ee[Be],We=ze[Be];if(Ue.length!==We.length)return!0;for(var $e=0;$e<Ue.length;++$e)if(Ue[$e].x!==We[$e].x)return!0}return!1})(ze,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=ze,this.glplotOptions.dataBox=Ee.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},rr.handleAnnotations=function(){for(var Ee=this.graphDiv,ze=this.fullLayout.annotations,Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.xref===this.xaxis._id&&Ue.yref===this.yaxis._id&&$e.getComponentMethod("annotations","drawOne")(Ee,Be)}},rr.destroy=function(){if(this.glplot){var Ee=this.traces;Ee&&Object.keys(Ee).map((function(ze){Ee[ze].dispose(),delete Ee[ze]})),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},rr.plot=function(Ee,ze,Be){var Ue=this.glplot;this.updateRefs(Be),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(Ee,ze),this.updateFx(Be.dragmode);var We=Be.width,$e=Be.height;this.updateSize(this.canvas);var Qe=this.glplotOptions;Qe.merge(Be),Qe.screenBox=[0,0,We,$e];var et={_fullLayout:{_axisConstraintGroups:this.graphDiv._fullLayout._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis}};Lt(et,this.xaxis),Lt(et,this.yaxis);var tt,rt,nt=Be._size,at=this.xaxis.domain,it=this.yaxis.domain;for(Qe.viewBox=[nt.l+at[0]*nt.w,nt.b+it[0]*nt.h,We-nt.r-(1-at[1])*nt.w,$e-nt.t-(1-it[1])*nt.h],this.mouseContainer.style.width=nt.w*(at[1]-at[0])+"px",this.mouseContainer.style.height=nt.h*(it[1]-it[0])+"px",this.mouseContainer.height=nt.h*(it[1]-it[0]),this.mouseContainer.style.left=nt.l+at[0]*nt.w+"px",this.mouseContainer.style.top=nt.t+(1-it[1])*nt.h+"px",rt=0;rt<2;++rt)(tt=this[er[rt]])._length=Qe.viewBox[rt+2]-Qe.viewBox[rt],Ut(this.graphDiv,tt),tt.setScale();kt(et),Qe.ticks=this.computeTickMarks(),Qe.dataBox=this.calcDataBox(),Qe.merge(Be),Ue.update(Qe),this.glplot.draw()},rr.calcDataBox=function(){var Ee=this.xaxis,ze=this.yaxis,Be=Ee.range,Ue=ze.range,We=Ee.r2l,$e=ze.r2l;return[We(Be[0]),$e(Ue[0]),We(Be[1]),$e(Ue[1])]},rr.setRanges=function(Ee){var ze=this.xaxis,Be=this.yaxis,Ue=ze.l2r,We=Be.l2r;ze.range=[Ue(Ee[0]),Ue(Ee[2])],Be.range=[We(Ee[1]),We(Ee[3])]},rr.updateTraces=function(Ee,ze){var Be,Ue,We,$e=Object.keys(this.traces);this.fullData=Ee;e:for(Be=0;Be<$e.length;Be++){var Qe=$e[Be],et=this.traces[Qe];for(Ue=0;Ue<Ee.length;Ue++)if((We=Ee[Ue]).uid===Qe&&We.type===et.type)continue e;et.dispose(),delete this.traces[Qe]}for(Be=0;Be<Ee.length;Be++){We=Ee[Be];var tt=ze[Be],rt=this.traces[We.uid];rt?rt.update(We,tt):(rt=We._module.plot(this,We,tt),this.traces[We.uid]=rt)}this.glplot.objects.sort((function(Ee,ze){return Ee._trace.index-ze._trace.index}))},rr.updateFx=function(Ee){"lasso"===Ee||"select"===Ee?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===Ee?"move":"zoom"===Ee?"crosshair":null},rr.emitPointAction=function(Ee,ze){for(var Be,Ue=Ee.trace.uid,We=Ee.pointIndex,$e=0;$e<this.fullData.length;$e++)this.fullData[$e].uid===Ue&&(Be=this.fullData[$e]);var Qe={x:Ee.traceCoord[0],y:Ee.traceCoord[1],curveNumber:Be.index,pointNumber:We,data:Be._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};et.appendArrayPointValue(Qe,Be,We),this.graphDiv.emit(ze,{points:[Qe]})},rr.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var Ee=this.glplot,ze=this.camera,Be=ze.mouseListener,Ue=1===this.lastButtonState&&0===Be.buttons,We=this.fullLayout;this.lastButtonState=Be.buttons,this.cameraChanged();var $e,Qe=Be.x*Ee.pixelRatio,tt=this.canvas.height-Ee.pixelRatio*Be.y;if(ze.boxEnabled&&"zoom"===We.dragmode){this.selectBox.enabled=!0;for(var rt=this.selectBox.selectBox=[Math.min(ze.boxStart[0],ze.boxEnd[0]),Math.min(ze.boxStart[1],ze.boxEnd[1]),Math.max(ze.boxStart[0],ze.boxEnd[0]),Math.max(ze.boxStart[1],ze.boxEnd[1])],nt=0;nt<2;nt++)ze.boxStart[nt]===ze.boxEnd[nt]&&(rt[nt]=Ee.dataBox[nt],rt[nt+2]=Ee.dataBox[nt+2]);Ee.setDirty()}else if(!ze.panning&&this.isMouseOver){this.selectBox.enabled=!1;var at=We._size,it=this.xaxis.domain,ct=this.yaxis.domain,ft=($e=Ee.pick(Qe/Ee.pixelRatio+at.l+it[0]*at.w,tt/Ee.pixelRatio-(at.t+(1-ct[1])*at.h)))&&$e.object._trace.handlePick($e);if(ft&&Ue&&this.emitPointAction(ft,"plotly_click"),$e&&"skip"!==$e.object._trace.hoverinfo&&We.hovermode&&ft&&(!this.lastPickResult||this.lastPickResult.traceUid!==ft.trace.uid||this.lastPickResult.dataCoord[0]!==ft.dataCoord[0]||this.lastPickResult.dataCoord[1]!==ft.dataCoord[1])){var xt=ft;this.lastPickResult={traceUid:ft.trace?ft.trace.uid:null,dataCoord:ft.dataCoord.slice()},this.spikes.update({center:$e.dataCoord}),xt.screenCoord=[((Ee.viewBox[2]-Ee.viewBox[0])*($e.dataCoord[0]-Ee.dataBox[0])/(Ee.dataBox[2]-Ee.dataBox[0])+Ee.viewBox[0])/Ee.pixelRatio,(this.canvas.height-(Ee.viewBox[3]-Ee.viewBox[1])*($e.dataCoord[1]-Ee.dataBox[1])/(Ee.dataBox[3]-Ee.dataBox[1])-Ee.viewBox[1])/Ee.pixelRatio],this.emitPointAction(ft,"plotly_hover");var kt=this.fullData[xt.trace.index]||{},Lt=xt.pointIndex,Ut=et.castHoverinfo(kt,We,Lt);if(Ut&&"all"!==Ut){var er=Ut.split("+");-1===er.indexOf("x")&&(xt.traceCoord[0]=void 0),-1===er.indexOf("y")&&(xt.traceCoord[1]=void 0),-1===er.indexOf("z")&&(xt.traceCoord[2]=void 0),-1===er.indexOf("text")&&(xt.textLabel=void 0),-1===er.indexOf("name")&&(xt.name=void 0)}et.loneHover({x:xt.screenCoord[0],y:xt.screenCoord[1],xLabel:this.hoverFormatter("xaxis",xt.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",xt.traceCoord[1]),zLabel:xt.traceCoord[2],text:xt.textLabel,name:xt.name,color:et.castHoverOption(kt,Lt,"bgcolor")||xt.color,borderColor:et.castHoverOption(kt,Lt,"bordercolor"),fontFamily:et.castHoverOption(kt,Lt,"font.family"),fontSize:et.castHoverOption(kt,Lt,"font.size"),fontColor:et.castHoverOption(kt,Lt,"font.color"),nameLength:et.castHoverOption(kt,Lt,"namelength"),textAlign:et.castHoverOption(kt,Lt,"align")},{container:this.svgContainer,gd:this.graphDiv})}}$e||this.unhover(),Ee.draw()}},rr.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),et.loneUnhover(this.svgContainer))},rr.hoverFormatter=function(Ee,ze){if(void 0!==ze){var Be=this[Ee];return Qe.tickText(Be,Be.c2l(ze),"hover").text}}},e2d7:function(Ee,ze,Be){"use strict";var Ue=Be("3aa8");Ee.exports=function calc(Ee,ze){for(var Be=ze.u,We=ze.v,$e=ze.w,Qe=Math.min(ze.x.length,ze.y.length,ze.z.length,Be.length,We.length,$e.length),et=-1/0,tt=1/0,rt=0;rt<Qe;rt++){var nt=Be[rt],at=We[rt],it=$e[rt],ct=Math.sqrt(nt*nt+at*at+it*it);et=Math.max(et,ct),tt=Math.min(tt,ct)}ze._len=Qe,ze._normMax=et,Ue(Ee,ze,{vals:[tt,et],containerStr:"",cLetter:"c"})}},e2f3:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("82d7"),$e=Be("d115"),Qe=Be("66cb"),et=Be("81f0").defaults,tt=Be("2093"),rt=Be("a651"),nt=Be("e5ac");function concentrationscalesDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We.link.colorscales,Be,$e)}coerce("label"),coerce("cmin"),coerce("cmax"),coerce("colorscale")}Ee.exports=function supplyDefaults(Ee,ze,Be,at){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var it=Ue.extendDeep(at.hoverlabel,Ee.hoverlabel),ct=Ee.node,ft=rt.newContainer(ze,"node");function coerceNode(Ee,ze){return Ue.coerce(ct,ft,We.node,Ee,ze)}coerceNode("label"),coerceNode("groups"),coerceNode("x"),coerceNode("y"),coerceNode("pad"),coerceNode("thickness"),coerceNode("line.color"),coerceNode("line.width"),coerceNode("hoverinfo",Ee.hoverinfo),tt(ct,ft,coerceNode,it),coerceNode("hovertemplate");var xt=at.colorway;coerceNode("color",ft.label.map((function(Ee,ze){return $e.addOpacity(function(Ee){return xt[Ee%xt.length]}(ze),.8)})));var kt=Ee.link||{},Lt=rt.newContainer(ze,"link");function coerceLink(Ee,ze){return Ue.coerce(kt,Lt,We.link,Ee,ze)}coerceLink("label"),coerceLink("source"),coerceLink("target"),coerceLink("value"),coerceLink("line.color"),coerceLink("line.width"),coerceLink("hoverinfo",Ee.hoverinfo),tt(kt,Lt,coerceLink,it),coerceLink("hovertemplate");var Ut,er=Qe(at.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";coerceLink("color",Ue.repeat(er,Lt.value.length)),nt(kt,Lt,{name:"colorscales",handleItemDefaults:concentrationscalesDefaults}),et(ze,at,coerce),coerce("orientation"),coerce("valueformat"),coerce("valuesuffix"),ft.x.length&&ft.y.length&&(Ut="freeform"),coerce("arrangement",Ut),Ue.coerceFont(coerce,"textfont",Ue.extendFlat({},at.font)),ze._length=null}},e2f4:function(Ee,ze,Be){"use strict";Ee.exports=Be("b7f7")},e38a:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("72a4").DESELECTDIM;Ee.exports={styleTextSelection:function styleTextSelection(Ee){var ze,Be,Qe=Ee[0],et=Qe.trace,tt=Qe.t,rt=tt._scene,nt=tt.index,at=rt.selectBatch[nt],it=rt.unselectBatch[nt],ct=rt.textOptions[nt],ft=rt.textSelectedOptions[nt]||{},xt=rt.textUnselectedOptions[nt]||{},kt=Ue.extendFlat({},ct);if(at.length||it.length){var Lt=ft.color,Ut=xt.color,er=ct.color,tr=Array.isArray(er);for(kt.color=new Array(et._length),ze=0;ze<at.length;ze++)Be=at[ze],kt.color[Be]=Lt||(tr?er[Be]:er);for(ze=0;ze<it.length;ze++){Be=it[ze];var rr=tr?er[Be]:er;kt.color[Be]=Ut||(Lt?rr:We.addOpacity(rr,$e))}}rt.glText[nt].update(kt)}}},e38e:function(Ee,ze,Be){"use strict";var Ue=Be("371e");function calculateAxisErrors(Ee,ze,Be,We){if(!ze||!ze.visible)return null;for(var $e=Ue.getComponentMethod("errorbars","makeComputeError")(ze),Qe=new Array(Ee.length),et=0;et<Ee.length;et++){var tt=$e(+Ee[et],et);if("log"===We.type){var rt=We.c2l(Ee[et]),nt=Ee[et]-tt[0],at=Ee[et]+tt[1];if(Qe[et]=[(We.c2l(nt,!0)-rt)*Be,(We.c2l(at,!0)-rt)*Be],nt>0){var it=We.c2l(nt);We._lowerLogErrorBound||(We._lowerLogErrorBound=it),We._lowerErrorBound=Math.min(We._lowerLogErrorBound,it)}}else Qe[et]=[-tt[0]*Be,tt[1]*Be]}return Qe}Ee.exports=function calculateErrors(Ee,ze,Be){var Ue=[calculateAxisErrors(Ee.x,Ee.error_x,ze[0],Be.xaxis),calculateAxisErrors(Ee.y,Ee.error_y,ze[1],Be.yaxis),calculateAxisErrors(Ee.z,Ee.error_z,ze[2],Be.zaxis)],We=function dataLength(Ee){for(var ze=0;ze<Ee.length;ze++)if(Ee[ze])return Ee[ze].length;return 0}(Ue);if(0===We)return null;for(var $e=new Array(We),Qe=0;Qe<We;Qe++){for(var et=[[0,0,0],[0,0,0]],tt=0;tt<3;tt++)if(Ue[tt])for(var rt=0;rt<2;rt++)et[rt][tt]=Ue[tt][Qe][rt];$e[Qe]=et}return $e}},e398:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("3fe8"),Qe=Be("64c3");function handleDirection(Ee,ze,Be,Ue){var $e=Be(Ue+".line.color");Be(Ue+".line.width",ze.line.width),Be(Ue+".fillcolor",We.addOpacity($e,.5))}Ee.exports=function supplyDefaults(Ee,ze,Be,We){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe,Be,We)}$e(Ee,ze,coerce,We)?(coerce("line.width"),handleDirection(Ee,ze,coerce,"increasing"),handleDirection(Ee,ze,coerce,"decreasing"),coerce("text"),coerce("hovertext"),coerce("whiskerwidth"),We._requestRangeslider[ze.xaxis]=!0):ze.visible=!1}},e3a8:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26"),$e=Be("6921"),Qe=Be("b1a4").pointsAccessorFunction,et=Be("e806").BADNUM;ze.moduleType="transform",ze.name="aggregate";var tt=ze.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},rt=tt.aggregations;function aggregateOneArray(Ee,ze,Be,$e){if($e.enabled){for(var Qe=$e.target,tt=We.nestedProperty(ze,Qe),rt=tt.get(),nt=function getAggregateFunction(Ee,ze){var Be=Ee.func,Ue=ze.d2c,We=ze.c2d;switch(Be){case"count":return count;case"first":return first;case"last":return last;case"sum":return function(Ee,ze){for(var Be=0,$e=0;$e<ze.length;$e++){var Qe=Ue(Ee[ze[$e]]);Qe!==et&&(Be+=Qe)}return We(Be)};case"avg":return function(Ee,ze){for(var Be=0,$e=0,Qe=0;Qe<ze.length;Qe++){var tt=Ue(Ee[ze[Qe]]);tt!==et&&(Be+=tt,$e++)}return $e?We(Be/$e):et};case"min":return function(Ee,ze){for(var Be=1/0,$e=0;$e<ze.length;$e++){var Qe=Ue(Ee[ze[$e]]);Qe!==et&&(Be=Math.min(Be,Qe))}return Be===1/0?et:We(Be)};case"max":return function(Ee,ze){for(var Be=-1/0,$e=0;$e<ze.length;$e++){var Qe=Ue(Ee[ze[$e]]);Qe!==et&&(Be=Math.max(Be,Qe))}return Be===-1/0?et:We(Be)};case"range":return function(Ee,ze){for(var Be=1/0,$e=-1/0,Qe=0;Qe<ze.length;Qe++){var tt=Ue(Ee[ze[Qe]]);tt!==et&&(Be=Math.min(Be,tt),$e=Math.max($e,tt))}return $e===-1/0||Be===1/0?et:We($e-Be)};case"change":return function(Ee,ze){var Be=Ue(Ee[ze[0]]),$e=Ue(Ee[ze[ze.length-1]]);return Be===et||$e===et?et:We($e-Be)};case"median":return function(Ee,ze){for(var Be=[],$e=0;$e<ze.length;$e++){var Qe=Ue(Ee[ze[$e]]);Qe!==et&&Be.push(Qe)}if(!Be.length)return et;Be.sort();var tt=(Be.length-1)/2;return We((Be[Math.floor(tt)]+Be[Math.ceil(tt)])/2)};case"mode":return function(Ee,ze){for(var Be={},$e=0,Qe=et,tt=0;tt<ze.length;tt++){var rt=Ue(Ee[ze[tt]]);if(rt!==et){var nt=Be[rt]=(Be[rt]||0)+1;nt>$e&&($e=nt,Qe=rt)}}return $e?We(Qe):et};case"rms":return function(Ee,ze){for(var Be=0,$e=0,Qe=0;Qe<ze.length;Qe++){var tt=Ue(Ee[ze[Qe]]);tt!==et&&(Be+=tt*tt,$e++)}return $e?We(Math.sqrt(Be/$e)):et};case"stddev":return function(ze,Be){var We,$e=0,Qe=0,tt=1,rt=et;for(We=0;We<Be.length&&rt===et;We++)rt=Ue(ze[Be[We]]);if(rt===et)return et;for(;We<Be.length;We++){var nt=Ue(ze[Be[We]]);if(nt!==et){var at=nt-rt;$e+=at,Qe+=at*at,tt++}}var it="sample"===Ee.funcmode?tt-1:tt;return it?Math.sqrt((Qe-$e*$e/tt)/it):0}}}($e,Ue.getDataConversions(Ee,ze,Qe,rt)),at=new Array(Be.length),it=0;it<Be.length;it++)at[it]=nt(rt,Be[it]);tt.set(at),"count"===$e.func&&We.pushUnique(ze._arrayAttrs,Qe)}}function count(Ee,ze){return ze.length}function first(Ee,ze){return Ee[ze[0]]}function last(Ee,ze){return Ee[ze[ze.length-1]]}ze.supplyDefaults=function(Ee,ze){var Be,Ue={};function coerce(ze,Be){return We.coerce(Ee,Ue,tt,ze,Be)}if(!coerce("enabled"))return Ue;var Qe=$e.findArrayAttributes(ze),et={};for(Be=0;Be<Qe.length;Be++)et[Qe[Be]]=1;var nt=coerce("groups");if(!Array.isArray(nt)){if(!et[nt])return Ue.enabled=!1,Ue;et[nt]=0}var at,it=Ee.aggregations||[],ct=Ue.aggregations=new Array(it.length);function coercei(Ee,ze){return We.coerce(it[Be],at,rt,Ee,ze)}for(Be=0;Be<it.length;Be++){at={_index:Be};var ft=coercei("target"),xt=coercei("func");coercei("enabled")&&ft&&(et[ft]||"count"===xt&&void 0===et[ft])?("stddev"===xt&&coercei("funcmode"),et[ft]=0,ct[Be]=at):ct[Be]={enabled:!1,_index:Be}}for(Be=0;Be<Qe.length;Be++)et[Qe[Be]]&&ct.push({target:Qe[Be],func:rt.func.dflt,enabled:!0,_index:-1});return Ue},ze.calcTransform=function(Ee,ze,Be){if(Be.enabled){var Ue=Be.groups,$e=We.getTargetArray(ze,{target:Ue});if($e){var et,tt,rt,nt,at={},it={},ct=[],ft=Qe(ze.transforms,Be),xt=$e.length;for(ze._length&&(xt=Math.min(xt,ze._length)),et=0;et<xt;et++)void 0===(rt=at[tt=$e[et]])?(at[tt]=ct.length,nt=[et],ct.push(nt),it[at[tt]]=ft(et)):(ct[rt].push(et),it[at[tt]]=(it[at[tt]]||[]).concat(ft(et)));Be._indexToPoints=it;var kt=Be.aggregations;for(et=0;et<kt.length;et++)aggregateOneArray(Ee,ze,ct,kt[et]);"string"==typeof Ue&&aggregateOneArray(Ee,ze,ct,{target:Ue,func:"first",enabled:!0}),ze._length=ct.length}}}},e3ce:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("de81"),$e=Be("5047"),Qe=Be("59be"),et=Be("e9f7"),tt=Be("3802"),rt=Be("56f3");Ee.exports=function supplyDefaults(Ee,ze,Be,nt){function coerce(Be,We){return Ue.coerce(Ee,ze,rt,Be,We)}var at,it=coerce("locations");if(it&&it.length){var ct,ft=coerce("geojson");("string"==typeof ft&&""!==ft||Ue.isPlainObject(ft))&&(ct="geojson-id"),"geojson-id"===coerce("locationmode",ct)&&coerce("featureidkey"),at=it.length}else{var xt=coerce("lon")||[],kt=coerce("lat")||[];at=Math.min(xt.length,kt.length)}at?(ze._length=at,coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("mode"),We.hasLines(ze)&&(Qe(Ee,ze,Be,nt,coerce),coerce("connectgaps")),We.hasMarkers(ze)&&$e(Ee,ze,Be,nt,coerce,{gradient:!0}),We.hasText(ze)&&(coerce("texttemplate"),et(Ee,ze,nt,coerce)),coerce("fill"),"none"!==ze.fill&&tt(Ee,ze,Be,coerce),Ue.coerceSelectionMarkerOpacity(ze,coerce)):ze.visible=!1}},e439:function(Ee,ze,Be){var Ue=Be("23e7"),We=Be("d039"),$e=Be("fc6a"),Qe=Be("06cf").f,et=Be("83ab"),tt=We((function(){Qe(1)}));Ue({target:"Object",stat:!0,forced:!et||tt,sham:!et},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(Ee,ze){return Qe($e(Ee),ze)}})},e440:function(Ee,ze){Ee.exports=function parse(Ee){var ze=[];return Ee.replace(Ue,(function(Ee,Ue,$e){var Qe=Ue.toLowerCase();for($e=function parseValues(Ee){var ze=Ee.match(We);return ze?ze.map(Number):[]}($e),"m"==Qe&&$e.length>2&&(ze.push([Ue].concat($e.splice(0,2))),Qe="l",Ue="m"==Ue?"l":"L");;){if($e.length==Be[Qe])return $e.unshift(Ue),ze.push($e);if($e.length<Be[Qe])throw new Error("malformed path data");ze.push([Ue].concat($e.splice(0,Be[Qe])))}})),ze};var Be={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ue=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var We=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},e448:function(Ee,ze){Ee.exports=function dot(Ee,ze){return Ee[0]*ze[0]+Ee[1]*ze[1]+Ee[2]*ze[2]}},e485:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("ecc5"),$e=Be("81f0").defaults,Qe=Be("1c1c").handleText,et=Be("a9cd").handleLabelsAndValues;Ee.exports=function supplyDefaults(Ee,ze,Be,tt){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}var rt=coerce("labels"),nt=coerce("values"),at=et(rt,nt),it=at.len;if(ze._hasLabels=at.hasLabels,ze._hasValues=at.hasValues,!ze._hasLabels&&ze._hasValues&&(coerce("label0"),coerce("dlabel")),it){ze._length=it,coerce("marker.line.width")&&coerce("marker.line.color",tt.paper_bgcolor),coerce("marker.colors"),coerce("scalegroup");var ct,ft=coerce("text"),xt=coerce("texttemplate");if(xt||(ct=coerce("textinfo",Array.isArray(ft)?"text+percent":"percent")),coerce("hovertext"),coerce("hovertemplate"),xt||ct&&"none"!==ct){var kt=coerce("textposition");Qe(Ee,ze,tt,coerce,kt,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}$e(ze,tt,coerce),coerce("title.text")&&(coerce("title.position"),Ue.coerceFont(coerce,"title.font",tt.font)),coerce("aspectratio"),coerce("baseratio")}else ze.visible=!1}},e4d3:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("3c1c"),$e=Be("70b4").calcMarkerSize,Qe=Be("70b4").calcAxisExpansion,et=Be("09bd"),tt=Be("c879").markerSelection,rt=Be("c879").markerStyle,nt=Be("037d"),at=Be("e806").BADNUM,it=Be("b326").TOO_MANY_POINTS;Ee.exports=function calc(Ee,ze){var Be,ct,ft,xt,kt,Lt,Ut=ze.dimensions,er=ze._length,tr={},rr=tr.cdata=[],ar=tr.data=[],Lr=ze._visibleDims=[];function makeCalcdata(Ee,Be){for(var We=Ee.makeCalcdata({v:Be.values,vcalendar:ze.calendar},"v"),$e=0;$e<We.length;$e++)We[$e]=We[$e]===at?NaN:We[$e];rr.push(We),ar.push("log"===Ee.type?Ue.simpleMap(We,Ee.c2l):We)}for(Be=0;Be<Ut.length;Be++)if((ft=Ut[Be]).visible){if(xt=We.getFromId(Ee,ze._diag[Be][0]),kt=We.getFromId(Ee,ze._diag[Be][1]),xt&&kt&&xt.type!==kt.type){Ue.log("Skipping splom dimension "+Be+" with conflicting axis types");continue}xt?(makeCalcdata(xt,ft),kt&&"category"===kt.type&&(kt._categories=xt._categories.slice())):makeCalcdata(kt,ft),Lr.push(Be)}for(et(Ee,ze),Ue.extendFlat(tr,rt(ze)),Lt=rr.length*er>it?2*(tr.sizeAvg||Math.max(tr.size,3)):$e(ze,er),ct=0;ct<Lr.length;ct++)ft=Ut[Be=Lr[ct]],xt=We.getFromId(Ee,ze._diag[Be][0])||{},kt=We.getFromId(Ee,ze._diag[Be][1])||{},Qe(Ee,ze,xt,kt,rr[ct],rr[ct],Lt);var Qr=nt(Ee,ze);return Qr.matrix||(Qr.matrix=!0),Qr.matrixOptions=tr,Qr.selectedOptions=tt(ze,ze.selected),Qr.unselectedOptions=tt(ze,ze.unselected),[{x:!1,y:!1,t:{},trace:ze}]}},e4eb:function(Ee,ze,Be){"use strict";var Ue=Be("e98f"),We=Be("28dd"),$e=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),Qe=Ue(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);Ee.exports=function(Ee){return We(Ee,$e,Qe,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},e538:function(Ee,ze,Be){var Ue=Be("b622");ze.f=Ue},e56e:function(Ee,ze,Be){"use strict";var Ue=Be("f63b");Ee.exports=function add(Ee,ze){for(var Be=Ee.length,We=new Array(Be),$e=0;$e<Be;++$e)We[$e]=Ue(Ee[$e],ze[$e]);return We}},e581:function(Ee,ze,Be){var Ue=Be("fec5");Ee.exports=function lookAt(Ee,ze,Be,We){var $e,Qe,et,tt,rt,nt,at,it,ct,ft,xt=ze[0],kt=ze[1],Lt=ze[2],Ut=We[0],er=We[1],tr=We[2],rr=Be[0],ar=Be[1],Lr=Be[2];if(Math.abs(xt-rr)<1e-6&&Math.abs(kt-ar)<1e-6&&Math.abs(Lt-Lr)<1e-6)return Ue(Ee);at=xt-rr,it=kt-ar,ct=Lt-Lr,ft=1/Math.sqrt(at*at+it*it+ct*ct),$e=er*(ct*=ft)-tr*(it*=ft),Qe=tr*(at*=ft)-Ut*ct,et=Ut*it-er*at,(ft=Math.sqrt($e*$e+Qe*Qe+et*et))?($e*=ft=1/ft,Qe*=ft,et*=ft):($e=0,Qe=0,et=0);tt=it*et-ct*Qe,rt=ct*$e-at*et,nt=at*Qe-it*$e,(ft=Math.sqrt(tt*tt+rt*rt+nt*nt))?(tt*=ft=1/ft,rt*=ft,nt*=ft):(tt=0,rt=0,nt=0);return Ee[0]=$e,Ee[1]=tt,Ee[2]=at,Ee[3]=0,Ee[4]=Qe,Ee[5]=rt,Ee[6]=it,Ee[7]=0,Ee[8]=et,Ee[9]=nt,Ee[10]=ct,Ee[11]=0,Ee[12]=-($e*xt+Qe*kt+et*Lt),Ee[13]=-(tt*xt+rt*kt+nt*Lt),Ee[14]=-(at*xt+it*kt+ct*Lt),Ee[15]=1,Ee}},e5a0:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("5c33"),$e=Be("81f0").defaults;Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}$e(ze,Qe,coerce),coerce("columnwidth"),coerce("header.values"),coerce("header.format"),coerce("header.align"),coerce("header.prefix"),coerce("header.suffix"),coerce("header.height"),coerce("header.line.width"),coerce("header.line.color"),coerce("header.fill.color"),Ue.coerceFont(coerce,"header.font",Ue.extendFlat({},Qe.font)),function defaultColumnOrder(Ee,ze){for(var Be=Ee.columnorder||[],Ue=Ee.header.values.length,We=Be.slice(0,Ue),$e=We.slice().sort((function(Ee,ze){return Ee-ze})),Qe=We.map((function(Ee){return $e.indexOf(Ee)})),et=Qe.length;et<Ue;et++)Qe.push(et);ze("columnorder",Qe)}(ze,coerce),coerce("cells.values"),coerce("cells.format"),coerce("cells.align"),coerce("cells.prefix"),coerce("cells.suffix"),coerce("cells.height"),coerce("cells.line.width"),coerce("cells.line.color"),coerce("cells.fill.color"),Ue.coerceFont(coerce,"cells.font",Ue.extendFlat({},Qe.font)),ze._length=null}},e5ac:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("a651");Ee.exports=function handleArrayContainerDefaults(Ee,ze,Be){var $e,Qe,et=Be.name,tt=Be.inclusionAttr||"visible",rt=ze[et],nt=Ue.isArrayOrTypedArray(Ee[et])?Ee[et]:[],at=ze[et]=[],it=We.arrayTemplater(ze,et,tt);for($e=0;$e<nt.length;$e++){var ct=nt[$e];Ue.isPlainObject(ct)?Qe=it.newItem(ct):(Qe=it.newItem({}))[tt]=!1,Qe._index=$e,!1!==Qe[tt]&&Be.handleItemDefaults(ct,Qe,ze,Be),at.push(Qe)}var ft=it.defaultItems();for($e=0;$e<ft.length;$e++)(Qe=ft[$e])._index=at.length,Be.handleItemDefaults({},Qe,ze,Be,{}),at.push(Qe);if(Ue.isArrayOrTypedArray(rt)){var xt=Math.min(rt.length,at.length);for($e=0;$e<xt;$e++)Ue.relinkPrivateKeys(at[$e],rt[$e])}return at}},e5c5:function(Ee,ze){Ee.exports=function slerp(Ee,ze,Be,Ue){var We,$e,Qe,et,tt,rt=ze[0],nt=ze[1],at=ze[2],it=ze[3],ct=Be[0],ft=Be[1],xt=Be[2],kt=Be[3];($e=rt*ct+nt*ft+at*xt+it*kt)<0&&($e=-$e,ct=-ct,ft=-ft,xt=-xt,kt=-kt);1-$e>1e-6?(We=Math.acos($e),Qe=Math.sin(We),et=Math.sin((1-Ue)*We)/Qe,tt=Math.sin(Ue*We)/Qe):(et=1-Ue,tt=Ue);return Ee[0]=et*rt+tt*ct,Ee[1]=et*nt+tt*ft,Ee[2]=et*at+tt*xt,Ee[3]=et*it+tt*kt,Ee}},e5cb:function(Ee,ze,Be){"use strict";var Ue=Be("9776"),We=Be("0642"),$e=Be("f977");function Heatmap(Ee,ze){this.scene=Ee,this.uid=ze,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=Ue(Ee.glplot,this.options),this.heatmap._trace=this}var Qe=Heatmap.prototype;Qe.handlePick=function(Ee){var ze=this.options,Be=ze.shape,Ue=Ee.pointId,We=Ue%Be[0],$e=Math.floor(Ue/Be[0]),Qe=Ue;return{trace:this,dataCoord:Ee.dataCoord,traceCoord:[ze.x[We],ze.y[$e],ze.z[Qe]],textLabel:this.textLabels[Ue],name:this.name,pointIndex:[$e,We],hoverinfo:this.hoverinfo}},Qe.update=function(Ee,ze){var Be=ze[0];this.index=Ee.index,this.name=Ee.name,this.hoverinfo=Ee.hoverinfo;var Ue=Be.z;this.options.z=[].concat.apply([],Ue);var Qe=Ue[0].length,et=Ue.length;this.options.shape=[Qe,et],this.options.x=Be.x,this.options.y=Be.y;var tt=function convertColorscale(Ee){for(var ze=Ee.colorscale,Be=Ee.zmin,Ue=Ee.zmax,We=ze.length,Qe=new Array(We),et=new Array(4*We),tt=0;tt<We;tt++){var rt=ze[tt],nt=$e(rt[1]);Qe[tt]=Be+rt[0]*(Ue-Be);for(var at=0;at<4;at++)et[4*tt+at]=nt[at]}return{colorLevels:Qe,colorValues:et}}(Ee);this.options.colorLevels=tt.colorLevels,this.options.colorValues=tt.colorValues,this.textLabels=[].concat.apply([],Ee.text),this.heatmap.update(this.options);var rt=this.scene.xaxis,nt=this.scene.yaxis;Ee._extremes[rt._id]=We.findExtremes(rt,Be.x),Ee._extremes[nt._id]=We.findExtremes(nt,Be.y)},Qe.dispose=function(){this.heatmap.dispose()},Ee.exports=function createHeatmap(Ee,ze,Be){var Ue=new Heatmap(Ee,ze.uid);return Ue.update(ze,Be),Ue}},e5d7:function(Ee,ze,Be){"use strict";var Ue=Be("ac97").hoverPoints,We=Be("0642").hoverLabelText;Ee.exports=function hoverPoints(Ee,ze,Be,$e){var Qe=Ue(Ee,ze,Be,$e);if(Qe){var et=(Ee=Qe[0]).cd[Ee.index],tt=Ee.cd[0].trace;if(!tt.cumulative.enabled){var rt="h"===tt.orientation?"y":"x";Ee[rt+"Label"]=We(Ee[rt+"a"],et.ph0,et.ph1)}return tt.hovermplate&&(Ee.hovertemplate=tt.hovertemplate),Qe}}},e639:function(Ee,ze,Be){"use strict";Ee.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},e706:function(Ee,ze,Be){"use strict";Ee.exports=function planarGraphToPolyline(Ee,ze){var Be=rt(Ee,ze);Ee=Be[0];for(var nt=(ze=Be[1]).length,at=(Ee.length,Ue(Ee,ze.length)),it=0;it<nt;++it)if(at[it].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var ct=We(Ee,ze);var ft=(ct=ct.filter((function ccw(Ee){for(var Be=Ee.length,Ue=[0],We=0;We<Be;++We){var $e=ze[Ee[We]],tt=ze[Ee[(We+1)%Be]],rt=Qe(-$e[0],$e[1]),nt=Qe(-$e[0],tt[1]),at=Qe(tt[0],$e[1]),it=Qe(tt[0],tt[1]);Ue=et(Ue,et(et(rt,nt),et(at,it)))}return Ue[Ue.length-1]>0}))).length,xt=new Array(ft),kt=new Array(ft);for(it=0;it<ft;++it){xt[it]=it;var Lt=new Array(ft),Ut=ct[it].map((function(Ee){return ze[Ee]})),er=$e([Ut]),tr=0;e:for(var rr=0;rr<ft;++rr)if(Lt[rr]=0,it!==rr){for(var ar=(Hn=ct[rr]).length,Lr=0;Lr<ar;++Lr){var Qr=er(ze[Hn[Lr]]);if(0!==Qr){Qr<0&&(Lt[rr]=1,tr+=1);continue e}}Lt[rr]=1,tr+=1}kt[it]=[tr,it,Lt]}kt.sort((function(Ee,ze){return ze[0]-Ee[0]}));for(it=0;it<ft;++it){var on=(Lt=kt[it])[1],sn=Lt[2];for(rr=0;rr<ft;++rr)sn[rr]&&(xt[rr]=on)}var ln=function makeArrayOfArrays(Ee){for(var ze=new Array(Ee),Be=0;Be<Ee;++Be)ze[Be]=[];return ze}(ft);for(it=0;it<ft;++it)ln[it].push(xt[it]),ln[xt[it]].push(it);var cn={},un=makeArray(nt,!1);for(it=0;it<ft;++it)for(ar=(Hn=ct[it]).length,rr=0;rr<ar;++rr){var hn=Hn[rr],dn=Hn[(rr+1)%ar],vn=Math.min(hn,dn)+":"+Math.max(hn,dn);if(vn in cn){var yn=cn[vn];ln[yn].push(it),ln[it].push(yn),un[hn]=un[dn]=!0}else cn[vn]=it}function sharedBoundary(Ee){for(var ze=Ee.length,Be=0;Be<ze;++Be)if(!un[Ee[Be]])return!1;return!0}var _n=[],Mn=makeArray(ft,-1);for(it=0;it<ft;++it)xt[it]!==it||sharedBoundary(ct[it])?Mn[it]=-1:(_n.push(it),Mn[it]=0);Be=[];for(;_n.length>0;){var Cn=_n.pop(),En=ln[Cn];tt(En,(function(Ee,ze){return Ee-ze}));var Pn,In=En.length,Bn=Mn[Cn];if(0===Bn){var Hn=ct[Cn];Pn=[Hn]}for(it=0;it<In;++it){var Kn=En[it];if(!(Mn[Kn]>=0))if(Mn[Kn]=1^Bn,_n.push(Kn),0===Bn)sharedBoundary(Hn=ct[Kn])||(Hn.reverse(),Pn.push(Hn))}0===Bn&&Be.push(Pn)}return Be};var Ue=Be("c586"),We=Be("9915"),$e=Be("4ae2"),Qe=Be("c01c"),et=Be("a026"),tt=Be("175e"),rt=Be("ce8f");function makeArray(Ee,ze){for(var Be=new Array(Ee),Ue=0;Ue<Ee;++Ue)Be[Ue]=ze;return Be}},e725:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("0642"),$e=Be("83c1");Ee.exports=function hoverPoints(Ee,ze,Be){var Qe=$e(Ee,ze,Be);if(Qe){var et=Qe[0],tt=et.cd,rt=tt[0].trace,nt=tt[et.index];if(delete et.color,"z"in nt){var at=et.subplot.mockAxis;et.z=nt.z,et.zLabel=We.tickText(at,at.c2l(nt.z),"hover").text}return et.extraText=function getExtraText(Ee,ze,Be){if(Ee.hovertemplate)return;var We=(ze.hi||Ee.hoverinfo).split("+"),$e=-1!==We.indexOf("all"),Qe=-1!==We.indexOf("lon"),et=-1!==We.indexOf("lat"),tt=ze.lonlat,rt=[];function format(Ee){return Ee+"°"}$e||Qe&&et?rt.push("("+format(tt[0])+", "+format(tt[1])+")"):Qe?rt.push(Be.lon+format(tt[0])):et&&rt.push(Be.lat+format(tt[1]));($e||-1!==We.indexOf("text"))&&Ue.fillText(ze,Ee,rt);return rt.join("<br>")}(rt,nt,tt[0].t.labels),[et]}}},e76c:function(Ee,ze,Be){"use strict";Ee.exports=function(){}},e7ab:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("d115"),$e=Be("83d1"),Qe=Be("c258");function styleTrace(Ee,ze){var Be=ze[0].trace,et=ze[0].node3.selectAll(".choroplethlocation"),tt=Be.marker||{},rt=tt.line||{},nt=Qe.makeColorScaleFuncFromTrace(Be);et.each((function(Ee){Ue.select(this).attr("fill",nt(Ee.z)).call(We.stroke,Ee.mlc||rt.color).call($e.dashLine,"",Ee.mlw||rt.width||0).style("opacity",tt.opacity)})),$e.selectedPointStyle(et,Be,Ee)}Ee.exports={style:function style(Ee,ze){ze&&styleTrace(Ee,ze)},styleOnSelect:function styleOnSelect(Ee,ze){var Be=ze[0].node3,Ue=ze[0].trace;Ue.selectedpoints?$e.selectedPointStyle(Be.selectAll(".choroplethlocation"),Ue,Ee):styleTrace(Ee,ze)}}},e7bd:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("c715"),$e=Be("dfb3"),Qe=Ue({editType:"calc"});Qe.family.dflt='"Open Sans", verdana, arial, sans-serif',Qe.size.dflt=12,Qe.color.dflt=$e.defaultLine,Ee.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:We,baxis:We,font:Qe,color:{valType:"color",dflt:$e.defaultLine,editType:"plot"},transforms:void 0}},e7cb:function(Ee,ze,Be){"use strict";(function(ze){var Ue=Be("4f4d"),We=Be("3642"),$e=Be("84a1");Ee.exports=function parse(Ee){var Be,et,tt=[],rt=1;if("string"==typeof Ee)if(Ue[Ee])tt=Ue[Ee].slice(),et="rgb";else if("transparent"===Ee)rt=0,et="rgb",tt=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(Ee)){var nt=(ct=Ee.slice(1)).length;rt=1,nt<=4?(tt=[parseInt(ct[0]+ct[0],16),parseInt(ct[1]+ct[1],16),parseInt(ct[2]+ct[2],16)],4===nt&&(rt=parseInt(ct[3]+ct[3],16)/255)):(tt=[parseInt(ct[0]+ct[1],16),parseInt(ct[2]+ct[3],16),parseInt(ct[4]+ct[5],16)],8===nt&&(rt=parseInt(ct[6]+ct[7],16)/255)),tt[0]||(tt[0]=0),tt[1]||(tt[1]=0),tt[2]||(tt[2]=0),et="rgb"}else if(Be=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(Ee)){var at=Be[1],it="rgb"===at,ct=at.replace(/a$/,"");et=ct;nt="cmyk"===ct?4:"gray"===ct?1:3;tt=Be[2].trim().split(/\s*,\s*/).map((function(Ee,ze){if(/%$/.test(Ee))return ze===nt?parseFloat(Ee)/100:"rgb"===ct?255*parseFloat(Ee)/100:parseFloat(Ee);if("h"===ct[ze]){if(/deg$/.test(Ee))return parseFloat(Ee);if(void 0!==Qe[Ee])return Qe[Ee]}return parseFloat(Ee)})),at===ct&&tt.push(1),rt=it||void 0===tt[nt]?1:tt[nt],tt=tt.slice(0,nt)}else Ee.length>10&&/[0-9](?:\s|\/)/.test(Ee)&&(tt=Ee.match(/([0-9]+)/g).map((function(Ee){return parseFloat(Ee)})),et=Ee.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(Ee))if(We(Ee)){var ft=$e(Ee.r,Ee.red,Ee.R,null);null!==ft?(et="rgb",tt=[ft,$e(Ee.g,Ee.green,Ee.G),$e(Ee.b,Ee.blue,Ee.B)]):(et="hsl",tt=[$e(Ee.h,Ee.hue,Ee.H),$e(Ee.s,Ee.saturation,Ee.S),$e(Ee.l,Ee.lightness,Ee.L,Ee.b,Ee.brightness)]),rt=$e(Ee.a,Ee.alpha,Ee.opacity,1),null!=Ee.opacity&&(rt/=100)}else(Array.isArray(Ee)||ze.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(Ee))&&(tt=[Ee[0],Ee[1],Ee[2]],et="rgb",rt=4===Ee.length?Ee[3]:1);else et="rgb",tt=[Ee>>>16,(65280&Ee)>>>8,255&Ee];return{space:et,values:tt,alpha:rt}};var Qe={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,Be("c8ba"))},e7d5:function(Ee,ze,Be){"use strict";var Ue=Be("f118");Ee.exports=function plot(Ee,ze,Be){var We=ze.plotContainer;We.select(".scatterlayer").selectAll("*").remove();var $e={xaxis:ze.xaxis,yaxis:ze.yaxis,plot:We,layerClipId:ze._hasClipOnAxisFalse?ze.clipIdRelative:null},Qe=ze.layers.frontplot.select("g.scatterlayer");Ue(Ee,$e,Be,Qe)}},e806:function(Ee,ze,Be){"use strict";Ee.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},e812:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("66cb"),Qe=Be("fc26"),et=Be("8741"),tt=Be("0379"),rt=Be("c953"),nt=Be("83d1"),at=Be("d115"),it=Be("4efe"),ct=Be("0642"),ft=Be("371e"),xt=Be("c4c7"),kt=Be("7fb7"),Lt=kt.YANGLE,Ut=Math.PI*Lt/180,er=1/Math.sin(Ut),tr=Math.cos(Ut),rr=Math.sin(Ut),ar=kt.HOVERARROWSIZE,Lr=kt.HOVERTEXTPAD;ze.hover=function hover(Ee,ze,Be,$e){Ee=Qe.getGraphDiv(Ee),Qe.throttle(Ee._fullLayout._uid+kt.HOVERID,kt.HOVERMINTIME,(function(){!function _hover(Ee,ze,Be,$e){Be||(Be="xy");var tt=Array.isArray(Be)?Be:[Be],nt=Ee._fullLayout,ct=nt._plots||[],kt=ct[Be],Lt=nt._has("cartesian");if(kt){var Ut=kt.overlays.map((function(Ee){return Ee.id}));tt=tt.concat(Ut)}for(var tr=tt.length,rr=new Array(tr),ar=new Array(tr),Lr=!1,Qr=0;Qr<tr;Qr++){var on=tt[Qr];if(ct[on])Lr=!0,rr[Qr]=ct[on].xaxis,ar[Qr]=ct[on].yaxis;else{if(!nt[on]||!nt[on]._subplot)return void Qe.warn("Unrecognized subplot: "+on);var sn=nt[on]._subplot;rr[Qr]=sn.xaxis,ar[Qr]=sn.yaxis}}var ln=ze.hovermode||nt.hovermode;ln&&!Lr&&(ln="closest");if(-1===["x","y","closest"].indexOf(ln)||!Ee.calcdata||Ee.querySelector(".zoombox")||Ee._dragging)return it.unhoverRaw(Ee,ze);var cn,un,hn,dn,vn,yn,_n,Mn,Cn,En,Pn,In,Bn,Hn=-1===nt.hoverdistance?1/0:nt.hoverdistance,Kn=-1===nt.spikedistance?1/0:nt.spikedistance,Jn=[],Ma=[],Sa={hLinePoint:null,vLinePoint:null},La=!1;if(Array.isArray(ze))for(ln="array",hn=0;hn<ze.length;hn++)(vn=Ee.calcdata[ze[hn].curveNumber||0])&&(yn=vn[0].trace,"skip"!==vn[0].trace.hoverinfo&&(Ma.push(vn),"h"===yn.orientation&&(La=!0)));else{for(dn=0;dn<Ee.calcdata.length;dn++)vn=Ee.calcdata[dn],"skip"!==(yn=vn[0].trace).hoverinfo&&xt.isTraceInSubplots(yn,tt)&&(Ma.push(vn),"h"===yn.orientation&&(La=!0));var Ia,Ra;if(!ze.target)Ia="xpx"in ze?ze.xpx:rr[0]._length/2,Ra="ypx"in ze?ze.ypx:ar[0]._length/2;else{if(!1===et.triggerHandler(Ee,"plotly_beforehover",ze))return;var Na=ze.target.getBoundingClientRect();if(Ia=ze.clientX-Na.left,Ra=ze.clientY-Na.top,Ia<0||Ia>rr[0]._length||Ra<0||Ra>ar[0]._length)return it.unhoverRaw(Ee,ze)}if(ze.pointerX=Ia+rr[0]._offset,ze.pointerY=Ra+ar[0]._offset,cn="xval"in ze?xt.flat(tt,ze.xval):xt.p2c(rr,Ia),un="yval"in ze?xt.flat(tt,ze.yval):xt.p2c(ar,Ra),!We(cn[0])||!We(un[0]))return Qe.warn("Fx.hover failed",ze,Ee),it.unhoverRaw(Ee,ze)}var Ua=1/0;for(dn=0;dn<Ma.length;dn++)if((vn=Ma[dn])&&vn[0]&&vn[0].trace&&!0===(yn=vn[0].trace).visible&&0!==yn._length&&-1===["carpet","contourcarpet"].indexOf(yn._module.name)){if("splom"===yn.type?_n=tt[Mn=0]:(_n=xt.getSubplot(yn),Mn=tt.indexOf(_n)),Cn=ln,In={cd:vn,trace:yn,xa:rr[Mn],ya:ar[Mn],maxHoverDistance:Hn,maxSpikeDistance:Kn,index:!1,distance:Math.min(Ua,Hn),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:at.defaultLine,name:yn.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},nt[_n]&&(In.subplot=nt[_n]._subplot),nt._splomScenes&&nt._splomScenes[yn.uid]&&(In.scene=nt._splomScenes[yn.uid]),Bn=Jn.length,"array"===Cn){var qa=ze[dn];"pointNumber"in qa?(In.index=qa.pointNumber,Cn="closest"):(Cn="","xval"in qa&&(En=qa.xval,Cn="x"),"yval"in qa&&(Pn=qa.yval,Cn=Cn?"closest":"y"))}else En=cn[Mn],Pn=un[Mn];if(0!==Hn)if(yn._module&&yn._module.hoverPoints){var Ka=yn._module.hoverPoints(In,En,Pn,Cn,nt._hoverlayer);if(Ka)for(var ei,ti=0;ti<Ka.length;ti++)ei=Ka[ti],We(ei.x0)&&We(ei.y0)&&Jn.push(cleanPoint(ei,ln))}else Qe.log("Unrecognized trace type in hover:",yn);if("closest"===ln&&Jn.length>Bn&&(Jn.splice(0,Bn),Ua=Jn[0].distance),Lt&&0!==Kn&&0===Jn.length){In.distance=Kn,In.index=!1;var ri=yn._module.hoverPoints(In,En,Pn,"closest",nt._hoverlayer);if(ri&&(ri=ri.filter((function(Ee){return Ee.spikeDistance<=Kn}))),ri&&ri.length){var ni,ai=ri.filter((function(Ee){return Ee.xa.showspikes}));if(ai.length){var ii=ai[0];We(ii.x0)&&We(ii.y0)&&(ni=fillSpikePoint(ii),(!Sa.vLinePoint||Sa.vLinePoint.spikeDistance>ni.spikeDistance)&&(Sa.vLinePoint=ni))}var oi=ri.filter((function(Ee){return Ee.ya.showspikes}));if(oi.length){var si=oi[0];We(si.x0)&&We(si.y0)&&(ni=fillSpikePoint(si),(!Sa.hLinePoint||Sa.hLinePoint.spikeDistance>ni.spikeDistance)&&(Sa.hLinePoint=ni))}}}}function selectClosestPoint(Ee,ze){for(var Be,Ue=null,We=1/0,$e=0;$e<Ee.length;$e++)(Be=Ee[$e].spikeDistance)<We&&Be<=ze&&(Ue=Ee[$e],We=Be);return Ue}function fillSpikePoint(Ee){return Ee?{xa:Ee.xa,ya:Ee.ya,x:void 0!==Ee.xSpike?Ee.xSpike:(Ee.x0+Ee.x1)/2,y:void 0!==Ee.ySpike?Ee.ySpike:(Ee.y0+Ee.y1)/2,distance:Ee.distance,spikeDistance:Ee.spikeDistance,curveNumber:Ee.trace.index,color:Ee.color,pointNumber:Ee.index}:null}var li={fullLayout:nt,container:nt._hoverlayer,outerContainer:nt._paperdiv,event:ze},ci=Ee._spikepoints,hi={vLinePoint:Sa.vLinePoint,hLinePoint:Sa.hLinePoint};if(Ee._spikepoints=hi,Lt&&0!==Kn&&0!==Jn.length){var Ci=selectClosestPoint(Jn.filter((function(Ee){return Ee.ya.showspikes})),Kn);Sa.hLinePoint=fillSpikePoint(Ci);var Pi=selectClosestPoint(Jn.filter((function(Ee){return Ee.xa.showspikes})),Kn);Sa.vLinePoint=fillSpikePoint(Pi)}if(0===Jn.length){var zi=it.unhoverRaw(Ee,ze);return!Lt||null===Sa.hLinePoint&&null===Sa.vLinePoint||spikesChanged(ci)&&createSpikelines(Ee,Sa,li),zi}Lt&&spikesChanged(ci)&&createSpikelines(Ee,Sa,li);Jn.sort((function(Ee,ze){return Ee.distance-ze.distance}));var ji=Ee._hoverdata,Xi=[];for(hn=0;hn<Jn.length;hn++){var Co=Jn[hn],zo=xt.makeEventData(Co,Co.trace,Co.cd);if(!1!==Co.hovertemplate){var Bo=!1;Co.cd[Co.index]&&Co.cd[Co.index].ht&&(Bo=Co.cd[Co.index].ht),Co.hovertemplate=Bo||Co.trace.hovertemplate||!1}Co.eventData=[zo],Xi.push(zo)}Ee._hoverdata=Xi;var Vo="y"===ln&&(Ma.length>1||Jn.length>1)||"closest"===ln&&La&&Jn.length>1,Uo=at.combine(nt.plot_bgcolor||at.background,nt.paper_bgcolor),Ho={hovermode:ln,rotateLabels:Vo,bgColor:Uo,container:nt._hoverlayer,outerContainer:nt._paperdiv,commonLabelOpts:nt.hoverlabel,hoverdistance:nt.hoverdistance},Wo=createHoverText(Jn,Ho,Ee);if(function hoverAvoidOverlaps(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt,nt=0,at=1,it=Ee.size(),ct=new Array(it),ft=0;function constrainGroup(Ee){var ze=Ee[0],Be=Ee[Ee.length-1];if(We=ze.pmin-ze.pos-ze.dp+ze.size,$e=Be.pos+Be.dp+Be.size-ze.pmax,We>.01){for(et=Ee.length-1;et>=0;et--)Ee[et].dp+=We;Ue=!1}if(!($e<.01)){if(We<-.01){for(et=Ee.length-1;et>=0;et--)Ee[et].dp-=$e;Ue=!1}if(Ue){var rt=0;for(Qe=0;Qe<Ee.length;Qe++)(tt=Ee[Qe]).pos+tt.dp+tt.size>ze.pmax&&rt++;for(Qe=Ee.length-1;Qe>=0&&!(rt<=0);Qe--)(tt=Ee[Qe]).pos>ze.pmax-1&&(tt.del=!0,rt--);for(Qe=0;Qe<Ee.length&&!(rt<=0);Qe++)if((tt=Ee[Qe]).pos<ze.pmin+1)for(tt.del=!0,rt--,$e=2*tt.size,et=Ee.length-1;et>=0;et--)Ee[et].dp-=$e;for(Qe=Ee.length-1;Qe>=0&&!(rt<=0);Qe--)(tt=Ee[Qe]).pos+tt.dp+tt.size>ze.pmax&&(tt.del=!0,rt--)}}}Ee.each((function(Ee){var Ue=Ee[ze],We="x"===Ue._id.charAt(0),$e=Ue.range;0===ft&&$e&&$e[0]>$e[1]!==We&&(at=-1),ct[ft++]=[{datum:Ee,traceIndex:Ee.trace.index,dp:0,pos:Ee.pos,posref:Ee.posref,size:Ee.by*(We?er:1)/2,pmin:0,pmax:We?Be.width:Be.height}]})),ct.sort((function(Ee,ze){return Ee[0].posref-ze[0].posref||at*(ze[0].traceIndex-Ee[0].traceIndex)}));for(;!Ue&&nt<=it;){for(nt++,Ue=!0,Qe=0;Qe<ct.length-1;){var xt=ct[Qe],kt=ct[Qe+1],Lt=xt[xt.length-1],Ut=kt[0];if((We=Lt.pos+Lt.dp+Lt.size-Ut.pos-Ut.dp+Ut.size)>.01&&Lt.pmin===Ut.pmin&&Lt.pmax===Ut.pmax){for(et=kt.length-1;et>=0;et--)kt[et].dp+=We;for(xt.push.apply(xt,kt),ct.splice(Qe+1,1),rt=0,et=xt.length-1;et>=0;et--)rt+=xt[et].dp;for($e=rt/xt.length,et=xt.length-1;et>=0;et--)xt[et].dp-=$e;Ue=!1}else Qe++}ct.forEach(constrainGroup)}for(Qe=ct.length-1;Qe>=0;Qe--){var tr=ct[Qe];for(et=tr.length-1;et>=0;et--){var rr=tr[et],ar=rr.datum;ar.offset=rr.dp,ar.del=rr.del}}}(Wo,Vo?"xa":"ya",nt),alignHoverText(Wo,Vo),ze.target&&ze.target.tagName){var Xo=ft.getComponentMethod("annotations","hasClickToShow")(Ee,Xi);rt(Ue.select(ze.target),Xo?"pointer":"")}if(!ze.target||$e||!function hoverChanged(Ee,ze,Be){if(!Be||Be.length!==Ee._hoverdata.length)return!0;for(var Ue=Be.length-1;Ue>=0;Ue--){var We=Be[Ue],$e=Ee._hoverdata[Ue];if(We.curveNumber!==$e.curveNumber||String(We.pointNumber)!==String($e.pointNumber)||String(We.pointNumbers)!==String($e.pointNumbers))return!0}return!1}(Ee,0,ji))return;ji&&Ee.emit("plotly_unhover",{event:ze,points:ji});Ee.emit("plotly_hover",{event:ze,points:Ee._hoverdata,xaxes:rr,yaxes:ar,xvals:cn,yvals:un})}(Ee,ze,Be,$e)}))},ze.loneHover=function loneHover(Ee,ze){var Be=!0;Array.isArray(Ee)||(Be=!1,Ee=[Ee]);var We=Ee.map((function(Ee){return{color:Ee.color||at.defaultLine,x0:Ee.x0||Ee.x||0,x1:Ee.x1||Ee.x||0,y0:Ee.y0||Ee.y||0,y1:Ee.y1||Ee.y||0,xLabel:Ee.xLabel,yLabel:Ee.yLabel,zLabel:Ee.zLabel,text:Ee.text,name:Ee.name,idealAlign:Ee.idealAlign,borderColor:Ee.borderColor,fontFamily:Ee.fontFamily,fontSize:Ee.fontSize,fontColor:Ee.fontColor,nameLength:Ee.nameLength,textAlign:Ee.textAlign,trace:Ee.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ee.hovertemplate||!1,eventData:Ee.eventData||!1,hovertemplateLabels:Ee.hovertemplateLabels||!1}})),$e=Ue.select(ze.container),Qe=ze.outerContainer?Ue.select(ze.outerContainer):$e,et={hovermode:"closest",rotateLabels:!1,bgColor:ze.bgColor||at.background,container:$e,outerContainer:Qe},tt=createHoverText(We,et,ze.gd),rt=0,nt=0;return tt.sort((function(Ee,ze){return Ee.y0-ze.y0})).each((function(Ee,Be){var Ue=Ee.y0-Ee.by/2;Ee.offset=Ue-5<rt?rt-Ue+5:0,rt=Ue+Ee.by+Ee.offset,Be===ze.anchorIndex&&(nt=Ee.offset)})).each((function(Ee){Ee.offset-=nt})),alignHoverText(tt,et.rotateLabels),Be?tt:tt.node()};var Qr=/<extra>([\s\S]*)<\/extra>/;function createHoverText(Ee,ze,Be){var We=Be._fullLayout,$e=ze.hovermode,et=ze.rotateLabels,rt=ze.bgColor,it=ze.container,ct=ze.outerContainer,ft=ze.commonLabelOpts||{},xt=ze.fontFamily||kt.HOVERFONT,Ut=ze.fontSize||kt.HOVERFONTSIZE,er=Ee[0],tr=er.xa,rr=er.ya,on="y"===$e?"yLabel":"xLabel",sn=er[on],ln=(String(sn)||"").split(" ")[0],cn=ct.node().getBoundingClientRect(),un=cn.top,hn=cn.width,dn=cn.height,vn=void 0!==sn&&er.distance<=ze.hoverdistance&&("x"===$e||"y"===$e);if(vn){var yn,_n,Mn=!0;for(yn=0;yn<Ee.length;yn++)if(Mn&&void 0===Ee[yn].zLabel&&(Mn=!1),_n=Ee[yn].hoverinfo||Ee[yn].trace.hoverinfo){var Cn=Array.isArray(_n)?_n:_n.split("+");if(-1===Cn.indexOf("all")&&-1===Cn.indexOf($e)){vn=!1;break}}Mn&&(vn=!1)}var En=it.selectAll("g.axistext").data(vn?[0]:[]);En.enter().append("g").classed("axistext",!0),En.exit().remove(),En.each((function(){var ze=Ue.select(this),et=Qe.ensureSingle(ze,"path","",(function(Ee){Ee.style({"stroke-width":"1px"})})),rt=Qe.ensureSingle(ze,"text","",(function(Ee){Ee.attr("data-notex",1)})),it=ft.bgcolor||at.defaultLine,ct=ft.bordercolor||at.contrast(it),kt=at.contrast(it),Lt={family:ft.font.family||xt,size:ft.font.size||Ut,color:ft.font.color||kt};et.style({fill:it,stroke:ct}),rt.text(sn).call(nt.font,Lt).call(tt.positionText,0,0).call(tt.convertToTspans,Be),ze.attr("transform","");var Qr,cn,hn=rt.node().getBoundingClientRect();if("x"===$e){var dn="top"===tr.side?"-":"";rt.attr("text-anchor","middle").call(tt.positionText,0,"top"===tr.side?un-hn.bottom-ar-Lr:un-hn.top+ar+Lr),Qr=tr._offset+(er.x0+er.x1)/2,cn=rr._offset+("top"===tr.side?0:rr._length);var vn=hn.width/2+Lr;Qr<vn?(Qr=vn,et.attr("d","M-"+(vn-ar)+",0L-"+(vn-2*ar)+","+dn+ar+"H"+(Lr+hn.width/2)+"v"+dn+(2*Lr+hn.height)+"H-"+vn+"V"+dn+ar+"Z")):Qr>We.width-vn?(Qr=We.width-vn,et.attr("d","M"+(vn-ar)+",0L"+vn+","+dn+ar+"v"+dn+(2*Lr+hn.height)+"H-"+vn+"V"+dn+ar+"H"+(vn-2*ar)+"Z")):et.attr("d","M0,0L"+ar+","+dn+ar+"H"+(Lr+hn.width/2)+"v"+dn+(2*Lr+hn.height)+"H-"+(Lr+hn.width/2)+"V"+dn+ar+"H-"+ar+"Z")}else{var yn,_n,Mn;"right"===rr.side?(yn="start",_n=1,Mn="",Qr=tr._offset+tr._length):(yn="end",_n=-1,Mn="-",Qr=tr._offset),cn=rr._offset+(er.y0+er.y1)/2,rt.attr("text-anchor",yn),et.attr("d","M0,0L"+Mn+ar+","+ar+"V"+(Lr+hn.height/2)+"h"+Mn+(2*Lr+hn.width)+"V-"+(Lr+hn.height/2)+"H"+Mn+ar+"V-"+ar+"Z");var Cn,En=hn.height/2,Pn=un-hn.top-En,In="clip"+We._uid+"commonlabel"+rr._id;if(Qr<hn.width+2*Lr+ar){Cn="M-"+(ar+Lr)+"-"+En+"h-"+(hn.width-Lr)+"V"+En+"h"+(hn.width-Lr)+"Z";var Bn=hn.width-Qr+Lr;tt.positionText(rt,Bn,Pn),"end"===yn&&rt.selectAll("tspan").each((function(){var Ee=Ue.select(this),ze=nt.tester.append("text").text(Ee.text()).call(nt.font,Lt),Be=ze.node().getBoundingClientRect();Math.round(Be.width)<Math.round(hn.width)&&Ee.attr("x",Bn-Be.width),ze.remove()}))}else tt.positionText(rt,_n*(Lr+ar),Pn),Cn=null;var Hn=We._topclips.selectAll("#"+In).data(Cn?[0]:[]);Hn.enter().append("clipPath").attr("id",In).append("path"),Hn.exit().remove(),Hn.select("path").attr("d",Cn),nt.setClipUrl(rt,Cn?In:null,Be)}ze.attr("transform","translate("+Qr+","+cn+")"),Ee=Ee.filter((function(Ee){return void 0!==Ee.zLabelVal||(Ee[on]||"").split(" ")[0]===ln}))}));var Pn=it.selectAll("g.hovertext").data(Ee,(function(Ee){return[Ee.trace.index,Ee.index,Ee.x0,Ee.y0,Ee.name,Ee.attr,Ee.xa,Ee.ya||""].join(",")}));return Pn.enter().append("g").classed("hovertext",!0).each((function(){var Ee=Ue.select(this);Ee.append("rect").call(at.fill,at.addOpacity(rt,.8)),Ee.append("text").classed("name",!0),Ee.append("path").style("stroke-width","1px"),Ee.append("text").classed("nums",!0).call(nt.font,xt,Ut)})),Pn.exit().remove(),Pn.each((function(Ee){var ze=Ue.select(this).attr("transform",""),it="",ct="",ft=Ee.bgcolor||Ee.color,kt=at.combine(at.opacity(ft)?ft:at.defaultLine,rt),er=at.combine(at.opacity(Ee.color)?Ee.color:at.defaultLine,rt),tr=Ee.borderColor||at.contrast(kt);void 0!==Ee.nameOverride&&(Ee.name=Ee.nameOverride),Ee.name&&(Ee.trace._meta&&(Ee.name=Qe.templateString(Ee.name,Ee.trace._meta)),it=plainText(Ee.name,Ee.nameLength)),void 0!==Ee.zLabel?(void 0!==Ee.xLabel&&(ct+="x: "+Ee.xLabel+"<br>"),void 0!==Ee.yLabel&&(ct+="y: "+Ee.yLabel+"<br>"),"choropleth"!==Ee.trace.type&&"choroplethmapbox"!==Ee.trace.type&&(ct+=(ct?"z: ":"")+Ee.zLabel)):vn&&Ee[$e+"Label"]===sn?ct=Ee[("x"===$e?"y":"x")+"Label"]||"":void 0===Ee.xLabel?void 0!==Ee.yLabel&&"scattercarpet"!==Ee.trace.type&&(ct=Ee.yLabel):ct=void 0===Ee.yLabel?Ee.xLabel:"("+Ee.xLabel+", "+Ee.yLabel+")",!Ee.text&&0!==Ee.text||Array.isArray(Ee.text)||(ct+=(ct?"<br>":"")+Ee.text),void 0!==Ee.extraText&&(ct+=(ct?"<br>":"")+Ee.extraText),""!==ct||Ee.hovertemplate||(""===it&&ze.remove(),ct=it);var rr=We._d3locale,on=Ee.hovertemplate||!1,ln=Ee.hovertemplateLabels||Ee,cn=Ee.eventData[0]||{};on&&(ct=(ct=Qe.hovertemplateString(on,ln,rr,cn,Ee.trace._meta)).replace(Qr,(function(ze,Be){return it=plainText(Be,Ee.nameLength),""})));var yn=ze.select("text.nums").call(nt.font,Ee.fontFamily||xt,Ee.fontSize||Ut,Ee.fontColor||tr).text(ct).attr("data-notex",1).call(tt.positionText,0,0).call(tt.convertToTspans,Be),_n=ze.select("text.name"),Mn=0,Cn=0;if(it&&it!==ct){_n.call(nt.font,Ee.fontFamily||xt,Ee.fontSize||Ut,er).text(it).attr("data-notex",1).call(tt.positionText,0,0).call(tt.convertToTspans,Be);var En=_n.node().getBoundingClientRect();Mn=En.width+2*Lr,Cn=En.height+2*Lr}else _n.remove(),ze.select("rect").remove();ze.select("path").style({fill:kt,stroke:tr});var Pn,In,Bn=yn.node().getBoundingClientRect(),Hn=Ee.xa._offset+(Ee.x0+Ee.x1)/2,Kn=Ee.ya._offset+(Ee.y0+Ee.y1)/2,Jn=Math.abs(Ee.x1-Ee.x0),Ma=Math.abs(Ee.y1-Ee.y0),Sa=Bn.width+ar+Lr+Mn;if(Ee.ty0=un-Bn.top,Ee.bx=Bn.width+2*Lr,Ee.by=Math.max(Bn.height+2*Lr,Cn),Ee.anchor="start",Ee.txwidth=Bn.width,Ee.tx2width=Mn,Ee.offset=0,et)Ee.pos=Hn,Pn=Kn+Ma/2+Sa<=dn,In=Kn-Ma/2-Sa>=0,"top"!==Ee.idealAlign&&Pn||!In?Pn?(Kn+=Ma/2,Ee.anchor="start"):Ee.anchor="middle":(Kn-=Ma/2,Ee.anchor="end");else if(Ee.pos=Kn,Pn=Hn+Jn/2+Sa<=hn,In=Hn-Jn/2-Sa>=0,"left"!==Ee.idealAlign&&Pn||!In)if(Pn)Hn+=Jn/2,Ee.anchor="start";else{Ee.anchor="middle";var La=Sa/2,Ia=Hn+La-hn,Ra=Hn-La;Ia>0&&(Hn-=Ia),Ra<0&&(Hn+=-Ra)}else Hn-=Jn/2,Ee.anchor="end";yn.attr("text-anchor",Ee.anchor),Mn&&_n.attr("text-anchor",Ee.anchor),ze.attr("transform","translate("+Hn+","+Kn+")"+(et?"rotate("+Lt+")":""))})),Pn}function alignHoverText(Ee,ze){Ee.each((function(Ee){var Be=Ue.select(this);if(Ee.del)return Be.remove();var We=Be.select("text.nums"),$e=Ee.anchor,Qe="end"===$e?-1:1,et={start:1,end:-1,middle:0}[$e],rt=et*(ar+Lr),at=rt+et*(Ee.txwidth+Lr),it=0,ct=Ee.offset;"middle"===$e&&(rt-=Ee.tx2width/2,at+=Ee.txwidth/2+Lr),ze&&(ct*=-rr,it=Ee.offset*tr),Be.select("path").attr("d","middle"===$e?"M-"+(Ee.bx/2+Ee.tx2width/2)+","+(ct-Ee.by/2)+"h"+Ee.bx+"v"+Ee.by+"h-"+Ee.bx+"Z":"M0,0L"+(Qe*ar+it)+","+(ar+ct)+"v"+(Ee.by/2-ar)+"h"+Qe*Ee.bx+"v-"+Ee.by+"H"+(Qe*ar+it)+"V"+(ct-ar)+"Z");var ft=rt+it,xt=ct+Ee.ty0-Ee.by/2+Lr,kt=Ee.textAlign||"auto";"auto"!==kt&&("left"===kt&&"start"!==$e?(We.attr("text-anchor","start"),ft="middle"===$e?-Ee.bx/2-Ee.tx2width/2+Lr:-Ee.bx-Lr):"right"===kt&&"end"!==$e&&(We.attr("text-anchor","end"),ft="middle"===$e?Ee.bx/2-Ee.tx2width/2-Lr:Ee.bx+Lr)),We.call(tt.positionText,ft,xt),Ee.tx2width&&(Be.select("text.name").call(tt.positionText,at+et*Lr+it,ct+Ee.ty0-Ee.by/2+Lr),Be.select("rect").call(nt.setRect,at+(et-1)*Ee.tx2width/2+it,ct-Ee.by/2-1,Ee.tx2width,Ee.by+2))}))}function cleanPoint(Ee,ze){var Be=Ee.index,Ue=Ee.trace||{},$e=Ee.cd[0],et=Ee.cd[Be]||{};function pass(Ee){return Ee||We(Ee)&&0===Ee}var tt=Array.isArray(Be)?function(Ee,ze){var We=Qe.castOption($e,Be,Ee);return pass(We)?We:Qe.extractOption({},Ue,"",ze)}:function(Ee,ze){return Qe.extractOption(et,Ue,Ee,ze)};function fill(ze,Be,Ue){var We=tt(Be,Ue);pass(We)&&(Ee[ze]=We)}if(fill("hoverinfo","hi","hoverinfo"),fill("bgcolor","hbg","hoverlabel.bgcolor"),fill("borderColor","hbc","hoverlabel.bordercolor"),fill("fontFamily","htf","hoverlabel.font.family"),fill("fontSize","hts","hoverlabel.font.size"),fill("fontColor","htc","hoverlabel.font.color"),fill("nameLength","hnl","hoverlabel.namelength"),fill("textAlign","hta","hoverlabel.align"),Ee.posref="y"===ze||"closest"===ze&&"h"===Ue.orientation?Ee.xa._offset+(Ee.x0+Ee.x1)/2:Ee.ya._offset+(Ee.y0+Ee.y1)/2,Ee.x0=Qe.constrain(Ee.x0,0,Ee.xa._length),Ee.x1=Qe.constrain(Ee.x1,0,Ee.xa._length),Ee.y0=Qe.constrain(Ee.y0,0,Ee.ya._length),Ee.y1=Qe.constrain(Ee.y1,0,Ee.ya._length),void 0!==Ee.xLabelVal&&(Ee.xLabel="xLabel"in Ee?Ee.xLabel:ct.hoverLabelText(Ee.xa,Ee.xLabelVal),Ee.xVal=Ee.xa.c2d(Ee.xLabelVal)),void 0!==Ee.yLabelVal&&(Ee.yLabel="yLabel"in Ee?Ee.yLabel:ct.hoverLabelText(Ee.ya,Ee.yLabelVal),Ee.yVal=Ee.ya.c2d(Ee.yLabelVal)),void 0!==Ee.zLabelVal&&void 0===Ee.zLabel&&(Ee.zLabel=String(Ee.zLabelVal)),!(isNaN(Ee.xerr)||"log"===Ee.xa.type&&Ee.xerr<=0)){var rt=ct.tickText(Ee.xa,Ee.xa.c2l(Ee.xerr),"hover").text;void 0!==Ee.xerrneg?Ee.xLabel+=" +"+rt+" / -"+ct.tickText(Ee.xa,Ee.xa.c2l(Ee.xerrneg),"hover").text:Ee.xLabel+=" ± "+rt,"x"===ze&&(Ee.distance+=1)}if(!(isNaN(Ee.yerr)||"log"===Ee.ya.type&&Ee.yerr<=0)){var nt=ct.tickText(Ee.ya,Ee.ya.c2l(Ee.yerr),"hover").text;void 0!==Ee.yerrneg?Ee.yLabel+=" +"+nt+" / -"+ct.tickText(Ee.ya,Ee.ya.c2l(Ee.yerrneg),"hover").text:Ee.yLabel+=" ± "+nt,"y"===ze&&(Ee.distance+=1)}var at=Ee.hoverinfo||Ee.trace.hoverinfo;return at&&"all"!==at&&(-1===(at=Array.isArray(at)?at:at.split("+")).indexOf("x")&&(Ee.xLabel=void 0),-1===at.indexOf("y")&&(Ee.yLabel=void 0),-1===at.indexOf("z")&&(Ee.zLabel=void 0),-1===at.indexOf("text")&&(Ee.text=void 0),-1===at.indexOf("name")&&(Ee.name=void 0)),Ee}function createSpikelines(Ee,ze,Be){var Ue,We,Qe=Be.container,et=Be.fullLayout,tt=et._size,rt=Be.event,it=!!ze.hLinePoint,ft=!!ze.vLinePoint;if(Qe.selectAll(".spikeline").remove(),ft||it){var xt=at.combine(et.plot_bgcolor,et.paper_bgcolor);if(it){var kt,Lt,Ut=ze.hLinePoint;Ue=Ut&&Ut.xa,"cursor"===(We=Ut&&Ut.ya).spikesnap?(kt=rt.pointerX,Lt=rt.pointerY):(kt=Ue._offset+Ut.x,Lt=We._offset+Ut.y);var er,tr,rr=$e.readability(Ut.color,xt)<1.5?at.contrast(xt):Ut.color,ar=We.spikemode,Lr=We.spikethickness,Qr=We.spikecolor||rr,on=ct.getPxPosition(Ee,We);if(-1!==ar.indexOf("toaxis")||-1!==ar.indexOf("across")){if(-1!==ar.indexOf("toaxis")&&(er=on,tr=kt),-1!==ar.indexOf("across")){var sn=We._counterDomainMin,ln=We._counterDomainMax;"free"===We.anchor&&(sn=Math.min(sn,We.position),ln=Math.max(ln,We.position)),er=tt.l+sn*tt.w,tr=tt.l+ln*tt.w}Qe.insert("line",":first-child").attr({x1:er,x2:tr,y1:Lt,y2:Lt,"stroke-width":Lr,stroke:Qr,"stroke-dasharray":nt.dashStyle(We.spikedash,Lr)}).classed("spikeline",!0).classed("crisp",!0),Qe.insert("line",":first-child").attr({x1:er,x2:tr,y1:Lt,y2:Lt,"stroke-width":Lr+2,stroke:xt}).classed("spikeline",!0).classed("crisp",!0)}-1!==ar.indexOf("marker")&&Qe.insert("circle",":first-child").attr({cx:on+("right"!==We.side?Lr:-Lr),cy:Lt,r:Lr,fill:Qr}).classed("spikeline",!0)}if(ft){var cn,un,hn=ze.vLinePoint;Ue=hn&&hn.xa,We=hn&&hn.ya,"cursor"===Ue.spikesnap?(cn=rt.pointerX,un=rt.pointerY):(cn=Ue._offset+hn.x,un=We._offset+hn.y);var dn,vn,yn=$e.readability(hn.color,xt)<1.5?at.contrast(xt):hn.color,_n=Ue.spikemode,Mn=Ue.spikethickness,Cn=Ue.spikecolor||yn,En=ct.getPxPosition(Ee,Ue);if(-1!==_n.indexOf("toaxis")||-1!==_n.indexOf("across")){if(-1!==_n.indexOf("toaxis")&&(dn=En,vn=un),-1!==_n.indexOf("across")){var Pn=Ue._counterDomainMin,In=Ue._counterDomainMax;"free"===Ue.anchor&&(Pn=Math.min(Pn,Ue.position),In=Math.max(In,Ue.position)),dn=tt.t+(1-In)*tt.h,vn=tt.t+(1-Pn)*tt.h}Qe.insert("line",":first-child").attr({x1:cn,x2:cn,y1:dn,y2:vn,"stroke-width":Mn,stroke:Cn,"stroke-dasharray":nt.dashStyle(Ue.spikedash,Mn)}).classed("spikeline",!0).classed("crisp",!0),Qe.insert("line",":first-child").attr({x1:cn,x2:cn,y1:dn,y2:vn,"stroke-width":Mn+2,stroke:xt}).classed("spikeline",!0).classed("crisp",!0)}-1!==_n.indexOf("marker")&&Qe.insert("circle",":first-child").attr({cx:cn,cy:En-("top"!==Ue.side?Mn:-Mn),r:Mn,fill:Cn}).classed("spikeline",!0)}}}function spikesChanged(Ee,ze){return!ze||(ze.vLinePoint!==Ee._spikepoints.vLinePoint||ze.hLinePoint!==Ee._spikepoints.hLinePoint)}function plainText(Ee,ze){return tt.plainText(Ee||"",{len:ze,allowedTags:["br","sub","sup","b","i","em"]})}},e813:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("fc26"),$e=Be("a651"),Qe=Be("e827"),et=Be("a685"),tt=Be("79f1");Ee.exports=function legendDefaults(Ee,ze,Be){for(var rt=Ee.legend||{},nt=0,at=!1,it="normal",ct=0;ct<Be.length;ct++){var ft=Be[ct];ft.visible&&((ft.showlegend||ft._dfltShowLegend&&!(ft._module&&ft._module.attributes&&ft._module.attributes.showlegend&&!1===ft._module.attributes.showlegend.dflt))&&(nt++,ft.showlegend&&(at=!0,(Ue.traceIs(ft,"pie-like")||!0===ft._input.showlegend)&&nt++)),(Ue.traceIs(ft,"bar")&&"stack"===ze.barmode||-1!==["tonextx","tonexty"].indexOf(ft.fill))&&(it=tt.isGrouped({traceorder:it})?"grouped+reversed":"reversed"),void 0!==ft.legendgroup&&""!==ft.legendgroup&&(it=tt.isReversed({traceorder:it})?"reversed+grouped":"grouped"))}var xt=We.coerce(Ee,ze,et,"showlegend",at&&nt>1);if(!1!==xt||rt.uirevision){var kt=$e.newContainer(ze,"legend");if(coerce("uirevision",ze.uirevision),!1!==xt){coerce("bgcolor",ze.paper_bgcolor),coerce("bordercolor"),coerce("borderwidth"),We.coerceFont(coerce,"font",ze.font);var Lt,Ut,er,tr=coerce("orientation");"h"===tr?(Lt=0,Ue.getComponentMethod("rangeslider","isVisible")(Ee.xaxis)?(Ut=1.1,er="bottom"):(Ut=-.1,er="top")):(Lt=1.02,Ut=1,er="auto"),coerce("traceorder",it),tt.isGrouped(ze.legend)&&coerce("tracegroupgap"),coerce("itemsizing"),coerce("itemclick"),coerce("itemdoubleclick"),coerce("x",Lt),coerce("xanchor"),coerce("y",Ut),coerce("yanchor",er),coerce("valign"),We.noneOrAll(rt,kt,["x","y"]),coerce("title.text")&&(coerce("title.side","h"===tr?"left":"top"),We.coerceFont(coerce,"title.font",ze.font))}}function coerce(Ee,ze){return We.coerce(rt,kt,Qe,Ee,ze)}}},e827:function(Ee,ze,Be){"use strict";var Ue=Be("9845"),We=Be("dfb3");Ee.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:We.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:Ue({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:Ue({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},e893:function(Ee,ze,Be){var Ue=Be("5135"),We=Be("56ef"),$e=Be("06cf"),Qe=Be("9bf2");Ee.exports=function(Ee,ze){for(var Be=We(ze),et=Qe.f,tt=$e.f,rt=0;rt<Be.length;rt++){var nt=Be[rt];Ue(Ee,nt)||et(Ee,nt,tt(ze,nt))}}},e8b5:function(Ee,ze,Be){var Ue=Be("c6b6");Ee.exports=Array.isArray||function isArray(Ee){return"Array"==Ue(Ee)}},e8cf:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4248");Ee.exports=function fileSaver(Ee,ze,Be){var $e=document.createElement("a"),Qe="download"in $e;return new Promise((function(et,tt){var rt,nt;if(Ue.isIE9orBelow()&&tt(new Error("IE < 10 unsupported")),Ue.isSafari()){var at="svg"===Be?",":";base64,";return We.octetStream(at+encodeURIComponent(Ee)),et(ze)}return Ue.isIE()?(rt=We.createBlob(Ee,"svg"),window.navigator.msSaveBlob(rt,ze),rt=null,et(ze)):Qe?(rt=We.createBlob(Ee,Be),nt=We.createObjectURL(rt),$e.href=nt,$e.download=ze,document.body.appendChild($e),$e.click(),document.body.removeChild($e),We.revokeObjectURL(nt),rt=null,et(ze)):void tt(new Error("download error"))}))}},e8ee:function(Ee,ze,Be){"use strict";var Ue=Be("0103"),We=Be("be00"),$e=Be("320c"),Qe=Be("e98f"),et=Be("b7d1"),tt=Be("37cd"),rt=Be("5664"),nt=Be("a2bb"),at=Be("1d19"),it=at.float32,ct=at.fract32,ft=Be("d345"),xt=Be("3de2");function Line2D(Ee,ze){if(!(this instanceof Line2D))return new Line2D(Ee,ze);if("function"==typeof Ee?(ze||(ze={}),ze.regl=Ee):ze=Ee,ze.length&&(ze.positions=ze),!(Ee=ze.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=Ee._gl,this.regl=Ee,this.passes=[],this.shaders=Line2D.shaders.has(Ee)?Line2D.shaders.get(Ee):Line2D.shaders.set(Ee,Line2D.createShaders(Ee)).get(Ee),this.update(ze)}Ee.exports=Line2D,Line2D.dashMult=2,Line2D.maxPatternLength=256,Line2D.precisionThreshold=3e6,Line2D.maxPoints=1e4,Line2D.maxLines=2048,Line2D.shaders=new ft,Line2D.createShaders=function(Ee){var ze,Be=Ee.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),Ue={primitive:"triangle strip",instances:Ee.prop("count"),count:4,offset:0,uniforms:{miterMode:function(Ee,ze){return"round"===ze.join?2:1},miterLimit:Ee.prop("miterLimit"),scale:Ee.prop("scale"),scaleFract:Ee.prop("scaleFract"),translateFract:Ee.prop("translateFract"),translate:Ee.prop("translate"),thickness:Ee.prop("thickness"),dashPattern:Ee.prop("dashTexture"),opacity:Ee.prop("opacity"),pixelRatio:Ee.context("pixelRatio"),id:Ee.prop("id"),dashSize:Ee.prop("dashLength"),viewport:function(Ee,ze){return[ze.viewport.x,ze.viewport.y,Ee.viewportWidth,Ee.viewportHeight]},depth:Ee.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(Ee,ze){return!ze.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:Ee.prop("viewport")},viewport:Ee.prop("viewport")},We=Ee($e({vert:Qe(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:Qe(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\n\nuniform float dashSize, pixelRatio, thickness, opacity, id;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:Be,divisor:0,stride:8,offset:0},lineTop:{buffer:Be,divisor:0,stride:8,offset:4},aCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:Ee.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:Ee.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:Ee.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},Ue));try{ze=Ee($e({cull:{enable:!0,face:"back"},vert:Qe(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:Qe(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\nuniform float dashSize, pixelRatio, thickness, opacity, id, miterMode;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:Be,divisor:0,stride:8,offset:0},lineTop:{buffer:Be,divisor:0,stride:8,offset:4},aColor:{buffer:Ee.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:Ee.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:Ee.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},Ue))}catch(Ee){ze=We}return{fill:Ee({primitive:"triangle",elements:function(Ee,ze){return ze.triangles},offset:0,vert:Qe(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:Qe(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:Ee.prop("scale"),color:Ee.prop("fill"),scaleFract:Ee.prop("scaleFract"),translateFract:Ee.prop("translateFract"),translate:Ee.prop("translate"),opacity:Ee.prop("opacity"),pixelRatio:Ee.context("pixelRatio"),id:Ee.prop("id"),viewport:function(Ee,ze){return[ze.viewport.x,ze.viewport.y,Ee.viewportWidth,Ee.viewportHeight]}},attributes:{position:{buffer:Ee.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:Ee.prop("positionFractBuffer"),stride:8,offset:8}},blend:Ue.blend,depth:{enable:!1},scissor:Ue.scissor,stencil:Ue.stencil,viewport:Ue.viewport}),rect:We,miter:ze}},Line2D.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},Line2D.prototype.render=function(){for(var Ee,ze=[],Be=arguments.length;Be--;)ze[Be]=arguments[Be];ze.length&&(Ee=this).update.apply(Ee,ze),this.draw()},Line2D.prototype.draw=function(){for(var Ee=this,ze=[],Be=arguments.length;Be--;)ze[Be]=arguments[Be];return(ze.length?ze:this.passes).forEach((function(ze,Be){var Ue;if(ze&&Array.isArray(ze))return(Ue=Ee).draw.apply(Ue,ze);"number"==typeof ze&&(ze=Ee.passes[ze]),ze&&ze.count>1&&ze.opacity&&(Ee.regl._refresh(),ze.fill&&ze.triangles&&ze.triangles.length>2&&Ee.shaders.fill(ze),ze.thickness&&(ze.scale[0]*ze.viewport.width>Line2D.precisionThreshold||ze.scale[1]*ze.viewport.height>Line2D.precisionThreshold||"rect"===ze.join||!ze.join&&(ze.thickness<=2||ze.count>=Line2D.maxPoints)?Ee.shaders.rect(ze):Ee.shaders.miter(ze)))})),this},Line2D.prototype.update=function(Ee){var ze=this;if(Ee){null!=Ee.length?"number"==typeof Ee[0]&&(Ee=[{positions:Ee}]):Array.isArray(Ee)||(Ee=[Ee]);var Be=this.regl,Qe=this.gl;if(Ee.forEach((function(Ee,at){var ft=ze.passes[at];if(void 0!==Ee)if(null!==Ee){if("number"==typeof Ee[0]&&(Ee={positions:Ee}),Ee=et(Ee,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow"}),ft||(ze.passes[at]=ft={id:at,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:Be.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:Be.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:Be.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:Be.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},Ee=$e({},Line2D.defaults,Ee)),null!=Ee.thickness&&(ft.thickness=parseFloat(Ee.thickness)),null!=Ee.opacity&&(ft.opacity=parseFloat(Ee.opacity)),null!=Ee.miterLimit&&(ft.miterLimit=parseFloat(Ee.miterLimit)),null!=Ee.overlay&&(ft.overlay=!!Ee.overlay,at<Line2D.maxLines&&(ft.depth=2*(Line2D.maxLines-1-at%Line2D.maxLines)/Line2D.maxLines-1)),null!=Ee.join&&(ft.join=Ee.join),null!=Ee.hole&&(ft.hole=Ee.hole),null!=Ee.fill&&(ft.fill=Ee.fill?Ue(Ee.fill,"uint8"):null),null!=Ee.viewport&&(ft.viewport=xt(Ee.viewport)),ft.viewport||(ft.viewport=xt([Qe.drawingBufferWidth,Qe.drawingBufferHeight])),null!=Ee.close&&(ft.close=Ee.close),null===Ee.positions&&(Ee.positions=[]),Ee.positions){var kt,Lt;if(Ee.positions.x&&Ee.positions.y){var Ut=Ee.positions.x,er=Ee.positions.y;Lt=ft.count=Math.max(Ut.length,er.length),kt=new Float64Array(2*Lt);for(var tr=0;tr<Lt;tr++)kt[2*tr]=Ut[tr],kt[2*tr+1]=er[tr]}else kt=tt(Ee.positions,"float64"),Lt=ft.count=Math.floor(kt.length/2);var rr=ft.bounds=We(kt,2);if(ft.fill){for(var ar=[],Lr={},Qr=0,on=0,sn=0,ln=ft.count;on<ln;on++){var cn=kt[2*on],un=kt[2*on+1];isNaN(cn)||isNaN(un)||null==cn||null==un?(cn=kt[2*Qr],un=kt[2*Qr+1],Lr[on]=Qr):Qr=on,ar[sn++]=cn,ar[sn++]=un}for(var hn=rt(ar,ft.hole||[]),dn=0,vn=hn.length;dn<vn;dn++)null!=Lr[hn[dn]]&&(hn[dn]=Lr[hn[dn]]);ft.triangles=hn}var yn=new Float64Array(kt);nt(yn,2,rr);var _n=new Float64Array(2*Lt+6);ft.close?kt[0]===kt[2*Lt-2]&&kt[1]===kt[2*Lt-1]?(_n[0]=yn[2*Lt-4],_n[1]=yn[2*Lt-3]):(_n[0]=yn[2*Lt-2],_n[1]=yn[2*Lt-1]):(_n[0]=yn[0],_n[1]=yn[1]),_n.set(yn,2),ft.close?kt[0]===kt[2*Lt-2]&&kt[1]===kt[2*Lt-1]?(_n[2*Lt+2]=yn[2],_n[2*Lt+3]=yn[3],ft.count-=1):(_n[2*Lt+2]=yn[0],_n[2*Lt+3]=yn[1],_n[2*Lt+4]=yn[2],_n[2*Lt+5]=yn[3]):(_n[2*Lt+2]=yn[2*Lt-2],_n[2*Lt+3]=yn[2*Lt-1],_n[2*Lt+4]=yn[2*Lt-2],_n[2*Lt+5]=yn[2*Lt-1]),ft.positionBuffer(it(_n)),ft.positionFractBuffer(ct(_n))}if(Ee.range?ft.range=Ee.range:ft.range||(ft.range=ft.bounds),(Ee.range||Ee.positions)&&ft.count){var Mn=ft.bounds,Cn=Mn[2]-Mn[0],En=Mn[3]-Mn[1],Pn=ft.range[2]-ft.range[0],In=ft.range[3]-ft.range[1];ft.scale=[Cn/Pn,En/In],ft.translate=[-ft.range[0]/Pn+Mn[0]/Pn||0,-ft.range[1]/In+Mn[1]/In||0],ft.scaleFract=ct(ft.scale),ft.translateFract=ct(ft.translate)}if(Ee.dashes){var Bn,Hn=0;if(!Ee.dashes||Ee.dashes.length<2)Hn=1,Bn=new Uint8Array([255,255,255,255,255,255,255,255]);else{Hn=0;for(var Kn=0;Kn<Ee.dashes.length;++Kn)Hn+=Ee.dashes[Kn];Bn=new Uint8Array(Hn*Line2D.dashMult);for(var Jn=0,Ma=255,Sa=0;Sa<2;Sa++)for(var La=0;La<Ee.dashes.length;++La){for(var Ia=0,Ra=Ee.dashes[La]*Line2D.dashMult*.5;Ia<Ra;++Ia)Bn[Jn++]=Ma;Ma^=255}}ft.dashLength=Hn,ft.dashTexture({channels:1,data:Bn,width:Bn.length,height:1,mag:"linear",min:"linear"},0,0)}if(Ee.color){var Na=ft.count,Ua=Ee.color;Ua||(Ua="transparent");var qa=new Uint8Array(4*Na+4);if(Array.isArray(Ua)&&"number"!=typeof Ua[0]){for(var Ka=0;Ka<Na;Ka++){var ei=Ue(Ua[Ka],"uint8");qa.set(ei,4*Ka)}qa.set(Ue(Ua[0],"uint8"),4*Na)}else for(var ti=Ue(Ua,"uint8"),ri=0;ri<Na+1;ri++)qa.set(ti,4*ri);ft.colorBuffer({usage:"dynamic",type:"uint8",data:qa})}}else ze.passes[at]=null})),Ee.length<this.passes.length){for(var at=Ee.length;at<this.passes.length;at++){var ft=this.passes[at];ft&&(ft.colorBuffer.destroy(),ft.positionBuffer.destroy(),ft.dashTexture.destroy())}this.passes.length=Ee.length}for(var kt=[],Lt=0;Lt<this.passes.length;Lt++)null!==this.passes[Lt]&&kt.push(this.passes[Lt]);return this.passes=kt,this}},Line2D.prototype.destroy=function(){return this.passes.forEach((function(Ee){Ee.colorBuffer.destroy(),Ee.positionBuffer.destroy(),Ee.dashTexture.destroy()})),this.passes.length=0,this}},e92c:function(Ee,ze,Be){"use strict";var Ue=Be("391b"),We=Be("fc26").fillText;Ee.exports=function hoverPoints(Ee,ze,Be,$e){var Qe=Ue(Ee,ze,Be,$e);if(Qe&&!1!==Qe[0].index){var et=Qe[0];if(void 0===et.index){var tt=1-et.y0/Ee.ya._length,rt=Ee.xa._length,nt=rt*tt/2,at=rt-nt;return et.x0=Math.max(Math.min(et.x0,at),nt),et.x1=Math.max(Math.min(et.x1,at),nt),Qe}var it=et.cd[et.index];et.a=it.a,et.b=it.b,et.xLabelVal=void 0,et.yLabelVal=void 0;var ct=et.trace,ft=ct._carpet,xt=ct._module.formatLabels(it,ct);et.yLabel=xt.yLabel,delete et.text;var kt=[];if(!ct.hovertemplate){var Lt=(it.hi||ct.hoverinfo).split("+");-1!==Lt.indexOf("all")&&(Lt=["a","b","text"]),-1!==Lt.indexOf("a")&&textPart(ft.aaxis,it.a),-1!==Lt.indexOf("b")&&textPart(ft.baxis,it.b),kt.push("y: "+et.yLabel),-1!==Lt.indexOf("text")&&We(it,ct,kt),et.extraText=kt.join("<br>")}return Qe}function textPart(Ee,ze){var Be;Be=Ee.labelprefix&&Ee.labelprefix.length>0?Ee.labelprefix.replace(/ = $/,""):Ee._hovertitle,kt.push(Be+": "+ze.toFixed(3)+Ee.labelsuffix)}}},e92d:function(Ee,ze,Be){"use strict";Be.r(ze);var Ue=Be("bc17"),We=Be("6f04");function targetDepth(Ee){return Ee.target.depth}function left(Ee){return Ee.depth}function right(Ee,ze){return ze-1-Ee.height}function justify(Ee,ze){return Ee.sourceLinks.length?Ee.depth:ze-1}function center(Ee){return Ee.targetLinks.length?Ee.depth:Ee.sourceLinks.length?Object(Ue.d)(Ee.sourceLinks,targetDepth)-1:0}function constant(Ee){return function(){return Ee}}function ascendingSourceBreadth(Ee,ze){return ascendingBreadth(Ee.source,ze.source)||Ee.index-ze.index}function ascendingTargetBreadth(Ee,ze){return ascendingBreadth(Ee.target,ze.target)||Ee.index-ze.index}function ascendingBreadth(Ee,ze){return Ee.y0-ze.y0}function value(Ee){return Ee.value}function nodeCenter(Ee){return(Ee.y0+Ee.y1)/2}function weightedSource(Ee){return nodeCenter(Ee.source)*Ee.value}function weightedTarget(Ee){return nodeCenter(Ee.target)*Ee.value}function defaultId(Ee){return Ee.index}function defaultNodes(Ee){return Ee.nodes}function defaultLinks(Ee){return Ee.links}function find(Ee,ze){var Be=Ee.get(ze);if(!Be)throw new Error("missing: "+ze);return Be}var src_sankey=function(){var Ee=0,ze=0,Be=1,$e=1,Qe=24,et=8,tt=defaultId,rt=justify,nt=defaultNodes,at=defaultLinks,it=32;function sankey(){var Ee={nodes:nt.apply(null,arguments),links:at.apply(null,arguments)};return computeNodeLinks(Ee),computeNodeValues(Ee),computeNodeDepths(Ee),computeNodeBreadths(Ee),computeLinkBreadths(Ee),Ee}function computeNodeLinks(Ee){Ee.nodes.forEach((function(Ee,ze){Ee.index=ze,Ee.sourceLinks=[],Ee.targetLinks=[]}));var ze=Object(We.a)(Ee.nodes,tt);Ee.links.forEach((function(Ee,Be){Ee.index=Be;var Ue=Ee.source,We=Ee.target;"object"!=typeof Ue&&(Ue=Ee.source=find(ze,Ue)),"object"!=typeof We&&(We=Ee.target=find(ze,We)),Ue.sourceLinks.push(Ee),We.targetLinks.push(Ee)}))}function computeNodeValues(Ee){Ee.nodes.forEach((function(Ee){Ee.value=Math.max(Object(Ue.e)(Ee.sourceLinks,value),Object(Ue.e)(Ee.targetLinks,value))}))}function computeNodeDepths(ze){var Ue,We,$e;for(Ue=ze.nodes,We=[],$e=0;Ue.length;++$e,Ue=We,We=[])Ue.forEach((function(Ee){Ee.depth=$e,Ee.sourceLinks.forEach((function(Ee){We.indexOf(Ee.target)<0&&We.push(Ee.target)}))}));for(Ue=ze.nodes,We=[],$e=0;Ue.length;++$e,Ue=We,We=[])Ue.forEach((function(Ee){Ee.height=$e,Ee.targetLinks.forEach((function(Ee){We.indexOf(Ee.source)<0&&We.push(Ee.source)}))}));var et=(Be-Ee-Qe)/($e-1);ze.nodes.forEach((function(ze){ze.x1=(ze.x0=Ee+Math.max(0,Math.min($e-1,Math.floor(rt.call(null,ze,$e))))*et)+Qe}))}function computeNodeBreadths(Ee){var Be=Object(We.b)().key((function(Ee){return Ee.x0})).sortKeys(Ue.a).entries(Ee.nodes).map((function(Ee){return Ee.values}));!function initializeNodeBreadth(){var We=Object(Ue.b)(Be,(function(Ee){return Ee.length})),Qe=2/3*($e-ze)/(We-1);et>Qe&&(et=Qe);var tt=Object(Ue.d)(Be,(function(Ee){return($e-ze-(Ee.length-1)*et)/Object(Ue.e)(Ee,value)}));Be.forEach((function(Ee){Ee.forEach((function(Ee,ze){Ee.y1=(Ee.y0=ze)+Ee.value*tt}))})),Ee.links.forEach((function(Ee){Ee.width=Ee.value*tt}))}(),resolveCollisions();for(var Qe=1,tt=it;tt>0;--tt)relaxRightToLeft(Qe*=.99),resolveCollisions(),relaxLeftToRight(Qe),resolveCollisions();function relaxLeftToRight(Ee){Be.forEach((function(ze){ze.forEach((function(ze){if(ze.targetLinks.length){var Be=(Object(Ue.e)(ze.targetLinks,weightedSource)/Object(Ue.e)(ze.targetLinks,value)-nodeCenter(ze))*Ee;ze.y0+=Be,ze.y1+=Be}}))}))}function relaxRightToLeft(Ee){Be.slice().reverse().forEach((function(ze){ze.forEach((function(ze){if(ze.sourceLinks.length){var Be=(Object(Ue.e)(ze.sourceLinks,weightedTarget)/Object(Ue.e)(ze.sourceLinks,value)-nodeCenter(ze))*Ee;ze.y0+=Be,ze.y1+=Be}}))}))}function resolveCollisions(){Be.forEach((function(Ee){var Be,Ue,We,Qe=ze,tt=Ee.length;for(Ee.sort(ascendingBreadth),We=0;We<tt;++We)(Ue=Qe-(Be=Ee[We]).y0)>0&&(Be.y0+=Ue,Be.y1+=Ue),Qe=Be.y1+et;if((Ue=Qe-et-$e)>0)for(Qe=Be.y0-=Ue,Be.y1-=Ue,We=tt-2;We>=0;--We)(Ue=(Be=Ee[We]).y1+et-Qe)>0&&(Be.y0-=Ue,Be.y1-=Ue),Qe=Be.y0}))}}function computeLinkBreadths(Ee){Ee.nodes.forEach((function(Ee){Ee.sourceLinks.sort(ascendingTargetBreadth),Ee.targetLinks.sort(ascendingSourceBreadth)})),Ee.nodes.forEach((function(Ee){var ze=Ee.y0,Be=ze;Ee.sourceLinks.forEach((function(Ee){Ee.y0=ze+Ee.width/2,ze+=Ee.width})),Ee.targetLinks.forEach((function(Ee){Ee.y1=Be+Ee.width/2,Be+=Ee.width}))}))}return sankey.update=function(Ee){return computeLinkBreadths(Ee),Ee},sankey.nodeId=function(Ee){return arguments.length?(tt="function"==typeof Ee?Ee:constant(Ee),sankey):tt},sankey.nodeAlign=function(Ee){return arguments.length?(rt="function"==typeof Ee?Ee:constant(Ee),sankey):rt},sankey.nodeWidth=function(Ee){return arguments.length?(Qe=+Ee,sankey):Qe},sankey.nodePadding=function(Ee){return arguments.length?(et=+Ee,sankey):et},sankey.nodes=function(Ee){return arguments.length?(nt="function"==typeof Ee?Ee:constant(Ee),sankey):nt},sankey.links=function(Ee){return arguments.length?(at="function"==typeof Ee?Ee:constant(Ee),sankey):at},sankey.size=function(Ue){return arguments.length?(Ee=ze=0,Be=+Ue[0],$e=+Ue[1],sankey):[Be-Ee,$e-ze]},sankey.extent=function(Ue){return arguments.length?(Ee=+Ue[0][0],Be=+Ue[1][0],ze=+Ue[0][1],$e=+Ue[1][1],sankey):[[Ee,ze],[Be,$e]]},sankey.iterations=function(Ee){return arguments.length?(it=+Ee,sankey):it},sankey},$e=Be("1a88");function horizontalSource(Ee){return[Ee.source.x1,Ee.y0]}function horizontalTarget(Ee){return[Ee.target.x0,Ee.y1]}var sankeyLinkHorizontal=function(){return Object($e.a)().source(horizontalSource).target(horizontalTarget)};Be.d(ze,"sankey",(function(){return src_sankey})),Be.d(ze,"sankeyCenter",(function(){return center})),Be.d(ze,"sankeyLeft",(function(){return left})),Be.d(ze,"sankeyRight",(function(){return right})),Be.d(ze,"sankeyJustify",(function(){return justify})),Be.d(ze,"sankeyLinkHorizontal",(function(){return sankeyLinkHorizontal}))},e98f:function(Ee,ze){Ee.exports=function(Ee){"string"==typeof Ee&&(Ee=[Ee]);for(var ze=[].slice.call(arguments,1),Be=[],Ue=0;Ue<Ee.length-1;Ue++)Be.push(Ee[Ue],ze[Ue]||"");return Be.push(Ee[Ue]),Be.join("")}},e9b4:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){for(var ze,Be=Ee.length,Ue=0;Ue<Be;Ue++)if(((ze=Ee.charCodeAt(Ue))<9||ze>13)&&32!==ze&&133!==ze&&160!==ze&&5760!==ze&&6158!==ze&&(ze<8192||ze>8205)&&8232!==ze&&8233!==ze&&8239!==ze&&8287!==ze&&8288!==ze&&12288!==ze&&65279!==ze)return!1;return!0}},e9bd:function(Ee,ze,Be){"use strict";var Ue=Object.prototype.toString,We=Ue.call(function(){return arguments}());Ee.exports=function(Ee){return Ue.call(Ee)===We}},e9d4:function(Ee,ze,Be){"use strict";var Ue=Be("f4b3").setPositionOffset,We=["v","h"];Ee.exports=function crossTraceCalc(Ee,ze){for(var Be=Ee.calcdata,$e=ze.xaxis,Qe=ze.yaxis,et=0;et<We.length;et++){for(var tt=We[et],rt="h"===tt?Qe:$e,nt=[],at=0;at<Be.length;at++){var it=Be[at],ct=it[0].t,ft=it[0].trace;!0!==ft.visible||"violin"!==ft.type||ct.empty||ft.orientation!==tt||ft.xaxis!==$e._id||ft.yaxis!==Qe._id||nt.push(at)}Ue("violin",Ee,nt,rt)}}},e9dc:function(Ee,ze,Be){"use strict";Ee.exports=function getPolygonizer(Ee){var ze=$e[Ee];ze||(ze=$e[Ee]=function createCellPolygonizer(Ee){var ze=0,Be=new Array(Ee+1);Be[0]=[[]];for(var $e=1;$e<=Ee;++$e)for(var Qe=Be[$e]=We($e),et=0;et<Qe.length;++et)ze=Math.max(ze,Qe[$e].length);var tt=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",Ee,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];function generateCase(Ee){if(!(Ee.length<=0)){tt.push("R.push(");for(var ze=0;ze<Ee.length;++ze){var Be=Ee[ze];ze>0&&tt.push(","),tt.push("[");for(var Ue=0;Ue<Be.length;++Ue){var We=Be[Ue];Ue>0&&tt.push(","),tt.push("B(C,E,c[",We[0],"],c[",We[1],"])")}tt.push("]")}tt.push(");")}}for($e=Ee+1;$e>1;--$e){$e<Ee+1&&tt.push("else "),tt.push("if(l===",$e,"){");var rt=[];for(et=0;et<$e;++et)rt.push("(S[c["+et+"]]<<"+et+")");tt.push("var M=",rt.join("+"),";if(M===0||M===",(1<<$e)-1,"){continue}switch(M){");for(Qe=Be[$e-1],et=0;et<Qe.length;++et)tt.push("case ",et,":"),generateCase(Qe[et]),tt.push("break;");tt.push("}}")}return tt.push("}return R;};return getContour",Ee,"d"),new Function("pool",tt.join(""))(Ue)}(Ee));return ze};var Ue=Be("cea5"),We=Be("f3a4"),$e={}},e9e1:function(Ee,ze){Ee.exports=function rotateX(Ee,ze,Be){var Ue=Math.sin(Be),We=Math.cos(Be),$e=ze[4],Qe=ze[5],et=ze[6],tt=ze[7],rt=ze[8],nt=ze[9],at=ze[10],it=ze[11];ze!==Ee&&(Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee[3]=ze[3],Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]);return Ee[4]=$e*We+rt*Ue,Ee[5]=Qe*We+nt*Ue,Ee[6]=et*We+at*Ue,Ee[7]=tt*We+it*Ue,Ee[8]=rt*We-$e*Ue,Ee[9]=nt*We-Qe*Ue,Ee[10]=at*We-et*Ue,Ee[11]=it*We-tt*Ue,Ee}},e9f7:function(Ee,ze,Be){"use strict";var Ue=Be("fc26");Ee.exports=function(Ee,ze,Be,We,$e){$e=$e||{},We("textposition"),Ue.coerceFont(We,"textfont",Be.font),$e.noSelect||(We("selected.textfont.color"),We("unselected.textfont.color"))}},ea27:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("f67b"),supplyDefaults:Be("d494"),calc:Be("0c85"),plot:Be("7988"),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:Be("aa89"),categories:["gl","regl","noOpacity","noHover"],meta:{}}},ea39:function(Ee,ze,Be){"use strict";Ee.exports={parse:Be("df0c"),stringify:Be("c243")}},eae0:function(Ee,ze,Be){"use strict";var Ue=Be("936a"),We=Be("5edd"),$e=Object.prototype.toString;Ee.exports=function(Ee){if(!Ue(Ee))return null;if(We(Ee)){var ze=Ee.toString;if("function"!=typeof ze)return null;if(ze===$e)return null}try{return""+Ee}catch(Ee){return null}}},eaff:function(Ee,ze){Ee.exports=function _atob(Ee){return atob(Ee)}},eb07:function(Ee,ze,Be){"use strict";Ee.exports=function handleLineShapeDefaults(Ee,ze,Be){"spline"===Be("line.shape")&&Be("line.smoothing")}},eb12:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("41e0"),$e=Be("3044"),Qe=Be("86df"),et=Be("d61b"),tt=Be("41f8");Ee.exports=function supplyDefaults(Ee,ze,Be,rt){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}if(coerce("carpet"),Ee.a&&Ee.b){if(!We(Ee,ze,coerce,rt,"a","b"))return void(ze.visible=!1);coerce("text"),"constraint"===coerce("contours.type")?Qe(Ee,ze,coerce,rt,Be,{hasHover:!1}):(et(Ee,ze,coerce,(function coerce2(Be){return Ue.coerce2(Ee,ze,$e,Be)})),tt(Ee,ze,coerce,rt,{hasHover:!1}))}else ze._defaultColor=Be,ze._length=null}},eb73:function(Ee,ze,Be){"use strict";Ee.exports=function makeReflectTypes(Ee,ze){for(var Be={},Ue=0;Ue<Ee.length;++Ue)for(var We=Ee[Ue].name.split("."),$e=Be,Qe=0;Qe<We.length;++Qe){var et=We[Qe].split("[");if(et.length>1){et[0]in $e||($e[et[0]]=[]),$e=$e[et[0]];for(var tt=1;tt<et.length;++tt){var rt=parseInt(et[tt]);tt<et.length-1||Qe<We.length-1?(rt in $e||(tt<et.length-1?$e[rt]=[]:$e[rt]={}),$e=$e[rt]):$e[rt]=ze?Ue:Ee[Ue].type}}else Qe<We.length-1?(et[0]in $e||($e[et[0]]={}),$e=$e[et[0]]):$e[et[0]]=ze?Ue:Ee[Ue].type}return Be}},ec0c:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("a651"),$e=Be("fc26"),Qe=Be("119e"),et=Be("5008"),tt=Be("27e3"),rt=Be("d92f"),nt=Be("743b"),at=Be("45a2"),it=["aaxis","baxis","caxis"];function handleTernaryDefaults(Ee,ze,Be,$e){var Qe,et,tt,rt=Be("bgcolor"),nt=Be("sum");$e.bgColor=Ue.combine(rt,$e.paper_bgcolor);for(var at=0;at<it.length;at++)et=Ee[Qe=it[at]]||{},(tt=We.newContainer(ze,Qe))._name=Qe,handleAxisDefaults(et,tt,$e,ze);var ct=ze.aaxis,ft=ze.baxis,xt=ze.caxis;ct.min+ft.min+xt.min>=nt&&(ct.min=0,ft.min=0,xt.min=0,Ee.aaxis&&delete Ee.aaxis.min,Ee.baxis&&delete Ee.baxis.min,Ee.caxis&&delete Ee.caxis.min)}function handleAxisDefaults(Ee,ze,Be,Ue){var We=at[ze._name];function coerce(Be,Ue){return $e.coerce(Ee,ze,We,Be,Ue)}coerce("uirevision",Ue.uirevision),ze.type="linear";var Qe=coerce("color"),it=Qe!==We.color.dflt?Qe:Be.font.color,ct=ze._name.charAt(0).toUpperCase(),ft="Component "+ct,xt=coerce("title.text",ft);ze._hovertitle=xt===ft?xt:ct,$e.coerceFont(coerce,"title.font",{family:Be.font.family,size:Math.round(1.2*Be.font.size),color:it}),coerce("min"),rt(Ee,ze,coerce,"linear"),et(Ee,ze,coerce,"linear",{}),tt(Ee,ze,coerce,{outerTicks:!0}),coerce("showticklabels")&&($e.coerceFont(coerce,"tickfont",{family:Be.font.family,size:Be.font.size,color:it}),coerce("tickangle"),coerce("tickformat")),nt(Ee,ze,coerce,{dfltColor:Qe,bgColor:Be.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:We}),coerce("hoverformat"),coerce("layer")}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){Qe(Ee,ze,Be,{type:"ternary",attributes:at,handleDefaults:handleTernaryDefaults,font:ze.font,paper_bgcolor:ze.paper_bgcolor})}},ec16:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("fc26"),Qe=Be("83d1"),et=Be("a60f");Ee.exports=function plot(Ee,ze,Be){var tt=ze.xaxis,rt=ze.yaxis,nt=ze.radialAxis,at=ze.angularAxis,it=function makePathFn(Ee){var ze=Ee.cxx,Be=Ee.cyy;if(Ee.vangles)return function(Ue,We,Qe,tt){var rt,nt;$e.angleDelta(Qe,tt)>0?(rt=Qe,nt=tt):(rt=tt,nt=Qe);var at=[et.findEnclosingVertexAngles(rt,Ee.vangles)[0],(rt+nt)/2,et.findEnclosingVertexAngles(nt,Ee.vangles)[1]];return et.pathPolygonAnnulus(Ue,We,rt,nt,at,ze,Be)};return function(Ee,Ue,We,Qe){return $e.pathAnnulus(Ee,Ue,We,Qe,ze,Be)}}(ze),ct=ze.layers.frontplot.select("g.barlayer");$e.makeTraceGroups(ct,Be,"trace bars").each((function(){var Be=Ue.select(this),et=$e.ensureSingle(Be,"g","points").selectAll("g.point").data($e.identity);et.enter().append("g").style("vector-effect","non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),et.exit().remove(),et.each((function(Ee){var ze,Be=Ue.select(this),Qe=Ee.rp0=nt.c2p(Ee.s0),et=Ee.rp1=nt.c2p(Ee.s1),ct=Ee.thetag0=at.c2g(Ee.p0),ft=Ee.thetag1=at.c2g(Ee.p1);if(We(Qe)&&We(et)&&We(ct)&&We(ft)&&Qe!==et&&ct!==ft){var xt=nt.c2g(Ee.s1),kt=(ct+ft)/2;Ee.ct=[tt.c2p(xt*Math.cos(kt)),rt.c2p(xt*Math.sin(kt))],ze=it(Qe,et,ct,ft)}else ze="M0,0Z";$e.ensureSingle(Be,"path").attr("d",ze)})),Qe.setClipUrl(Be,ze._hasClipOnAxisFalse?ze.clipIds.forTraces:null,Ee)}))}},ec20:function(Ee,ze,Be){"use strict";ze.init2dArray=function(Ee,ze){for(var Be=new Array(Ee),Ue=0;Ue<Ee;Ue++)Be[Ue]=new Array(ze);return Be},ze.transposeRagged=function(Ee){var ze,Be,Ue=0,We=Ee.length;for(ze=0;ze<We;ze++)Ue=Math.max(Ue,Ee[ze].length);var $e=new Array(Ue);for(ze=0;ze<Ue;ze++)for($e[ze]=new Array(We),Be=0;Be<We;Be++)$e[ze][Be]=Ee[Be][ze];return $e},ze.dot=function(Ee,Be){if(!Ee.length||!Be.length||Ee.length!==Be.length)return null;var Ue,We,$e=Ee.length;if(Ee[0].length)for(Ue=new Array($e),We=0;We<$e;We++)Ue[We]=ze.dot(Ee[We],Be);else if(Be[0].length){var Qe=ze.transposeRagged(Be);for(Ue=new Array(Qe.length),We=0;We<Qe.length;We++)Ue[We]=ze.dot(Ee,Qe[We])}else for(Ue=0,We=0;We<$e;We++)Ue+=Ee[We]*Be[We];return Ue},ze.translationMatrix=function(Ee,ze){return[[1,0,Ee],[0,1,ze],[0,0,1]]},ze.rotationMatrix=function(Ee){var ze=Ee*Math.PI/180;return[[Math.cos(ze),-Math.sin(ze),0],[Math.sin(ze),Math.cos(ze),0],[0,0,1]]},ze.rotationXYMatrix=function(Ee,Be,Ue){return ze.dot(ze.dot(ze.translationMatrix(Be,Ue),ze.rotationMatrix(Ee)),ze.translationMatrix(-Be,-Ue))},ze.apply2DTransform=function(Ee){return function(){var Be=arguments;3===Be.length&&(Be=Be[0]);var Ue=1===arguments.length?Be[0]:[Be[0],Be[1]];return ze.dot(Ee,[Ue[0],Ue[1],1]).slice(0,2)}},ze.apply2DTransform2=function(Ee){var Be=ze.apply2DTransform(Ee);return function(Ee){return Be(Ee.slice(0,2)).concat(Be(Ee.slice(2,4)))}}},ec76:function(Ee,ze,Be){"use strict";Ee.exports=function createTurntableController(Ee){var ze=(Ee=Ee||{}).center||[0,0,0],Be=Ee.up||[0,1,0],Ue=Ee.right||findOrthoPair(Be),We=Ee.radius||1,$e=Ee.theta||0,rt=Ee.phi||0;if(ze=[].slice.call(ze,0,3),Be=[].slice.call(Be,0,3),et(Be,Be),Ue=[].slice.call(Ue,0,3),et(Ue,Ue),"eye"in Ee){var nt=Ee.eye,at=[nt[0]-ze[0],nt[1]-ze[1],nt[2]-ze[2]];Qe(Ue,at,Be),len3(Ue[0],Ue[1],Ue[2])<1e-6?Ue=findOrthoPair(Be):et(Ue,Ue),We=len3(at[0],at[1],at[2]);var it=tt(Be,at)/We,ct=tt(Ue,at)/We;rt=Math.acos(it),$e=Math.acos(ct)}return We=Math.log(We),new TurntableController(Ee.zoomMin,Ee.zoomMax,ze,Be,Ue,We,$e,rt)};var Ue=Be("8f9c"),We=Be("9343"),$e=Be("9969"),Qe=Be("27a4"),et=Be("913b"),tt=Be("e448");function len3(Ee,ze,Be){return Math.sqrt(Math.pow(Ee,2)+Math.pow(ze,2)+Math.pow(Be,2))}function clamp1(Ee){return Math.min(1,Math.max(-1,Ee))}function findOrthoPair(Ee){var ze=Math.abs(Ee[0]),Be=Math.abs(Ee[1]),Ue=Math.abs(Ee[2]),We=[0,0,0];ze>Math.max(Be,Ue)?We[2]=1:Be>Math.max(ze,Ue)?We[0]=1:We[1]=1;for(var $e=0,Qe=0,tt=0;tt<3;++tt)$e+=Ee[tt]*Ee[tt],Qe+=We[tt]*Ee[tt];for(tt=0;tt<3;++tt)We[tt]-=Qe/$e*Ee[tt];return et(We,We),We}function TurntableController(Ee,ze,Be,We,$e,Qe,et,tt){this.center=Ue(Be),this.up=Ue(We),this.right=Ue($e),this.radius=Ue([Qe]),this.angle=Ue([et,tt]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(Ee,ze),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var rt=0;rt<16;++rt)this.computedMatrix[rt]=.5;this.recalcMatrix(0)}var rt=TurntableController.prototype;rt.setDistanceLimits=function(Ee,ze){Ee=Ee>0?Math.log(Ee):-1/0,ze=ze>0?Math.log(ze):1/0,ze=Math.max(ze,Ee),this.radius.bounds[0][0]=Ee,this.radius.bounds[1][0]=ze},rt.getDistanceLimits=function(Ee){var ze=this.radius.bounds[0];return Ee?(Ee[0]=Math.exp(ze[0][0]),Ee[1]=Math.exp(ze[1][0]),Ee):[Math.exp(ze[0][0]),Math.exp(ze[1][0])]},rt.recalcMatrix=function(Ee){this.center.curve(Ee),this.up.curve(Ee),this.right.curve(Ee),this.radius.curve(Ee),this.angle.curve(Ee);for(var ze=this.computedUp,Be=this.computedRight,Ue=0,We=0,$e=0;$e<3;++$e)We+=ze[$e]*Be[$e],Ue+=ze[$e]*ze[$e];var tt=Math.sqrt(Ue),rt=0;for($e=0;$e<3;++$e)Be[$e]-=ze[$e]*We/Ue,rt+=Be[$e]*Be[$e],ze[$e]/=tt;var nt=Math.sqrt(rt);for($e=0;$e<3;++$e)Be[$e]/=nt;var at=this.computedToward;Qe(at,ze,Be),et(at,at);var it=Math.exp(this.computedRadius[0]),ct=this.computedAngle[0],ft=this.computedAngle[1],xt=Math.cos(ct),kt=Math.sin(ct),Lt=Math.cos(ft),Ut=Math.sin(ft),er=this.computedCenter,tr=xt*Lt,rr=kt*Lt,ar=Ut,Lr=-xt*Ut,Qr=-kt*Ut,on=Lt,sn=this.computedEye,ln=this.computedMatrix;for($e=0;$e<3;++$e){var cn=tr*Be[$e]+rr*at[$e]+ar*ze[$e];ln[4*$e+1]=Lr*Be[$e]+Qr*at[$e]+on*ze[$e],ln[4*$e+2]=cn,ln[4*$e+3]=0}var un=ln[1],hn=ln[5],dn=ln[9],vn=ln[2],yn=ln[6],_n=ln[10],Mn=hn*_n-dn*yn,Cn=dn*vn-un*_n,En=un*yn-hn*vn,Pn=len3(Mn,Cn,En);Mn/=Pn,Cn/=Pn,En/=Pn,ln[0]=Mn,ln[4]=Cn,ln[8]=En;for($e=0;$e<3;++$e)sn[$e]=er[$e]+ln[2+4*$e]*it;for($e=0;$e<3;++$e){rt=0;for(var In=0;In<3;++In)rt+=ln[$e+4*In]*sn[In];ln[12+$e]=-rt}ln[15]=1},rt.getMatrix=function(Ee,ze){this.recalcMatrix(Ee);var Be=this.computedMatrix;if(ze){for(var Ue=0;Ue<16;++Ue)ze[Ue]=Be[Ue];return ze}return Be};var nt=[0,0,0];rt.rotate=function(Ee,ze,Be,Ue){if(this.angle.move(Ee,ze,Be),Ue){this.recalcMatrix(Ee);var We=this.computedMatrix;nt[0]=We[2],nt[1]=We[6],nt[2]=We[10];for(var Qe=this.computedUp,et=this.computedRight,tt=this.computedToward,rt=0;rt<3;++rt)We[4*rt]=Qe[rt],We[4*rt+1]=et[rt],We[4*rt+2]=tt[rt];$e(We,We,Ue,nt);for(rt=0;rt<3;++rt)Qe[rt]=We[4*rt],et[rt]=We[4*rt+1];this.up.set(Ee,Qe[0],Qe[1],Qe[2]),this.right.set(Ee,et[0],et[1],et[2])}},rt.pan=function(Ee,ze,Be,Ue){ze=ze||0,Be=Be||0,Ue=Ue||0,this.recalcMatrix(Ee);var We=this.computedMatrix,$e=(Math.exp(this.computedRadius[0]),We[1]),Qe=We[5],et=We[9],tt=len3($e,Qe,et);$e/=tt,Qe/=tt,et/=tt;var rt=We[0],nt=We[4],at=We[8],it=rt*$e+nt*Qe+at*et,ct=len3(rt-=$e*it,nt-=Qe*it,at-=et*it),ft=(rt/=ct)*ze+$e*Be,xt=(nt/=ct)*ze+Qe*Be,kt=(at/=ct)*ze+et*Be;this.center.move(Ee,ft,xt,kt);var Lt=Math.exp(this.computedRadius[0]);Lt=Math.max(1e-4,Lt+Ue),this.radius.set(Ee,Math.log(Lt))},rt.translate=function(Ee,ze,Be,Ue){this.center.move(Ee,ze||0,Be||0,Ue||0)},rt.setMatrix=function(Ee,ze,Be,Ue){var $e=1;"number"==typeof Be&&($e=0|Be),($e<0||$e>3)&&($e=1);var Qe=($e+2)%3;ze||(this.recalcMatrix(Ee),ze=this.computedMatrix);var et=ze[$e],tt=ze[$e+4],rt=ze[$e+8];if(Ue){var nt=Math.abs(et),at=Math.abs(tt),it=Math.abs(rt),ct=Math.max(nt,at,it);nt===ct?(et=et<0?-1:1,tt=rt=0):it===ct?(rt=rt<0?-1:1,et=tt=0):(tt=tt<0?-1:1,et=rt=0)}else{var ft=len3(et,tt,rt);et/=ft,tt/=ft,rt/=ft}var xt,kt,Lt=ze[Qe],Ut=ze[Qe+4],er=ze[Qe+8],tr=Lt*et+Ut*tt+er*rt,rr=len3(Lt-=et*tr,Ut-=tt*tr,er-=rt*tr),ar=tt*(er/=rr)-rt*(Ut/=rr),Lr=rt*(Lt/=rr)-et*er,Qr=et*Ut-tt*Lt,on=len3(ar,Lr,Qr);if(ar/=on,Lr/=on,Qr/=on,this.center.jump(Ee,Kn,Jn,Ma),this.radius.idle(Ee),this.up.jump(Ee,et,tt,rt),this.right.jump(Ee,Lt,Ut,er),2===$e){var sn=ze[1],ln=ze[5],cn=ze[9],un=sn*Lt+ln*Ut+cn*er,hn=sn*ar+ln*Lr+cn*Qr;xt=_n<0?-Math.PI/2:Math.PI/2,kt=Math.atan2(hn,un)}else{var dn=ze[2],vn=ze[6],yn=ze[10],_n=dn*et+vn*tt+yn*rt,Mn=dn*Lt+vn*Ut+yn*er,Cn=dn*ar+vn*Lr+yn*Qr;xt=Math.asin(clamp1(_n)),kt=Math.atan2(Cn,Mn)}this.angle.jump(Ee,kt,xt),this.recalcMatrix(Ee);var En=ze[2],Pn=ze[6],In=ze[10],Bn=this.computedMatrix;We(Bn,ze);var Hn=Bn[15],Kn=Bn[12]/Hn,Jn=Bn[13]/Hn,Ma=Bn[14]/Hn,Sa=Math.exp(this.computedRadius[0]);this.center.jump(Ee,Kn-En*Sa,Jn-Pn*Sa,Ma-In*Sa)},rt.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},rt.idle=function(Ee){this.center.idle(Ee),this.up.idle(Ee),this.right.idle(Ee),this.radius.idle(Ee),this.angle.idle(Ee)},rt.flush=function(Ee){this.center.flush(Ee),this.up.flush(Ee),this.right.flush(Ee),this.radius.flush(Ee),this.angle.flush(Ee)},rt.setDistance=function(Ee,ze){ze>0&&this.radius.set(Ee,Math.log(ze))},rt.lookAt=function(Ee,ze,Be,Ue){this.recalcMatrix(Ee),ze=ze||this.computedEye,Be=Be||this.computedCenter;var We=(Ue=Ue||this.computedUp)[0],$e=Ue[1],Qe=Ue[2],et=len3(We,$e,Qe);if(!(et<1e-6)){We/=et,$e/=et,Qe/=et;var tt=ze[0]-Be[0],rt=ze[1]-Be[1],nt=ze[2]-Be[2],at=len3(tt,rt,nt);if(!(at<1e-6)){tt/=at,rt/=at,nt/=at;var it=this.computedRight,ct=it[0],ft=it[1],xt=it[2],kt=We*ct+$e*ft+Qe*xt,Lt=len3(ct-=kt*We,ft-=kt*$e,xt-=kt*Qe);if(!(Lt<.01&&(Lt=len3(ct=$e*nt-Qe*rt,ft=Qe*tt-We*nt,xt=We*rt-$e*tt))<1e-6)){ct/=Lt,ft/=Lt,xt/=Lt,this.up.set(Ee,We,$e,Qe),this.right.set(Ee,ct,ft,xt),this.center.set(Ee,Be[0],Be[1],Be[2]),this.radius.set(Ee,Math.log(at));var Ut=$e*xt-Qe*ft,er=Qe*ct-We*xt,tr=We*ft-$e*ct,rr=len3(Ut,er,tr),ar=We*tt+$e*rt+Qe*nt,Lr=ct*tt+ft*rt+xt*nt,Qr=(Ut/=rr)*tt+(er/=rr)*rt+(tr/=rr)*nt,on=Math.asin(clamp1(ar)),sn=Math.atan2(Qr,Lr),ln=this.angle._state,cn=ln[ln.length-1],un=ln[ln.length-2];cn%=2*Math.PI;var hn=Math.abs(cn+2*Math.PI-sn),dn=Math.abs(cn-sn),vn=Math.abs(cn-2*Math.PI-sn);hn<dn&&(cn+=2*Math.PI),vn<dn&&(cn-=2*Math.PI),this.angle.jump(this.angle.lastT(),cn,un),this.angle.set(Ee,sn,on)}}}}},ecc5:function(Ee,ze,Be){"use strict";var Ue=Be("919e"),We=Be("a876"),$e=Be("81f0").attributes,Qe=Be("94d5").hovertemplateAttrs,et=Be("94d5").texttemplateAttrs,tt=Be("9092").extendFlat;Ee.exports={labels:Ue.labels,label0:Ue.label0,dlabel:Ue.dlabel,values:Ue.values,marker:{colors:Ue.marker.colors,line:{color:tt({},Ue.marker.line.color,{dflt:null}),width:tt({},Ue.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:Ue.text,hovertext:Ue.hovertext,scalegroup:tt({},Ue.scalegroup,{}),textinfo:tt({},Ue.textinfo,{flags:["label","text","value","percent"]}),texttemplate:et({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:tt({},We.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:Qe({},{keys:["label","color","value","text","percent"]}),textposition:tt({},Ue.textposition,{values:["inside","none"],dflt:"inside"}),textfont:Ue.textfont,insidetextfont:Ue.insidetextfont,title:{text:Ue.title.text,font:Ue.title.font,position:tt({},Ue.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:$e({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},ecf9:function(Ee,ze,Be){"use strict";Ee.exports=function(){try{return Object.keys("primitive"),!0}catch(Ee){return!1}}},ed0e:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("09bd"),$e=Be("106b"),Qe=Be("4136"),et=Be("70b4").calcMarkerSize,tt=["a","b","c"],rt={a:["b","c"],b:["a","c"],c:["a","b"]};Ee.exports=function calc(Ee,ze){var Be,nt,at,it,ct,ft,xt=Ee._fullLayout[ze.subplot].sum,kt=ze.sum||xt,Lt={a:ze.a,b:ze.b,c:ze.c};for(Be=0;Be<tt.length;Be++)if(!Lt[at=tt[Be]]){for(ct=Lt[rt[at][0]],ft=Lt[rt[at][1]],it=new Array(ct.length),nt=0;nt<ct.length;nt++)it[nt]=kt-ct[nt]-ft[nt];Lt[at]=it}var Ut,er,tr,rr,ar,Lr,Qr=ze._length,on=new Array(Qr);for(Be=0;Be<Qr;Be++)Ut=Lt.a[Be],er=Lt.b[Be],tr=Lt.c[Be],Ue(Ut)&&Ue(er)&&Ue(tr)?(1!==(rr=xt/((Ut=+Ut)+(er=+er)+(tr=+tr)))&&(Ut*=rr,er*=rr,tr*=rr),Lr=Ut,ar=tr-er,on[Be]={x:ar,y:Lr,a:Ut,b:er,c:tr}):on[Be]={x:!1,y:!1};return et(ze,Qr),We(Ee,ze),$e(on,ze),Qe(on,ze),on}},ed16:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("0642"),$e=Be("fc26"),Qe=Be("37e3");Ee.exports=function(Ee,ze,Be){function coerce(Be,Ue){return $e.coerce(Ee,ze,Qe,Be,Ue)}for(var et=!1,tt=!1,rt=!1,nt={},at=coerce("barmode"),it=0;it<Be.length;it++){var ct=Be[it];if(Ue.traceIs(ct,"bar")&&ct.visible){if(et=!0,"group"===at){var ft=ct.xaxis+ct.yaxis;nt[ft]&&(rt=!0),nt[ft]=!0}if(ct.visible&&"histogram"===ct.type)"category"!==We.getFromId({_fullLayout:ze},ct["v"===ct.orientation?"xaxis":"yaxis"]).type&&(tt=!0)}}et?("overlay"!==at&&coerce("barnorm"),coerce("bargap",tt&&!rt?0:.2),coerce("bargroupgap")):delete ze.barmode}},ed2e:function(Ee,ze){Ee.exports=function transpose(Ee,ze){if(Ee===ze){var Be=ze[1],Ue=ze[2],We=ze[3],$e=ze[6],Qe=ze[7],et=ze[11];Ee[1]=ze[4],Ee[2]=ze[8],Ee[3]=ze[12],Ee[4]=Be,Ee[6]=ze[9],Ee[7]=ze[13],Ee[8]=Ue,Ee[9]=$e,Ee[11]=ze[14],Ee[12]=We,Ee[13]=Qe,Ee[14]=et}else Ee[0]=ze[0],Ee[1]=ze[4],Ee[2]=ze[8],Ee[3]=ze[12],Ee[4]=ze[1],Ee[5]=ze[5],Ee[6]=ze[9],Ee[7]=ze[13],Ee[8]=ze[2],Ee[9]=ze[6],Ee[10]=ze[10],Ee[11]=ze[14],Ee[12]=ze[3],Ee[13]=ze[7],Ee[14]=ze[11],Ee[15]=ze[15];return Ee}},ed8d:function(Ee,ze,Be){"use strict";Ee.exports=function createGrid(Ee){var ze=Ee.gl,Be=Ue(ze),$e=We(ze,Qe.gridVert,Qe.gridFrag),et=We(ze,Qe.tickVert,Qe.gridFrag);return new Grid(Ee,Be,$e,et)};var Ue=Be("efce"),We=Be("28dd"),$e=Be("cc77"),Qe=Be("b44d");function Grid(Ee,ze,Be,Ue){this.plot=Ee,this.vbo=ze,this.shader=Be,this.tickShader=Ue,this.ticks=[[],[]]}function compareTickNum(Ee,ze){return Ee-ze}var et,tt,rt,nt,at,it=Grid.prototype;it.draw=(et=[0,0],tt=[0,0],rt=[0,0],function(){for(var Ee=this.plot,ze=this.vbo,Be=this.shader,Ue=this.ticks,We=Ee.gl,$e=Ee._tickBounds,Qe=Ee.dataBox,nt=Ee.viewBox,at=Ee.gridLineWidth,it=Ee.gridLineColor,ct=Ee.gridLineEnable,ft=Ee.pixelRatio,xt=0;xt<2;++xt){var kt=$e[xt],Lt=$e[xt+2]-kt,Ut=.5*(Qe[xt+2]+Qe[xt]),er=Qe[xt+2]-Qe[xt];tt[xt]=2*Lt/er,et[xt]=2*(kt-Ut)/er}Be.bind(),ze.bind(),Be.attributes.dataCoord.pointer(),Be.uniforms.dataShift=et,Be.uniforms.dataScale=tt;var tr=0;for(xt=0;xt<2;++xt){rt[0]=rt[1]=0,rt[xt]=1,Be.uniforms.dataAxis=rt,Be.uniforms.lineWidth=at[xt]/(nt[xt+2]-nt[xt])*ft,Be.uniforms.color=it[xt];var rr=6*Ue[xt].length;ct[xt]&&rr&&We.drawArrays(We.TRIANGLES,tr,rr),tr+=rr}}),it.drawTickMarks=function(){var Ee=[0,0],ze=[0,0],Be=[1,0],Ue=[0,1],We=[0,0],Qe=[0,0];return function(){for(var et=this.plot,tt=this.vbo,rt=this.tickShader,nt=this.ticks,at=et.gl,it=et._tickBounds,ct=et.dataBox,ft=et.viewBox,xt=et.pixelRatio,kt=et.screenBox,Lt=kt[2]-kt[0],Ut=kt[3]-kt[1],er=ft[2]-ft[0],tr=ft[3]-ft[1],rr=0;rr<2;++rr){var ar=it[rr],Lr=it[rr+2]-ar,Qr=.5*(ct[rr+2]+ct[rr]),on=ct[rr+2]-ct[rr];ze[rr]=2*Lr/on,Ee[rr]=2*(ar-Qr)/on}ze[0]*=er/Lt,Ee[0]*=er/Lt,ze[1]*=tr/Ut,Ee[1]*=tr/Ut,rt.bind(),tt.bind(),rt.attributes.dataCoord.pointer();var sn=rt.uniforms;sn.dataShift=Ee,sn.dataScale=ze;var ln=et.tickMarkLength,cn=et.tickMarkWidth,un=et.tickMarkColor,hn=6*nt[0].length,dn=Math.min($e.ge(nt[0],(ct[0]-it[0])/(it[2]-it[0]),compareTickNum),nt[0].length),vn=Math.min($e.gt(nt[0],(ct[2]-it[0])/(it[2]-it[0]),compareTickNum),nt[0].length),yn=0+6*dn,_n=6*Math.max(0,vn-dn),Mn=Math.min($e.ge(nt[1],(ct[1]-it[1])/(it[3]-it[1]),compareTickNum),nt[1].length),Cn=Math.min($e.gt(nt[1],(ct[3]-it[1])/(it[3]-it[1]),compareTickNum),nt[1].length),En=hn+6*Mn,Pn=6*Math.max(0,Cn-Mn);We[0]=2*(ft[0]-ln[1])/Lt-1,We[1]=(ft[3]+ft[1])/Ut-1,Qe[0]=ln[1]*xt/Lt,Qe[1]=cn[1]*xt/Ut,Pn&&(sn.color=un[1],sn.tickScale=Qe,sn.dataAxis=Ue,sn.screenOffset=We,at.drawArrays(at.TRIANGLES,En,Pn)),We[0]=(ft[2]+ft[0])/Lt-1,We[1]=2*(ft[1]-ln[0])/Ut-1,Qe[0]=cn[0]*xt/Lt,Qe[1]=ln[0]*xt/Ut,_n&&(sn.color=un[0],sn.tickScale=Qe,sn.dataAxis=Be,sn.screenOffset=We,at.drawArrays(at.TRIANGLES,yn,_n)),We[0]=2*(ft[2]+ln[3])/Lt-1,We[1]=(ft[3]+ft[1])/Ut-1,Qe[0]=ln[3]*xt/Lt,Qe[1]=cn[3]*xt/Ut,Pn&&(sn.color=un[3],sn.tickScale=Qe,sn.dataAxis=Ue,sn.screenOffset=We,at.drawArrays(at.TRIANGLES,En,Pn)),We[0]=(ft[2]+ft[0])/Lt-1,We[1]=2*(ft[3]+ln[2])/Ut-1,Qe[0]=cn[2]*xt/Lt,Qe[1]=ln[2]*xt/Ut,_n&&(sn.color=un[2],sn.tickScale=Qe,sn.dataAxis=Be,sn.screenOffset=We,at.drawArrays(at.TRIANGLES,yn,_n))}}(),it.update=(nt=[1,1,-1,-1,1,-1],at=[1,-1,1,1,-1,-1],function(Ee){for(var ze=Ee.ticks,Be=Ee.bounds,Ue=new Float32Array(18*(ze[0].length+ze[1].length)),We=(this.plot.zeroLineEnable,0),$e=[[],[]],Qe=0;Qe<2;++Qe)for(var et=$e[Qe],tt=ze[Qe],rt=Be[Qe],it=Be[Qe+2],ct=0;ct<tt.length;++ct){var ft=(tt[ct].x-rt)/(it-rt);et.push(ft);for(var xt=0;xt<6;++xt)Ue[We++]=ft,Ue[We++]=nt[xt],Ue[We++]=at[xt]}this.ticks=$e,this.vbo.update(Ue)}),it.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},ed98:function(Ee,ze){Ee.exports=function normalize(Ee,ze){var Be=ze[15];if(0===Be)return!1;for(var Ue=1/Be,We=0;We<16;We++)Ee[We]=ze[We]*Ue;return!0}},edf7:function(Ee,ze,Be){"use strict";var Ue=Be("3aa8"),We=Be("e1e5").processGrid,$e=Be("e1e5").filter;Ee.exports=function calc(Ee,ze){ze._len=Math.min(ze.x.length,ze.y.length,ze.z.length,ze.value.length),ze._x=$e(ze.x,ze._len),ze._y=$e(ze.y,ze._len),ze._z=$e(ze.z,ze._len),ze._value=$e(ze.value,ze._len);var Be=We(ze);ze._gridFill=Be.fill,ze._Xs=Be.Xs,ze._Ys=Be.Ys,ze._Zs=Be.Zs,ze._len=Be.len;for(var Qe=1/0,et=-1/0,tt=0;tt<ze._len;tt++){var rt=ze._value[tt];Qe=Math.min(Qe,rt),et=Math.max(et,rt)}ze._minValues=Qe,ze._maxValues=et,ze._vMin=void 0===ze.isomin||null===ze.isomin?Qe:ze.isomin,ze._vMax=void 0===ze.isomax||null===ze.isomin?et:ze.isomax,Ue(Ee,ze,{vals:[ze._vMin,ze._vMax],containerStr:"",cLetter:"c"})}},ee6b:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("c437"),Qe=Be("bc7f");Ee.exports=function style(Ee){var ze=Ue.select(Ee).selectAll("g.contour");ze.style("opacity",(function(Ee){return Ee[0].trace.opacity})),ze.each((function(Ee){var ze=Ue.select(this),Be=Ee[0].trace,$e=Be.contours,et=Be.line,tt=$e.size||1,rt=$e.start,nt="constraint"===$e.type,at=!nt&&"lines"===$e.coloring,it=!nt&&"fill"===$e.coloring,ct=at||it?Qe(Be):null;ze.selectAll("g.contourlevel").each((function(Ee){Ue.select(this).selectAll("path").call(We.lineGroupStyle,et.width,at?ct(Ee.level):et.color,et.dash)}));var ft=$e.labelfont;if(ze.selectAll("g.contourlabels text").each((function(Ee){We.font(Ue.select(this),{family:ft.family,size:ft.size,color:ft.color||(at?ct(Ee.level):et.color)})})),nt)ze.selectAll("g.contourfill path").style("fill",Be.fillcolor);else if(it){var xt;ze.selectAll("g.contourfill path").style("fill",(function(Ee){return void 0===xt&&(xt=Ee.level),ct(Ee.level+.5*tt)})),void 0===xt&&(xt=rt),ze.selectAll("g.contourbg path").style("fill",ct(xt-.5*tt))}})),$e(Ee)}},ee77:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("fc26"),Qe=Be("83d1"),et=Be("d115"),tt=Be("215c").extractOpts,rt=Be("de81"),nt=Be("a708"),at=Be("59e0").castOption;function getGradientDirection(Ee,ze){return(ze?"radial":"horizontal")+(Ee?"":"reversed")}Ee.exports=function style(Ee,ze){var Be=ze._fullLayout.legend,it="constant"===Be.itemsizing,boundLineWidth=function(Ee,ze,Be,Ue){var We;if(Ee+1)We=Ee;else{if(!(ze&&ze.width>0))return 0;We=ze.width}return it?Ue:Math.min(We,Be)};function styleBarLike(Ee,ze,Be){var $e=Ee[0].trace,Qe=$e.marker||{},tt=Qe.line||{},rt=Be?$e.visible&&$e.type===Be:We.traceIs($e,"bar"),nt=Ue.select(ze).select("g.legendpoints").selectAll("path.legend"+Be).data(rt?[Ee]:[]);nt.enter().append("path").classed("legend"+Be,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),nt.exit().remove(),nt.each((function(Ee){var ze=Ue.select(this),Be=Ee[0],We=boundLineWidth(Be.mlw,Qe.line,5,2);ze.style("stroke-width",We+"px").call(et.fill,Be.mc||Qe.color),We&&et.stroke(ze,Be.mlc||tt.color)}))}function stylePieLike(Ee,ze,Be){var Qe=Ee[0],et=Qe.trace,tt=Be?et.visible&&et.type===Be:We.traceIs(et,Be),rt=Ue.select(ze).select("g.legendpoints").selectAll("path.legend"+Be).data(tt?[Ee]:[]);if(rt.enter().append("path").classed("legend"+Be,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),rt.exit().remove(),rt.size()){var it=(et.marker||{}).line,ct=boundLineWidth(at(it.width,Qe.pts),it,5,2),ft=$e.minExtend(et,{marker:{line:{width:ct}}});ft.marker.line.color=it.color;var xt=$e.minExtend(Qe,{trace:ft});nt(rt,xt,ft)}}Ee.each((function(Ee){var ze=Ue.select(this),We=$e.ensureSingle(ze,"g","layers");We.style("opacity",Ee[0].trace.opacity);var Qe=Be.valign,et=Ee[0].lineHeight,tt=Ee[0].height;if("middle"!==Qe&&et&&tt){var rt={top:1,bottom:-1}[Qe]*(.5*(et-tt+3));We.attr("transform","translate(0,"+rt+")")}else We.attr("transform",null);We.selectAll("g.legendfill").data([Ee]).enter().append("g").classed("legendfill",!0),We.selectAll("g.legendlines").data([Ee]).enter().append("g").classed("legendlines",!0);var nt=We.selectAll("g.legendsymbols").data([Ee]);nt.enter().append("g").classed("legendsymbols",!0),nt.selectAll("g.legendpoints").data([Ee]).enter().append("g").classed("legendpoints",!0)})).each((function styleSpatial(Ee){var Be,We=Ee[0].trace,rt=[];if(We.visible)switch(We.type){case"histogram2d":case"heatmap":rt=[["M-15,-2V4H15V-2Z"]],Be=!0;break;case"choropleth":case"choroplethmapbox":rt=[["M-6,-6V6H6V-6Z"]],Be=!0;break;case"densitymapbox":rt=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Be="radial";break;case"cone":rt=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Be=!1;break;case"streamtube":rt=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Be=!1;break;case"surface":rt=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Be=!0;break;case"mesh3d":rt=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Be=!1;break;case"volume":rt=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Be=!0;break;case"isosurface":rt=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Be=!1}var nt=Ue.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(rt);nt.enter().append("path").classed("legend3dandfriends",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),nt.exit().remove(),nt.each((function(Ee,rt){var nt,at=Ue.select(this),it=tt(We),ct=it.colorscale,ft=it.reversescale;if(ct){if(!Be){var xt=ct.length;nt=0===rt?ct[ft?xt-1:0][1]:1===rt?ct[ft?0:xt-1][1]:ct[Math.floor((xt-1)/2)][1]}}else{var kt=We.vertexcolor||We.facecolor||We.color;nt=$e.isArrayOrTypedArray(kt)?kt[rt]||kt[0]:kt}at.attr("d",Ee[0]),nt?at.call(et.fill,nt):at.call((function(Ee){if(Ee.size()){var Ue="legendfill-"+We.uid;Qe.gradient(Ee,ze,Ue,getGradientDirection(ft,"radial"===Be),ct,"fill")}}))}))})).each((function styleWaterfalls(Ee){var ze=Ee[0].trace,Be=[];ze.visible&&"waterfall"===ze.type&&(Be=Ee[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var We=Ue.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Be);We.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),We.exit().remove(),We.each((function(Ee){var Be=Ue.select(this),We=ze[Ee[0]].marker,$e=boundLineWidth(void 0,We.line,5,2);Be.attr("d",Ee[1]).style("stroke-width",$e+"px").call(et.fill,We.color),$e&&Be.call(et.stroke,We.line.color)}))})).each((function styleFunnels(Ee){styleBarLike(Ee,this,"funnel")})).each((function styleBars(Ee){styleBarLike(Ee,this)})).each((function styleBoxes(Ee){var Be=Ee[0].trace,tt=Ue.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Be.visible&&We.traceIs(Be,"box-violin")?[Ee]:[]);tt.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),tt.exit().remove(),tt.each((function(){var Ee=Ue.select(this);if("all"!==Be.boxpoints&&"all"!==Be.points||0!==et.opacity(Be.fillcolor)||0!==et.opacity((Be.line||{}).color)){var We=boundLineWidth(void 0,Be.line,5,2);Ee.style("stroke-width",We+"px").call(et.fill,Be.fillcolor),We&&et.stroke(Ee,Be.line.color)}else{var rt=$e.minExtend(Be,{marker:{size:it?12:$e.constrain(Be.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});tt.call(Qe.pointStyle,rt,ze)}}))})).each((function styleFunnelareas(Ee){stylePieLike(Ee,this,"funnelarea")})).each((function stylePies(Ee){stylePieLike(Ee,this,"pie")})).each((function styleLines(Ee){var Be,We,et=Ee[0],nt=et.trace,at=nt.visible&&nt.fill&&"none"!==nt.fill,it=rt.hasLines(nt),ct=nt.contours,ft=!1,xt=!1,kt=tt(nt),Lt=kt.colorscale,Ut=kt.reversescale;if(ct){var er=ct.coloring;"lines"===er?ft=!0:it="none"===er||"heatmap"===er||ct.showlines,"constraint"===ct.type?at="="!==ct._operation:"fill"!==er&&"heatmap"!==er||(xt=!0)}var tr=rt.hasMarkers(nt)||rt.hasText(nt),rr=at||xt,ar=it||ft,Lr=tr||!rr?"M5,0":ar?"M5,-2":"M5,-3",Qr=Ue.select(this),on=Qr.select(".legendfill").selectAll("path").data(at||xt?[Ee]:[]);if(on.enter().append("path").classed("js-fill",!0),on.exit().remove(),on.attr("d",Lr+"h30v6h-30z").call(at?Qe.fillGroupStyle:function(Ee){if(Ee.size()){var Be="legendfill-"+nt.uid;Qe.gradient(Ee,ze,Be,getGradientDirection(Ut),Lt,"fill")}}),it||ft){var sn=boundLineWidth(void 0,nt.line,10,5);We=$e.minExtend(nt,{line:{width:sn}}),Be=[$e.minExtend(et,{trace:We})]}var ln=Qr.select(".legendlines").selectAll("path").data(it||ft?[Be]:[]);ln.enter().append("path").classed("js-line",!0),ln.exit().remove(),ln.attr("d",Lr+(ft?"l30,0.0001":"h30")).call(it?Qe.lineGroupStyle:function(Ee){if(Ee.size()){var Be="legendline-"+nt.uid;Qe.lineGroupStyle(Ee),Qe.gradient(Ee,ze,Be,getGradientDirection(Ut),Lt,"stroke")}})})).each((function stylePoints(Ee){var Be,We,et=Ee[0],tt=et.trace,nt=rt.hasMarkers(tt),at=rt.hasText(tt),ct=rt.hasLines(tt);function boundVal(Ee,ze,Be,Ue){var We=$e.nestedProperty(tt,Ee).get(),Qe=$e.isArrayOrTypedArray(We)&&ze?ze(We):We;if(it&&Qe&&void 0!==Ue&&(Qe=Ue),Be){if(Qe<Be[0])return Be[0];if(Qe>Be[1])return Be[1]}return Qe}function pickFirst(Ee){return Ee[0]}if(nt||at||ct){var ft={},xt={};if(nt){ft.mc=boundVal("marker.color",pickFirst),ft.mx=boundVal("marker.symbol",pickFirst),ft.mo=boundVal("marker.opacity",$e.mean,[.2,1]),ft.mlc=boundVal("marker.line.color",pickFirst),ft.mlw=boundVal("marker.line.width",$e.mean,[0,5],2),xt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var kt=boundVal("marker.size",$e.mean,[2,16],12);ft.ms=kt,xt.marker.size=kt}ct&&(xt.line={width:boundVal("line.width",pickFirst,[0,10],5)}),at&&(ft.tx="Aa",ft.tp=boundVal("textposition",pickFirst),ft.ts=10,ft.tc=boundVal("textfont.color",pickFirst),ft.tf=boundVal("textfont.family",pickFirst)),Be=[$e.minExtend(et,ft)],(We=$e.minExtend(tt,xt)).selectedpoints=null,We.texttemplate=null}var Lt=Ue.select(this).select("g.legendpoints"),Ut=Lt.selectAll("path.scatterpts").data(nt?Be:[]);Ut.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),Ut.exit().remove(),Ut.call(Qe.pointStyle,We,ze),nt&&(Be[0].mrc=3);var er=Lt.selectAll("g.pointtext").data(at?Be:[]);er.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),er.exit().remove(),er.selectAll("text").call(Qe.textPointStyle,We,ze)})).each((function styleCandles(Ee){var ze=Ee[0].trace,Be=Ue.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(ze.visible&&"candlestick"===ze.type?[Ee,Ee]:[]);Be.enter().append("path").classed("legendcandle",!0).attr("d",(function(Ee,ze){return ze?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),Be.exit().remove(),Be.each((function(Ee,Be){var We=Ue.select(this),$e=ze[Be?"increasing":"decreasing"],Qe=boundLineWidth(void 0,$e.line,5,2);We.style("stroke-width",Qe+"px").call(et.fill,$e.fillcolor),Qe&&et.stroke(We,$e.line.color)}))})).each((function styleOHLC(Ee){var ze=Ee[0].trace,Be=Ue.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(ze.visible&&"ohlc"===ze.type?[Ee,Ee]:[]);Be.enter().append("path").classed("legendohlc",!0).attr("d",(function(Ee,ze){return ze?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),Be.exit().remove(),Be.each((function(Ee,Be){var We=Ue.select(this),$e=ze[Be?"increasing":"decreasing"],tt=boundLineWidth(void 0,$e.line,5,2);We.style("fill","none").call(Qe.dashLine,$e.line.dash,tt),tt&&et.stroke(We,$e.line.color)}))}))}},ee92:function(Ee,ze,Be){"use strict";var Ue=Be("7e25").EventEmitter,We=Be("371e"),$e=Be("fc26"),Qe=Be("4248"),et=Be("d18e"),tt=Be("cb04"),rt=Be("4ebd");Ee.exports=function toImage(Ee,ze){var Be=new Ue,nt=et(Ee,{format:"png"}),at=nt.gd;at.style.position="absolute",at.style.left="-5000px",document.body.appendChild(at);var it=Qe.getRedrawFunc(at);return We.call("plot",at,nt.data,nt.layout,nt.config).then(it).then((function wait(){var Ee=Qe.getDelay(at._fullLayout);setTimeout((function(){var Ee=tt(at),Ue=document.createElement("canvas");Ue.id=$e.randstr(),(Be=rt({format:ze.format,width:at._fullLayout.width,height:at._fullLayout.height,canvas:Ue,emitter:Be,svg:Ee})).clean=function(){at&&document.body.removeChild(at)}}),Ee)})).catch((function(Ee){Be.emit("error",Ee)})),Be}},eeb3:function(Ee,ze,Be){"use strict";var Ue=Be("e639");Ee.exports={moduleType:"component",name:Ue.name,layoutAttributes:Be("9c5f"),supplyLayoutDefaults:Be("7210"),draw:Be("f103")}},eec7:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26").isArray1D,$e=Be("4eee"),Qe=Be("7a4a"),et=Be("7fbb"),tt=Be("8b79"),rt=Be("d577"),nt=Be("1b6a"),at=Be("25f9"),it=Be("d064"),ct=Be("dfb0");Ee.exports=function calc(Ee,ze){var Be=Ue.getFromId(Ee,ze.xaxis),ft=Ue.getFromId(Ee,ze.yaxis),xt=ze.aaxis,kt=ze.baxis,Lt=ze.x,Ut=ze.y,er=[];Lt&&We(Lt)&&er.push("x"),Ut&&We(Ut)&&er.push("y"),er.length&&it(ze,xt,kt,"a","b",er);var tr=ze._a=ze._a||ze.a,rr=ze._b=ze._b||ze.b;Lt=ze._x||ze.x,Ut=ze._y||ze.y;var ar={};if(ze._cheater){var Lr="index"===xt.cheatertype?tr.length:tr,Qr="index"===kt.cheatertype?rr.length:rr;Lt=$e(Lr,Qr,ze.cheaterslope)}ze._x=Lt=nt(Lt),ze._y=Ut=nt(Ut),at(Lt,tr,rr),at(Ut,tr,rr),ct(ze),ze.setScale();var on=Qe(Lt),sn=Qe(Ut),ln=.5*(on[1]-on[0]),cn=.5*(on[1]+on[0]),un=.5*(sn[1]-sn[0]),hn=.5*(sn[1]+sn[0]);return on=[cn-1.3*ln,cn+1.3*ln],sn=[hn-1.3*un,hn+1.3*un],ze._extremes[Be._id]=Ue.findExtremes(Be,on,{padded:!0}),ze._extremes[ft._id]=Ue.findExtremes(ft,sn,{padded:!0}),et(ze,"a","b"),et(ze,"b","a"),tt(ze,xt),tt(ze,kt),ar.clipsegments=rt(ze._xctrl,ze._yctrl,xt,kt),ar.x=Lt,ar.y=Ut,ar.a=tr,ar.b=rr,[ar]}},ef33:function(Ee,ze,Be){"use strict";Ee.exports=function makeControlPoints(Ee,ze,Be,Ue){var We=Ee[0]-ze[0],$e=Ee[1]-ze[1],Qe=Be[0]-ze[0],et=Be[1]-ze[1],tt=Math.pow(We*We+$e*$e,.25),rt=Math.pow(Qe*Qe+et*et,.25),nt=(rt*rt*We-tt*tt*Qe)*Ue,at=(rt*rt*$e-tt*tt*et)*Ue,it=rt*(tt+rt)*3,ct=tt*(tt+rt)*3;return[[ze[0]+(it&&nt/it),ze[1]+(it&&at/it)],[ze[0]-(ct&&nt/ct),ze[1]-(ct&&at/ct)]]}},ef49:function(Ee,ze){Ee.exports=function multiply(Ee,ze,Be){return Ee[0]=ze[0]*Be[0],Ee[1]=ze[1]*Be[1],Ee[2]=ze[2]*Be[2],Ee}},ef6e:function(Ee,ze,Be){"use strict";Ee.exports=function selectPoints(Ee,ze){var Be,Ue,We,$e,Qe,et=Ee.cd,tt=Ee.xaxis,rt=Ee.yaxis,nt=[];if(!1===ze)for(Be=0;Be<et.length;Be++)et[Be].selected=0;else for(Be=0;Be<et.length;Be++)(We=(Ue=et[Be]).ct)&&($e=tt.c2p(We),Qe=rt.c2p(We),ze.contains([$e,Qe],null,Be,Ee)?(nt.push({pointNumber:Be,lon:We[0],lat:We[1]}),Ue.selected=1):Ue.selected=0);return nt}},ef7a:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee){return Ee=Number(Ee),isNaN(Ee)||0===Ee?Ee:Ee>0?1:-1}},efaa:function(Ee,ze,Be){"use strict";Ee.exports=function makePath(Ee,ze,Be){if(0===Ee.length)return"";var Ue,We=[],$e=Be?3:1;for(Ue=0;Ue<Ee.length;Ue+=$e)We.push(Ee[Ue]+","+ze[Ue]),Be&&Ue<Ee.length-$e&&(We.push("C"),We.push([Ee[Ue+1]+","+ze[Ue+1],Ee[Ue+2]+","+ze[Ue+2]+" "].join(" ")));return We.join(Be?"":"L")}},efcd:function(Ee,ze,Be){"use strict";var Ue=Be("391b");function makeHoverPointText(Ee,ze,Be,Ue){var We=Be.radialAxis,$e=Be.angularAxis;We._hovertitle="r",$e._hovertitle="θ";var Qe={};Qe[ze.subplot]={_subplot:Be};var et=ze._module.formatLabels(Ee,ze,Qe);Ue.rLabel=et.rLabel,Ue.thetaLabel=et.thetaLabel;var tt=Ee.hi||ze.hoverinfo,rt=[];function textPart(Ee,ze){rt.push(Ee._hovertitle+": "+ze)}if(!ze.hovertemplate){var nt=tt.split("+");-1!==nt.indexOf("all")&&(nt=["r","theta","text"]),-1!==nt.indexOf("r")&&textPart(We,Ue.rLabel),-1!==nt.indexOf("theta")&&textPart($e,Ue.thetaLabel),-1!==nt.indexOf("text")&&Ue.text&&(rt.push(Ue.text),delete Ue.text),Ue.extraText=rt.join("<br>")}}Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,We){var $e=Ue(Ee,ze,Be,We);if($e&&!1!==$e[0].index){var Qe=$e[0];if(void 0===Qe.index)return $e;var et=Ee.subplot,tt=Qe.cd[Qe.index],rt=Qe.trace;if(et.isPtInside(tt))return Qe.xLabelVal=void 0,Qe.yLabelVal=void 0,makeHoverPointText(tt,rt,et,Qe),Qe.hovertemplate=rt.hovertemplate,$e}},makeHoverPointText:makeHoverPointText}},efce:function(Ee,ze,Be){"use strict";var Ue=Be("cea5"),We=Be("62d6"),$e=Be("b5bb"),Qe=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function GLBuffer(Ee,ze,Be,Ue,We){this.gl=Ee,this.type=ze,this.handle=Be,this.length=Ue,this.usage=We}var et=GLBuffer.prototype;function updateTypeArray(Ee,ze,Be,Ue,We,$e){var Qe=We.length*We.BYTES_PER_ELEMENT;if($e<0)return Ee.bufferData(ze,We,Ue),Qe;if(Qe+$e>Be)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return Ee.bufferSubData(ze,$e,We),Be}function makeScratchTypeArray(Ee,ze){for(var Be=Ue.malloc(Ee.length,ze),We=Ee.length,$e=0;$e<We;++$e)Be[$e]=Ee[$e];return Be}et.bind=function(){this.gl.bindBuffer(this.type,this.handle)},et.unbind=function(){this.gl.bindBuffer(this.type,null)},et.dispose=function(){this.gl.deleteBuffer(this.handle)},et.update=function(Ee,ze){if("number"!=typeof ze&&(ze=-1),this.bind(),"object"==typeof Ee&&void 0!==Ee.shape){var Be=Ee.dtype;if(Qe.indexOf(Be)<0&&(Be="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER)Be=gl.getExtension("OES_element_index_uint")&&"uint16"!==Be?"uint32":"uint16";if(Be===Ee.dtype&&function isPacked(Ee,ze){for(var Be=1,Ue=ze.length-1;Ue>=0;--Ue){if(ze[Ue]!==Be)return!1;Be*=Ee[Ue]}return!0}(Ee.shape,Ee.stride))0===Ee.offset&&Ee.data.length===Ee.shape[0]?this.length=updateTypeArray(this.gl,this.type,this.length,this.usage,Ee.data,ze):this.length=updateTypeArray(this.gl,this.type,this.length,this.usage,Ee.data.subarray(Ee.offset,Ee.shape[0]),ze);else{var et=Ue.malloc(Ee.size,Be),tt=$e(et,Ee.shape);We.assign(tt,Ee),this.length=updateTypeArray(this.gl,this.type,this.length,this.usage,ze<0?et:et.subarray(0,Ee.size),ze),Ue.free(et)}}else if(Array.isArray(Ee)){var rt;rt=this.type===this.gl.ELEMENT_ARRAY_BUFFER?makeScratchTypeArray(Ee,"uint16"):makeScratchTypeArray(Ee,"float32"),this.length=updateTypeArray(this.gl,this.type,this.length,this.usage,ze<0?rt:rt.subarray(0,Ee.length),ze),Ue.free(rt)}else if("object"==typeof Ee&&"number"==typeof Ee.length)this.length=updateTypeArray(this.gl,this.type,this.length,this.usage,Ee,ze);else{if("number"!=typeof Ee&&void 0!==Ee)throw new Error("gl-buffer: Invalid data type");if(ze>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(Ee|=0)<=0&&(Ee=1),this.gl.bufferData(this.type,0|Ee,this.usage),this.length=Ee}},Ee.exports=function createBuffer(Ee,ze,Be,Ue){if(Be=Be||Ee.ARRAY_BUFFER,Ue=Ue||Ee.DYNAMIC_DRAW,Be!==Ee.ARRAY_BUFFER&&Be!==Ee.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(Ue!==Ee.DYNAMIC_DRAW&&Ue!==Ee.STATIC_DRAW&&Ue!==Ee.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var We=Ee.createBuffer(),$e=new GLBuffer(Ee,Be,We,0,Ue);return $e.update(ze),$e}},f027:function(Ee,ze,Be){"use strict";var Ue=Be("e7bd"),We=Be("d115").addOpacity,$e=Be("371e"),Qe=Be("fc26"),et=Be("d92f"),tt=Be("5008"),rt=Be("d18b"),nt=Be("1a40"),at=Be("0b77");Ee.exports=function handleAxisDefaults(Ee,ze,Be){var it=Be.letter,ct=Be.font||{},ft=Ue[it+"axis"];function coerce(Be,Ue){return Qe.coerce(Ee,ze,ft,Be,Ue)}function coerce2(Be,Ue){return Qe.coerce2(Ee,ze,ft,Be,Ue)}Be.name&&(ze._name=Be.name,ze._id=Be.name);var xt=coerce("type");("-"===xt&&(Be.data&&function setAutoType(Ee,ze){if("-"!==Ee.type)return;var Be=Ee._id.charAt(0),Ue=Ee[Be+"calendar"];Ee.type=at(ze,Ue)}(ze,Be.data),"-"===ze.type?ze.type="linear":xt=Ee.type=ze.type),coerce("smoothing"),coerce("cheatertype"),coerce("showticklabels"),coerce("labelprefix",it+" = "),coerce("labelsuffix"),coerce("showtickprefix"),coerce("showticksuffix"),coerce("separatethousands"),coerce("tickformat"),coerce("exponentformat"),coerce("showexponent"),coerce("categoryorder"),coerce("tickmode"),coerce("tickvals"),coerce("ticktext"),coerce("tick0"),coerce("dtick"),"array"===ze.tickmode&&(coerce("arraytick0"),coerce("arraydtick")),coerce("labelpadding"),ze._hovertitle=it,"date"===xt)&&$e.getComponentMethod("calendars","handleDefaults")(Ee,ze,"calendar",Be.calendar);nt(ze,Be.fullLayout),ze.c2p=Qe.identity;var kt=coerce("color",Be.dfltColor),Lt=kt===Ee.color?kt:ct.color;coerce("title.text")&&(Qe.coerceFont(coerce,"title.font",{family:ct.family,size:Math.round(1.2*ct.size),color:Lt}),coerce("title.offset")),coerce("tickangle"),coerce("autorange",!ze.isValidRange(Ee.range))&&coerce("rangemode"),coerce("range"),ze.cleanRange(),coerce("fixedrange"),et(Ee,ze,coerce,xt),tt(Ee,ze,coerce,xt,Be),rt(Ee,ze,coerce,{data:Be.data,dataAttr:it});var Ut=coerce2("gridcolor",We(kt,.3)),er=coerce2("gridwidth"),tr=coerce("showgrid");tr||(delete ze.gridcolor,delete ze.gridwidth);var rr=coerce2("startlinecolor",kt),ar=coerce2("startlinewidth",er);coerce("startline",ze.showgrid||!!rr||!!ar)||(delete ze.startlinecolor,delete ze.startlinewidth);var Lr=coerce2("endlinecolor",kt),Qr=coerce2("endlinewidth",er);return coerce("endline",ze.showgrid||!!Lr||!!Qr)||(delete ze.endlinecolor,delete ze.endlinewidth),tr?(coerce("minorgridcount"),coerce("minorgridwidth",er),coerce("minorgridcolor",We(Ut,.06)),ze.minorgridcount||(delete ze.minorgridwidth,delete ze.minorgridcolor)):(delete ze.gridcolor,delete ze.gridWidth),"none"===ze.showticklabels&&(delete ze.tickfont,delete ze.tickangle,delete ze.showexponent,delete ze.exponentformat,delete ze.tickformat,delete ze.showticksuffix,delete ze.showtickprefix),ze.showticksuffix||delete ze.ticksuffix,ze.showtickprefix||delete ze.tickprefix,coerce("tickmode"),ze}},f09f:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze,Be){return ze&&Be?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt,nt,at;ze||(ze=[]),Be*=3,Ue*=3;var it=We*We,ct=1-We,ft=ct*ct,xt=ct*We*2,kt=-3*ft,Lt=3*(ft-xt),Ut=3*(xt-it),er=3*it,tr=$e*$e,rr=tr*$e,ar=1-$e,Lr=ar*ar,Qr=Lr*ar;for(at=0;at<Ee.length;at++)Qe=kt*(nt=Ee[at])[Ue][Be]+Lt*nt[Ue][Be+1]+Ut*nt[Ue][Be+2]+er*nt[Ue][Be+3],et=kt*nt[Ue+1][Be]+Lt*nt[Ue+1][Be+1]+Ut*nt[Ue+1][Be+2]+er*nt[Ue+1][Be+3],tt=kt*nt[Ue+2][Be]+Lt*nt[Ue+2][Be+1]+Ut*nt[Ue+2][Be+2]+er*nt[Ue+2][Be+3],rt=kt*nt[Ue+3][Be]+Lt*nt[Ue+3][Be+1]+Ut*nt[Ue+3][Be+2]+er*nt[Ue+3][Be+3],ze[at]=Qr*Qe+3*(Lr*$e*et+ar*tr*tt)+rr*rt;return ze}:ze?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt;ze||(ze=[]),Be*=3;var nt=We*We,at=1-We,it=at*at,ct=at*We*2,ft=-3*it,xt=3*(it-ct),kt=3*(ct-nt),Lt=3*nt,Ut=1-$e;for(tt=0;tt<Ee.length;tt++)Qe=ft*(rt=Ee[tt])[Ue][Be]+xt*rt[Ue][Be+1]+kt*rt[Ue][Be+2]+Lt*rt[Ue][Be+3],et=ft*rt[Ue+1][Be]+xt*rt[Ue+1][Be+1]+kt*rt[Ue+1][Be+2]+Lt*rt[Ue+1][Be+3],ze[tt]=Ut*Qe+$e*et;return ze}:Be?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt,nt,at;ze||(ze=[]),Ue*=3;var it=$e*$e,ct=it*$e,ft=1-$e,xt=ft*ft,kt=xt*ft;for(nt=0;nt<Ee.length;nt++)Qe=(at=Ee[nt])[Ue][Be+1]-at[Ue][Be],et=at[Ue+1][Be+1]-at[Ue+1][Be],tt=at[Ue+2][Be+1]-at[Ue+2][Be],rt=at[Ue+3][Be+1]-at[Ue+3][Be],ze[nt]=kt*Qe+3*(xt*$e*et+ft*it*tt)+ct*rt;return ze}:function(ze,Be,Ue,We,$e){var Qe,et,tt,rt;ze||(ze=[]);var nt=1-$e;for(tt=0;tt<Ee.length;tt++)Qe=(rt=Ee[tt])[Ue][Be+1]-rt[Ue][Be],et=rt[Ue+1][Be+1]-rt[Ue+1][Be],ze[tt]=nt*Qe+$e*et;return ze}}},f103:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("bb71"),$e=Be("d115"),Qe=Be("83d1"),et=Be("fc26"),tt=Be("0379"),rt=Be("a651").arrayEditor,nt=Be("e639"),at=Be("63dc"),it=at.LINE_SPACING,ct=at.FROM_TL,ft=at.FROM_BR;function autoMarginId(Ee){return nt.autoMarginIdRoot+Ee._index}function keyFunction(Ee){return Ee._index}function findDimensions(Ee,ze){var Be=Qe.tester.selectAll("g."+nt.labelGroupClass).data(ze._visibleSteps);Be.enter().append("g").classed(nt.labelGroupClass,!0);var $e=0,rt=0;Be.each((function(Ee){var Be=drawLabel(Ue.select(this),{step:Ee},ze).node();if(Be){var We=Qe.bBox(Be);rt=Math.max(rt,We.height),$e=Math.max($e,We.width)}})),Be.remove();var at=ze._dims={};at.inputAreaWidth=Math.max(nt.railWidth,nt.gripHeight);var it=Ee._fullLayout._size;at.lx=it.l+it.w*ze.x,at.ly=it.t+it.h*(1-ze.y),"fraction"===ze.lenmode?at.outerLength=Math.round(it.w*ze.len):at.outerLength=ze.len,at.inputAreaStart=0,at.inputAreaLength=Math.round(at.outerLength-ze.pad.l-ze.pad.r);var xt=(at.inputAreaLength-2*nt.stepInset)/(ze._stepCount-1),kt=$e+nt.labelPadding;if(at.labelStride=Math.max(1,Math.ceil(kt/xt)),at.labelHeight=rt,at.currentValueMaxWidth=0,at.currentValueHeight=0,at.currentValueTotalHeight=0,at.currentValueMaxLines=1,ze.currentvalue.visible){var Lt=Qe.tester.append("g");Be.each((function(Ee){var Be=drawCurrentValue(Lt,ze,Ee.label),Ue=Be.node()&&Qe.bBox(Be.node())||{width:0,height:0},We=tt.lineCount(Be);at.currentValueMaxWidth=Math.max(at.currentValueMaxWidth,Math.ceil(Ue.width)),at.currentValueHeight=Math.max(at.currentValueHeight,Math.ceil(Ue.height)),at.currentValueMaxLines=Math.max(at.currentValueMaxLines,We)})),at.currentValueTotalHeight=at.currentValueHeight+ze.currentvalue.offset,Lt.remove()}at.height=at.currentValueTotalHeight+nt.tickOffset+ze.ticklen+nt.labelOffset+at.labelHeight+ze.pad.t+ze.pad.b;var Ut="left";et.isRightAnchor(ze)&&(at.lx-=at.outerLength,Ut="right"),et.isCenterAnchor(ze)&&(at.lx-=at.outerLength/2,Ut="center");var er="top";et.isBottomAnchor(ze)&&(at.ly-=at.height,er="bottom"),et.isMiddleAnchor(ze)&&(at.ly-=at.height/2,er="middle"),at.outerLength=Math.ceil(at.outerLength),at.height=Math.ceil(at.height),at.lx=Math.round(at.lx),at.ly=Math.round(at.ly);var tr={y:ze.y,b:at.height*ft[er],t:at.height*ct[er]};"fraction"===ze.lenmode?(tr.l=0,tr.xl=ze.x-ze.len*ct[Ut],tr.r=0,tr.xr=ze.x+ze.len*ft[Ut]):(tr.x=ze.x,tr.l=at.outerLength*ct[Ut],tr.r=at.outerLength*ft[Ut]),We.autoMargin(Ee,autoMarginId(ze),tr)}function drawCurrentValue(Ee,ze,Be){if(ze.currentvalue.visible){var Ue,We,$e=ze._dims;switch(ze.currentvalue.xanchor){case"right":Ue=$e.inputAreaLength-nt.currentValueInset-$e.currentValueMaxWidth,We="left";break;case"center":Ue=.5*$e.inputAreaLength,We="middle";break;default:Ue=nt.currentValueInset,We="left"}var rt=et.ensureSingle(Ee,"text",nt.labelClass,(function(Ee){Ee.classed("user-select-none",!0).attr({"text-anchor":We,"data-notex":1})})),at=ze.currentvalue.prefix?ze.currentvalue.prefix:"";if("string"==typeof Be)at+=Be;else{var ct=ze.steps[ze.active].label,ft=ze._gd._fullLayout._meta;ft&&(ct=et.templateString(ct,ft)),at+=ct}ze.currentvalue.suffix&&(at+=ze.currentvalue.suffix),rt.call(Qe.font,ze.currentvalue.font).text(at).call(tt.convertToTspans,ze._gd);var xt=tt.lineCount(rt),kt=($e.currentValueMaxLines+1-xt)*ze.currentvalue.font.size*it;return tt.positionText(rt,Ue,kt),rt}}function drawGrip(Ee,ze,Be){et.ensureSingle(Ee,"rect",nt.gripRectClass,(function(Ue){Ue.call(attachGripEvents,ze,Ee,Be).style("pointer-events","all")})).attr({width:nt.gripWidth,height:nt.gripHeight,rx:nt.gripRadius,ry:nt.gripRadius}).call($e.stroke,Be.bordercolor).call($e.fill,Be.bgcolor).style("stroke-width",Be.borderwidth+"px")}function drawLabel(Ee,ze,Be){var Ue=et.ensureSingle(Ee,"text",nt.labelClass,(function(Ee){Ee.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})})),We=ze.step.label,$e=Be._gd._fullLayout._meta;return $e&&(We=et.templateString(We,$e)),Ue.call(Qe.font,Be.font).text(We).call(tt.convertToTspans,Be._gd),Ue}function drawLabelGroup(Ee,ze){var Be=et.ensureSingle(Ee,"g",nt.labelsClass),We=ze._dims,$e=Be.selectAll("g."+nt.labelGroupClass).data(We.labelSteps);$e.enter().append("g").classed(nt.labelGroupClass,!0),$e.exit().remove(),$e.each((function(Ee){var Be=Ue.select(this);Be.call(drawLabel,Ee,ze),Qe.setTranslate(Be,normalizedValueToPosition(ze,Ee.fraction),nt.tickOffset+ze.ticklen+ze.font.size*it+nt.labelOffset+We.currentValueTotalHeight)}))}function handleInput(Ee,ze,Be,Ue,We){var $e=Math.round(Ue*(Be._stepCount-1)),Qe=Be._visibleSteps[$e]._index;Qe!==Be.active&&setActive(Ee,ze,Be,Qe,!0,We)}function setActive(Ee,ze,Be,Ue,$e,Qe){var et=Be.active;Be.active=Ue,rt(Ee.layout,nt.name,Be).applyUpdate("active",Ue);var tt=Be.steps[Be.active];ze.call(setGripPosition,Be,Qe),ze.call(drawCurrentValue,Be),Ee.emit("plotly_sliderchange",{slider:Be,step:Be.steps[Be.active],interaction:$e,previousActive:et}),tt&&tt.method&&$e&&(ze._nextMethod?(ze._nextMethod.step=tt,ze._nextMethod.doCallback=$e,ze._nextMethod.doTransition=Qe):(ze._nextMethod={step:tt,doCallback:$e,doTransition:Qe},ze._nextMethodRaf=window.requestAnimationFrame((function(){var Be=ze._nextMethod.step;Be.method&&(Be.execute&&We.executeAPICommand(Ee,Be.method,Be.args),ze._nextMethod=null,ze._nextMethodRaf=null)}))))}function attachGripEvents(Ee,ze,Be){var We=Be.node(),Qe=Ue.select(ze);function getSliderOpts(){return Be.data()[0]}Ee.on("mousedown",(function(){var Ee=getSliderOpts();ze.emit("plotly_sliderstart",{slider:Ee});var et=Be.select("."+nt.gripRectClass);Ue.event.stopPropagation(),Ue.event.preventDefault(),et.call($e.fill,Ee.activebgcolor);var tt=positionToNormalizedValue(Ee,Ue.mouse(We)[0]);handleInput(ze,Be,Ee,tt,!0),Ee._dragging=!0,Qe.on("mousemove",(function(){var Ee=getSliderOpts(),$e=positionToNormalizedValue(Ee,Ue.mouse(We)[0]);handleInput(ze,Be,Ee,$e,!1)})),Qe.on("mouseup",(function(){var Ee=getSliderOpts();Ee._dragging=!1,et.call($e.fill,Ee.bgcolor),Qe.on("mouseup",null),Qe.on("mousemove",null),ze.emit("plotly_sliderend",{slider:Ee,step:Ee.steps[Ee.active]})}))}))}function drawTicks(Ee,ze){var Be=Ee.selectAll("rect."+nt.tickRectClass).data(ze._visibleSteps),We=ze._dims;Be.enter().append("rect").classed(nt.tickRectClass,!0),Be.exit().remove(),Be.attr({width:ze.tickwidth+"px","shape-rendering":"crispEdges"}),Be.each((function(Ee,Be){var et=Be%We.labelStride==0,tt=Ue.select(this);tt.attr({height:et?ze.ticklen:ze.minorticklen}).call($e.fill,ze.tickcolor),Qe.setTranslate(tt,normalizedValueToPosition(ze,Be/(ze._stepCount-1))-.5*ze.tickwidth,(et?nt.tickOffset:nt.minorTickOffset)+We.currentValueTotalHeight)}))}function setGripPosition(Ee,ze,Be){for(var Ue=Ee.select("rect."+nt.gripRectClass),We=0,$e=0;$e<ze._stepCount;$e++)if(ze._visibleSteps[$e]._index===ze.active){We=$e;break}var Qe=normalizedValueToPosition(ze,We/(ze._stepCount-1));if(!ze._invokingCommand){var et=Ue;Be&&ze.transition.duration>0&&(et=et.transition().duration(ze.transition.duration).ease(ze.transition.easing)),et.attr("transform","translate("+(Qe-.5*nt.gripWidth)+","+ze._dims.currentValueTotalHeight+")")}}function normalizedValueToPosition(Ee,ze){var Be=Ee._dims;return Be.inputAreaStart+nt.stepInset+(Be.inputAreaLength-2*nt.stepInset)*Math.min(1,Math.max(0,ze))}function positionToNormalizedValue(Ee,ze){var Be=Ee._dims;return Math.min(1,Math.max(0,(ze-nt.stepInset-Be.inputAreaStart)/(Be.inputAreaLength-2*nt.stepInset-2*Be.inputAreaStart)))}function drawTouchRect(Ee,ze,Be){var Ue=Be._dims,We=et.ensureSingle(Ee,"rect",nt.railTouchRectClass,(function(Ue){Ue.call(attachGripEvents,ze,Ee,Be).style("pointer-events","all")}));We.attr({width:Ue.inputAreaLength,height:Math.max(Ue.inputAreaWidth,nt.tickOffset+Be.ticklen+Ue.labelHeight)}).call($e.fill,Be.bgcolor).attr("opacity",0),Qe.setTranslate(We,0,Ue.currentValueTotalHeight)}function drawRail(Ee,ze){var Be=ze._dims,Ue=Be.inputAreaLength-2*nt.railInset,We=et.ensureSingle(Ee,"rect",nt.railRectClass);We.attr({width:Ue,height:nt.railWidth,rx:nt.railRadius,ry:nt.railRadius,"shape-rendering":"crispEdges"}).call($e.stroke,ze.bordercolor).call($e.fill,ze.bgcolor).style("stroke-width",ze.borderwidth+"px"),Qe.setTranslate(We,nt.railInset,.5*(Be.inputAreaWidth-nt.railWidth)+Be.currentValueTotalHeight)}Ee.exports=function draw(Ee){var ze=Ee._fullLayout,Be=function makeSliderData(Ee,ze){for(var Be=Ee[nt.name],Ue=[],We=0;We<Be.length;We++){var $e=Be[We];$e.visible&&($e._gd=ze,Ue.push($e))}return Ue}(ze,Ee),$e=ze._infolayer.selectAll("g."+nt.containerClassName).data(Be.length>0?[0]:[]);function clearSlider(ze){ze._commandObserver&&(ze._commandObserver.remove(),delete ze._commandObserver),We.autoMargin(Ee,autoMarginId(ze))}if($e.enter().append("g").classed(nt.containerClassName,!0).style("cursor","ew-resize"),$e.exit().each((function(){Ue.select(this).selectAll("g."+nt.groupClassName).each(clearSlider)})).remove(),0!==Be.length){var et=$e.selectAll("g."+nt.groupClassName).data(Be,keyFunction);et.enter().append("g").classed(nt.groupClassName,!0),et.exit().each(clearSlider).remove();for(var tt=0;tt<Be.length;tt++){var rt=Be[tt];findDimensions(Ee,rt)}et.each((function(ze){var Be=Ue.select(this);!function computeLabelSteps(Ee){var ze=Ee._dims;ze.labelSteps=[];for(var Be=Ee._stepCount,Ue=0;Ue<Be;Ue+=ze.labelStride)ze.labelSteps.push({fraction:Ue/(Be-1),step:Ee._visibleSteps[Ue]})}(ze),We.manageCommandObserver(Ee,ze,ze._visibleSteps,(function(ze){var Ue=Be.data()[0];Ue.active!==ze.index&&(Ue._dragging||setActive(Ee,Be,Ue,ze.index,!1,!0))})),function drawSlider(Ee,ze,Be){(Be.steps[Be.active]||{}).visible||(Be.active=Be._visibleSteps[0]._index);ze.call(drawCurrentValue,Be).call(drawRail,Be).call(drawLabelGroup,Be).call(drawTicks,Be).call(drawTouchRect,Ee,Be).call(drawGrip,Ee,Be);var Ue=Be._dims;Qe.setTranslate(ze,Ue.lx+Be.pad.l,Ue.ly+Be.pad.t),ze.call(setGripPosition,Be,!1),ze.call(drawCurrentValue,Be)}(Ee,Ue.select(this),ze)}))}}},f118:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("371e"),$e=Be("fc26"),Qe=$e.ensureSingle,et=$e.identity,tt=Be("83d1"),rt=Be("de81"),nt=Be("9cf1"),at=Be("00bd"),it=Be("b68b").tester;function plotOne(Ee,ze,Be,at,ct,ft,xt){var kt;!function selectMarkers(Ee,ze,Be,We,Qe){var et=Be.xaxis,tt=Be.yaxis,nt=Ue.extent($e.simpleMap(et.range,et.r2c)),at=Ue.extent($e.simpleMap(tt.range,tt.r2c)),it=We[0].trace;if(!rt.hasMarkers(it))return;var ct=it.marker.maxdisplayed;if(0===ct)return;var ft=We.filter((function(Ee){return Ee.x>=nt[0]&&Ee.x<=nt[1]&&Ee.y>=at[0]&&Ee.y<=at[1]})),xt=Math.ceil(ft.length/ct),kt=0;Qe.forEach((function(Ee,Be){var Ue=Ee[0].trace;rt.hasMarkers(Ue)&&Ue.marker.maxdisplayed>0&&Be<ze&&kt++}));var Lt=Math.round(kt*xt/3+Math.floor(kt/3)*xt/7.1);We.forEach((function(Ee){delete Ee.vis})),ft.forEach((function(Ee,ze){0===Math.round((ze+Lt)%xt)&&(Ee.vis=!0)}))}(0,ze,Be,at,ct);var Lt=!!xt&&xt.duration>0;function transition(Ee){return Lt?Ee.transition():Ee}var Ut=Be.xaxis,er=Be.yaxis,tr=at[0].trace,rr=tr.line,ar=Ue.select(ft),Lr=Qe(ar,"g","errorbars"),Qr=Qe(ar,"g","lines"),on=Qe(ar,"g","points"),sn=Qe(ar,"g","text");if(We.getComponentMethod("errorbars","plot")(Ee,Lr,Be,xt),!0===tr.visible){var ln,cn;transition(ar).style("opacity",tr.opacity);var un=tr.fill.charAt(tr.fill.length-1);"x"!==un&&"y"!==un&&(un=""),at[0][Be.isRangePlot?"nodeRangePlot3":"node3"]=ar;var hn,dn,vn="",yn=[],_n=tr._prevtrace;_n&&(vn=_n._prevRevpath||"",cn=_n._nextFill,yn=_n._polygons);var Mn,Cn,En,Pn,In,Bn,Hn,Kn="",Jn="",Ma=[],Sa=$e.noop;if(ln=tr._ownFill,rt.hasLines(tr)||"none"!==tr.fill){for(cn&&cn.datum(at),-1!==["hv","vh","hvh","vhv"].indexOf(rr.shape)?(Mn=tt.steps(rr.shape),Cn=tt.steps(rr.shape.split("").reverse().join(""))):Mn=Cn="spline"===rr.shape?function(Ee){var ze=Ee[Ee.length-1];return Ee.length>1&&Ee[0][0]===ze[0]&&Ee[0][1]===ze[1]?tt.smoothclosed(Ee.slice(1),rr.smoothing):tt.smoothopen(Ee,rr.smoothing)}:function(Ee){return"M"+Ee.join("L")},En=function(Ee){return Cn(Ee.reverse())},Ma=nt(at,{xaxis:Ut,yaxis:er,connectGaps:tr.connectgaps,baseTolerance:Math.max(rr.width||1,3)/4,shape:rr.shape,simplify:rr.simplify,fill:tr.fill}),Hn=tr._polygons=new Array(Ma.length),kt=0;kt<Ma.length;kt++)tr._polygons[kt]=it(Ma[kt]);Ma.length&&(Pn=Ma[0][0],Bn=(In=Ma[Ma.length-1])[In.length-1]),Sa=function(Ee){return function(ze){if(hn=Mn(ze),dn=En(ze),Kn?un?(Kn+="L"+hn.substr(1),Jn=dn+"L"+Jn.substr(1)):(Kn+="Z"+hn,Jn=dn+"Z"+Jn):(Kn=hn,Jn=dn),rt.hasLines(tr)&&ze.length>1){var Be=Ue.select(this);if(Be.datum(at),Ee)transition(Be.style("opacity",0).attr("d",hn).call(tt.lineGroupStyle)).style("opacity",1);else{var We=transition(Be);We.attr("d",hn),tt.singleLineStyle(at,We)}}}}}var La=Qr.selectAll(".js-line").data(Ma);transition(La.exit()).style("opacity",0).remove(),La.each(Sa(!1)),La.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(tt.lineGroupStyle).each(Sa(!0)),tt.setClipUrl(La,Be.layerClipId,Ee),Ma.length?(ln?(ln.datum(at),Pn&&Bn&&(un?("y"===un?Pn[1]=Bn[1]=er.c2p(0,!0):"x"===un&&(Pn[0]=Bn[0]=Ut.c2p(0,!0)),transition(ln).attr("d","M"+Bn+"L"+Pn+"L"+Kn.substr(1)).call(tt.singleFillStyle)):transition(ln).attr("d",Kn+"Z").call(tt.singleFillStyle))):cn&&("tonext"===tr.fill.substr(0,6)&&Kn&&vn?("tonext"===tr.fill?transition(cn).attr("d",Kn+"Z"+vn+"Z").call(tt.singleFillStyle):transition(cn).attr("d",Kn+"L"+vn.substr(1)+"Z").call(tt.singleFillStyle),tr._polygons=tr._polygons.concat(yn)):(clearFill(cn),tr._polygons=null)),tr._prevRevpath=Jn,tr._prevPolygons=Hn):(ln?clearFill(ln):cn&&clearFill(cn),tr._polygons=tr._prevRevpath=tr._prevPolygons=null),on.datum(at),sn.datum(at),function makePoints(ze,We,$e){var Qe,nt=$e[0].trace,at=rt.hasMarkers(nt),it=rt.hasText(nt),ct=getKeyFunc(nt),ft=hideFilter,xt=hideFilter;if(at||it){var kt=et,tr=nt.stackgroup,rr=tr&&"infer zero"===Ee._fullLayout._scatterStackOpts[Ut._id+er._id][tr].stackgaps;nt.marker.maxdisplayed||nt._needsCull?kt=rr?visFilterWithGaps:visFilter:tr&&!rr&&(kt=gapFilter),at&&(ft=kt),it&&(xt=kt)}var ar,Lr=(Qe=ze.selectAll("path.point").data(ft,ct)).enter().append("path").classed("point",!0);Lt&&Lr.call(tt.pointStyle,nt,Ee).call(tt.translatePoints,Ut,er).style("opacity",0).transition().style("opacity",1),Qe.order(),at&&(ar=tt.makePointStyleFns(nt)),Qe.each((function(ze){var We=Ue.select(this),$e=transition(We);tt.translatePoint(ze,$e,Ut,er)?(tt.singlePointStyle(ze,$e,nt,ar,Ee),Be.layerClipId&&tt.hideOutsideRangePoint(ze,$e,Ut,er,nt.xcalendar,nt.ycalendar),nt.customdata&&We.classed("plotly-customdata",null!==ze.data&&void 0!==ze.data)):$e.remove()})),Lt?Qe.exit().transition().style("opacity",0).remove():Qe.exit().remove(),(Qe=We.selectAll("g").data(xt,ct)).enter().append("g").classed("textpoint",!0).append("text"),Qe.order(),Qe.each((function(Ee){var ze=Ue.select(this),We=transition(ze.select("text"));tt.translatePoint(Ee,We,Ut,er)?Be.layerClipId&&tt.hideOutsideRangePoint(Ee,ze,Ut,er,nt.xcalendar,nt.ycalendar):ze.remove()})),Qe.selectAll("text").call(tt.textPointStyle,nt,Ee).each((function(Ee){var ze=Ut.c2p(Ee.x),Be=er.c2p(Ee.y);Ue.select(this).selectAll("tspan.line").each((function(){transition(Ue.select(this)).attr({x:ze,y:Be})}))})),Qe.exit().remove()}(on,sn,at);var Ia=!1===tr.cliponaxis?null:Be.layerClipId;tt.setClipUrl(on,Ia,Ee),tt.setClipUrl(sn,Ia,Ee)}function clearFill(Ee){transition(Ee).attr("d","M0,0Z")}function visFilter(Ee){return Ee.filter((function(Ee){return!Ee.gap&&Ee.vis}))}function visFilterWithGaps(Ee){return Ee.filter((function(Ee){return Ee.vis}))}function gapFilter(Ee){return Ee.filter((function(Ee){return!Ee.gap}))}function keyFunc(Ee){return Ee.id}function getKeyFunc(Ee){if(Ee.ids)return keyFunc}function hideFilter(){return!1}}Ee.exports=function plot(Ee,ze,Be,We,$e,rt){var nt,it,ct=!$e,ft=!!$e&&$e.duration>0,xt=at(Ee,ze,Be);((nt=We.selectAll("g.trace").data(xt,(function(Ee){return Ee[0].trace.uid}))).enter().append("g").attr("class",(function(Ee){return"trace scatter trace"+Ee[0].trace.uid})).style("stroke-miterlimit",2),nt.order(),function createFills(Ee,ze,Be){ze.each((function(ze){var We=Qe(Ue.select(this),"g","fills");tt.setClipUrl(We,Be.layerClipId,Ee);var $e=ze[0].trace,rt=[];$e._ownfill&&rt.push("_ownFill"),$e._nexttrace&&rt.push("_nextFill");var nt=We.selectAll("g").data(rt,et);nt.enter().append("g"),nt.exit().each((function(Ee){$e[Ee]=null})).remove(),nt.order().each((function(Ee){$e[Ee]=Qe(Ue.select(this),"path","js-fill")}))}))}(Ee,nt,ze),ft)?(rt&&(it=rt()),Ue.transition().duration($e.duration).ease($e.easing).each("end",(function(){it&&it()})).each("interrupt",(function(){it&&it()})).each((function(){We.selectAll("g.trace").each((function(Be,Ue){plotOne(Ee,Ue,ze,Be,xt,this,$e)}))}))):nt.each((function(Be,Ue){plotOne(Ee,Ue,ze,Be,xt,this,$e)}));ct&&nt.exit().remove(),We.selectAll("path:not([d])").remove()}},f11b:function(Ee,ze,Be){"use strict";var Ue=Be("a5c4"),We=Be("fc26"),$e=Be("ac97").getTraceColor,Qe=We.fillText,et=Be("efcd").makeHoverPointText,tt=Be("a60f").isPtInsidePolygon;Ee.exports=function hoverPoints(Ee,ze,Be){var rt=Ee.cd,nt=rt[0].trace,at=Ee.subplot,it=at.radialAxis,ct=at.angularAxis,ft=at.vangles,xt=ft?tt:We.isPtInsideSector,kt=Ee.maxHoverDistance,Lt=ct._period||2*Math.PI,Ut=Math.abs(it.g2p(Math.sqrt(ze*ze+Be*Be))),er=Math.atan2(Be,ze);it.range[0]>it.range[1]&&(er+=Math.PI);if(Ue.getClosest(rt,(function(Ee){return xt(Ut,er,[Ee.rp0,Ee.rp1],[Ee.thetag0,Ee.thetag1],ft)?kt+Math.min(1,Math.abs(Ee.thetag1-Ee.thetag0)/Lt)-1+(Ee.rp1-Ut)/(Ee.rp1-Ee.rp0)-1:1/0}),Ee),!1!==Ee.index){var tr=rt[Ee.index];Ee.x0=Ee.x1=tr.ct[0],Ee.y0=Ee.y1=tr.ct[1];var rr=We.extendFlat({},tr,{r:tr.s,theta:tr.p});return Qe(tr,nt,Ee),et(rr,nt,at,Ee),Ee.hovertemplate=nt.hovertemplate,Ee.color=$e(nt,tr),Ee.xLabelVal=Ee.yLabelVal=void 0,tr.s<0&&(Ee.idealAlign="left"),[Ee]}}},f144:function(Ee,ze,Be){"use strict";Ee.exports=function cleanPSLG(Ee,ze,Be){var Ue;if(Be){Ue=ze;for(var We=new Array(ze.length),$e=0;$e<ze.length;++$e){var Qe=ze[$e];We[$e]=[Qe[0],Qe[1],Be[$e]]}ze=We}var et=function preRound(Ee,ze,Be){var Ue=dedupPoints(Ee,[],boundPoints(Ee));return dedupEdges(ze,Ue,Be),!!Ue}(Ee,ze,!!Be);for(;snapRound(Ee,ze,!!Be);)et=!0;if(Be&&et){Ue.length=0,Be.length=0;for($e=0;$e<ze.length;++$e){Qe=ze[$e];Ue.push([Qe[0],Qe[1]]),Be.push(Qe[2])}}return et};var Ue=Be("dca5"),We=Be("a069"),$e=Be("6e1f"),Qe=Be("f7bf"),et=Be("41a1"),tt=Be("5aa9"),rt=Be("973c"),nt=Be("085f"),at=Be("3029");function boundRat(Ee){var ze=tt(Ee);return[nt(ze,-1/0),nt(ze,1/0)]}function boundPoints(Ee){for(var ze=new Array(Ee.length),Be=0;Be<Ee.length;++Be){var Ue=Ee[Be];ze[Be]=[nt(Ue[0],-1/0),nt(Ue[1],-1/0),nt(Ue[0],1/0),nt(Ue[1],1/0)]}return ze}function dedupPoints(Ee,ze,Be){for(var $e=ze.length,Qe=new Ue($e),et=[],tt=0;tt<ze.length;++tt){var rt=ze[tt],at=boundRat(rt[0]),it=boundRat(rt[1]);et.push([nt(at[0],-1/0),nt(it[0],-1/0),nt(at[1],1/0),nt(it[1],1/0)])}We(et,(function(Ee,ze){Qe.link(Ee,ze)}));var ct=!0,ft=new Array($e);for(tt=0;tt<$e;++tt){(kt=Qe.find(tt))!==tt&&(ct=!1,Ee[kt]=[Math.min(Ee[tt][0],Ee[kt][0]),Math.min(Ee[tt][1],Ee[kt][1])])}if(ct)return null;var xt=0;for(tt=0;tt<$e;++tt){var kt;(kt=Qe.find(tt))===tt?(ft[tt]=xt,Ee[xt++]=Ee[tt]):ft[tt]=-1}Ee.length=xt;for(tt=0;tt<$e;++tt)ft[tt]<0&&(ft[tt]=ft[Qe.find(tt)]);return ft}function compareLex2(Ee,ze){return Ee[0]-ze[0]||Ee[1]-ze[1]}function compareLex3(Ee,ze){var Be=Ee[0]-ze[0]||Ee[1]-ze[1];return Be||(Ee[2]<ze[2]?-1:Ee[2]>ze[2]?1:0)}function dedupEdges(Ee,ze,Be){if(0!==Ee.length){if(ze)for(var Ue=0;Ue<Ee.length;++Ue){var We=ze[(Qe=Ee[Ue])[0]],$e=ze[Qe[1]];Qe[0]=Math.min(We,$e),Qe[1]=Math.max(We,$e)}else for(Ue=0;Ue<Ee.length;++Ue){var Qe;We=(Qe=Ee[Ue])[0],$e=Qe[1];Qe[0]=Math.min(We,$e),Qe[1]=Math.max(We,$e)}Be?Ee.sort(compareLex3):Ee.sort(compareLex2);var et=1;for(Ue=1;Ue<Ee.length;++Ue){var tt=Ee[Ue-1],rt=Ee[Ue];(rt[0]!==tt[0]||rt[1]!==tt[1]||Be&&rt[2]!==tt[2])&&(Ee[et++]=rt)}Ee.length=et}}function snapRound(Ee,ze,Be){var Ue=function boundEdges(Ee,ze){for(var Be=new Array(ze.length),Ue=0;Ue<ze.length;++Ue){var We=ze[Ue],$e=Ee[We[0]],Qe=Ee[We[1]];Be[Ue]=[nt(Math.min($e[0],Qe[0]),-1/0),nt(Math.min($e[1],Qe[1]),-1/0),nt(Math.max($e[0],Qe[0]),1/0),nt(Math.max($e[1],Qe[1]),1/0)]}return Be}(Ee,ze),it=function getCrossings(Ee,ze,Be){var Ue=[];return We(Be,(function(Be,We){var Qe=ze[Be],et=ze[We];if(Qe[0]!==et[0]&&Qe[0]!==et[1]&&Qe[1]!==et[0]&&Qe[1]!==et[1]){var tt=Ee[Qe[0]],rt=Ee[Qe[1]],nt=Ee[et[0]],at=Ee[et[1]];$e(tt,rt,nt,at)&&Ue.push([Be,We])}})),Ue}(Ee,ze,Ue),ct=boundPoints(Ee),ft=function getTJunctions(Ee,ze,Be,Ue){var Qe=[];return We(Be,Ue,(function(Be,Ue){var We=ze[Be];if(We[0]!==Ue&&We[1]!==Ue){var et=Ee[Ue],tt=Ee[We[0]],rt=Ee[We[1]];$e(tt,rt,et,et)&&Qe.push([Be,Ue])}})),Qe}(Ee,ze,Ue,ct),xt=dedupPoints(Ee,function cutEdges(Ee,ze,Be,Ue,We){var $e,nt,it=Ee.map((function(Ee){return[Qe(Ee[0]),Qe(Ee[1])]}));for($e=0;$e<Be.length;++$e){var ct=Be[$e];nt=ct[0];var ft=ct[1],xt=ze[nt],kt=ze[ft],Lt=at(rt(Ee[xt[0]]),rt(Ee[xt[1]]),rt(Ee[kt[0]]),rt(Ee[kt[1]]));if(Lt){var Ut=Ee.length;Ee.push([tt(Lt[0]),tt(Lt[1])]),it.push(Lt),Ue.push([nt,Ut],[ft,Ut])}}for(Ue.sort((function(Ee,ze){if(Ee[0]!==ze[0])return Ee[0]-ze[0];var Be=it[Ee[1]],Ue=it[ze[1]];return et(Be[0],Ue[0])||et(Be[1],Ue[1])})),$e=Ue.length-1;$e>=0;--$e){var er=ze[nt=(ln=Ue[$e])[0]],tr=er[0],rr=er[1],ar=Ee[tr],Lr=Ee[rr];if((ar[0]-Lr[0]||ar[1]-Lr[1])<0){var Qr=tr;tr=rr,rr=Qr}er[0]=tr;var on,sn=er[1]=ln[1];for(We&&(on=er[2]);$e>0&&Ue[$e-1][0]===nt;){var ln,cn=(ln=Ue[--$e])[1];We?ze.push([sn,cn,on]):ze.push([sn,cn]),sn=cn}We?ze.push([sn,rr,on]):ze.push([sn,rr])}return it}(Ee,ze,it,ft,Be));return dedupEdges(ze,xt,Be),!!xt||(it.length>0||ft.length>0)}},f177:function(Ee,ze,Be){"use strict";var Ue=Be("de81"),We=Be("e38a").styleTextSelection;Ee.exports=function select(Ee,ze){var Be=Ee.cd,$e=[],Qe=Be[0].trace,et=Be[0].t,tt=Qe._length,rt=et.x,nt=et.y,at=et._scene,it=et.index;if(!at)return $e;var ct=Ue.hasText(Qe),ft=Ue.hasMarkers(Qe),xt=!ft&&!ct;if(!0!==Qe.visible||xt)return $e;var kt=[],Lt=[];if(!1!==ze&&!ze.degenerate)for(var Ut=0;Ut<tt;Ut++)ze.contains([et.xpx[Ut],et.ypx[Ut]],!1,Ut,Ee)?(kt.push(Ut),$e.push({pointNumber:Ut,x:rt[Ut],y:nt[Ut]})):Lt.push(Ut);if(ft){var er=at.scatter2d;if(kt.length||Lt.length){if(!at.selectBatch[it].length&&!at.unselectBatch[it].length){var tr=new Array(at.count);tr[it]=at.markerUnselectedOptions[it],er.update.apply(er,tr)}}else{var rr=new Array(at.count);rr[it]=at.markerOptions[it],er.update.apply(er,rr)}}return at.selectBatch[it]=kt,at.unselectBatch[it]=Lt,ct&&We(Be),$e}},f17e:function(Ee,ze,Be){"use strict";Ee.exports=Be("52d8")},f197:function(Ee,ze,Be){var Ue=Be("ed98"),We=Be("dcc8"),$e=Be("fb566"),Qe=Be("b1c9"),et=Be("9343"),tt=Be("ed2e"),rt={length:Be("8be6"),normalize:Be("913b"),dot:Be("e448"),cross:Be("27a4")},nt=We(),at=We(),it=[0,0,0,0],ct=[[0,0,0],[0,0,0],[0,0,0]],ft=[0,0,0];function combine(Ee,ze,Be,Ue,We){Ee[0]=ze[0]*Ue+Be[0]*We,Ee[1]=ze[1]*Ue+Be[1]*We,Ee[2]=ze[2]*Ue+Be[2]*We}Ee.exports=function decomposeMat4(Ee,ze,Be,We,xt,kt){if(ze||(ze=[0,0,0]),Be||(Be=[0,0,0]),We||(We=[0,0,0]),xt||(xt=[0,0,0,1]),kt||(kt=[0,0,0,1]),!Ue(nt,Ee))return!1;if($e(at,nt),at[3]=0,at[7]=0,at[11]=0,at[15]=1,Math.abs(Qe(at)<1e-8))return!1;var Lt=nt[3],Ut=nt[7],er=nt[11],tr=nt[12],rr=nt[13],ar=nt[14],Lr=nt[15];if(0!==Lt||0!==Ut||0!==er){if(it[0]=Lt,it[1]=Ut,it[2]=er,it[3]=Lr,!et(at,at))return!1;tt(at,at),function vec4multMat4(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2],Qe=ze[3];return Ee[0]=Be[0]*Ue+Be[4]*We+Be[8]*$e+Be[12]*Qe,Ee[1]=Be[1]*Ue+Be[5]*We+Be[9]*$e+Be[13]*Qe,Ee[2]=Be[2]*Ue+Be[6]*We+Be[10]*$e+Be[14]*Qe,Ee[3]=Be[3]*Ue+Be[7]*We+Be[11]*$e+Be[15]*Qe,Ee}(xt,it,at)}else xt[0]=xt[1]=xt[2]=0,xt[3]=1;if(ze[0]=tr,ze[1]=rr,ze[2]=ar,function mat3from4(Ee,ze){Ee[0][0]=ze[0],Ee[0][1]=ze[1],Ee[0][2]=ze[2],Ee[1][0]=ze[4],Ee[1][1]=ze[5],Ee[1][2]=ze[6],Ee[2][0]=ze[8],Ee[2][1]=ze[9],Ee[2][2]=ze[10]}(ct,nt),Be[0]=rt.length(ct[0]),rt.normalize(ct[0],ct[0]),We[0]=rt.dot(ct[0],ct[1]),combine(ct[1],ct[1],ct[0],1,-We[0]),Be[1]=rt.length(ct[1]),rt.normalize(ct[1],ct[1]),We[0]/=Be[1],We[1]=rt.dot(ct[0],ct[2]),combine(ct[2],ct[2],ct[0],1,-We[1]),We[2]=rt.dot(ct[1],ct[2]),combine(ct[2],ct[2],ct[1],1,-We[2]),Be[2]=rt.length(ct[2]),rt.normalize(ct[2],ct[2]),We[1]/=Be[2],We[2]/=Be[2],rt.cross(ft,ct[1],ct[2]),rt.dot(ct[0],ft)<0)for(var Qr=0;Qr<3;Qr++)Be[Qr]*=-1,ct[Qr][0]*=-1,ct[Qr][1]*=-1,ct[Qr][2]*=-1;return kt[0]=.5*Math.sqrt(Math.max(1+ct[0][0]-ct[1][1]-ct[2][2],0)),kt[1]=.5*Math.sqrt(Math.max(1-ct[0][0]+ct[1][1]-ct[2][2],0)),kt[2]=.5*Math.sqrt(Math.max(1-ct[0][0]-ct[1][1]+ct[2][2],0)),kt[3]=.5*Math.sqrt(Math.max(1+ct[0][0]+ct[1][1]+ct[2][2],0)),ct[2][1]>ct[1][2]&&(kt[0]=-kt[0]),ct[0][2]>ct[2][0]&&(kt[1]=-kt[1]),ct[1][0]>ct[0][1]&&(kt[2]=-kt[2]),!0}},f1c3:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("7974");Ee.exports={moduleType:"trace",name:"splom",basePlotModule:Be("f214"),categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:Be("26e4"),supplyDefaults:Be("22926"),colorbar:Be("f3cf"),calc:Be("e4d3"),plot:Be("9d8f"),hoverPoints:Be("4051").hoverPoints,selectPoints:Be("806e"),editStyle:Be("de96"),meta:{}},Ue.register(We)},f1cd:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("e7bd"),supplyDefaults:Be("4190"),plot:Be("af2d"),calc:Be("eec7"),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:Be("91cd"),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},f200:function(Ee,ze,Be){"use strict";var Ue=Be("a876"),We=Be("94d5").hovertemplateAttrs,$e=Be("94d5").texttemplateAttrs,Qe=Be("f4e9"),et=Be("81f0").attributes,tt=Be("919e"),rt=Be("8ba9"),nt=Be("9092").extendFlat;Ee.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:nt({colors:{valType:"data_array",editType:"calc"},line:{color:nt({},tt.marker.line.color,{dflt:null}),width:nt({},tt.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},Qe("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:tt.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:$e({editType:"plot"},{keys:rt.eventDataKeys.concat(["label","value"])}),hovertext:tt.hovertext,hoverinfo:nt({},Ue.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:We({},{keys:rt.eventDataKeys}),textfont:tt.textfont,insidetextorientation:tt.insidetextorientation,insidetextfont:tt.insidetextfont,outsidetextfont:nt({},tt.outsidetextfont,{}),domain:et({name:"sunburst",trace:!0,editType:"calc"})}},f214:function(Ee,ze,Be){"use strict";var Ue=Be("e8ee"),We=Be("371e"),$e=Be("cf42"),Qe=Be("ad62").getModuleCalcData,et=Be("91cd"),tt=Be("3c1c").getFromId,rt=Be("0642").shouldShowZeroLine;function dragOne(Ee,ze,Be){for(var Ue=Be.matrixOptions.data.length,We=ze._visibleDims,$e=Be.viewOpts.ranges=new Array(Ue),Qe=0;Qe<We.length;Qe++){var et=We[Qe],rt=$e[Qe]=new Array(4),nt=tt(Ee,ze._diag[et][0]);nt&&(rt[0]=nt.r2l(nt.range[0]),rt[2]=nt.r2l(nt.range[1]));var at=tt(Ee,ze._diag[et][1]);at&&(rt[1]=at.r2l(at.range[0]),rt[3]=at.r2l(at.range[1]))}Be.selectBatch.length||Be.unselectBatch.length?Be.matrix.update({ranges:$e},{ranges:$e}):Be.matrix.update({ranges:$e})}function updateGrid(Ee){var ze=Ee._fullLayout,Be=ze._glcanvas.data()[0].regl,We=ze._splomGrid;We||(We=ze._splomGrid=Ue(Be)),We.update(function makeGridData(Ee){var ze,Be=Ee._fullLayout,Ue=Be._size,We=[0,0,Be.width,Be.height],$e={};function push(Ee,ze,Be,Ue,Qe,et){var tt=ze[Ee+"color"],rt=ze[Ee+"width"],nt=String(tt+rt);nt in $e?$e[nt].data.push(NaN,NaN,Be,Ue,Qe,et):$e[nt]={data:[Be,Ue,Qe,et],join:"rect",thickness:rt,color:tt,viewport:We,range:We,overlay:!1}}for(ze in Be._splomSubplots){var Qe,et,tt=Be._plots[ze],nt=tt.xaxis,at=tt.yaxis,it=nt._gridVals,ct=at._gridVals,ft=Ue.b+at.domain[0]*Ue.h,xt=-at._m,kt=-xt*at.r2l(at.range[0],at.calendar);if(nt.showgrid)for(ze=0;ze<it.length;ze++)Qe=nt._offset+nt.l2p(it[ze].x),push("grid",nt,Qe,ft,Qe,ft+at._length);if(at.showgrid)for(ze=0;ze<ct.length;ze++)et=ft+kt+xt*ct[ze].x,push("grid",at,nt._offset,et,nt._offset+nt._length,et);rt(Ee,nt,at)&&(Qe=nt._offset+nt.l2p(0),push("zeroline",nt,Qe,ft,Qe,ft+at._length)),rt(Ee,at,nt)&&(et=ft+kt+0,push("zeroline",at,nt._offset,et,nt._offset+nt._length,et))}var Lt=[];for(ze in $e)Lt.push($e[ze]);return Lt}(Ee))}Ee.exports={name:"splom",attr:et.attr,attrRegex:et.attrRegex,layoutAttributes:et.layoutAttributes,supplyLayoutDefaults:et.supplyLayoutDefaults,drawFramework:et.drawFramework,plot:function plot(Ee){var ze=Ee._fullLayout,Be=We.getModule("splom"),Ue=Qe(Ee.calcdata,Be)[0];$e(Ee,["ANGLE_instanced_arrays","OES_element_index_uint"])&&(ze._hasOnlyLargeSploms&&updateGrid(Ee),Be.plot(Ee,{},Ue))},drag:function drag(Ee){var ze=Ee.calcdata,Be=Ee._fullLayout;Be._hasOnlyLargeSploms&&updateGrid(Ee);for(var Ue=0;Ue<ze.length;Ue++){var We=ze[Ue][0].trace,$e=Be._splomScenes[We.uid];"splom"===We.type&&$e&&$e.matrix&&dragOne(Ee,We,$e)}},updateGrid:updateGrid,clean:function clean(Ee,ze,Be,Ue){var We,$e={};if(Ue._splomScenes){for(We=0;We<Ee.length;We++){var Qe=Ee[We];"splom"===Qe.type&&($e[Qe.uid]=1)}for(We=0;We<Be.length;We++){var tt=Be[We];if(!$e[tt.uid]){var rt=Ue._splomScenes[tt.uid];rt&&rt.destroy&&rt.destroy(),Ue._splomScenes[tt.uid]=null,delete Ue._splomScenes[tt.uid]}}}0===Object.keys(Ue._splomScenes||{}).length&&delete Ue._splomScenes,Ue._splomGrid&&!ze._hasOnlyLargeSploms&&Ue._hasOnlyLargeSploms&&(Ue._splomGrid.destroy(),Ue._splomGrid=null,delete Ue._splomGrid),et.clean(Ee,ze,Be,Ue)},updateFx:et.updateFx,toSVG:et.toSVG}},f280:function(Ee,ze,Be){var Ue=Be("e98f"),We=Ue(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),$e=Ue(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),Qe=Ue(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),et=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);ze.meshShader={vertex:We,fragment:$e,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},ze.pickShader={vertex:Qe,fragment:et,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},f28b:function(Ee,ze){Ee.exports=function random(Ee,ze){ze=ze||1;var Be=2*Math.random()*Math.PI,Ue=2*Math.random()-1,We=Math.sqrt(1-Ue*Ue)*ze;return Ee[0]=Math.cos(Be)*We,Ee[1]=Math.sin(Be)*We,Ee[2]=Ue*ze,Ee}},f28e:function(Ee,ze,Be){"use strict";var Ue=Be("371e"),We=Be("79f1");Ee.exports=function getLegendData(Ee,ze){var Be,$e,Qe={},et=[],tt=!1,rt={},nt=0,at=0;function addOneItem(Ee,Be){if(""!==Ee&&We.isGrouped(ze))-1===et.indexOf(Ee)?(et.push(Ee),tt=!0,Qe[Ee]=[[Be]]):Qe[Ee].push([Be]);else{var Ue="~~i"+nt;et.push(Ue),Qe[Ue]=[[Be]],nt++}}for(Be=0;Be<Ee.length;Be++){var it=Ee[Be],ct=it[0],ft=ct.trace,xt=ft.legendgroup;if(ft.visible&&ft.showlegend)if(Ue.traceIs(ft,"pie-like"))for(rt[xt]||(rt[xt]={}),$e=0;$e<it.length;$e++){var kt=it[$e].label;rt[xt][kt]||(addOneItem(xt,{label:kt,color:it[$e].color,i:it[$e].i,trace:ft,pts:it[$e].pts}),rt[xt][kt]=!0,at=Math.max(at,(kt||"").length))}else addOneItem(xt,ct),at=Math.max(at,(ft.name||"").length)}if(!et.length)return[];var Lt,Ut,er=et.length;if(tt&&We.isGrouped(ze))for(Ut=new Array(er),Be=0;Be<er;Be++)Lt=Qe[et[Be]],Ut[Be]=We.isReversed(ze)?Lt.reverse():Lt;else{for(Ut=[new Array(er)],Be=0;Be<er;Be++)Lt=Qe[et[Be]][0],Ut[0][We.isReversed(ze)?er-Be-1:Be]=Lt;er=1}return ze._lgroupsLength=er,ze._maxNameLength=at,Ut}},f2a9:function(Ee,ze,Be){"use strict";Ee.exports=Be("f1cd")},f2da:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("e806").BADNUM,$e=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;Ee.exports=function cleanNumber(Ee){return"string"==typeof Ee&&(Ee=Ee.replace($e,"")),Ue(Ee)?Number(Ee):We}},f31e:function(Ee,ze,Be){"use strict";Ee.exports=function invertPermutation(Ee,ze){ze=ze||new Array(Ee.length);for(var Be=0;Be<Ee.length;++Be)ze[Ee[Be]]=Be;return ze}},f366:function(Ee,ze,Be){"use strict";Ee.exports=Be("8755")},f36e:function(Ee,ze,Be){"use strict";Ee.exports=Be("d831")},f3a2:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("fc26");Ee.exports=function handlePositionDefaults(Ee,ze,Be,$e){var Qe,et,tt,rt,nt=$e.counterAxes||[],at=$e.overlayableAxes||[],it=$e.letter,ct=$e.grid;ct&&(et=ct._domains[it][ct._axisMap[ze._id]],Qe=ct._anchors[ze._id],et&&(tt=ct[it+"side"].split(" ")[0],rt=ct.domain[it]["right"===tt||"top"===tt?1:0])),et=et||[0,1],Qe=Qe||(Ue(Ee.position)?"free":nt[0]||"free"),tt=tt||("x"===it?"bottom":"left"),rt=rt||0,"free"===We.coerce(Ee,ze,{anchor:{valType:"enumerated",values:["free"].concat(nt),dflt:Qe}},"anchor")&&Be("position",rt),We.coerce(Ee,ze,{side:{valType:"enumerated",values:"x"===it?["bottom","top"]:["left","right"],dflt:tt}},"side");var ft=!1;if(at.length&&(ft=We.coerce(Ee,ze,{overlaying:{valType:"enumerated",values:[!1].concat(at),dflt:!1}},"overlaying")),!ft){var xt=Be("domain",et);xt[0]>xt[1]-1/4096&&(ze.domain=et),We.noneOrAll(Ee.domain,ze.domain,et)}return Be("layer"),ze}},f3a4:function(Ee,ze,Be){"use strict";Ee.exports=function createTable(Ee){for(var ze=1<<Ee+1,Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=constructCell(Ee,Ue);return Be};var Ue=Be("1a3f");function constructVertex(Ee,ze,Be){for(var Ue=new Array(Ee),We=0;We<Ee;++We)Ue[We]=0,We===ze&&(Ue[We]+=.5),We===Be&&(Ue[We]+=.5);return Ue}function constructCell(Ee,ze){if(0===ze||ze===(1<<Ee+1)-1)return[];for(var Be=[],We=[],$e=0;$e<=Ee;++$e)if(ze&1<<$e){Be.push(constructVertex(Ee,$e-1,$e-1)),We.push(null);for(var Qe=0;Qe<=Ee;++Qe)~ze&1<<Qe&&(Be.push(constructVertex(Ee,$e-1,Qe-1)),We.push([$e,Qe]))}var et=Ue(Be),tt=[];e:for($e=0;$e<et.length;++$e){var rt=et[$e],nt=[];for(Qe=0;Qe<rt.length;++Qe){if(!We[rt[Qe]])continue e;nt.push(We[rt[Qe]].slice())}tt.push(nt)}return tt}},f3a6:function(Ee,ze,Be){"use strict";var Ue=Be("62c4"),We=Array.prototype.forEach,$e=Object.create,process=function(Ee,ze){var Be;for(Be in Ee)ze[Be]=Ee[Be]};Ee.exports=function(Ee){var ze=$e(null);return We.call(arguments,(function(Ee){Ue(Ee)&&process(Object(Ee),ze)})),ze}},f3ca:function(Ee,ze,Be){"use strict";Ee.exports=Be("a1d4")},f3cf:function(Ee,ze,Be){"use strict";Ee.exports={container:"marker",min:"cmin",max:"cmax"}},f3df:function(Ee,ze,Be){"use strict";var Ue=Be("78d8").hiddenlabels;Ee.exports={hiddenlabels:Ue,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},f409:function(Ee,ze,Be){"use strict";var Ue=Be("bf38"),We=Be("81f0").attributes,$e=Be("9092").extendFlat,Qe=Be("fc26").counterRegex;function makeCameraVector(Ee,ze,Be){return{x:{valType:"number",dflt:Ee,editType:"camera"},y:{valType:"number",dflt:ze,editType:"camera"},z:{valType:"number",dflt:Be,editType:"camera"},editType:"camera"}}Ee.exports={_arrayAttrRegexps:[Qe("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:$e(makeCameraVector(0,0,1),{}),center:$e(makeCameraVector(0,0,0),{}),eye:$e(makeCameraVector(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:We({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:Ue,yaxis:Ue,zaxis:Ue,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},f422:function(Ee,ze,Be){"use strict";var Ue=Be("2595").drawRaw,We=Be("f98d"),$e=["x","y","z"];Ee.exports=function draw(Ee){for(var ze=Ee.fullSceneLayout,Be=Ee.dataScale,Qe=ze.annotations,et=0;et<Qe.length;et++){for(var tt=Qe[et],rt=!1,nt=0;nt<3;nt++){var at=$e[nt],it=tt[at],ct=ze[at+"axis"].r2fraction(it);if(ct<0||ct>1){rt=!0;break}}rt?Ee.fullLayout._infolayer.select(".annotation-"+Ee.id+'[data-index="'+et+'"]').remove():(tt._pdata=We(Ee.glplot.cameraParams,[ze.xaxis.r2l(tt.x)*Be[0],ze.yaxis.r2l(tt.y)*Be[1],ze.zaxis.r2l(tt.z)*Be[2]]),Ue(Ee.graphDiv,tt,et,Ee.id,tt._xa,tt._ya))}}},f4b3:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26"),$e=Be("3c1c").getAxisGroup,Qe=["v","h"];function setPositionOffset(Ee,ze,Be,Qe){var et,tt,rt,nt=ze.calcdata,at=ze._fullLayout,it=Qe._id,ct=it.charAt(0),ft=[],xt=0;for(et=0;et<Be.length;et++)for(rt=nt[Be[et]],tt=0;tt<rt.length;tt++)ft.push(Qe.c2l(rt[tt].pos,!0)),xt+=(rt[tt].pts2||[]).length;if(ft.length){var kt=We.distinctVals(ft),Lt=kt.minDiff/2;Ue.minDtick(Qe,kt.minDiff,kt.vals[0],!0);var Ut=at["violin"===Ee?"_numViolins":"_numBoxes"],er="group"===at[Ee+"mode"]&&Ut>1,tr=1-at[Ee+"gap"],rr=1-at[Ee+"groupgap"];for(et=0;et<Be.length;et++){var ar,Lr,Qr,on,sn,ln,cn=(rt=nt[Be[et]])[0].trace,un=rt[0].t,hn=cn.width,dn=cn.side;if(hn)ar=Lr=on=hn/2,Qr=0;else if(ar=Lt,er){var vn=$e(at,Qe._id)+cn.orientation,yn=(at._alignmentOpts[vn]||{})[cn.alignmentgroup]||{},_n=Object.keys(yn.offsetGroups||{}).length,Mn=_n||Ut;Lr=ar*tr*rr/Mn,Qr=2*ar*(((_n?cn._offsetIndex:un.num)+.5)/Mn-.5)*tr,on=ar*tr/Mn}else Lr=ar*tr*rr,Qr=0,on=ar;un.dPos=ar,un.bPos=Qr,un.bdPos=Lr,un.wHover=on;var Cn,En,Pn,In,Bn,Hn,Kn=Qr+Lr,Jn=Boolean(hn);if("positive"===dn?(sn=ar*(hn?1:.5),Cn=Kn,ln=Cn=Qr):"negative"===dn?(sn=Cn=Qr,ln=ar*(hn?1:.5),En=Kn):(sn=ln=ar,Cn=En=Kn),(cn.boxpoints||cn.points)&&xt>0){var Ma=cn.pointpos,Sa=cn.jitter,La=cn.marker.size/2,Ia=0;Ma+Sa>=0&&((Ia=Kn*(Ma+Sa))>sn?(Jn=!0,Bn=La,Pn=Ia):Ia>Cn&&(Bn=La,Pn=sn)),Ia<=sn&&(Pn=sn);var Ra=0;Ma-Sa<=0&&((Ra=-Kn*(Ma-Sa))>ln?(Jn=!0,Hn=La,In=Ra):Ra>En&&(Hn=La,In=ln)),Ra<=ln&&(In=ln)}else Pn=sn,In=ln;var Na=new Array(rt.length);for(tt=0;tt<rt.length;tt++)Na[tt]=rt[tt].pos;cn._extremes[it]=Ue.findExtremes(Qe,Na,{padded:Jn,vpadminus:In,vpadplus:Pn,vpadLinearized:!0,ppadminus:{x:Hn,y:Bn}[ct],ppadplus:{x:Bn,y:Hn}[ct]})}}}Ee.exports={crossTraceCalc:function crossTraceCalc(Ee,ze){for(var Be=Ee.calcdata,Ue=ze.xaxis,We=ze.yaxis,$e=0;$e<Qe.length;$e++){for(var et=Qe[$e],tt="h"===et?We:Ue,rt=[],nt=0;nt<Be.length;nt++){var at=Be[nt],it=at[0].t,ct=at[0].trace;!0!==ct.visible||"box"!==ct.type&&"candlestick"!==ct.type||it.empty||(ct.orientation||"v")!==et||ct.xaxis!==Ue._id||ct.yaxis!==We._id||rt.push(nt)}setPositionOffset("box",Ee,rt,tt)}},setPositionOffset:setPositionOffset}},f4e9:function(Ee,ze,Be){"use strict";var Ue=Be("67c4"),We=Be("055a").counter,$e=Be("4852").scales;Object.keys($e);function code(Ee){return"`"+Ee+"`"}Ee.exports=function colorScaleAttrs(Ee,ze){Ee=Ee||"";var Be,Qe=(ze=ze||{}).cLetter||"c",et=("onlyIfNumerical"in ze?ze.onlyIfNumerical:Boolean(Ee),"noScale"in ze?ze.noScale:"marker.line"===Ee),tt="showScaleDflt"in ze?ze.showScaleDflt:"z"===Qe,rt="string"==typeof ze.colorscaleDflt?$e[ze.colorscaleDflt]:null,nt=ze.editTypeOverride||"",at=Ee?Ee+".":"";"colorAttr"in ze?(Be=ze.colorAttr,ze.colorAttr):code(at+(Be={z:"z",c:"color"}[Qe]));var it=Qe+"auto",ct=Qe+"min",ft=Qe+"max",xt=Qe+"mid",kt=(code(at+it),code(at+ct),code(at+ft),{});kt[ct]=kt[ft]=void 0;var Lt={};Lt[it]=!1;var Ut={};return"color"===Be&&(Ut.color={valType:"color",arrayOk:!0,editType:nt||"style"},ze.anim&&(Ut.color.anim=!0)),Ut[it]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:kt},Ut[ct]={valType:"number",dflt:null,editType:nt||"plot",impliedEdits:Lt},Ut[ft]={valType:"number",dflt:null,editType:nt||"plot",impliedEdits:Lt},Ut[xt]={valType:"number",dflt:null,editType:"calc",impliedEdits:kt},Ut.colorscale={valType:"colorscale",editType:"calc",dflt:rt,impliedEdits:{autocolorscale:!1}},Ut.autocolorscale={valType:"boolean",dflt:!1!==ze.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},Ut.reversescale={valType:"boolean",dflt:!1,editType:"plot"},et||(Ut.showscale={valType:"boolean",dflt:tt,editType:"calc"},Ut.colorbar=Ue),ze.noColorAxis||(Ut.coloraxis={valType:"subplotid",regex:We("coloraxis"),dflt:null,editType:"calc"}),Ut}},f508:function(Ee,ze,Be){"use strict";var Ue=Be("936a"),We=Be("1793"),$e=Be("2031"),Qe=Be("f3a6"),et=Be("f973");(Ee.exports=function(Ee,ze){var Be,We,tt,rt,nt;return arguments.length<2||"string"!=typeof Ee?(rt=ze,ze=Ee,Ee=null):rt=arguments[2],Ue(Ee)?(Be=et.call(Ee,"c"),We=et.call(Ee,"e"),tt=et.call(Ee,"w")):(Be=tt=!0,We=!1),nt={value:ze,configurable:Be,enumerable:We,writable:tt},rt?$e(Qe(rt),nt):nt}).gs=function(Ee,ze,Be){var tt,rt,nt,at;return"string"!=typeof Ee?(nt=Be,Be=ze,ze=Ee,Ee=null):nt=arguments[3],Ue(ze)?We(ze)?Ue(Be)?We(Be)||(nt=Be,Be=void 0):Be=void 0:(nt=ze,ze=Be=void 0):ze=void 0,Ue(Ee)?(tt=et.call(Ee,"c"),rt=et.call(Ee,"e")):(tt=!0,rt=!1),at={get:ze,set:Be,configurable:tt,enumerable:rt},nt?$e(Qe(nt),at):at}},f50a:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("8e43");function equalPts(Ee,ze,Be,Ue){return Math.abs(Ee[0]-ze[0])<Be&&Math.abs(Ee[1]-ze[1])<Ue}function makePath(Ee,ze,Be,$e,Qe){var et,tt=ze.join(","),rt=Ee.crossings[tt],nt=function getStartStep(Ee,ze,Be){var Ue=0,$e=0;Ee>20&&ze?208===Ee||1114===Ee?Ue=0===Be[0]?1:-1:$e=0===Be[1]?1:-1:-1!==We.BOTTOMSTART.indexOf(Ee)?$e=1:-1!==We.LEFTSTART.indexOf(Ee)?Ue=1:-1!==We.TOPSTART.indexOf(Ee)?$e=-1:Ue=-1;return[Ue,$e]}(rt,Be,ze),at=[getInterpPx(Ee,ze,[-nt[0],-nt[1]])],it=Ee.z.length,ct=Ee.z[0].length,ft=ze.slice(),xt=nt.slice();for(et=0;et<1e4;et++){if(rt>20?(rt=We.CHOOSESADDLE[rt][(nt[0]||nt[1])<0?0:1],Ee.crossings[tt]=We.SADDLEREMAINDER[rt]):delete Ee.crossings[tt],!(nt=We.NEWDELTA[rt])){Ue.log("Found bad marching index:",rt,ze,Ee.level);break}at.push(getInterpPx(Ee,ze,nt)),ze[0]+=nt[0],ze[1]+=nt[1],tt=ze.join(","),equalPts(at[at.length-1],at[at.length-2],$e,Qe)&&at.pop();var kt=nt[0]&&(ze[0]<0||ze[0]>ct-2)||nt[1]&&(ze[1]<0||ze[1]>it-2);if(ze[0]===ft[0]&&ze[1]===ft[1]&&nt[0]===xt[0]&&nt[1]===xt[1]||Be&&kt)break;rt=Ee.crossings[tt]}1e4===et&&Ue.log("Infinite loop in contour?");var Lt,Ut,er,tr,rr,ar,Lr,Qr,on,sn,ln,cn,un,hn,dn,vn=equalPts(at[0],at[at.length-1],$e,Qe),yn=0,_n=.2*Ee.smoothing,Mn=[],Cn=0;for(et=1;et<at.length;et++)cn=at[et],un=at[et-1],hn=void 0,dn=void 0,hn=cn[2]-un[2],dn=cn[3]-un[3],yn+=Lr=Math.sqrt(hn*hn+dn*dn),Mn.push(Lr);var En=yn/Mn.length*_n;function getpt(Ee){return at[Ee%at.length]}for(et=at.length-2;et>=Cn;et--)if((Lt=Mn[et])<En){for(er=0,Ut=et-1;Ut>=Cn&&Lt+Mn[Ut]<En;Ut--)Lt+=Mn[Ut];if(vn&&et===at.length-2)for(er=0;er<Ut&&Lt+Mn[er]<En;er++)Lt+=Mn[er];rr=et-Ut+er+1,ar=Math.floor((et+Ut+er+2)/2),tr=vn||et!==at.length-2?vn||-1!==Ut?rr%2?getpt(ar):[(getpt(ar)[0]+getpt(ar+1)[0])/2,(getpt(ar)[1]+getpt(ar+1)[1])/2]:at[0]:at[at.length-1],at.splice(Ut+1,et-Ut+1,tr),et=Ut+1,er&&(Cn=er),vn&&(et===at.length-2?at[er]=at[at.length-1]:0===et&&(at[at.length-1]=at[0]))}for(at.splice(0,Cn),et=0;et<at.length;et++)at[et].length=2;if(!(at.length<2))if(vn)at.pop(),Ee.paths.push(at);else{Be||Ue.log("Unclosed interior contour?",Ee.level,ft.join(","),at.join("L"));var Pn=!1;for(Qr=0;Qr<Ee.edgepaths.length;Qr++)if(sn=Ee.edgepaths[Qr],!Pn&&equalPts(sn[0],at[at.length-1],$e,Qe)){at.pop(),Pn=!0;var In=!1;for(on=0;on<Ee.edgepaths.length;on++)if(equalPts((ln=Ee.edgepaths[on])[ln.length-1],at[0],$e,Qe)){In=!0,at.shift(),Ee.edgepaths.splice(Qr,1),on===Qr?Ee.paths.push(at.concat(ln)):(on>Qr&&on--,Ee.edgepaths[on]=ln.concat(at,sn));break}In||(Ee.edgepaths[Qr]=at.concat(sn))}for(Qr=0;Qr<Ee.edgepaths.length&&!Pn;Qr++)equalPts((sn=Ee.edgepaths[Qr])[sn.length-1],at[0],$e,Qe)&&(at.shift(),Ee.edgepaths[Qr]=sn.concat(at),Pn=!0);Pn||Ee.edgepaths.push(at)}}function getInterpPx(Ee,ze,Be){var Ue=ze[0]+Math.max(Be[0],0),We=ze[1]+Math.max(Be[1],0),$e=Ee.z[We][Ue],Qe=Ee.xaxis,et=Ee.yaxis;if(Be[1]){var tt=(Ee.level-$e)/(Ee.z[We][Ue+1]-$e);return[Qe.c2p((1-tt)*Ee.x[Ue]+tt*Ee.x[Ue+1],!0),et.c2p(Ee.y[We],!0),Ue+tt,We]}var rt=(Ee.level-$e)/(Ee.z[We+1][Ue]-$e);return[Qe.c2p(Ee.x[Ue],!0),et.c2p((1-rt)*Ee.y[We]+rt*Ee.y[We+1],!0),Ue,We+rt]}Ee.exports=function findAllPaths(Ee,ze,Be){var We,$e,Qe,et;for(ze=ze||.01,Be=Be||.01,$e=0;$e<Ee.length;$e++){for(Qe=Ee[$e],et=0;et<Qe.starts.length;et++)makePath(Qe,Qe.starts[et],"edge",ze,Be);for(We=0;Object.keys(Qe.crossings).length&&We<1e4;)We++,makePath(Qe,Object.keys(Qe.crossings)[0].split(",").map(Number),void 0,ze,Be);1e4===We&&Ue.log("Infinite loop in contour?")}}},f50f:function(Ee,ze,Be){"use strict";var Ue=Be("de81"),We=Be("e806").BADNUM;Ee.exports=function selectPoints(Ee,ze){var Be,$e,Qe,et,tt,rt=Ee.cd,nt=Ee.xaxis,at=Ee.yaxis,it=[],ct=rt[0].trace;if(!Ue.hasMarkers(ct)&&!Ue.hasText(ct))return[];if(!1===ze)for(tt=0;tt<rt.length;tt++)rt[tt].selected=0;else for(tt=0;tt<rt.length;tt++)($e=(Be=rt[tt]).lonlat)[0]!==We&&(Qe=nt.c2p($e),et=at.c2p($e),ze.contains([Qe,et],null,tt,Ee)?(it.push({pointNumber:tt,lon:$e[0],lat:$e[1]}),Be.selected=1):Be.selected=0);return it}},f510:function(Ee,ze,Be){"use strict";Ee.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},f518:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("119e"),$e=Be("e5ac"),Qe=Be("f7e9");function handleDefaults(Ee,ze,Be,Ue){Be("accesstoken",Ue.accessToken),Be("style"),Be("center.lon"),Be("center.lat"),Be("zoom"),Be("bearing"),Be("pitch"),$e(Ee,ze,{name:"layers",handleItemDefaults:handleLayerDefaults}),ze._input=Ee}function handleLayerDefaults(Ee,ze){function coerce(Be,We){return Ue.coerce(Ee,ze,Qe.layers,Be,We)}if(coerce("visible")){var Be,We=coerce("sourcetype"),$e="raster"===We||"image"===We;coerce("source"),coerce("sourceattribution"),"vector"===We&&coerce("sourcelayer"),"image"===We&&coerce("coordinates"),$e&&(Be="raster");var et=coerce("type",Be);$e&&"raster"!==et&&(et=ze.type="raster",Ue.log("Source types *raster* and *image* must drawn *raster* layer type.")),coerce("below"),coerce("color"),coerce("opacity"),coerce("minzoom"),coerce("maxzoom"),"circle"===et&&coerce("circle.radius"),"line"===et&&(coerce("line.width"),coerce("line.dash")),"fill"===et&&coerce("fill.outlinecolor"),"symbol"===et&&(coerce("symbol.icon"),coerce("symbol.iconsize"),coerce("symbol.text"),Ue.coerceFont(coerce,"symbol.textfont"),coerce("symbol.textposition"),coerce("symbol.placement"))}}Ee.exports=function supplyLayoutDefaults(Ee,ze,Be){We(Ee,ze,Be,{type:"mapbox",attributes:Qe,handleDefaults:handleDefaults,partition:"y",accessToken:ze._mapboxAccessToken})}},f522:function(Ee,ze,Be){"use strict";Ee.exports=Be("bf14")},f552:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("4183"),$e=Be("8bd8");Ee.exports=function supplyDefaults(Ee,ze,Be,Qe){function coerce(Be,We){return Ue.coerce(Ee,ze,$e,Be,We)}var et=coerce("locations"),tt=coerce("z");if(et&&et.length&&Ue.isArrayOrTypedArray(tt)&&tt.length){ze._length=Math.min(et.length,tt.length);var rt,nt=coerce("geojson");("string"==typeof nt&&""!==nt||Ue.isPlainObject(nt))&&(rt="geojson-id"),"geojson-id"===coerce("locationmode",rt)&&coerce("featureidkey"),coerce("text"),coerce("hovertext"),coerce("hovertemplate"),coerce("marker.line.width")&&coerce("marker.line.color"),coerce("marker.opacity"),We(Ee,ze,Qe,coerce,{prefix:"",cLetter:"z"}),Ue.coerceSelectionMarkerOpacity(ze,coerce)}else ze.visible=!1}},f5e6:function(Ee,ze,Be){"use strict";Ee.exports=function(Ee,ze,Be){return ze&&Be?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt,nt,at;ze||(ze=[]),Be*=3,Ue*=3;var it=We*We,ct=it*We,ft=1-We,xt=ft*ft,kt=xt*ft,Lt=$e*$e,Ut=1-$e,er=Ut*Ut,tr=Ut*$e*2,rr=-3*er,ar=3*(er-tr),Lr=3*(tr-Lt),Qr=3*Lt;for(at=0;at<Ee.length;at++)Qe=rr*(nt=Ee[at])[Ue][Be]+ar*nt[Ue+1][Be]+Lr*nt[Ue+2][Be]+Qr*nt[Ue+3][Be],et=rr*nt[Ue][Be+1]+ar*nt[Ue+1][Be+1]+Lr*nt[Ue+2][Be+1]+Qr*nt[Ue+3][Be+1],tt=rr*nt[Ue][Be+2]+ar*nt[Ue+1][Be+2]+Lr*nt[Ue+2][Be+2]+Qr*nt[Ue+3][Be+2],rt=rr*nt[Ue][Be+3]+ar*nt[Ue+1][Be+3]+Lr*nt[Ue+2][Be+3]+Qr*nt[Ue+3][Be+3],ze[at]=kt*Qe+3*(xt*We*et+ft*it*tt)+ct*rt;return ze}:ze?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt,nt,at;ze||(ze=[]),Be*=3;var it=$e*$e,ct=it*$e,ft=1-$e,xt=ft*ft,kt=xt*ft;for(nt=0;nt<Ee.length;nt++)Qe=(at=Ee[nt])[Ue+1][Be]-at[Ue][Be],et=at[Ue+1][Be+1]-at[Ue][Be+1],tt=at[Ue+1][Be+2]-at[Ue][Be+2],rt=at[Ue+1][Be+3]-at[Ue][Be+3],ze[nt]=kt*Qe+3*(xt*$e*et+ft*it*tt)+ct*rt;return ze}:Be?function(ze,Be,Ue,We,$e){var Qe,et,tt,rt;ze||(ze=[]),Ue*=3;var nt=1-We,at=$e*$e,it=1-$e,ct=it*it,ft=it*$e*2,xt=-3*ct,kt=3*(ct-ft),Lt=3*(ft-at),Ut=3*at;for(tt=0;tt<Ee.length;tt++)Qe=xt*(rt=Ee[tt])[Ue][Be]+kt*rt[Ue+1][Be]+Lt*rt[Ue+2][Be]+Ut*rt[Ue+3][Be],et=xt*rt[Ue][Be+1]+kt*rt[Ue+1][Be+1]+Lt*rt[Ue+2][Be+1]+Ut*rt[Ue+3][Be+1],ze[tt]=nt*Qe+We*et;return ze}:function(ze,Be,Ue,We,$e){var Qe,et,tt,rt;ze||(ze=[]);var nt=1-We;for(tt=0;tt<Ee.length;tt++)Qe=(rt=Ee[tt])[Ue+1][Be]-rt[Ue][Be],et=rt[Ue+1][Be+1]-rt[Ue][Be+1],ze[tt]=nt*Qe+We*et;return ze}}},f5f2:function(Ee,ze,Be){var Ue=Be("1936");Ee.exports=Ue.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},f604:function(Ee,ze,Be){"use strict";var Ue=Be("05d6"),We=Be("6e58"),$e=Be("66cb"),Qe=Be("d115"),et=Be("83d1"),tt=Be("e92d"),rt=Be("2e22"),nt=Be("0a4a"),at=Be("fc26"),it=Be("0a3e"),ct=it.keyFun,ft=it.repeat,xt=it.unwrap,kt=Be("a43d").interpolateNumber,Lt=Be("371e");function sankeyModel(Ee,ze,Be){var We,Qe=xt(ze),et=Qe.trace,nt=et.domain,it="h"===et.orientation,ct=et.node.pad,ft=et.node.thickness,kt=Ee.width*(nt.x[1]-nt.x[0]),Lt=Ee.height*(nt.y[1]-nt.y[0]),Ut=Qe._nodes,er=Qe._links,tr=Qe.circular;(We=tr?rt.sankeyCircular().circularLinkGap(0):tt.sankey()).iterations(Ue.sankeyIterations).size(it?[kt,Lt]:[Lt,kt]).nodeWidth(ft).nodePadding(ct).nodeId((function(Ee){return Ee.pointNumber})).nodes(Ut).links(er);var rr,ar,Lr,Qr=We();for(var on in We.nodePadding()<ct&&at.warn("node.pad was reduced to ",We.nodePadding()," to fit within the figure."),Qe._groupLookup){var sn,ln=parseInt(Qe._groupLookup[on]);for(rr=0;rr<Qr.nodes.length;rr++)if(Qr.nodes[rr].pointNumber===ln){sn=Qr.nodes[rr];break}if(sn){var cn={pointNumber:parseInt(on),x0:sn.x0,x1:sn.x1,y0:sn.y0,y1:sn.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Qr.nodes.unshift(cn),sn.childrenNodes.unshift(cn)}}if(function computeLinkConcentrations(){for(rr=0;rr<Qr.nodes.length;rr++){var Ee,ze,Be=Qr.nodes[rr],Ue={};for(ar=0;ar<Be.targetLinks.length;ar++)Ee=(ze=Be.targetLinks[ar]).source.pointNumber+":"+ze.target.pointNumber,Ue.hasOwnProperty(Ee)||(Ue[Ee]=[]),Ue[Ee].push(ze);var We=Object.keys(Ue);for(ar=0;ar<We.length;ar++){var Qe=Ue[Ee=We[ar]],et=0,tt={};for(Lr=0;Lr<Qe.length;Lr++)tt[(ze=Qe[Lr]).label]||(tt[ze.label]=0),tt[ze.label]+=ze.value,et+=ze.value;for(Lr=0;Lr<Qe.length;Lr++)(ze=Qe[Lr]).flow={value:et,labelConcentration:tt[ze.label]/et,concentration:ze.value/et,links:Qe},ze.concentrationscale&&(ze.color=$e(ze.concentrationscale(ze.flow.labelConcentration)))}var rt=0;for(ar=0;ar<Be.sourceLinks.length;ar++)rt+=Be.sourceLinks[ar].value;for(ar=0;ar<Be.sourceLinks.length;ar++)(ze=Be.sourceLinks[ar]).concentrationOut=ze.value/rt;var nt=0;for(ar=0;ar<Be.targetLinks.length;ar++)nt+=Be.targetLinks[ar].value;for(ar=0;ar<Be.targetLinks.length;ar++)(ze=Be.targetLinks[ar]).concenrationIn=ze.value/nt}}(),et.node.x.length&&et.node.y.length){for(rr=0;rr<Math.min(et.node.x.length,et.node.y.length,Qr.nodes.length);rr++)if(et.node.x[rr]&&et.node.y[rr]){var un=[et.node.x[rr]*kt,et.node.y[rr]*Lt];Qr.nodes[rr].x0=un[0]-ft/2,Qr.nodes[rr].x1=un[0]+ft/2;var hn=Qr.nodes[rr].y1-Qr.nodes[rr].y0;Qr.nodes[rr].y0=un[1]-hn/2,Qr.nodes[rr].y1=un[1]+hn/2}if("snap"===et.arrangement)!function resolveCollisionsTopToBottom(Ee){Ee.forEach((function(Ee){var ze,Be,Ue,We=0,$e=Ee.length;for(Ee.sort((function(Ee,ze){return Ee.y0-ze.y0})),Ue=0;Ue<$e;++Ue)(ze=Ee[Ue]).y0>=We||(Be=We-ze.y0)>1e-6&&(ze.y0+=Be,ze.y1+=Be),We=ze.y1+ct}))}(function snapToColumns(Ee){var ze,Be,Ue=Ee.map((function(Ee,ze){return{x0:Ee.x0,index:ze}})).sort((function(Ee,ze){return Ee.x0-ze.x0})),We=[],$e=-1,Qe=-1/0;for(rr=0;rr<Ue.length;rr++){var et=Ee[Ue[rr].index];et.x0>Qe+ft&&($e+=1,ze=et.x0),Qe=et.x0,We[$e]||(We[$e]=[]),We[$e].push(et),Be=ze-et.x0,et.x0+=Be,et.x1+=Be}return We}(Ut=Qr.nodes));We.update(Qr)}return{circular:tr,key:Be,trace:et,guid:at.randstr(),horizontal:it,width:kt,height:Lt,nodePad:et.node.pad,nodeLineColor:et.node.line.color,nodeLineWidth:et.node.line.width,linkLineColor:et.link.line.color,linkLineWidth:et.link.line.width,valueFormat:et.valueformat,valueSuffix:et.valuesuffix,textFont:et.textfont,translateX:nt.x[0]*Ee.width+Ee.margin.l,translateY:Ee.height-nt.y[1]*Ee.height+Ee.margin.t,dragParallel:it?Lt:kt,dragPerpendicular:it?kt:Lt,arrangement:et.arrangement,sankey:We,graph:Qr,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function linkModel(Ee,ze,Be){var Ue=$e(ze.color),We=ze.source.label+"|"+ze.target.label+"__"+Be;return ze.trace=Ee.trace,ze.curveNumber=Ee.trace.index,{circular:Ee.circular,key:We,traceId:Ee.key,pointNumber:ze.pointNumber,link:ze,tinyColorHue:Qe.tinyRGB(Ue),tinyColorAlpha:Ue.getAlpha(),linkPath:linkPath,linkLineColor:Ee.linkLineColor,linkLineWidth:Ee.linkLineWidth,valueFormat:Ee.valueFormat,valueSuffix:Ee.valueSuffix,sankey:Ee.sankey,parent:Ee,interactionState:Ee.interactionState,flow:ze.flow}}function linkPath(){return function path(Ee){if(Ee.link.circular)return function createCircularClosedPathString(Ee){var ze=Ee.width/2,Be=Ee.circularPathData;return"top"===Ee.circularLinkType?"M "+Be.targetX+" "+(Be.targetY+ze)+" L"+Be.rightInnerExtent+" "+(Be.targetY+ze)+"A"+(Be.rightLargeArcRadius+ze)+" "+(Be.rightSmallArcRadius+ze)+" 0 0 1 "+(Be.rightFullExtent-ze)+" "+(Be.targetY-Be.rightSmallArcRadius)+"L"+(Be.rightFullExtent-ze)+" "+Be.verticalRightInnerExtent+"A"+(Be.rightLargeArcRadius+ze)+" "+(Be.rightLargeArcRadius+ze)+" 0 0 1 "+Be.rightInnerExtent+" "+(Be.verticalFullExtent-ze)+"L"+Be.leftInnerExtent+" "+(Be.verticalFullExtent-ze)+"A"+(Be.leftLargeArcRadius+ze)+" "+(Be.leftLargeArcRadius+ze)+" 0 0 1 "+(Be.leftFullExtent+ze)+" "+Be.verticalLeftInnerExtent+"L"+(Be.leftFullExtent+ze)+" "+(Be.sourceY-Be.leftSmallArcRadius)+"A"+(Be.leftLargeArcRadius+ze)+" "+(Be.leftSmallArcRadius+ze)+" 0 0 1 "+Be.leftInnerExtent+" "+(Be.sourceY+ze)+"L"+Be.sourceX+" "+(Be.sourceY+ze)+"L"+Be.sourceX+" "+(Be.sourceY-ze)+"L"+Be.leftInnerExtent+" "+(Be.sourceY-ze)+"A"+(Be.leftLargeArcRadius-ze)+" "+(Be.leftSmallArcRadius-ze)+" 0 0 0 "+(Be.leftFullExtent-ze)+" "+(Be.sourceY-Be.leftSmallArcRadius)+"L"+(Be.leftFullExtent-ze)+" "+Be.verticalLeftInnerExtent+"A"+(Be.leftLargeArcRadius-ze)+" "+(Be.leftLargeArcRadius-ze)+" 0 0 0 "+Be.leftInnerExtent+" "+(Be.verticalFullExtent+ze)+"L"+Be.rightInnerExtent+" "+(Be.verticalFullExtent+ze)+"A"+(Be.rightLargeArcRadius-ze)+" "+(Be.rightLargeArcRadius-ze)+" 0 0 0 "+(Be.rightFullExtent+ze)+" "+Be.verticalRightInnerExtent+"L"+(Be.rightFullExtent+ze)+" "+(Be.targetY-Be.rightSmallArcRadius)+"A"+(Be.rightLargeArcRadius-ze)+" "+(Be.rightSmallArcRadius-ze)+" 0 0 0 "+Be.rightInnerExtent+" "+(Be.targetY-ze)+"L"+Be.targetX+" "+(Be.targetY-ze)+"Z":"M "+Be.targetX+" "+(Be.targetY-ze)+" L"+Be.rightInnerExtent+" "+(Be.targetY-ze)+"A"+(Be.rightLargeArcRadius+ze)+" "+(Be.rightSmallArcRadius+ze)+" 0 0 0 "+(Be.rightFullExtent-ze)+" "+(Be.targetY+Be.rightSmallArcRadius)+"L"+(Be.rightFullExtent-ze)+" "+Be.verticalRightInnerExtent+"A"+(Be.rightLargeArcRadius+ze)+" "+(Be.rightLargeArcRadius+ze)+" 0 0 0 "+Be.rightInnerExtent+" "+(Be.verticalFullExtent+ze)+"L"+Be.leftInnerExtent+" "+(Be.verticalFullExtent+ze)+"A"+(Be.leftLargeArcRadius+ze)+" "+(Be.leftLargeArcRadius+ze)+" 0 0 0 "+(Be.leftFullExtent+ze)+" "+Be.verticalLeftInnerExtent+"L"+(Be.leftFullExtent+ze)+" "+(Be.sourceY+Be.leftSmallArcRadius)+"A"+(Be.leftLargeArcRadius+ze)+" "+(Be.leftSmallArcRadius+ze)+" 0 0 0 "+Be.leftInnerExtent+" "+(Be.sourceY-ze)+"L"+Be.sourceX+" "+(Be.sourceY-ze)+"L"+Be.sourceX+" "+(Be.sourceY+ze)+"L"+Be.leftInnerExtent+" "+(Be.sourceY+ze)+"A"+(Be.leftLargeArcRadius-ze)+" "+(Be.leftSmallArcRadius-ze)+" 0 0 1 "+(Be.leftFullExtent-ze)+" "+(Be.sourceY+Be.leftSmallArcRadius)+"L"+(Be.leftFullExtent-ze)+" "+Be.verticalLeftInnerExtent+"A"+(Be.leftLargeArcRadius-ze)+" "+(Be.leftLargeArcRadius-ze)+" 0 0 1 "+Be.leftInnerExtent+" "+(Be.verticalFullExtent-ze)+"L"+Be.rightInnerExtent+" "+(Be.verticalFullExtent-ze)+"A"+(Be.rightLargeArcRadius-ze)+" "+(Be.rightLargeArcRadius-ze)+" 0 0 1 "+(Be.rightFullExtent+ze)+" "+Be.verticalRightInnerExtent+"L"+(Be.rightFullExtent+ze)+" "+(Be.targetY+Be.rightSmallArcRadius)+"A"+(Be.rightLargeArcRadius-ze)+" "+(Be.rightSmallArcRadius-ze)+" 0 0 1 "+Be.rightInnerExtent+" "+(Be.targetY+ze)+"L"+Be.targetX+" "+(Be.targetY+ze)+"Z"}(Ee.link);var ze=Ee.link.source.x1,Be=Ee.link.target.x0,Ue=kt(ze,Be),We=Ue(.5),$e=Ue(.5),Qe=Ee.link.y0-Ee.link.width/2,et=Ee.link.y0+Ee.link.width/2,tt=Ee.link.y1-Ee.link.width/2,rt=Ee.link.y1+Ee.link.width/2;return"M"+ze+","+Qe+"C"+We+","+Qe+" "+$e+","+tt+" "+Be+","+tt+"L"+Be+","+rt+"C"+$e+","+rt+" "+We+","+et+" "+ze+","+et+"Z"}}function nodeModel(Ee,ze){var Be=$e(ze.color),We=Ue.nodePadAcross,et=Ee.nodePad/2;ze.dx=ze.x1-ze.x0,ze.dy=ze.y1-ze.y0;var tt=ze.dx,rt=Math.max(.5,ze.dy),nt="node_"+ze.pointNumber;return ze.group&&(nt=at.randstr()),ze.trace=Ee.trace,ze.curveNumber=Ee.trace.index,{index:ze.pointNumber,key:nt,partOfGroup:ze.partOfGroup||!1,group:ze.group,traceId:Ee.key,trace:Ee.trace,node:ze,nodePad:Ee.nodePad,nodeLineColor:Ee.nodeLineColor,nodeLineWidth:Ee.nodeLineWidth,textFont:Ee.textFont,size:Ee.horizontal?Ee.height:Ee.width,visibleWidth:Math.ceil(tt),visibleHeight:rt,zoneX:-We,zoneY:-et,zoneWidth:tt+2*We,zoneHeight:rt+2*et,labelY:Ee.horizontal?ze.dy/2+1:ze.dx/2+1,left:1===ze.originalLayer,sizeAcross:Ee.width,forceLayouts:Ee.forceLayouts,horizontal:Ee.horizontal,darkBackground:Be.getBrightness()<=128,tinyColorHue:Qe.tinyRGB(Be),tinyColorAlpha:Be.getAlpha(),valueFormat:Ee.valueFormat,valueSuffix:Ee.valueSuffix,sankey:Ee.sankey,graph:Ee.graph,arrangement:Ee.arrangement,uniqueNodeLabelPathId:[Ee.guid,Ee.key,nt].join("_"),interactionState:Ee.interactionState,figure:Ee}}function updateNodePositions(Ee){Ee.attr("transform",(function(Ee){return"translate("+Ee.node.x0.toFixed(3)+", "+Ee.node.y0.toFixed(3)+")"}))}function updateNodeShapes(Ee){Ee.call(updateNodePositions)}function updateShapes(Ee,ze){Ee.call(updateNodeShapes),ze.attr("d",linkPath())}function sizeNode(Ee){Ee.attr("width",(function(Ee){return Ee.node.x1-Ee.node.x0})).attr("height",(function(Ee){return Ee.visibleHeight}))}function salientEnough(Ee){return Ee.link.width>1||Ee.linkLineWidth>0}function sankeyTransform(Ee){return"translate("+Ee.translateX+","+Ee.translateY+")"+(Ee.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function nodeCentering(Ee){return"translate("+(Ee.horizontal?0:Ee.labelY)+" "+(Ee.horizontal?Ee.labelY:0)+")"}function textGuidePath(Ee){return We.svg.line()([[Ee.horizontal?Ee.left?-Ee.sizeAcross:Ee.visibleWidth+Ue.nodeTextOffsetHorizontal:Ue.nodeTextOffsetHorizontal,0],[Ee.horizontal?Ee.left?-Ue.nodeTextOffsetHorizontal:Ee.sizeAcross:Ee.visibleHeight-Ue.nodeTextOffsetHorizontal,0]])}function sankeyInverseTransform(Ee){return Ee.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)"}function textFlip(Ee){return Ee.horizontal?"scale(1 1)":"scale(-1 1)"}function nodeTextColor(Ee){return Ee.darkBackground&&!Ee.horizontal?"rgb(255,255,255)":"rgb(0,0,0)"}function nodeTextOffset(Ee){return Ee.horizontal&&Ee.left?"100%":"0%"}function attachPointerEvents(Ee,ze,Be){Ee.on(".basic",null).on("mouseover.basic",(function(Ee){Ee.interactionState.dragInProgress||Ee.partOfGroup||(Be.hover(this,Ee,ze),Ee.interactionState.hovered=[this,Ee])})).on("mousemove.basic",(function(Ee){Ee.interactionState.dragInProgress||Ee.partOfGroup||(Be.follow(this,Ee),Ee.interactionState.hovered=[this,Ee])})).on("mouseout.basic",(function(Ee){Ee.interactionState.dragInProgress||Ee.partOfGroup||(Be.unhover(this,Ee,ze),Ee.interactionState.hovered=!1)})).on("click.basic",(function(Ee){Ee.interactionState.hovered&&(Be.unhover(this,Ee,ze),Ee.interactionState.hovered=!1),Ee.interactionState.dragInProgress||Ee.partOfGroup||Be.select(this,Ee,ze)}))}function attachDragHandler(Ee,ze,Be,$e){var Qe=We.behavior.drag().origin((function(Ee){return{x:Ee.node.x0+Ee.visibleWidth/2,y:Ee.node.y0+Ee.visibleHeight/2}})).on("dragstart",(function(We){if("fixed"!==We.arrangement&&(at.ensureSingle($e._fullLayout._infolayer,"g","dragcover",(function(Ee){$e._fullLayout._dragCover=Ee})),at.raiseToTop(this),We.interactionState.dragInProgress=We.node,saveCurrentDragPosition(We.node),We.interactionState.hovered&&(Be.nodeEvents.unhover.apply(0,We.interactionState.hovered),We.interactionState.hovered=!1),"snap"===We.arrangement)){var Qe=We.traceId+"|"+We.key;We.forceLayouts[Qe]?We.forceLayouts[Qe].alpha(1):function attachForce(Ee,ze,Be,We){!function switchToForceFormat(Ee){for(var ze=0;ze<Ee.length;ze++)Ee[ze].y=(Ee[ze].y0+Ee[ze].y1)/2,Ee[ze].x=(Ee[ze].x0+Ee[ze].x1)/2}(Be.graph.nodes);var $e=Be.graph.nodes.filter((function(Ee){return Ee.originalX===Be.node.originalX})).filter((function(Ee){return!Ee.partOfGroup}));Be.forceLayouts[ze]=nt.forceSimulation($e).alphaDecay(0).force("collide",nt.forceCollide().radius((function(Ee){return Ee.dy/2+Be.nodePad/2})).strength(1).iterations(Ue.forceIterations)).force("constrain",function snappingForce(Ee,ze,Be,We){return function _snappingForce(){for(var Ee=0,$e=0;$e<Be.length;$e++){var Qe=Be[$e];Qe===We.interactionState.dragInProgress?(Qe.x=Qe.lastDraggedX,Qe.y=Qe.lastDraggedY):(Qe.vx=(Qe.originalX-Qe.x)/Ue.forceTicksPerFrame,Qe.y=Math.min(We.size-Qe.dy/2,Math.max(Qe.dy/2,Qe.y))),Ee=Math.max(Ee,Math.abs(Qe.vx),Math.abs(Qe.vy))}!We.interactionState.dragInProgress&&Ee<.1&&We.forceLayouts[ze].alpha()>0&&We.forceLayouts[ze].alpha(0)}}(0,ze,$e,Be)).stop()}(0,Qe,We),function startForce(Ee,ze,Be,We,$e){window.requestAnimationFrame((function faster(){var Qe;for(Qe=0;Qe<Ue.forceTicksPerFrame;Qe++)Be.forceLayouts[We].tick();if(function switchToSankeyFormat(Ee){for(var ze=0;ze<Ee.length;ze++)Ee[ze].y0=Ee[ze].y-Ee[ze].dy/2,Ee[ze].y1=Ee[ze].y0+Ee[ze].dy,Ee[ze].x0=Ee[ze].x-Ee[ze].dx/2,Ee[ze].x1=Ee[ze].x0+Ee[ze].dx}(Be.graph.nodes),Be.sankey.update(Be.graph),updateShapes(Ee.filter(sameLayer(Be)),ze),Be.forceLayouts[We].alpha()>0)window.requestAnimationFrame(faster);else{var et=Be.node.originalX;Be.node.x0=et-Be.visibleWidth/2,Be.node.x1=et+Be.visibleWidth/2,persistFinalNodePositions(Be,$e)}}))}(Ee,ze,We,Qe,$e)}})).on("drag",(function(Be){if("fixed"!==Be.arrangement){var Ue=We.event.x,$e=We.event.y;"snap"===Be.arrangement?(Be.node.x0=Ue-Be.visibleWidth/2,Be.node.x1=Ue+Be.visibleWidth/2,Be.node.y0=$e-Be.visibleHeight/2,Be.node.y1=$e+Be.visibleHeight/2):("freeform"===Be.arrangement&&(Be.node.x0=Ue-Be.visibleWidth/2,Be.node.x1=Ue+Be.visibleWidth/2),$e=Math.max(0,Math.min(Be.size-Be.visibleHeight/2,$e)),Be.node.y0=$e-Be.visibleHeight/2,Be.node.y1=$e+Be.visibleHeight/2),saveCurrentDragPosition(Be.node),"snap"!==Be.arrangement&&(Be.sankey.update(Be.graph),updateShapes(Ee.filter(sameLayer(Be)),ze))}})).on("dragend",(function(Ee){if("fixed"!==Ee.arrangement){Ee.interactionState.dragInProgress=!1;for(var ze=0;ze<Ee.node.childrenNodes.length;ze++)Ee.node.childrenNodes[ze].x=Ee.node.x,Ee.node.childrenNodes[ze].y=Ee.node.y;"snap"!==Ee.arrangement&&persistFinalNodePositions(Ee,$e)}}));Ee.on(".drag",null).call(Qe)}function persistFinalNodePositions(Ee,ze){for(var Be=[],Ue=[],We=0;We<Ee.graph.nodes.length;We++){var $e=(Ee.graph.nodes[We].x0+Ee.graph.nodes[We].x1)/2,Qe=(Ee.graph.nodes[We].y0+Ee.graph.nodes[We].y1)/2;Be.push($e/Ee.figure.width),Ue.push(Qe/Ee.figure.height)}Lt.call("_guiRestyle",ze,{"node.x":[Be],"node.y":[Ue]},Ee.trace.index).then((function(){ze._fullLayout._dragCover&&ze._fullLayout._dragCover.remove()}))}function saveCurrentDragPosition(Ee){Ee.lastDraggedX=Ee.x0+Ee.dx/2,Ee.lastDraggedY=Ee.y0+Ee.dy/2}function sameLayer(Ee){return function(ze){return ze.node.originalX===Ee.node.originalX}}Ee.exports=function(Ee,ze,Be,tt,rt){var nt=!1;at.ensureSingle(Ee._fullLayout._infolayer,"g","first-render",(function(){nt=!0}));var it=Ee._fullLayout._dragCover,kt=Be.filter((function(Ee){return xt(Ee).trace.visible})).map(sankeyModel.bind(null,tt)),Lt=ze.selectAll("."+Ue.cn.sankey).data(kt,ct);Lt.exit().remove(),Lt.enter().append("g").classed(Ue.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events","auto").attr("transform",sankeyTransform),Lt.each((function(ze,Be){Ee._fullData[Be]._sankey=ze;var Ue="bgsankey-"+ze.trace.uid+"-"+Be;at.ensureSingle(Ee._fullLayout._draggers,"rect",Ue),Ee._fullData[Be]._bgRect=We.select("."+Ue),Ee._fullData[Be]._bgRect.style("pointer-events","all").attr("width",ze.width).attr("height",ze.height).attr("x",ze.translateX).attr("y",ze.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})})),Lt.transition().ease(Ue.ease).duration(Ue.duration).attr("transform",sankeyTransform);var Ut=Lt.selectAll("."+Ue.cn.sankeyLinks).data(ft,ct);Ut.enter().append("g").classed(Ue.cn.sankeyLinks,!0).style("fill","none");var er=Ut.selectAll("."+Ue.cn.sankeyLink).data((function(Ee){return Ee.graph.links.filter((function(Ee){return Ee.value})).map(linkModel.bind(null,Ee))}),ct);er.enter().append("path").classed(Ue.cn.sankeyLink,!0).call(attachPointerEvents,Lt,rt.linkEvents),er.style("stroke",(function(Ee){return salientEnough(Ee)?Qe.tinyRGB($e(Ee.linkLineColor)):Ee.tinyColorHue})).style("stroke-opacity",(function(Ee){return salientEnough(Ee)?Qe.opacity(Ee.linkLineColor):Ee.tinyColorAlpha})).style("fill",(function(Ee){return Ee.tinyColorHue})).style("fill-opacity",(function(Ee){return Ee.tinyColorAlpha})).style("stroke-width",(function(Ee){return salientEnough(Ee)?Ee.linkLineWidth:1})).attr("d",linkPath()),er.style("opacity",(function(){return Ee._context.staticPlot||nt||it?1:0})).transition().ease(Ue.ease).duration(Ue.duration).style("opacity",1),er.exit().transition().ease(Ue.ease).duration(Ue.duration).style("opacity",0).remove();var tr=Lt.selectAll("."+Ue.cn.sankeyNodeSet).data(ft,ct);tr.enter().append("g").classed(Ue.cn.sankeyNodeSet,!0),tr.style("cursor",(function(Ee){switch(Ee.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}}));var rr=tr.selectAll("."+Ue.cn.sankeyNode).data((function(Ee){var ze=Ee.graph.nodes;return function persistOriginalPlace(Ee){var ze,Be=[];for(ze=0;ze<Ee.length;ze++)Ee[ze].originalX=(Ee[ze].x0+Ee[ze].x1)/2,Ee[ze].originalY=(Ee[ze].y0+Ee[ze].y1)/2,-1===Be.indexOf(Ee[ze].originalX)&&Be.push(Ee[ze].originalX);for(Be.sort((function(Ee,ze){return Ee-ze})),ze=0;ze<Ee.length;ze++)Ee[ze].originalLayerIndex=Be.indexOf(Ee[ze].originalX),Ee[ze].originalLayer=Ee[ze].originalLayerIndex/(Be.length-1)}(ze),ze.map(nodeModel.bind(null,Ee))}),ct);rr.enter().append("g").classed(Ue.cn.sankeyNode,!0).call(updateNodePositions).style("opacity",(function(ze){return!Ee._context.staticPlot&&!nt||ze.partOfGroup?0:1})),rr.call(attachPointerEvents,Lt,rt.nodeEvents).call(attachDragHandler,er,rt,Ee),rr.transition().ease(Ue.ease).duration(Ue.duration).call(updateNodePositions).style("opacity",(function(Ee){return Ee.partOfGroup?0:1})),rr.exit().transition().ease(Ue.ease).duration(Ue.duration).style("opacity",0).remove();var ar=rr.selectAll("."+Ue.cn.nodeRect).data(ft);ar.enter().append("rect").classed(Ue.cn.nodeRect,!0).call(sizeNode),ar.style("stroke-width",(function(Ee){return Ee.nodeLineWidth})).style("stroke",(function(Ee){return Qe.tinyRGB($e(Ee.nodeLineColor))})).style("stroke-opacity",(function(Ee){return Qe.opacity(Ee.nodeLineColor)})).style("fill",(function(Ee){return Ee.tinyColorHue})).style("fill-opacity",(function(Ee){return Ee.tinyColorAlpha})),ar.transition().ease(Ue.ease).duration(Ue.duration).call(sizeNode);var Lr=rr.selectAll("."+Ue.cn.nodeCapture).data(ft);Lr.enter().append("rect").classed(Ue.cn.nodeCapture,!0).style("fill-opacity",0),Lr.attr("x",(function(Ee){return Ee.zoneX})).attr("y",(function(Ee){return Ee.zoneY})).attr("width",(function(Ee){return Ee.zoneWidth})).attr("height",(function(Ee){return Ee.zoneHeight}));var Qr=rr.selectAll("."+Ue.cn.nodeCentered).data(ft);Qr.enter().append("g").classed(Ue.cn.nodeCentered,!0).attr("transform",nodeCentering),Qr.transition().ease(Ue.ease).duration(Ue.duration).attr("transform",nodeCentering);var on=Qr.selectAll("."+Ue.cn.nodeLabelGuide).data(ft);on.enter().append("path").classed(Ue.cn.nodeLabelGuide,!0).attr("id",(function(Ee){return Ee.uniqueNodeLabelPathId})).attr("d",textGuidePath).attr("transform",sankeyInverseTransform),on.transition().ease(Ue.ease).duration(Ue.duration).attr("d",textGuidePath).attr("transform",sankeyInverseTransform);var sn=Qr.selectAll("."+Ue.cn.nodeLabel).data(ft);sn.enter().append("text").classed(Ue.cn.nodeLabel,!0).attr("transform",textFlip).style("user-select","none").style("cursor","default").style("fill","black"),sn.style("text-shadow",(function(Ee){return Ee.horizontal?"-1px 1px 1px #fff, 1px 1px 1px #fff, 1px -1px 1px #fff, -1px -1px 1px #fff":"none"})).each((function(Ee){et.font(sn,Ee.textFont)})),sn.transition().ease(Ue.ease).duration(Ue.duration).attr("transform",textFlip);var ln=sn.selectAll("."+Ue.cn.nodeLabelTextPath).data(ft);ln.enter().append("textPath").classed(Ue.cn.nodeLabelTextPath,!0).attr("alignment-baseline","middle").attr("xlink:href",(function(Ee){return"#"+Ee.uniqueNodeLabelPathId})).attr("startOffset",nodeTextOffset).style("fill",nodeTextColor),ln.text((function(Ee){return Ee.horizontal||Ee.node.dy>5?Ee.node.label:""})).attr("text-anchor",(function(Ee){return Ee.horizontal&&Ee.left?"end":"start"})),ln.transition().ease(Ue.ease).duration(Ue.duration).attr("startOffset",nodeTextOffset).style("fill",nodeTextColor)}},f60e:function(Ee,ze,Be){"use strict";var Ue=Be("7bdf"),We=Be("96ae"),$e=Math.max;Ee.exports=function(Ee,ze){var Be,Qe,et,tt=$e(arguments.length,2);for(Ee=Object(We(Ee)),et=function(Ue){try{Ee[Ue]=ze[Ue]}catch(Ee){Be||(Be=Ee)}},Qe=1;Qe<tt;++Qe)Ue(ze=arguments[Qe]).forEach(et);if(void 0!==Be)throw Be;return Ee}},f63b:function(Ee,ze,Be){"use strict";var Ue=Be("2195");Ee.exports=function add(Ee,ze){return Ue(Ee[0].mul(ze[1]).add(ze[0].mul(Ee[1])),Ee[1].mul(ze[1]))}},f654:function(Ee,ze,Be){"use strict";(function(ze){var Ue=Be("320c");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(Ee,ze){if(Ee===ze)return 0;for(var Be=Ee.length,Ue=ze.length,We=0,$e=Math.min(Be,Ue);We<$e;++We)if(Ee[We]!==ze[We]){Be=Ee[We],Ue=ze[We];break}return Be<Ue?-1:Ue<Be?1:0}function isBuffer(Ee){return ze.Buffer&&"function"==typeof ze.Buffer.isBuffer?ze.Buffer.isBuffer(Ee):!(null==Ee||!Ee._isBuffer)}var We=Be("3022"),$e=Object.prototype.hasOwnProperty,Qe=Array.prototype.slice,et="foo"===function foo(){}.name;function pToString(Ee){return Object.prototype.toString.call(Ee)}function isView(Ee){return!isBuffer(Ee)&&("function"==typeof ze.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(Ee):!!Ee&&(Ee instanceof DataView||!!(Ee.buffer&&Ee.buffer instanceof ArrayBuffer))))}var tt=Ee.exports=ok,rt=/\s*function\s+([^\(\s]*)\s*/;function getName(Ee){if(We.isFunction(Ee)){if(et)return Ee.name;var ze=Ee.toString().match(rt);return ze&&ze[1]}}function truncate(Ee,ze){return"string"==typeof Ee?Ee.length<ze?Ee:Ee.slice(0,ze):Ee}function inspect(Ee){if(et||!We.isFunction(Ee))return We.inspect(Ee);var ze=getName(Ee);return"[Function"+(ze?": "+ze:"")+"]"}function fail(Ee,ze,Be,Ue,We){throw new tt.AssertionError({message:Be,actual:Ee,expected:ze,operator:Ue,stackStartFunction:We})}function ok(Ee,ze){Ee||fail(Ee,!0,ze,"==",tt.ok)}function _deepEqual(Ee,ze,Be,Ue){if(Ee===ze)return!0;if(isBuffer(Ee)&&isBuffer(ze))return 0===compare(Ee,ze);if(We.isDate(Ee)&&We.isDate(ze))return Ee.getTime()===ze.getTime();if(We.isRegExp(Ee)&&We.isRegExp(ze))return Ee.source===ze.source&&Ee.global===ze.global&&Ee.multiline===ze.multiline&&Ee.lastIndex===ze.lastIndex&&Ee.ignoreCase===ze.ignoreCase;if(null!==Ee&&"object"==typeof Ee||null!==ze&&"object"==typeof ze){if(isView(Ee)&&isView(ze)&&pToString(Ee)===pToString(ze)&&!(Ee instanceof Float32Array||Ee instanceof Float64Array))return 0===compare(new Uint8Array(Ee.buffer),new Uint8Array(ze.buffer));if(isBuffer(Ee)!==isBuffer(ze))return!1;var $e=(Ue=Ue||{actual:[],expected:[]}).actual.indexOf(Ee);return-1!==$e&&$e===Ue.expected.indexOf(ze)||(Ue.actual.push(Ee),Ue.expected.push(ze),function objEquiv(Ee,ze,Be,Ue){if(null==Ee||null==ze)return!1;if(We.isPrimitive(Ee)||We.isPrimitive(ze))return Ee===ze;if(Be&&Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(ze))return!1;var $e=isArguments(Ee),et=isArguments(ze);if($e&&!et||!$e&&et)return!1;if($e)return Ee=Qe.call(Ee),ze=Qe.call(ze),_deepEqual(Ee,ze,Be);var tt,rt,at=nt(Ee),it=nt(ze);if(at.length!==it.length)return!1;for(at.sort(),it.sort(),rt=at.length-1;rt>=0;rt--)if(at[rt]!==it[rt])return!1;for(rt=at.length-1;rt>=0;rt--)if(tt=at[rt],!_deepEqual(Ee[tt],ze[tt],Be,Ue))return!1;return!0}(Ee,ze,Be,Ue))}return Be?Ee===ze:Ee==ze}function isArguments(Ee){return"[object Arguments]"==Object.prototype.toString.call(Ee)}function expectedException(Ee,ze){if(!Ee||!ze)return!1;if("[object RegExp]"==Object.prototype.toString.call(ze))return ze.test(Ee);try{if(Ee instanceof ze)return!0}catch(Ee){}return!Error.isPrototypeOf(ze)&&!0===ze.call({},Ee)}function _throws(Ee,ze,Be,Ue){var $e;if("function"!=typeof ze)throw new TypeError('"block" argument must be a function');"string"==typeof Be&&(Ue=Be,Be=null),$e=function _tryBlock(Ee){var ze;try{Ee()}catch(Ee){ze=Ee}return ze}(ze),Ue=(Be&&Be.name?" ("+Be.name+").":".")+(Ue?" "+Ue:"."),Ee&&!$e&&fail($e,Be,"Missing expected exception"+Ue);var Qe="string"==typeof Ue,et=!Ee&&$e&&!Be;if((!Ee&&We.isError($e)&&Qe&&expectedException($e,Be)||et)&&fail($e,Be,"Got unwanted exception"+Ue),Ee&&$e&&Be&&!expectedException($e,Be)||!Ee&&$e)throw $e}tt.AssertionError=function AssertionError(Ee){this.name="AssertionError",this.actual=Ee.actual,this.expected=Ee.expected,this.operator=Ee.operator,Ee.message?(this.message=Ee.message,this.generatedMessage=!1):(this.message=function getMessage(Ee){return truncate(inspect(Ee.actual),128)+" "+Ee.operator+" "+truncate(inspect(Ee.expected),128)}(this),this.generatedMessage=!0);var ze=Ee.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,ze);else{var Be=new Error;if(Be.stack){var Ue=Be.stack,We=getName(ze),$e=Ue.indexOf("\n"+We);if($e>=0){var Qe=Ue.indexOf("\n",$e+1);Ue=Ue.substring(Qe+1)}this.stack=Ue}}},We.inherits(tt.AssertionError,Error),tt.fail=fail,tt.ok=ok,tt.equal=function equal(Ee,ze,Be){Ee!=ze&&fail(Ee,ze,Be,"==",tt.equal)},tt.notEqual=function notEqual(Ee,ze,Be){Ee==ze&&fail(Ee,ze,Be,"!=",tt.notEqual)},tt.deepEqual=function deepEqual(Ee,ze,Be){_deepEqual(Ee,ze,!1)||fail(Ee,ze,Be,"deepEqual",tt.deepEqual)},tt.deepStrictEqual=function deepStrictEqual(Ee,ze,Be){_deepEqual(Ee,ze,!0)||fail(Ee,ze,Be,"deepStrictEqual",tt.deepStrictEqual)},tt.notDeepEqual=function notDeepEqual(Ee,ze,Be){_deepEqual(Ee,ze,!1)&&fail(Ee,ze,Be,"notDeepEqual",tt.notDeepEqual)},tt.notDeepStrictEqual=function notDeepStrictEqual(Ee,ze,Be){_deepEqual(Ee,ze,!0)&&fail(Ee,ze,Be,"notDeepStrictEqual",notDeepStrictEqual)},tt.strictEqual=function strictEqual(Ee,ze,Be){Ee!==ze&&fail(Ee,ze,Be,"===",tt.strictEqual)},tt.notStrictEqual=function notStrictEqual(Ee,ze,Be){Ee===ze&&fail(Ee,ze,Be,"!==",tt.notStrictEqual)},tt.throws=function(Ee,ze,Be){_throws(!0,Ee,ze,Be)},tt.doesNotThrow=function(Ee,ze,Be){_throws(!1,Ee,ze,Be)},tt.ifError=function(Ee){if(Ee)throw Ee},tt.strict=Ue((function strict(Ee,ze){Ee||fail(Ee,!0,ze,"==",strict)}),tt,{equal:tt.strictEqual,deepEqual:tt.deepStrictEqual,notEqual:tt.notStrictEqual,notDeepEqual:tt.notDeepStrictEqual}),tt.strict.strict=tt.strict;var nt=Object.keys||function(Ee){var ze=[];for(var Be in Ee)$e.call(Ee,Be)&&ze.push(Be);return ze}}).call(this,Be("c8ba"))},f657:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"trace",name:"sunburst",basePlotModule:Be("b353"),categories:[],animatable:!0,attributes:Be("f200"),layoutAttributes:Be("7ba3"),supplyDefaults:Be("8dbe"),supplyLayoutDefaults:Be("2dd7"),calc:Be("13a0").calc,crossTraceCalc:Be("13a0").crossTraceCalc,plot:Be("e17d").plot,style:Be("7594").style,colorbar:Be("f3cf"),meta:{}}},f67b:function(Ee,ze,Be){"use strict";var Ue=Be("f4e9"),We=Be("d798"),$e=Be("9845"),Qe=Be("81f0").attributes,et=Be("9092").extendFlat,tt=Be("a651").templatedArray;Ee.exports={domain:Qe({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:$e({editType:"plot"}),tickfont:$e({editType:"plot"}),rangefont:$e({editType:"plot"}),dimensions:tt("dimension",{label:{valType:"string",editType:"plot"},tickvals:et({},We.tickvals,{editType:"plot"}),ticktext:et({},We.ticktext,{editType:"plot"}),tickformat:et({},We.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:et({editType:"calc"},Ue("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"}))}},f6a2:function(Ee,ze,Be){"use strict";var Ue=Be("cc77"),We=Be("53a5"),$e=Be("3de2"),Qe=Be("be00"),et=Be("b7d1"),tt=Be("84a1"),rt=Be("37cd"),nt=Be("a7e2"),at=Be("7831"),it=Be("fd4c");function normalize(Ee,ze){for(var Be=ze[0],Ue=ze[1],$e=1/(ze[2]-Be),Qe=1/(ze[3]-Ue),et=new Array(Ee.length),tt=0,rt=Ee.length/2;tt<rt;tt++)et[2*tt]=We((Ee[2*tt]-Be)*$e,0,1),et[2*tt+1]=We((Ee[2*tt+1]-Ue)*Qe,0,1);return et}Ee.exports=function cluster(Ee,ze){ze||(ze={}),Ee=rt(Ee,"float64"),ze=et(ze,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var Be=tt(ze.maxDepth,255),We=tt(ze.bounds,Qe(Ee,2));We[0]===We[2]&&We[2]++,We[1]===We[3]&&We[3]++;var ct,ft=normalize(Ee,We),xt=Ee.length>>>1;ze.dtype||(ze.dtype="array"),"string"==typeof ze.dtype?ct=new(at(ze.dtype))(xt):ze.dtype&&(ct=ze.dtype,Array.isArray(ct)&&(ct.length=xt));for(var kt=0;kt<xt;++kt)ct[kt]=kt;var Lt=[],Ut=[],er=[],tr=[];!function sort(Ee,ze,Ue,We,$e,Qe){if(!We.length)return null;var et=Lt[$e]||(Lt[$e]=[]),tt=er[$e]||(er[$e]=[]),rt=Ut[$e]||(Ut[$e]=[]),nt=et.length;if(++$e>Be||Qe>1073741824){for(var at=0;at<We.length;at++)et.push(We[at]),tt.push(Qe),rt.push(null,null,null,null);return nt}if(et.push(We[0]),tt.push(Qe),We.length<=1)return rt.push(null,null,null,null),nt;for(var it=.5*Ue,ct=Ee+it,xt=ze+it,kt=[],tr=[],rr=[],ar=[],Lr=1,Qr=We.length;Lr<Qr;Lr++){var on=We[Lr],sn=ft[2*on],ln=ft[2*on+1];sn<ct?ln<xt?kt.push(on):tr.push(on):ln<xt?rr.push(on):ar.push(on)}return Qe<<=2,rt.push(sort(Ee,ze,it,kt,$e,Qe),sort(Ee,xt,it,tr,$e,Qe+1),sort(ct,ze,it,rr,$e,Qe+2),sort(ct,xt,it,ar,$e,Qe+3)),nt}(0,0,1,ct,0,1);for(var rr=0,ar=0;ar<Lt.length;ar++){var Lr=Lt[ar];if(ct.set)ct.set(Lr,rr);else for(var Qr=0,on=Lr.length;Qr<on;Qr++)ct[Qr+rr]=Lr[Qr];var sn=rr+Lt[ar].length;tr[ar]=[rr,sn],rr=sn}return ct.range=function range(){var ze,Be=[],Ue=arguments.length;for(;Ue--;)Be[Ue]=arguments[Ue];if(nt(Be[Be.length-1])){var Qe=Be.pop();Be.length||null==Qe.x&&null==Qe.l&&null==Qe.left||(Be=[Qe],ze={}),ze=et(Qe,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else ze={};Be.length||(Be=We);var rt=$e.apply(void 0,Be),at=[Math.min(rt.x,rt.x+rt.width),Math.min(rt.y,rt.y+rt.height),Math.max(rt.x,rt.x+rt.width),Math.max(rt.y,rt.y+rt.height)],ct=at[0],ft=at[1],xt=at[2],kt=at[3],er=normalize([ct,ft,xt,kt],We),tr=er[0],rr=er[1],ar=er[2],Lr=er[3],Qr=tt(ze.level,Lt.length);if(null!=ze.d){var on;"number"==typeof ze.d?on=[ze.d,ze.d]:ze.d.length&&(on=ze.d),Qr=Math.min(Math.max(Math.ceil(-it(Math.abs(on[0])/(We[2]-We[0]))),Math.ceil(-it(Math.abs(on[1])/(We[3]-We[1])))),Qr)}if(Qr=Math.min(Qr,Lt.length),ze.lod)return lod(tr,rr,ar,Lr,Qr);var sn=[];function select(ze,Be,Ue,We,$e,Qe){if(null!==$e&&null!==Qe&&!(tr>ze+Ue||rr>Be+Ue||ar<ze||Lr<Be||We>=Qr||$e===Qe)){var et=Lt[We];void 0===Qe&&(Qe=et.length);for(var tt=$e;tt<Qe;tt++){var rt=et[tt],nt=Ee[2*rt],at=Ee[2*rt+1];nt>=ct&&nt<=xt&&at>=ft&&at<=kt&&sn.push(rt)}var it=Ut[We],er=it[4*$e+0],on=it[4*$e+1],ln=it[4*$e+2],cn=it[4*$e+3],un=nextOffset(it,$e+1),hn=.5*Ue,dn=We+1;select(ze,Be,hn,dn,er,on||ln||cn||un),select(ze,Be+hn,hn,dn,on,ln||cn||un),select(ze+hn,Be,hn,dn,ln,cn||un),select(ze+hn,Be+hn,hn,dn,cn,un)}}function nextOffset(Ee,ze){for(var Be=null,Ue=0;null===Be;)if(Be=Ee[4*ze+Ue],++Ue>Ee.length)return null;return Be}return select(0,0,1,0,0,1),sn},ct;function lod(Ee,ze,Be,We,$e){for(var Qe=[],et=0;et<$e;et++){var tt=er[et],rt=tr[et][0],nt=group(Ee,ze,et),at=group(Be,We,et),it=Ue.ge(tt,nt),ct=Ue.gt(tt,at,it,tt.length-1);Qe[et]=[it+rt,ct+rt]}return Qe}function group(Ee,ze,Be){for(var Ue=1,We=.5,$e=.5,Qe=.5,et=0;et<Be;et++)Ue<<=2,Ue+=Ee<We?ze<$e?0:1:ze<$e?2:3,Qe*=.5,We+=Ee<We?-Qe:Qe,$e+=ze<$e?-Qe:Qe;return Ue}}},f6b0:function(Ee,ze,Be){"use strict";var Ue=Be("19b2");Ee.exports=function toLogRange(Ee,ze){if(Ee>0)return Math.log(Ee)/Math.LN10;var Be=Math.log(Math.min(ze[0],ze[1]))/Math.LN10;return Ue(Be)||(Be=Math.log(Math.max(ze[0],ze[1]))/Math.LN10-6),Be}},f6d3:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("8b85"),$e=Be("efaa"),Qe=Be("83d1"),et=Be("fc26"),tt=Be("da89"),rt=Be("f50a"),nt=Be("6954"),at=Be("8e43"),it=Be("849d"),ct=Be("3511"),ft=Be("c997"),xt=Be("9b68"),kt=Be("fa75");function getUnitVector(Ee,ze,Be){var Ue=Ee.getPointAtLength(ze),We=Ee.getPointAtLength(Be),$e=We.x-Ue.x,Qe=We.y-Ue.y,et=Math.sqrt($e*$e+Qe*Qe);return[$e/et,Qe/et]}function normalizeVector(Ee){var ze=Math.sqrt(Ee[0]*Ee[0]+Ee[1]*Ee[1]);return[Ee[0]/ze,Ee[1]/ze]}function vectorTan(Ee,ze){var Be=Math.abs(Ee[0]*ze[0]+Ee[1]*ze[1]);return Math.sqrt(1-Be*Be)/Be}Ee.exports=function plot(Ee,ze,Be,Lt){var Ut=ze.xaxis,er=ze.yaxis;et.makeTraceGroups(Lt,Be,"contour").each((function(Be){var Lt=Ue.select(this),tr=Be[0],rr=tr.trace,ar=rr._carpetTrace=xt(Ee,rr),Lr=Ee.calcdata[ar.index][0];if(ar.visible&&"legendonly"!==ar.visible){var Qr=tr.a,on=tr.b,sn=rr.contours,ln=ct(sn,ze,tr),cn="constraint"===sn.type,un=sn._operation,hn=cn?"="===un?"lines":"fill":sn.coloring,dn=[[Qr[0],on[on.length-1]],[Qr[Qr.length-1],on[on.length-1]],[Qr[Qr.length-1],on[0]],[Qr[0],on[0]]];tt(ln);var vn=1e-8*(Qr[Qr.length-1]-Qr[0]),yn=1e-8*(on[on.length-1]-on[0]);rt(ln,vn,yn);var _n,Mn,Cn,En,Pn=ln;"constraint"===sn.type&&(Pn=it(ln,un)),function mapPathinfo(Ee,ze){var Be,Ue,We,$e,Qe,et,tt,rt,nt;for(Be=0;Be<Ee.length;Be++){for($e=Ee[Be],Qe=$e.pedgepaths=[],et=$e.ppaths=[],Ue=0;Ue<$e.edgepaths.length;Ue++){for(nt=$e.edgepaths[Ue],tt=[],We=0;We<nt.length;We++)tt[We]=ze(nt[We]);Qe.push(tt)}for(Ue=0;Ue<$e.paths.length;Ue++){for(nt=$e.paths[Ue],rt=[],We=0;We<nt.length;We++)rt[We]=ze(nt[We]);et.push(rt)}}}(ln,ab2p);var In=[];for(En=Lr.clipsegments.length-1;En>=0;En--)_n=Lr.clipsegments[En],Mn=We([],_n.x,Ut.c2p),Cn=We([],_n.y,er.c2p),Mn.reverse(),Cn.reverse(),In.push($e(Mn,Cn,_n.bicubic));var Bn="M"+In.join("L")+"Z";!function makeBackground(Ee,ze,Be,Ue,Qe,tt){var rt,nt,at,it,ct=et.ensureSingle(Ee,"g","contourbg").selectAll("path").data("fill"!==tt||Qe?[]:[0]);ct.enter().append("path"),ct.exit().remove();var ft=[];for(it=0;it<ze.length;it++)rt=ze[it],nt=We([],rt.x,Be.c2p),at=We([],rt.y,Ue.c2p),ft.push($e(nt,at,rt.bicubic));ct.attr("d","M"+ft.join("L")+"Z").style("stroke","none")}(Lt,Lr.clipsegments,Ut,er,cn,hn),function makeFills(Ee,ze,Be,We,$e,tt,rt,nt,at,it,ct){var xt="fill"===it;xt&&ft($e,Ee.contours);var Lt=et.ensureSingle(ze,"g","contourfill").selectAll("path").data(xt?$e:[]);Lt.enter().append("path"),Lt.exit().remove(),Lt.each((function(Ee){var ze=(Ee.prefixBoundary?ct:"")+function joinAllPaths(Ee,ze,Be,Ue,We,$e,tt,rt){var nt,at,it,ct,ft,xt,Lt,Ut="",er=ze.edgepaths.map((function(Ee,ze){return ze})),tr=!0,rr=1e-4*Math.abs(Be[0][0]-Be[2][0]),ar=1e-4*Math.abs(Be[0][1]-Be[2][1]);function istop(Ee){return Math.abs(Ee[1]-Be[0][1])<ar}function isbottom(Ee){return Math.abs(Ee[1]-Be[2][1])<ar}function isleft(Ee){return Math.abs(Ee[0]-Be[0][0])<rr}function isright(Ee){return Math.abs(Ee[0]-Be[2][0])<rr}function pathto(Ee,ze){var Be,Ue,Qe,et,nt="";for(istop(Ee)&&!isright(Ee)||isbottom(Ee)&&!isleft(Ee)?(et=We.aaxis,Qe=kt(We,$e,[Ee[0],ze[0]],.5*(Ee[1]+ze[1]))):(et=We.baxis,Qe=kt(We,$e,.5*(Ee[0]+ze[0]),[Ee[1],ze[1]])),Be=1;Be<Qe.length;Be++)for(nt+=et.smoothing?"C":"L",Ue=0;Ue<Qe[Be].length;Ue++){var at=Qe[Be][Ue];nt+=[tt.c2p(at[0]),rt.c2p(at[1])]+" "}return nt}nt=0,at=null;for(;er.length;){var Lr=ze.edgepaths[nt][0];for(at&&(Ut+=pathto(at,Lr)),Lt=Qe.smoothopen(ze.edgepaths[nt].map(Ue),ze.smoothing),Ut+=tr?Lt:Lt.replace(/^M/,"L"),er.splice(er.indexOf(nt),1),at=ze.edgepaths[nt][ze.edgepaths[nt].length-1],ft=-1,ct=0;ct<4;ct++){if(!at){et.log("Missing end?",nt,ze);break}for(istop(at)&&!isright(at)?it=Be[1]:isleft(at)?it=Be[0]:isbottom(at)?it=Be[3]:isright(at)&&(it=Be[2]),xt=0;xt<ze.edgepaths.length;xt++){var Qr=ze.edgepaths[xt][0];Math.abs(at[0]-it[0])<rr?Math.abs(at[0]-Qr[0])<rr&&(Qr[1]-at[1])*(it[1]-Qr[1])>=0&&(it=Qr,ft=xt):Math.abs(at[1]-it[1])<ar?Math.abs(at[1]-Qr[1])<ar&&(Qr[0]-at[0])*(it[0]-Qr[0])>=0&&(it=Qr,ft=xt):et.log("endpt to newendpt is not vert. or horz.",at,it,Qr)}if(ft>=0)break;Ut+=pathto(at,it),at=it}if(ft===ze.edgepaths.length){et.log("unclosed perimeter path");break}nt=ft,(tr=-1===er.indexOf(nt))&&(nt=er[0],Ut+=pathto(at,it)+"Z",at=null)}for(nt=0;nt<ze.paths.length;nt++)Ut+=Qe.smoothclosed(ze.paths[nt].map(Ue),ze.smoothing);return Ut}(0,Ee,tt,rt,nt,at,Be,We);ze?Ue.select(this).attr("d",ze).style("stroke","none"):Ue.select(this).remove()}))}(rr,Lt,Ut,er,Pn,dn,ab2p,ar,Lr,hn,Bn),function makeLinesAndLabels(Ee,ze,Be,We,$e,tt,rt){var it=et.ensureSingle(Ee,"g","contourlines"),ct=!1!==$e.showlines,ft=$e.showlabels,xt=ct&&ft,kt=nt.createLines(it,ct||ft,ze),Lt=nt.createLineClip(it,xt,Be,We.trace.uid),Ut=Ee.selectAll("g.contourlabels").data(ft?[0]:[]);if(Ut.exit().remove(),Ut.enter().append("g").classed("contourlabels",!0),ft){var er=tt.xaxis,tr=tt.yaxis,rr=er._length,ar=tr._length,Lr=[[[0,0],[rr,0],[rr,ar],[0,ar]]],Qr=[];et.clearLocationCache();var on=nt.labelFormatter(Be,We),sn=Qe.tester.append("text").attr("data-notex",1).call(Qe.font,$e.labelfont),ln={left:0,right:rr,center:rr/2,top:0,bottom:ar,middle:ar/2},cn=Math.sqrt(rr*rr+ar*ar),un=at.LABELDISTANCE*cn/Math.max(1,ze.length/at.LABELINCREASE);kt.each((function(Ee){var ze=nt.calcTextOpts(Ee.level,on,sn,Be);Ue.select(this).selectAll("path").each((function(Be){var Ue=et.getVisibleSegment(this,ln,ze.height/2);if(Ue&&(function constrainToCarpet(Ee,ze,Be,Ue,We,$e){for(var Qe,et=0;et<Be.pedgepaths.length;et++)ze===Be.pedgepaths[et]&&(Qe=Be.edgepaths[et]);if(!Qe)return;var tt=We.a[0],rt=We.a[We.a.length-1],nt=We.b[0],at=We.b[We.b.length-1];function getOffset(Ee,ze){var Be,Ue=0;return(Math.abs(Ee[0]-tt)<.1||Math.abs(Ee[0]-rt)<.1)&&(Be=normalizeVector(We.dxydb_rough(Ee[0],Ee[1],.1)),Ue=Math.max(Ue,$e*vectorTan(ze,Be)/2)),(Math.abs(Ee[1]-nt)<.1||Math.abs(Ee[1]-at)<.1)&&(Be=normalizeVector(We.dxyda_rough(Ee[0],Ee[1],.1)),Ue=Math.max(Ue,$e*vectorTan(ze,Be)/2)),Ue}var it=getUnitVector(Ee,0,1),ct=getUnitVector(Ee,Ue.total,Ue.total-1),ft=getOffset(Qe[0],it),xt=Ue.total-getOffset(Qe[Qe.length-1],ct);Ue.min<ft&&(Ue.min=ft);Ue.max>xt&&(Ue.max=xt);Ue.len=Ue.max-Ue.min}(this,Be,Ee,Ue,rt,ze.height),!(Ue.len<(ze.width+ze.height)*at.LABELMIN)))for(var We=Math.min(Math.ceil(Ue.len/un),at.LABELMAX),$e=0;$e<We;$e++){var Qe=nt.findBestTextLocation(this,Ue,ze,Qr,ln);if(!Qe)break;nt.addLabelData(Qe,ze,Qr,Lr)}}))})),sn.remove(),nt.drawLabels(Ut,Qr,Be,Lt,xt?Lr:null)}ft&&!ct&&kt.remove()}(Lt,ln,Ee,tr,sn,ze,ar),Qe.setClipUrl(Lt,ar._clipPathId,Ee)}function ab2p(Ee){var ze=ar.ab2xy(Ee[0],Ee[1],!0);return[Ut.c2p(ze[0]),er.c2p(ze[1])]}}))}},f6e7:function(Ee,ze,Be){"use strict";var Ue=Be("e9b4"),We=Be("efce"),$e=Be("b205"),Qe=Be("cea5"),et=Be("1417"),tt=Be("7f9b"),rt=Be("3d78"),nt=Be("cbbe"),at=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function transformMat4(Ee,ze){var Be=Ee[0],Ue=Ee[1],We=Ee[2],$e=Ee[3];return Ee[0]=ze[0]*Be+ze[4]*Ue+ze[8]*We+ze[12]*$e,Ee[1]=ze[1]*Be+ze[5]*Ue+ze[9]*We+ze[13]*$e,Ee[2]=ze[2]*Be+ze[6]*Ue+ze[10]*We+ze[14]*$e,Ee[3]=ze[3]*Be+ze[7]*Ue+ze[11]*We+ze[15]*$e,Ee}function project(Ee,ze,Be,Ue){return transformMat4(Ue,Ue),transformMat4(Ue,Ue),transformMat4(Ue,Ue)}function ScatterPlotPickResult(Ee,ze){this.index=Ee,this.dataCoordinate=this.position=ze}function fixOpacity(Ee){return!0===Ee||Ee>1?1:Ee}function PointCloud(Ee,ze,Be,Ue,We,$e,Qe,et,tt,rt,nt,at){this.gl=Ee,this.pixelRatio=1,this.shader=ze,this.orthoShader=Be,this.projectShader=Ue,this.pointBuffer=We,this.colorBuffer=$e,this.glyphBuffer=Qe,this.idBuffer=et,this.vao=tt,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=rt,this.pickOrthoShader=nt,this.pickProjectShader=at,this.points=[],this._selectResult=new ScatterPlotPickResult(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}Ee.exports=function createPointCloud(Ee){var ze=Ee.gl,Be=tt.createPerspective(ze),Ue=tt.createOrtho(ze),Qe=tt.createProject(ze),et=tt.createPickPerspective(ze),rt=tt.createPickOrtho(ze),nt=tt.createPickProject(ze),at=We(ze),it=We(ze),ct=We(ze),ft=We(ze),xt=$e(ze,[{buffer:at,size:3,type:ze.FLOAT},{buffer:it,size:4,type:ze.FLOAT},{buffer:ct,size:2,type:ze.FLOAT},{buffer:ft,size:4,type:ze.UNSIGNED_BYTE,normalized:!0}]),kt=new PointCloud(ze,Be,Ue,Qe,at,it,ct,ft,xt,et,rt,nt);return kt.update(Ee),kt};var it=PointCloud.prototype;it.pickSlots=1,it.setPickBase=function(Ee){this.pickId=Ee},it.isTransparent=function(){if(this.hasAlpha)return!0;for(var Ee=0;Ee<3;++Ee)if(this.axesProject[Ee]&&this.projectHasAlpha)return!0;return!1},it.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Ee=0;Ee<3;++Ee)if(this.axesProject[Ee]&&!this.projectHasAlpha)return!0;return!1};var ct=[0,0],ft=[0,0,0],xt=[0,0,0],kt=[0,0,0,1],Lt=[0,0,0,1],Ut=at.slice(),er=[0,0,0],tr=[[0,0,0],[0,0,0]];function zeroVec(Ee){return Ee[0]=Ee[1]=Ee[2]=0,Ee}function augment(Ee,ze){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee[3]=1,Ee}function setComponent(Ee,ze,Be,Ue){return Ee[0]=ze[0],Ee[1]=ze[1],Ee[2]=ze[2],Ee[Be]=Ue,Ee}function drawProject(Ee,ze,Be,Ue){var We,$e=ze.axesProject,Qe=ze.gl,tt=Ee.uniforms,rt=Be.model||at,nt=Be.view||at,it=Be.projection||at,rr=ze.axesBounds,ar=function getClipBounds(Ee){for(var ze=tr,Be=0;Be<2;++Be)for(var Ue=0;Ue<3;++Ue)ze[Be][Ue]=Math.max(Math.min(Ee[Be][Ue],1e8),-1e8);return ze}(ze.clipBounds);We=ze.axes&&ze.axes.lastCubeProps?ze.axes.lastCubeProps.axis:[1,1,1],ct[0]=2/Qe.drawingBufferWidth,ct[1]=2/Qe.drawingBufferHeight,Ee.bind(),tt.view=nt,tt.projection=it,tt.screenSize=ct,tt.highlightId=ze.highlightId,tt.highlightScale=ze.highlightScale,tt.clipBounds=ar,tt.pickGroup=ze.pickId/255,tt.pixelRatio=Ue;for(var Lr=0;Lr<3;++Lr)if($e[Lr]){tt.scale=ze.projectScale[Lr],tt.opacity=ze.projectOpacity[Lr];for(var Qr=Ut,on=0;on<16;++on)Qr[on]=0;for(on=0;on<4;++on)Qr[5*on]=1;Qr[5*Lr]=0,We[Lr]<0?Qr[12+Lr]=rr[0][Lr]:Qr[12+Lr]=rr[1][Lr],et(Qr,rt,Qr),tt.model=Qr;var sn=(Lr+1)%3,ln=(Lr+2)%3,cn=zeroVec(ft),un=zeroVec(xt);cn[sn]=1,un[ln]=1;var hn=project(0,0,0,augment(kt,cn)),dn=project(0,0,0,augment(Lt,un));if(Math.abs(hn[1])>Math.abs(dn[1])){var vn=hn;hn=dn,dn=vn,vn=cn,cn=un,un=vn;var yn=sn;sn=ln,ln=yn}hn[0]<0&&(cn[sn]=-1),dn[1]>0&&(un[ln]=-1);var _n=0,Mn=0;for(on=0;on<4;++on)_n+=Math.pow(rt[4*sn+on],2),Mn+=Math.pow(rt[4*ln+on],2);cn[sn]/=Math.sqrt(_n),un[ln]/=Math.sqrt(Mn),tt.axes[0]=cn,tt.axes[1]=un,tt.fragClipBounds[0]=setComponent(er,ar[0],Lr,-1e8),tt.fragClipBounds[1]=setComponent(er,ar[1],Lr,1e8),ze.vao.bind(),ze.vao.draw(Qe.TRIANGLES,ze.vertexCount),ze.lineWidth>0&&(Qe.lineWidth(ze.lineWidth*Ue),ze.vao.draw(Qe.LINES,ze.lineVertexCount,ze.vertexCount)),ze.vao.unbind()}}var rr=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function drawFull(Ee,ze,Be,Ue,We,$e,Qe){var et=Be.gl;if(($e===Be.projectHasAlpha||Qe)&&drawProject(ze,Be,Ue,We),$e===Be.hasAlpha||Qe){Ee.bind();var tt=Ee.uniforms;tt.model=Ue.model||at,tt.view=Ue.view||at,tt.projection=Ue.projection||at,ct[0]=2/et.drawingBufferWidth,ct[1]=2/et.drawingBufferHeight,tt.screenSize=ct,tt.highlightId=Be.highlightId,tt.highlightScale=Be.highlightScale,tt.fragClipBounds=rr,tt.clipBounds=Be.axes.bounds,tt.opacity=Be.opacity,tt.pickGroup=Be.pickId/255,tt.pixelRatio=We,Be.vao.bind(),Be.vao.draw(et.TRIANGLES,Be.vertexCount),Be.lineWidth>0&&(et.lineWidth(Be.lineWidth*We),Be.vao.draw(et.LINES,Be.lineVertexCount,Be.vertexCount)),Be.vao.unbind()}}function get_glyphData(Ee,ze,Be,We){var $e;$e=Array.isArray(Ee)?ze<Ee.length?Ee[ze]:void 0:Ee,$e=nt($e);var Qe=!0;Ue($e)&&($e="▼",Qe=!1);var et=rt($e,Be,We);return{mesh:et[0],lines:et[1],bounds:et[2],visible:Qe}}it.draw=function(Ee){drawFull(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Ee,this.pixelRatio,!1,!1)},it.drawTransparent=function(Ee){drawFull(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Ee,this.pixelRatio,!0,!1)},it.drawPick=function(Ee){drawFull(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,Ee,1,!0,!0)},it.pick=function(Ee){if(!Ee)return null;if(Ee.id!==this.pickId)return null;var ze=Ee.value[2]+(Ee.value[1]<<8)+(Ee.value[0]<<16);if(ze>=this.pointCount||ze<0)return null;var Be=this.points[ze],Ue=this._selectResult;Ue.index=ze;for(var We=0;We<3;++We)Ue.position[We]=Ue.dataCoordinate[We]=Be[We];return Ue},it.highlight=function(Ee){if(Ee){var ze=Ee.index,Be=255&ze,Ue=ze>>8&255,We=ze>>16&255;this.highlightId=[Be/255,Ue/255,We/255,0]}else this.highlightId=[1,1,1,1]},it.update=function(Ee){if("perspective"in(Ee=Ee||{})&&(this.useOrtho=!Ee.perspective),"orthographic"in Ee&&(this.useOrtho=!!Ee.orthographic),"lineWidth"in Ee&&(this.lineWidth=Ee.lineWidth),"project"in Ee)if(Array.isArray(Ee.project))this.axesProject=Ee.project;else{var ze=!!Ee.project;this.axesProject=[ze,ze,ze]}if("projectScale"in Ee)if(Array.isArray(Ee.projectScale))this.projectScale=Ee.projectScale.slice();else{var Be=+Ee.projectScale;this.projectScale=[Be,Be,Be]}if(this.projectHasAlpha=!1,"projectOpacity"in Ee){if(Array.isArray(Ee.projectOpacity))this.projectOpacity=Ee.projectOpacity.slice();else{Be=+Ee.projectOpacity;this.projectOpacity=[Be,Be,Be]}for(var Ue=0;Ue<3;++Ue)this.projectOpacity[Ue]=fixOpacity(this.projectOpacity[Ue]),this.projectOpacity[Ue]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Ee&&(this.opacity=fixOpacity(Ee.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var We,$e,et=Ee.position,tt=Ee.font||"normal",rt=Ee.alignment||[0,0];if(2===rt.length)We=rt[0],$e=rt[1];else{We=[],$e=[];for(Ue=0;Ue<rt.length;++Ue)We[Ue]=rt[Ue][0],$e[Ue]=rt[Ue][1]}var nt=[1/0,1/0,1/0],at=[-1/0,-1/0,-1/0],it=Ee.glyph,ct=Ee.color,ft=Ee.size,xt=Ee.angle,kt=Ee.lineColor,Lt=-1,Ut=0,er=0,tr=0;if(et.length){tr=et.length;e:for(Ue=0;Ue<tr;++Ue){for(var rr=et[Ue],ar=0;ar<3;++ar)if(isNaN(rr[ar])||!isFinite(rr[ar]))continue e;var Lr=(En=get_glyphData(it,Ue,tt,this.pixelRatio)).mesh,Qr=En.lines,on=En.bounds;Ut+=3*Lr.cells.length,er+=2*Qr.edges.length}}var sn=Ut+er,ln=Qe.mallocFloat(3*sn),cn=Qe.mallocFloat(4*sn),un=Qe.mallocFloat(2*sn),hn=Qe.mallocUint32(sn);if(sn>0){var dn=0,vn=Ut,yn=[0,0,0,1],_n=[0,0,0,1],Mn=Array.isArray(ct)&&Array.isArray(ct[0]),Cn=Array.isArray(kt)&&Array.isArray(kt[0]);e:for(Ue=0;Ue<tr;++Ue){Lt+=1;for(rr=et[Ue],ar=0;ar<3;++ar){if(isNaN(rr[ar])||!isFinite(rr[ar]))continue e;at[ar]=Math.max(at[ar],rr[ar]),nt[ar]=Math.min(nt[ar],rr[ar])}Lr=(En=get_glyphData(it,Ue,tt,this.pixelRatio)).mesh,Qr=En.lines,on=En.bounds;var En,Pn=En.visible;if(Pn)if(Array.isArray(ct)){if(3===(In=Mn?Ue<ct.length?ct[Ue]:[0,0,0,0]:ct).length){for(ar=0;ar<3;++ar)yn[ar]=In[ar];yn[3]=1}else if(4===In.length){for(ar=0;ar<4;++ar)yn[ar]=In[ar];!this.hasAlpha&&In[3]<1&&(this.hasAlpha=!0)}}else yn[0]=yn[1]=yn[2]=0,yn[3]=1;else yn=[1,1,1,0];if(Pn)if(Array.isArray(kt)){var In;if(3===(In=Cn?Ue<kt.length?kt[Ue]:[0,0,0,0]:kt).length){for(ar=0;ar<3;++ar)_n[ar]=In[ar];_n[ar]=1}else if(4===In.length){for(ar=0;ar<4;++ar)_n[ar]=In[ar];!this.hasAlpha&&In[3]<1&&(this.hasAlpha=!0)}}else _n[0]=_n[1]=_n[2]=0,_n[3]=1;else _n=[1,1,1,0];var Bn=.5;Pn?Array.isArray(ft)?Bn=Ue<ft.length?+ft[Ue]:12:ft?Bn=+ft:this.useOrtho&&(Bn=12):Bn=0;var Hn=0;Array.isArray(xt)?Hn=Ue<xt.length?+xt[Ue]:0:xt&&(Hn=+xt);var Kn=Math.cos(Hn),Jn=Math.sin(Hn);for(rr=et[Ue],ar=0;ar<3;++ar)at[ar]=Math.max(at[ar],rr[ar]),nt[ar]=Math.min(nt[ar],rr[ar]);var Ma=We,Sa=$e;Ma=0;Array.isArray(We)?Ma=Ue<We.length?We[Ue]:0:We&&(Ma=We);Sa=0;Array.isArray($e)?Sa=Ue<$e.length?$e[Ue]:0:$e&&(Sa=$e);var La=[Ma*=Ma>0?1-on[0][0]:Ma<0?1+on[1][0]:1,Sa*=Sa>0?1-on[0][1]:Sa<0?1+on[1][1]:1],Ia=Lr.cells||[],Ra=Lr.positions||[];for(ar=0;ar<Ia.length;++ar)for(var Na=Ia[ar],Ua=0;Ua<3;++Ua){for(var qa=0;qa<3;++qa)ln[3*dn+qa]=rr[qa];for(qa=0;qa<4;++qa)cn[4*dn+qa]=yn[qa];hn[dn]=Lt;var Ka=Ra[Na[Ua]];un[2*dn]=Bn*(Kn*Ka[0]-Jn*Ka[1]+La[0]),un[2*dn+1]=Bn*(Jn*Ka[0]+Kn*Ka[1]+La[1]),dn+=1}for(Ia=Qr.edges,Ra=Qr.positions,ar=0;ar<Ia.length;++ar)for(Na=Ia[ar],Ua=0;Ua<2;++Ua){for(qa=0;qa<3;++qa)ln[3*vn+qa]=rr[qa];for(qa=0;qa<4;++qa)cn[4*vn+qa]=_n[qa];hn[vn]=Lt;Ka=Ra[Na[Ua]];un[2*vn]=Bn*(Kn*Ka[0]-Jn*Ka[1]+La[0]),un[2*vn+1]=Bn*(Jn*Ka[0]+Kn*Ka[1]+La[1]),vn+=1}}}this.bounds=[nt,at],this.points=et,this.pointCount=et.length,this.vertexCount=Ut,this.lineVertexCount=er,this.pointBuffer.update(ln),this.colorBuffer.update(cn),this.glyphBuffer.update(un),this.idBuffer.update(hn),Qe.free(ln),Qe.free(cn),Qe.free(un),Qe.free(hn)},it.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},f6fd:function(Ee,ze){!function(Ee){var ze=Ee.getElementsByTagName("script");"currentScript"in Ee||Object.defineProperty(Ee,"currentScript",{get:function(){try{throw new Error}catch(Ue){var Ee,Be=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(Ue.stack)||[!1])[1];for(Ee in ze)if(ze[Ee].src==Be||"interactive"==ze[Ee].readyState)return ze[Ee];return null}}})}(document)},f725:function(Ee,ze,Be){"use strict";Ee.exports=Be("ff0d")},f772:function(Ee,ze,Be){var Ue=Be("5692"),We=Be("90e3"),$e=Ue("keys");Ee.exports=function(Ee){return $e[Ee]||($e[Ee]=We(Ee))}},f7a4:function(Ee,ze,Be){"use strict";Ee.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,deselectedLineColor:"#777",bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeColor:"white",strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},f7bf:function(Ee,ze,Be){"use strict";var Ue=Be("7327"),We=Be("4e7e"),$e=Be("def6"),Qe=Be("5752"),et=Be("2195"),tt=Be("18a2");Ee.exports=function makeRational(Ee,ze){if(Ue(Ee))return ze?tt(Ee,makeRational(ze)):[Ee[0].clone(),Ee[1].clone()];var Be,rt,nt=0;if(We(Ee))Be=Ee.clone();else if("string"==typeof Ee)Be=Qe(Ee);else{if(0===Ee)return[$e(0),$e(1)];if(Ee===Math.floor(Ee))Be=$e(Ee);else{for(;Ee!==Math.floor(Ee);)Ee*=Math.pow(2,256),nt-=256;Be=$e(Ee)}}if(Ue(ze))Be.mul(ze[1]),rt=ze[0].clone();else if(We(ze))rt=ze.clone();else if("string"==typeof ze)rt=Qe(ze);else if(ze)if(ze===Math.floor(ze))rt=$e(ze);else{for(;ze!==Math.floor(ze);)ze*=Math.pow(2,256),nt+=256;rt=$e(ze)}else rt=$e(1);nt>0?Be=Be.ushln(nt):nt<0&&(rt=rt.ushln(-nt));return et(Be,rt)}},f7c1:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("a651"),Qe=Be("e5ac"),et=Be("d2d9"),tt=Be("b19b");function buttonDefaults(Ee,ze,Be,We){var $e=We.calendar;function coerce(Be,We){return Ue.coerce(Ee,ze,et.buttons,Be,We)}if(coerce("visible")){var Qe=coerce("step");"all"!==Qe&&(!$e||"gregorian"===$e||"month"!==Qe&&"year"!==Qe?coerce("stepmode"):ze.stepmode="backward",coerce("count")),coerce("label")}}Ee.exports=function handleDefaults(Ee,ze,Be,rt,nt){var at=Ee.rangeselector||{},it=$e.newContainer(ze,"rangeselector");function coerce(Ee,ze){return Ue.coerce(at,it,et,Ee,ze)}if(coerce("visible",Qe(at,it,{name:"buttons",handleItemDefaults:buttonDefaults,calendar:nt}).length>0)){var ct=function getPosDflt(Ee,ze,Be){for(var Ue=Be.filter((function(Be){return ze[Be].anchor===Ee._id})),We=0,$e=0;$e<Ue.length;$e++){var Qe=ze[Ue[$e]].domain;Qe&&(We=Math.max(Qe[1],We))}return[Ee.domain[0],We+tt.yPad]}(ze,Be,rt);coerce("x",ct[0]),coerce("y",ct[1]),Ue.noneOrAll(Ee,ze,["x","y"]),coerce("xanchor"),coerce("yanchor"),Ue.coerceFont(coerce,"font",Be.font);var ft=coerce("bgcolor");coerce("activecolor",We.contrast(ft,tt.lightAmount,tt.darkAmount)),coerce("bordercolor"),coerce("borderwidth")}}},f7c3:function(Ee,ze,Be){Ee.exports=Be("a469")},f7e9:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115").defaultLine,$e=Be("81f0").attributes,Qe=Be("9845"),et=Be("107c").textposition,tt=Be("cb34").overrideAll,rt=Be("a651").templatedArray,nt=Be("b5e4"),at=Qe({});at.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(Ee.exports=tt({_arrayAttrRegexps:[Ue.counterRegex("mapbox",".layers",!0)],domain:$e({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:nt.styleValuesMapbox.concat(nt.styleValuesNonMapbox),dflt:nt.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},layers:rt("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:We},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:We}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:at,textposition:Ue.extendFlat({},et,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},f7fe:function(Ee,ze,Be){(function(ze){var Be=/^\s+|\s+$/g,Ue=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,$e=/^0o[0-7]+$/i,Qe=parseInt,et="object"==typeof ze&&ze&&ze.Object===Object&&ze,tt="object"==typeof self&&self&&self.Object===Object&&self,rt=et||tt||Function("return this")(),nt=Object.prototype.toString,at=Math.max,it=Math.min,now=function(){return rt.Date.now()};function isObject(Ee){var ze=typeof Ee;return!!Ee&&("object"==ze||"function"==ze)}function toNumber(Ee){if("number"==typeof Ee)return Ee;if(function isSymbol(Ee){return"symbol"==typeof Ee||function isObjectLike(Ee){return!!Ee&&"object"==typeof Ee}(Ee)&&"[object Symbol]"==nt.call(Ee)}(Ee))return NaN;if(isObject(Ee)){var ze="function"==typeof Ee.valueOf?Ee.valueOf():Ee;Ee=isObject(ze)?ze+"":ze}if("string"!=typeof Ee)return 0===Ee?Ee:+Ee;Ee=Ee.replace(Be,"");var et=We.test(Ee);return et||$e.test(Ee)?Qe(Ee.slice(2),et?2:8):Ue.test(Ee)?NaN:+Ee}Ee.exports=function debounce(Ee,ze,Be){var Ue,We,$e,Qe,et,tt,rt=0,nt=!1,ct=!1,ft=!0;if("function"!=typeof Ee)throw new TypeError("Expected a function");function invokeFunc(ze){var Be=Ue,$e=We;return Ue=We=void 0,rt=ze,Qe=Ee.apply($e,Be)}function leadingEdge(Ee){return rt=Ee,et=setTimeout(timerExpired,ze),nt?invokeFunc(Ee):Qe}function shouldInvoke(Ee){var Be=Ee-tt;return void 0===tt||Be>=ze||Be<0||ct&&Ee-rt>=$e}function timerExpired(){var Ee=now();if(shouldInvoke(Ee))return trailingEdge(Ee);et=setTimeout(timerExpired,function remainingWait(Ee){var Be=ze-(Ee-tt);return ct?it(Be,$e-(Ee-rt)):Be}(Ee))}function trailingEdge(Ee){return et=void 0,ft&&Ue?invokeFunc(Ee):(Ue=We=void 0,Qe)}function debounced(){var Ee=now(),Be=shouldInvoke(Ee);if(Ue=arguments,We=this,tt=Ee,Be){if(void 0===et)return leadingEdge(tt);if(ct)return et=setTimeout(timerExpired,ze),invokeFunc(tt)}return void 0===et&&(et=setTimeout(timerExpired,ze)),Qe}return ze=toNumber(ze)||0,isObject(Be)&&(nt=!!Be.leading,$e=(ct="maxWait"in Be)?at(toNumber(Be.maxWait)||0,ze):$e,ft="trailing"in Be?!!Be.trailing:ft),debounced.cancel=function cancel(){void 0!==et&&clearTimeout(et),rt=0,Ue=tt=We=et=void 0},debounced.flush=function flush(){return void 0===et?Qe:trailingEdge(now())},debounced}}).call(this,Be("c8ba"))},f846:function(Ee,ze,Be){"use strict";Ee.exports=Be("77bc")},f889:function(Ee,ze){Ee.exports=function ortho(Ee,ze,Be,Ue,We,$e,Qe){var et=1/(ze-Be),tt=1/(Ue-We),rt=1/($e-Qe);return Ee[0]=-2*et,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=-2*tt,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=2*rt,Ee[11]=0,Ee[12]=(ze+Be)*et,Ee[13]=(We+Ue)*tt,Ee[14]=(Qe+$e)*rt,Ee[15]=1,Ee}},f8a5:function(Ee,ze){Ee.exports=function Epsilon(Ee){"number"!=typeof Ee&&(Ee=1e-10);var ze={epsilon:function(ze){return"number"==typeof ze&&(Ee=ze),Ee},pointAboveOrOnLine:function(ze,Be,Ue){var We=Be[0],$e=Be[1],Qe=Ue[0],et=Ue[1],tt=ze[0];return(Qe-We)*(ze[1]-$e)-(et-$e)*(tt-We)>=-Ee},pointBetween:function(ze,Be,Ue){var We=ze[1]-Be[1],$e=Ue[0]-Be[0],Qe=ze[0]-Be[0],et=Ue[1]-Be[1],tt=Qe*$e+We*et;return!(tt<Ee)&&!(tt-($e*$e+et*et)>-Ee)},pointsSameX:function(ze,Be){return Math.abs(ze[0]-Be[0])<Ee},pointsSameY:function(ze,Be){return Math.abs(ze[1]-Be[1])<Ee},pointsSame:function(Ee,Be){return ze.pointsSameX(Ee,Be)&&ze.pointsSameY(Ee,Be)},pointsCompare:function(Ee,Be){return ze.pointsSameX(Ee,Be)?ze.pointsSameY(Ee,Be)?0:Ee[1]<Be[1]?-1:1:Ee[0]<Be[0]?-1:1},pointsCollinear:function(ze,Be,Ue){var We=ze[0]-Be[0],$e=ze[1]-Be[1],Qe=Be[0]-Ue[0],et=Be[1]-Ue[1];return Math.abs(We*et-Qe*$e)<Ee},linesIntersect:function(ze,Be,Ue,We){var $e=Be[0]-ze[0],Qe=Be[1]-ze[1],et=We[0]-Ue[0],tt=We[1]-Ue[1],rt=$e*tt-Qe*et;if(Math.abs(rt)<Ee)return!1;var nt=ze[0]-Ue[0],at=ze[1]-Ue[1],it=(et*at-tt*nt)/rt,ct=($e*at-Qe*nt)/rt,ft={alongA:0,alongB:0,pt:[ze[0]+it*$e,ze[1]+it*Qe]};return ft.alongA=it<=-Ee?-2:it<Ee?-1:it-1<=-Ee?0:it-1<Ee?1:2,ft.alongB=ct<=-Ee?-2:ct<Ee?-1:ct-1<=-Ee?0:ct-1<Ee?1:2,ft},pointInsideRegion:function(ze,Be){for(var Ue=ze[0],We=ze[1],$e=Be[Be.length-1][0],Qe=Be[Be.length-1][1],et=!1,tt=0;tt<Be.length;tt++){var rt=Be[tt][0],nt=Be[tt][1];nt-We>Ee!=Qe-We>Ee&&($e-rt)*(We-nt)/(Qe-nt)+rt-Ue>Ee&&(et=!et),$e=rt,Qe=nt}return et}};return ze}},f8f6:function(Ee,ze,Be){"use strict";Ee.exports=function eventData(Ee,ze){return Ee.lon=ze.lon,Ee.lat=ze.lat,Ee}},f90d:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("5c33"),supplyDefaults:Be("e5a0"),calc:Be("6aa3"),plot:Be("26dd"),moduleType:"trace",name:"table",basePlotModule:Be("182a"),categories:["noOpacity"],meta:{}}},f967:function(Ee,ze,Be){"use strict";var Ue=String.prototype.indexOf;Ee.exports=function(Ee){return Ue.call(this,Ee,arguments[1])>-1}},f973:function(Ee,ze,Be){"use strict";Ee.exports=Be("18ec")()?String.prototype.contains:Be("f967")},f977:function(Ee,ze,Be){"use strict";var Ue=Be("0103");Ee.exports=function str2RgbaArray(Ee){return Ee?Ue(Ee):[0,0,0,1]}},f98d:function(Ee,ze,Be){"use strict";function xformMatrix(Ee,ze){var Be,Ue,We=[0,0,0,0];for(Be=0;Be<4;++Be)for(Ue=0;Ue<4;++Ue)We[Ue]+=Ee[4*Be+Ue]*ze[Be];return We}Ee.exports=function project(Ee,ze){return xformMatrix(Ee.projection,xformMatrix(Ee.view,xformMatrix(Ee.model,[ze[0],ze[1],ze[2],1])))}},f9d8:function(Ee,ze,Be){Ee.exports={EPSILON:Be("cc12a"),create:Be("cf8b"),clone:Be("0365"),angle:Be("2325"),fromValues:Be("9573"),copy:Be("9070"),set:Be("fedf"),equals:Be("dc6f"),exactEquals:Be("4a35"),add:Be("d28d"),subtract:Be("a469"),sub:Be("f7c3"),multiply:Be("ef49"),mul:Be("d40d"),divide:Be("615d"),div:Be("cac1"),min:Be("ce83"),max:Be("a901"),floor:Be("9576"),ceil:Be("5714"),round:Be("3a19"),scale:Be("2a16"),scaleAndAdd:Be("738f"),distance:Be("fb8f"),dist:Be("99f7"),squaredDistance:Be("e13b"),sqrDist:Be("91ae"),length:Be("8be6"),len:Be("5053"),squaredLength:Be("2456"),sqrLen:Be("2c66"),negate:Be("2d1c"),inverse:Be("4bba"),normalize:Be("913b"),dot:Be("e448"),cross:Be("27a4"),lerp:Be("1b06"),random:Be("f28b"),transformMat4:Be("c29d"),transformMat3:Be("ff0b"),transformQuat:Be("26d1"),rotateX:Be("422c"),rotateY:Be("4f65"),rotateZ:Be("b73f"),forEach:Be("b882")}},f9f9:function(Ee,ze){Ee.exports=function fromValues(Ee,ze,Be,Ue){var We=new Float32Array(4);return We[0]=Ee,We[1]=ze,We[2]=Be,We[3]=Ue,We}},fa06:function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Ue.marker,$e=Be("9092").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" ");Ee.exports={r:$e({},Ue.r,{}),t:$e({},Ue.t,{}),marker:{color:$e({},We.color,{}),size:$e({},We.size,{}),symbol:$e({},We.symbol,{}),opacity:$e({},We.opacity,{}),editType:"calc"}}},fa10:function(Ee,ze,Be){"use strict";var Ue=Be("0642"),We=Be("fc26"),$e=Be("a5c4"),Qe=Be("d115"),et=We.fillText;function hoverOnBoxes(Ee,ze,Be,et){var tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut,er,tr,rr,ar=Ee.cd,Lr=Ee.xa,Qr=Ee.ya,on=ar[0].trace,sn=ar[0].t,ln="violin"===on.type,cn=[],un=sn.bdPos,hn=sn.wHover,shiftPos=function(Ee){return nt.c2l(Ee.pos)+sn.bPos-nt.c2l(ct)};ln&&"both"!==on.side?("positive"===on.side&&(kt=function(Ee){var ze=shiftPos(Ee);return $e.inbox(ze,ze+hn,Lt)},er=un,tr=0),"negative"===on.side&&(kt=function(Ee){var ze=shiftPos(Ee);return $e.inbox(ze-hn,ze,Lt)},er=0,tr=un)):(kt=function(Ee){var ze=shiftPos(Ee);return $e.inbox(ze-hn,ze+hn,Lt)},er=tr=un),rr=ln?function(Ee){return $e.inbox(Ee.span[0]-it,Ee.span[1]-it,Lt)}:function(Ee){return $e.inbox(Ee.min-it,Ee.max-it,Lt)},"h"===on.orientation?(it=ze,ct=Be,ft=rr,xt=kt,tt="y",nt=Qr,rt="x",at=Lr):(it=Be,ct=ze,ft=kt,xt=rr,tt="x",nt=Lr,rt="y",at=Qr);var dn=Math.min(1,un/Math.abs(nt.r2c(nt.range[1])-nt.r2c(nt.range[0])));function dxy(Ee){return(ft(Ee)+xt(Ee))/2}Lt=Ee.maxHoverDistance-dn,Ut=Ee.maxSpikeDistance-dn;var vn=$e.getDistanceFunction(et,ft,xt,dxy);if($e.getClosest(ar,vn,Ee),!1===Ee.index)return[];var yn=ar[Ee.index],_n=on.line.color,Mn=(on.marker||{}).color;Qe.opacity(_n)&&on.line.width?Ee.color=_n:Qe.opacity(Mn)&&on.boxpoints?Ee.color=Mn:Ee.color=on.fillcolor,Ee[tt+"0"]=nt.c2p(yn.pos+sn.bPos-tr,!0),Ee[tt+"1"]=nt.c2p(yn.pos+sn.bPos+er,!0),Ee[tt+"LabelVal"]=yn.pos;var Cn=tt+"Spike";Ee.spikeDistance=dxy(yn)*Ut/Lt,Ee[Cn]=nt.c2p(yn.pos,!0);var En={},Pn=["med","q1","q3","min","max"];(on.boxmean||(on.meanline||{}).visible)&&Pn.push("mean"),(on.boxpoints||on.points)&&Pn.push("lf","uf");for(var In=0;In<Pn.length;In++){var Bn=Pn[In];if(Bn in yn&&!(yn[Bn]in En)){En[yn[Bn]]=!0;var Hn=yn[Bn],Kn=at.c2p(Hn,!0),Jn=We.extendFlat({},Ee);Jn.attr=Bn,Jn[rt+"0"]=Jn[rt+"1"]=Kn,Jn[rt+"LabelVal"]=Hn,Jn[rt+"Label"]=(sn.labels?sn.labels[Bn]+" ":"")+Ue.hoverLabelText(at,Hn),Jn.hoverOnBox=!0,"mean"===Bn&&"sd"in yn&&"sd"===on.boxmean&&(Jn[rt+"err"]=yn.sd),Ee.name="",Ee.spikeDistance=void 0,Ee[Cn]=void 0,Jn.hovertemplate=!1,cn.push(Jn)}}return cn}function hoverOnPoints(Ee,ze,Be){for(var Ue,Qe,tt,rt=Ee.cd,nt=Ee.xa,at=Ee.ya,it=rt[0].trace,ct=nt.c2p(ze),ft=at.c2p(Be),xt=$e.quadrature((function(Ee){var ze=Math.max(3,Ee.mrc||0);return Math.max(Math.abs(nt.c2p(Ee.x)-ct)-ze,1-3/ze)}),(function(Ee){var ze=Math.max(3,Ee.mrc||0);return Math.max(Math.abs(at.c2p(Ee.y)-ft)-ze,1-3/ze)})),kt=!1,Lt=0;Lt<rt.length;Lt++){Qe=rt[Lt];for(var Ut=0;Ut<(Qe.pts||[]).length;Ut++){var er=xt(tt=Qe.pts[Ut]);er<=Ee.distance&&(Ee.distance=er,kt=[Lt,Ut])}}if(!kt)return!1;tt=(Qe=rt[kt[0]]).pts[kt[1]];var tr,rr=nt.c2p(tt.x,!0),ar=at.c2p(tt.y,!0),Lr=tt.mrc||1;return Ue=We.extendFlat({},Ee,{index:tt.i,color:(it.marker||{}).color,name:it.name,x0:rr-Lr,x1:rr+Lr,y0:ar-Lr,y1:ar+Lr,spikeDistance:Ee.distance,hovertemplate:it.hovertemplate}),"h"===it.orientation?(tr=at,Ue.xLabelVal=tt.x,Ue.yLabelVal=Qe.pos):(tr=nt,Ue.xLabelVal=Qe.pos,Ue.yLabelVal=tt.y),Ue[tr._id.charAt(0)+"Spike"]=tr.c2p(Qe.pos,!0),et(tt,it,Ue),Ue}Ee.exports={hoverPoints:function hoverPoints(Ee,ze,Be,Ue){var We,$e=Ee.cd[0].trace.hoveron,Qe=[];return-1!==$e.indexOf("boxes")&&(Qe=Qe.concat(hoverOnBoxes(Ee,ze,Be,Ue))),-1!==$e.indexOf("points")&&(We=hoverOnPoints(Ee,ze,Be)),"closest"===Ue?We?[We]:Qe:We?(Qe.push(We),Qe):Qe},hoverOnBoxes:hoverOnBoxes,hoverOnPoints:hoverOnPoints}},fa11:function(Ee,ze){Ee.exports=function distance(Ee,ze){var Be=ze[0]-Ee[0],Ue=ze[1]-Ee[1],We=ze[2]-Ee[2],$e=ze[3]-Ee[3];return Math.sqrt(Be*Be+Ue*Ue+We*We+$e*$e)}},fa59:function(Ee,ze,Be){"use strict";var Ue=Be("6e58");Ee.exports=function makeTraceGroups(Ee,ze,Be){var We=Ee.selectAll("g."+Be.replace(/\s/g,".")).data(ze,(function(Ee){return Ee[0].trace.uid}));We.exit().remove(),We.enter().append("g").attr("class",Be),We.order();var $e=Ee.classed("rangeplot")?"nodeRangePlot3":"node3";return We.each((function(Ee){Ee[0][$e]=Ue.select(this)})),We}},fa75:function(Ee,ze,Be){"use strict";var Ue=Be("fc26").isArrayOrTypedArray;Ee.exports=function(Ee,ze,Be,We){var $e,Qe,et,tt,rt,nt,at,it,ct,ft,xt,kt,Lt,Ut=Ue(Be)?"a":"b",er=("a"===Ut?Ee.aaxis:Ee.baxis).smoothing,tr="a"===Ut?Ee.a2i:Ee.b2j,rr="a"===Ut?Be:We,ar="a"===Ut?We:Be,Lr="a"===Ut?ze.a.length:ze.b.length,Qr="a"===Ut?ze.b.length:ze.a.length,on=Math.floor("a"===Ut?Ee.b2j(ar):Ee.a2i(ar)),sn="a"===Ut?function(ze){return Ee.evalxy([],ze,on)}:function(ze){return Ee.evalxy([],on,ze)};er&&(et=Math.max(0,Math.min(Qr-2,on)),tt=on-et,Qe="a"===Ut?function(ze,Be){return Ee.dxydi([],ze,et,Be,tt)}:function(ze,Be){return Ee.dxydj([],et,ze,tt,Be)});var ln=tr(rr[0]),cn=tr(rr[1]),un=ln<cn?1:-1,hn=1e-8*(cn-ln),dn=un>0?Math.floor:Math.ceil,vn=un>0?Math.ceil:Math.floor,yn=un>0?Math.min:Math.max,_n=un>0?Math.max:Math.min,Mn=dn(ln+hn),Cn=vn(cn-hn),En=[[at=sn(ln)]];for($e=Mn;$e*un<Cn*un;$e+=un)rt=[],xt=_n(ln,$e),Lt=(kt=yn(cn,$e+un))-xt,nt=Math.max(0,Math.min(Lr-2,Math.floor(.5*(xt+kt)))),it=sn(kt),er&&(ct=Qe(nt,xt-nt),ft=Qe(nt,kt-nt),rt.push([at[0]+ct[0]/3*Lt,at[1]+ct[1]/3*Lt]),rt.push([it[0]-ft[0]/3*Lt,it[1]-ft[1]/3*Lt])),rt.push(it),En.push(rt),at=it;return En}},fa8a:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("66cb"),$e=Be("371e"),Qe=Be("fc26"),et=Be("c258").makeColorScaleFuncFromTrace,tt=Be("73c9");function findInterp(Ee,ze){var Be=ze.length-2,Ue=Qe.constrain(Qe.findBin(Ee,ze),0,Be),We=ze[Ue],$e=ze[Ue+1],et=Qe.constrain(Ue+(Ee-We)/($e-We)-.5,0,Be),tt=Math.round(et),rt=Math.abs(et-tt);return et&&et!==Be&&rt?{bin0:tt,frac:rt,bin1:Math.round(tt+rt/(et-tt))}:{bin0:tt,bin1:tt,frac:0}}function findInterpFromCenters(Ee,ze){var Be=ze.length-1,Ue=Qe.constrain(Qe.findBin(Ee,ze),0,Be),We=ze[Ue],$e=(Ee-We)/(ze[Ue+1]-We)||0;return $e<=0?{bin0:Ue,bin1:Ue,frac:0}:$e<.5?{bin0:Ue,bin1:Ue+1,frac:$e}:{bin0:Ue+1,bin1:Ue,frac:1-$e}}function putColor(Ee,ze,Be){Ee[ze]=Be[0],Ee[ze+1]=Be[1],Ee[ze+2]=Be[2],Ee[ze+3]=Math.round(255*Be[3])}Ee.exports=function(Ee,ze,Be,rt){var nt=ze.xaxis,at=ze.yaxis;Qe.makeTraceGroups(rt,Be,"hm").each((function(ze){var Be,rt,it,ct,ft,xt,kt=Ue.select(this),Lt=ze[0],Ut=Lt.trace,er=Lt.z,tr=Lt.x,rr=Lt.y,ar=Lt.xCenter,Lr=Lt.yCenter,Qr=$e.traceIs(Ut,"contour"),on=Qr?"best":Ut.zsmooth,sn=er.length,ln=Qe.maxRowLength(er),cn=!1,un=!1;for(xt=0;void 0===Be&&xt<tr.length-1;)Be=nt.c2p(tr[xt]),xt++;for(xt=tr.length-1;void 0===rt&&xt>0;)rt=nt.c2p(tr[xt]),xt--;for(rt<Be&&(it=rt,rt=Be,Be=it,cn=!0),xt=0;void 0===ct&&xt<rr.length-1;)ct=at.c2p(rr[xt]),xt++;for(xt=rr.length-1;void 0===ft&&xt>0;)ft=at.c2p(rr[xt]),xt--;if(ft<ct&&(it=ct,ct=ft,ft=it,un=!0),Qr&&(ar=tr,Lr=rr,tr=Lt.xfill,rr=Lt.yfill),"fast"!==on){var hn="best"===on?0:.5;Be=Math.max(-hn*nt._length,Be),rt=Math.min((1+hn)*nt._length,rt),ct=Math.max(-hn*at._length,ct),ft=Math.min((1+hn)*at._length,ft)}var dn=Math.round(rt-Be),vn=Math.round(ft-ct);if(dn<=0||vn<=0){kt.selectAll("image").data([]).exit().remove()}else{var yn,_n;"fast"===on?(yn=ln,_n=sn):(yn=dn,_n=vn);var Mn=document.createElement("canvas");Mn.width=yn,Mn.height=_n;var Cn,En,Pn=Mn.getContext("2d"),In=et(Ut,{noNumericCheck:!0,returnArray:!0});"fast"===on?(Cn=cn?function(Ee){return ln-1-Ee}:Qe.identity,En=un?function(Ee){return sn-1-Ee}:Qe.identity):(Cn=function(Ee){return Qe.constrain(Math.round(nt.c2p(tr[Ee])-Be),0,dn)},En=function(Ee){return Qe.constrain(Math.round(at.c2p(rr[Ee])-ct),0,vn)});var Bn,Hn,Kn,Jn,Ma,Sa=En(0),La=[Sa,Sa],Ia=cn?0:1,Ra=un?0:1,Na=0,Ua=0,qa=0,Ka=0;if(on){var ei,ti=0;try{ei=new Uint8Array(dn*vn*4)}catch(Ee){ei=new Array(dn*vn*4)}if("best"===on){var ri,ni,ai,ii=ar||tr,oi=Lr||rr,si=new Array(ii.length),li=new Array(oi.length),ci=new Array(dn),hi=ar?findInterpFromCenters:findInterp,Ci=Lr?findInterpFromCenters:findInterp;for(xt=0;xt<ii.length;xt++)si[xt]=Math.round(nt.c2p(ii[xt])-Be);for(xt=0;xt<oi.length;xt++)li[xt]=Math.round(at.c2p(oi[xt])-ct);for(xt=0;xt<dn;xt++)ci[xt]=hi(xt,si);for(Hn=0;Hn<vn;Hn++)for(ni=er[(ri=Ci(Hn,li)).bin0],ai=er[ri.bin1],xt=0;xt<dn;xt++,ti+=4)putColor(ei,ti,Ma=interpColor(ni,ai,ci[xt],ri))}else for(Hn=0;Hn<sn;Hn++)for(Jn=er[Hn],La=En(Hn),xt=0;xt<dn;xt++)Ma=setColor(Jn[xt],1),putColor(ei,ti=4*(La*dn+Cn(xt)),Ma);var Pi=Pn.createImageData(dn,vn);try{Pi.data.set(ei)}catch(Ee){var zi=Pi.data,ji=zi.length;for(Hn=0;Hn<ji;Hn++)zi[Hn]=ei[Hn]}Pn.putImageData(Pi,0,0)}else{var Xi=Ut.xgap,Co=Ut.ygap,zo=Math.floor(Xi/2),Bo=Math.floor(Co/2);for(Hn=0;Hn<sn;Hn++)if(Jn=er[Hn],La.reverse(),La[Ra]=En(Hn+1),La[0]!==La[1]&&void 0!==La[0]&&void 0!==La[1])for(Bn=[Kn=Cn(0),Kn],xt=0;xt<ln;xt++)Bn.reverse(),Bn[Ia]=Cn(xt+1),Bn[0]!==Bn[1]&&void 0!==Bn[0]&&void 0!==Bn[1]&&(Ma=setColor(Jn[xt],(Bn[1]-Bn[0])*(La[1]-La[0])),Pn.fillStyle="rgba("+Ma.join(",")+")",Pn.fillRect(Bn[0]+zo,La[0]+Bo,Bn[1]-Bn[0]-Xi,La[1]-La[0]-Co))}Ua=Math.round(Ua/Na),qa=Math.round(qa/Na),Ka=Math.round(Ka/Na);var Vo=We("rgb("+Ua+","+qa+","+Ka+")");Ee._hmpixcount=(Ee._hmpixcount||0)+Na,Ee._hmlumcount=(Ee._hmlumcount||0)+Na*Vo.getLuminance();var Uo=kt.selectAll("image").data(ze);Uo.enter().append("svg:image").attr({xmlns:tt.svg,preserveAspectRatio:"none"}),Uo.attr({height:vn,width:dn,x:Be,y:ct,"xlink:href":Mn.toDataURL("image/png")})}function setColor(Ee,ze){if(void 0!==Ee){var Be=In(Ee);return Be[0]=Math.round(Be[0]),Be[1]=Math.round(Be[1]),Be[2]=Math.round(Be[2]),Na+=ze,Ua+=Be[0]*ze,qa+=Be[1]*ze,Ka+=Be[2]*ze,Be}return[0,0,0,0]}function interpColor(Ee,ze,Be,Ue){var We=Ee[Be.bin0];if(void 0===We)return setColor(void 0,1);var $e,Qe=Ee[Be.bin1],et=ze[Be.bin0],tt=ze[Be.bin1],rt=Qe-We||0,nt=et-We||0;return $e=void 0===Qe?void 0===tt?0:void 0===et?2*(tt-We):2*(2*tt-et-We)/3:void 0===tt?void 0===et?0:2*(2*We-Qe-et)/3:void 0===et?2*(2*tt-Qe-We)/3:tt+We-Qe-et,setColor(We+Be.frac*rt+Ue.frac*(nt+Be.frac*$e))}}))}},fae3:function(Ee,ze,Be){"use strict";var Ue;(Be.r(ze),"undefined"!=typeof window)&&(Be("f6fd"),(Ue=window.document.currentScript)&&(Ue=Ue.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(Be.p=Ue[1]));Be("a4d3"),Be("4de4"),Be("4160"),Be("13d5"),Be("cca6"),Be("e439"),Be("dbb4"),Be("b64b"),Be("159b");function _defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var We=Be("030a"),$e=Be.n(We),Qe=(Be("99af"),Be("d81d"),["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","Transitioning","TransitionInterrupted","Unhover"].map((function(Ee){return Ee.toLocaleLowerCase()})).map((function(Ee){return{completeName:"plotly_"+Ee,handler:function handler(ze){return function(){for(var Be=arguments.length,Ue=new Array(Be),We=0;We<Be;We++)Ue[We]=arguments[We];ze.$emit.apply(ze,[Ee].concat(Ue))}}}}))),et=["restyle","relayout","update","addTraces","deleteTraces","moveTraces","extendTraces","prependTraces","purge"].reduce((function(Ee,ze){return Ee[ze]=function(){for(var Ee=arguments.length,Be=new Array(Ee),Ue=0;Ue<Ee;Ue++)Be[Ue]=arguments[Ue];return $e.a[ze].apply($e.a,[this.$el].concat(Be))},Ee}),{});Be("ac1f"),Be("5319");var tt=/-(\w)/g,rt=function cached(Ee){var ze=Object.create(null);return function cachedFn(Be){return ze[Be]||(ze[Be]=Ee(Be))}}((function(Ee){return Ee.replace(tt,(function(Ee,ze){return ze?ze.toUpperCase():""}))}));function ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function _objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?ownKeys(Object(Be),!0).forEach((function(ze){_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}var nt={};"undefined"!=typeof window&&(nt.resize=Be("428d"));var at=function normalizeComponent(Ee,ze,Be,Ue,We,$e,Qe,et){var tt,rt="function"==typeof Ee?Ee.options:Ee;if(ze&&(rt.render=ze,rt.staticRenderFns=Be,rt._compiled=!0),Ue&&(rt.functional=!0),$e&&(rt._scopeId="data-v-"+$e),Qe?(tt=function(Ee){(Ee=Ee||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(Ee=__VUE_SSR_CONTEXT__),We&&We.call(this,Ee),Ee&&Ee._registeredComponents&&Ee._registeredComponents.add(Qe)},rt._ssrRegister=tt):We&&(tt=et?function(){We.call(this,this.$root.$options.shadowRoot)}:We),tt)if(rt.functional){rt._injectStyles=tt;var nt=rt.render;rt.render=function renderWithStyleInjection(Ee,ze){return tt.call(ze),nt(Ee,ze)}}else{var at=rt.beforeCreate;rt.beforeCreate=at?[].concat(at,tt):[tt]}return{exports:Ee,options:rt}}({name:"plotly",inheritAttrs:!1,directives:nt,props:{data:{type:Array},layout:{type:Object},id:{type:String,required:!1,default:null}},data:function data(){return{scheduled:null,innerLayout:_objectSpread({},this.layout)}},mounted:function mounted(){var Ee=this;$e.a.newPlot(this.$el,this.data,this.innerLayout,this.options),Qe.forEach((function(ze){Ee.$el.on(ze.completeName,ze.handler(Ee))}))},watch:{data:{handler:function handler(){this.schedule({replot:!0})},deep:!0},options:{handler:function handler(Ee,ze){JSON.stringify(Ee)!==JSON.stringify(ze)&&this.schedule({replot:!0})},deep:!0},layout:function layout(Ee){this.innerLayout=_objectSpread({},Ee),this.schedule({replot:!1})}},computed:{options:function options(){var Ee=this;return _objectSpread({responsive:!1},Object.keys(this.$attrs).reduce((function(ze,Be){return ze[rt(Be)]=Ee.$attrs[Be],ze}),{}))}},beforeDestroy:function beforeDestroy(){var Ee=this;Qe.forEach((function(ze){return Ee.$el.removeAllListeners(ze.completeName)})),$e.a.purge(this.$el)},methods:_objectSpread({},et,{onResize:function onResize(){$e.a.Plots.resize(this.$el)},schedule:function schedule(Ee){var ze=this,Be=this.scheduled;Be?Be.replot=Be.replot||Ee.replot:(this.scheduled=Ee,this.$nextTick((function(){var Ee=ze.scheduled.replot;ze.scheduled=null,Ee?ze.react():ze.relayout(ze.innerLayout)})))},toImage:function toImage(Ee){var ze=Object.assign(this.getPrintOptions(),Ee);return $e.a.toImage(this.$el,ze)},downloadImage:function downloadImage(Ee){var ze="plot--".concat((new Date).toISOString()),Be=Object.assign(this.getPrintOptions(),{filename:ze},Ee);return $e.a.downloadImage(this.$el,Be)},getPrintOptions:function getPrintOptions(){var Ee=this.$el;return{format:"png",width:Ee.clientWidth,height:Ee.clientHeight}},react:function react(){$e.a.react(this.$el,this.data,this.innerLayout,this.options)}})},(function(){var Ee=this.$createElement;return(this._self._c||Ee)("div",{directives:[{name:"resize",rawName:"v-resize:debounce.100",value:this.onResize,expression:"onResize",arg:"debounce",modifiers:{100:!0}}],attrs:{id:this.id}})}),[],!1,null,null,null).exports;Be.d(ze,"Plotly",(function(){return at}))},fb34:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("348d"),supplyDefaults:Be("0c5d"),crossTraceDefaults:Be("722f"),calc:Be("6bd5"),plot:Be("6954").plot,layerName:"contourlayer",style:Be("ee6b"),colorbar:Be("a5e1"),hoverPoints:Be("510f"),moduleType:"trace",name:"histogram2dcontour",basePlotModule:Be("91cd"),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},fb56:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("d115"),$e=Be("0f37"),Qe=Be("59e0");function getParentId(Ee){return Ee.data.data.pid}ze.findEntryWithLevel=function(Ee,Be){var Ue;return Be&&Ee.eachAfter((function(Ee){if(ze.getPtId(Ee)===Be)return Ue=Ee.copy()})),Ue||Ee},ze.findEntryWithChild=function(Ee,Be){var Ue;return Ee.eachAfter((function(Ee){for(var We=Ee.children||[],$e=0;$e<We.length;$e++){var Qe=We[$e];if(ze.getPtId(Qe)===Be)return Ue=Ee.copy()}})),Ue||Ee},ze.isEntry=function(Ee){return!Ee.parent},ze.isLeaf=function(Ee){return!Ee.children},ze.getPtId=function(Ee){return Ee.data.data.id},ze.getPtLabel=function(Ee){return Ee.data.data.label},ze.getValue=function(Ee){return Ee.value},ze.isHierarchyRoot=function(Ee){return""===getParentId(Ee)},ze.setSliceCursor=function(Ee,Be,Ue){var We=Ue.isTransitioning;if(!We){var Qe=Ee.datum();We=Ue.hideOnRoot&&ze.isHierarchyRoot(Qe)||Ue.hideOnLeaves&&ze.isLeaf(Qe)}$e(Ee,We?null:"pointer")},ze.getInsideTextFontKey=function(Ee,ze,Be,We,$e){var Qe=($e||{}).onPathbar?"pathbar.textfont":"insidetextfont",et=Be.data.data.i;return Ue.castOption(ze,et,Qe+"."+Ee)||Ue.castOption(ze,et,"textfont."+Ee)||We.size},ze.getOutsideTextFontKey=function(Ee,ze,Be,We){var $e=Be.data.data.i;return Ue.castOption(ze,$e,"outsidetextfont."+Ee)||Ue.castOption(ze,$e,"textfont."+Ee)||We.size},ze.isOutsideText=function(Ee,Be){return!Ee._hasColorscale&&ze.isHierarchyRoot(Be)},ze.determineTextFont=function(Ee,Be,$e,Qe){return ze.isOutsideText(Ee,Be)?function determineOutsideTextFont(Ee,Be,Ue){return{color:ze.getOutsideTextFontKey("color",Ee,Be,Ue),family:ze.getOutsideTextFontKey("family",Ee,Be,Ue),size:ze.getOutsideTextFontKey("size",Ee,Be,Ue)}}(Ee,Be,$e):function determineInsideTextFont(Ee,Be,$e,Qe){var et=(Qe||{}).onPathbar,tt=Be.data.data,rt=tt.i,nt=Ue.castOption(Ee,rt,(et?"pathbar.textfont":"insidetextfont")+".color");return!nt&&Ee._input.textfont&&(nt=Ue.castOption(Ee._input,rt,"textfont.color")),{color:nt||We.contrast(tt.color),family:ze.getInsideTextFontKey("family",Ee,Be,$e,Qe),size:ze.getInsideTextFontKey("size",Ee,Be,$e,Qe)}}(Ee,Be,$e,Qe)},ze.hasTransition=function(Ee){return!!(Ee&&Ee.duration>0)},ze.getMaxDepth=function(Ee){return Ee.maxdepth>=0?Ee.maxdepth:1/0},ze.isHeader=function(Ee,Be){return!(ze.isLeaf(Ee)||Ee.depth===Be._maxDepth-1)},ze.getParent=function(Ee,Be){return ze.findEntryWithLevel(Ee,getParentId(Be))},ze.listPath=function(Ee,Be){var Ue=Ee.parent;if(!Ue)return[];var We=Be?[Ue.data[Be]]:[Ue];return ze.listPath(Ue,Be).concat(We)},ze.getPath=function(Ee){return ze.listPath(Ee,"label").join("/")+"/"},ze.formatValue=Qe.formatPieValue,ze.formatPercent=function(Ee,ze){var Be=Ue.formatPercent(Ee,0);return"0%"===Be&&(Be=Qe.formatPiePercent(Ee,ze)),Be}},fb566:function(Ee,ze){Ee.exports=function clone(Ee){var ze=new Float32Array(16);return ze[0]=Ee[0],ze[1]=Ee[1],ze[2]=Ee[2],ze[3]=Ee[3],ze[4]=Ee[4],ze[5]=Ee[5],ze[6]=Ee[6],ze[7]=Ee[7],ze[8]=Ee[8],ze[9]=Ee[9],ze[10]=Ee[10],ze[11]=Ee[11],ze[12]=Ee[12],ze[13]=Ee[13],ze[14]=Ee[14],ze[15]=Ee[15],ze}},fb5a:function(Ee,ze,Be){"use strict";var Ue=Be("107c"),We=Be("94d5").hovertemplateAttrs,$e=Be("94d5").texttemplateAttrs,Qe=Be("f4e9"),et=Be("9845"),tt=Be("1a5e"),rt=Be("9092").extendFlat,nt=et({editType:"calc",arrayOk:!0,colorEditType:"style"}),at=rt({},Ue.marker.line.width,{dflt:0}),it=rt({width:at,editType:"calc"},Qe("marker.line")),ct=rt({line:it,editType:"calc"},Qe("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});Ee.exports={x:Ue.x,x0:Ue.x0,dx:Ue.dx,y:Ue.y,y0:Ue.y0,dy:Ue.dy,text:Ue.text,texttemplate:$e({editType:"plot"},{keys:tt.eventDataKeys}),hovertext:Ue.hovertext,hovertemplate:We({},{keys:tt.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:rt({},nt,{}),insidetextfont:rt({},nt,{}),outsidetextfont:rt({},nt,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:rt({},Ue.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:ct,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:Ue.selected.marker.opacity,color:Ue.selected.marker.color,editType:"style"},textfont:Ue.selected.textfont,editType:"style"},unselected:{marker:{opacity:Ue.unselected.marker.opacity,color:Ue.unselected.marker.color,editType:"style"},textfont:Ue.unselected.textfont,editType:"style"},r:Ue.r,t:Ue.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},fb8f:function(Ee,ze){Ee.exports=function distance(Ee,ze){var Be=ze[0]-Ee[0],Ue=ze[1]-Ee[1],We=ze[2]-Ee[2];return Math.sqrt(Be*Be+Ue*Ue+We*We)}},fc03:function(Ee,ze,Be){"use strict";var Ue=Be("1676"),We=Ue.createTubeMesh,$e=Be("fc26"),Qe=Be("765f").parseColorScale,et=Be("c258").extractOpts,tt=Be("569b"),rt={xaxis:0,yaxis:1,zaxis:2};function Streamtube(Ee,ze){this.scene=Ee,this.uid=ze,this.mesh=null,this.data=null}var nt=Streamtube.prototype;function getDfltStartingPositions(Ee){var ze=Ee.length;return ze>2?Ee.slice(1,ze-1):2===ze?[(Ee[0]+Ee[1])/2]:Ee}function getBoundPads(Ee){var ze=Ee.length;return 1===ze?[.5,.5]:[Ee[1]-Ee[0],Ee[ze-1]-Ee[ze-2]]}function convert(Ee,ze){var Be=Ee.fullSceneLayout,We=Ee.dataScale,nt=ze._len,at={};function toDataCoords(Ee,ze){var Ue=Be[ze],Qe=We[rt[ze]];return $e.simpleMap(Ee,(function(Ee){return Ue.d2l(Ee)*Qe}))}if(at.vectors=tt(toDataCoords(ze._u,"xaxis"),toDataCoords(ze._v,"yaxis"),toDataCoords(ze._w,"zaxis"),nt),!nt)return{positions:[],cells:[]};var it=toDataCoords(ze._Xs,"xaxis"),ct=toDataCoords(ze._Ys,"yaxis"),ft=toDataCoords(ze._Zs,"zaxis");if(at.meshgrid=[it,ct,ft],at.gridFill=ze._gridFill,ze._slen)at.startingPositions=tt(toDataCoords(ze._startsX,"xaxis"),toDataCoords(ze._startsY,"yaxis"),toDataCoords(ze._startsZ,"zaxis"));else{for(var xt=ct[0],kt=getDfltStartingPositions(it),Lt=getDfltStartingPositions(ft),Ut=new Array(kt.length*Lt.length),er=0,tr=0;tr<kt.length;tr++)for(var rr=0;rr<Lt.length;rr++)Ut[er++]=[kt[tr],xt,Lt[rr]];at.startingPositions=Ut}at.colormap=Qe(ze),at.tubeSize=ze.sizeref,at.maxLength=ze.maxdisplayed;var ar=toDataCoords(ze._xbnds,"xaxis"),Lr=toDataCoords(ze._ybnds,"yaxis"),Qr=toDataCoords(ze._zbnds,"zaxis"),on=getBoundPads(it),sn=getBoundPads(ct),ln=getBoundPads(ft),cn=[[ar[0]-on[0],Lr[0]-sn[0],Qr[0]-ln[0]],[ar[1]+on[1],Lr[1]+sn[1],Qr[1]+ln[1]]],un=Ue(at,cn),hn=et(ze);un.vertexIntensityBounds=[hn.min/ze._normMax,hn.max/ze._normMax];var dn=ze.lightposition;return un.lightPosition=[dn.x,dn.y,dn.z],un.ambient=ze.lighting.ambient,un.diffuse=ze.lighting.diffuse,un.specular=ze.lighting.specular,un.roughness=ze.lighting.roughness,un.fresnel=ze.lighting.fresnel,un.opacity=ze.opacity,ze._pad=un.tubeScale*ze.sizeref*2,un}nt.handlePick=function(Ee){var ze=this.scene.fullSceneLayout,Be=this.scene.dataScale;function fromDataScale(Ee,Ue){var We=ze[Ue],$e=Be[rt[Ue]];return We.l2c(Ee)/$e}if(Ee.object===this.mesh){var Ue=Ee.data.position,We=Ee.data.velocity;return Ee.traceCoordinate=[fromDataScale(Ue[0],"xaxis"),fromDataScale(Ue[1],"yaxis"),fromDataScale(Ue[2],"zaxis"),fromDataScale(We[0],"xaxis"),fromDataScale(We[1],"yaxis"),fromDataScale(We[2],"zaxis"),Ee.data.intensity*this.data._normMax,Ee.data.divergence],Ee.textLabel=this.data.hovertext||this.data.text,!0}},nt.update=function(Ee){this.data=Ee;var ze=convert(this.scene,Ee);this.mesh.update(ze)},nt.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Ee.exports=function createStreamtubeTrace(Ee,ze){var Be=Ee.glplot.gl,Ue=convert(Ee,ze),$e=We(Be,Ue),Qe=new Streamtube(Ee,ze.uid);return Qe.mesh=$e,Qe.data=ze,$e._trace=Qe,Ee.glplot.add($e),Qe}},fc08:function(Ee,ze){Ee.exports=function invert(Ee,ze){var Be=ze[0],Ue=ze[1],We=ze[2],$e=ze[3],Qe=ze[4],et=ze[5],tt=ze[6],rt=ze[7],nt=ze[8],at=nt*Qe-et*rt,it=-nt*$e+et*tt,ct=rt*$e-Qe*tt,ft=Be*at+Ue*it+We*ct;return ft?(ft=1/ft,Ee[0]=at*ft,Ee[1]=(-nt*Ue+We*rt)*ft,Ee[2]=(et*Ue-We*Qe)*ft,Ee[3]=it*ft,Ee[4]=(nt*Be-We*tt)*ft,Ee[5]=(-et*Be+We*$e)*ft,Ee[6]=ct*ft,Ee[7]=(-rt*Be+Ue*tt)*ft,Ee[8]=(Qe*Be-Ue*$e)*ft,Ee):null}},fc11:function(Ee,ze){Ee.exports=function rotateZ(Ee,ze,Be){var Ue=Math.sin(Be),We=Math.cos(Be),$e=ze[0],Qe=ze[1],et=ze[2],tt=ze[3],rt=ze[4],nt=ze[5],at=ze[6],it=ze[7];ze!==Ee&&(Ee[8]=ze[8],Ee[9]=ze[9],Ee[10]=ze[10],Ee[11]=ze[11],Ee[12]=ze[12],Ee[13]=ze[13],Ee[14]=ze[14],Ee[15]=ze[15]);return Ee[0]=$e*We+rt*Ue,Ee[1]=Qe*We+nt*Ue,Ee[2]=et*We+at*Ue,Ee[3]=tt*We+it*Ue,Ee[4]=rt*We-$e*Ue,Ee[5]=nt*We-Qe*Ue,Ee[6]=at*We-et*Ue,Ee[7]=it*We-tt*Ue,Ee}},fc26:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("19b2"),$e=Be("e806"),Qe=$e.FP_SAFE,et=$e.BADNUM,tt=Ee.exports={};tt.nestedProperty=Be("74d6"),tt.keyedContainer=Be("5def"),tt.relativeAttr=Be("2e3d"),tt.isPlainObject=Be("1385"),tt.toLogRange=Be("f6b0"),tt.relinkPrivateKeys=Be("4358");var rt=Be("6af8");tt.isTypedArray=rt.isTypedArray,tt.isArrayOrTypedArray=rt.isArrayOrTypedArray,tt.isArray1D=rt.isArray1D,tt.ensureArray=rt.ensureArray,tt.concat=rt.concat,tt.maxRowLength=rt.maxRowLength,tt.minRowLength=rt.minRowLength;var nt=Be("d3dc");tt.mod=nt.mod,tt.modHalf=nt.modHalf;var at=Be("6672");tt.valObjectMeta=at.valObjectMeta,tt.coerce=at.coerce,tt.coerce2=at.coerce2,tt.coerceFont=at.coerceFont,tt.coerceHoverinfo=at.coerceHoverinfo,tt.coerceSelectionMarkerOpacity=at.coerceSelectionMarkerOpacity,tt.validate=at.validate;var it=Be("661c");tt.dateTime2ms=it.dateTime2ms,tt.isDateTime=it.isDateTime,tt.ms2DateTime=it.ms2DateTime,tt.ms2DateTimeLocal=it.ms2DateTimeLocal,tt.cleanDate=it.cleanDate,tt.isJSDate=it.isJSDate,tt.formatDate=it.formatDate,tt.incrementMonth=it.incrementMonth,tt.dateTick0=it.dateTick0,tt.dfltRange=it.dfltRange,tt.findExactDates=it.findExactDates,tt.MIN_MS=it.MIN_MS,tt.MAX_MS=it.MAX_MS;var ct=Be("dc75");tt.findBin=ct.findBin,tt.sorterAsc=ct.sorterAsc,tt.sorterDes=ct.sorterDes,tt.distinctVals=ct.distinctVals,tt.roundUp=ct.roundUp,tt.sort=ct.sort,tt.findIndexOfMin=ct.findIndexOfMin;var ft=Be("a011");tt.aggNums=ft.aggNums,tt.len=ft.len,tt.mean=ft.mean,tt.median=ft.median,tt.midRange=ft.midRange,tt.variance=ft.variance,tt.stdev=ft.stdev,tt.interp=ft.interp;var xt=Be("ec20");tt.init2dArray=xt.init2dArray,tt.transposeRagged=xt.transposeRagged,tt.dot=xt.dot,tt.translationMatrix=xt.translationMatrix,tt.rotationMatrix=xt.rotationMatrix,tt.rotationXYMatrix=xt.rotationXYMatrix,tt.apply2DTransform=xt.apply2DTransform,tt.apply2DTransform2=xt.apply2DTransform2;var kt=Be("6e40");tt.deg2rad=kt.deg2rad,tt.rad2deg=kt.rad2deg,tt.angleDelta=kt.angleDelta,tt.angleDist=kt.angleDist,tt.isFullCircle=kt.isFullCircle,tt.isAngleInsideSector=kt.isAngleInsideSector,tt.isPtInsideSector=kt.isPtInsideSector,tt.pathArc=kt.pathArc,tt.pathSector=kt.pathSector,tt.pathAnnulus=kt.pathAnnulus;var Lt=Be("6c5a");tt.isLeftAnchor=Lt.isLeftAnchor,tt.isCenterAnchor=Lt.isCenterAnchor,tt.isRightAnchor=Lt.isRightAnchor,tt.isTopAnchor=Lt.isTopAnchor,tt.isMiddleAnchor=Lt.isMiddleAnchor,tt.isBottomAnchor=Lt.isBottomAnchor;var Ut=Be("19e1");tt.segmentsIntersect=Ut.segmentsIntersect,tt.segmentDistance=Ut.segmentDistance,tt.getTextLocation=Ut.getTextLocation,tt.clearLocationCache=Ut.clearLocationCache,tt.getVisibleSegment=Ut.getVisibleSegment,tt.findPointOnPath=Ut.findPointOnPath;var er=Be("9092");tt.extendFlat=er.extendFlat,tt.extendDeep=er.extendDeep,tt.extendDeepAll=er.extendDeepAll,tt.extendDeepNoArrays=er.extendDeepNoArrays;var tr=Be("ae13");tt.log=tr.log,tt.warn=tr.warn,tt.error=tr.error;var rr=Be("055a");tt.counterRegex=rr.counter;var ar=Be("7df2");tt.throttle=ar.throttle,tt.throttleDone=ar.done,tt.clearThrottle=ar.clear;var Lr=Be("1b88");function makePtIndex2PtNumber(Ee){var ze={};for(var Be in Ee)for(var Ue=Ee[Be],We=0;We<Ue.length;We++)ze[Ue[We]]=+Be;return ze}tt.getGraphDiv=Lr.getGraphDiv,tt.isPlotDiv=Lr.isPlotDiv,tt.removeElement=Lr.removeElement,tt.addStyleRule=Lr.addStyleRule,tt.addRelatedStyleRule=Lr.addRelatedStyleRule,tt.deleteRelatedStyleRule=Lr.deleteRelatedStyleRule,tt.clearResponsive=Be("a22f"),tt.makeTraceGroups=Be("fa59"),tt._=Be("a4c0"),tt.notifier=Be("0082"),tt.filterUnique=Be("5567"),tt.filterVisible=Be("6fc3"),tt.pushUnique=Be("5a1b"),tt.cleanNumber=Be("f2da"),tt.ensureNumber=function ensureNumber(Ee){return We(Ee)?(Ee=Number(Ee))<-Qe||Ee>Qe?et:We(Ee)?Number(Ee):et:et},tt.isIndex=function(Ee,ze){return!(void 0!==ze&&Ee>=ze)&&(We(Ee)&&Ee>=0&&Ee%1==0)},tt.noop=Be("b778"),tt.identity=Be("306c"),tt.repeat=function(Ee,ze){for(var Be=new Array(ze),Ue=0;Ue<ze;Ue++)Be[Ue]=Ee;return Be},tt.swapAttrs=function(Ee,ze,Be,Ue){Be||(Be="x"),Ue||(Ue="y");for(var We=0;We<ze.length;We++){var $e=ze[We],Qe=tt.nestedProperty(Ee,$e.replace("?",Be)),et=tt.nestedProperty(Ee,$e.replace("?",Ue)),rt=Qe.get();Qe.set(et.get()),et.set(rt)}},tt.raiseToTop=function raiseToTop(Ee){Ee.parentNode.appendChild(Ee)},tt.cancelTransition=function(Ee){return Ee.transition().duration(0)},tt.constrain=function(Ee,ze,Be){return ze>Be?Math.max(Be,Math.min(ze,Ee)):Math.max(ze,Math.min(Be,Ee))},tt.bBoxIntersect=function(Ee,ze,Be){return Be=Be||0,Ee.left<=ze.right+Be&&ze.left<=Ee.right+Be&&Ee.top<=ze.bottom+Be&&ze.top<=Ee.bottom+Be},tt.simpleMap=function(Ee,ze,Be,Ue){for(var We=Ee.length,$e=new Array(We),Qe=0;Qe<We;Qe++)$e[Qe]=ze(Ee[Qe],Be,Ue);return $e},tt.randstr=function randstr(Ee,ze,Be,Ue){if(Be||(Be=16),void 0===ze&&(ze=24),ze<=0)return"0";var We,$e,Qe=Math.log(Math.pow(2,ze))/Math.log(Be),et="";for(We=2;Qe===1/0;We*=2)Qe=Math.log(Math.pow(2,ze/We))/Math.log(Be)*We;var rt=Qe-Math.floor(Qe);for(We=0;We<Math.floor(Qe);We++)et=Math.floor(Math.random()*Be).toString(Be)+et;rt&&($e=Math.pow(Be,rt),et=Math.floor(Math.random()*$e).toString(Be)+et);var nt=parseInt(et,Be);return Ee&&Ee[et]||nt!==1/0&&nt>=Math.pow(2,ze)?Ue>10?(tt.warn("randstr failed uniqueness"),et):randstr(Ee,ze,Be,(Ue||0)+1):et},tt.OptionControl=function(Ee,ze){Ee||(Ee={}),ze||(ze="opt");var Be={optionList:[],_newoption:function(Ue){Ue[ze]=Ee,Be[Ue.name]=Ue,Be.optionList.push(Ue)}};return Be["_"+ze]=Ee,Be},tt.smooth=function(Ee,ze){if((ze=Math.round(ze)||0)<2)return Ee;var Be,Ue,We,$e,Qe=Ee.length,et=2*Qe,tt=2*ze-1,rt=new Array(tt),nt=new Array(Qe);for(Be=0;Be<tt;Be++)rt[Be]=(1-Math.cos(Math.PI*(Be+1)/ze))/(2*ze);for(Be=0;Be<Qe;Be++){for($e=0,Ue=0;Ue<tt;Ue++)(We=Be+Ue+1-ze)<-Qe?We-=et*Math.round(We/et):We>=et&&(We-=et*Math.floor(We/et)),We<0?We=-1-We:We>=Qe&&(We=et-1-We),$e+=Ee[We]*rt[Ue];nt[Be]=$e}return nt},tt.syncOrAsync=function(Ee,ze,Be){var Ue;function continueAsync(){return tt.syncOrAsync(Ee,ze,Be)}for(;Ee.length;)if((Ue=(0,Ee.splice(0,1)[0])(ze))&&Ue.then)return Ue.then(continueAsync).then(void 0,tt.promiseError);return Be&&Be(ze)},tt.stripTrailingSlash=function(Ee){return"/"===Ee.substr(-1)?Ee.substr(0,Ee.length-1):Ee},tt.noneOrAll=function(Ee,ze,Be){if(Ee){var Ue,We=!1,$e=!0;for(Ue=0;Ue<Be.length;Ue++)null!=Ee[Be[Ue]]?We=!0:$e=!1;if(We&&!$e)for(Ue=0;Ue<Be.length;Ue++)Ee[Be[Ue]]=ze[Be[Ue]]}},tt.mergeArray=function(Ee,ze,Be,Ue){var We="function"==typeof Ue;if(tt.isArrayOrTypedArray(Ee))for(var $e=Math.min(Ee.length,ze.length),Qe=0;Qe<$e;Qe++){var et=Ee[Qe];ze[Qe][Be]=We?Ue(et):et}},tt.mergeArrayCastPositive=function(Ee,ze,Be){return tt.mergeArray(Ee,ze,Be,(function(Ee){var ze=+Ee;return isFinite(ze)&&ze>0?ze:0}))},tt.fillArray=function(Ee,ze,Be,Ue){if(Ue=Ue||tt.identity,tt.isArrayOrTypedArray(Ee))for(var We=0;We<ze.length;We++)ze[We][Be]=Ue(Ee[We])},tt.castOption=function(Ee,ze,Be,Ue){Ue=Ue||tt.identity;var We=tt.nestedProperty(Ee,Be).get();return tt.isArrayOrTypedArray(We)?Array.isArray(ze)&&tt.isArrayOrTypedArray(We[ze[0]])?Ue(We[ze[0]][ze[1]]):Ue(We[ze]):We},tt.extractOption=function(Ee,ze,Be,Ue){if(Be in Ee)return Ee[Be];var We=tt.nestedProperty(ze,Ue).get();return Array.isArray(We)?void 0:We},tt.tagSelected=function(Ee,ze,Be){var Ue,We,$e=ze.selectedpoints,Qe=ze._indexToPoints;Qe&&(Ue=makePtIndex2PtNumber(Qe));for(var et=0;et<$e.length;et++){var rt=$e[et];if(tt.isIndex(rt)||tt.isArrayOrTypedArray(rt)&&tt.isIndex(rt[0])&&tt.isIndex(rt[1])){var nt=Ue?Ue[rt]:rt,at=Be?Be[nt]:nt;void 0!==(We=at)&&We<Ee.length&&(Ee[at].selected=1)}}},tt.selIndices2selPoints=function(Ee){var ze=Ee.selectedpoints,Be=Ee._indexToPoints;if(Be){for(var Ue=makePtIndex2PtNumber(Be),We=[],$e=0;$e<ze.length;$e++){var Qe=ze[$e];if(tt.isIndex(Qe)){var et=Ue[Qe];tt.isIndex(et)&&We.push(et)}}return We}return ze},tt.getTargetArray=function(Ee,ze){var Be=ze.target;if("string"==typeof Be&&Be){var Ue=tt.nestedProperty(Ee,Be).get();return!!Array.isArray(Ue)&&Ue}return!!Array.isArray(Be)&&Be},tt.minExtend=function(Ee,ze){var Be={};"object"!=typeof ze&&(ze={});var Ue,We,$e,Qe=Object.keys(Ee);for(Ue=0;Ue<Qe.length;Ue++)$e=Ee[We=Qe[Ue]],"_"!==We.charAt(0)&&"function"!=typeof $e&&("module"===We?Be[We]=$e:Array.isArray($e)?Be[We]="colorscale"===We?$e.slice():$e.slice(0,3):tt.isTypedArray($e)?Be[We]=$e.subarray(0,3):Be[We]=$e&&"object"==typeof $e?tt.minExtend(Ee[We],ze[We]):$e);for(Qe=Object.keys(ze),Ue=0;Ue<Qe.length;Ue++)"object"==typeof($e=ze[We=Qe[Ue]])&&We in Be&&"object"==typeof Be[We]||(Be[We]=$e);return Be},tt.titleCase=function(Ee){return Ee.charAt(0).toUpperCase()+Ee.substr(1)},tt.containsAny=function(Ee,ze){for(var Be=0;Be<ze.length;Be++)if(-1!==Ee.indexOf(ze[Be]))return!0;return!1},tt.isIE=function(){return void 0!==window.navigator.msSaveBlob};var Qr=/MSIE [1-9]\./;tt.isIE9orBelow=function(){return tt.isIE()&&Qr.test(window.navigator.userAgent)};var on=/Version\/[\d\.]+.*Safari/;tt.isSafari=function(){return on.test(window.navigator.userAgent)},tt.isD3Selection=function(Ee){return Ee&&"function"==typeof Ee.classed},tt.ensureSingle=function(Ee,ze,Be,Ue){var We=Ee.select(ze+(Be?"."+Be:""));if(We.size())return We;var $e=Ee.append(ze);return Be&&$e.classed(Be,!0),Ue&&$e.call(Ue),$e},tt.ensureSingleById=function(Ee,ze,Be,Ue){var We=Ee.select(ze+"#"+Be);if(We.size())return We;var $e=Ee.append(ze).attr("id",Be);return Ue&&$e.call(Ue),$e},tt.objectFromPath=function(Ee,ze){for(var Be,Ue=Ee.split("."),We=Be={},$e=0;$e<Ue.length;$e++){var Qe=Ue[$e],et=null,tt=Ue[$e].match(/(.*)\[([0-9]+)\]/);tt?(Qe=tt[1],et=tt[2],Be=Be[Qe]=[],$e===Ue.length-1?Be[et]=ze:Be[et]={},Be=Be[et]):($e===Ue.length-1?Be[Qe]=ze:Be[Qe]={},Be=Be[Qe])}return We};var sn=/^([^\[\.]+)\.(.+)?/,ln=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;tt.expandObjectPaths=function(Ee){var ze,Be,Ue,We,$e,Qe,et;if("object"==typeof Ee&&!Array.isArray(Ee))for(Be in Ee)Ee.hasOwnProperty(Be)&&((ze=Be.match(sn))?(We=Ee[Be],Ue=ze[1],delete Ee[Be],Ee[Ue]=tt.extendDeepNoArrays(Ee[Ue]||{},tt.objectFromPath(Be,tt.expandObjectPaths(We))[Ue])):(ze=Be.match(ln))?(We=Ee[Be],Ue=ze[1],$e=parseInt(ze[2]),delete Ee[Be],Ee[Ue]=Ee[Ue]||[],"."===ze[3]?(et=ze[4],Qe=Ee[Ue][$e]=Ee[Ue][$e]||{},tt.extendDeepNoArrays(Qe,tt.objectFromPath(et,tt.expandObjectPaths(We)))):Ee[Ue][$e]=tt.expandObjectPaths(We)):Ee[Be]=tt.expandObjectPaths(Ee[Be]));return Ee},tt.numSeparate=function(Ee,ze,Be){if(Be||(Be=!1),"string"!=typeof ze||0===ze.length)throw new Error("Separator string required for formatting!");"number"==typeof Ee&&(Ee=String(Ee));var Ue=/(\d+)(\d{3})/,We=ze.charAt(0),$e=ze.charAt(1),Qe=Ee.split("."),et=Qe[0],tt=Qe.length>1?We+Qe[1]:"";if($e&&(Qe.length>1||et.length>4||Be))for(;Ue.test(et);)et=et.replace(Ue,"$1"+$e+"$2");return et+tt},tt.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var cn=/^\w*$/;tt.templateString=function(Ee,ze){var Be={};return Ee.replace(tt.TEMPLATE_STRING_REGEX,(function(Ee,Ue){return cn.test(Ue)?ze[Ue]||"":(Be[Ue]=Be[Ue]||tt.nestedProperty(ze,Ue).get,Be[Ue]()||"")}))};var un={max:10,count:0,name:"hovertemplate"};tt.hovertemplateString=function(){return templateFormatString.apply(un,arguments)};var hn={max:10,count:0,name:"texttemplate"};tt.texttemplateString=function(){return templateFormatString.apply(hn,arguments)};var dn=/^[:|\|]/;function templateFormatString(Ee,ze,Be){var We=this,$e=arguments;ze||(ze={});var Qe={};return Ee.replace(tt.TEMPLATE_STRING_REGEX,(function(Ee,et,rt){var nt,at,it,ct;for(it=3;it<$e.length;it++)if(nt=$e[it]){if(nt.hasOwnProperty(et)){at=nt[et];break}if(cn.test(et)||(at=Qe[et]||tt.nestedProperty(nt,et).get())&&(Qe[et]=at),void 0!==at)break}if(void 0===at&&We)return We.count<We.max&&(tt.warn("Variable '"+et+"' in "+We.name+" could not be found!"),at=Ee),We.count===We.max&&tt.warn("Too many "+We.name+" warnings - additional warnings will be suppressed"),We.count++,Ee;if(rt){if(":"===rt[0]&&(at=(ct=Be?Be.numberFormat:Ue.format)(rt.replace(dn,""))(at)),"|"===rt[0]){ct=Be?Be.timeFormat.utc:Ue.time.format.utc;var ft=tt.dateTime2ms(at);at=tt.formatDate(ft,rt.replace(dn,""),!1,ct)}}else ze.hasOwnProperty(et+"Label")&&(at=ze[et+"Label"]);return at}))}tt.subplotSort=function(Ee,ze){for(var Be=Math.min(Ee.length,ze.length)+1,Ue=0,We=0,$e=0;$e<Be;$e++){var Qe=Ee.charCodeAt($e)||0,et=ze.charCodeAt($e)||0,tt=Qe>=48&&Qe<=57,rt=et>=48&&et<=57;if(tt&&(Ue=10*Ue+Qe-48),rt&&(We=10*We+et-48),!tt||!rt){if(Ue!==We)return Ue-We;if(Qe!==et)return Qe-et}}return We-Ue};var vn=2e9;tt.seedPseudoRandom=function(){vn=2e9},tt.pseudoRandom=function(){var Ee=vn;return vn=(69069*vn+1)%4294967296,Math.abs(vn-Ee)<429496729?tt.pseudoRandom():vn/4294967296},tt.fillText=function(Ee,ze,Be){var Ue=Array.isArray(Be)?function(Ee){Be.push(Ee)}:function(Ee){Be.text=Ee},We=tt.extractOption(Ee,ze,"htx","hovertext");if(tt.isValidTextValue(We))return Ue(We);var $e=tt.extractOption(Ee,ze,"tx","text");return tt.isValidTextValue($e)?Ue($e):void 0},tt.isValidTextValue=function(Ee){return Ee||0===Ee},tt.formatPercent=function(Ee,ze){ze=ze||0;for(var Be=(Math.round(100*Ee*Math.pow(10,ze))*Math.pow(.1,ze)).toFixed(ze)+"%",Ue=0;Ue<ze;Ue++)-1!==Be.indexOf(".")&&(Be=(Be=Be.replace("0%","%")).replace(".%","%"));return Be},tt.isHidden=function(Ee){var ze=window.getComputedStyle(Ee).display;return!ze||"none"===ze},tt.getTextTransform=function(Ee){var ze=Ee.noCenter,Be=Ee.textX,Ue=Ee.textY,We=Ee.targetX,$e=Ee.targetY,Qe=Ee.anchorX||0,et=Ee.anchorY||0,tt=Ee.rotate,rt=Ee.scale;return rt?rt>1&&(rt=1):rt=0,"translate("+(We-rt*(Be+Qe))+","+($e-rt*(Ue+et))+")"+(rt<1?"scale("+rt+")":"")+(tt?"rotate("+tt+(ze?"":" "+Be+" "+Ue)+")":"")},tt.ensureUniformFontSize=function(Ee,ze){var Be=tt.extendFlat({},ze);return Be.size=Math.max(ze.size,Ee._fullLayout.uniformtext.minsize||0),Be}},fc6a:function(Ee,ze,Be){var Ue=Be("44ad"),We=Be("1d80");Ee.exports=function(Ee){return Ue(We(Ee))}},fc7b:function(Ee,ze,Be){"use strict";var Ue=Be("13a0");ze.calc=function(Ee,ze){return Ue.calc(Ee,ze)},ze.crossTraceCalc=function(Ee){return Ue._runCrossTraceCalc("treemap",Ee)}},fcb2:function(Ee,ze,Be){"use strict";Ee.exports={moduleType:"component",name:"colorbar",attributes:Be("67c4"),supplyDefaults:Be("8f2a"),draw:Be("8dec").draw,hasColorbar:Be("7089")}},fcb3:function(Ee,ze,Be){"use strict";Ee.exports={min:"zmin",max:"zmax"}},fcb7:function(Ee,ze,Be){"use strict";var Ue=Be("19b2"),We=Be("09bd"),$e=Be("106b"),Qe=Be("4136"),et=Be("70b4").calcMarkerSize,tt=Be("9b68");Ee.exports=function calc(Ee,ze){var Be=ze._carpetTrace=tt(Ee,ze);if(Be&&Be.visible&&"legendonly"!==Be.visible){var rt;ze.xaxis=Be.xaxis,ze.yaxis=Be.yaxis;var nt,at,it=ze._length,ct=new Array(it),ft=!1;for(rt=0;rt<it;rt++)if(nt=ze.a[rt],at=ze.b[rt],Ue(nt)&&Ue(at)){var xt=Be.ab2xy(+nt,+at,!0),kt=Be.isVisible(+nt,+at);kt||(ft=!0),ct[rt]={x:xt[0],y:xt[1],a:nt,b:at,vis:kt}}else ct[rt]={x:!1,y:!1};return ze._needsCull=ft,ct[0].carpet=Be,ct[0].trace=ze,et(ze,it),We(Ee,ze),$e(ct,ze),Qe(ct,ze),ct}}},fcc5:function(Ee,ze,Be){var Ue=Be("6649");Ee.exports=function weakMap(){var Ee=Ue();return{get:function(ze,Be){var Ue=Ee(ze);return Ue.hasOwnProperty("value")?Ue.value:Be},set:function(ze,Be){return Ee(ze).value=Be,this},has:function(ze){return"value"in Ee(ze)},delete:function(ze){return delete Ee(ze).value}}}},fcd6:function(Ee,ze,Be){"use strict";var Ue=Be("fc26"),We=Be("f3df");Ee.exports=function supplyLayoutDefaults(Ee,ze){function coerce(Be,$e){return Ue.coerce(Ee,ze,We,Be,$e)}coerce("hiddenlabels"),coerce("funnelareacolorway",ze.colorway),coerce("extendfunnelareacolors")}},fd01:function(Ee,ze,Be){var Ue=Be("e98f"),We=Be("28dd"),$e=Ue(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),Qe=Ue(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),et=Ue(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1540259130(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, encode_float_1540259130(pixelArcLength).xyz);\n}"]),tt=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];ze.createShader=function(Ee){return We(Ee,$e,Qe,null,tt)},ze.createPickShader=function(Ee){return We(Ee,$e,et,null,tt)}},fd3b:function(Ee,ze,Be){var Ue=Be("0230"),We=Be("320c");function EthiopianCalendar(Ee){this.local=this.regionalOptions[Ee||""]||this.regionalOptions[""]}EthiopianCalendar.prototype=new Ue.baseCalendar,We(EthiopianCalendar.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ee){var ze=this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear);return(Ee=ze.year()+(ze.year()<0?1:0))%4==3||Ee%4==-1},monthsInYear:function(Ee){return this._validate(Ee,this.minMonth,this.minDay,Ue.local.invalidYear||Ue.regionalOptions[""].invalidYear),13},weekOfYear:function(Ee,ze,Be){var Ue=this.newDate(Ee,ze,Be);return Ue.add(-Ue.dayOfWeek(),"d"),Math.floor((Ue.dayOfYear()-1)/7)+1},daysInMonth:function(Ee,ze){var Be=this._validate(Ee,ze,this.minDay,Ue.local.invalidMonth);return this.daysPerMonth[Be.month()-1]+(13===Be.month()&&this.leapYear(Be.year())?1:0)},weekDay:function(Ee,ze,Be){return(this.dayOfWeek(Ee,ze,Be)||7)<6},toJD:function(Ee,ze,Be){var We=this._validate(Ee,ze,Be,Ue.local.invalidDate);return(Ee=We.year())<0&&Ee++,We.day()+30*(We.month()-1)+365*(Ee-1)+Math.floor(Ee/4)+this.jdEpoch-1},fromJD:function(Ee){var ze=Math.floor(Ee)+.5-this.jdEpoch,Be=Math.floor((ze-Math.floor((ze+366)/1461))/365)+1;Be<=0&&Be--,ze=Math.floor(Ee)+.5-this.newDate(Be,1,1).toJD();var Ue=Math.floor(ze/30)+1,We=ze-30*(Ue-1)+1;return this.newDate(Be,Ue,We)}}),Ue.calendars.ethiopian=EthiopianCalendar},fd4c:function(Ee,ze,Be){"use strict";Ee.exports=Math.log2||function(Ee){return Math.log(Ee)*Math.LOG2E}},fd80:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("bb71"),$e=Be("d115"),Qe=Be("83d1"),et=Be("fc26"),tt=Be("0379"),rt=Be("a651").arrayEditor,nt=Be("63dc").LINE_SPACING,at=Be("3d2e"),it=Be("8ff1");function keyFunction(Ee){return Ee._index}function isActive(Ee,ze){return+Ee.attr(at.menuIndexAttrName)===ze._index}function setActive(Ee,ze,Be,Ue,We,$e,Qe,et){ze.active=Qe,rt(Ee.layout,at.name,ze).applyUpdate("active",Qe),"buttons"===ze.type?drawButtons(Ee,Ue,null,null,ze):"dropdown"===ze.type&&(We.attr(at.menuIndexAttrName,"-1"),drawHeader(Ee,Ue,We,$e,ze),et||drawButtons(Ee,Ue,We,$e,ze))}function drawHeader(Ee,ze,Be,Ue,We){var $e=et.ensureSingle(ze,"g",at.headerClassName,(function(Ee){Ee.style("pointer-events","all")})),tt=We._dims,rt=We.active,nt=We.buttons[rt]||at.blankHeaderOpts,it={y:We.pad.t,yPad:0,x:We.pad.l,xPad:0,index:0},ct={width:tt.headerWidth,height:tt.headerHeight};$e.call(drawItem,We,nt,Ee).call(setItemPosition,We,it,ct),et.ensureSingle(ze,"text",at.headerArrowClassName,(function(Ee){Ee.classed("user-select-none",!0).attr("text-anchor","end").call(Qe.font,We.font).text(at.arrowSymbol[We.direction])})).attr({x:tt.headerWidth-at.arrowOffsetX+We.pad.l,y:tt.headerHeight/2+at.textOffsetY+We.pad.t}),$e.on("click",(function(){Be.call(removeAllButtons,String(isActive(Be,We)?-1:We._index)),drawButtons(Ee,ze,Be,Ue,We)})),$e.on("mouseover",(function(){$e.call(styleOnMouseOver)})),$e.on("mouseout",(function(){$e.call(styleOnMouseOut,We)})),Qe.setTranslate(ze,tt.lx,tt.ly)}function drawButtons(Ee,ze,Be,$e,Qe){Be||(Be=ze).attr("pointer-events","all");var tt=function isFolded(Ee){return-1==+Ee.attr(at.menuIndexAttrName)}(Be)&&"buttons"!==Qe.type?[]:Qe.buttons,rt="dropdown"===Qe.type?at.dropdownButtonClassName:at.buttonClassName,nt=Be.selectAll("g."+rt).data(et.filterVisible(tt)),it=nt.enter().append("g").classed(rt,!0),ct=nt.exit();"dropdown"===Qe.type?(it.attr("opacity","0").transition().attr("opacity","1"),ct.transition().attr("opacity","0").remove()):ct.remove();var ft=0,xt=0,kt=Qe._dims,Lt=-1!==["up","down"].indexOf(Qe.direction);"dropdown"===Qe.type&&(Lt?xt=kt.headerHeight+at.gapButtonHeader:ft=kt.headerWidth+at.gapButtonHeader),"dropdown"===Qe.type&&"up"===Qe.direction&&(xt=-at.gapButtonHeader+at.gapButton-kt.openHeight),"dropdown"===Qe.type&&"left"===Qe.direction&&(ft=-at.gapButtonHeader+at.gapButton-kt.openWidth);var Ut={x:kt.lx+ft+Qe.pad.l,y:kt.ly+xt+Qe.pad.t,yPad:at.gapButton,xPad:at.gapButton,index:0},er={l:Ut.x+Qe.borderwidth,t:Ut.y+Qe.borderwidth};nt.each((function(et,tt){var rt=Ue.select(this);rt.call(drawItem,Qe,et,Ee).call(setItemPosition,Qe,Ut),rt.on("click",(function(){Ue.event.defaultPrevented||(et.execute&&(et.args2&&Qe.active===tt?(setActive(Ee,Qe,0,ze,Be,$e,-1),We.executeAPICommand(Ee,et.method,et.args2)):(setActive(Ee,Qe,0,ze,Be,$e,tt),We.executeAPICommand(Ee,et.method,et.args))),Ee.emit("plotly_buttonclicked",{menu:Qe,button:et,active:Qe.active}))})),rt.on("mouseover",(function(){rt.call(styleOnMouseOver)})),rt.on("mouseout",(function(){rt.call(styleOnMouseOut,Qe),nt.call(styleButtons,Qe)}))})),nt.call(styleButtons,Qe),Lt?(er.w=Math.max(kt.openWidth,kt.headerWidth),er.h=Ut.y-er.t):(er.w=Ut.x-er.l,er.h=Math.max(kt.openHeight,kt.headerHeight)),er.direction=Qe.direction,$e&&(nt.size()?function drawScrollBox(Ee,ze,Be,Ue,We,$e){var Qe,et,tt,rt=We.direction,nt="up"===rt||"down"===rt,it=We._dims,ct=We.active;if(nt)for(et=0,tt=0;tt<ct;tt++)et+=it.heights[tt]+at.gapButton;else for(Qe=0,tt=0;tt<ct;tt++)Qe+=it.widths[tt]+at.gapButton;Ue.enable($e,Qe,et),Ue.hbar&&Ue.hbar.attr("opacity","0").transition().attr("opacity","1");Ue.vbar&&Ue.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,$e,Qe,er):function hideScrollBox(Ee){var ze=!!Ee.hbar,Be=!!Ee.vbar;ze&&Ee.hbar.transition().attr("opacity","0").each("end",(function(){ze=!1,Be||Ee.disable()}));Be&&Ee.vbar.transition().attr("opacity","0").each("end",(function(){Be=!1,ze||Ee.disable()}))}($e))}function drawItem(Ee,ze,Be,Ue){Ee.call(drawItemRect,ze).call(drawItemText,ze,Be,Ue)}function drawItemRect(Ee,ze){et.ensureSingle(Ee,"rect",at.itemRectClassName,(function(Ee){Ee.attr({rx:at.rx,ry:at.ry,"shape-rendering":"crispEdges"})})).call($e.stroke,ze.bordercolor).call($e.fill,ze.bgcolor).style("stroke-width",ze.borderwidth+"px")}function drawItemText(Ee,ze,Be,Ue){var We=et.ensureSingle(Ee,"text",at.itemTextClassName,(function(Ee){Ee.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})})),$e=Be.label,rt=Ue._fullLayout._meta;rt&&($e=et.templateString($e,rt)),We.call(Qe.font,ze.font).text($e).call(tt.convertToTspans,Ue)}function styleButtons(Ee,ze){var Be=ze.active;Ee.each((function(Ee,We){var Qe=Ue.select(this);We===Be&&ze.showactive&&Qe.select("rect."+at.itemRectClassName).call($e.fill,at.activeColor)}))}function styleOnMouseOver(Ee){Ee.select("rect."+at.itemRectClassName).call($e.fill,at.hoverColor)}function styleOnMouseOut(Ee,ze){Ee.select("rect."+at.itemRectClassName).call($e.fill,ze.bgcolor)}function findDimensions(Ee,ze){var Be=ze._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},$e=Qe.tester.selectAll("g."+at.dropdownButtonClassName).data(et.filterVisible(ze.buttons));$e.enter().append("g").classed(at.dropdownButtonClassName,!0);var rt=-1!==["up","down"].indexOf(ze.direction);$e.each((function(We,$e){var et=Ue.select(this);et.call(drawItem,ze,We,Ee);var it=et.select("."+at.itemTextClassName),ct=it.node()&&Qe.bBox(it.node()).width,ft=Math.max(ct+at.textPadX,at.minWidth),xt=ze.font.size*nt,kt=tt.lineCount(it),Lt=Math.max(xt*kt,at.minHeight)+at.textOffsetY;Lt=Math.ceil(Lt),ft=Math.ceil(ft),Be.widths[$e]=ft,Be.heights[$e]=Lt,Be.height1=Math.max(Be.height1,Lt),Be.width1=Math.max(Be.width1,ft),rt?(Be.totalWidth=Math.max(Be.totalWidth,ft),Be.openWidth=Be.totalWidth,Be.totalHeight+=Lt+at.gapButton,Be.openHeight+=Lt+at.gapButton):(Be.totalWidth+=ft+at.gapButton,Be.openWidth+=ft+at.gapButton,Be.totalHeight=Math.max(Be.totalHeight,Lt),Be.openHeight=Be.totalHeight)})),rt?Be.totalHeight-=at.gapButton:Be.totalWidth-=at.gapButton,Be.headerWidth=Be.width1+at.arrowPadX,Be.headerHeight=Be.height1,"dropdown"===ze.type&&(rt?(Be.width1+=at.arrowPadX,Be.totalHeight=Be.height1):Be.totalWidth=Be.width1,Be.totalWidth+=at.arrowPadX),$e.remove();var it=Be.totalWidth+ze.pad.l+ze.pad.r,ct=Be.totalHeight+ze.pad.t+ze.pad.b,ft=Ee._fullLayout._size;Be.lx=ft.l+ft.w*ze.x,Be.ly=ft.t+ft.h*(1-ze.y);var xt="left";et.isRightAnchor(ze)&&(Be.lx-=it,xt="right"),et.isCenterAnchor(ze)&&(Be.lx-=it/2,xt="center");var kt="top";et.isBottomAnchor(ze)&&(Be.ly-=ct,kt="bottom"),et.isMiddleAnchor(ze)&&(Be.ly-=ct/2,kt="middle"),Be.totalWidth=Math.ceil(Be.totalWidth),Be.totalHeight=Math.ceil(Be.totalHeight),Be.lx=Math.round(Be.lx),Be.ly=Math.round(Be.ly),We.autoMargin(Ee,autoMarginId(ze),{x:ze.x,y:ze.y,l:it*({right:1,center:.5}[xt]||0),r:it*({left:1,center:.5}[xt]||0),b:ct*({top:1,middle:.5}[kt]||0),t:ct*({bottom:1,middle:.5}[kt]||0)})}function autoMarginId(Ee){return at.autoMarginIdRoot+Ee._index}function setItemPosition(Ee,ze,Be,Ue){Ue=Ue||{};var We=Ee.select("."+at.itemRectClassName),$e=Ee.select("."+at.itemTextClassName),et=ze.borderwidth,rt=Be.index,it=ze._dims;Qe.setTranslate(Ee,et+Be.x,et+Be.y);var ct=-1!==["up","down"].indexOf(ze.direction),ft=Ue.height||(ct?it.heights[rt]:it.height1);We.attr({x:0,y:0,width:Ue.width||(ct?it.width1:it.widths[rt]),height:ft});var xt=ze.font.size*nt,kt=(tt.lineCount($e)-1)*xt/2;tt.positionText($e,at.textOffsetX,ft/2-kt+at.textOffsetY),ct?Be.y+=it.heights[rt]+Be.yPad:Be.x+=it.widths[rt]+Be.xPad,Be.index++}function removeAllButtons(Ee,ze){Ee.attr(at.menuIndexAttrName,ze||"-1").selectAll("g."+at.dropdownButtonClassName).remove()}Ee.exports=function draw(Ee){var ze=Ee._fullLayout,Be=et.filterVisible(ze[at.name]);function clearAutoMargin(ze){We.autoMargin(Ee,autoMarginId(ze))}var $e=ze._menulayer.selectAll("g."+at.containerClassName).data(Be.length>0?[0]:[]);if($e.enter().append("g").classed(at.containerClassName,!0).style("cursor","pointer"),$e.exit().each((function(){Ue.select(this).selectAll("g."+at.headerGroupClassName).each(clearAutoMargin)})).remove(),0!==Be.length){var Qe=$e.selectAll("g."+at.headerGroupClassName).data(Be,keyFunction);Qe.enter().append("g").classed(at.headerGroupClassName,!0);for(var tt=et.ensureSingle($e,"g",at.dropdownButtonGroupClassName,(function(Ee){Ee.style("pointer-events","all")})),rt=0;rt<Be.length;rt++){var nt=Be[rt];findDimensions(Ee,nt)}var ct="updatemenus"+ze._uid,ft=new it(Ee,tt,ct);Qe.enter().size()&&(tt.node().parentNode.appendChild(tt.node()),tt.call(removeAllButtons)),Qe.exit().each((function(Ee){tt.call(removeAllButtons),clearAutoMargin(Ee)})).remove(),Qe.each((function(ze){var Be=Ue.select(this),$e="dropdown"===ze.type?tt:null;We.manageCommandObserver(Ee,ze,ze.buttons,(function(Ue){setActive(Ee,ze,ze.buttons[Ue.index],Be,$e,ft,Ue.index,!0)})),"dropdown"===ze.type?(drawHeader(Ee,Be,tt,ft,ze),isActive(tt,ze)&&drawButtons(Ee,Be,tt,ft,ze)):drawButtons(Ee,Be,null,null,ze)}))}}},fda9:function(Ee,ze){Ee.exports=function getCanvasContext(Ee,ze){if("string"!=typeof Ee)throw new TypeError("must specify type string");if(ze=ze||{},"undefined"==typeof document&&!ze.canvas)return null;var Be=ze.canvas||document.createElement("canvas");"number"==typeof ze.width&&(Be.width=ze.width);"number"==typeof ze.height&&(Be.height=ze.height);var Ue,We=ze;try{var $e=[Ee];0===Ee.indexOf("webgl")&&$e.push("experimental-"+Ee);for(var Qe=0;Qe<$e.length;Qe++)if(Ue=Be.getContext($e[Qe],We))return Ue}catch(Ee){Ue=null}return Ue||null}},fdbc:function(Ee,ze){Ee.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(Ee,ze,Be){var Ue=Be("4930");Ee.exports=Ue&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdc7:function(Ee,ze,Be){"use strict";var Ue=Be("d858"),We=Be("fc26");ze.rangeToShapePosition=function(Ee){return"log"===Ee.type?Ee.r2d:function(Ee){return Ee}},ze.shapePositionToRange=function(Ee){return"log"===Ee.type?Ee.d2r:function(Ee){return Ee}},ze.decodeDate=function(Ee){return function(ze){return ze.replace&&(ze=ze.replace("_"," ")),Ee(ze)}},ze.encodeDate=function(Ee){return function(ze){return Ee(ze).replace(" ","_")}},ze.extractPathCoords=function(Ee,ze){var Be=[];return Ee.match(Ue.segmentRE).forEach((function(Ee){var $e=ze[Ee.charAt(0)].drawn;if(void 0!==$e){var Qe=Ee.substr(1).match(Ue.paramRE);!Qe||Qe.length<$e||Be.push(We.cleanNumber(Qe[$e]))}})),Be},ze.getDataToPixel=function(Ee,Be,Ue){var We,$e=Ee._fullLayout._size;if(Be){var Qe=ze.shapePositionToRange(Be);We=function(Ee){return Be._offset+Be.r2p(Qe(Ee,!0))},"date"===Be.type&&(We=ze.decodeDate(We))}else We=Ue?function(Ee){return $e.t+$e.h*(1-Ee)}:function(Ee){return $e.l+$e.w*Ee};return We},ze.getPixelToData=function(Ee,Be,Ue){var We,$e=Ee._fullLayout._size;if(Be){var Qe=ze.rangeToShapePosition(Be);We=function(Ee){return Qe(Be.p2r(Ee-Be._offset))}}else We=Ue?function(Ee){return 1-(Ee-$e.t)/$e.h}:function(Ee){return(Ee-$e.l)/$e.w};return We},ze.roundPositionForSharpStrokeRendering=function(Ee,ze){var Be=1===Math.round(ze%2),Ue=Math.round(Ee);return Be?Ue+.5:Ue}},fde6:function(Ee){Ee.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},fe73:function(Ee){Ee.exports=JSON.parse('["inherit","initial","unset"]')},fe94:function(Ee,ze,Be){"use strict";var Ue=Be("84af"),We=Be("35b1");function dot(Ee,ze){for(var Be=0,Ue=Ee.length,We=0;We<Ue;++We)Be+=Ee[We]*ze[We];return Be}function barycentricCircumcenter(Ee){var ze=Ee.length;if(0===ze)return[];Ee[0].length;var Be=Ue([Ee.length+1,Ee.length+1],1),$e=Ue([Ee.length+1],1);Be[ze][ze]=0;for(var Qe=0;Qe<ze;++Qe){for(var et=0;et<=Qe;++et)Be[et][Qe]=Be[Qe][et]=2*dot(Ee[Qe],Ee[et]);$e[Qe]=dot(Ee[Qe],Ee[Qe])}var tt=We(Be,$e),rt=0,nt=tt[ze+1];for(Qe=0;Qe<nt.length;++Qe)rt+=nt[Qe];var at=new Array(ze);for(Qe=0;Qe<ze;++Qe){nt=tt[Qe];var it=0;for(et=0;et<nt.length;++et)it+=nt[et];at[Qe]=it/rt}return at}function circumcenter(Ee){if(0===Ee.length)return[];for(var ze=Ee[0].length,Be=Ue([ze]),We=barycentricCircumcenter(Ee),$e=0;$e<Ee.length;++$e)for(var Qe=0;Qe<ze;++Qe)Be[Qe]+=Ee[$e][Qe]*We[$e];return Be}circumcenter.barycenetric=barycentricCircumcenter,Ee.exports=circumcenter},feb0:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("56f3"),supplyDefaults:Be("e3ce"),colorbar:Be("f3cf"),formatLabels:Be("5d0a"),calc:Be("824b"),calcGeoJSON:Be("1085").calcGeoJSON,plot:Be("1085").plot,style:Be("cebf"),styleOnSelect:Be("52e8").styleOnSelect,hoverPoints:Be("8a9f"),eventData:Be("a074"),selectPoints:Be("f50f"),moduleType:"trace",name:"scattergeo",basePlotModule:Be("9e9a"),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},feb7:function(Ee,ze,Be){"use strict";function feature(Ee,ze,Be){void 0===Be&&(Be={});var Ue={type:"Feature"};return(0===Be.id||Be.id)&&(Ue.id=Be.id),Be.bbox&&(Ue.bbox=Be.bbox),Ue.properties=ze||{},Ue.geometry=Ee,Ue}function point(Ee,ze,Be){return void 0===Be&&(Be={}),feature({type:"Point",coordinates:Ee},ze,Be)}function polygon(Ee,ze,Be){void 0===Be&&(Be={});for(var Ue=0,We=Ee;Ue<We.length;Ue++){var $e=We[Ue];if($e.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Qe=0;Qe<$e[$e.length-1].length;Qe++)if($e[$e.length-1][Qe]!==$e[0][Qe])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:Ee},ze,Be)}function lineString(Ee,ze,Be){if(void 0===Be&&(Be={}),Ee.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:Ee},ze,Be)}function featureCollection(Ee,ze){void 0===ze&&(ze={});var Be={type:"FeatureCollection"};return ze.id&&(Be.id=ze.id),ze.bbox&&(Be.bbox=ze.bbox),Be.features=Ee,Be}function multiLineString(Ee,ze,Be){return void 0===Be&&(Be={}),feature({type:"MultiLineString",coordinates:Ee},ze,Be)}function multiPoint(Ee,ze,Be){return void 0===Be&&(Be={}),feature({type:"MultiPoint",coordinates:Ee},ze,Be)}function multiPolygon(Ee,ze,Be){return void 0===Be&&(Be={}),feature({type:"MultiPolygon",coordinates:Ee},ze,Be)}function radiansToLength(Ee,Be){void 0===Be&&(Be="kilometers");var Ue=ze.factors[Be];if(!Ue)throw new Error(Be+" units is invalid");return Ee*Ue}function lengthToRadians(Ee,Be){void 0===Be&&(Be="kilometers");var Ue=ze.factors[Be];if(!Ue)throw new Error(Be+" units is invalid");return Ee/Ue}function radiansToDegrees(Ee){return 180*(Ee%(2*Math.PI))/Math.PI}function isNumber(Ee){return!isNaN(Ee)&&null!==Ee&&!Array.isArray(Ee)&&!/^\s*$/.test(Ee)}Object.defineProperty(ze,"__esModule",{value:!0}),ze.earthRadius=6371008.8,ze.factors={centimeters:100*ze.earthRadius,centimetres:100*ze.earthRadius,degrees:ze.earthRadius/111325,feet:3.28084*ze.earthRadius,inches:39.37*ze.earthRadius,kilometers:ze.earthRadius/1e3,kilometres:ze.earthRadius/1e3,meters:ze.earthRadius,metres:ze.earthRadius,miles:ze.earthRadius/1609.344,millimeters:1e3*ze.earthRadius,millimetres:1e3*ze.earthRadius,nauticalmiles:ze.earthRadius/1852,radians:1,yards:ze.earthRadius/1.0936},ze.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/ze.earthRadius,yards:1/1.0936},ze.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},ze.feature=feature,ze.geometry=function geometry(Ee,ze,Be){switch(void 0===Be&&(Be={}),Ee){case"Point":return point(ze).geometry;case"LineString":return lineString(ze).geometry;case"Polygon":return polygon(ze).geometry;case"MultiPoint":return multiPoint(ze).geometry;case"MultiLineString":return multiLineString(ze).geometry;case"MultiPolygon":return multiPolygon(ze).geometry;default:throw new Error(Ee+" is invalid")}},ze.point=point,ze.points=function points(Ee,ze,Be){return void 0===Be&&(Be={}),featureCollection(Ee.map((function(Ee){return point(Ee,ze)})),Be)},ze.polygon=polygon,ze.polygons=function polygons(Ee,ze,Be){return void 0===Be&&(Be={}),featureCollection(Ee.map((function(Ee){return polygon(Ee,ze)})),Be)},ze.lineString=lineString,ze.lineStrings=function lineStrings(Ee,ze,Be){return void 0===Be&&(Be={}),featureCollection(Ee.map((function(Ee){return lineString(Ee,ze)})),Be)},ze.featureCollection=featureCollection,ze.multiLineString=multiLineString,ze.multiPoint=multiPoint,ze.multiPolygon=multiPolygon,ze.geometryCollection=function geometryCollection(Ee,ze,Be){return void 0===Be&&(Be={}),feature({type:"GeometryCollection",geometries:Ee},ze,Be)},ze.round=function round(Ee,ze){if(void 0===ze&&(ze=0),ze&&!(ze>=0))throw new Error("precision must be a positive number");var Be=Math.pow(10,ze||0);return Math.round(Ee*Be)/Be},ze.radiansToLength=radiansToLength,ze.lengthToRadians=lengthToRadians,ze.lengthToDegrees=function lengthToDegrees(Ee,ze){return radiansToDegrees(lengthToRadians(Ee,ze))},ze.bearingToAzimuth=function bearingToAzimuth(Ee){var ze=Ee%360;return ze<0&&(ze+=360),ze},ze.radiansToDegrees=radiansToDegrees,ze.degreesToRadians=function degreesToRadians(Ee){return Ee%360*Math.PI/180},ze.convertLength=function convertLength(Ee,ze,Be){if(void 0===ze&&(ze="kilometers"),void 0===Be&&(Be="kilometers"),!(Ee>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(Ee,ze),Be)},ze.convertArea=function convertArea(Ee,Be,Ue){if(void 0===Be&&(Be="meters"),void 0===Ue&&(Ue="kilometers"),!(Ee>=0))throw new Error("area must be a positive number");var We=ze.areaFactors[Be];if(!We)throw new Error("invalid original units");var $e=ze.areaFactors[Ue];if(!$e)throw new Error("invalid final units");return Ee/We*$e},ze.isNumber=isNumber,ze.isObject=function isObject(Ee){return!!Ee&&Ee.constructor===Object},ze.validateBBox=function validateBBox(Ee){if(!Ee)throw new Error("bbox is required");if(!Array.isArray(Ee))throw new Error("bbox must be an Array");if(4!==Ee.length&&6!==Ee.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Ee.forEach((function(Ee){if(!isNumber(Ee))throw new Error("bbox must only contain numbers")}))},ze.validateId=function validateId(Ee){if(!Ee)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Ee))throw new Error("id must be a number or a string")},ze.radians2degrees=function radians2degrees(){throw new Error("method has been renamed to `radiansToDegrees`")},ze.degrees2radians=function degrees2radians(){throw new Error("method has been renamed to `degreesToRadians`")},ze.distanceToDegrees=function distanceToDegrees(){throw new Error("method has been renamed to `lengthToDegrees`")},ze.distanceToRadians=function distanceToRadians(){throw new Error("method has been renamed to `lengthToRadians`")},ze.radiansToDistance=function radiansToDistance(){throw new Error("method has been renamed to `radiansToLength`")},ze.bearingToAngle=function bearingToAngle(){throw new Error("method has been renamed to `bearingToAzimuth`")},ze.convertDistance=function convertDistance(){throw new Error("method has been renamed to `convertLength`")}},fec5:function(Ee,ze){Ee.exports=function identity(Ee){return Ee[0]=1,Ee[1]=0,Ee[2]=0,Ee[3]=0,Ee[4]=0,Ee[5]=1,Ee[6]=0,Ee[7]=0,Ee[8]=0,Ee[9]=0,Ee[10]=1,Ee[11]=0,Ee[12]=0,Ee[13]=0,Ee[14]=0,Ee[15]=1,Ee}},fedf:function(Ee,ze){Ee.exports=function set(Ee,ze,Be,Ue){return Ee[0]=ze,Ee[1]=Be,Ee[2]=Ue,Ee}},feed:function(Ee,ze,Be){"use strict";var Ue=Be("d115"),We=Be("de81");Ee.exports=function getTraceColor(Ee,ze){var Be,$e;if("lines"===Ee.mode)return(Be=Ee.line.color)&&Ue.opacity(Be)?Be:Ee.fillcolor;if("none"===Ee.mode)return Ee.fill?Ee.fillcolor:"";var Qe=ze.mcc||(Ee.marker||{}).color,et=ze.mlcc||((Ee.marker||{}).line||{}).color;return($e=Qe&&Ue.opacity(Qe)?Qe:et&&Ue.opacity(et)&&(ze.mlw||((Ee.marker||{}).line||{}).width)?et:"")?Ue.opacity($e)<.3?Ue.addOpacity($e,.3):$e:(Be=(Ee.line||{}).color)&&Ue.opacity(Be)&&We.hasLines(Ee)&&Ee.line.width?Be:Ee.fillcolor}},ff0b:function(Ee,ze){Ee.exports=function transformMat3(Ee,ze,Be){var Ue=ze[0],We=ze[1],$e=ze[2];return Ee[0]=Ue*Be[0]+We*Be[3]+$e*Be[6],Ee[1]=Ue*Be[1]+We*Be[4]+$e*Be[7],Ee[2]=Ue*Be[2]+We*Be[5]+$e*Be[8],Ee}},ff0d:function(Ee,ze,Be){"use strict";Ee.exports={attributes:Be("fb5a"),layoutAttributes:Be("37e3"),supplyDefaults:Be("1c1c").supplyDefaults,crossTraceDefaults:Be("1c1c").crossTraceDefaults,supplyLayoutDefaults:Be("ed16"),calc:Be("d78f"),crossTraceCalc:Be("0cec").crossTraceCalc,colorbar:Be("f3cf"),arraysToCalcdata:Be("424b"),plot:Be("c791").plot,style:Be("2df3").style,styleOnSelect:Be("2df3").styleOnSelect,hoverPoints:Be("ac97").hoverPoints,eventData:Be("d41c"),selectPoints:Be("7000"),moduleType:"trace",name:"bar",basePlotModule:Be("91cd"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},ff49:function(Ee,ze,Be){"use strict";var Ue=Be("6e58"),We=Be("83d1"),$e=Be("0642"),Qe=Be("73c9");Ee.exports=function draw(Ee){var ze,Be,et=Ee._fullLayout,tt=[],rt={},nt=[];for(Be=0;Be<et.images.length;Be++){var at=et.images[Be];if(at.visible)if("below"===at.layer&&"paper"!==at.xref&&"paper"!==at.yref){ze=at.xref+at.yref;var it=et._plots[ze];if(!it){nt.push(at);continue}it.mainplot&&(ze=it.mainplot.id),rt[ze]||(rt[ze]=[]),rt[ze].push(at)}else"above"===at.layer?tt.push(at):nt.push(at)}var ct={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},ft={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function setImage(ze){var Be=Ue.select(this);if(this._imgSrc!==ze.source)if(Be.attr("xmlns",Qe.svg),ze.source&&"data:"===ze.source.slice(0,5))Be.attr("xlink:href",ze.source),this._imgSrc=ze.source;else{var We=new Promise(function(Ee){var Ue=new Image;function errorHandler(){Be.remove(),Ee()}this.img=Ue,Ue.setAttribute("crossOrigin","anonymous"),Ue.onerror=errorHandler,Ue.onload=function(){var ze=document.createElement("canvas");ze.width=this.width,ze.height=this.height,ze.getContext("2d").drawImage(this,0,0);var Ue=ze.toDataURL("image/png");Be.attr("xlink:href",Ue),Ee()},Be.on("error",errorHandler),Ue.src=ze.source,this._imgSrc=ze.source}.bind(this));Ee._promises.push(We)}}function applyAttributes(ze){var Be=Ue.select(this),Qe=$e.getFromId(Ee,ze.xref),tt=$e.getFromId(Ee,ze.yref),rt=et._size,nt=Qe?Math.abs(Qe.l2p(ze.sizex)-Qe.l2p(0)):ze.sizex*rt.w,at=tt?Math.abs(tt.l2p(ze.sizey)-tt.l2p(0)):ze.sizey*rt.h,it=nt*ct[ze.xanchor].offset,xt=at*ft[ze.yanchor].offset,kt=ct[ze.xanchor].sizing+ft[ze.yanchor].sizing,Lt=(Qe?Qe.r2p(ze.x)+Qe._offset:ze.x*rt.w+rt.l)+it,Ut=(tt?tt.r2p(ze.y)+tt._offset:rt.h-ze.y*rt.h+rt.t)+xt;switch(ze.sizing){case"fill":kt+=" slice";break;case"stretch":kt="none"}Be.attr({x:Lt,y:Ut,width:nt,height:at,preserveAspectRatio:kt,opacity:ze.opacity});var er=(Qe?Qe._id:"")+(tt?tt._id:"");We.setClipUrl(Be,er?"clip"+et._uid+er:null,Ee)}var xt=et._imageLowerLayer.selectAll("image").data(nt),kt=et._imageUpperLayer.selectAll("image").data(tt);xt.enter().append("image"),kt.enter().append("image"),xt.exit().remove(),kt.exit().remove(),xt.each((function(Ee){setImage.bind(this)(Ee),applyAttributes.bind(this)(Ee)})),kt.each((function(Ee){setImage.bind(this)(Ee),applyAttributes.bind(this)(Ee)}));var Lt=Object.keys(et._plots);for(Be=0;Be<Lt.length;Be++){ze=Lt[Be];var Ut=et._plots[ze];if(Ut.imagelayer){var er=Ut.imagelayer.selectAll("image").data(rt[ze]||[]);er.enter().append("image"),er.exit().remove(),er.each((function(Ee){setImage.bind(this)(Ee),applyAttributes.bind(this)(Ee)}))}}}},ff55:function(Ee,ze,Be){"use strict";Ee.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},ff5b:function(Ee,ze,Be){"use strict";Ee.exports=Be("c029")},ff85:function(Ee,ze,Be){"use strict";var Ue=Be("b00d"),We=Be("7797");function compareCells(Ee,ze){var Be=Ee.length,Ue=Ee.length-ze.length,We=Math.min;if(Ue)return Ue;switch(Be){case 0:return 0;case 1:return Ee[0]-ze[0];case 2:return(et=Ee[0]+Ee[1]-ze[0]-ze[1])||We(Ee[0],Ee[1])-We(ze[0],ze[1]);case 3:var $e=Ee[0]+Ee[1],Qe=ze[0]+ze[1];if(et=$e+Ee[2]-(Qe+ze[2]))return et;var et,tt=We(Ee[0],Ee[1]),rt=We(ze[0],ze[1]);return(et=We(tt,Ee[2])-We(rt,ze[2]))||We(tt+Ee[2],$e)-We(rt+ze[2],Qe);default:var nt=Ee.slice(0);nt.sort();var at=ze.slice(0);at.sort();for(var it=0;it<Be;++it)if(Ue=nt[it]-at[it])return Ue;return 0}}function compareZipped(Ee,ze){return compareCells(Ee[0],ze[0])}function normalize(Ee,ze){if(ze){for(var Be=Ee.length,Ue=new Array(Be),We=0;We<Be;++We)Ue[We]=[Ee[We],ze[We]];Ue.sort(compareZipped);for(We=0;We<Be;++We)Ee[We]=Ue[We][0],ze[We]=Ue[We][1];return Ee}return Ee.sort(compareCells),Ee}function unique(Ee){if(0===Ee.length)return[];for(var ze=1,Be=Ee.length,Ue=1;Ue<Be;++Ue){var We=Ee[Ue];if(compareCells(We,Ee[Ue-1])){if(Ue===ze){ze++;continue}Ee[ze++]=We}}return Ee.length=ze,Ee}function findCell(Ee,ze){for(var Be=0,Ue=Ee.length-1,We=-1;Be<=Ue;){var $e=Be+Ue>>1,Qe=compareCells(Ee[$e],ze);Qe<=0?(0===Qe&&(We=$e),Be=$e+1):Qe>0&&(Ue=$e-1)}return We}function incidence(Ee,ze){for(var Be=new Array(Ee.length),We=0,$e=Be.length;We<$e;++We)Be[We]=[];for(var Qe=[],et=(We=0,ze.length);We<et;++We)for(var tt=ze[We],rt=tt.length,nt=1,at=1<<rt;nt<at;++nt){Qe.length=Ue.popCount(nt);for(var it=0,ct=0;ct<rt;++ct)nt&1<<ct&&(Qe[it++]=tt[ct]);var ft=findCell(Ee,Qe);if(!(ft<0))for(;Be[ft++].push(We),!(ft>=Ee.length||0!==compareCells(Ee[ft],Qe)););}return Be}function skeleton(Ee,ze){if(ze<0)return[];for(var Be=[],We=(1<<ze+1)-1,$e=0;$e<Ee.length;++$e)for(var Qe=Ee[$e],et=We;et<1<<Qe.length;et=Ue.nextCombination(et)){for(var tt=new Array(ze+1),rt=0,nt=0;nt<Qe.length;++nt)et&1<<nt&&(tt[rt++]=Qe[nt]);Be.push(tt)}return normalize(Be)}ze.dimension=function dimension(Ee){for(var ze=0,Be=Math.max,Ue=0,We=Ee.length;Ue<We;++Ue)ze=Be(ze,Ee[Ue].length);return ze-1},ze.countVertices=function countVertices(Ee){for(var ze=-1,Be=Math.max,Ue=0,We=Ee.length;Ue<We;++Ue)for(var $e=Ee[Ue],Qe=0,et=$e.length;Qe<et;++Qe)ze=Be(ze,$e[Qe]);return ze+1},ze.cloneCells=function cloneCells(Ee){for(var ze=new Array(Ee.length),Be=0,Ue=Ee.length;Be<Ue;++Be)ze[Be]=Ee[Be].slice(0);return ze},ze.compareCells=compareCells,ze.normalize=normalize,ze.unique=unique,ze.findCell=findCell,ze.incidence=incidence,ze.dual=function dual(Ee,ze){if(!ze)return incidence(unique(skeleton(Ee,0)),Ee);for(var Be=new Array(ze),Ue=0;Ue<ze;++Ue)Be[Ue]=[];Ue=0;for(var We=Ee.length;Ue<We;++Ue)for(var $e=Ee[Ue],Qe=0,et=$e.length;Qe<et;++Qe)Be[$e[Qe]].push(Ue);return Be},ze.explode=function explode(Ee){for(var ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0|We.length,Qe=1,et=1<<$e;Qe<et;++Qe){for(var tt=[],rt=0;rt<$e;++rt)Qe>>>rt&1&&tt.push(We[rt]);ze.push(tt)}return normalize(ze)},ze.skeleton=skeleton,ze.boundary=function boundary(Ee){for(var ze=[],Be=0,Ue=Ee.length;Be<Ue;++Be)for(var We=Ee[Be],$e=0,Qe=We.length;$e<Qe;++$e){for(var et=new Array(We.length-1),tt=0,rt=0;tt<Qe;++tt)tt!==$e&&(et[rt++]=We[tt]);ze.push(et)}return normalize(ze)},ze.connectedComponents=function connectedComponents(Ee,ze){return ze?function connectedComponents_dense(Ee,ze){for(var Be=new We(ze),Ue=0;Ue<Ee.length;++Ue)for(var $e=Ee[Ue],Qe=0;Qe<$e.length;++Qe)for(var et=Qe+1;et<$e.length;++et)Be.link($e[Qe],$e[et]);var tt=[],rt=Be.ranks;for(Ue=0;Ue<rt.length;++Ue)rt[Ue]=-1;for(Ue=0;Ue<Ee.length;++Ue){var nt=Be.find(Ee[Ue][0]);rt[nt]<0?(rt[nt]=tt.length,tt.push([Ee[Ue].slice(0)])):tt[rt[nt]].push(Ee[Ue].slice(0))}return tt}(Ee,ze):function connectedComponents_sparse(Ee){for(var ze=unique(normalize(skeleton(Ee,0))),Be=new We(ze.length),Ue=0;Ue<Ee.length;++Ue)for(var $e=Ee[Ue],Qe=0;Qe<$e.length;++Qe)for(var et=findCell(ze,[$e[Qe]]),tt=Qe+1;tt<$e.length;++tt)Be.link(et,findCell(ze,[$e[tt]]));var rt=[],nt=Be.ranks;for(Ue=0;Ue<nt.length;++Ue)nt[Ue]=-1;for(Ue=0;Ue<Ee.length;++Ue){var at=Be.find(findCell(ze,[Ee[Ue][0]]));nt[at]<0?(nt[at]=rt.length,rt.push([Ee[Ue].slice(0)])):rt[nt[at]].push(Ee[Ue].slice(0))}return rt}(Ee)}}})}))},"368e":function(Ee,ze,Be){},"608c":function(Ee,ze,Be){},"8adc":function(Ee,ze,Be){},"8f5a":function(Ee,ze,Be){},9734:function(Ee,ze,Be){},f021:function(Ee,ze,Be){"use strict";Be.r(ze);var Ue=Be("9ab4"),We=Be("60a3"),$e=Be("a34a"),Qe=Be.n($e),et=Be("8fc5"),tt=Be("72e7");function _typeof(Ee){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function _classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ee,Ue.key,Ue)}}function _setPrototypeOf(Ee,ze){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function _createSuper(Ee){var ze=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=_getPrototypeOf(Ee);if(ze){var We=_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return _possibleConstructorReturn(this,Be)}}function _possibleConstructorReturn(Ee,ze){return!ze||"object"!==_typeof(ze)&&"function"!=typeof ze?function _assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function _getPrototypeOf(Ee){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}var rt=function(Ee){!function _inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&_setPrototypeOf(Ee,ze)}(AddTraceButton,Ee);var ze=_createSuper(AddTraceButton);function AddTraceButton(){var Ee;return _classCallCheck(this,AddTraceButton),(Ee=ze.apply(this,arguments)).dialog=!1,Ee.path="",Ee}return function _createClass(Ee,ze,Be){return ze&&_defineProperties(Ee.prototype,ze),Be&&_defineProperties(Ee,Be),Ee}(AddTraceButton,[{key:"submit",value:function submit(){Object(et.b)(this.$store,{path:this.path}),this.dialog=!1}}]),AddTraceButton}(We.b),nt=rt=Object(Ue.a)([We.a],rt),at=Be("2877"),it=Be("6544"),ct=Be.n(it),ft=Be("8336"),xt=Be("b0af"),kt=Be("99d9"),Lt=(Be("368e"),Be("7560")),Ut=Lt.a.extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function isDark(){return this.root?this.rootIsDark:Lt.a.options.computed.isDark.call(this)}},render:function render(){return this.$slots.default&&this.$slots.default.find((function(Ee){return!Ee.isComment&&" "!==Ee.text}))}}),er=Be("2b0e"),tr=er.default.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function data(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function runDelay(Ee,ze){var Be=this;this.clearDelay();var Ue=parseInt(this["".concat(Ee,"Delay")],10);this["".concat(Ee,"Timeout")]=setTimeout(ze||function(){Be.isActive={open:!0,close:!1}[Ee]},Ue)}}}),rr=Be("f2e7"),ar=Be("58df"),Lr=Be("80d2"),Qr=Be("d9bd");function activatable_typeof(Ee){return(activatable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}var on=Object(ar.a)(tr,rr.a).extend({name:"activatable",props:{activator:{default:null,validator:function validator(Ee){return["string","object"].includes(activatable_typeof(Ee))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function data(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function mounted(){var Ee=Object(Lr.m)(this,"activator",!0);Ee&&["v-slot","normal"].includes(Ee)&&Object(Qr.b)('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents:function addActivatorEvents(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var Ee=0,ze=Object.keys(this.listeners);Ee<ze.length;Ee++){var Be=ze[Ee];this.getActivator().addEventListener(Be,this.listeners[Be])}}},genActivator:function genActivator(){var Ee=Object(Lr.l)(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=Ee,Ee},genActivatorAttributes:function genActivatorAttributes(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function genActivatorListeners(){var Ee=this;if(this.disabled)return{};var ze={};return this.openOnHover?(ze.mouseenter=function(ze){Ee.getActivator(ze),Ee.runDelay("open")},ze.mouseleave=function(ze){Ee.getActivator(ze),Ee.runDelay("close")}):ze.click=function(ze){var Be=Ee.getActivator(ze);Be&&Be.focus(),ze.stopPropagation(),Ee.isActive=!Ee.isActive},this.openOnFocus&&(ze.focus=function(ze){Ee.getActivator(ze),ze.stopPropagation(),Ee.isActive=!Ee.isActive}),ze},getActivator:function getActivator(Ee){var ze;if(this.activatorElement)return this.activatorElement;var Be=null;if(this.activator){var Ue=this.internalActivator?this.$el:document;Be="string"==typeof this.activator?Ue.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!Ee){var We=this.activatorNode[0].componentInstance;Be=We&&We.$options.mixins&&We.$options.mixins.some((function(Ee){return Ee.options&&["activatable","menuable"].includes(Ee.options.name)}))?We.getActivator():this.activatorNode[0].elm}else Ee&&(Be=Ee.currentTarget||Ee.target);return this.activatorElement=(null==(ze=Be)?void 0:ze.nodeType)===Node.ELEMENT_NODE?Be:null,this.activatorElement},getContentSlot:function getContentSlot(){return Object(Lr.l)(this,"default",this.getValueProxy(),!0)},getValueProxy:function getValueProxy(){var Ee=this;return{get value(){return Ee.isActive},set value(ze){Ee.isActive=ze}}},removeActivatorEvents:function removeActivatorEvents(){if(this.activator&&this.activatorElement){for(var Ee=0,ze=Object.keys(this.listeners);Ee<ze.length;Ee++){var Be=ze[Ee];this.activatorElement.removeEventListener(Be,this.listeners[Be])}this.listeners={}}},resetActivator:function resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}}),sn=Be("b848"),ln=Be("9d65");function detachable_typeof(Ee){return(detachable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}var cn=Object(ar.a)(ln.a).extend({name:"detachable",props:{attach:{default:!1,validator:function validateAttachTarget(Ee){var ze=detachable_typeof(Ee);return"boolean"===ze||"string"===ze||Ee.nodeType===Node.ELEMENT_NODE}},contentClass:{type:String,default:""}},data:function data(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function attach(){this.hasDetached=!1,this.initDetach()},hasContent:function hasContent(){this.$nextTick(this.initDetach)}},beforeMount:function beforeMount(){var Ee=this;this.$nextTick((function(){Ee.activatorNode&&(Array.isArray(Ee.activatorNode)?Ee.activatorNode:[Ee.activatorNode]).forEach((function(ze){if(ze.elm&&Ee.$el.parentNode){var Be=Ee.$el===Ee.$el.parentNode.firstChild?Ee.$el:Ee.$el.nextSibling;Ee.$el.parentNode.insertBefore(ze.elm,Be)}}))}))},mounted:function mounted(){this.hasContent&&this.initDetach()},deactivated:function deactivated(){this.isActive=!1},beforeDestroy:function beforeDestroy(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode)(Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode]).forEach((function(Ee){Ee.elm&&Ee.elm.parentNode&&Ee.elm.parentNode.removeChild(Ee.elm)}))}catch(Ee){console.log(Ee)}},methods:{getScopeIdAttrs:function getScopeIdAttrs(){var Ee=Object(Lr.k)(this.$vnode,"context.$options._scopeId");return Ee&&function _defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}({},Ee,"")},initDetach:function initDetach(){var Ee;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||((Ee=!1===this.attach?document.querySelector("[data-app]"):"string"==typeof this.attach?document.querySelector(this.attach):this.attach)?(Ee.appendChild(this.$refs.content),this.hasDetached=!0):Object(Qr.c)("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}}),un=Be("e707"),hn=er.default.extend({name:"returnable",props:{returnValue:null},data:function data(){return{isActive:!1,originalValue:null}},watch:{isActive:function isActive(Ee){Ee?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function save(Ee){var ze=this;this.originalValue=Ee,setTimeout((function(){ze.isActive=!1}))}}});function _toConsumableArray(Ee){return function _arrayWithoutHoles(Ee){if(Array.isArray(Ee))return _arrayLikeToArray(Ee)}(Ee)||function _iterableToArray(Ee){if("undefined"!=typeof Symbol&&null!=Ee[Symbol.iterator]||null!=Ee["@@iterator"])return Array.from(Ee)}(Ee)||function _unsupportedIterableToArray(Ee,ze){if(!Ee)return;if("string"==typeof Ee)return _arrayLikeToArray(Ee,ze);var Be=Object.prototype.toString.call(Ee).slice(8,-1);"Object"===Be&&Ee.constructor&&(Be=Ee.constructor.name);if("Map"===Be||"Set"===Be)return Array.from(Ee);if("Arguments"===Be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return _arrayLikeToArray(Ee,ze)}(Ee)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(Ee,ze){(null==ze||ze>Ee.length)&&(ze=Ee.length);for(var Be=0,Ue=new Array(ze);Be<ze;Be++)Ue[Be]=Ee[Be];return Ue}var dn=er.default.extend().extend({name:"stackable",data:function data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function activeZIndex(){if("undefined"==typeof window)return 0;var Ee=this.stackElement||this.$refs.content,ze=this.isActive?this.getMaxZIndex(this.stackExclude||[Ee])+2:Object(Lr.n)(Ee);return null==ze?ze:parseInt(ze)}},methods:{getMaxZIndex:function getMaxZIndex(){for(var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ze=this.$el,Be=[this.stackMinZIndex,Object(Lr.n)(ze)],Ue=[].concat(_toConsumableArray(document.getElementsByClassName("v-menu__content--active")),_toConsumableArray(document.getElementsByClassName("v-dialog__content--active"))),We=0;We<Ue.length;We++)Ee.includes(Ue[We])||Be.push(Object(Lr.n)(Ue[We]));return Math.max.apply(Math,Be)}}}),vn=Be("a293");function ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function _objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?ownKeys(Object(Be),!0).forEach((function(ze){VDialog_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function VDialog_toConsumableArray(Ee){return function VDialog_arrayWithoutHoles(Ee){if(Array.isArray(Ee))return VDialog_arrayLikeToArray(Ee)}(Ee)||function VDialog_iterableToArray(Ee){if("undefined"!=typeof Symbol&&null!=Ee[Symbol.iterator]||null!=Ee["@@iterator"])return Array.from(Ee)}(Ee)||function VDialog_unsupportedIterableToArray(Ee,ze){if(!Ee)return;if("string"==typeof Ee)return VDialog_arrayLikeToArray(Ee,ze);var Be=Object.prototype.toString.call(Ee).slice(8,-1);"Object"===Be&&Ee.constructor&&(Be=Ee.constructor.name);if("Map"===Be||"Set"===Be)return Array.from(Ee);if("Arguments"===Be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return VDialog_arrayLikeToArray(Ee,ze)}(Ee)||function VDialog_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VDialog_arrayLikeToArray(Ee,ze){(null==ze||ze>Ee.length)&&(ze=Ee.length);for(var Be=0,Ue=new Array(ze);Be<ze;Be++)Ue[Be]=Ee[Be];return Ue}function VDialog_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var yn=Object(ar.a)(on,sn.a,cn,un.a,hn,dn,rr.a).extend({name:"v-dialog",directives:{ClickOutside:vn.a},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function classes(){var Ee;return VDialog_defineProperty(Ee={},"v-dialog ".concat(this.contentClass).trim(),!0),VDialog_defineProperty(Ee,"v-dialog--active",this.isActive),VDialog_defineProperty(Ee,"v-dialog--persistent",this.persistent),VDialog_defineProperty(Ee,"v-dialog--fullscreen",this.fullscreen),VDialog_defineProperty(Ee,"v-dialog--scrollable",this.scrollable),VDialog_defineProperty(Ee,"v-dialog--animated",this.animate),Ee},contentClasses:function contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function isActive(Ee){var ze;Ee?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(ze=this.previousActiveElement)||ze.focus())},fullscreen:function fullscreen(Ee){this.isActive&&(Ee?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function created(){this.$attrs.hasOwnProperty("full-width")&&Object(Qr.e)("full-width",this)},beforeMount:function beforeMount(){var Ee=this;this.$nextTick((function(){Ee.isBooted=Ee.isActive,Ee.isActive&&Ee.show()}))},beforeDestroy:function beforeDestroy(){"undefined"!=typeof window&&this.unbind()},methods:{animateClick:function animateClick(){var Ee=this;this.animate=!1,this.$nextTick((function(){Ee.animate=!0,window.clearTimeout(Ee.animateTimeout),Ee.animateTimeout=window.setTimeout((function(){return Ee.animate=!1}),150)}))},closeConditional:function closeConditional(Ee){var ze=Ee.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(ze)||this.overlay&&ze&&!this.overlay.$el.contains(ze))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):un.a.options.methods.hideScroll.call(this)},show:function show(){var Ee=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){Ee.$nextTick((function(){Ee.previousActiveElement=document.activeElement,Ee.$refs.content.focus(),Ee.bind()}))}))},bind:function bind(){window.addEventListener("focusin",this.onFocusin)},unbind:function unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function onClickOutside(Ee){this.$emit("click:outside",Ee),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function onKeydown(Ee){if(Ee.keyCode===Lr.p.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var ze=this.getActivator();this.$nextTick((function(){return ze&&ze.focus()}))}this.$emit("keydown",Ee)},onFocusin:function onFocusin(Ee){if(Ee&&this.retainFocus){var ze=Ee.target;if(ze&&![document,this.$refs.content].includes(ze)&&!this.$refs.content.contains(ze)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(Ee){return Ee.contains(ze)}))){var Be=VDialog_toConsumableArray(this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).find((function(Ee){return!Ee.hasAttribute("disabled")}));Be&&Be.focus()}}},genContent:function genContent(){var Ee=this;return this.showLazyContent((function(){return[Ee.$createElement(Ut,{props:{root:!0,light:Ee.light,dark:Ee.dark}},[Ee.$createElement("div",{class:Ee.contentClasses,attrs:_objectSpread({role:"document",tabindex:Ee.isActive?0:void 0},Ee.getScopeIdAttrs()),on:{keydown:Ee.onKeydown},style:{zIndex:Ee.activeZIndex},ref:"content"},[Ee.genTransition()])])]}))},genTransition:function genTransition(){var Ee=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[Ee]):Ee},genInnerContent:function genInnerContent(){var Ee={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(Ee.style=_objectSpread(_objectSpread({},Ee.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(Lr.f)(this.maxWidth),width:"auto"===this.width?void 0:Object(Lr.f)(this.width)})),this.$createElement("div",Ee,this.getContentSlot())}},render:function render(Ee){return Ee("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}}),_n=Be("2fa4"),Mn=Be("8654"),Cn=Object(at.a)(nt,(function(){var Ee=this,ze=Ee.$createElement,Be=Ee._self._c||ze;return Be("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:Ee._u([{key:"activator",fn:function(ze){var Ue=ze.on,We=ze.attrs;return[Be("v-btn",Ee._g(Ee._b({attrs:{color:"primary",dark:""}},"v-btn",We,!1),Ue),[Ee._v(" Add ")])]}}]),model:{value:Ee.dialog,callback:function(ze){Ee.dialog=ze},expression:"dialog"}},[Be("v-card",[Be("v-card-title",[Be("span",{staticClass:"text-h5"},[Ee._v("Add trace to Beastiary")])]),Be("v-card-text",[Be("form",[Be("v-text-field",{attrs:{required:"",label:"Path to the BEAST log file"},model:{value:Ee.path,callback:function(ze){Ee.path=ze},expression:"path"}})],1)]),Be("v-card-actions",[Be("v-spacer"),Be("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(ze){Ee.dialog=!1}}},[Ee._v(" Close ")]),Be("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:Ee.submit}},[Ee._v(" Add ")])],1)],1)],1)}),[],!1,null,null,null),En=Cn.exports;function TracesPanelvue_type_script_lang_ts_typeof(Ee){return(TracesPanelvue_type_script_lang_ts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function asyncGeneratorStep(Ee,ze,Be,Ue,We,$e,Qe){try{var et=Ee[$e](Qe),tt=et.value}catch(Ee){return void Be(Ee)}et.done?ze(tt):Promise.resolve(tt).then(Ue,We)}function _asyncToGenerator(Ee){return function(){var ze=this,Be=arguments;return new Promise((function(Ue,We){var $e=Ee.apply(ze,Be);function _next(Ee){asyncGeneratorStep($e,Ue,We,_next,_throw,"next",Ee)}function _throw(Ee){asyncGeneratorStep($e,Ue,We,_next,_throw,"throw",Ee)}_next(void 0)}))}}function TracesPanelvue_type_script_lang_ts_classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function TracesPanelvue_type_script_lang_ts_defineProperties(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ee,Ue.key,Ue)}}function TracesPanelvue_type_script_lang_ts_setPrototypeOf(Ee,ze){return(TracesPanelvue_type_script_lang_ts_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function TracesPanelvue_type_script_lang_ts_createSuper(Ee){var ze=function TracesPanelvue_type_script_lang_ts_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=TracesPanelvue_type_script_lang_ts_getPrototypeOf(Ee);if(ze){var We=TracesPanelvue_type_script_lang_ts_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return TracesPanelvue_type_script_lang_ts_possibleConstructorReturn(this,Be)}}function TracesPanelvue_type_script_lang_ts_possibleConstructorReturn(Ee,ze){return!ze||"object"!==TracesPanelvue_type_script_lang_ts_typeof(ze)&&"function"!=typeof ze?function TracesPanelvue_type_script_lang_ts_assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function TracesPanelvue_type_script_lang_ts_getPrototypeOf(Ee){return(TracesPanelvue_type_script_lang_ts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}ct()(Cn,{VBtn:ft.a,VCard:xt.a,VCardActions:kt.a,VCardText:kt.b,VCardTitle:kt.c,VDialog:yn,VSpacer:_n.a,VTextField:Mn.a});var Pn=function(Ee){!function TracesPanelvue_type_script_lang_ts_inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&TracesPanelvue_type_script_lang_ts_setPrototypeOf(Ee,ze)}(TracesPanel,Ee);var ze,Be,Ue,We=TracesPanelvue_type_script_lang_ts_createSuper(TracesPanel);function TracesPanel(){var Ee;return TracesPanelvue_type_script_lang_ts_classCallCheck(this,TracesPanel),(Ee=We.apply(this,arguments)).activeTraces=[],Ee.show=!0,Ee}return function TracesPanelvue_type_script_lang_ts_createClass(Ee,ze,Be){return ze&&TracesPanelvue_type_script_lang_ts_defineProperties(Ee.prototype,ze),Be&&TracesPanelvue_type_script_lang_ts_defineProperties(Ee,Be),Ee}(TracesPanel,[{key:"traces",get:function get(){return Object(tt.e)(this.$store)}},{key:"setAcitveTrace",value:(Ue=_asyncToGenerator(Qe.a.mark((function _callee(Ee){var ze,Be=this;return Qe.a.wrap((function _callee$(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return this.interval&&clearInterval(this.interval),ze="state"in Ee.parameters?Ee.parameters.state.length:0,Ue.next=4,Object(et.c)(this.$store,{trace:Ee,skip:ze,limit:1e6});case 4:return Ue.next=6,Object(et.f)(this.$store,Ee);case 6:this.interval=setInterval((function(){var ze="state"in Ee.parameters?Ee.parameters.state.length:0;Object(et.c)(Be.$store,{trace:Ee,skip:ze,limit:1e3}),Object(et.f)(Be.$store,Ee)}),1e3);case 7:case"end":return Ue.stop()}}),_callee,this)}))),function setAcitveTrace(Ee){return Ue.apply(this,arguments)})},{key:"mounted",value:(Be=_asyncToGenerator(Qe.a.mark((function _callee2(){return Qe.a.wrap((function _callee2$(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,Object(et.d)(this.$store);case 2:case"end":return Ee.stop()}}),_callee2,this)}))),function mounted(){return Be.apply(this,arguments)})},{key:"beforeDestroy",value:(ze=_asyncToGenerator(Qe.a.mark((function _callee3(){return Qe.a.wrap((function _callee3$(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:clearInterval(this.interval);case 1:case"end":return Ee.stop()}}),_callee3,this)}))),function beforeDestroy(){return ze.apply(this,arguments)})},{key:"fileName",value:function fileName(Ee){return Ee.substring(Ee.lastIndexOf("/")+1)}}]),TracesPanel}(We.b),In=Pn=Object(Ue.a)([Object(We.a)({components:{AddTraceButton:En}})],Pn),Bn=(Be("8adc"),Be("0789")),Hn=Be("9d26"),Kn=Be("a9ad"),Jn=Be("4e82"),Ma=Be("1c87"),Sa=Be("af2b");function _slicedToArray(Ee,ze){return function _arrayWithHoles(Ee){if(Array.isArray(Ee))return Ee}(Ee)||function _iterableToArrayLimit(Ee,ze){var Be=null==Ee?null:"undefined"!=typeof Symbol&&Ee[Symbol.iterator]||Ee["@@iterator"];if(null==Be)return;var Ue,We,$e=[],Qe=!0,et=!1;try{for(Be=Be.call(Ee);!(Qe=(Ue=Be.next()).done)&&($e.push(Ue.value),!ze||$e.length!==ze);Qe=!0);}catch(Ee){et=!0,We=Ee}finally{try{Qe||null==Be.return||Be.return()}finally{if(et)throw We}}return $e}(Ee,ze)||function VChip_unsupportedIterableToArray(Ee,ze){if(!Ee)return;if("string"==typeof Ee)return VChip_arrayLikeToArray(Ee,ze);var Be=Object.prototype.toString.call(Ee).slice(8,-1);"Object"===Be&&Ee.constructor&&(Be=Ee.constructor.name);if("Map"===Be||"Set"===Be)return Array.from(Ee);if("Arguments"===Be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return VChip_arrayLikeToArray(Ee,ze)}(Ee,ze)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VChip_arrayLikeToArray(Ee,ze){(null==ze||ze>Ee.length)&&(ze=Ee.length);for(var Be=0,Ue=new Array(ze);Be<ze;Be++)Ue[Be]=Ee[Be];return Ue}function VChip_ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function VChip_objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?VChip_ownKeys(Object(Be),!0).forEach((function(ze){VChip_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):VChip_ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function VChip_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var La=Object(ar.a)(Kn.a,Sa.a,Ma.a,Lt.a,Object(Jn.a)("chipGroup"),Object(rr.b)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function _default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function data(){return{proxyClass:"v-chip--active"}},computed:{classes:function classes(){return VChip_objectSpread(VChip_objectSpread(VChip_objectSpread(VChip_objectSpread({"v-chip":!0},Ma.a.options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function hasClose(){return Boolean(this.close)},isClickable:function isClickable(){return Boolean(Ma.a.options.computed.isClickable.call(this)||this.chipGroup)}},created:function created(){var Ee=this;[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]].forEach((function(ze){var Be=_slicedToArray(ze,2),Ue=Be[0],We=Be[1];Ee.$attrs.hasOwnProperty(Ue)&&Object(Qr.a)(Ue,We,Ee)}))},methods:{click:function click(Ee){this.$emit("click",Ee),this.chipGroup&&this.toggle()},genFilter:function genFilter(){var Ee=[];return this.isActive&&Ee.push(this.$createElement(Hn.a,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(Bn.b,Ee)},genClose:function genClose(){var Ee=this;return this.$createElement(Hn.a,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function click(ze){ze.stopPropagation(),ze.preventDefault(),Ee.$emit("click:close"),Ee.$emit("update:active",!1)}}},this.closeIcon)},genContent:function genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function render(Ee){var ze=[this.genContent()],Be=this.generateRouteLink(),Ue=Be.tag,We=Be.data;We.attrs=VChip_objectSpread(VChip_objectSpread({},We.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:We.attrs.tabindex}),We.directives.push({name:"show",value:this.active}),We=this.setBackgroundColor(this.color,We);var $e=this.textColor||this.outlined&&this.color;return Ee(Ue,this.setTextColor($e,We),ze)}}),Ia=(Be("8f5a"),Be("608c"),Be("604c")),Ra=Be("e4cd"),Na=Be("dc22"),Ua=Be("c3f0");function VSlideGroup_ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function VSlideGroup_objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?VSlideGroup_ownKeys(Object(Be),!0).forEach((function(ze){VSlideGroup_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):VSlideGroup_ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function VSlideGroup_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var qa=Object(ar.a)(Ia.a,Ra.a).extend({name:"base-slide-group",directives:{Resize:Na.a,Touch:Ua.a},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:function validator(Ee){return"boolean"==typeof Ee||["always","desktop","mobile"].includes(Ee)}}},data:function data(){return{internalItemsLength:0,isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}},computed:{canTouch:function canTouch(){return"undefined"!=typeof window},__cachedNext:function __cachedNext(){return this.genTransition("next")},__cachedPrev:function __cachedPrev(){return this.genTransition("prev")},classes:function classes(){return VSlideGroup_objectSpread(VSlideGroup_objectSpread({},Ia.a.options.computed.classes.call(this)),{},{"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing})},hasAffixes:function hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext:function hasNext(){if(!this.hasAffixes)return!1;var Ee=this.widths,ze=Ee.content,Be=Ee.wrapper;return ze>Math.abs(this.scrollOffset)+Be},hasPrev:function hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset:function scrollOffset(Ee){this.$refs.content.style.transform="translateX(".concat(-Ee,"px)")}},beforeUpdate:function beforeUpdate(){this.internalItemsLength=(this.$children||[]).length},updated:function updated(){this.internalItemsLength!==(this.$children||[]).length&&this.setWidths()},methods:{genNext:function genNext(){var Ee=this,ze=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:function click(){return Ee.onAffixClick("next")}},key:"next"},[ze])},genContent:function genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content"},this.$slots.default)},genData:function genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon:function genIcon(Ee){var ze=Ee;this.$vuetify.rtl&&"prev"===Ee?ze="next":this.$vuetify.rtl&&"next"===Ee&&(ze="prev");var Be="".concat(Ee[0].toUpperCase()).concat(Ee.slice(1)),Ue=this["has".concat(Be)];return this.showArrows||Ue?this.$createElement(Hn.a,{props:{disabled:!Ue}},this["".concat(ze,"Icon")]):null},genPrev:function genPrev(){var Ee=this,ze=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:function click(){return Ee.onAffixClick("prev")}},key:"prev"},[ze])},genTransition:function genTransition(Ee){return this.$createElement(Bn.d,[this.genIcon(Ee)])},genWrapper:function genWrapper(){var Ee=this;return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:function start(ze){return Ee.overflowCheck(ze,Ee.onTouchStart)},move:function move(ze){return Ee.overflowCheck(ze,Ee.onTouchMove)},end:function end(ze){return Ee.overflowCheck(ze,Ee.onTouchEnd)}}}],ref:"wrapper"},[this.genContent()])},calculateNewOffset:function calculateNewOffset(Ee,ze,Be,Ue){var We=Be?-1:1,$e=We*Ue+("prev"===Ee?-1:1)*ze.wrapper;return We*Math.max(Math.min($e,ze.content-ze.wrapper),0)},onAffixClick:function onAffixClick(Ee){this.$emit("click:".concat(Ee)),this.scrollTo(Ee)},onResize:function onResize(){this._isDestroyed||this.setWidths()},onTouchStart:function onTouchStart(Ee){var ze=this.$refs.content;this.startX=this.scrollOffset+Ee.touchstartX,ze.style.setProperty("transition","none"),ze.style.setProperty("willChange","transform")},onTouchMove:function onTouchMove(Ee){if(this.canTouch){if(!this.isSwiping){var ze=Ee.touchmoveX-Ee.touchstartX,Be=Ee.touchmoveY-Ee.touchstartY;this.isSwipingHorizontal=Math.abs(ze)>Math.abs(Be),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-Ee.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd:function onTouchEnd(){if(this.canTouch){var Ee=this.$refs,ze=Ee.content,Be=Ee.wrapper,Ue=ze.clientWidth-Be.clientWidth;ze.style.setProperty("transition",null),ze.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-Ue&&(this.scrollOffset=-Ue):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=Ue&&(this.scrollOffset=Ue),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")}},overflowCheck:function overflowCheck(Ee,ze){Ee.stopPropagation(),this.isOverflowing&&ze(Ee)},scrollIntoView:function scrollIntoView(){if(!this.selectedItem&&this.items.length){var Ee=this.items[this.items.length-1].$el.getBoundingClientRect(),ze=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&ze.right<Ee.right||!this.$vuetify.rtl&&ze.left>Ee.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=this.calculateCenteredOffset(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=this.calculateUpdatedOffset(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},calculateUpdatedOffset:function calculateUpdatedOffset(Ee,ze,Be,Ue){var We=Ee.clientWidth,$e=Be?ze.content-Ee.offsetLeft-We:Ee.offsetLeft;Be&&(Ue=-Ue);var Qe=ze.wrapper+Ue,et=We+$e,tt=.4*We;return $e<=Ue?Ue=Math.max($e-tt,0):Qe<=et&&(Ue=Math.min(Ue-(Qe-et-tt),ze.content-ze.wrapper)),Be?-Ue:Ue},calculateCenteredOffset:function calculateCenteredOffset(Ee,ze,Be){var Ue=Ee.offsetLeft,We=Ee.clientWidth;if(Be){var $e=ze.content-Ue-We/2-ze.wrapper/2;return-Math.min(ze.content-ze.wrapper,Math.max(0,$e))}var Qe=Ue+We/2-ze.wrapper/2;return Math.min(ze.content-ze.wrapper,Math.max(0,Qe))},scrollTo:function scrollTo(Ee){this.scrollOffset=this.calculateNewOffset(Ee,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths:function setWidths(){var Ee=this;window.requestAnimationFrame((function(){var ze=Ee.$refs,Be=ze.content,Ue=ze.wrapper;Ee.widths={content:Be?Be.clientWidth:0,wrapper:Ue?Ue.clientWidth:0},Ee.isOverflowing=Ee.widths.wrapper+1<Ee.widths.content,Ee.scrollIntoView()}))}},render:function render(Ee){return Ee("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});qa.extend({name:"v-slide-group",provide:function provide(){return{slideGroup:this}}});function VChipGroup_ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function VChipGroup_objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?VChipGroup_ownKeys(Object(Be),!0).forEach((function(ze){VChipGroup_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):VChipGroup_ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function VChipGroup_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var Ka=Object(ar.a)(qa,Kn.a).extend({name:"v-chip-group",provide:function provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function classes(){return VChipGroup_objectSpread(VChipGroup_objectSpread({},qa.options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function column(Ee){Ee&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function genData(){return this.setTextColor(this.color,VChipGroup_objectSpread({},qa.options.methods.genData.call(this)))}}}),ei=Be("132d"),ti=Be("8860"),ri=Be("da13"),ni=Be("5d23"),ai=Be("1baa"),ii=Be("71d9"),oi=Be("2a7f"),si=(Be("9734"),Be("fe6c"));function menuable_ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function menuable_objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?menuable_ownKeys(Object(Be),!0).forEach((function(ze){menuable_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):menuable_ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function menuable_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var li=Object(ar.a)(dn,si.a,on,cn).extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function data(){return{activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function computedLeft(){var Ee=this.dimensions.activator,ze=this.dimensions.content,Be=(!1!==this.attach?Ee.offsetLeft:Ee.left)||0,Ue=Math.max(Ee.width,ze.width),We=0;if(We+=this.left?Be-(Ue-Ee.width):Be,this.offsetX){var $e=isNaN(Number(this.maxWidth))?Ee.width:Math.min(Ee.width,Number(this.maxWidth));We+=this.left?-$e:Ee.width}return this.nudgeLeft&&(We-=parseInt(this.nudgeLeft)),this.nudgeRight&&(We+=parseInt(this.nudgeRight)),We},computedTop:function computedTop(){var Ee=this.dimensions.activator,ze=this.dimensions.content,Be=0;return this.top&&(Be+=Ee.height-ze.height),!1!==this.attach?Be+=Ee.offsetTop:Be+=Ee.top+this.pageYOffset,this.offsetY&&(Be+=this.top?-Ee.height:Ee.height),this.nudgeTop&&(Be-=parseInt(this.nudgeTop)),this.nudgeBottom&&(Be+=parseInt(this.nudgeBottom)),Be},hasActivator:function hasActivator(){return!!(this.$slots.activator||this.$scopedSlots.activator||this.activator||this.inputActivator)},absoluteYOffset:function absoluteYOffset(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled:function disabled(Ee){Ee&&this.callDeactivate()},isActive:function isActive(Ee){this.disabled||(Ee?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function beforeMount(){this.hasWindow="undefined"!=typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy:function beforeDestroy(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition:function absolutePosition(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function activate(){},calcLeft:function calcLeft(Ee){return Object(Lr.f)(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,Ee))},calcTop:function calcTop(){return Object(Lr.f)(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow:function calcXOverflow(Ee,ze){var Be=Ee+ze-this.pageWidth+12;return(Ee=(!this.left||this.right)&&Be>0?Math.max(Ee-Be,0):Math.max(Ee,12))+this.getOffsetLeft()},calcYOverflow:function calcYOverflow(Ee){var ze=this.getInnerHeight(),Be=this.absoluteYOffset+ze,Ue=this.dimensions.activator,We=this.dimensions.content.height,$e=Be<Ee+We;return $e&&this.offsetOverflow&&Ue.top>We?Ee=this.pageYOffset+(Ue.top-We):$e&&!this.allowOverflow?Ee=Be-We-12:Ee<this.absoluteYOffset&&!this.allowOverflow&&(Ee=this.absoluteYOffset+12),Ee<12?12:Ee},callActivate:function callActivate(){this.hasWindow&&this.activate()},callDeactivate:function callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function checkActivatorFixed(){if(!1===this.attach){for(var Ee=this.getActivator();Ee;){if("fixed"===window.getComputedStyle(Ee).position)return void(this.activatorFixed=!0);Ee=Ee.offsetParent}this.activatorFixed=!1}},deactivate:function deactivate(){},genActivatorListeners:function genActivatorListeners(){var Ee=this,ze=on.options.methods.genActivatorListeners.call(this),Be=ze.click;return ze.click=function(ze){Ee.openOnClick&&Be&&Be(ze),Ee.absoluteX=ze.clientX,Ee.absoluteY=ze.clientY},ze},getInnerHeight:function getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function getRoundedBoundedClientRect(Ee){var ze=Ee.getBoundingClientRect();return{top:Math.round(ze.top),left:Math.round(ze.left),bottom:Math.round(ze.bottom),right:Math.round(ze.right),width:Math.round(ze.width),height:Math.round(ze.height)}},measure:function measure(Ee){if(!Ee||!this.hasWindow)return null;var ze=this.getRoundedBoundedClientRect(Ee);if(!1!==this.attach){var Be=window.getComputedStyle(Ee);ze.left=parseInt(Be.marginLeft),ze.top=parseInt(Be.marginTop)}return ze},sneakPeek:function sneakPeek(Ee){var ze=this;requestAnimationFrame((function(){var Be=ze.$refs.content;Be&&"none"===Be.style.display?(Be.style.display="inline-block",Ee(),Be.style.display="none"):Ee()}))},startTransition:function startTransition(){var Ee=this;return new Promise((function(ze){return requestAnimationFrame((function(){Ee.isContentActive=Ee.hasJustFocused=Ee.isActive,ze()}))}))},updateDimensions:function updateDimensions(){var Ee=this;this.hasWindow="undefined"!=typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var ze={activator:menuable_objectSpread({},this.dimensions.activator),content:menuable_objectSpread({},this.dimensions.content)};if(!this.hasActivator||this.absolute)ze.activator=this.absolutePosition();else{var Be=this.getActivator();if(!Be)return;ze.activator=this.measure(Be),ze.activator.offsetLeft=Be.offsetLeft,!1!==this.attach?ze.activator.offsetTop=Be.offsetTop:ze.activator.offsetTop=0}this.sneakPeek((function(){if(Ee.$refs.content){if(Ee.$refs.content.offsetParent){var Be=Ee.getRoundedBoundedClientRect(Ee.$refs.content.offsetParent);Ee.relativeYOffset=window.pageYOffset+Be.top,ze.activator.top-=Ee.relativeYOffset,ze.activator.left-=window.pageXOffset+Be.left}ze.content=Ee.measure(Ee.$refs.content)}Ee.dimensions=ze}))}}});function VTooltip_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var ci=Object(ar.a)(Kn.a,tr,sn.a,li,rr.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function data(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function calculatedLeft(){var Ee=this.dimensions,ze=Ee.activator,Be=Ee.content,Ue=!(this.bottom||this.left||this.top||this.right),We=!1!==this.attach?ze.offsetLeft:ze.left,$e=0;return this.top||this.bottom||Ue?$e=We+ze.width/2-Be.width/2:(this.left||this.right)&&($e=We+(this.right?ze.width:-Be.width)+(this.right?10:-10)),this.nudgeLeft&&($e-=parseInt(this.nudgeLeft)),this.nudgeRight&&($e+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow($e,this.dimensions.content.width),"px")},calculatedTop:function calculatedTop(){var Ee=this.dimensions,ze=Ee.activator,Be=Ee.content,Ue=!1!==this.attach?ze.offsetTop:ze.top,We=0;return this.top||this.bottom?We=Ue+(this.bottom?ze.height:-Be.height)+(this.bottom?10:-10):(this.left||this.right)&&(We=Ue+ze.height/2-Be.height/2),this.nudgeTop&&(We-=parseInt(this.nudgeTop)),this.nudgeBottom&&(We+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(We+this.pageYOffset),"px")},classes:function classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function offsetY(){return this.top||this.bottom},offsetX:function offsetX(){return this.left||this.right},styles:function styles(){return{left:this.calculatedLeft,maxWidth:Object(Lr.f)(this.maxWidth),minWidth:Object(Lr.f)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function beforeMount(){var Ee=this;this.$nextTick((function(){Ee.value&&Ee.callActivate()}))},mounted:function mounted(){"v-slot"===Object(Lr.m)(this,"activator",!0)&&Object(Qr.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function deactivate(){this.runDelay("close")},genActivatorListeners:function genActivatorListeners(){var Ee=this,ze=on.options.methods.genActivatorListeners.call(this);return ze.focus=function(ze){Ee.getActivator(ze),Ee.runDelay("open")},ze.blur=function(ze){Ee.getActivator(ze),Ee.runDelay("close")},ze.keydown=function(ze){ze.keyCode===Lr.p.esc&&(Ee.getActivator(ze),Ee.runDelay("close"))},ze},genActivatorAttributes:function genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function genTransition(){var Ee=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[Ee]):Ee},genContent:function genContent(){var Ee;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(Ee={},VTooltip_defineProperty(Ee,this.contentClass,!0),VTooltip_defineProperty(Ee,"menuable__content__active",this.isActive),VTooltip_defineProperty(Ee,"v-tooltip__content--fixed",this.activatorFixed),Ee),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function render(Ee){var ze=this;return Ee(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[ze.genTransition()]})),this.genActivator()])}}),hi=Object(at.a)(In,(function(){var Ee=this,ze=Ee.$createElement,Be=Ee._self._c||ze;return Be("v-card",{staticClass:"elevation-12 ma-2",attrs:{outlined:""}},[Be("v-toolbar",{attrs:{dark:"",color:"primary"}},[Be("v-toolbar-title",[Ee._v(" Traces ")]),Be("v-spacer"),Be("v-btn",{attrs:{icon:""},on:{click:function(ze){Ee.show=!Ee.show}}},[Be("v-icon",[Ee._v(Ee._s(Ee.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),Be("v-expand-transition",[Be("div",{directives:[{name:"show",rawName:"v-show",value:Ee.show,expression:"show"}]},[Be("v-card-text",{staticStyle:{"max-height":"300px",overflow:"auto"}},[Ee.traces.length?Be("v-list",{attrs:{dense:""}},[Be("v-list-item-group",{attrs:{color:"primary"}},Ee._l(Ee.traces,(function(ze,Ue){return Be("v-list-item",{key:Ue,on:{click:function(Be){return Ee.setAcitveTrace(ze)}}},[[Be("v-list-item-content",[Be("v-list-item-title",{staticStyle:{"white-space":"normal"}},[Ee._v(" "+Ee._s(Ee.fileName(ze.path))+" ")]),Be("v-list-item-content",[Be("v-chip-group",{attrs:{column:""}},[Object.keys(ze.parameters).length>0?Be("v-tooltip",{attrs:{color:"black",bottom:""},scopedSlots:Ee._u([{key:"activator",fn:function(Ue){var We=Ue.on;return[Be("v-chip",Ee._g({attrs:{color:"cyan","text-color":"white",small:""}},We),[Ee._v(" "+Ee._s(ze.parameters.state[ze.parameters.state.length-1].state)+" ")])]}}],null,!0)},[Be("span",[Ee._v("Length")])]):Ee._e(),Object.keys(ze.parameters).length>0?Be("v-tooltip",{attrs:{color:"black",bottom:""},scopedSlots:Ee._u([{key:"activator",fn:function(Ue){var We=Ue.on;return[Be("v-chip",Ee._g({attrs:{color:"green","text-color":"white",small:""}},We),[Ee._v(" "+Ee._s(ze.parameters.state.length)+" ")])]}}],null,!0)},[Be("span",[Ee._v("Samples")])]):Ee._e()],1)],1)],1)]],2)})),1)],1):Be("div",[Ee._v("No traces")])],1)],1)]),Be("v-card-actions",[Be("v-spacer"),Be("AddTraceButton")],1)],1)}),[],!1,null,null,null),Ci=hi.exports;ct()(hi,{VBtn:ft.a,VCard:xt.a,VCardActions:kt.a,VCardText:kt.b,VChip:La,VChipGroup:Ka,VExpandTransition:Bn.a,VIcon:ei.a,VList:ti.a,VListItem:ri.a,VListItemContent:ni.a,VListItemGroup:ai.a,VListItemTitle:ni.b,VSpacer:_n.a,VToolbar:ii.a,VToolbarTitle:oi.a,VTooltip:ci});function ParamsPanelvue_type_script_lang_ts_typeof(Ee){return(ParamsPanelvue_type_script_lang_ts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function ParamsPanelvue_type_script_lang_ts_asyncGeneratorStep(Ee,ze,Be,Ue,We,$e,Qe){try{var et=Ee[$e](Qe),tt=et.value}catch(Ee){return void Be(Ee)}et.done?ze(tt):Promise.resolve(tt).then(Ue,We)}function ParamsPanelvue_type_script_lang_ts_classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function ParamsPanelvue_type_script_lang_ts_defineProperties(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ee,Ue.key,Ue)}}function ParamsPanelvue_type_script_lang_ts_setPrototypeOf(Ee,ze){return(ParamsPanelvue_type_script_lang_ts_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function ParamsPanelvue_type_script_lang_ts_createSuper(Ee){var ze=function ParamsPanelvue_type_script_lang_ts_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=ParamsPanelvue_type_script_lang_ts_getPrototypeOf(Ee);if(ze){var We=ParamsPanelvue_type_script_lang_ts_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return ParamsPanelvue_type_script_lang_ts_possibleConstructorReturn(this,Be)}}function ParamsPanelvue_type_script_lang_ts_possibleConstructorReturn(Ee,ze){return!ze||"object"!==ParamsPanelvue_type_script_lang_ts_typeof(ze)&&"function"!=typeof ze?function ParamsPanelvue_type_script_lang_ts_assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function ParamsPanelvue_type_script_lang_ts_getPrototypeOf(Ee){return(ParamsPanelvue_type_script_lang_ts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}var Pi=function(Ee){!function ParamsPanelvue_type_script_lang_ts_inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&ParamsPanelvue_type_script_lang_ts_setPrototypeOf(Ee,ze)}(ParamsPanel,Ee);var ze,Be=ParamsPanelvue_type_script_lang_ts_createSuper(ParamsPanel);function ParamsPanel(){return ParamsPanelvue_type_script_lang_ts_classCallCheck(this,ParamsPanel),Be.apply(this,arguments)}return function ParamsPanelvue_type_script_lang_ts_createClass(Ee,ze,Be){return ze&&ParamsPanelvue_type_script_lang_ts_defineProperties(Ee.prototype,ze),Be&&ParamsPanelvue_type_script_lang_ts_defineProperties(Ee,Be),Ee}(ParamsPanel,[{key:"activeTrace",get:function get(){return Object(tt.c)(this.$store)}},{key:"parameters",get:function get(){return Object(tt.d)(this.$store)}},{key:"setActiveParam",value:(ze=function ParamsPanelvue_type_script_lang_ts_asyncToGenerator(Ee){return function(){var ze=this,Be=arguments;return new Promise((function(Ue,We){var $e=Ee.apply(ze,Be);function _next(Ee){ParamsPanelvue_type_script_lang_ts_asyncGeneratorStep($e,Ue,We,_next,_throw,"next",Ee)}function _throw(Ee){ParamsPanelvue_type_script_lang_ts_asyncGeneratorStep($e,Ue,We,_next,_throw,"throw",Ee)}_next(void 0)}))}}(Qe.a.mark((function _callee(Ee){return Qe.a.wrap((function _callee$(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,Object(et.e)(this.$store,Ee);case 2:case"end":return ze.stop()}}),_callee,this)}))),function setActiveParam(Ee){return ze.apply(this,arguments)})},{key:"onChildChanged",value:function onChildChanged(){}}]),ParamsPanel}(We.b);Object(Ue.a)([Object(We.c)("activeParams",{deep:!0})],Pi.prototype,"onChildChanged",null);var zi=Pi=Object(Ue.a)([We.a],Pi),ji=Object(at.a)(zi,(function(){var Ee=this,ze=Ee.$createElement,Be=Ee._self._c||ze;return Ee.activeTrace?Be("v-card",{staticClass:"elevation-12 ma-2 mt-2",staticStyle:{overflow:"auto"},attrs:{outlined:""}},[Be("v-toolbar",{attrs:{dark:"",color:"primary"}},[Be("v-toolbar-title",[Ee._v(" Parameters ")]),Be("v-spacer")],1),Be("v-expand-transition",[Be("div",[Be("v-card-text",{staticStyle:{"max-height":"350px",overflow:"auto"}},[Be("v-list",{attrs:{dense:""}},[Be("v-list-item-group",{attrs:{color:"primary"}},Ee._l(Ee.parameters,(function(ze,Ue){return Be("v-list-item",{key:Ue,on:{click:function(Be){return Ee.setActiveParam(ze)}}},[[Be("v-list-item-content",[Be("v-list-item-title",[Ee._v(Ee._s(ze))])],1)]],2)})),1)],1)],1)],1)])],1):Ee._e()}),[],!1,null,null,null),Xi=ji.exports;ct()(ji,{VCard:xt.a,VCardText:kt.b,VExpandTransition:Bn.a,VList:ti.a,VListItem:ri.a,VListItemContent:ni.a,VListItemGroup:ai.a,VListItemTitle:ni.b,VSpacer:_n.a,VToolbar:ii.a,VToolbarTitle:oi.a});var Co=Be("15cd");function Histogramvue_type_script_lang_ts_typeof(Ee){return(Histogramvue_type_script_lang_ts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function Histogramvue_type_script_lang_ts_classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function Histogramvue_type_script_lang_ts_defineProperties(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ee,Ue.key,Ue)}}function Histogramvue_type_script_lang_ts_setPrototypeOf(Ee,ze){return(Histogramvue_type_script_lang_ts_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function Histogramvue_type_script_lang_ts_createSuper(Ee){var ze=function Histogramvue_type_script_lang_ts_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=Histogramvue_type_script_lang_ts_getPrototypeOf(Ee);if(ze){var We=Histogramvue_type_script_lang_ts_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return Histogramvue_type_script_lang_ts_possibleConstructorReturn(this,Be)}}function Histogramvue_type_script_lang_ts_possibleConstructorReturn(Ee,ze){return!ze||"object"!==Histogramvue_type_script_lang_ts_typeof(ze)&&"function"!=typeof ze?function Histogramvue_type_script_lang_ts_assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function Histogramvue_type_script_lang_ts_getPrototypeOf(Ee){return(Histogramvue_type_script_lang_ts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}var zo=function(Ee){!function Histogramvue_type_script_lang_ts_inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&Histogramvue_type_script_lang_ts_setPrototypeOf(Ee,ze)}(Histogram,Ee);var ze=Histogramvue_type_script_lang_ts_createSuper(Histogram);function Histogram(){return Histogramvue_type_script_lang_ts_classCallCheck(this,Histogram),ze.apply(this,arguments)}return function Histogramvue_type_script_lang_ts_createClass(Ee,ze,Be){return ze&&Histogramvue_type_script_lang_ts_defineProperties(Ee.prototype,ze),Be&&Histogramvue_type_script_lang_ts_defineProperties(Ee,Be),Ee}(Histogram,[{key:"activeTrace",get:function get(){return Object(tt.c)(this.$store)}},{key:"layout",get:function get(){return{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:"rgba(0, 0, 0, 0)",margin:{l:80,r:80,b:30,t:20,pad:0},height:220}}},{key:"HistogramData",get:function get(){var Ee=Object(tt.c)(this.$store),ze=Object(tt.b)(this.$store);return Ee&&ze?[{x:Ee.parameters[ze].map((function(Ee){return Ee.value})),type:"histogram"}]:{}}}]),Histogram}(We.b),Bo=zo=Object(Ue.a)([Object(We.a)({components:{Plotly:Co.Plotly}})],zo),Vo=Object(at.a)(Bo,(function(){var Ee=this.$createElement,ze=this._self._c||Ee;return this.activeTrace?ze("Plotly",{staticClass:"mt-0",attrs:{data:this.HistogramData,layout:this.layout,"display-mode-bar":!1}}):this._e()}),[],!1,null,null,null).exports;function Tracevue_type_script_lang_ts_typeof(Ee){return(Tracevue_type_script_lang_ts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function Tracevue_type_script_lang_ts_classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function Tracevue_type_script_lang_ts_defineProperties(Ee,ze){for(var Be=0;Be<ze.length;Be++){var Ue=ze[Be];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ee,Ue.key,Ue)}}function Tracevue_type_script_lang_ts_setPrototypeOf(Ee,ze){return(Tracevue_type_script_lang_ts_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function Tracevue_type_script_lang_ts_createSuper(Ee){var ze=function Tracevue_type_script_lang_ts_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=Tracevue_type_script_lang_ts_getPrototypeOf(Ee);if(ze){var We=Tracevue_type_script_lang_ts_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return Tracevue_type_script_lang_ts_possibleConstructorReturn(this,Be)}}function Tracevue_type_script_lang_ts_possibleConstructorReturn(Ee,ze){return!ze||"object"!==Tracevue_type_script_lang_ts_typeof(ze)&&"function"!=typeof ze?function Tracevue_type_script_lang_ts_assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function Tracevue_type_script_lang_ts_getPrototypeOf(Ee){return(Tracevue_type_script_lang_ts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}var Uo=function(Ee){!function Tracevue_type_script_lang_ts_inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&Tracevue_type_script_lang_ts_setPrototypeOf(Ee,ze)}(Histogram,Ee);var ze=Tracevue_type_script_lang_ts_createSuper(Histogram);function Histogram(){return Tracevue_type_script_lang_ts_classCallCheck(this,Histogram),ze.apply(this,arguments)}return function Tracevue_type_script_lang_ts_createClass(Ee,ze,Be){return ze&&Tracevue_type_script_lang_ts_defineProperties(Ee.prototype,ze),Be&&Tracevue_type_script_lang_ts_defineProperties(Ee,Be),Ee}(Histogram,[{key:"layout",get:function get(){return{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:"rgba(0, 0, 0, 0)",margin:{l:80,r:80,b:80,t:20,pad:0},height:400}}},{key:"traceData",get:function get(){var Ee=Object(tt.c)(this.$store),ze=Object(tt.b)(this.$store);return Ee&&ze?[{x:Ee.parameters[ze].map((function(Ee){return Ee.state})),y:Ee.parameters[ze].map((function(Ee){return Ee.value})),type:"scatter"}]:{}}},{key:"activeTrace",get:function get(){return Object(tt.c)(this.$store)}}]),Histogram}(We.b),Ho=Uo=Object(Ue.a)([Object(We.a)({components:{Plotly:Co.Plotly}})],Uo),Wo=Object(at.a)(Ho,(function(){var Ee=this.$createElement,ze=this._self._c||Ee;return ze("div",[this.activeTrace?ze("Plotly",{attrs:{data:this.traceData,layout:this.layout,"display-mode-bar":!1}}):this._e()],1)}),[],!1,null,null,null).exports;function Dashboardvue_type_script_lang_ts_typeof(Ee){return(Dashboardvue_type_script_lang_ts_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ee){return typeof Ee}:function _typeof(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(Ee)}function Dashboardvue_type_script_lang_ts_classCallCheck(Ee,ze){if(!(Ee instanceof ze))throw new TypeError("Cannot call a class as a function")}function Dashboardvue_type_script_lang_ts_setPrototypeOf(Ee,ze){return(Dashboardvue_type_script_lang_ts_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(Ee,ze){return Ee.__proto__=ze,Ee})(Ee,ze)}function Dashboardvue_type_script_lang_ts_createSuper(Ee){var ze=function Dashboardvue_type_script_lang_ts_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ee){return!1}}();return function _createSuperInternal(){var Be,Ue=Dashboardvue_type_script_lang_ts_getPrototypeOf(Ee);if(ze){var We=Dashboardvue_type_script_lang_ts_getPrototypeOf(this).constructor;Be=Reflect.construct(Ue,arguments,We)}else Be=Ue.apply(this,arguments);return Dashboardvue_type_script_lang_ts_possibleConstructorReturn(this,Be)}}function Dashboardvue_type_script_lang_ts_possibleConstructorReturn(Ee,ze){return!ze||"object"!==Dashboardvue_type_script_lang_ts_typeof(ze)&&"function"!=typeof ze?function Dashboardvue_type_script_lang_ts_assertThisInitialized(Ee){if(void 0===Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}(Ee):ze}function Dashboardvue_type_script_lang_ts_getPrototypeOf(Ee){return(Dashboardvue_type_script_lang_ts_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Ee)}var Xo=function(Ee){!function Dashboardvue_type_script_lang_ts_inherits(Ee,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),ze&&Dashboardvue_type_script_lang_ts_setPrototypeOf(Ee,ze)}(Dashboard,Ee);var ze=Dashboardvue_type_script_lang_ts_createSuper(Dashboard);function Dashboard(){return Dashboardvue_type_script_lang_ts_classCallCheck(this,Dashboard),ze.apply(this,arguments)}return Dashboard}(We.b),$o=Xo=Object(Ue.a)([Object(We.a)({components:{TracesPanel:Ci,ParamsPanel:Xi,Plotly:Co.Plotly,Histogram:Vo,Trace:Wo}})],Xo),es=(Be("4b85"),Be("d9f7"));function VCol_ownKeys(Ee,ze){var Be=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ee);ze&&(Ue=Ue.filter((function(ze){return Object.getOwnPropertyDescriptor(Ee,ze).enumerable}))),Be.push.apply(Be,Ue)}return Be}function VCol_objectSpread(Ee){for(var ze=1;ze<arguments.length;ze++){var Be=null!=arguments[ze]?arguments[ze]:{};ze%2?VCol_ownKeys(Object(Be),!0).forEach((function(ze){VCol_defineProperty(Ee,ze,Be[ze])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Be)):VCol_ownKeys(Object(Be)).forEach((function(ze){Object.defineProperty(Ee,ze,Object.getOwnPropertyDescriptor(Be,ze))}))}return Ee}function VCol_defineProperty(Ee,ze,Be){return ze in Ee?Object.defineProperty(Ee,ze,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ee[ze]=Be,Ee}var ts=["sm","md","lg","xl"],rs=ts.reduce((function(Ee,ze){return Ee[ze]={type:[Boolean,String,Number],default:!1},Ee}),{}),ns=ts.reduce((function(Ee,ze){return Ee["offset"+Object(Lr.u)(ze)]={type:[String,Number],default:null},Ee}),{}),as=ts.reduce((function(Ee,ze){return Ee["order"+Object(Lr.u)(ze)]={type:[String,Number],default:null},Ee}),{}),os={col:Object.keys(rs),offset:Object.keys(ns),order:Object.keys(as)};function breakpointClass(Ee,ze,Be){var Ue=Ee;if(null!=Be&&!1!==Be){if(ze){var We=ze.replace(Ee,"");Ue+="-".concat(We)}return"col"!==Ee||""!==Be&&!0!==Be?(Ue+="-".concat(Be)).toLowerCase():Ue.toLowerCase()}}var ss=new Map,ls=er.default.extend({name:"v-col",functional:!0,props:VCol_objectSpread(VCol_objectSpread(VCol_objectSpread(VCol_objectSpread({cols:{type:[Boolean,String,Number],default:!1}},rs),{},{offset:{type:[String,Number],default:null}},ns),{},{order:{type:[String,Number],default:null}},as),{},{alignSelf:{type:String,default:null,validator:function validator(Ee){return["auto","start","end","center","baseline","stretch"].includes(Ee)}},tag:{type:String,default:"div"}}),render:function render(Ee,ze){var Be=ze.props,Ue=ze.data,We=ze.children,$e=(ze.parent,"");for(var Qe in Be)$e+=String(Be[Qe]);var et=ss.get($e);return et||function(){var Ee,ze;for(ze in et=[],os)os[ze].forEach((function(Ee){var Ue=Be[Ee],We=breakpointClass(ze,Ee,Ue);We&&et.push(We)}));var Ue=et.some((function(Ee){return Ee.startsWith("col-")}));et.push((VCol_defineProperty(Ee={col:!Ue||!Be.cols},"col-".concat(Be.cols),Be.cols),VCol_defineProperty(Ee,"offset-".concat(Be.offset),Be.offset),VCol_defineProperty(Ee,"order-".concat(Be.order),Be.order),VCol_defineProperty(Ee,"align-self-".concat(Be.alignSelf),Be.alignSelf),Ee)),ss.set($e,et)}(),Ee(Be.tag,Object(es.a)(Ue,{class:et}),We)}}),cs=Be("a722"),us=Be("0fd9"),fs=Object(at.a)($o,(function(){var Ee=this.$createElement,ze=this._self._c||Ee;return ze("v-layout",{attrs:{"fill-height":""}},[ze("v-row",{attrs:{"no-gutters":""}},[ze("v-col",{attrs:{cols:"3"}},[ze("v-row",{attrs:{"no-gutters":""}},[ze("v-col",[ze("TracesPanel")],1)],1),ze("v-row",{attrs:{"no-gutters":""}},[ze("v-col",[ze("ParamsPanel")],1)],1)],1),ze("v-col",{attrs:{cols:"9"}},[ze("div",{staticClass:"ma-4"},[ze("Trace"),ze("Histogram")],1)])],1)],1)}),[],!1,null,null,null);ze.default=fs.exports;ct()(fs,{VCol:ls,VLayout:cs.a,VRow:us.a})}}]);
//# sourceMappingURL=main-dashboard.b530c104.js.map